;/*FB_PKG_DELIM*/

__d("ACSCipherSuiteModule",[],(function(a,b,c,d,e,f){"use strict";b={hash:"SHA-512",name:"HMAC"};c={curveName:"RISTRETTO",macAlgorithm:b,value:1};var g=new Map([[c.value,c]]);function a(a){return g.has(a)?g.get(a):null}f.VOPRF_RISTRETTO_HMACSHA512=c;f.getACSCipherSuiteByValue=a}),66);
__d("ACSTokenHmacUtil",["XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h(a,b).then(function(a){return j(a,c)})}function h(a,b){return d("XPlatReactCrypto").subtleImportKey("raw",b,a,!1,["sign"]).then(function(b){return{algo:a,key:b}})}function i(a){return typeof a.hash==="string"?a.hash:a.hash.name}function j(a,b){var c=a.algo;a=a.key;c={hash:i(c),name:"HMAC"};return d("XPlatReactCrypto").subtleSign(c,a,b).then(function(a){return new Uint8Array(a)})}g.hmac=a}),98);
__d("LSPlatformClientDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("LSPlatformClient").__setRef("LSPlatformClientDeferred");b=a;g["default"]=b}),98);
__d("LSPlatformClientSingleton",[],(function(a,b,c,d,e,f){"use strict";var g={contents:void 0};function a(a){g.contents=a}f.saveInstance=a}),66);
__d("maybeSetupMAWMainThreadLogger",["MAWMICSafe","MessengerLogHistory","WALoggerDeferred","cr:6999","cr:7350","isArmadillo","isRegisterArmadilloOnIgEnabled"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Beginning hardcoded init sync"]);h=function(){return a};return a}var i=d("MessengerLogHistory").getInstance("client_init"),j=(a=b("cr:6999"))!=null?a:b("cr:7350");e=function(){j!=null&&(c("isArmadillo")()||c("isRegisterArmadilloOnIgEnabled")())&&(i.debug("Starting MAW main thread logger setup..."),j.setupMainWaLogger(),i.debug("Starting MAW main thread logger setup success"),d("MAWMICSafe").markEvent("ls_init_start"),void d("WALoggerDeferred").LOG(h()))};g.maybeSetupMAWMainThreadLogger=e}),98);
__d("LSPlatformClientInstances",["FBLogger","LSPlatformClientSingleton","LSPlatformLsInitLog","LSSuspense","MAWMICSafe","MessengerLogHistory","PromiseAnnotate","asyncToGeneratorRuntime","getErrorSafe","maybeSetupMAWMainThreadLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("MessengerLogHistory").getInstance("client_init"),k=(i||(i=c("LSSuspense"))).makeCollection(),l=!1;function a(a,e,f){l||(l=!0,d("maybeSetupMAWMainThreadLogger").maybeSetupMAWMainThreadLogger());return(i||(i=c("LSSuspense"))).getFromCollection(k,a,function(){return(h||(h=d("PromiseAnnotate"))).setDisplayName(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("LSPlatformLsInitLog").addAnnotations({bool:{fromReact:f==null?void 0:f.fromReact}});j.debug("Messenger loading UI suspending");try{j.debug("Loading LSPlatformClient factory...");var b=(yield e());j.debug("Loading LSPlatformClient factory success.");j.debug("Initializing LSPlatformClient...");b=(yield b.make(a));yield b.start();j.debug("Initializing LSPlatformClient success");d("LSPlatformClientSingleton").saveInstance(b);return b}catch(a){b=c("getErrorSafe")(a);j.debug("Initializing LSPlatformClient failed");d("LSPlatformLsInitLog").fail("client_setup_failure",b);d("MAWMICSafe").fail("client_setup_failure",b);c("FBLogger")("mpf_web_foundations").catching(b).warn("LSPlatformClient initialization failure");throw b}finally{j.debug("Messenger loading UI unsuspending")}})(),"InitLSPlatformClient")})}e={getOrInit:a};g["default"]=e}),98);
__d("LSPlatformClientProviderAddons.react",["CometPlaceholder.react","cr:6495","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:b("cr:6495")!=null&&i.jsx(b("cr:6495"),{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSPlatformClientProviderUtils",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("6746")}g.shouldInitialiseClientConcurrently=a}),98);
__d("LSPlatformConfigContext",["LSSuspense","err","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;d=e.createContext;var k=e.useContext;e=c("err")("LSPlatformConfig.NoLSPlatformProviderFound");e=(h||(h=c("LSSuspense"))).makeWithError(e);var l=d(e);function a(a){var b=a.children;a=a.config;return j.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return(h||(h=c("LSSuspense"))).getOrSuspend(k(l))}g.LSPlatformConfigProvider=a;g.useOrSuspendLSPlatformConfig=b}),98);
__d("LSPlatformErrorsCatcher.react",["MetaConfig","cr:7070","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));e=h;var i=e.useEffect,j=e.useState;function a(a){var d=a.children;a=a.fallback;var e=j(null),f=e[0],g=e[1];i(function(){var a=b("cr:7070")&&b("cr:7070").subscribe(function(a){g(a)});return function(){a&&a()}},[]);e=(e=b("cr:7070")==null?void 0:b("cr:7070").lastError())!=null?e:f;if(c("MetaConfig")._("66")&&e!=null&&a!=null)return a(e);else return d}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWCondSetup.react",["cr:3921","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");f=c("gkx")("20836")?a.Fragment:(e=b("cr:3921"))!=null?e:a.Fragment;d=f;g["default"]=d}),98);
__d("MAWSetupWrapperOnce.react",["CometPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext(!1);function a(a){var b=a.children;a=a.setupComponent;var d=j(k);return d?b:i.jsxs(k.Provider,{value:!0,children:[b,i.jsx(c("CometPlaceholder.react"),{fallback:null,children:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWCondWrapper.react",["MAWCondSetup.react","MAWSetupWrapperOnce.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.children;return i.jsx(c("MAWSetupWrapperOnce.react"),{setupComponent:i.jsx(c("MAWCondSetup.react"),{}),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSPlatformClientProvider.react",["CometPlaceholder.react","LSPlatformClientInstances","LSPlatformClientProviderAddons.react","LSPlatformClientProviderUtils","LSPlatformConfigContext","LSPlatformErrorsCatcher.react","MAWCondWrapper.react","ReStoreProvider.react","react","suspendOrThrowIfUsedInSSR"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react");function l(a){var b=d("LSPlatformConfigContext").useOrSuspendLSPlatformConfig();return c("LSPlatformClientInstances").getOrInit(b,a,{fromReact:!0})}function a(a){var b=a.children;a=a.loadLSPlatformClient;a=l(a);return k.jsx((j||(j=d("ReStoreProvider.react"))).ReStoreProvider,{db:a.db,children:b})}a.displayName=a.name+" [from "+f.id+"]";function m(a){a=a.loadLSPlatformClient;l(a);return null}m.displayName=m.name+" [from "+f.id+"]";function b(a){var b=a.children;a=a.loadLSPlatformClient;(h||(h=c("suspendOrThrowIfUsedInSSR")))("Messenger is not enabled for SSR");return k.jsxs(k.Fragment,{children:[k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(m,{loadLSPlatformClient:a})}),b]})}b.displayName=b.name+" [from "+f.id+"]";var n=d("LSPlatformClientProviderUtils").shouldInitialiseClientConcurrently()?b:a;function e(a){var b=a.children,d=a.errorFallback,e=a.loadLSPlatformClient;a=a.placeholder;return k.jsx(c("LSPlatformErrorsCatcher.react"),{fallback:d,children:k.jsx(c("MAWCondWrapper.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:a,children:k.jsxs(n,{loadLSPlatformClient:e,children:[k.jsx(c("LSPlatformClientProviderAddons.react"),{}),b]})})})})}e.displayName=e.name+" [from "+f.id+"]";g["default"]=e}),98);
__d("LSPlatformClientProviderWithDeferredLoadingStrategy.react",["LSPlatformClientDeferred","LSPlatformClientProvider.react","PromiseAnnotate","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function k(){var a=c("LSPlatformClientDeferred").load();c("promiseDone")((i||(i=d("PromiseAnnotate"))).setDisplayName(a,"loadLSPlatformClient"));return a}function a(a){var b=a.children,d=a.errorFallback;a=a.placeholder;return j.jsx(c("LSPlatformClientProvider.react"),{errorFallback:d,loadLSPlatformClient:k,placeholder:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSCometSSRDatabase",["LSJSInMemoryStorage","LSMetadata"],(function(a,b,c,d,e,f,g){"use strict";a=c("LSJSInMemoryStorage")(d("LSMetadata").schema);g["default"]=a}),98);
__d("LSDatabaseProviderType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return g(a.persistenceTypes)}function g(a){return a.includes("indexeddb")}f.isProviderPersisted=a;f.hasPersistentType=g}),66);
__d("LSClearEpochBeforeResumeSync",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.runInTransaction(function(a){var c;return(c=d("ReQL")).toArrayAsync(c.mergeJoin(c.fromTableAscending(a.sync_groups),c.fromTableAscending(a.network_requests).getKeyRange(""))).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){b=b[1];return a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})}))}).then(function(){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).filter(function(a){return a.taskQueueName!==""})).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){return a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})}))})})},"readwrite","ui",void 0,f.id+":16").then(function(){return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("LSDataTraceFlushDeferred",["MetaConfig","Promise","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("LSDataTraceFlush").__setRef("LSDataTraceFlushDeferred");function a(a){if(!c("MetaConfig")._("62"))return(h||(h=b("Promise"))).resolve(function(){});else return i.load().then(function(b){return b.flushExpiredDataTraces(a)})}g.watchForExpiredTraces=a}),98);
__d("LSTruncateTableAndSetShowError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(a){return b.forEach(b.db.table(115).fetch(),function(a){return a["delete"]()})},function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(115).add({statusId:b.i64.cast([0,0]),timestampMs:c[0],errorShouldBeShown:a[0]})}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSDeleteAllAndInsertConnectivityStatus",["LSTruncateTableAndSetShowError"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.forEach(c.db.table(114).fetch(),function(a){return a["delete"]()})},function(b){return d[0]=c.i64.of_float(Date.now()),c.db.table(114).add({statusId:void 0,timestampMs:d[0],internetConnectionState:a[0]})},function(d){return c.storedProcedure(b("LSTruncateTableAndSetShowError"),c.i64.neq(a[0],c.i64.cast([0,1])))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSDeleteAllAndInsertConnectivityStatusStoredProcedure",["LSDeleteAllAndInsertConnectivityStatus","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.internetConnectionState;return c("LSDeleteAllAndInsertConnectivityStatus").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSPlatformGraphQLTransport",["FBLogger","I64","LSDynamicDependencies","LSProgramTarget","MessengerLogHistory","Promise","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="LSPlatformGraphQLTransport.ServerError";function a(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k){var l=d("MessengerLogHistory").getInstance("client_sync"),m=null;try{m=(yield k(a,e,g,(i||(i=d("I64"))).to_int32(f)))}catch(a){k=c("FBLogger")("messenger_web_product");a instanceof Error&&(l.error("Error sending Graphql Request. Type: "+(i||(i=d("I64"))).to_string(f)+" Message: "+(a.message!=null?a.message:"None")),k=k.catching(a),k.debug("Relay or Graphql Server error in LSPlatformGraphqlTransport"));throw k.mustfixThrow(j)}a=c("nullthrows")(m);e=a.dependencies;g=a.experiments;l=a.payload;var n=a.target;f=c("nullthrows")(l);k=e==null?(h||(h=b("Promise"))).resolve():d("LSDynamicDependencies").downloadRelayDependencies(e);m=Array.from(c("LSProgramTarget").members()).find(function(a){return c("LSProgramTarget").getName(a)===n});return[k,f,g,m]});return k.apply(this,arguments)}g.ServerError=j;g.publish=a}),98);
__d("LSPlatformHardcodedInitSync",["CurrentMessengerUser","FBLogger","I64","InteractionTracing.xplat","LSDatabaseProviderType","LSDict","LSIntEnum","LSJson","LSPlatformArmadilloUtils","LSPlatformGraphQLTransport","LSPlatformLsInitLog","MWPBumpEntityKey","MetaConfig","Promise","QuickPerformanceLogger","ReQL","asyncToGeneratorRuntime","getErrorSafe","gkx","isArmadillo","isInstamadillo","isRegisterArmadilloOnIgEnabled","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("isArmadillo")()||c("isRegisterArmadilloOnIgEnabled")()&&!c("isInstamadillo")(),m=!d("CurrentMessengerUser").isWorkUser()&&!c("gkx")("307");function n(a){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(k||(k=b("Promise"))).all([a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(1),taskQueueName:""}),m?a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:(i||(i=d("I64"))).zero,lastSyncRequestTimestampMs:(i||(i=d("I64"))).zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(2),taskQueueName:""}):(k||(k=b("Promise"))).resolve(),l?a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:(i||(i=d("I64"))).zero,lastSyncRequestTimestampMs:(i||(i=d("I64"))).zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(95),taskQueueName:""}):(k||(k=b("Promise"))).resolve()])});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":56").then(function(){return(k||(k=b("Promise"))).resolve()})}function o(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange("",(j||(j=d("LSIntEnum"))).ofNumber(b)))}function p(a){return a.runInTransaction(function(a){return(k||(k=b("Promise"))).all([o(a,1),m?o(a,2):(k||(k=b("Promise"))).resolve(),l?o(a,95):(k||(k=b("Promise"))).resolve()]).then(function(c){var e=c[0],f=c[1];c=c[2];e=e!=null?a.network_requests.put({epochId:(i||(i=d("I64"))).zero,failureCount:e.failureCount,lastDelayedRequestTimestampMs:e.lastDelayedRequestTimestampMs,lastSentTimestampMs:e.lastSentTimestampMs,lastSyncRequestTimestampMs:e.lastSyncRequestTimestampMs,networkTaskIdentifier:e.networkTaskIdentifier,syncDatabaseId:e.syncDatabaseId,taskQueueName:e.taskQueueName}):(k||(k=b("Promise"))).resolve();f=m&&f!=null?a.network_requests.put({epochId:(i||(i=d("I64"))).zero,failureCount:f.failureCount,lastDelayedRequestTimestampMs:f.lastDelayedRequestTimestampMs,lastSentTimestampMs:f.lastSentTimestampMs,lastSyncRequestTimestampMs:f.lastSyncRequestTimestampMs,networkTaskIdentifier:f.networkTaskIdentifier,syncDatabaseId:f.syncDatabaseId,taskQueueName:f.taskQueueName}):(k||(k=b("Promise"))).resolve();c=l&&c!=null?a.network_requests.put({epochId:(i||(i=d("I64"))).zero,failureCount:c.failureCount,lastDelayedRequestTimestampMs:c.lastDelayedRequestTimestampMs,lastSentTimestampMs:c.lastSentTimestampMs,lastSyncRequestTimestampMs:c.lastSyncRequestTimestampMs,networkTaskIdentifier:c.networkTaskIdentifier,syncDatabaseId:c.syncDatabaseId,taskQueueName:c.taskQueueName}):(k||(k=b("Promise"))).resolve();return(k||(k=b("Promise"))).all([e,f,c]).then(function(){})})},"readwrite","ui",void 0,f.id+":115")}function q(a){if(d("LSDatabaseProviderType").isProviderPersisted(a)&&c("MetaConfig")._("76"))return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield o(a,1));b!=null&&(yield a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName}))});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":189");else return(k||(k=b("Promise"))).resolve()}function r(a){d("CurrentMessengerUser").isWorkUser()&&(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(1036588047,"310"),a)}function a(a,b,c,d){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){try{var o,s=d("CurrentMessengerUser").isWorkUser();yield p(f);var u=(yield (k||(k=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.sync_groups).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(1))),m?d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.sync_groups).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(2))):(k||(k=b("Promise"))).resolve(),l?d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.sync_groups).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(95))):(k||(k=b("Promise"))).resolve()])),v=u[0],w=u[1];u=u[2];v=v==null?void 0:v.currentCursor;w=w==null?void 0:w.currentCursor;u=u==null?void 0:u.currentCursor;var x=new(c("LSDict"))().set("database",j.ofNumber(1)).set("epoch_id",(i||(i=d("I64"))).zero).set("last_applied_cursor",v).set("sync_params",a.syncParams.mailbox).set("version",i.of_string(a.schemaVersion)),y=new(c("LSDict"))().set("database",j.ofNumber(2)).set("epoch_id",i.zero).set("last_applied_cursor",w).set("sync_params",a.syncParams.contact).set("version",i.of_string(a.schemaVersion));o=new(c("LSDict"))().set("database",j.ofNumber(95)).set("epoch_id",i.zero).set("last_applied_cursor",u).set("sync_params",(o=a.syncParams.e2ee)!=null?o:"{}").set("version",i.of_string(a.schemaVersion));var z={string:{contactsSync:m?w!=null?"resume":"init":"disabled",mailboxSync:v!=null?"resume":"init"}};s&&(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(c("qpl")._(1036588047,"310"),z);d("LSPlatformLsInitLog").addPoint("ls_sync_start",z);t("ls_sync_start");d("LSPlatformLsInitLog").addPoint("gql_fetch_start");t("gql_fetch_start");r("start_contact");r("start_mailbox");var A=function(){return[(k||(k=b("Promise"))).resolve(),"",void 0,void 0]};s=d("LSPlatformGraphQLTransport").publish(g,0,v!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(x),a.executeGraphQLLightSpeedRequest).then(function(a){r("mailbox_synced");d("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_end");t("gql_mailbox_fetch_end");return a})["catch"](function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Failed to sync mailbox");return A()});z=m?d("LSPlatformGraphQLTransport").publish(g,1,w!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(y),a.executeGraphQLLightSpeedRequest).then(function(a){r("contact_synced");d("LSPlatformLsInitLog").addPoint("gql_contact_fetch_end");t("gql_contact_fetch_end");return a})["catch"](function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Failed to sync contacts");return A()}):(k||(k=b("Promise"))).resolve(A());x=l?d("LSPlatformGraphQLTransport").publish(g,2,u!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(o),a.executeGraphQLLightSpeedRequest).then(function(a){d("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_end");t("gql_e2ee_fetch_end");return a})["catch"](function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Failed to sync e2ee mailbox");return A()}):(k||(k=b("Promise"))).resolve(A());w=(yield k.all([s,z,x]));y=w[0];g=w[1];u=w[2];o=u[0];a=u[1];s=u[2];z=u[3];x=g[0];w=g[1];u=g[2];g=g[3];var B=y[0],C=y[1],D=y[2];y=y[3];d("LSPlatformLsInitLog").addPoint("gql_fetch_end");t("gql_fetch_end");d("LSPlatformLsInitLog").addPoint("gql_deps_start");t("gql_deps_start");yield k.all([o,x,B]);d("LSPlatformLsInitLog").addPoint("gql_deps_end");t("gql_deps_end");d("LSPlatformLsInitLog").addPoint("ls_sync_execute_start");t("ls_sync_execute_start");yield e({experiments:D,priority:"ui",syncScript:C,target:y});m&&(yield e({experiments:u,priority:"ui",syncScript:w,target:g}));l&&(yield e({experiments:s,priority:"ui",syncScript:a,target:z}));v!=null&&(yield q(f));r("sync_completed");d("LSPlatformArmadilloUtils").reportInitEnd();d("LSPlatformLsInitLog").addPoint("ls_sync_execute_end");t("ls_sync_execute_end");d("LSPlatformLsInitLog").addPoint("ls_sync_end");t("ls_sync_end");d("LSPlatformLsInitLog").endSuccess();l&&d("LSPlatformArmadilloUtils").occamadilloInitEnd();d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_graphql","init_sync.success");d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.success")}catch(a){o=c("getErrorSafe")(a);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.fail");r("sync_failed");d("LSPlatformLsInitLog").fail("init_sync_failure");try{d("LSPlatformArmadilloUtils").reportInitSyncFailure(o)}catch(a){}c("FBLogger")("messenger_web_product").catching(o).mustfix("Encountered an error while performining preloaded init sync request via graphql");return n(f)}});return s.apply(this,arguments)}function t(a){c("InteractionTracing.xplat").getPendingInteractions().forEach(function(b){b.addMarkerPoint(a,"AppTiming")})}g.sendHardcodedInitSync=a}),98);
__d("LSPlatformRealtimeTransport",["I64","LSDynamicDependencies","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSShape","Promise","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e="LSPlatformRealtimeTransport.NotConnected";var k="LSPlatformRealtimeTransport.Timeout";function l(a){var b=new Map();return{getAll:function(){return Array.from(b.values())},getOrStart:function(c){var d=c.toString(),e=b.get(d);e==null&&(e=a(c),b.set(d,e));return e}}}function m(){}function a(a,e,f){var g=new Map(),n={contents:m},o=new Set(),p=new Map(),q=[],r=l(function(b){b=a(b,f);q.push(b.subscribe(function(a){var b=JSON.parse(a),e=d("LSDynamicDependencies").downloadBootloaderDependencies(b.sp,b.nop,b.ntop);a=b.request_id;var f;if(a!=null){var h=g.get(a);h==null?f=!1:(c("clearTimeout")(h.timeoutId),h.resolve({downloadTask:e,payload:b,type:"taskresponse"}),g["delete"](a),f=!0)}else f=!1;if(!f){Array.from(p.entries()).forEach(function(a){return a[1](e,b)});return}}));q.push(b.onReconnect(function(){return n.contents()}));q.push(b.onConnectionStatusChange(function(a){o.forEach(function(b){return b(a)})}));return b});r.getOrStart((j||(j=d("LSIntEnum"))).unwrapIntEnum(d("LSMailboxInitialSyncCursor").syncChannel));return{cleanup:function(){q.forEach(function(a){return a()}),r.getAll().forEach(function(a){return a.cleanup()})},onConnectionStatusChange:function(a){o.add(a);return function(){o["delete"](a)}},onReconnect:function(a){n.contents=a;return function(){n.contents=m}},publish:function(a){var f=a.payload,l=a.queueName,m=a.requestId,n=a.syncChannel,o=a.type_;return new(h||(h=b("Promise")))(function(a,b){if((i||(i=d("I64"))).equal(o,(j||(j=d("LSIntEnum"))).ofNumber(3))){var h=c("setTimeout")(function(){var a=g.get(m);a!=null&&(g["delete"](m),a.reject({RE_EXN_ID:k}));return b({RE_EXN_ID:k})},3e4);g.set(m,{queueName:l,reject:b,resolve:a,timeoutId:h,timestamp:Date.now()})}c("promiseDone")(r.getOrStart((j||(j=d("LSIntEnum"))).unwrapIntEnum(n)).publish(d("LSJson").stringify(d("LSShape").ofRecord({app_id:e,payload:f,request_id:m,type:o})),o),function(){if(!(i||(i=d("I64"))).equal(o,(j||(j=d("LSIntEnum"))).ofNumber(3)))return a({type:"noresponseexpected"})},function(a){return b(a)})})},subscribeToNonTaskResponses:function(a){var b={};p.set(b,a);return function(){p["delete"](b)}}}}g.NotConnected=e;g.Timeout=k;g.LSPlatformRealtimeTransport=a}),98);
__d("LSPlatformSyncSystemMaybeDeferred",["cr:6963"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:6963")}),98);
__d("LSSyncStoredProcedureUtils",["I64","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.pending_tasks.index("queueNameTaskId")).getKeyRange(b)));if(b==null)return;c=c!=null?(h||(h=d("I64"))).of_float(Date.now()+c):b.minTimeToSyncTimestampMs;yield a.pending_tasks.put(babelHelpers["extends"]({},b,{failureCount:(h||(h=d("I64"))).add(b.failureCount,h.one),minTimeToSyncTimestampMs:c}))});return i.apply(this,arguments)}function c(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield a.network_requests.get(b,c));if(b==null)return;yield a.network_requests.put(babelHelpers["extends"]({},b,{failureCount:(h||(h=d("I64"))).add(b==null?void 0:b.failureCount,h.one)}))});return j.apply(this,arguments)}function e(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield a.network_requests.get(b,c));if(b==null)return;yield a.network_requests.put(babelHelpers["extends"]({},b,{epochId:void 0,networkTaskIdentifier:void 0}))});return k.apply(this,arguments)}g.incrementPendingTasksTaskFailureCount=a;g.incrementNetworkRequestsTaskFailureCount=c;g.closeEpoch=e}),98);
__d("LSHandleTaskSendFailureForQueue2",["I64","LSSyncStoredProcedureUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield d("LSSyncStoredProcedureUtils").incrementPendingTasksTaskFailureCount(a,b,c),yield d("LSSyncStoredProcedureUtils").incrementNetworkRequestsTaskFailureCount(a,b,(h||(h=d("I64"))).neg_one),yield d("LSSyncStoredProcedureUtils").closeEpoch(a,b,h.neg_one)});return i.apply(this,arguments)}g["default"]=a}),98);
__d("LSHandleTaskSendSuccessForQueue2",["I64","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield a.network_requests.get(b,(h||(h=d("I64"))).neg_one));if(c==null||c.epochId==null)return;yield a.network_requests["delete"](b,h.neg_one)});return i.apply(this,arguments)}g["default"]=a}),98);
__d("LSPlatformRequestId",[],(function(a,b,c,d,e,f){"use strict";var g=4;function a(){var a=g;g+=1;return a}b={generate:a};f["default"]=b}),66);
__d("LSPlatformRequestScheduler",["clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.requests=new Map()}var b=a.prototype;b.schedule=function(a,b,d){var e=this.requests.get(b);e!=null&&c("clearTimeout")(e);this.requests.set(b,c("setTimeout")(a,d))};b.cleanup=function(){this.requests.forEach(function(a){return c("clearTimeout")(a)})};return a}();g["default"]=a}),98);
__d("LSPlatformServerResponseHandler",["FBLogger","Promise","asyncToGeneratorRuntime","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.eval=a,this.currentlyRunning=(h||(h=b("Promise"))).resolve()}var d=a.prototype;d.evalWhenReady=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var d=[];try{var e=c("setTimeout")(function(){c("FBLogger")("messenger_web_product").mustfix("waited longer than 30 seconds to download dependencies")},3e4);d.push(e);yield a;c("clearTimeout")(e);a=c("setTimeout")(function(){c("FBLogger")("messenger_web_product").mustfix("waited longer than 30 seconds to eval sync script")},3e4);d.push(a);yield this.eval(b);c("clearTimeout")(a)}catch(a){d.forEach(function(a){return c("clearTimeout")(a)}),c("FBLogger")("messenger_web_product").catching(a).mustfix("syncscript execution failed "+(a==null?void 0:a.message))}});function d(b,c){return a.apply(this,arguments)}return d}();d.evalInOrderReceived=function(a,b){var c=this,d=this.currentlyRunning.then(function(){return c.evalWhenReady(a,babelHelpers["extends"]({},b,{priority:"sync_script"}))});this.currentlyRunning=d;return d};return a}();g["default"]=a}),98);
__d("LSBeginHandlingFireForgetTasksForQueue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return c[0]=b.createArray(),b.forEach(b.filter(b.db.table(5).fetch(),function(b){return b.queueName===a[0]}),function(a){a=a.item;return c[3]=new b.Map(),c[3].set("label",a.context),c[3].set("payload",a.taskValue),c[3].set("queue_name",a.queueName),c[3].set("task_id",a.taskId),c[3].set("failure_count",b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))?void 0:b.i64.cast([0,0])),c[4]=(c[0].push(c[3]),c[0])})},function(e){return c[1]=new b.Map(),c[1].set("tasks",c[0]),c[1].set("epoch_id",void 0),c[2]=new b.Map(),c[2].set("queue_name",a[0]),c[2].set("next_sync_ms",void 0),c[2].set("work_item_type",b.i64.cast([0,5])),c[2].set("network_payload",c[1]),c[2].set("http_url_override",void 0),c[2].set("skip_realtime_gateway",!1),d[0]=c[2]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSBeginHandlingFireForgetTasksForQueueStoredProcedure",["LSBeginHandlingFireForgetTasksForQueue","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.queueName;return c("LSBeginHandlingFireForgetTasksForQueue").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSForceTaskExecutionImmediately",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,c[1]=b.i64.of_float(Date.now()),b.i64.lt(c[1],e.minTimeToSyncTimestampMs)?b.forEach(b.db.table(2).fetch([[[a[0]]]]),function(a){var c=a.update;a.item;return c({minTimeToSyncTimestampMs:b.i64.cast([0,0])})}):b.resolve())})},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSBase64Encode.nop",["Base64Utils","LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){return(h||(h=b("Promise"))).resolve(c("LSResult")(f?d("Base64Utils").fromArrayBuffer(f):void 0))};g["default"]=a}),98);
__d("LSRemoveBlindedTokens",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(308).fetch(),function(b){return b.configId===a[0]}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSRemoveUsedTokens",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(309).fetch(),function(a){return b.i64.le(a.redeemLimit,b.i64.cast([0,0]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSGetCurrentTokenPoolState",["LSArrayGetObjectAt","LSRemoveBlindedTokens","LSRemoveUsedTokens"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),d[1]=c.createArray(),c.count(c.filter(c.db.table(307).fetch(),function(b){return b.projectName===a[0]})).then(function(a){return d[2]=a})},function(b){return c.forEach(c.filter(c.db.table(307).fetch(),function(b){return b.projectName===a[0]}),function(a){a=a.item;return d[7]=a.configId,c.i64.gt(d[0],a.expirationTimestampMs)?c.forEach(c.db.table(307).fetch([[[d[7]]]]),function(a){return a["delete"]()}):c.resolve(d[8]=(d[1].push(d[7]),d[1]))})},function(a){return c.storedProcedure(b("LSRemoveUsedTokens"))},function(a){return d[3]=c.i64.cast([0,0]),d[4]=c.i64.of_int32(d[1].length),c.i64.gt(d[4],c.i64.cast([0,0]))?c.loopAsync(d[4],function(a){return d[7]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[1],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(a){return c.count(c.filter(c.db.table(309).fetch(),function(a){return a.configId===d[8]})).then(function(a){return d[10]=a})},function(a){return d[3]=c.i64.add(d[10],d[3]),c.storedProcedure(b("LSRemoveBlindedTokens"),d[8])}])}):c.resolve()},function(a){return c.i64.gt(d[2],c.i64.cast([0,0]))?(d[7]=c.i64.of_int32(d[1].length),d[5]=c.i64.ge(d[7],c.i64.cast([0,1]))):d[5]=void 0,d[5]!==void 0?(d[5]?(c.i64.gt(d[3],c.i64.cast([0,0]))?d[8]=c.i64.cast([0,3]):d[8]=c.i64.cast([0,2]),d[7]=d[8]):d[7]=c.i64.cast([0,1]),d[6]=d[7]):d[6]=c.i64.cast([0,0]),a=[d[6],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueNextSync",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.count(c.filter(c.db.table(310).fetch(),function(b){return b.projectName===a[1]})).then(function(a){return d[0]=a})},function(e){return c.i64.gt(d[0],c.i64.cast([0,0]))&&a[3]===!0?c.resolve(0):c.sequence([function(b){return c.forEach(c.filter(c.db.table(310).fetch(),function(b){return b.projectName===a[1]}),function(a){return a["delete"]()})},function(e){return c.i64.gt(a[2],c.i64.cast([0,0]))?(d[3]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[3],a[2])):d[1]=c.i64.cast([0,0]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["acs_sync","_",a[1]].join(""),c.i64.cast([0,362]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[1],c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(310).add({taskId:d[2],projectName:a[1],maxClientTokenPoolSize:a[0]})}])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("XPlatReactVoprf",["asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSVoprfWasm").__setRef("XPlatReactVoprf"),i=null;function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(i==null){var a=(yield h.load());a=(yield a());var b=a.createCurveRistretto(),c=a.createVoprfExpTwohashdh(b);i={voprfInfo:{curvePtr:b,voprfPtr:c},voprfWasm:a}}return i});return j.apply(this,arguments)}g.loadXPlatReactVoprf=a}),98);
__d("LSVoprfBlind.nop",["XPlatReactVoprf","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield d("XPlatReactVoprf").loadXPlatReactVoprf());b=a.voprfInfo;a=a.voprfWasm;a=a.blind(b,new Uint8Array(c));return[a.blindedElement.buffer,a.blindingFactor.buffer]});function c(b,c,d){return a.apply(this,arguments)}return c}();g["default"]=a}),98);
__d("LSVoprfCreateNonce.nop",["XPlatReactCrypto","XPlatReactVoprf","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("XPlatReactVoprf").loadXPlatReactVoprf());b=a.voprfInfo;a=a.voprfWasm;a=a.getCurveBytes(b);b=new Uint8Array(a);d("XPlatReactCrypto").getRandomValues(b);return[b.buffer]});function c(b,c){return a.apply(this,arguments)}return c}();g["default"]=a}),98);
__d("LSTaskSerializerAcsIssueNextSync",["LSBase64Encode.nop","LSGetCurrentTokenPoolState","LSIssueNextSync","LSVoprfBlind.nop","LSVoprfCreateNonce.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.db.table(310).fetch([[[a[0]]]]).next().then(function(a,e){var f=a.done;a=a.value;return f?(function(a){c.logger(a).mustfix(a)}("Request context for the passed task_id was not found"),f=[void 0,void 0,void 0],d[0]=f[0],d[1]=f[1],d[2]=f[2],f):(e=a.item,c.sequence([function(a){return d[9]=e.projectName,d[10]=e.maxClientTokenPoolSize,c.storedProcedure(b("LSGetCurrentTokenPoolState"),d[9]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(a){return c.i64.eq(d[4],c.i64.cast([0,0]))||c.i64.eq(d[4],c.i64.cast([0,1]))?c.resolve((d[11]=new c.Map(),d[11].set("project_name",d[9]),d[12]=c.toJSON(d[11]),a=[d[12],c.i64.cast([0,351]),void 0],d[6]=a[0],d[7]=a[1],d[8]=a[2],a)):c.sequence([function(a){return d[11]=c.i64.of_float(Date.now()),c.islc(c.sortBy(c.filter(c.db.table(307).fetch(),function(a){return a.projectName===d[9]&&c.i64.gt(a.expirationTimestampMs,d[11])}),[["expirationTimestampMs","DESC"]]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var a=e.done;e=e.value;return a?(function(a){c.logger(a).mustfix(a)}("A config for the passed project name was not found"),d[16]=new c.Map(),d[16].set("project_name",d[9]),d[16].set("max_client_token_pool_size",d[10]),d[17]=c.toJSON(d[16]),a=[d[17],c.i64.cast([0,362]),void 0],d[12]=a[0],d[13]=a[1],d[14]=a[2],a):(f=e.item,c.sequence([function(a){return d[24]=f.configId,d[16]=f.maxEvals,d[26]=f.tokenPollFrequencyMs,d[25]=f.maxClientTokenPoolSize,d[17]=c.i64.sub(d[10],d[5]),d[23]=c.i64.lt(d[16],d[17])?d[16]:d[17],d[18]=c.createArray(),c.i64.gt(d[23],c.i64.cast([0,0]))?c.loopAsync(d[23],function(a){return d[27]=a,c.sequence([function(a){return c.nativeOperation(b("LSVoprfCreateNonce.nop")).then(function(a){return a=a,d[28]=a[0],a})},function(a){return c.blobs.neq(d[28],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSVoprfBlind.nop"),d[28]).then(function(a){return a=a,d[29]=a[0],d[30]=a[1],a})},function(a){return c.blobs.neq(d[29],void 0)?c.blobs.neq(d[30],void 0)?c.sequence([function(a){return d[31]=c.i64.cast([-1,4294967295]),c.db.table(308).peekNextAutoIncrementId().then(function(a){return d[31]=a})},function(a){return c.db.table(308).add({tokenId:void 0,blindedNonce:d[29],blindingFactor:d[30],nonce:d[28],configId:d[24]})},function(a){return c.db.table(308).fetch([[[d[31]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[32]=c.i64.cast([-1,4294967295]):(e=b.item,d[32]=e.tokenId)})},function(a){return c.i64.eq(d[32],c.i64.cast([-1,4294967295]))?c.sequence([function(a){return c.islc(c.db.table(308).fetchDesc([[[{gt:c.i64.cast([0,0])}]]]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,e){var a=b.done;b=b.value;return a?d[37]=c.i64.cast([-1,4294967295]):(e=b.item,d[37]=e.tokenId)})},function(a){return d[34]=d[37]}]):c.resolve(d[34]=d[32])},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[29]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[36]=new c.Map(),d[36].set("id",d[34]),d[36].set("data",d[35]==null?"":d[35]),d[37]=(d[18].push(d[36]),d[18])}]):c.resolve():c.resolve()}]):c.resolve()}])}):c.resolve()},function(a){return d[19]=c.i64.of_int32(d[18].length),c.i64.gt(d[19],c.i64.cast([0,0]))?c.resolve((d[27]=new c.Map(),d[27].set("project_name",d[9]),d[27].set("config_id",d[24]),d[27].set("blinded_nonces",d[18]),d[28]=c.toJSON(d[27]),a=[d[28],c.i64.cast([0,354]),void 0],d[20]=a[0],d[21]=a[1],d[22]=a[2],a)):c.sequence([function(a){return c.i64.neq(d[26],void 0)?c.sequence([function(a){return c.i64.neq(d[25],void 0)?c.sequence([function(a){return function(a){c.logger(a).info(a)}(["Already have the max number of tokens. Scheduling next ACS token sync locally for project: ",d[9]].join("")),c.storedProcedure(b("LSIssueNextSync"),d[25],d[9],d[26],!1)},function(a){return a=[void 0,void 0,void 0],d[30]=a[0],d[31]=a[1],d[32]=a[2],a}]):c.resolve((function(a){c.logger(a).info(a)}(["token_poll_frequency is nonnull but max_client_token_pool_size is null. Already have the max number of tokens. Scheduling the next ACS token sync for project: ",d[9]].join("")),d[33]=new c.Map(),d[33].set("project_name",d[9]),d[33].set("max_client_token_pool_size",d[10]),d[34]=c.toJSON(d[33]),a=[d[34],c.i64.cast([0,362]),void 0],d[30]=a[0],d[31]=a[1],d[32]=a[2],a))},function(a){return a=[d[30],d[31],d[32]],d[27]=a[0],d[28]=a[1],d[29]=a[2],a}]):c.resolve((function(a){c.logger(a).info(a)}(["Already have the max number of tokens. Scheduling the next ACS token sync for project: ",d[9]].join("")),d[30]=new c.Map(),d[30].set("project_name",d[9]),d[30].set("max_client_token_pool_size",d[10]),d[31]=c.toJSON(d[30]),a=[d[31],c.i64.cast([0,362]),void 0],d[27]=a[0],d[28]=a[1],d[29]=a[2],a))},function(a){return a=[d[27],d[28],d[29]],d[20]=a[0],d[21]=a[1],d[22]=a[2],a}])},function(a){return a=[d[20],d[21],d[22]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]))})},function(a){return a=[d[12],d[13],d[14]],d[6]=a[0],d[7]=a[1],d[8]=a[2],a}])},function(a){return a=[d[6],d[7],d[8]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}]))})},function(a){return a=[d[0],d[1],d[2]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSTaskSerializerE2eeMessageIntegrityCheckV2",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,c.i64.cast([0,705]),void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],a,c.resolve(d)}e.exports=a}),null);
__d("LSTaskSerializerE2eeMetadataThreadIntegrityCheck",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,c.i64.cast([0,700]),void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],a,c.resolve(d)}e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupAction",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,c.i64.cast([0,319]),void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],a,c.resolve(d)}e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsLoopingUpload",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsLoopingUpload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure] LSEncryptedBackupsLoopingUploadPayloadsTable table not found"),d[2]=c.createArray(),void 0!==void 0?d[9]=(d[2].push(void 0),d[2]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure","LSEncryptedBackupsLoopingUploadPayloadsTable table not found",d[2],c.i64.cast([0,3]))},function(a){return d[3]=c.i64.of_float(Date.now()),d[4]=c.i64.random(),d[6]="Finishing execution. Execution time: ",d[7]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[5]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsLoopingUpload] ",d[5],d[6],d[5],d[7],d[5],d[8]].join("")),c.i64.eq(c.i64.mod_(d[4],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[9]=",",d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsLoopingUpload",[d[6],d[9],d[7],d[9],d[8]].join(""),d[10],c.i64.cast([0,4]))):c.resolve()},function(a){return a=['{"request_id":"unknown","upload_type":"FBN","payload":{"error_code":2,"operation":"","error_message":"","__typename":"MPSUploadFailurePayload"}}',c.i64.cast([0,50043]),void 0],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSQueryLocalPersistenceStoreForBackup.nop",["Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.local_message_persistence_store).filter(function(a){var b=a.offlineThreadingId;a=a.threadId;return a===e&&f===b})));if(c.length===0)return(h||(h=b("Promise"))).resolve([void 0,void 0,!1]);a=c[0];return(h||(h=b("Promise"))).resolve([a.messagePayload,a.messageTimestampMs,!1])});function c(b,c,d,e){return a.apply(this,arguments)}return c}();g["default"]=a}),98);
__d("LSQueryLocalPersistenceStoreSupplementalForBackup.nop",["Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){c=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.local_message_persistence_store_supplemental).filter(function(a){var b=a.supplementalKey,c=a.threadId;a=a.toplevelOfflineThreadingId;return c===e&&a===f&&b===g})));return c==null?(h||(h=b("Promise"))).resolve([void 0,void 0]):(h||(h=b("Promise"))).resolve([c.messagePayload,c.messageTimestampMs])});function c(b,c,d,e,f){return a.apply(this,arguments)}return c}();g["default"]=a}),98);
__d("isInstamadilloOpenEB",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("890")===!0}g["default"]=a}),98);
__d("LSQueryLocalPersistenceStoreTagsForBackup.nop",["LSVec","Promise","ReQL","asyncToGeneratorRuntime","isInstamadilloEB","isInstamadilloOpenEB"],(function(a,b,c,d,e,f,g){"use strict";var h,i=":";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if(!c("isInstamadilloEB")()&&!c("isInstamadilloOpenEB")())return(h||(h=b("Promise"))).resolve([c("LSVec").ofArray([])]);e=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.local_message_persistence_store_tag_index.index("offlineThreadingId")).getKeyRange(g,f)));if(e==null)return(h||(h=b("Promise"))).resolve([c("LSVec").ofArray([])]);a=e.tag;return(h||(h=b("Promise"))).resolve([c("LSVec").ofArray(a.split(i))])});function e(b,c,d,e){return a.apply(this,arguments)}return e}();g["default"]=a}),98);
__d("LSLoadUnencryptedProtobufWithInputs",["LSBase64Encode.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop","LSQueryLocalPersistenceStoreForBackup.nop","LSQueryLocalPersistenceStoreSupplementalForBackup.nop","LSQueryLocalPersistenceStoreTagsForBackup.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadUnencryptedProtobufWithInputs] Beginning execution."),d[1]=c.i64.of_float(Date.now()),!1===!0?c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error REQUIRED_COLUMN_NOT_PRESENT_ON_CLIENT"),d[10]=new c.Map(),d[10].set("error_code",c.i64.cast([-1,4294967293])),d[10].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[10].set("error_message",""),e=[void 0,d[10]],d[2]=e[0],d[3]=e[1],e)):c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([0,1]))?c.sequence([function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],d[14]=a[2],a})},function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[15]=a[0],a})},function(e){return c.blobs.neq(d[12],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[12]).then(function(a){return a=a,d[18]=a[0],a})},function(b){return d[18]!==void 0?(d[15]!==void 0?(d[23]=new c.Map(),d[23].set("message_tags",d[15]),d[24]=new c.Map(),d[28]="message_tags",d[25]=d[23].get(d[28]),d[23],d[25]?d[26]=!1:d[26]=!0,d[26]?0:d[24].set(d[28],d[25]),d[27]=c.toJSON(d[24]),d[21]=d[27]):d[21]=void 0,d[22]=new c.Map(),d[22].set("backup_action",a[0]),d[22].set("protobuf_encrypted",d[18]),d[22].set("supplemental_data_encrypted",void 0),d[22].set("timestamp_ms",a[4]),d[22].set("message_tags",d[21]),b=[d[22],void 0],d[19]=b[0],d[20]=b[1],b):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_FORMATTING_FAILED"),d[21]=new c.Map(),d[21].set("error_code",c.i64.cast([0,68])),d[21].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[21].set("error_message",""),b=[void 0,d[21]],d[19]=b[0],d[20]=b[1],b),b=[d[19],d[20]],d[16]=b[0],d[17]=b[1],b}]):c.resolve((d[14]?(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_ALREADY_DELETED"),d[20]=new c.Map(),d[20].set("error_code",c.i64.cast([0,70])),d[20].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[20].set("error_message",""),e=[void 0,d[20]],d[18]=e[0],d[19]=e[1],e):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_TOPLEVEL_TABLE"),d[20]=new c.Map(),d[20].set("error_code",c.i64.cast([0,63])),d[20].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[20].set("error_message",""),e=[void 0,d[20]],d[18]=e[0],d[19]=e[1],e),e=[d[18],d[19]],d[16]=e[0],d[17]=e[1],e))},function(a){return a=[d[16],d[17]],d[10]=a[0],d[11]=a[1],a}]):c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([0,2]))?c.sequence([function(e){return a[3]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreSupplementalForBackup.nop"),a[1],a[2],a[3]).then(function(a){return a=a,d[16]=a[0],d[17]=a[1],a})},function(e){return c.blobs.neq(d[16],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[3]).then(function(a){return a=a,d[20]=a[0],a})},function(e){return c.blobs.neq(d[20],void 0)?c.sequence([function(a){return d[23]=new c.Map(),d[23].set("sk_ciphertext",d[20]),d[23].set("sk_hash",d[20]),c.nativeOperation(b("LSBase64Encode.nop"),d[16]).then(function(a){return a=a,d[24]=a[0],a})},function(b){return d[24]!==void 0?(d[27]=new c.Map(),d[27].set("backup_action",a[0]),d[27].set("protobuf_encrypted",d[24]),d[27].set("supplemental_data_encrypted",d[23]),d[27].set("timestamp_ms",a[4]),d[27].set("message_tags",void 0),b=[d[27],void 0],d[25]=b[0],d[26]=b[1],b):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_FORMATTING_FAILED"),d[27]=new c.Map(),d[27].set("error_code",c.i64.cast([0,68])),d[27].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[27].set("error_message",""),b=[void 0,d[27]],d[25]=b[0],d[26]=b[1],b),b=[d[25],d[26]],d[21]=b[0],d[22]=b[1],b}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error SUPPLEMENTAL_FORMATTING_FAILED"),d[23]=new c.Map(),d[23].set("error_code",c.i64.cast([0,69])),d[23].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[23].set("error_message",""),e=[void 0,d[23]],d[21]=e[0],d[22]=e[1],e))},function(a){return a=[d[21],d[22]],d[18]=a[0],d[19]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_SUPPLEMENTAL_TABLE"),d[20]=new c.Map(),d[20].set("error_code",c.i64.cast([0,64])),d[20].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[20].set("error_message",""),e=[void 0,d[20]],d[18]=e[0],d[19]=e[1],e))},function(a){return a=[d[18],d[19]],d[14]=a[0],d[15]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error SUPPLEMENTAL_KEY_NOT_SET_IN_CONTEXT_TABLE"),d[16]=new c.Map(),d[16].set("error_code",c.i64.cast([0,65])),d[16].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[16].set("error_message",""),e=[void 0,d[16]],d[14]=e[0],d[15]=e[1],e))},function(a){return a=[d[14],d[15]],d[12]=a[0],d[13]=a[1],a}]):c.resolve((c.i64.eq(a[0],c.i64.cast([0,3]))?(d[16]=new c.Map(),d[16].set("backup_action",a[0]),d[16].set("protobuf_encrypted",void 0),d[16].set("supplemental_data_encrypted",void 0),d[16].set("timestamp_ms",a[4]),d[16].set("message_tags",void 0),e=[d[16],void 0],d[14]=e[0],d[15]=e[1],e):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error INVALID_BACKUP_OPERATION"),d[16]=new c.Map(),d[16].set("error_code",c.i64.cast([-1,4294967289])),d[16].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[16].set("error_message",""),e=[void 0,d[16]],d[14]=e[0],d[15]=e[1],e),e=[d[14],d[15]],d[12]=e[0],d[13]=e[1],e))},function(a){return a=[d[12],d[13]],d[10]=a[0],d[11]=a[1],a}])},function(a){return a=[d[10],d[11]],d[2]=a[0],d[3]=a[1],a}])},function(a){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.random(),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[4],d[0])),d[9]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadUnencryptedProtobufWithInputs] ",d[6],d[7],d[6],d[8],d[6],d[9]].join("")),c.i64.eq(c.i64.mod_(d[5],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[10]=",",d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadUnencryptedProtobufWithInputs",[d[7],d[10],d[8],d[10],d[9]].join(""),d[11],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLoadUnencryptedProtobufBackupSerializedPayloadData",["LSLoadUnencryptedProtobufWithInputs","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadUnencryptedProtobufBackupSerializedPayloadData] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[19]=c.i64.mul(d[1],c.i64.cast([0,1e6])),c.db.table(2).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(d[23]=c.i64.of_float(Date.now()),f=[a[0],void 0,void 0,void 0,void 0,c.i64.sub(c.i64.mul(d[23],c.i64.cast([0,1e6])),d[19]),void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],f):(e=b.item,d[23]=c.i64.of_float(Date.now()),f=[a[0],e.queueName,e.enqueueTimestampMs,e.priority,e.firstExecutedTimestampMs,c.i64.sub(c.i64.mul(d[23],c.i64.cast([0,1e6])),d[19]),void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],f)})},function(e){return d[10]=new c.Map(),d[10].set("task_id",d[2]),d[10].set("queue_name",d[3]),d[10].set("enqueue_timestamp_ms",d[4]),d[10].set("priority",d[5]),d[10].set("first_executed_timestamp_ms",d[6]),d[10].set("execution_time_ns",d[7]),d[10].set("echo_encoding_execution_time_ns",d[8]),d[11]=new c.Map(),d[11].set("task_metadata",d[10]),d[11].set("action_type",void 0),d[11].set("content_type",void 0),d[11].set("identifiers",void 0),d[11].set("identifiers_v2",void 0),d[11].set("task_creation_source",void 0),d[11].set("message_payload_source",c.i64.cast([0,2])),c.filter(c.db.table(305).fetch(),function(b){return c.i64.eq(b.pendingBackupTaskId,a[0])}).next().then(function(e,f){var g=e.done;e=e.value;return g?(d[23]=new c.Map(),d[23].set("error_code",c.i64.cast([0,5])),d[23].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufBackupSerializedPayloadDataStoredProcedure"),d[23].set("error_message",""),g=[void 0,d[23],d[11]],d[12]=g[0],d[13]=g[1],d[14]=g[2],g):(f=e.item,c.sequence([function(b){return d[41]=f.actThreadId,d[42]=f.toplevelOfflineThreadingId,d[24]=f.messageTimestampMs,d[23]=new c.Map(),d[23].set("backup_id","openEbUploadGenericBackupId"),d[23].set("act_thread_id",d[41]),d[23].set("server_thread_id",d[41]),d[23].set("timestamp",c.i64.to_string(d[24])),d[23].set("otid",d[42]),d[25]=new c.Map(),d[25].set("backup_id","openEbUploadGenericBackupId"),d[25].set("act_thread_id",d[41]),d[25].set("timestamp",c.i64.to_string(d[24])),d[25].set("otid",d[42]),c.db.table(2).fetch([[[a[0]]]]).next().then(function(e,f){var b=e.done;e=e.value;return b?(d[43]=c.i64.of_float(Date.now()),b=[a[0],void 0,void 0,void 0,void 0,c.i64.sub(c.i64.mul(d[43],c.i64.cast([0,1e6])),d[19]),void 0],d[26]=b[0],d[27]=b[1],d[28]=b[2],d[29]=b[3],d[30]=b[4],d[31]=b[5],d[32]=b[6],b):(f=e.item,d[43]=c.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,f.priority,f.firstExecutedTimestampMs,c.i64.sub(c.i64.mul(d[43],c.i64.cast([0,1e6])),d[19]),void 0],d[26]=b[0],d[27]=b[1],d[28]=b[2],d[29]=b[3],d[30]=b[4],d[31]=b[5],d[32]=b[6],b)})},function(a){return d[34]=new c.Map(),d[34].set("task_id",d[26]),d[34].set("queue_name",d[27]),d[34].set("enqueue_timestamp_ms",d[28]),d[34].set("priority",d[29]),d[34].set("first_executed_timestamp_ms",d[30]),d[34].set("execution_time_ns",d[31]),d[34].set("echo_encoding_execution_time_ns",d[32]),d[35]=new c.Map(),d[35].set("task_metadata",d[34]),d[35].set("action_type",void 0),d[35].set("content_type",void 0),d[35].set("identifiers",void 0),d[35].set("identifiers_v2",d[25]),d[35].set("task_creation_source",void 0),d[35].set("message_payload_source",c.i64.cast([0,2])),c.storedProcedure(b("LSLoadUnencryptedProtobufWithInputs"),f.backupAction,d[41],d[42],f.supplementalKey,d[24],d[23]).then(function(a){return a=a,d[36]=a[0],d[37]=a[1],a})},function(a){return d[36]!==void 0?(d[43]=new c.Map(),d[43].set("unencrypted_protobuf_backup_payload",d[36]),d[43].set("message_identifiers",d[23]),d[43].set("attachment_backup_payload",f.attachmentPayload),d[43].set("sender_id",f.senderId),a=[d[43],void 0,d[35]],d[38]=a[0],d[39]=a[1],d[40]=a[2],a):(a=[void 0,d[37],d[35]],d[38]=a[0],d[39]=a[1],d[40]=a[2],a),a=[d[38],d[39],d[40]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]))})},function(a){return d[16]=c.i64.of_float(Date.now()),d[17]=c.i64.random(),d[20]="Finishing execution. Execution time: ",d[21]=c.i64.to_string(c.i64.sub(d[16],d[0])),d[22]=" ms",d[18]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadUnencryptedProtobufBackupSerializedPayloadData] ",d[18],d[20],d[18],d[21],d[18],d[22]].join("")),c.i64.eq(c.i64.mod_(d[17],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[23]=",",d[24]=c.createArray(),void 0!==void 0?d[25]=(d[24].push(void 0),d[24]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadUnencryptedProtobufBackupSerializedPayloadData",[d[20],d[23],d[21],d[23],d[22]].join(""),d[24],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[12],d[13],d[14]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsOpenUpload",["LSBase64Encode.nop","LSLoadUnencryptedProtobufBackupSerializedPayloadData","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsOpenUpload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSLoadUnencryptedProtobufBackupSerializedPayloadData"),a[0]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],d[4]=a[2],a})},function(a){return d[2]!==void 0?c.sequence([function(a){return d[15]=d[2].get("message_identifiers"),d[2],d[16]=d[2].get("unencrypted_protobuf_backup_payload"),d[2],d[17]=d[15].get("server_thread_id"),d[15],d[18]=d[15].get("timestamp"),d[15],d[19]=d[15].get("otid"),d[15],d[20]=d[15].get("act_thread_id"),d[15],d[21]=new c.Map(),d[21].set("server_thread_key",d[17]),d[21].set("timestamp",d[18]),d[21].set("otid",d[19]),d[21].set("wa_thread_id",c.i64.from_string(d[20])),d[22]=new c.Map(),d[22].set("message_identifiers",d[21]),d[23]=d[16].get("supplemental_data_encrypted"),d[16],d[23]!==void 0?c.sequence([function(a){return d[28]=d[16].get("protobuf_encrypted"),d[16],d[29]=d[16].get("backup_action"),d[16],d[30]=d[16].get("timestamp_ms"),d[16],d[31]=d[23].get("sk_ciphertext"),d[23],c.nativeOperation(b("LSBase64Encode.nop"),d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=d[23].get("sk_hash"),d[23],c.nativeOperation(b("LSBase64Encode.nop"),d[33]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=d[16].get("message_tags"),d[16],d[36]=new c.Map(),d[36].set("supplementary_data_key",void 0),d[36].set("encrypted_protobuf",d[28]),d[36].set("key_value_backup_action",d[29]),d[36].set("protobuf_ts_ms",d[30]),d[36].set("supplemental_key_ciphertext",d[32]),d[36].set("supplemental_key_hash",d[34]),d[36].set("message_tags",d[35]),d[24]=d[36]}]):c.resolve((d[28]=d[16].get("protobuf_encrypted"),d[16],d[29]=d[16].get("backup_action"),d[16],d[30]=d[16].get("timestamp_ms"),d[16],d[31]=d[16].get("message_tags"),d[16],d[32]=new c.Map(),d[32].set("supplementary_data_key",void 0),d[32].set("encrypted_protobuf",d[28]),d[32].set("key_value_backup_action",d[29]),d[32].set("protobuf_ts_ms",d[30]),d[32].set("message_tags",d[31]),d[24]=d[32]))},function(a){return d[22].set("key_value_backup_unencrypted_payload",d[24]),d[25]=d[2].get("sender_id"),d[2],d[22].set("sender_id",d[25]),d[26]=d[2].get("attachment_backup_payload"),d[2],d[26]!==void 0?d[22].set("attachment_backup_payload",d[26]):0,d[27]=c.toJSON(d[22]),a=[d[27],void 0,d[4]],d[5]=a[0],d[6]=a[1],d[7]=a[2],a}]):c.resolve((d[3]?d[15]=!1:d[15]=!0,d[15]?(a=[void 0,void 0,d[4]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a):(a=[void 0,d[3],d[4]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a),a=[d[16],d[17],d[18]],d[5]=a[0],d[6]=a[1],d[7]=a[2],a))},function(a){return d[15]=new c.Map(),d[16]=d[15].set("success",d[5]),d[17]=d[15].set("failure",d[6]),d[18]=d[15].set("context",d[7]),d[19]=c.toJSON(d[15]),d[8]=d[19],d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsOpenUpload] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsOpenUpload",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[8],c.i64.cast([0,50048])],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSCreateDataTrace",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(153).add({traceId:a[0],initTimestampMs:c[0],traceType:a[4],shouldFlush:!1,contextOne:a[1],contextTwo:a[2],contextThree:a[3]})},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSCreateDataTraceID.nop",["LSRequestId","LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,d){return(h||(h=b("Promise"))).resolve(c("LSResult")(c("LSRequestId").generate()))};g["default"]=a}),98);
__d("LSFlushDataTrace.nop",["MetaConfig","Promise","ReQL","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){return!c("MetaConfig")._("62")?(h||(h=b("Promise"))).resolve():d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.data_trace_meta).getKeyRange(f)).then(function(d){if(d!=null)return c("updateAndFlushLSDataTrace")(a,f);else return(h||(h=b("Promise"))).resolve()})};g["default"]=a}),98);
__d("LSGetOpenEpochKeys",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSCreateDataTrace","LSCreateDataTraceID.nop","LSDeleteBackupOnClient","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] Beginning execution."),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))&&c.i64.eq(a.backupTenancy,c.i64.cast([0,2]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){b=a.done;a=a.value;return b?d[1]=!1:(a.item,d[1]=!0)})},function(a){return d[1]?d[3]=c.i64.or_(c.i64.cast([0,90]),c.i64.cast([0,128])):d[3]=c.i64.cast([0,90]),c.sequence([function(a){return c.nativeOperation(b("LSCreateDataTraceID.nop")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.sequence([function(a){return d[24]="EncryptedBackups MCD Trace ID",d[25]=c.i64.to_string(d[3]),d[23]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBTraceUtils] ",d[23],d[24],d[23],d[25]].join("")),c.resolve()},function(a){return c.storedProcedure(b("LSCreateDataTrace"),d[20],void 0,void 0,"get_open_epoch_keys",d[3])}])},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[22]=!0:d[22]=!1,d[22]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[23]=c.createArray(),void 0!==void 0?d[24]=(d[23].push(void 0),d[23]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[23],c.i64.cast([0,3]))):c.resolve()},function(a){return d[4]=d[20]}])},function(b){return d[15]="Querying latest epoch keys with authority level: ",a[0]?d[5]="OPTIMISTIC":d[5]="AUTHORITATIVE",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ",d[6],d[15],d[6],d[5]].join("")),c.resolve()},function(e){return a[0]?d[7]="OPTIMISTIC":d[7]="AUTHORITATIVE",c.sequence([function(a){return d[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2842]),c.i64.cast([0,2]),void 0,d[7]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!0:d[21]=!1,d[21]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[22]=c.createArray(),void 0!==void 0?d[23]=(d[22].push(void 0),d[22]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[22],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.sequence([function(a){return d[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2844]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!0:d[21]=!1,d[21]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[22]=c.createArray(),void 0!==void 0?d[23]=(d[22].push(void 0),d[22]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[22],c.i64.cast([0,3]))):c.resolve()}])},function(b){return d[8]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(b){return a[0]||c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[20]=(d[8].push(c.blobs.to_string(a.epochAnonIdBlob)),d[8])})},function(a){return d[9]=c.i64.of_int32(d[8].length),c.i64.gt(d[9],c.i64.cast([0,0]))?c.sequence([function(a){return d[20]=c.i64.of_int32(d[8].length),c.sequence([function(a){return d[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2845]),c.i64.cast([0,2]),void 0,c.i64.to_string(d[20])):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[25]?d[26]=!0:d[26]=!1,d[26]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[27]=c.createArray(),void 0!==void 0?d[28]=(d[27].push(void 0),d[27]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[27],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[8],c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],d[22]=a[1],a})},function(a){return d[23]=d[21],d[24]=c.i64.of_int32(d[8].length),c.i64.gt(d[24],c.i64.cast([0,0]))?c.loopAsync(d[24],function(a){return d[25]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[8],d[25]).then(function(a){return a=a,d[26]=a[0],d[27]=a[1],a})},function(a){return c.i64.eq([0,d[23].length],[0,d[26].length])?(d[23]===d[26]?d[29]=d[23]:(d[23]>d[26]?d[30]=d[23]:d[30]=d[26],d[29]=d[30]),d[28]=d[29]):(c.i64.gt([0,d[23].length],[0,d[26].length])?d[29]=d[23]:d[29]=d[26],d[28]=d[29]),d[23]=d[28]}])}):c.resolve()},function(a){return d[10]=d[23]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] Epoch anon ID list is empty."),d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure","Epoch anon ID list is empty.",d[20],c.i64.cast([0,3]))},function(a){return c.sequence([function(a){return d[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2846]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[22]=!0:d[22]=!1,d[22]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[23]=c.createArray(),void 0!==void 0?d[24]=(d[23].push(void 0),d[23]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[23],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[10]=void 0}])},function(a){return d[10]!==void 0?c.sequence([function(a){return d[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2863]),c.i64.cast([0,2]),void 0,d[10]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!0:d[21]=!1,d[21]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[22]=c.createArray(),void 0!==void 0?d[23]=(d[22].push(void 0),d[22]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[22],c.i64.cast([0,3]))):c.resolve()}]):c.sequence([function(a){return d[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2864]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!0:d[21]=!1,d[21]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[22]=c.createArray(),void 0!==void 0?d[23]=(d[22].push(void 0),d[22]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[22],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[16]=c.blobs.of_string(d[10]),c.blobs.neq(d[16],void 0)?c.sequence([function(a){return c.sequence([function(a){return d[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2847]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[23]=!0:d[23]=!1,d[23]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[24]=c.createArray(),void 0!==void 0?d[25]=(d[24].push(void 0),d[24]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[24],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.filter(c.db.table(169).fetch(),function(a){return c.blobs.eq(a.epochAnonIdBlob,d[16])}).next().then(function(a,e){var f=a.done;a=a.value;return f?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] Found a most recent epoch anon ID, but unable to locate it again in the table. This can really only happen if the tablesomehow changed in the middle of our transaction."),d[22]=c.createArray(),void 0!==void 0?d[23]=(d[22].push(void 0),d[22]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure","Found a most recent epoch anon ID, but unable to locate it again in the table. This can really only happen if the tablesomehow changed in the middle of our transaction.",d[22],c.i64.cast([0,3]))},function(a){return c.sequence([function(a){return d[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2848]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[23]?d[24]=!0:d[24]=!1,d[24]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[25]=c.createArray(),void 0!==void 0?d[26]=(d[25].push(void 0),d[25]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[25],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[20]=void 0}]):(e=a.item,c.sequence([function(a){return d[26]=e.epochAnonIdBlob,d[24]="Using latest epoch: ",d[25]=c.blobs.to_string(d[26]),d[22]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ",d[22],d[24],d[22],d[25]].join("")),c.resolve()},function(a){return d[23]=new c.Map(),d[23].set("epoch_id",e.epochId),d[23].set("epoch_root_key",e.epochRootKeyBlob),d[23].set("epoch_anon_id",d[26]),d[20]=d[23]}]))})},function(a){return d[11]=d[20]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] No epochs whatsoever on client! This should absolutely never happen. Deleting backup from client."),d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure","No epochs whatsoever on client! This should absolutely never happen. Deleting backup from client.",d[20],c.i64.cast([0,3]))},function(a){return c.sequence([function(a){return d[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2843]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[22]=!0:d[22]=!1,d[22]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[23]=c.createArray(),void 0!==void 0?d[24]=(d[23].push(void 0),d[23]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[23],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.storedProcedure(b("LSDeleteBackupOnClient"),void 0,"get_open_epoch_keys",!0,d[4],"Attempted to fetch epoch keys when there are no epochs on the client.",!1)},function(a){return d[11]=void 0}])},function(a){return d[12]=c.i64.of_float(Date.now()),d[13]=c.i64.random(),d[17]="Finishing execution. Execution time: ",d[18]=c.i64.to_string(c.i64.sub(d[12],d[0])),d[19]=" ms",d[14]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ",d[14],d[17],d[14],d[18],d[14],d[19]].join("")),c.i64.eq(c.i64.mod_(d[13],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[20]=",",d[21]=c.createArray(),void 0!==void 0?d[22]=(d[21].push(void 0),d[21]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure",[d[17],d[20],d[18],d[20],d[19]].join(""),d[21],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[11]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsRestoreWithSerializer",["LSAppendDataTraceAddon","LSBase64Encode.nop","LSGetOpenEpochKeys","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure] Beginning execution."),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure] Fetching locally available epochs on client from epochs table"),d[1]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[16]=(d[1].push(a.epochId),d[1])})},function(a){return d[11]="Queried locally available epochs. Count: ",d[2]=c.i64.of_int32(d[1].length),d[12]=c.i64.to_string(d[2]),d[3]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[3],d[11],d[3],d[12]].join("")),c.resolve()},function(e){return c.db.table(168).fetch().next().then(function(e,f){var g=e.done;e=e.value;return g?(g=[void 0,void 0,void 0],d[4]=g[0],d[5]=g[1],d[6]=g[2],g):(f=e.item,c.sequence([function(e){return d[19]=f.deviceId,c.i64.neq(d[19],void 0)?c.sequence([function(e){return c.db.table(190).fetch([[[a[0]]]]).next().then(function(e,h){var a=e.done;e=e.value;return a?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure] No restore payload context found."),d[24]=c.createArray(),void 0!==void 0?d[25]=(d[24].push(void 0),d[24]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure","No restore payload context found.",d[24],c.i64.cast([0,3]))},function(a){return a=[void 0,void 0,void 0],d[20]=a[0],d[21]=a[1],d[22]=a[2],a}]):(h=e.item,c.sequence([function(a){return d[32]=h.traceId,c.sequence([function(a){return d[32]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[32],c.i64.cast([0,3603]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[33]?d[34]=!0:d[34]=!1,d[34]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[35]=c.createArray(),void 0!==void 0?d[36]=(d[35].push(void 0),d[35]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[35],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[24]=new c.Map(),d[24].set("server_thread_key",h.serverThreadKey),d[24].set("otid",h.messageId),d[24].set("timestamp",h.unencryptedSortKey),d[24].set("wa_thread_id",h.waThreadId),c.nativeOperation(b("LSBase64Encode.nop"),f.ocmfClientStateBlob).then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),f.mailboxRootKeyBlob).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[27]=new c.Map(),d[27].set("ocmf_client_state_blob",d[25]==null?"":d[25]),d[27].set("mailbox_root_key",d[26]==null?"":d[26]),c.storedProcedure(b("LSGetOpenEpochKeys"),!1).then(function(a){return a=a,d[28]=a[0],a})},function(a){return d[28]!==void 0?(d[33]=d[28].get("epoch_id"),d[28],d[29]=d[33]):d[29]=void 0,d[30]=new c.Map(),d[30].set("content_type",h.contentType),d[30].set("device_id",d[19]),d[30].set("epoch_id",d[29]),d[30].set("list_id",h.listId),d[30].set("num_items",h.numItems),d[30].set("start_sort_key",h.startSortKey),d[30].set("mailbox_partial_id",h.mailboxPartialId),d[30].set("trace_id",d[32]),d[30].set("message_partial_id",h.messagePartialId),d[30].set("newer_num_items",h.newerNumItems),d[30].set("locally_available_epochs",d[1]),d[30].set("raw_identifiers",d[24]),d[30].set("raw_tokens",d[27]),d[31]=c.toJSON(d[30]),a=[d[31],c.i64.cast([0,50015]),void 0],d[20]=a[0],d[21]=a[1],d[22]=a[2],a}]))})},function(a){return a=[d[20],d[21],d[22]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure] Unexpected error: Device ID is null."),d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure","Unexpected error: Device ID is null.",d[20],c.i64.cast([0,3]))},function(a){return a=[void 0,void 0,void 0],d[16]=a[0],d[17]=a[1],d[18]=a[2],a}])},function(a){return a=[d[16],d[17],d[18]],d[4]=a[0],d[5]=a[1],d[6]=a[2],a}]))})},function(a){return d[8]=c.i64.of_float(Date.now()),d[9]=c.i64.random(),d[13]="Finishing execution. Execution time: ",d[14]=c.i64.to_string(c.i64.sub(d[8],d[0])),d[15]=" ms",d[10]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure] ",d[10],d[13],d[10],d[14],d[10],d[15]].join("")),c.i64.eq(c.i64.mod_(d[9],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[16]=",",d[17]=c.createArray(),void 0!==void 0?d[18]=(d[17].push(void 0),d[17]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure",[d[13],d[16],d[14],d[16],d[15]].join(""),d[17],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[4],d[5],d[6]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSDeriveValueSecretRefV2",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][deriveValueSecretRefV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=a[2].get("message_payload_encryption_keys"),a[2],d[3]=d[2].get("encryption_version"),d[2],d[4]=d[2].get("epoch_anon_id"),d[2],d[5]=d[2].get("epoch_root_key"),d[2],d[6]=d[2].get("payload_key"),d[2],d[7]=c.createArray(),d[41]=(d[7].push(c.i64.cast([0,6])),d[7]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_anon_id_debug").then(function(a){return a=a,d[8]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[8],void 0,d[4],d[7]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[9]?d[10]=!1:d[10]=!0,d[10]?c.resolve(d[11]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[9],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[11]=d[43]==null?"":d[43]}])},function(a){return d[12]=c.createArray(),d[41]=(d[12].push(c.i64.cast([0,6])),d[12]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_debug").then(function(a){return a=a,d[13]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[13],void 0,d[5],d[12]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!1:d[15]=!0,d[15]?c.resolve(d[16]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[16]=d[43]==null?"":d[43]}])},function(a){return d[17]=c.createArray(),d[41]=(d[17].push(c.i64.cast([0,6])),d[17]),c.nativeOperation(b("LSGetBlobFromString.nop"),"message_key_debug").then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[18],void 0,d[6],d[17]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[20]=!1:d[20]=!0,d[20]?c.resolve(d[21]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[21]=d[43]==null?"":d[43]}])},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[22]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),[d[22]==null?"":d[22],a[0]].join("")).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[24]=c.createArray(),d[41]=(d[24].push(c.i64.cast([0,6])),d[24]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_thread_id_debug").then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[25],void 0,d[23],d[24]).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[26]?d[27]=!1:d[27]=!0,d[27]?c.resolve(d[28]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[26],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[28]=d[43]==null?"":d[43]}])},function(a){return d[29]=":",c.blobs.neq(d[5],void 0)?c.sequence([function(a){return d[41]=c.createArray(),d[47]=(d[41].push(c.i64.cast([0,18])),d[41]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,d[5],d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[42]!==void 0?c.sequence([function(a){return d[47]=c.i64.of_int32(d[42].length),c.i64.ge(d[47],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[42],c.i64.cast([0,0])).then(function(a){return a=a,d[49]=a[0],d[50]=a[1],a})},function(a){return d[48]=d[49]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[49]=c.createArray(),void 0!==void 0?d[50]=(d[49].push(void 0),d[49]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[49],c.i64.cast([0,3]))},function(a){return d[48]=void 0}])},function(a){return d[43]=d[48]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[47]=c.createArray(),void 0!==void 0?d[48]=(d[47].push(void 0),d[47]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[47],c.i64.cast([0,3]))},function(a){return d[43]=void 0}])},function(a){return c.blobs.neq(d[43],void 0)?d[44]=!0:d[44]=!1,d[44]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nativeOperation(b("LSBase64Encode.nop"),d[43]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]!==void 0?d[46]=d[45]:d[46]="encodingfailed",d[30]=d[46]}]):c.resolve(d[30]="null")},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[4]).then(function(a){return a=a,d[31]=a[0],a})},function(e){return d[32]=new c.Map(),d[32].set("encryption_version",d[3]),d[32].set("epoch_anon_id",d[31]==null?"":d[31]),d[32].set("message_encryption_values",[d[11],d[29],d[16],d[29],d[21],d[29],d[28]].join("")),d[32].set("root_key_fingerprint",d[30]),d[32].set("backup_id",a[1]),d[33]=c.toJSON(d[32]),d[34]=new c.Map(),d[34].set("value_secret_ref",d[33]),d[35]=c.i64.of_float(Date.now()),d[36]=c.i64.random(),d[38]="Finishing execution. Execution time: ",d[39]=c.i64.to_string(c.i64.sub(d[35],d[0])),d[40]=" ms",d[37]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][deriveValueSecretRefV2] ",d[37],d[38],d[37],d[39],d[37],d[40]].join("")),c.i64.eq(c.i64.mod_(d[36],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[41]=",",d[42]=c.createArray(),void 0!==void 0?d[43]=(d[42].push(void 0),d[42]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"deriveValueSecretRefV2",[d[38],d[41],d[39],d[41],d[40]].join(""),d[42],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[34],void 0],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSBinaryToHex.nop",["LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,d,e){a=Array.from(new Uint8Array(e));d=a.map(function(a){return a.toString(16).padStart(2,"0")});e=d.join("").toUpperCase();return(h||(h=b("Promise"))).resolve(c("LSResult")(e))};g["default"]=a}),98);
__d("LSGetBlobFromInt64BE.nop",["I64","LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(a,e,f){var g=new Uint8Array(8);g.reduceRight(function(a,b,c){b=(i||(i=d("I64"))).to_int32(i.mod_(a,i.of_string("256")));g[c]=b;return i.div(a,i.of_string("256"))},f);return(h||(h=b("Promise"))).resolve(c("LSResult")(g.buffer))};g["default"]=a}),98);
__d("LSHmac_v2.nop",["CryptoLogger","LSResult","Promise","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f,g){return d("XPlatReactCrypto").subtleImportKey("raw",f,{hash:"SHA-256",name:"HMAC"},!1,["sign"]).then(function(a){return d("XPlatReactCrypto").subtleSign("HMAC",a,g)}).then(function(a){return(h||(h=b("Promise"))).resolve(c("LSResult")(a))})["catch"](function(a){d("CryptoLogger").captureError(d("CryptoLogger").CryptoLogger("hmac_v2"),a).mustfix("Crypto signing failed");throw a})};g["default"]=a}),98);
__d("LSOcmfClientMap.nop",["CryptoLogger","LSResult","Promise","XPlatReactCrypto","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("ristretto255").__setRef("LSOcmfClientMap.nop");a=function(a,e,f,g){return(h||(h=b("Promise"))).all([d("XPlatReactCrypto").subtleDigest("SHA-512",g),i.load()]).then(function(a){var b=a[0];a=a[1];b=a.fromHash(new Uint8Array(b));a=a.scalarMult(new Uint8Array(f),b);return c("LSResult")(a.buffer)})["catch"](function(a){d("CryptoLogger").captureError(d("CryptoLogger").CryptoLogger("ocmf_client_map"),a).mustfix("Failed OcmfClientMap.");throw a})};g["default"]=a}),98);
__d("LSCryptoUtils",["FBLogger","XPlatReactTextDecoder","XPlatReactTextEncoder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new Uint8Array(a)}function h(a){var b=new(d("XPlatReactTextEncoder").TextEncoder)();return b.encode(a)}function i(a){var b=new(d("XPlatReactTextDecoder").TextDecoder)();return b.decode(a)}function b(a){return i(new Uint8Array(a))}function e(a){return h(a).buffer}function f(a,b){var d=a.byteLength,e=b.byteLength;if(d!==e)throw c("FBLogger")("mpf_web_foundations").mustfixThrow("Mismatched lengths for modAdd, %d != %d",d,e);var f=new Uint8Array(d);new Uint8Array(d).reduceRight(function(c,d,e){d=a[e];var g=b[e];d=d+g+c;g=d>255?[d-256,1]:[d,0];f[e]=g[0];return g[1]},0);return f}g.bufToUint8=a;g.strToUint8=h;g.uint8ToStr=i;g.bufToStr=b;g.strToBuf=e;g.modAddBytes=f}),98);
__d("UInt8Array",["XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.length;if(!(b>0&&b%2===0&&/^[\da-f]+$/gi.test(a)))return;var c=[];for(var d=0,b=b/2|0;d<b;++d){var e=parseInt(a.substring(d<<1,(d<<1)+2|0),16);c.push(e)}return new Uint8Array(c)}function b(a){return d("XPlatReactCrypto").getRandomValues(new Uint8Array(a)).buffer}function c(a){a=a.filter(function(a){return a.byteLength!==0});var b=a.reduce(function(a,b){return a+b.byteLength|0},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.byteLength|0},0);return c}g.fromHexString=a;g.getBufferWithRandomValuesFromLength=b;g.concatBytes=c}),98);
__d("OrderPreservingEncryption",["FBLogger","LSCryptoUtils","Promise","UInt8Array","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return d("XPlatReactCrypto").getRandomValues(new Uint8Array(32)).buffer}function i(a){var b=a.length;return b%2!==0?"0"+a:a}function j(a){a=BigInt(a);var b=i(a.toString(16));a=b.length;a=a/2;var c=[];for(var d=0;d<a;++d)c.push(d*2);return new Uint8Array(c.map(function(a){var c=a+2;return b.slice(a,c)}).map(function(a){return parseInt(a,16)}))}function k(a){a=a.map(function(a){return a._0});return{_0:d("UInt8Array").concatBytes(a)}}function l(a){return"OPE key has length "+String(a)+", expected  "+String(32)}function m(a,b,c){return d("XPlatReactCrypto").subtleImportKey("raw",a.buffer,"HKDF",!1,["deriveKey","deriveBits"]).then(function(a){var e=new ArrayBuffer(0);return d("XPlatReactCrypto").subtleDeriveBits({hash:"SHA-256",info:b.buffer,name:"HKDF",salt:e},a,c*8)}).then(function(a){return{_0:d("LSCryptoUtils").bufToUint8(a)}})}function n(a,b){return{_0:d("LSCryptoUtils").modAddBytes(a._0,b)}}function o(a,e,f,g){var i=f.byteLength;if(i!==32)throw c("FBLogger")("labyrinth_web").mustfixThrow(l(i));var j=g.byteLength,o=function(a,b){var c=new Uint8Array(1+j),d=new Uint8Array(j-b).fill(0);c.set([b]);c.set(a.subarray(0,b),1);c.set(d,b+1);return c};if(j>=255)throw c("FBLogger")("labyrinth_web").mustfixThrow("Input is too large");return(h||(h=b("Promise"))).all(Array.from(g).map(function(b,c){c=o(g,c);var e=new Uint8Array(a);e[a-1]=b;b=d("LSCryptoUtils").bufToUint8(f);return m(b,c,a).then(function(a){return n(a,e)})})).then(function(a){return d("UInt8Array").concatBytes([new Uint8Array([e]),k(a)._0])})}function e(a,b,c,d){d=j(d);return o(a,b,c,d)}g.keyGen=a;g.intStringToBEBytes=j;g.buildKeyLengthErrorMsg=l;g.encryptBigEndianBytes=o;g.encryptIntString=e}),98);
__d("LSOpeEncrypt.nop",["CryptoLogger","I64","LSResult","OrderPreservingEncryption","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(a,e,f,g,j){var k=d("CryptoLogger").CryptoLogger("ope_encrypt");return d("OrderPreservingEncryption").encryptBigEndianBytes((i||(i=d("I64"))).to_int32(j),1,f,new Uint8Array(g)).then(function(a){return(h||(h=b("Promise"))).resolve(c("LSResult")(a.buffer))})["catch"](function(a){d("CryptoLogger").captureError(k,a).mustfix("OpeEncrypt_impl failed");throw a})};g["default"]=a}),98);
__d("LSTruncateSortKey.nop",["CryptoLogger","LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("CryptoLogger").CryptoLogger("truncate_sort_key");a=function(a,d,e){if(e.byteLength!==8)throw i.mustfixThrow("Bad length on sort key for truncation");a=new Uint8Array(e);d=a.subarray(0,2);if(d.some(function(a){return a!==0}))throw i.mustfixThrow("Bad prefix on sort key for truncation");return(h||(h=b("Promise"))).resolve(c("LSResult")(e.slice(2)))};g["default"]=a}),98);
__d("LSEncryptIdentifiersV2",["LSBase64Encode.nop","LSBinaryToHex.nop","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][encryptIdentifiersV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=a[6].get("ocmf_shared_key"),a[6],c.nativeOperation(b("LSGetBlobFromString.nop"),a[2]).then(function(a){return a=a,d[3]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[3]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[2],d[4]).then(function(a){return a=a,d[5]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[6]=a[0],a})},function(e){return c.i64.eq(a[0],c.i64.cast([0,2]))&&c.i64.eq(a[1],c.i64.cast([0,2]))?d[7]=a[5]:d[7]=a[3],d[8]=a[6].get("ocmf_shared_key"),a[6],c.nativeOperation(b("LSGetBlobFromString.nop"),d[7]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[9]).then(function(a){return a=a,d[10]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[8],d[10]).then(function(a){return a=a,d[11]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[11]).then(function(a){return a=a,d[12]=a[0],a})},function(e){return d[13]=a[6].get("ope_key"),a[6],c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[4]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[14]).then(function(a){return a=a,d[15]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[13],d[15],c.i64.cast([0,16])).then(function(a){return a=a,d[16]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[16]).then(function(a){return a=a,d[17]=a[0],a})},function(e){return d[18]=a[6].get("ocmf_shared_key"),a[6],c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[19]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[18],d[20]).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[21]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[23]=new c.Map(),d[23].set("backup_id_ocmf_partial",d[6]==null?"":d[6]),d[23].set("act_thread_id_ocmf_partial",d[12]==null?"":d[12]),d[23].set("timestamp_encrypted",d[17]==null?"":d[17]),d[23].set("otid_ocmf_partial",d[22]==null?"":d[22]),d[24]=c.i64.of_float(Date.now()),d[25]=c.i64.random(),d[27]="Finishing execution. Execution time: ",d[28]=c.i64.to_string(c.i64.sub(d[24],d[0])),d[29]=" ms",d[26]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][encryptIdentifiersV2] ",d[26],d[27],d[26],d[28],d[26],d[29]].join("")),c.i64.eq(c.i64.mod_(d[25],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[30]=",",d[31]=c.createArray(),void 0!==void 0?d[32]=(d[31].push(void 0),d[31]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"encryptIdentifiersV2",[d[27],d[30],d[28],d[30],d[29]].join(""),d[31],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[23],void 0],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSymmetricEncryptionCreateEncryptedData.nop",["CryptoLogger","EncryptedBackupsSymmetricEncryptionUtils","HChaCha20","Promise","RetUtil","SymmetricEncryptionPaddingUtils","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,c,e,f,g){var i=d("CryptoLogger").CryptoLogger("symmetric_encryption_create_encrypted_data"),j=d("SymmetricEncryptionPaddingUtils").padData(g),k=d("XPlatReactCrypto").getRandomValues(new Uint8Array(d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes));a=new(d("HChaCha20").HChaCha20)();c=a.hChaCha20Bytes(k.slice(0,d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer,e);return d("XPlatReactCrypto").subtleImportKey("raw",c,"AES-GCM",!1,["encrypt"]).then(function(a){return d("XPlatReactCrypto").subtleEncrypt({additionalData:f,iv:new Uint8Array(k.slice(d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer),name:"AES-GCM",tagLength:d("EncryptedBackupsSymmetricEncryptionUtils").aesGcmTagLength},a,j)}).then(function(a){var c=k.byteLength+a.byteLength;c=new Uint8Array(c);c.set(k);c.set(new Uint8Array(a),d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes);return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(c.buffer))})["catch"](function(a){d("CryptoLogger").captureError(i,a).mustfix("symmetric data encryption failed");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())})};g["default"]=a}),98);
__d("LSSymmetricEncryptionCreateEncryptedString.nop",["Base64Utils","CryptoLogger","LSCryptoUtils","LSSymmetricEncryptionCreateEncryptedData.nop","Promise","RetUtil"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f,g,i){var j=d("CryptoLogger").CryptoLogger("symmetric_encryption_create_encrypted_string");return c("LSSymmetricEncryptionCreateEncryptedData.nop")(a,e,f,g,d("LSCryptoUtils").strToBuf(i)).then(function(a){return a[0]}).then(function(a){return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(a?d("Base64Utils").fromArrayBuffer(a):void 0))})["catch"](function(a){d("CryptoLogger").captureError(j,a).mustfix("symmetric string encryption failed");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())})};g["default"]=a}),98);
__d("LSEncryptMessagePayloadV2",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop","LSSymmetricEncryptionCreateEncryptedString.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][encryptMessagePayloadV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=a[2].get("message_payload_encryption_keys"),a[2],d[3]=d[2].get("payload_key"),d[2],c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),d[3],c.blobs.of_string(["message_thread","_",a[1]].join("")),a[3]).then(function(a){return a=a,d[4]=a[0],a})},function(e){return d[4]!==void 0?c.sequence([function(a){return d[13]=d[2].get("encryption_version"),d[2],d[14]=d[2].get("epoch_anon_id"),d[2],d[15]=d[2].get("epoch_root_key"),d[2],d[16]=d[2].get("payload_key"),d[2],d[17]=c.createArray(),d[45]=(d[17].push(c.i64.cast([0,6])),d[17]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_anon_id_debug").then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[18],void 0,d[14],d[17]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[20]=!1:d[20]=!0,d[20]?c.resolve(d[21]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[21]=d[47]==null?"":d[47]}])},function(a){return d[22]=c.createArray(),d[45]=(d[22].push(c.i64.cast([0,6])),d[22]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_debug").then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[23],void 0,d[15],d[22]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[25]=!1:d[25]=!0,d[25]?c.resolve(d[26]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[24],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[26]=d[47]==null?"":d[47]}])},function(a){return d[27]=c.createArray(),d[45]=(d[27].push(c.i64.cast([0,6])),d[27]),c.nativeOperation(b("LSGetBlobFromString.nop"),"message_key_debug").then(function(a){return a=a,d[28]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[28],void 0,d[16],d[27]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[29]?d[30]=!1:d[30]=!0,d[30]?c.resolve(d[31]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[29],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[31]=d[47]==null?"":d[47]}])},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[15]).then(function(a){return a=a,d[32]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),[d[32]==null?"":d[32],a[1]].join("")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[34]=c.createArray(),d[45]=(d[34].push(c.i64.cast([0,6])),d[34]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_thread_id_debug").then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[35],void 0,d[33],d[34]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[37]=!1:d[37]=!0,d[37]?c.resolve(d[38]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[36],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[38]=d[47]==null?"":d[47]}])},function(a){return d[39]=":",c.blobs.neq(d[15],void 0)?c.sequence([function(a){return d[45]=c.createArray(),d[51]=(d[45].push(c.i64.cast([0,18])),d[45]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,d[15],d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[46]!==void 0?c.sequence([function(a){return d[51]=c.i64.of_int32(d[46].length),c.i64.ge(d[51],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[46],c.i64.cast([0,0])).then(function(a){return a=a,d[53]=a[0],d[54]=a[1],a})},function(a){return d[52]=d[53]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[53]=c.createArray(),void 0!==void 0?d[54]=(d[53].push(void 0),d[53]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[53],c.i64.cast([0,3]))},function(a){return d[52]=void 0}])},function(a){return d[47]=d[52]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[51]=c.createArray(),void 0!==void 0?d[52]=(d[51].push(void 0),d[51]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[51],c.i64.cast([0,3]))},function(a){return d[47]=void 0}])},function(a){return c.blobs.neq(d[47],void 0)?d[48]=!0:d[48]=!1,d[48]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nativeOperation(b("LSBase64Encode.nop"),d[47]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return d[49]!==void 0?d[50]=d[49]:d[50]="encodingfailed",d[40]=d[50]}]):c.resolve(d[40]="null")},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[14]).then(function(a){return a=a,d[41]=a[0],a})},function(b){return d[42]=new c.Map(),d[42].set("encryption_version",d[13]),d[42].set("epoch_anon_id",d[41]==null?"":d[41]),d[42].set("message_encryption_values",[d[21],d[39],d[26],d[39],d[31],d[39],d[38]].join("")),d[42].set("root_key_fingerprint",d[40]),d[42].set("backup_id",a[0]),d[43]=c.toJSON(d[42]),d[44]=new c.Map(),d[44].set("encrypted_message_payload",d[4]),d[44].set("value_secret_ref",d[43]),b=[d[44],void 0],d[5]=b[0],d[6]=b[1],b}]):c.resolve((d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,40])),d[13].set("stored_procedure","LSEncryptedBackupsEncryptMessagePayloadV2StoredProcedure"),d[13].set("error_message",""),e=[void 0,d[13]],d[5]=e[0],d[6]=e[1],e))},function(a){return d[7]=c.i64.of_float(Date.now()),d[8]=c.i64.random(),d[10]="Finishing execution. Execution time: ",d[11]=c.i64.to_string(c.i64.sub(d[7],d[0])),d[12]=" ms",d[9]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][encryptMessagePayloadV2] ",d[9],d[10],d[9],d[11],d[9],d[12]].join("")),c.i64.eq(c.i64.mod_(d[8],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[13]=",",d[14]=c.createArray(),void 0!==void 0?d[15]=(d[14].push(void 0),d[14]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"encryptMessagePayloadV2",[d[10],d[13],d[11],d[13],d[12]].join(""),d[14],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[5],d[6]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSGetLatestEpochKeys",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][getLatestEpochKeys] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]="",d[3]=void 0,d[4]=void 0,a[0]?c.resolve(0):(d[14]=void 0,c.i64.neq(d[14],void 0)?c.db.table(169).fetch([[[d[14]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[2]=c.blobs.to_string(b.epochAnonIdBlob),d[3]=b.epochId,d[4]=b.epochRootKeyBlob)}):c.resolve())},function(b){return c.i64.neq(d[3],void 0)?c.resolve(0):c.forEach(c.filter(c.db.table(169).fetch(),function(b){return a[0]||c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[15]=c.blobs.to_string(a.epochAnonIdBlob),c.i64.eq([0,d[15].length],[0,d[2].length])?d[14]=d[15]>d[2]:d[14]=c.i64.gt([0,d[15].length],[0,d[2].length]),d[14]?(d[2]=d[15],d[3]=a.epochId,d[4]=a.epochRootKeyBlob,d[16]=c.i64.of_float(Date.now()),0):0})},function(a){return d[10]=c.blobs.of_string(d[2]),c.i64.neq(d[3],void 0)?(c.blobs.neq(d[10],void 0)?(c.blobs.neq(d[4],void 0)?(d[18]=new c.Map(),d[18].set("epoch_id",d[3]),d[18].set("epoch_root_key",d[4]),d[18].set("epoch_anon_id",d[10]),d[19]=new c.Map(),d[19].set("epoch_keys",d[18]),a=[d[19],void 0],d[16]=a[0],d[17]=a[1],a):(d[18]=new c.Map(),d[18].set("error_code",c.i64.cast([0,402])),d[18].set("error_message","failed to query latest epoch"),d[18].set("stored_procedure","LSEncryptedBackupsGetLatestEpochKeysStoredProcedure"),a=[void 0,d[18]],d[16]=a[0],d[17]=a[1],a),a=[d[16],d[17]],d[14]=a[0],d[15]=a[1],a):(d[16]=new c.Map(),d[16].set("error_code",c.i64.cast([0,403])),d[16].set("error_message","failed to query latest epoch"),d[16].set("stored_procedure","LSEncryptedBackupsGetLatestEpochKeysStoredProcedure"),a=[void 0,d[16]],d[14]=a[0],d[15]=a[1],a),a=[d[14],d[15]],d[5]=a[0],d[6]=a[1],a):(d[14]=new c.Map(),d[14].set("error_code",c.i64.cast([0,400])),d[14].set("error_message","failed to query latest epoch"),d[14].set("stored_procedure","LSEncryptedBackupsGetLatestEpochKeysStoredProcedure"),a=[void 0,d[14]],d[5]=a[0],d[6]=a[1],a),d[7]=c.i64.of_float(Date.now()),d[8]=c.i64.random(),d[11]="Finishing execution. Execution time: ",d[12]=c.i64.to_string(c.i64.sub(d[7],d[0])),d[13]=" ms",d[9]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][getLatestEpochKeys] ",d[9],d[11],d[9],d[12],d[9],d[13]].join("")),c.i64.eq(c.i64.mod_(d[8],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[14]=",",d[15]=c.createArray(),void 0!==void 0?d[16]=(d[15].push(void 0),d[15]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"getLatestEpochKeys",[d[11],d[14],d[12],d[14],d[13]].join(""),d[15],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[5],d[6]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLoadAndEncryptProtobufWithInputsV2",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSLogMebClientEvent.nop","LSQueryLocalPersistenceStoreForBackup.nop","LSQueryLocalPersistenceStoreSupplementalForBackup.nop","LSQueryLocalPersistenceStoreTagsForBackup.nop","LSSymmetricEncryptionCreateEncryptedData.nop","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][loadAndEncryptProtobufWithInputsV2] Beginning execution."),e[1]=d.i64.of_float(Date.now()),(c("gkx")("23657")||c("gkx")("26375"))&&(c("gkx")("26377")||c("gkx")("687"))?d.sequence([function(c){return d.i64.eq(a[0],d.i64.cast([0,1]))?d.sequence([function(c){return d.nativeOperation(b("LSQueryLocalPersistenceStoreForBackup.nop"),a[1],a[2]).then(function(a){return a=a,e[12]=a[0],e[13]=a[1],e[14]=a[2],a})},function(c){return d.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,e[15]=a[0],a})},function(c){return d.blobs.neq(e[12],void 0)?d.sequence([function(c){return e[18]=a[5].get("message_payload_encryption_keys"),a[5],e[19]=e[18].get("payload_key"),e[18],d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),e[19],d.blobs.of_string(["message_thread","_",a[1]].join("")),e[12]).then(function(a){return a=a,e[20]=a[0],a})},function(a){return d.blobs.neq(e[20],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[20]).then(function(a){return a=a,e[24]=a[0],a})},function(a){return e[21]=e[24]}]):d.resolve(e[21]=void 0)},function(b){return e[21]!==void 0?(e[15]!==void 0?(e[26]=new d.Map(),e[26].set("message_tags",e[15]),e[27]=new d.Map(),e[31]="message_tags",e[28]=e[26].get(e[31]),e[26],e[28]?e[29]=!1:e[29]=!0,e[29]?0:e[27].set(e[31],e[28]),e[30]=d.toJSON(e[27]),e[24]=e[30]):e[24]=void 0,e[25]=new d.Map(),e[25].set("backup_action",a[0]),e[25].set("protobuf_encrypted",e[21]),e[25].set("supplemental_data_encrypted",void 0),e[25].set("timestamp_ms",a[4]),e[25].set("message_tags",e[24]),e[25].set("serialized_attachment_backup_payload",void 0),b=[e[25],void 0],e[22]=b[0],e[23]=b[1],b):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ENCRYPTION_FAILED"),e[24]=new d.Map(),e[24].set("error_code",d.i64.cast([0,62])),e[24].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[24].set("error_message",""),b=[void 0,e[24]],e[22]=b[0],e[23]=b[1],b),b=[e[22],e[23]],e[16]=b[0],e[17]=b[1],b}]):d.resolve((e[14]?(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ALREADY_DELETED"),e[20]=new d.Map(),e[20].set("error_code",d.i64.cast([0,70])),e[20].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[20].set("error_message",""),c=[void 0,e[20]],e[18]=c[0],e[19]=c[1],c):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_TOPLEVEL_TABLE"),e[20]=new d.Map(),e[20].set("error_code",d.i64.cast([0,63])),e[20].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[20].set("error_message",""),c=[void 0,e[20]],e[18]=c[0],e[19]=c[1],c),c=[e[18],e[19]],e[16]=c[0],e[17]=c[1],c))},function(a){return a=[e[16],e[17]],e[10]=a[0],e[11]=a[1],a}]):d.sequence([function(c){return d.i64.eq(a[0],d.i64.cast([0,2]))?d.sequence([function(c){return a[3]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSQueryLocalPersistenceStoreSupplementalForBackup.nop"),a[1],a[2],a[3]).then(function(a){return a=a,e[16]=a[0],e[17]=a[1],a})},function(c){return d.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,e[18]=a[0],a})},function(c){return d.blobs.neq(e[16],void 0)?d.sequence([function(c){return e[21]=a[5].get("mailbox_root_key_v2"),a[5],d.blobs.neq(e[21],void 0)?d.sequence([function(c){return e[24]=a[5].get("message_payload_encryption_keys"),a[5],e[25]=e[24].get("epoch_root_key"),e[24],e[26]=d.createArray(),e[39]=(e[26].push(d.i64.cast([0,32])),e[26]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5zdXBwbGVtZW50YWxfcHJmX2tleQ=="),void 0,e[21],e[26]).then(function(a){return a=a,e[27]=a[0],a})},function(a){return e[27]!==void 0?d.sequence([function(a){return e[39]=d.i64.of_int32(e[27].length),d.i64.ge(e[39],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[27],d.i64.cast([0,0])).then(function(a){return a=a,e[41]=a[0],e[42]=a[1],a})},function(a){return e[40]=e[41]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[41]=d.createArray(),void 0!==void 0?e[42]=(e[41].push(void 0),e[41]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",e[41],d.i64.cast([0,3]))},function(a){return e[40]=void 0}])},function(a){return e[28]=e[40]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[39]=d.createArray(),void 0!==void 0?e[40]=(e[39].push(void 0),e[39]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",e[39],d.i64.cast([0,3]))},function(a){return e[28]=void 0}])},function(a){return d.blobs.neq(e[28],void 0)?e[29]=!0:e[29]=!1,e[29]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[30]=d.createArray(),e[39]=(e[30].push(d.i64.cast([0,32])),e[30]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5zdXBwbGVtZW50YWxfZW5jX2tleQ=="),void 0,e[25],e[30]).then(function(a){return a=a,e[31]=a[0],a})},function(a){return e[31]!==void 0?d.sequence([function(a){return e[39]=d.i64.of_int32(e[31].length),d.i64.ge(e[39],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[31],d.i64.cast([0,0])).then(function(a){return a=a,e[41]=a[0],e[42]=a[1],a})},function(a){return e[40]=e[41]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[41]=d.createArray(),void 0!==void 0?e[42]=(e[41].push(void 0),e[41]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",e[41],d.i64.cast([0,3]))},function(a){return e[40]=void 0}])},function(a){return e[32]=e[40]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[39]=d.createArray(),void 0!==void 0?e[40]=(e[39].push(void 0),e[39]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",e[39],d.i64.cast([0,3]))},function(a){return e[32]=void 0}])},function(c){return d.blobs.neq(e[32],void 0)?e[33]=!0:e[33]=!1,e[33]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d.nativeOperation(b("LSGetBlobFromString.nop"),a[3]).then(function(a){return a=a,e[34]=a[0],a})},function(a){return d.nativeOperation(b("LSHmac_v2.nop"),e[28],e[34]).then(function(a){return a=a,e[35]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),e[32],d.blob("c3VwcGxlbWVudGFsX2VuY19hYWQ="),e[34]).then(function(a){return a=a,e[36]=a[0],a})},function(c){return d.blobs.neq(e[36],void 0)?d.sequence([function(c){return e[39]=new d.Map(),e[39].set("sk_ciphertext",e[36]),e[39].set("sk_hash",e[35]),e[40]=a[5].get("message_payload_encryption_keys"),a[5],e[41]=e[40].get("payload_key"),e[40],d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),e[41],d.blobs.of_string(["message_thread","_",a[1]].join("")),e[16]).then(function(a){return a=a,e[42]=a[0],a})},function(a){return d.blobs.neq(e[42],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[42]).then(function(a){return a=a,e[46]=a[0],a})},function(a){return e[43]=e[46]}]):d.resolve(e[43]=void 0)},function(b){return e[43]!==void 0?(e[18]!==void 0?(e[48]=new d.Map(),e[48].set("message_tags",e[18]),e[49]=new d.Map(),e[53]="message_tags",e[50]=e[48].get(e[53]),e[48],e[50]?e[51]=!1:e[51]=!0,e[51]?0:e[49].set(e[53],e[50]),e[52]=d.toJSON(e[49]),e[46]=e[52]):e[46]=void 0,e[47]=new d.Map(),e[47].set("backup_action",a[0]),e[47].set("protobuf_encrypted",e[43]),e[47].set("supplemental_data_encrypted",e[39]),e[47].set("timestamp_ms",a[4]),e[47].set("message_tags",e[46]),e[47].set("serialized_attachment_backup_payload",void 0),b=[e[47],void 0],e[44]=b[0],e[45]=b[1],b):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ENCRYPTION_FAILED"),e[46]=new d.Map(),e[46].set("error_code",d.i64.cast([0,62])),e[46].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[46].set("error_message",""),b=[void 0,e[46]],e[44]=b[0],e[45]=b[1],b),b=[e[44],e[45]],e[37]=b[0],e[38]=b[1],b}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error SUPPLEMENTAL_ENCRYPTION_FAILED"),e[39]=new d.Map(),e[39].set("error_code",d.i64.cast([0,66])),e[39].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[39].set("error_message",""),c=[void 0,e[39]],e[37]=c[0],e[38]=c[1],c))},function(a){return a=[e[37],e[38]],e[22]=a[0],e[23]=a[1],a}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error NULL_MAILBOX_ROOT_KEY_V2"),e[24]=new d.Map(),e[24].set("error_code",d.i64.cast([0,27])),e[24].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[24].set("error_message",""),c=[void 0,e[24]],e[22]=c[0],e[23]=c[1],c))},function(a){return a=[e[22],e[23]],e[19]=a[0],e[20]=a[1],a}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_SUPPLEMENTAL_TABLE"),e[21]=new d.Map(),e[21].set("error_code",d.i64.cast([0,64])),e[21].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[21].set("error_message",""),c=[void 0,e[21]],e[19]=c[0],e[20]=c[1],c))},function(a){return a=[e[19],e[20]],e[14]=a[0],e[15]=a[1],a}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error SUPPLEMENTAL_KEY_NOT_SET_IN_CONTEXT_TABLE"),e[16]=new d.Map(),e[16].set("error_code",d.i64.cast([0,65])),e[16].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[16].set("error_message",""),c=[void 0,e[16]],e[14]=c[0],e[15]=c[1],c))},function(a){return a=[e[14],e[15]],e[12]=a[0],e[13]=a[1],a}]):d.sequence([function(c){return d.i64.eq(a[0],d.i64.cast([0,4]))?d.sequence([function(c){return d.nativeOperation(b("LSQueryLocalPersistenceStoreForBackup.nop"),a[1],a[2]).then(function(a){return a=a,e[16]=a[0],e[17]=a[1],e[18]=a[2],a})},function(c){return d.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,e[19]=a[0],a})},function(c){return d.blobs.neq(e[16],void 0)?d.sequence([function(c){return e[22]=a[5].get("message_payload_encryption_keys"),a[5],e[23]=e[22].get("payload_key"),e[22],d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),e[23],d.blobs.of_string(["message_thread","_",a[1]].join("")),e[16]).then(function(a){return a=a,e[24]=a[0],a})},function(a){return d.blobs.neq(e[24],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[24]).then(function(a){return a=a,e[28]=a[0],a})},function(a){return e[25]=e[28]}]):d.resolve(e[25]=void 0)},function(b){return e[25]!==void 0?(e[19]!==void 0?(e[30]=new d.Map(),e[30].set("message_tags",e[19]),e[31]=new d.Map(),e[35]="message_tags",e[32]=e[30].get(e[35]),e[30],e[32]?e[33]=!1:e[33]=!0,e[33]?0:e[31].set(e[35],e[32]),e[34]=d.toJSON(e[31]),e[28]=e[34]):e[28]=void 0,e[29]=new d.Map(),e[29].set("backup_action",a[0]),e[29].set("protobuf_encrypted",e[25]),e[29].set("supplemental_data_encrypted",void 0),e[29].set("timestamp_ms",a[4]),e[29].set("message_tags",e[28]),e[29].set("serialized_attachment_backup_payload",void 0),b=[e[29],void 0],e[26]=b[0],e[27]=b[1],b):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ENCRYPTION_FAILED"),e[28]=new d.Map(),e[28].set("error_code",d.i64.cast([0,62])),e[28].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[28].set("error_message",""),b=[void 0,e[28]],e[26]=b[0],e[27]=b[1],b),b=[e[26],e[27]],e[20]=b[0],e[21]=b[1],b}]):d.resolve((e[18]?(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ALREADY_DELETED"),e[24]=new d.Map(),e[24].set("error_code",d.i64.cast([0,70])),e[24].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[24].set("error_message",""),c=[void 0,e[24]],e[22]=c[0],e[23]=c[1],c):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_TOPLEVEL_TABLE"),e[24]=new d.Map(),e[24].set("error_code",d.i64.cast([0,63])),e[24].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[24].set("error_message",""),c=[void 0,e[24]],e[22]=c[0],e[23]=c[1],c),c=[e[22],e[23]],e[20]=c[0],e[21]=c[1],c))},function(a){return a=[e[20],e[21]],e[14]=a[0],e[15]=a[1],a}]):d.resolve((d.i64.eq(a[0],d.i64.cast([0,3]))?(e[18]=new d.Map(),e[18].set("backup_action",a[0]),e[18].set("protobuf_encrypted",void 0),e[18].set("supplemental_data_encrypted",void 0),e[18].set("timestamp_ms",a[4]),e[18].set("message_tags",void 0),e[18].set("serialized_attachment_backup_payload",void 0),c=[e[18],void 0],e[16]=c[0],e[17]=c[1],c):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error UNKNOWN"),e[18]=new d.Map(),e[18].set("error_code",d.i64.cast([0,603])),e[18].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[18].set("error_message",""),c=[void 0,e[18]],e[16]=c[0],e[17]=c[1],c),c=[e[16],e[17]],e[14]=c[0],e[15]=c[1],c))},function(a){return a=[e[14],e[15]],e[12]=a[0],e[13]=a[1],a}])},function(a){return a=[e[12],e[13]],e[10]=a[0],e[11]=a[1],a}])},function(a){return a=[e[10],e[11]],e[2]=a[0],e[3]=a[1],a}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error NOT_SUPPORTED_ON_WEB"),e[10]=new d.Map(),e[10].set("error_code",d.i64.cast([0,7])),e[10].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[10].set("error_message",""),f=[void 0,e[10]],e[2]=f[0],e[3]=f[1],f))},function(a){return e[4]=d.i64.of_float(Date.now()),e[5]=d.i64.random(),e[7]="Finishing execution. Execution time: ",e[8]=d.i64.to_string(d.i64.sub(e[4],e[0])),e[9]=" ms",e[6]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][loadAndEncryptProtobufWithInputsV2] ",e[6],e[7],e[6],e[8],e[6],e[9]].join("")),d.i64.eq(d.i64.mod_(e[5],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[10]=",",e[11]=d.createArray(),void 0!==void 0?e[12]=(e[11].push(void 0),e[11]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"loadAndEncryptProtobufWithInputsV2",[e[7],e[10],e[8],e[10],e[9]].join(""),e[11],d.i64.cast([0,4]))):d.resolve()},function(a){return a=[e[2],e[3]],f[0]=a[0],f[1]=a[1],a}])},function(a){return d.resolve(f)}])}d=a;g["default"]=d}),98);
__d("LSLoadAndEncryptProtobufV2",["LSLoadAndEncryptProtobufWithInputsV2","LSLogMebClientEvent.nop","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][loadAndEncryptProtobufV2] Beginning execution."),e[1]=d.i64.of_float(Date.now()),(c("gkx")("23657")||c("gkx")("26375"))&&(c("gkx")("26377")||c("gkx")("687"))?d.sequence([function(c){return d.filter(d.db.table(305).fetch(),function(b){return d.i64.eq(b.pendingBackupTaskId,a[0])}).next().then(function(c,f){var g=c.done;c=c.value;return g?(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufV2StoredProcedure] Returning error PROTOBUF_CONTEXT_ROW_NOT_FOUND"),e[13]=new d.Map(),e[13].set("error_code",d.i64.cast([0,67])),e[13].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufV2StoredProcedure"),e[13].set("error_message",""),g=[void 0,e[13]],e[10]=g[0],e[11]=g[1],g):(f=c.item,d.sequence([function(c){return d.storedProcedure(b("LSLoadAndEncryptProtobufWithInputsV2"),f.backupAction,a[2],f.toplevelOfflineThreadingId,f.supplementalKey,f.messageTimestampMs,a[1]).then(function(a){return a=a,e[13]=a[0],e[14]=a[1],a})},function(a){return a=[e[13],e[14]],e[10]=a[0],e[11]=a[1],a}]))})},function(a){return a=[e[10],e[11]],e[2]=a[0],e[3]=a[1],a}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufV2StoredProcedure] Returning error NOT_SUPPORTED_ON_WEB"),e[10]=new d.Map(),e[10].set("error_code",d.i64.cast([0,7])),e[10].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufV2StoredProcedure"),e[10].set("error_message",""),f=[void 0,e[10]],e[2]=f[0],e[3]=f[1],f))},function(a){return e[4]=d.i64.of_float(Date.now()),e[5]=d.i64.random(),e[7]="Finishing execution. Execution time: ",e[8]=d.i64.to_string(d.i64.sub(e[4],e[0])),e[9]=" ms",e[6]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][loadAndEncryptProtobufV2] ",e[6],e[7],e[6],e[8],e[6],e[9]].join("")),d.i64.eq(d.i64.mod_(e[5],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[10]=",",e[11]=d.createArray(),void 0!==void 0?e[12]=(e[11].push(void 0),e[11]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"loadAndEncryptProtobufV2",[e[7],e[10],e[8],e[10],e[9]].join(""),e[11],d.i64.cast([0,4]))):d.resolve()},function(a){return a=[e[2],e[3]],f[0]=a[0],f[1]=a[1],a}])},function(a){return d.resolve(f)}])}d=a;g["default"]=d}),98);
__d("LSSerializeBackupPayloadV2",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSDeriveValueSecretRefV2","LSEncryptIdentifiersV2","LSEncryptMessagePayloadV2","LSGetBlobFromString.nop","LSGetLatestEpochKeys","LSIsEncryptionVersionSecure","LSIsMobileClient","LSLoadAndEncryptProtobufV2","LSLogMebClientEvent.nop","gkx","justknobx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][serializeBackupPayloadV2] Beginning execution."),e[1]=d.i64.of_float(Date.now()),e[9]=d.i64.mul(e[1],d.i64.cast([0,1e6])),(c("gkx")("23657")||c("gkx")("26375"))&&c("justknobx")._("1071")?d.sequence([function(f){return d.islc(d.filter(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))||!1}),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(f,g){var h=f.done;f=f.value;return h?d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[30]=d.i64.of_float(Date.now()),b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[30],d.i64.cast([0,1e6])),e[9]),void 0],e[18]=b[0],e[19]=b[1],e[20]=b[2],e[21]=b[3],e[22]=b[4],e[23]=b[5],e[24]=b[6],b):(f=c.item,e[30]=d.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[30],d.i64.cast([0,1e6])),e[9]),void 0],e[18]=b[0],e[19]=b[1],e[20]=b[2],e[21]=b[3],e[22]=b[4],e[23]=b[5],e[24]=b[6],b)})},function(a){return e[26]=new d.Map(),e[26].set("task_id",e[18]),e[26].set("queue_name",e[19]),e[26].set("enqueue_timestamp_ms",e[20]),e[26].set("priority",e[21]),e[26].set("first_executed_timestamp_ms",e[22]),e[26].set("execution_time_ns",e[23]),e[26].set("echo_encoding_execution_time_ns",e[24]),e[27]=new d.Map(),e[27].set("task_metadata",e[26]),e[27].set("action_type",void 0),e[27].set("content_type",void 0),e[27].set("identifiers",void 0),e[27].set("identifiers_v2",void 0),e[27].set("task_creation_source",void 0),e[27].set("message_payload_source",d.i64.cast([0,2])),e[28]=new d.Map(),e[28].set("error_code",d.i64.cast([0,1])),e[28].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[28].set("error_message",""),e[29]=d.createArray(),a=[void 0,e[28],e[27],e[29]],e[13]=a[0],e[14]=a[1],e[15]=a[2],e[16]=a[3],a}]):(g=f.item,d.sequence([function(a){return e[28]=g.mailboxRootKeyBlob,e[29]=g.deviceId,e[27]=g.backupTenancy,e[26]=g.encryptionVersion,e[18]=void 0,d.i64.neq(e[18],void 0)?d.resolve(e[19]=e[18]):d.sequence([function(a){return e[30]=d.createArray(),d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[31]=a[0],a})},function(a){return e[31]?e[40]=(e[30].push(d.i64.cast([0,0])),e[30]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[32]=a[0],a})},function(a){return e[32]?e[40]=(e[30].push(d.i64.cast([0,2])),e[30]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[33]=a[0],a})},function(a){return e[33]?e[40]=(e[30].push(d.i64.cast([0,3])),e[30]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[34]=a[0],a})},function(a){return e[34]?e[40]=(e[30].push(d.i64.cast([0,4])),e[30]):0,e[35]=d.createArray(),e[36]=d.i64.of_int32(e[30].length),d.i64.gt(e[36],d.i64.cast([0,0]))?d.loopAsync(e[36],function(a){return e[40]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[30],e[40]).then(function(a){return a=a,e[41]=a[0],e[42]=a[1],a})},function(a){return e[43]=(e[35].push(e[41]),e[35])}])}):d.resolve()},function(a){return d.sequence([function(a){return e[40]=d.createArray(),e[41]=d.i64.of_int32(e[35].length),d.i64.gt(e[41],d.i64.cast([0,0]))?d.loopAsync(e[41],function(a){return e[43]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[35],e[43]).then(function(a){return a=a,e[44]=a[0],e[45]=a[1],a})},function(a){return e[46]=(e[40].push(d.i64.to_string(e[44])),e[40])}])}):d.resolve()},function(a){return e[42]=e[40].join(","),e[37]=e[42]}])},function(a){return e[35].some(function(a){return d.i64.eq(e[26],a)})?e[38]=e[26]:e[38]=void 0,d.i64.neq(e[38],void 0)?e[39]=e[38]:e[39]=void 0,e[19]=e[39]}])},function(f){return d.i64.neq(e[19],void 0)?e[20]=e[19]:e[20]=d.i64.cast([0,0]),d.i64.neq(e[27],void 0)?e[21]=e[27]:e[21]=d.i64.cast([0,1]),d.i64.neq(e[29],void 0)?d.sequence([function(f){return d.db.table(177).fetch([[[a[0]]],"fk_pending_tasks"]).next().then(function(i,j){var f=i.done;i=i.value;return f?d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[47]=d.i64.of_float(Date.now()),b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[47],d.i64.cast([0,1e6])),e[9]),void 0],e[35]=b[0],e[36]=b[1],e[37]=b[2],e[38]=b[3],e[39]=b[4],e[40]=b[5],e[41]=b[6],b):(f=c.item,e[47]=d.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[47],d.i64.cast([0,1e6])),e[9]),void 0],e[35]=b[0],e[36]=b[1],e[37]=b[2],e[38]=b[3],e[39]=b[4],e[40]=b[5],e[41]=b[6],b)})},function(a){return e[43]=new d.Map(),e[43].set("task_id",e[35]),e[43].set("queue_name",e[36]),e[43].set("enqueue_timestamp_ms",e[37]),e[43].set("priority",e[38]),e[43].set("first_executed_timestamp_ms",e[39]),e[43].set("execution_time_ns",e[40]),e[43].set("echo_encoding_execution_time_ns",e[41]),e[44]=new d.Map(),e[44].set("task_metadata",e[43]),e[44].set("action_type",void 0),e[44].set("content_type",void 0),e[44].set("identifiers",void 0),e[44].set("identifiers_v2",void 0),e[44].set("task_creation_source",void 0),e[44].set("message_payload_source",d.i64.cast([0,2])),e[45]=new d.Map(),e[45].set("error_code",d.i64.cast([0,5])),e[45].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[45].set("error_message","Pending backup context row not found"),e[46]=d.createArray(),a=[void 0,e[45],e[44],e[46]],e[30]=a[0],e[31]=a[1],e[32]=a[2],e[33]=a[3],a}]):(j=i.item,d.sequence([function(f){return e[40]=j.actionType,e[41]=j.contentType,e[45]=j.echoContent,e[43]=j.lsTraceId,e[44]=j.echoEncodingLatencyNs,e[42]=j.attachmentPayload,e[46]=j.tamThreadSubtype,e[47]=j.isInstamadillo,e[35]=new d.Map(),e[35].set("backup_id",d.i64.to_string(g.backupId)),e[35].set("act_thread_id",j.listKey),e[35].set("timestamp",j.sortKey),e[35].set("otid",j.uniqueKey),e[48]=j.error==null?d.i64.cast([0,0]):j.error,d.i64.eq(e[48],d.i64.cast([0,0]))?d.sequence([function(a){return e[49]=e[35].get("act_thread_id"),e[35],e[50]=e[35].get("otid"),e[35],d.storedProcedure(b("LSGetLatestEpochKeys"),!1).then(function(a){return a=a,e[51]=a[0],e[52]=a[1],a})},function(a){return e[51]!==void 0?d.sequence([function(a){return d.i64.eq(e[41],d.i64.cast([0,1]))?d.sequence([function(a){return e[62]=d.createArray(),e[67]=(e[62].push(d.i64.cast([0,32])),e[62]),d.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",e[49]].join("")).then(function(a){return a=a,e[63]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),e[63],void 0,e[28],e[62]).then(function(a){return a=a,e[64]=a[0],a})},function(a){return e[64]?e[65]=!1:e[65]=!0,e[65]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),e[67]=d.createArray(),void 0!==void 0?e[68]=(e[67].push(void 0),e[67]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","Got null keys while deriving message list OPE key. Returning null blobish",e[67],d.i64.cast([0,3]))},function(a){return e[66]=void 0}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[64],d.i64.cast([0,0])).then(function(a){return a=a,e[67]=a[0],e[68]=a[1],a})},function(a){return e[66]=e[67]}])},function(a){return e[59]=e[66]}]):d.sequence([function(a){return d.i64.eq(e[40],d.i64.cast([0,2]))?d.sequence([function(a){return e[63]=d.createArray(),e[68]=(e[63].push(d.i64.cast([0,32])),e[63]),d.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",e[50]].join("")).then(function(a){return a=a,e[64]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),e[64],void 0,e[28],e[63]).then(function(a){return a=a,e[65]=a[0],a})},function(a){return e[65]?e[66]=!1:e[66]=!0,e[66]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),e[68]=d.createArray(),void 0!==void 0?e[69]=(e[68].push(void 0),e[68]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","Got null keys while deriving message list OPE key. Returning null blobish",e[68],d.i64.cast([0,3]))},function(a){return e[67]=void 0}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[65],d.i64.cast([0,0])).then(function(a){return a=a,e[68]=a[0],e[69]=a[1],a})},function(a){return e[67]=e[68]}])},function(a){return e[62]=e[67]}]):d.resolve(e[62]=void 0)},function(a){return e[59]=e[62]}])},function(a){return d.blobs.neq(e[59],void 0)?d.sequence([function(a){return e[62]=e[51].get("epoch_keys"),e[51],e[63]=e[62].get("epoch_anon_id"),e[62],e[64]=e[62].get("epoch_root_key"),e[62],e[65]=d.createArray(),e[76]=(e[65].push(d.i64.cast([0,32])),e[65]),d.i64.ge(e[20],d.i64.cast([0,3]))?d.resolve(e[66]=void 0):d.sequence([function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),e[49]).then(function(a){return a=a,e[76]=a[0],a})},function(a){return e[66]=e[76]}])},function(a){return d.i64.ge(e[20],d.i64.cast([0,4]))?(e[76]="_",e[67]=["message_key_in_epoch",e[76],d.blobs.to_string(e[63]),e[76],"cipher_version",e[76],d.i64.to_string(e[20]),e[76],"thread",e[76],e[49]==null?"":e[49]].join("")):(d.i64.ge(e[20],d.i64.cast([0,3]))?(e[77]="_",e[76]=["message_key_in_epoch",e[77],d.blobs.to_string(e[63]),e[77],"cipher_version",e[77],d.i64.to_string(e[20]),e[77],"thread",e[77],e[49]==null?"":e[49]].join("")):(d.i64.ge(e[20],d.i64.cast([0,2]))?(e[78]="_",e[77]=["message_key_in_epoch",e[78],d.blobs.to_string(e[63]),e[78],"cipher_version",e[78],d.i64.to_string(e[20])].join("")):e[77]=["message_key_in_epoch","_",d.blobs.to_string(e[63])].join(""),e[76]=e[77]),e[67]=e[76]),d.nativeOperation(b("LSGetBlobFromString.nop"),e[67]).then(function(a){return a=a,e[68]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),e[68],e[66],e[64],e[65]).then(function(a){return a=a,e[69]=a[0],a})},function(a){return e[69]?e[70]=!1:e[70]=!0,e[70]?d.resolve(e[71]=void 0):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[69],d.i64.cast([0,0])).then(function(a){return a=a,e[76]=a[0],e[77]=a[1],a})},function(a){return e[71]=e[76]}])},function(a){return d.filter(d.db.table(169).fetch(),function(a){return d.blobs.eq(a.epochAnonIdBlob,d.blob("MA=="))}).next().then(function(c,f){var a=c.done;c=c.value;return a?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTableUtils] Failed to get mailbox_root_key_v2: epoch 0 is not available."),e[76]=d.createArray(),void 0!==void 0?e[77]=(e[76].push(void 0),e[76]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTableUtils","Failed to get mailbox_root_key_v2: epoch 0 is not available.",e[76],d.i64.cast([0,3]))},function(a){return e[72]=void 0}]):(f=c.item,d.sequence([function(a){return e[76]=d.createArray(),e[84]=(e[76].push(d.i64.cast([0,32])),e[76]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5zYWx0X21haWxib3hfcm9vdF9rZXlfdjI="),void 0,e[28],e[76]).then(function(a){return a=a,e[77]=a[0],a})},function(a){return e[77]!==void 0?d.sequence([function(a){return e[84]=d.i64.of_int32(e[77].length),d.i64.ge(e[84],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[77],d.i64.cast([0,0])).then(function(a){return a=a,e[86]=a[0],e[87]=a[1],a})},function(a){return e[85]=e[86]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[86]=d.createArray(),void 0!==void 0?e[87]=(e[86].push(void 0),e[86]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",e[86],d.i64.cast([0,3]))},function(a){return e[85]=void 0}])},function(a){return e[78]=e[85]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[84]=d.createArray(),void 0!==void 0?e[85]=(e[84].push(void 0),e[84]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",e[84],d.i64.cast([0,3]))},function(a){return e[78]=void 0}])},function(a){return d.blobs.neq(e[78],void 0)?e[79]=!0:e[79]=!1,e[79]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[80]=d.createArray(),e[84]=(e[80].push(d.i64.cast([0,32])),e[80]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5tYWlsYm94X3Jvb3Rfa2V5X3Yy"),e[78],f.epochRootKeyBlob,e[80]).then(function(a){return a=a,e[81]=a[0],a})},function(a){return e[81]!==void 0?d.sequence([function(a){return e[84]=d.i64.of_int32(e[81].length),d.i64.ge(e[84],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[81],d.i64.cast([0,0])).then(function(a){return a=a,e[86]=a[0],e[87]=a[1],a})},function(a){return e[85]=e[86]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[86]=d.createArray(),void 0!==void 0?e[87]=(e[86].push(void 0),e[86]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",e[86],d.i64.cast([0,3]))},function(a){return e[85]=void 0}])},function(a){return e[82]=e[85]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[84]=d.createArray(),void 0!==void 0?e[85]=(e[84].push(void 0),e[84]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",e[84],d.i64.cast([0,3]))},function(a){return e[82]=void 0}])},function(a){return d.blobs.neq(e[82],void 0)?e[83]=!0:e[83]=!1,e[83]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[72]=e[82]}]))})},function(a){return d.blobs.neq(e[71],void 0)?d.sequence([function(a){return d.blobs.neq(e[72],void 0)?d.sequence([function(a){return e[82]=d.createArray(),e[86]=(e[82].push(d.i64.cast([0,32])),e[82]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5mYWxsYmFja19rZXk="),void 0,e[72],e[82]).then(function(a){return a=a,e[83]=a[0],a})},function(a){return e[83]!==void 0?d.sequence([function(a){return e[86]=d.i64.of_int32(e[83].length),d.i64.ge(e[86],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[83],d.i64.cast([0,0])).then(function(a){return a=a,e[88]=a[0],e[89]=a[1],a})},function(a){return e[87]=e[88]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[88]=d.createArray(),void 0!==void 0?e[89]=(e[88].push(void 0),e[88]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",e[88],d.i64.cast([0,3]))},function(a){return e[87]=void 0}])},function(a){return e[84]=e[87]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[86]=d.createArray(),void 0!==void 0?e[87]=(e[86].push(void 0),e[86]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",e[86],d.i64.cast([0,3]))},function(a){return e[84]=void 0}])},function(a){return d.blobs.neq(e[84],void 0)?e[85]=!0:e[85]=!1,e[85]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[76]=e[84]}]):d.resolve(e[76]=void 0)},function(a){return e[77]=e[62].get("epoch_root_key"),e[62],e[78]=e[62].get("epoch_anon_id"),e[62],e[79]=e[62].get("epoch_id"),e[62],e[80]=new d.Map(),e[80].set("payload_key",e[71]),e[80].set("payload_fallback_key",e[76]),e[80].set("encryption_version",e[20]),e[80].set("epoch_root_key",e[77]),e[80].set("epoch_anon_id",e[78]),e[80].set("epoch_id",e[79]),e[81]=new d.Map(),e[81].set("ope_key",e[59]),e[81].set("message_payload_encryption_keys",e[80]),e[81].set("ocmf_shared_key",g.ocmfClientStateBlob),e[81].set("mailbox_base_salt",e[28]),e[81].set("mailbox_root_key_v2",e[72]),a=[e[81],void 0],e[74]=a[0],e[75]=a[1],a}]):d.resolve((e[76]=new d.Map(),e[76].set("error_code",d.i64.cast([0,26])),e[76].set("stored_procedure","MEBKeyDeriver"),e[76].set("error_message",""),a=[void 0,e[76]],e[74]=a[0],e[75]=a[1],a))},function(a){return a=[e[74],e[75]],e[60]=a[0],e[61]=a[1],a}]):d.resolve((e[62]=new d.Map(),e[62].set("error_code",d.i64.cast([0,25])),e[62].set("stored_procedure","MEBKeyDeriver"),e[62].set("error_message",""),a=[void 0,e[62]],e[60]=a[0],e[61]=a[1],a))},function(a){return a=[e[60],e[61]],e[53]=a[0],e[54]=a[1],a}]):d.resolve((a=[void 0,e[52]],e[53]=a[0],e[54]=a[1],a))},function(f){return e[53]!==void 0?d.sequence([function(a){return e[59]=e[35].get("backup_id"),e[35],e[60]=e[35].get("act_thread_id"),e[35],e[61]=e[35].get("timestamp"),e[35],e[62]=e[35].get("otid"),e[35],d.storedProcedure(b("LSEncryptIdentifiersV2"),e[40],e[41],e[59],e[60],d.i64.from_string(e[61]),e[62],e[53]).then(function(a){return a=a,e[63]=a[0],e[64]=a[1],a})},function(f){return e[63]!==void 0?d.sequence([function(c){return e[69]=e[35].get("act_thread_id"),e[35],d.storedProcedure(b("LSLoadAndEncryptProtobufV2"),a[0],e[53],e[69]).then(function(a){return a=a,e[70]=a[0],e[71]=a[1],a})},function(f){return d.sequence([function(f){return d.i64.eq(e[40],d.i64.cast([0,1]))?(e[84]=e[45]===""?void 0:e[45],e[84]!==void 0?(f=[e[84],void 0],e[82]=f[0],e[83]=f[1],f):(e[85]=new d.Map(),e[85].set("error_code",d.i64.cast([0,30])),e[85].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[85].set("error_message",""),f=[void 0,e[85]],e[82]=f[0],e[83]=f[1],f),f=[e[82],e[83]],e[76]=f[0],e[77]=f[1],f):(f=["",void 0],e[76]=f[0],e[77]=f[1],f),e[76]!==void 0?d.sequence([function(a){return d.i64.eq(e[40],d.i64.cast([0,1]))?d.sequence([function(a){return e[88]=e[35].get("backup_id"),e[35],e[89]=e[35].get("act_thread_id"),e[35],d.storedProcedure(b("LSEncryptMessagePayloadV2"),e[88],e[89],e[53],e[76]).then(function(a){return a=a,e[90]=a[0],e[91]=a[1],a})},function(a){return a=[e[90],e[91]],e[82]=a[0],e[83]=a[1],a}]):d.resolve((e[88]=new d.Map(),e[88].set("encrypted_message_payload",""),e[88].set("value_secret_ref",""),a=[e[88],void 0],e[82]=a[0],e[83]=a[1],a))},function(f){return e[82]!==void 0?d.sequence([function(a){return e[88]=e[63].get("act_thread_id_ocmf_partial"),e[63],e[89]=e[63].get("otid_ocmf_partial"),e[63],e[90]=e[63].get("timestamp_encrypted"),e[63],e[91]=new d.Map(),e[91].set("list_key",e[88]),e[91].set("unique_key",e[89]),e[91].set("sort_key",e[90]),e[82]!==void 0?(e[122]=e[82].get("encrypted_message_payload"),e[82],e[123]=e[82].get("value_secret_ref"),e[82],e[124]=new d.Map(),e[124].set("value",e[122]),e[124].set("value_secret_ref",e[123]),e[92]=e[124]):e[92]=void 0,e[93]=new d.Map(),e[93].set("list_item_id",e[91]),e[93].set("list_item",e[92]),e[93].set("action_type",e[40]),e[94]=e[35].get("timestamp"),e[35],e[95]=e[35].get("otid"),e[35],e[96]=e[35].get("act_thread_id"),e[35],e[97]=new d.Map(),e[97].set("timestamp",e[94]),e[97].set("otid",e[95]),e[97].set("wa_thread_id",d.i64.from_string(e[96])),e[98]=e[53].get("mailbox_base_salt"),e[53],d.nativeOperation(b("LSBase64Encode.nop"),e[98]).then(function(a){return a=a,e[99]=a[0],a})},function(a){return e[100]=e[53].get("ocmf_shared_key"),e[53],d.nativeOperation(b("LSBase64Encode.nop"),e[100]).then(function(a){return a=a,e[101]=a[0],a})},function(a){return e[102]=new d.Map(),e[102].set("mailbox_root_key",e[99]==null?"":e[99]),e[102].set("ocmf_client_state_blob",e[101]==null?"":e[101]),e[103]=e[63].get("backup_id_ocmf_partial"),e[63],e[104]=e[53].get("message_payload_encryption_keys"),e[53],e[105]=e[104].get("epoch_id"),e[104],e[106]=e[53].get("message_payload_encryption_keys"),e[53],e[107]=e[106].get("encryption_version"),e[106],e[108]=new d.Map(),e[108].set("mailbox_partial_id",e[103]),e[108].set("action",e[93]),e[108].set("device_id",e[29]),e[108].set("echo_version",d.i64.cast([0,0])),e[108].set("epoch_id",e[105]),e[108].set("trace_id",void 0),e[108].set("encryption_version",e[107]),e[108].set("is_thread",d.i64.eq(e[41],d.i64.cast([0,2]))),e[108].set("raw_identifiers",e[97]),e[108].set("raw_tokens",e[102]),e[108].set("request_id",e[43]==null?"":e[43]),e[108].set("tam_thread_subtype",e[46]==null?d.i64.cast([0,0]):e[46]),e[108].set("is_instamadillo",e[47]==null?!1:e[47]),e[70]!==void 0?d.sequence([function(a){return e[122]=e[70].get("supplemental_data_encrypted"),e[70],e[122]!==void 0?d.sequence([function(a){return e[124]=e[70].get("protobuf_encrypted"),e[70],e[125]=e[70].get("backup_action"),e[70],e[126]=e[70].get("timestamp_ms"),e[70],e[127]=e[122].get("sk_ciphertext"),e[122],d.nativeOperation(b("LSBase64Encode.nop"),e[127]).then(function(a){return a=a,e[128]=a[0],a})},function(a){return e[129]=e[122].get("sk_hash"),e[122],d.nativeOperation(b("LSBase64Encode.nop"),e[129]).then(function(a){return a=a,e[130]=a[0],a})},function(a){return e[131]=e[70].get("message_tags"),e[70],e[132]=new d.Map(),e[132].set("supplementary_data_key",void 0),e[132].set("encrypted_protobuf",e[124]),e[132].set("key_value_backup_action",e[125]),e[132].set("protobuf_ts_ms",e[126]),e[132].set("supplemental_key_ciphertext",e[128]),e[132].set("supplemental_key_hash",e[130]),e[132].set("message_tags",e[131]),e[123]=e[132]}]):d.resolve((e[124]=e[70].get("protobuf_encrypted"),e[70],e[125]=e[70].get("backup_action"),e[70],e[126]=e[70].get("timestamp_ms"),e[70],e[127]=e[70].get("message_tags"),e[70],e[128]=new d.Map(),e[128].set("supplementary_data_key",void 0),e[128].set("encrypted_protobuf",e[124]),e[128].set("key_value_backup_action",e[125]),e[128].set("protobuf_ts_ms",e[126]),e[128].set("message_tags",e[127]),e[123]=e[128]))},function(a){return e[108].set("key_value_backup_payload",e[123])}]):d.resolve()},function(a){return c("gkx")("1899")||c("gkx")("1900")?e[42]!==void 0?e[108].set("attachment_backup_payload",e[42]):function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure] attachment_payload is null."):function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure] Skip processing attachments as not enabled."),d.sequence([function(a){return e[43]!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),e[43],d.i64.cast([0,1463]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[122]=a[0],a})},function(a){return e[122]?e[123]=!0:e[123]=!1,e[123]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[124]=d.createArray(),void 0!==void 0?e[125]=(e[124].push(void 0),e[124]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[124],d.i64.cast([0,3]))):d.resolve()}])},function(b){return e[109]=d.toJSON(e[108]),d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[122]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[123]=void 0:e[123]=e[44],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[122],d.i64.cast([0,1e6])),e[9]),e[123]],e[110]=b[0],e[111]=b[1],e[112]=b[2],e[113]=b[3],e[114]=b[4],e[115]=b[5],e[116]=b[6],b):(f=c.item,e[122]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[123]=void 0:e[123]=e[44],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[122],d.i64.cast([0,1e6])),e[9]),e[123]],e[110]=b[0],e[111]=b[1],e[112]=b[2],e[113]=b[3],e[114]=b[4],e[115]=b[5],e[116]=b[6],b)})},function(a){return e[118]=new d.Map(),e[118].set("task_id",e[110]),e[118].set("queue_name",e[111]),e[118].set("enqueue_timestamp_ms",e[112]),e[118].set("priority",e[113]),e[118].set("first_executed_timestamp_ms",e[114]),e[118].set("execution_time_ns",e[115]),e[118].set("echo_encoding_execution_time_ns",e[116]),e[119]=new d.Map(),e[119].set("task_metadata",e[118]),e[119].set("action_type",e[40]),e[119].set("content_type",e[41]),e[119].set("identifiers",void 0),e[119].set("identifiers_v2",e[35]),e[119].set("task_creation_source",void 0),e[119].set("message_payload_source",d.i64.cast([0,2])),e[120]=new d.Map(),e[120].set("payload",e[109]),e[121]=d.createArray(),e[122]=(e[121].push(e[71]),e[121]),a=[e[120],void 0,e[119],e[121]],e[84]=a[0],e[85]=a[1],e[86]=a[2],e[87]=a[3],a}]):d.sequence([function(b){return d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[103]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[104]=void 0:e[104]=e[44],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[103],d.i64.cast([0,1e6])),e[9]),e[104]],e[92]=b[0],e[93]=b[1],e[94]=b[2],e[95]=b[3],e[96]=b[4],e[97]=b[5],e[98]=b[6],b):(f=c.item,e[103]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[104]=void 0:e[104]=e[44],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[103],d.i64.cast([0,1e6])),e[9]),e[104]],e[92]=b[0],e[93]=b[1],e[94]=b[2],e[95]=b[3],e[96]=b[4],e[97]=b[5],e[98]=b[6],b)})},function(a){return e[100]=new d.Map(),e[100].set("task_id",e[92]),e[100].set("queue_name",e[93]),e[100].set("enqueue_timestamp_ms",e[94]),e[100].set("priority",e[95]),e[100].set("first_executed_timestamp_ms",e[96]),e[100].set("execution_time_ns",e[97]),e[100].set("echo_encoding_execution_time_ns",e[98]),e[101]=new d.Map(),e[101].set("task_metadata",e[100]),e[101].set("action_type",e[40]),e[101].set("content_type",e[41]),e[101].set("identifiers",void 0),e[101].set("identifiers_v2",e[35]),e[101].set("task_creation_source",void 0),e[101].set("message_payload_source",d.i64.cast([0,2])),e[102]=d.createArray(),e[103]=(e[102].push(e[71]),e[102]),a=[void 0,e[83],e[101],e[102]],e[88]=a[0],e[89]=a[1],e[90]=a[2],e[91]=a[3],a}])},function(a){return a=[e[88],e[89],e[90],e[91]],e[84]=a[0],e[85]=a[1],e[86]=a[2],e[87]=a[3],a}])},function(a){return a=[e[84],e[85],e[86],e[87]],e[78]=a[0],e[79]=a[1],e[80]=a[2],e[81]=a[3],a}]):d.sequence([function(b){return d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[97]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[98]=void 0:e[98]=e[44],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[97],d.i64.cast([0,1e6])),e[9]),e[98]],e[86]=b[0],e[87]=b[1],e[88]=b[2],e[89]=b[3],e[90]=b[4],e[91]=b[5],e[92]=b[6],b):(f=c.item,e[97]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[98]=void 0:e[98]=e[44],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[97],d.i64.cast([0,1e6])),e[9]),e[98]],e[86]=b[0],e[87]=b[1],e[88]=b[2],e[89]=b[3],e[90]=b[4],e[91]=b[5],e[92]=b[6],b)})},function(a){return e[94]=new d.Map(),e[94].set("task_id",e[86]),e[94].set("queue_name",e[87]),e[94].set("enqueue_timestamp_ms",e[88]),e[94].set("priority",e[89]),e[94].set("first_executed_timestamp_ms",e[90]),e[94].set("execution_time_ns",e[91]),e[94].set("echo_encoding_execution_time_ns",e[92]),e[95]=new d.Map(),e[95].set("task_metadata",e[94]),e[95].set("action_type",e[40]),e[95].set("content_type",e[41]),e[95].set("identifiers",void 0),e[95].set("identifiers_v2",e[35]),e[95].set("task_creation_source",void 0),e[95].set("message_payload_source",d.i64.cast([0,2])),e[96]=d.createArray(),e[97]=(e[96].push(e[71]),e[96]),a=[void 0,e[77],e[95],e[96]],e[82]=a[0],e[83]=a[1],e[84]=a[2],e[85]=a[3],a}])},function(a){return a=[e[82],e[83],e[84],e[85]],e[78]=a[0],e[79]=a[1],e[80]=a[2],e[81]=a[3],a}])},function(a){return a=[e[78],e[79],e[80],e[81]],e[72]=a[0],e[73]=a[1],e[74]=a[2],e[75]=a[3],a}])},function(a){return a=[e[72],e[73],e[74],e[75]],e[65]=a[0],e[66]=a[1],e[67]=a[2],e[68]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[80]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[81]=void 0:e[81]=e[44],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[80],d.i64.cast([0,1e6])),e[9]),e[81]],e[69]=b[0],e[70]=b[1],e[71]=b[2],e[72]=b[3],e[73]=b[4],e[74]=b[5],e[75]=b[6],b):(f=c.item,e[80]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[81]=void 0:e[81]=e[44],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[80],d.i64.cast([0,1e6])),e[9]),e[81]],e[69]=b[0],e[70]=b[1],e[71]=b[2],e[72]=b[3],e[73]=b[4],e[74]=b[5],e[75]=b[6],b)})},function(a){return e[77]=new d.Map(),e[77].set("task_id",e[69]),e[77].set("queue_name",e[70]),e[77].set("enqueue_timestamp_ms",e[71]),e[77].set("priority",e[72]),e[77].set("first_executed_timestamp_ms",e[73]),e[77].set("execution_time_ns",e[74]),e[77].set("echo_encoding_execution_time_ns",e[75]),e[78]=new d.Map(),e[78].set("task_metadata",e[77]),e[78].set("action_type",e[40]),e[78].set("content_type",e[41]),e[78].set("identifiers",void 0),e[78].set("identifiers_v2",e[35]),e[78].set("task_creation_source",void 0),e[78].set("message_payload_source",d.i64.cast([0,2])),e[79]=d.createArray(),e[80]=(e[79].push(void 0),e[79]),a=[void 0,e[64],e[78],e[79]],e[65]=a[0],e[66]=a[1],e[67]=a[2],e[68]=a[3],a}])},function(a){return a=[e[65],e[66],e[67],e[68]],e[55]=a[0],e[56]=a[1],e[57]=a[2],e[58]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[70]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[71]=void 0:e[71]=e[44],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[70],d.i64.cast([0,1e6])),e[9]),e[71]],e[59]=b[0],e[60]=b[1],e[61]=b[2],e[62]=b[3],e[63]=b[4],e[64]=b[5],e[65]=b[6],b):(f=c.item,e[70]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[71]=void 0:e[71]=e[44],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[70],d.i64.cast([0,1e6])),e[9]),e[71]],e[59]=b[0],e[60]=b[1],e[61]=b[2],e[62]=b[3],e[63]=b[4],e[64]=b[5],e[65]=b[6],b)})},function(a){return e[67]=new d.Map(),e[67].set("task_id",e[59]),e[67].set("queue_name",e[60]),e[67].set("enqueue_timestamp_ms",e[61]),e[67].set("priority",e[62]),e[67].set("first_executed_timestamp_ms",e[63]),e[67].set("execution_time_ns",e[64]),e[67].set("echo_encoding_execution_time_ns",e[65]),e[68]=new d.Map(),e[68].set("task_metadata",e[67]),e[68].set("action_type",e[40]),e[68].set("content_type",e[41]),e[68].set("identifiers",void 0),e[68].set("identifiers_v2",e[35]),e[68].set("task_creation_source",void 0),e[68].set("message_payload_source",d.i64.cast([0,2])),e[69]=d.createArray(),e[70]=(e[69].push(void 0),e[69]),a=[void 0,e[54],e[68],e[69]],e[55]=a[0],e[56]=a[1],e[57]=a[2],e[58]=a[3],a}])},function(a){return a=[e[55],e[56],e[57],e[58]],e[36]=a[0],e[37]=a[1],e[38]=a[2],e[39]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[61]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[62]=void 0:e[62]=e[44],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[61],d.i64.cast([0,1e6])),e[9]),e[62]],e[49]=b[0],e[50]=b[1],e[51]=b[2],e[52]=b[3],e[53]=b[4],e[54]=b[5],e[55]=b[6],b):(f=c.item,e[61]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[62]=void 0:e[62]=e[44],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[61],d.i64.cast([0,1e6])),e[9]),e[62]],e[49]=b[0],e[50]=b[1],e[51]=b[2],e[52]=b[3],e[53]=b[4],e[54]=b[5],e[55]=b[6],b)})},function(a){return e[57]=new d.Map(),e[57].set("task_id",e[49]),e[57].set("queue_name",e[50]),e[57].set("enqueue_timestamp_ms",e[51]),e[57].set("priority",e[52]),e[57].set("first_executed_timestamp_ms",e[53]),e[57].set("execution_time_ns",e[54]),e[57].set("echo_encoding_execution_time_ns",e[55]),e[58]=new d.Map(),e[58].set("task_metadata",e[57]),e[58].set("action_type",e[40]),e[58].set("content_type",e[41]),e[58].set("identifiers",void 0),e[58].set("identifiers_v2",e[35]),e[58].set("task_creation_source",void 0),e[58].set("message_payload_source",d.i64.cast([0,2])),e[59]=new d.Map(),e[59].set("error_code",e[48]),e[59].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[59].set("error_message",""),e[60]=d.createArray(),a=[void 0,e[59],e[58],e[60]],e[36]=a[0],e[37]=a[1],e[38]=a[2],e[39]=a[3],a}])},function(a){return a=[e[36],e[37],e[38],e[39]],e[30]=a[0],e[31]=a[1],e[32]=a[2],e[33]=a[3],a}]))})},function(a){return a=[e[30],e[31],e[32],e[33]],e[22]=a[0],e[23]=a[1],e[24]=a[2],e[25]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[42]=d.i64.of_float(Date.now()),b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[42],d.i64.cast([0,1e6])),e[9]),void 0],e[30]=b[0],e[31]=b[1],e[32]=b[2],e[33]=b[3],e[34]=b[4],e[35]=b[5],e[36]=b[6],b):(f=c.item,e[42]=d.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[42],d.i64.cast([0,1e6])),e[9]),void 0],e[30]=b[0],e[31]=b[1],e[32]=b[2],e[33]=b[3],e[34]=b[4],e[35]=b[5],e[36]=b[6],b)})},function(a){return e[38]=new d.Map(),e[38].set("task_id",e[30]),e[38].set("queue_name",e[31]),e[38].set("enqueue_timestamp_ms",e[32]),e[38].set("priority",e[33]),e[38].set("first_executed_timestamp_ms",e[34]),e[38].set("execution_time_ns",e[35]),e[38].set("echo_encoding_execution_time_ns",e[36]),e[39]=new d.Map(),e[39].set("task_metadata",e[38]),e[39].set("action_type",void 0),e[39].set("content_type",void 0),e[39].set("identifiers",void 0),e[39].set("identifiers_v2",void 0),e[39].set("task_creation_source",void 0),e[39].set("message_payload_source",d.i64.cast([0,2])),e[40]=new d.Map(),e[40].set("error_code",d.i64.cast([0,24])),e[40].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[40].set("error_message",""),e[41]=d.createArray(),a=[void 0,e[40],e[39],e[41]],e[22]=a[0],e[23]=a[1],e[24]=a[2],e[25]=a[3],a}])},function(a){return a=[e[22],e[23],e[24],e[25]],e[13]=a[0],e[14]=a[1],e[15]=a[2],e[16]=a[3],a}]))})},function(a){return a=[e[13],e[14],e[15],e[16]],e[2]=a[0],e[3]=a[1],e[4]=a[2],e[5]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(b,c){var f=b.done;b=b.value;return f?(e[25]=d.i64.of_float(Date.now()),f=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[25],d.i64.cast([0,1e6])),e[9]),void 0],e[13]=f[0],e[14]=f[1],e[15]=f[2],e[16]=f[3],e[17]=f[4],e[18]=f[5],e[19]=f[6],f):(c=b.item,e[25]=d.i64.of_float(Date.now()),f=[a[0],c.queueName,c.enqueueTimestampMs,void 0,c.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[25],d.i64.cast([0,1e6])),e[9]),void 0],e[13]=f[0],e[14]=f[1],e[15]=f[2],e[16]=f[3],e[17]=f[4],e[18]=f[5],e[19]=f[6],f)})},function(a){return e[21]=new d.Map(),e[21].set("task_id",e[13]),e[21].set("queue_name",e[14]),e[21].set("enqueue_timestamp_ms",e[15]),e[21].set("priority",e[16]),e[21].set("first_executed_timestamp_ms",e[17]),e[21].set("execution_time_ns",e[18]),e[21].set("echo_encoding_execution_time_ns",e[19]),e[22]=new d.Map(),e[22].set("task_metadata",e[21]),e[22].set("action_type",void 0),e[22].set("content_type",void 0),e[22].set("identifiers",void 0),e[22].set("identifiers_v2",void 0),e[22].set("task_creation_source",void 0),e[22].set("message_payload_source",d.i64.cast([0,2])),e[23]=new d.Map(),e[23].set("error_code",d.i64.cast([0,4])),e[23].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[23].set("error_message",""),e[24]=d.createArray(),a=[void 0,e[23],e[22],e[24]],e[2]=a[0],e[3]=a[1],e[4]=a[2],e[5]=a[3],a}])},function(a){return e[6]=d.i64.of_float(Date.now()),e[7]=d.i64.random(),e[10]="Finishing execution. Execution time: ",e[11]=d.i64.to_string(d.i64.sub(e[6],e[0])),e[12]=" ms",e[8]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][serializeBackupPayloadV2] ",e[8],e[10],e[8],e[11],e[8],e[12]].join("")),d.i64.eq(d.i64.mod_(e[7],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[13]=",",e[14]=d.createArray(),void 0!==void 0?e[15]=(e[14].push(void 0),e[14]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"serializeBackupPayloadV2",[e[10],e[13],e[11],e[13],e[12]].join(""),e[14],d.i64.cast([0,4]))):d.resolve()},function(a){return a=[e[2],e[3],e[4],e[5]],f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3],a}])},function(a){return d.resolve(f)}])}d=a;g["default"]=d}),98);
__d("LSTaskSerializerEncryptedBackupsUpload",["LSArrayGetObjectAt","LSLogMebClientEvent.nop","LSSerializeBackupPayloadV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsUpload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.forEach(c.db.table(177).fetch([[[a[0]]],"fk_pending_tasks"]),function(a){var b=a.update;a.item;return b({backupStatus:c.i64.cast([0,2])})})},function(e){return c.storedProcedure(b("LSSerializeBackupPayloadV2"),a[0]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],a})},function(a){return d[6]=c.i64.of_int32(d[5].length),c.i64.gt(d[6],c.i64.cast([0,0]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[5],c.i64.cast([0,0])).then(function(a){return a=a,d[20]=a[0],d[21]=a[1],a})},function(a){return d[7]=d[20]}]):c.resolve(d[7]=void 0)},function(a){return d[2]?d[8]=!1:d[8]=!0,d[8]?(d[3]?d[20]=!1:d[20]=!0,d[20]?(a=[void 0,void 0,d[7],d[4]],d[21]=a[0],d[22]=a[1],d[23]=a[2],d[24]=a[3],a):(a=[void 0,d[3],d[7],d[4]],d[21]=a[0],d[22]=a[1],d[23]=a[2],d[24]=a[3],a),a=[d[21],d[22],d[23],d[24]],d[9]=a[0],d[10]=a[1],d[11]=a[2],d[12]=a[3],a):(d[20]=d[2].get("payload"),d[2],a=[d[20],d[3],d[7],d[4]],d[9]=a[0],d[10]=a[1],d[11]=a[2],d[12]=a[3],a),d[20]=new c.Map(),d[21]=d[20].set("success",d[9]),d[22]=d[20].set("failure",d[10]),d[23]=d[20].set("protobuf_failure",d[11]),d[24]=d[20].set("context",d[12]),d[25]=c.toJSON(d[20]),d[13]=d[25],d[14]=c.i64.of_float(Date.now()),d[15]=c.i64.random(),d[17]="Finishing execution. Execution time: ",d[18]=c.i64.to_string(c.i64.sub(d[14],d[0])),d[19]=" ms",d[16]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsUpload] ",d[16],d[17],d[16],d[18],d[16],d[19]].join("")),c.i64.eq(c.i64.mod_(d[15],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[20]=",",d[21]=c.createArray(),void 0!==void 0?d[22]=(d[21].push(void 0),d[21]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsUpload",[d[17],d[20],d[18],d[20],d[19]].join(""),d[21],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[13],c.i64.cast([0,50026])],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLoadProtobufBackupSerializedPayloadData",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSEncryptIdentifiersV2","LSGetBlobFromString.nop","LSGetLatestEpochKeys","LSIsEncryptionVersionSecure","LSLoadAndEncryptProtobufV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadProtobufBackupSerializedPayloadData] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[19]=c.i64.mul(d[1],c.i64.cast([0,1e6])),c.db.table(2).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(d[23]=c.i64.of_float(Date.now()),f=[a[0],void 0,void 0,void 0,void 0,c.i64.sub(c.i64.mul(d[23],c.i64.cast([0,1e6])),d[19]),void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],f):(e=b.item,d[23]=c.i64.of_float(Date.now()),f=[a[0],e.queueName,e.enqueueTimestampMs,e.priority,e.firstExecutedTimestampMs,c.i64.sub(c.i64.mul(d[23],c.i64.cast([0,1e6])),d[19]),void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],f)})},function(e){return d[10]=new c.Map(),d[10].set("task_id",d[2]),d[10].set("queue_name",d[3]),d[10].set("enqueue_timestamp_ms",d[4]),d[10].set("priority",d[5]),d[10].set("first_executed_timestamp_ms",d[6]),d[10].set("execution_time_ns",d[7]),d[10].set("echo_encoding_execution_time_ns",d[8]),d[11]=new c.Map(),d[11].set("task_metadata",d[10]),d[11].set("action_type",void 0),d[11].set("content_type",void 0),d[11].set("identifiers",void 0),d[11].set("identifiers_v2",void 0),d[11].set("task_creation_source",void 0),d[11].set("message_payload_source",c.i64.cast([0,2])),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?(d[23]=new c.Map(),d[23].set("error_code",c.i64.cast([0,1])),d[23].set("stored_procedure","LSEncryptedBackupsLoadProtobufBackupSerializedPayloadDataStoredProcedure"),d[23].set("error_message",""),g=[void 0,d[23],d[11]],d[12]=g[0],d[13]=g[1],d[14]=g[2],g):(f=e.item,c.sequence([function(a){return d[32]=f.backupId,d[33]=f.mailboxRootKeyBlob,d[34]=f.deviceId,d[31]=f.backupTenancy,d[30]=f.encryptionVersion,d[23]=void 0,c.i64.neq(d[23],void 0)?c.resolve(d[24]=d[23]):c.sequence([function(a){return d[35]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[45]=(d[35].push(c.i64.cast([0,0])),d[35]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[45]=(d[35].push(c.i64.cast([0,2])),d[35]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[38]?d[45]=(d[35].push(c.i64.cast([0,3])),d[35]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[39]=a[0],a})},function(a){return d[39]?d[45]=(d[35].push(c.i64.cast([0,4])),d[35]):0,d[40]=c.createArray(),d[41]=c.i64.of_int32(d[35].length),c.i64.gt(d[41],c.i64.cast([0,0]))?c.loopAsync(d[41],function(a){return d[45]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[35],d[45]).then(function(a){return a=a,d[46]=a[0],d[47]=a[1],a})},function(a){return d[48]=(d[40].push(d[46]),d[40])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[45]=c.createArray(),d[46]=c.i64.of_int32(d[40].length),c.i64.gt(d[46],c.i64.cast([0,0]))?c.loopAsync(d[46],function(a){return d[48]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[40],d[48]).then(function(a){return a=a,d[49]=a[0],d[50]=a[1],a})},function(a){return d[51]=(d[45].push(c.i64.to_string(d[49])),d[45])}])}):c.resolve()},function(a){return d[47]=d[45].join(","),d[42]=d[47]}])},function(a){return d[40].some(function(a){return c.i64.eq(d[30],a)})?d[43]=d[30]:d[43]=void 0,c.i64.neq(d[43],void 0)?d[44]=d[43]:d[44]=void 0,d[24]=d[44]}])},function(e){return c.i64.neq(d[24],void 0)?d[25]=d[24]:d[25]=c.i64.cast([0,0]),c.i64.neq(d[31],void 0)?d[26]=d[31]:d[26]=c.i64.cast([0,1]),c.i64.neq(d[34],void 0)?c.sequence([function(e){return c.filter(c.db.table(305).fetch(),function(b){return c.i64.eq(b.pendingBackupTaskId,a[0])}).next().then(function(h,i){var e=h.done;h=h.value;return e?(d[39]=new c.Map(),d[39].set("error_code",c.i64.cast([0,5])),d[39].set("stored_procedure","LSEncryptedBackupsLoadProtobufBackupSerializedPayloadDataStoredProcedure"),d[39].set("error_message",""),e=[void 0,d[39],d[11]],d[35]=e[0],d[36]=e[1],d[37]=e[2],e):(i=h.item,c.sequence([function(b){return d[61]=i.actThreadId,d[62]=i.toplevelOfflineThreadingId,d[40]=i.messageTimestampMs,d[39]=new c.Map(),d[39].set("backup_id",c.i64.to_string(d[32])),d[39].set("act_thread_id",d[61]),d[39].set("server_thread_id",d[61]),d[39].set("timestamp",c.i64.to_string(d[40])),d[39].set("otid",d[62]),d[41]=new c.Map(),d[41].set("backup_id",c.i64.to_string(d[32])),d[41].set("act_thread_id",d[61]),d[41].set("timestamp",c.i64.to_string(d[40])),d[41].set("otid",d[62]),c.db.table(2).fetch([[[a[0]]]]).next().then(function(e,f){var b=e.done;e=e.value;return b?(d[63]=c.i64.of_float(Date.now()),b=[a[0],void 0,void 0,void 0,void 0,c.i64.sub(c.i64.mul(d[63],c.i64.cast([0,1e6])),d[19]),void 0],d[42]=b[0],d[43]=b[1],d[44]=b[2],d[45]=b[3],d[46]=b[4],d[47]=b[5],d[48]=b[6],b):(f=e.item,d[63]=c.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,f.priority,f.firstExecutedTimestampMs,c.i64.sub(c.i64.mul(d[63],c.i64.cast([0,1e6])),d[19]),void 0],d[42]=b[0],d[43]=b[1],d[44]=b[2],d[45]=b[3],d[46]=b[4],d[47]=b[5],d[48]=b[6],b)})},function(a){return d[50]=new c.Map(),d[50].set("task_id",d[42]),d[50].set("queue_name",d[43]),d[50].set("enqueue_timestamp_ms",d[44]),d[50].set("priority",d[45]),d[50].set("first_executed_timestamp_ms",d[46]),d[50].set("execution_time_ns",d[47]),d[50].set("echo_encoding_execution_time_ns",d[48]),d[51]=new c.Map(),d[51].set("task_metadata",d[50]),d[51].set("action_type",c.i64.cast([0,1])),d[51].set("content_type",c.i64.cast([0,1])),d[51].set("identifiers",void 0),d[51].set("identifiers_v2",d[41]),d[51].set("task_creation_source",void 0),d[51].set("message_payload_source",c.i64.cast([0,2])),d[52]=d[39].get("act_thread_id"),d[39],d[53]=d[39].get("otid"),d[39],c.storedProcedure(b("LSGetLatestEpochKeys"),!1).then(function(a){return a=a,d[54]=a[0],d[55]=a[1],a})},function(a){return d[54]!==void 0?c.sequence([function(a){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?c.sequence([function(a){return d[66]=c.createArray(),d[71]=(d[66].push(c.i64.cast([0,32])),d[66]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",d[52]].join("")).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[67],void 0,d[33],d[66]).then(function(a){return a=a,d[68]=a[0],a})},function(a){return d[68]?d[69]=!1:d[69]=!0,d[69]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[71]=c.createArray(),void 0!==void 0?d[72]=(d[71].push(void 0),d[71]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","Got null keys while deriving message list OPE key. Returning null blobish",d[71],c.i64.cast([0,3]))},function(a){return d[70]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[68],c.i64.cast([0,0])).then(function(a){return a=a,d[71]=a[0],d[72]=a[1],a})},function(a){return d[70]=d[71]}])},function(a){return d[63]=d[70]}]):c.sequence([function(a){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,2]))?c.sequence([function(a){return d[67]=c.createArray(),d[72]=(d[67].push(c.i64.cast([0,32])),d[67]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",d[53]].join("")).then(function(a){return a=a,d[68]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[68],void 0,d[33],d[67]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return d[69]?d[70]=!1:d[70]=!0,d[70]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[72]=c.createArray(),void 0!==void 0?d[73]=(d[72].push(void 0),d[72]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","Got null keys while deriving message list OPE key. Returning null blobish",d[72],c.i64.cast([0,3]))},function(a){return d[71]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[69],c.i64.cast([0,0])).then(function(a){return a=a,d[72]=a[0],d[73]=a[1],a})},function(a){return d[71]=d[72]}])},function(a){return d[66]=d[71]}]):c.resolve(d[66]=void 0)},function(a){return d[63]=d[66]}])},function(a){return c.blobs.neq(d[63],void 0)?c.sequence([function(a){return d[66]=d[54].get("epoch_keys"),d[54],d[67]=d[66].get("epoch_anon_id"),d[66],d[68]=d[66].get("epoch_root_key"),d[66],d[69]=c.createArray(),d[80]=(d[69].push(c.i64.cast([0,32])),d[69]),c.i64.ge(d[25],c.i64.cast([0,3]))?c.resolve(d[70]=void 0):c.sequence([function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[52]).then(function(a){return a=a,d[80]=a[0],a})},function(a){return d[70]=d[80]}])},function(a){return c.i64.ge(d[25],c.i64.cast([0,4]))?(d[80]="_",d[71]=["message_key_in_epoch",d[80],c.blobs.to_string(d[67]),d[80],"cipher_version",d[80],c.i64.to_string(d[25]),d[80],"thread",d[80],d[52]==null?"":d[52]].join("")):(c.i64.ge(d[25],c.i64.cast([0,3]))?(d[81]="_",d[80]=["message_key_in_epoch",d[81],c.blobs.to_string(d[67]),d[81],"cipher_version",d[81],c.i64.to_string(d[25]),d[81],"thread",d[81],d[52]==null?"":d[52]].join("")):(c.i64.ge(d[25],c.i64.cast([0,2]))?(d[82]="_",d[81]=["message_key_in_epoch",d[82],c.blobs.to_string(d[67]),d[82],"cipher_version",d[82],c.i64.to_string(d[25])].join("")):d[81]=["message_key_in_epoch","_",c.blobs.to_string(d[67])].join(""),d[80]=d[81]),d[71]=d[80]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[71]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[72],d[70],d[68],d[69]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return d[73]?d[74]=!1:d[74]=!0,d[74]?c.resolve(d[75]=void 0):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[73],c.i64.cast([0,0])).then(function(a){return a=a,d[80]=a[0],d[81]=a[1],a})},function(a){return d[75]=d[80]}])},function(a){return c.filter(c.db.table(169).fetch(),function(a){return c.blobs.eq(a.epochAnonIdBlob,c.blob("MA=="))}).next().then(function(e,f){var a=e.done;e=e.value;return a?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTableUtils] Failed to get mailbox_root_key_v2: epoch 0 is not available."),d[80]=c.createArray(),void 0!==void 0?d[81]=(d[80].push(void 0),d[80]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTableUtils","Failed to get mailbox_root_key_v2: epoch 0 is not available.",d[80],c.i64.cast([0,3]))},function(a){return d[76]=void 0}]):(f=e.item,c.sequence([function(a){return d[80]=c.createArray(),d[88]=(d[80].push(c.i64.cast([0,32])),d[80]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5zYWx0X21haWxib3hfcm9vdF9rZXlfdjI="),void 0,d[33],d[80]).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[81]!==void 0?c.sequence([function(a){return d[88]=c.i64.of_int32(d[81].length),c.i64.ge(d[88],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[81],c.i64.cast([0,0])).then(function(a){return a=a,d[90]=a[0],d[91]=a[1],a})},function(a){return d[89]=d[90]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[90]=c.createArray(),void 0!==void 0?d[91]=(d[90].push(void 0),d[90]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[90],c.i64.cast([0,3]))},function(a){return d[89]=void 0}])},function(a){return d[82]=d[89]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[88]=c.createArray(),void 0!==void 0?d[89]=(d[88].push(void 0),d[88]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[88],c.i64.cast([0,3]))},function(a){return d[82]=void 0}])},function(a){return c.blobs.neq(d[82],void 0)?d[83]=!0:d[83]=!1,d[83]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d[84]=c.createArray(),d[88]=(d[84].push(c.i64.cast([0,32])),d[84]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5tYWlsYm94X3Jvb3Rfa2V5X3Yy"),d[82],f.epochRootKeyBlob,d[84]).then(function(a){return a=a,d[85]=a[0],a})},function(a){return d[85]!==void 0?c.sequence([function(a){return d[88]=c.i64.of_int32(d[85].length),c.i64.ge(d[88],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[85],c.i64.cast([0,0])).then(function(a){return a=a,d[90]=a[0],d[91]=a[1],a})},function(a){return d[89]=d[90]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[90]=c.createArray(),void 0!==void 0?d[91]=(d[90].push(void 0),d[90]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[90],c.i64.cast([0,3]))},function(a){return d[89]=void 0}])},function(a){return d[86]=d[89]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[88]=c.createArray(),void 0!==void 0?d[89]=(d[88].push(void 0),d[88]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[88],c.i64.cast([0,3]))},function(a){return d[86]=void 0}])},function(a){return c.blobs.neq(d[86],void 0)?d[87]=!0:d[87]=!1,d[87]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d[76]=d[86]}]))})},function(a){return c.blobs.neq(d[75],void 0)?c.sequence([function(a){return c.blobs.neq(d[76],void 0)?c.sequence([function(a){return d[86]=c.createArray(),d[90]=(d[86].push(c.i64.cast([0,32])),d[86]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5mYWxsYmFja19rZXk="),void 0,d[76],d[86]).then(function(a){return a=a,d[87]=a[0],a})},function(a){return d[87]!==void 0?c.sequence([function(a){return d[90]=c.i64.of_int32(d[87].length),c.i64.ge(d[90],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[87],c.i64.cast([0,0])).then(function(a){return a=a,d[92]=a[0],d[93]=a[1],a})},function(a){return d[91]=d[92]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[92]=c.createArray(),void 0!==void 0?d[93]=(d[92].push(void 0),d[92]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[92],c.i64.cast([0,3]))},function(a){return d[91]=void 0}])},function(a){return d[88]=d[91]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[90]=c.createArray(),void 0!==void 0?d[91]=(d[90].push(void 0),d[90]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[90],c.i64.cast([0,3]))},function(a){return d[88]=void 0}])},function(a){return c.blobs.neq(d[88],void 0)?d[89]=!0:d[89]=!1,d[89]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d[80]=d[88]}]):c.resolve(d[80]=void 0)},function(a){return d[81]=d[66].get("epoch_root_key"),d[66],d[82]=d[66].get("epoch_anon_id"),d[66],d[83]=d[66].get("epoch_id"),d[66],d[84]=new c.Map(),d[84].set("payload_key",d[75]),d[84].set("payload_fallback_key",d[80]),d[84].set("encryption_version",d[25]),d[84].set("epoch_root_key",d[81]),d[84].set("epoch_anon_id",d[82]),d[84].set("epoch_id",d[83]),d[85]=new c.Map(),d[85].set("ope_key",d[63]),d[85].set("message_payload_encryption_keys",d[84]),d[85].set("ocmf_shared_key",f.ocmfClientStateBlob),d[85].set("mailbox_base_salt",d[33]),d[85].set("mailbox_root_key_v2",d[76]),a=[d[85],void 0],d[78]=a[0],d[79]=a[1],a}]):c.resolve((d[80]=new c.Map(),d[80].set("error_code",c.i64.cast([0,26])),d[80].set("stored_procedure","MEBKeyDeriver"),d[80].set("error_message",""),a=[void 0,d[80]],d[78]=a[0],d[79]=a[1],a))},function(a){return a=[d[78],d[79]],d[64]=a[0],d[65]=a[1],a}]):c.resolve((d[66]=new c.Map(),d[66].set("error_code",c.i64.cast([0,25])),d[66].set("stored_procedure","MEBKeyDeriver"),d[66].set("error_message",""),a=[void 0,d[66]],d[64]=a[0],d[65]=a[1],a))},function(a){return a=[d[64],d[65]],d[56]=a[0],d[57]=a[1],a}]):c.resolve((a=[void 0,d[55]],d[56]=a[0],d[57]=a[1],a))},function(e){return d[56]!==void 0?c.sequence([function(a){return d[63]=d[39].get("backup_id"),d[39],d[64]=d[39].get("act_thread_id"),d[39],d[65]=d[39].get("timestamp"),d[39],d[66]=d[39].get("otid"),d[39],c.storedProcedure(b("LSEncryptIdentifiersV2"),c.i64.cast([0,1]),c.i64.cast([0,1]),d[63],d[64],c.i64.from_string(d[65]),d[66],d[56]).then(function(a){return a=a,d[67]=a[0],d[68]=a[1],a})},function(a){return d[69]=d[56].get("message_payload_encryption_keys"),d[56],d[70]=d[69].get("encryption_version"),d[69],d[71]=d[69].get("epoch_anon_id"),d[69],d[72]=d[69].get("epoch_root_key"),d[69],d[73]=d[39].get("act_thread_id"),d[39],d[74]=d[69].get("payload_key"),d[69],d[75]=d[39].get("backup_id"),d[39],d[76]=c.createArray(),d[106]=(d[76].push(c.i64.cast([0,6])),d[76]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_anon_id_debug").then(function(a){return a=a,d[77]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[77],void 0,d[71],d[76]).then(function(a){return a=a,d[78]=a[0],a})},function(a){return d[78]?d[79]=!1:d[79]=!0,d[79]?c.resolve(d[80]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[78],c.i64.cast([0,0])).then(function(a){return a=a,d[106]=a[0],d[107]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[106]).then(function(a){return a=a,d[108]=a[0],a})},function(a){return d[80]=d[108]==null?"":d[108]}])},function(a){return d[81]=c.createArray(),d[106]=(d[81].push(c.i64.cast([0,6])),d[81]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_debug").then(function(a){return a=a,d[82]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[82],void 0,d[72],d[81]).then(function(a){return a=a,d[83]=a[0],a})},function(a){return d[83]?d[84]=!1:d[84]=!0,d[84]?c.resolve(d[85]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[83],c.i64.cast([0,0])).then(function(a){return a=a,d[106]=a[0],d[107]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[106]).then(function(a){return a=a,d[108]=a[0],a})},function(a){return d[85]=d[108]==null?"":d[108]}])},function(a){return d[86]=c.createArray(),d[106]=(d[86].push(c.i64.cast([0,6])),d[86]),c.nativeOperation(b("LSGetBlobFromString.nop"),"message_key_debug").then(function(a){return a=a,d[87]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[87],void 0,d[74],d[86]).then(function(a){return a=a,d[88]=a[0],a})},function(a){return d[88]?d[89]=!1:d[89]=!0,d[89]?c.resolve(d[90]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[88],c.i64.cast([0,0])).then(function(a){return a=a,d[106]=a[0],d[107]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[106]).then(function(a){return a=a,d[108]=a[0],a})},function(a){return d[90]=d[108]==null?"":d[108]}])},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[72]).then(function(a){return a=a,d[91]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),[d[91]==null?"":d[91],d[73]].join("")).then(function(a){return a=a,d[92]=a[0],a})},function(a){return d[93]=c.createArray(),d[106]=(d[93].push(c.i64.cast([0,6])),d[93]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_thread_id_debug").then(function(a){return a=a,d[94]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[94],void 0,d[92],d[93]).then(function(a){return a=a,d[95]=a[0],a})},function(a){return d[95]?d[96]=!1:d[96]=!0,d[96]?c.resolve(d[97]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[95],c.i64.cast([0,0])).then(function(a){return a=a,d[106]=a[0],d[107]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[106]).then(function(a){return a=a,d[108]=a[0],a})},function(a){return d[97]=d[108]==null?"":d[108]}])},function(a){return d[98]=":",c.blobs.neq(d[72],void 0)?c.sequence([function(a){return d[106]=c.createArray(),d[112]=(d[106].push(c.i64.cast([0,18])),d[106]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,d[72],d[106]).then(function(a){return a=a,d[107]=a[0],a})},function(a){return d[107]!==void 0?c.sequence([function(a){return d[112]=c.i64.of_int32(d[107].length),c.i64.ge(d[112],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[107],c.i64.cast([0,0])).then(function(a){return a=a,d[114]=a[0],d[115]=a[1],a})},function(a){return d[113]=d[114]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[114]=c.createArray(),void 0!==void 0?d[115]=(d[114].push(void 0),d[114]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[114],c.i64.cast([0,3]))},function(a){return d[113]=void 0}])},function(a){return d[108]=d[113]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[112]=c.createArray(),void 0!==void 0?d[113]=(d[112].push(void 0),d[112]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[112],c.i64.cast([0,3]))},function(a){return d[108]=void 0}])},function(a){return c.blobs.neq(d[108],void 0)?d[109]=!0:d[109]=!1,d[109]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nativeOperation(b("LSBase64Encode.nop"),d[108]).then(function(a){return a=a,d[110]=a[0],a})},function(a){return d[110]!==void 0?d[111]=d[110]:d[111]="encodingfailed",d[99]=d[111]}]):c.resolve(d[99]="null")},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[71]).then(function(a){return a=a,d[100]=a[0],a})},function(e){return d[101]=new c.Map(),d[101].set("encryption_version",d[70]),d[101].set("epoch_anon_id",d[100]==null?"":d[100]),d[101].set("message_encryption_values",[d[80],d[98],d[85],d[98],d[90],d[98],d[97]].join("")),d[101].set("root_key_fingerprint",d[99]),d[101].set("backup_id",d[75]),d[102]=c.toJSON(d[101]),d[67]!==void 0?c.sequence([function(e){return d[106]=d[39].get("act_thread_id"),d[39],c.storedProcedure(b("LSLoadAndEncryptProtobufV2"),a[0],d[56],d[106]).then(function(a){return a=a,d[107]=a[0],d[108]=a[1],a})},function(a){return d[107]!==void 0?(d[112]=new c.Map(),d[112].set("protobuf_backup_payload",d[107]),d[112].set("encrypted_identifiers",d[67]),d[112].set("device_id",d[34]),d[112].set("identifiers",d[39]),d[112].set("encryption_keys",d[56]),d[112].set("content_type",c.i64.cast([0,1])),d[112].set("action_type",c.i64.cast([0,1])),d[112].set("value_secret_ref",d[102]),d[112].set("attachment_backup_payload",i.attachmentPayload),a=[d[112],void 0,d[51]],d[109]=a[0],d[110]=a[1],d[111]=a[2],a):(a=[void 0,d[108],d[51]],d[109]=a[0],d[110]=a[1],d[111]=a[2],a),a=[d[109],d[110],d[111]],d[103]=a[0],d[104]=a[1],d[105]=a[2],a}]):c.resolve((e=[void 0,d[68],d[51]],d[103]=e[0],d[104]=e[1],d[105]=e[2],e))},function(a){return a=[d[103],d[104],d[105]],d[58]=a[0],d[59]=a[1],d[60]=a[2],a}]):c.resolve((e=[void 0,d[57],d[51]],d[58]=e[0],d[59]=e[1],d[60]=e[2],e))},function(a){return a=[d[58],d[59],d[60]],d[35]=a[0],d[36]=a[1],d[37]=a[2],a}]))})},function(a){return a=[d[35],d[36],d[37]],d[27]=a[0],d[28]=a[1],d[29]=a[2],a}]):c.resolve((d[35]=new c.Map(),d[35].set("error_code",c.i64.cast([0,24])),d[35].set("stored_procedure","LSEncryptedBackupsLoadProtobufBackupSerializedPayloadDataStoredProcedure"),d[35].set("error_message",""),e=[void 0,d[35],d[11]],d[27]=e[0],d[28]=e[1],d[29]=e[2],e))},function(a){return a=[d[27],d[28],d[29]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]))})},function(a){return d[16]=c.i64.of_float(Date.now()),d[17]=c.i64.random(),d[20]="Finishing execution. Execution time: ",d[21]=c.i64.to_string(c.i64.sub(d[16],d[0])),d[22]=" ms",d[18]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadProtobufBackupSerializedPayloadData] ",d[18],d[20],d[18],d[21],d[18],d[22]].join("")),c.i64.eq(c.i64.mod_(d[17],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[23]=",",d[24]=c.createArray(),void 0!==void 0?d[25]=(d[24].push(void 0),d[24]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadProtobufBackupSerializedPayloadData",[d[20],d[23],d[21],d[23],d[22]].join(""),d[24],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[12],d[13],d[14]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsUploadProtobufOnly",["LSBase64Encode.nop","LSLoadProtobufBackupSerializedPayloadData","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsUploadProtobufOnly] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSLoadProtobufBackupSerializedPayloadData"),a[0]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],d[4]=a[2],a})},function(a){return d[2]!==void 0?c.sequence([function(a){return d[15]=d[2].get("encrypted_identifiers"),d[2],d[16]=d[2].get("identifiers"),d[2],d[17]=d[2].get("encryption_keys"),d[2],d[18]=d[2].get("protobuf_backup_payload"),d[2],d[19]=d[15].get("act_thread_id_ocmf_partial"),d[15],d[20]=d[15].get("otid_ocmf_partial"),d[15],d[21]=d[15].get("timestamp_encrypted"),d[15],d[22]=new c.Map(),d[22].set("list_key",d[19]),d[22].set("unique_key",d[20]),d[22].set("sort_key",d[21]),d[23]=d[2].get("value_secret_ref"),d[2],d[24]=new c.Map(),d[24].set("value",""),d[24].set("value_secret_ref",d[23]),d[25]=d[2].get("action_type"),d[2],d[26]=new c.Map(),d[26].set("list_item_id",d[22]),d[26].set("list_item",d[24]),d[26].set("action_type",d[25]),d[27]=d[16].get("server_thread_id"),d[16],d[28]=d[16].get("timestamp"),d[16],d[29]=d[16].get("otid"),d[16],d[30]=d[16].get("act_thread_id"),d[16],d[31]=new c.Map(),d[31].set("server_thread_key",d[27]),d[31].set("timestamp",d[28]),d[31].set("otid",d[29]),d[31].set("wa_thread_id",c.i64.from_string(d[30])),d[32]=d[17].get("mailbox_base_salt"),d[17],c.nativeOperation(b("LSBase64Encode.nop"),d[32]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[34]=d[17].get("ocmf_shared_key"),d[17],c.nativeOperation(b("LSBase64Encode.nop"),d[34]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[36]=new c.Map(),d[36].set("mailbox_root_key",d[33]==null?"":d[33]),d[36].set("ocmf_client_state_blob",d[35]==null?"":d[35]),d[37]=d[15].get("backup_id_ocmf_partial"),d[15],d[38]=d[2].get("device_id"),d[2],d[39]=d[17].get("message_payload_encryption_keys"),d[17],d[40]=d[39].get("epoch_id"),d[39],d[41]=d[17].get("message_payload_encryption_keys"),d[17],d[42]=d[41].get("encryption_version"),d[41],d[43]=d[2].get("content_type"),d[2],d[44]=new c.Map(),d[44].set("mailbox_partial_id",d[37]),d[44].set("action",d[26]),d[44].set("device_id",d[38]),d[44].set("echo_version",c.i64.cast([0,0])),d[44].set("epoch_id",d[40]),d[44].set("trace_id",void 0),d[44].set("encryption_version",d[42]),d[44].set("is_thread",c.i64.eq(d[43],c.i64.cast([0,2]))),d[44].set("raw_identifiers",d[31]),d[44].set("raw_tokens",d[36]),d[44].set("request_id",""),d[44].set("is_instamadillo",!0),d[45]=d[18].get("supplemental_data_encrypted"),d[18],d[45]!==void 0?c.sequence([function(a){return d[49]=d[18].get("protobuf_encrypted"),d[18],d[50]=d[18].get("backup_action"),d[18],d[51]=d[18].get("timestamp_ms"),d[18],d[52]=d[45].get("sk_ciphertext"),d[45],c.nativeOperation(b("LSBase64Encode.nop"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[54]=d[45].get("sk_hash"),d[45],c.nativeOperation(b("LSBase64Encode.nop"),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[56]=d[18].get("message_tags"),d[18],d[57]=new c.Map(),d[57].set("supplementary_data_key",void 0),d[57].set("encrypted_protobuf",d[49]),d[57].set("key_value_backup_action",d[50]),d[57].set("protobuf_ts_ms",d[51]),d[57].set("supplemental_key_ciphertext",d[53]),d[57].set("supplemental_key_hash",d[55]),d[57].set("message_tags",d[56]),d[46]=d[57]}]):c.resolve((d[49]=d[18].get("protobuf_encrypted"),d[18],d[50]=d[18].get("backup_action"),d[18],d[51]=d[18].get("timestamp_ms"),d[18],d[52]=d[18].get("message_tags"),d[18],d[53]=new c.Map(),d[53].set("supplementary_data_key",void 0),d[53].set("encrypted_protobuf",d[49]),d[53].set("key_value_backup_action",d[50]),d[53].set("protobuf_ts_ms",d[51]),d[53].set("message_tags",d[52]),d[46]=d[53]))},function(a){return d[44].set("key_value_backup_payload",d[46]),d[47]=d[2].get("attachment_backup_payload"),d[2],d[47]!==void 0?d[44].set("attachment_backup_payload",d[47]):0,d[48]=c.toJSON(d[44]),a=[d[48],void 0,d[4]],d[5]=a[0],d[6]=a[1],d[7]=a[2],a}]):c.resolve((d[3]?d[15]=!1:d[15]=!0,d[15]?(a=[void 0,void 0,d[4]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a):(a=[void 0,d[3],d[4]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a),a=[d[16],d[17],d[18]],d[5]=a[0],d[6]=a[1],d[7]=a[2],a))},function(a){return d[15]=new c.Map(),d[16]=d[15].set("success",d[5]),d[17]=d[15].set("failure",d[6]),d[18]=d[15].set("context",d[7]),d[19]=c.toJSON(d[15]),d[8]=d[19],d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsUploadProtobufOnly] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsUploadProtobufOnly",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[8],c.i64.cast([0,50042]),void 0],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSTaskSerializerMuteThreadV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("TaskSerializerMuteThreadV2: Task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2],f):(e=d.item,b.sequence([function(a){return c[8]=e.threadKey,b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?(c[9]=b.createArray(),c[10]=(c[9].push("TaskSerializerMuteThreadV2: Thread not found"),c[9]),c[11]=(c[9].push(c[8]),c[9]),c[12]=b.toJSON(c[9]),function(a){b.logger(a).mustfix(a)}(c[12]),a=[void 0,void 0,void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2],a):(e=d.item,b.sequence([function(a){return b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?c[9]=b.i64.cast([0,1]):(e=d.item,c[14]=e.syncGroup,b.i64.neq(c[14],void 0)?c[13]=c[14]:c[13]=b.i64.cast([0,1]),c[9]=c[13])})},function(a){return c[11]=new b.Map(),c[11].set("thread_key",c[8]),c[11].set("mailbox_type",b.i64.cast([0,0])),c[11].set("mute_expire_time_ms",e.muteExpireTimeMs),c[11].set("sync_group",c[9]),c[12]=b.toJSON(c[11]),a=[c[12],b.i64.cast([0,144]),void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2],a}]))})},function(a){return a=[c[4],c[5],c[6]],c[0]=a[0],c[1]=a[1],c[2]=a[2],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSTaskSerializerRemoveThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("TaskSerializerRemoveThreadV2: Task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2],f):(e=d.item,c[7]=e.removeType,b.i64.neq(c[7],void 0)?(c[8]=new b.Map(),c[8].set("thread_key",e.threadKey),c[8].set("remove_type",c[7]),c[8].set("sync_group",e.syncGroup==null?b.i64.cast([0,1]):e.syncGroup),c[9]=b.toJSON(c[8]),f=[c[9],b.i64.cast([0,146]),void 0],c[4]=f[0],c[5]=f[1],c[6]=f[2],f):(d=[void 0,void 0,void 0],c[4]=d[0],c[5]=d[1],c[6]=d[2],d),e=[c[4],c[5],c[6]],c[0]=e[0],c[1]=e[1],c[2]=e[2],e)})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSTaskSerializerSendMessageV2",["LSSymmetricEncryptionCreateEncryptedString.nop","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,b=a[a.length-1],d=[],e=[];return b.sequence([function(f){return b.sequence([function(e){return b.db.table(31).fetch([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?(d[4]=b.createArray(),d[5]=(d[4].push("task ID not found"),d[4]),d[6]=(d[4].push(a[0]),d[4]),d[7]=b.toJSON(d[4]),function(a){b.logger(a).mustfix(a)}(d[7]),g=[void 0,void 0,void 0],d[0]=g[0],d[1]=g[1],d[2]=g[2],g):(f=e.item,b.sequence([function(e){return d[11]=f.offlineThreadingId,d[12]=f.messageId,d[20]=f.threadAttributionSource,d[9]=f.platformRef,d[10]=f.platformToken,d[8]=f.replySourceId,d[13]=f.replySourceType,d[19]=f.sendType,d[21]=f.markThreadRead,d[14]=f.initiatingSource,d[15]=f.skipUrlPreviewGen,d[17]=f.textHasLinks,d[18]=f.multitabEnv,d[16]=f.richTextFormatType,b.db.table(12).fetch([[[d[11]]],"optimistic"]).next().then(function(f,g){var e=f.done;f=f.value;return e?(d[22]=b.createArray(),d[23]=(d[22].push("OTID not found"),d[22]),d[24]=(d[22].push(d[11]),d[22]),d[25]=b.toJSON(d[22]),function(a){b.logger(a).mustfix(a)}(d[25]),e=[void 0,void 0,void 0],d[4]=e[0],d[5]=e[1],d[6]=e[2],e):(g=f.item,b.sequence([function(e){return d[29]=g.text,d[26]=g.threadKey,d[30]=g.messageId,d[38]=g.senderId,d[28]=g.stickerId,d[32]=g.mentionOffsets,d[33]=g.mentionLengths,d[27]=g.mentionIds,d[34]=g.mentionTypes,d[37]=g.replyType,d[35]=g.isForwarded,d[31]=g.forwardScore,d[36]=g.hotEmojiSize,b.db.table(9).fetch([[[d[26]]]]).next().then(function(f,h){var e=f.done;f=f.value;return e?(d[39]=b.createArray(),d[40]=(d[39].push("thread not found"),d[39]),d[41]=(d[39].push(d[26]),d[39]),d[42]=b.toJSON(d[39]),function(a){b.logger(a).mustfix(a)}(d[42]),e=[void 0,void 0,void 0],d[22]=e[0],d[23]=e[1],d[24]=e[2],e):(h=f.item,b.sequence([function(c){return d[46]=h.threadName,d[45]=h.threadKey,d[47]=h.mailboxType,d[39]=h.threadType,d[48]=h.capabilities,d[49]=h.capabilities2,d[50]=h.capabilities3,d[51]=h.capabilities4,b.db.table(2).fetch([[[a[0]]]]).next().then(function(e,f){var c=e.done;e=e.value;return c?d[40]=!1:(f=e.item,b.sequence([function(c){return b.islc(b.db.table(2).fetch([[[f.queueName]],"queueNameTaskId"]),0,b.i64.to_float(b.i64.cast([0,1]))).next().then(function(e,f){var c=e.done;e=e.value;return c?d[52]=!1:(f=e.item,d[52]=b.i64.eq(f.taskId,a[0]))})},function(a){return d[40]=d[52]}]))})},function(a){return b.i64.eq(h.authorityLevel,b.i64.cast([0,20]))&&(b.i64.eq(d[39],b.i64.cast([0,2]))||b.i64.eq(d[39],b.i64.cast([0,5]))||b.i64.eq(d[39],b.i64.cast([0,26])))&&d[40]?b.sequence([function(a){return d[55]=d[19]==null?b.i64.cast([0,1]):d[19],b.db.table(9).fetch([[[d[26]]]]).next().then(function(c,e){var a=c.done;c=c.value;return a?d[52]=b.i64.cast([0,1]):(e=c.item,d[70]=e.syncGroup,b.i64.neq(d[70],void 0)?d[69]=d[70]:d[69]=b.i64.cast([0,1]),d[52]=d[69])})},function(a){return d[54]=new b.Map(),d[54].set("thread_id",d[26]),d[54].set("otid",d[11]),d[54].set("source",d[20]==null?b.i64.cast([0,0]):d[20]),d[54].set("send_type",b.i64.cast([0,1])),d[54].set("sync_group",d[52]),d[54].set("mark_thread_read",d[21]),b.i64.eq(d[55],b.i64.cast([0,1]))?b.resolve(d[54].set("text",d[29])):b.i64.eq(d[55],b.i64.cast([0,2]))?b.resolve(b.i64.neq(d[28],void 0)?(d[54].set("sticker_id",d[28]),d[54].set("send_type",d[55])):0):b.i64.eq(d[55],b.i64.cast([0,7]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[26],d[30]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[69]=a[0],d[70]=a[1],a):(c=b.item,a=[c.filename,c.attributionAppId],d[69]=a[0],d[70]=a[1],a)})},function(a){return d[69]!==void 0?b.i64.neq(d[70],void 0)?(d[54].set("url",d[69]),d[54].set("attribution_app_id",d[70]),d[54].set("send_type",d[55])):0:0}]):b.i64.eq(d[55],b.i64.cast([0,3]))?b.sequence([function(a){return d[54].set("text",d[29]),d[69]=b.createArray(),d[70]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[d[26],d[30]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return d[71]=a.offlineAttachmentId,d[72]=(d[69].push(b.i64.from_string(a.attachmentFbid)),d[69]),d[71]!==void 0?d[72]=(d[70].push(d[71]),d[70]):0})},function(a){return d[54].set("attachment_fbids",d[69]),b.i64.eq(d[55],b.i64.cast([0,9]))?d[54].set("offline_attachment_ids",d[70]):0,d[54].set("send_type",d[55])}]):b.i64.eq(d[55],b.i64.cast([0,9]))?b.sequence([function(a){return d[54].set("text",d[29]),d[69]=b.createArray(),d[70]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[d[26],d[30]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return d[71]=a.offlineAttachmentId,d[72]=(d[69].push(b.i64.from_string(a.attachmentFbid)),d[69]),d[71]!==void 0?d[72]=(d[70].push(d[71]),d[70]):0})},function(a){return d[54].set("attachment_fbids",d[69]),b.i64.eq(d[55],b.i64.cast([0,9]))?d[54].set("offline_attachment_ids",d[70]):0,d[54].set("send_type",d[55])}]):b.i64.eq(d[55],b.i64.cast([0,10]))?b.sequence([function(a){return d[54].set("text",d[29]),d[69]=b.createArray(),d[70]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[d[26],d[30]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return d[71]=a.offlineAttachmentId,d[72]=(d[69].push(b.i64.from_string(a.attachmentFbid)),d[69]),d[71]!==void 0?d[72]=(d[70].push(d[71]),d[70]):0})},function(a){return d[54].set("attachment_fbids",d[69]),b.i64.eq(d[55],b.i64.cast([0,9]))?d[54].set("offline_attachment_ids",d[70]):0,d[54].set("send_type",d[55])}]):b.i64.eq(d[55],b.i64.cast([0,4]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[26],d[30]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?d[69]=void 0:(c=b.item,d[69]=c.attachmentFbid)})},function(a){return b.db.table(16).fetch([[[d[26],d[30]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?d[71]=void 0:(c=b.item,d[71]=c.actionUrl)})},function(a){return d[69]!==void 0?(d[54].set("text",d[29]),d[71]!==void 0?d[54].set("url",d[71]):0,d[54].set("forwarded_share_id",d[69]),d[54].set("send_type",d[55])):0}]):b.i64.eq(d[55],b.i64.cast([0,5]))?b.resolve(d[12]!==void 0?(d[54].set("forwarded_msg_id",d[12]),d[54].set("send_type",d[55]),b.i64.neq(d[31],void 0)?d[54].set("forward_score",d[31]):0,d[54].set("strip_forwarded_msg_caption",!1)):0):b.i64.eq(d[55],b.i64.cast([0,6]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[26],d[30]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[69]=a[0],d[70]=a[1],a):(c=b.item,a=[c.filename,c.attributionAppId],d[69]=a[0],d[70]=a[1],a)})},function(a){return d[69]!==void 0?(d[54].set("url",d[69]),d[54].set("text",d[29]),d[54].set("send_type",d[55])):0}]):b.i64.eq(d[55],b.i64.cast([0,11]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[26],d[30]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[69]=a[0],d[70]=a[1],a):(c=b.item,a=[c.actionUrl,c.attributionAppId],d[69]=a[0],d[70]=a[1],a)})},function(a){return d[69]!==void 0?(d[54].set("url",d[69]),c("gkx")("3272")?d[54].set("text",d[29]):0,d[54].set("send_type",d[55])):0}]):b.resolve(0)},function(a){return d[65]=d[8]===""?void 0:d[8],d[65]!==void 0?b.i64.neq(d[13],void 0)?(d[69]=new b.Map(),d[69].set("reply_source_id",d[65]),d[69].set("reply_source_type",d[13]),d[69].set("reply_type",d[37]==null?b.i64.cast([0,0]):d[37]),d[54].set("reply_metadata",d[69])):0:0,d[66]=d[27]===""?void 0:d[27],d[66]!==void 0?(d[69]=d[32]===""?void 0:d[32],d[69]!==void 0?(d[70]=d[33]===""?void 0:d[33],d[70]!==void 0?(d[71]=new b.Map(),d[71].set("mention_ids",d[66]),d[71].set("mention_offsets",d[69]),d[71].set("mention_lengths",d[70]),d[71].set("mention_types",d[34]===""?void 0:d[34]),d[54].set("mention_data",d[71])):0):0):0,d[35]!==void 0?d[54].set("is_forwarded",d[35]):0,d[67]=d[9]===""?void 0:d[9],d[67]!==void 0?d[54].set("platform_ref",d[67]):0,d[68]=d[10]===""?void 0:d[10],d[68]!==void 0?d[54].set("platform_token",d[68]):0,[b.i64.cast([0,1]),b.i64.cast([0,2])].some(function(a){return b.i64.eq(d[55],a)})?b.i64.neq(d[36],void 0)?d[54].set("hot_emoji_size",d[36]):0:0,b.i64.neq(d[14],void 0)?d[54].set("initiating_source",d[14]):0,d[15]!==void 0?d[54].set("skip_url_preview_gen",d[15]):0,b.i64.neq(d[16],void 0)?d[54].set("rich_text_format_type",d[16]):0,b.resolve()},function(a){return d[17]!==void 0?d[54].set("text_has_links",d[17]):0,d[18]!==void 0?d[54].set("multitab_env",d[18]):0,b.filter(b.db.table(14).fetch([[[d[45],d[38]]]]),function(a){return b.i64.eq(a.threadKey,d[45])&&b.i64.eq(b.i64.cast([0,0]),d[47])&&b.i64.eq(a.contactId,d[38])}).next().then(function(c,e){var a=c.done;c=c.value;return a?d[56]=!1:(e=c.item,b.i64.eq(d[39],b.i64.cast([0,152]))?(d[70]=e.threadRoles,b.i64.lt(b.i64.cast([0,7]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,7]),b.i64.cast([0,7]))?d[71]=!1:d[71]=!b.i64.eq(b.i64.and_(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.cast([0,7]))),d[70]),b.i64.cast([0,0])),d[72]=d[48],d[73]=d[49],d[74]=d[50],d[75]=d[51],d[77]=b.i64.div(b.i64.cast([0,223]),b.i64.cast([0,64])),d[78]=b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.sub(b.i64.cast([0,223]),b.i64.mul(d[77],b.i64.cast([0,64]))))),b.i64.lt(b.i64.cast([0,223]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,223]),b.i64.cast([0,238]))?d[76]=!1:(b.i64.eq(d[77],b.i64.cast([0,0]))?d[79]=!b.i64.eq(b.i64.and_(d[78],d[72]),b.i64.cast([0,0])):(b.i64.eq(d[77],b.i64.cast([0,1]))?d[80]=!b.i64.eq(b.i64.and_(d[78],d[73]),b.i64.cast([0,0])):(b.i64.eq(d[77],b.i64.cast([0,2]))?d[81]=!b.i64.eq(b.i64.and_(d[78],d[74]),b.i64.cast([0,0])):(b.i64.eq(d[77],b.i64.cast([0,3]))?d[82]=!b.i64.eq(b.i64.and_(d[78],d[75]),b.i64.cast([0,0])):d[82]=!1,d[81]=d[82]),d[80]=d[81]),d[79]=d[80]),d[76]=d[79]),d[71]===d[76]?0:(function(a){b.logger(a).mustfix(a)}("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting"),b["throw"]("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting")),d[69]=d[71]):d[69]=!1,d[56]=d[69])})},function(a){return d[56]?d[54].set("perform_action_as_page",!0):0,d[58]=b.createArray(),b.forEach(b.db.table(14).fetch([[[d[26]]]]),function(a){a=a.item;return d[69]=(d[58].push(a.contactId),d[58])})},function(a){return d[59]=new b.Map(),d[59].set("participants",d[58]),d[59].set("send_payload",d[54]),d[46]!==void 0?d[59].set("thread_name",d[46]):0,b.db.table(312).fetch([[[d[26]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?d[60]=void 0:(c=b.item,d[60]=c.metadata)})},function(a){return d[59].set("thread_metadata",d[60]),b.forEach(b.db.table(9).fetch([[[d[45]]]]),function(a){var b=a.update;a.item;return b({otidOfFirstMessage:g.offlineThreadingId})})},function(a){return d[60]===void 0||!1?(b.i64.eq(d[39],b.i64.cast([0,5]))||b.i64.eq(d[39],b.i64.cast([0,26]))?(function(a){b.logger(a).mustfix(a)}("For Marketplace & community chat subthreads, thread metadata cannot be null"),a=[void 0,void 0,void 0],d[69]=a[0],d[70]=a[1],d[71]=a[2],a):(d[72]=b.toJSON(d[59]),a=[d[72],b.i64.cast([0,130]),void 0],d[69]=a[0],d[70]=a[1],d[71]=a[2],a),a=[d[69],d[70],d[71]],d[62]=a[0],d[63]=a[1],d[64]=a[2],a):(b.i64.eq(d[39],b.i64.cast([0,5]))?(d[72]=b.toJSON(d[59]),a=[d[72],b.i64.cast([0,645]),void 0],d[69]=a[0],d[70]=a[1],d[71]=a[2],a):(b.i64.eq(d[39],b.i64.cast([0,26]))?(d[75]=b.toJSON(d[59]),a=[d[75],b.i64.cast([0,696]),void 0],d[72]=a[0],d[73]=a[1],d[74]=a[2],a):(b.i64.eq(d[39],b.i64.cast([0,2]))?(d[78]=b.toJSON(d[59]),a=[d[78],b.i64.cast([0,787]),void 0],d[75]=a[0],d[76]=a[1],d[77]=a[2],a):(d[78]=b.toJSON(d[59]),a=[d[78],b.i64.cast([0,645]),void 0],d[75]=a[0],d[76]=a[1],d[77]=a[2],a),a=[d[75],d[76],d[77]],d[72]=a[0],d[73]=a[1],d[74]=a[2],a),a=[d[72],d[73],d[74]],d[69]=a[0],d[70]=a[1],d[71]=a[2],a),a=[d[69],d[70],d[71]],d[62]=a[0],d[63]=a[1],d[64]=a[2],a),a=[d[62],d[63],d[64]],d[42]=a[0],d[43]=a[1],d[44]=a[2],a}]):b.sequence([function(a){return d[55]=d[19]==null?b.i64.cast([0,1]):d[19],b.db.table(9).fetch([[[d[26]]]]).next().then(function(c,e){var a=c.done;c=c.value;return a?d[52]=b.i64.cast([0,1]):(e=c.item,d[64]=e.syncGroup,b.i64.neq(d[64],void 0)?d[63]=d[64]:d[63]=b.i64.cast([0,1]),d[52]=d[63])})},function(a){return d[54]=new b.Map(),d[54].set("thread_id",d[26]),d[54].set("otid",d[11]),d[54].set("source",d[20]==null?b.i64.cast([0,0]):d[20]),d[54].set("send_type",b.i64.cast([0,1])),d[54].set("sync_group",d[52]),d[54].set("mark_thread_read",d[21]),b.i64.eq(d[55],b.i64.cast([0,1]))?b.resolve(d[54].set("text",d[29])):b.i64.eq(d[55],b.i64.cast([0,2]))?b.resolve(b.i64.neq(d[28],void 0)?(d[54].set("sticker_id",d[28]),d[54].set("send_type",d[55])):0):b.i64.eq(d[55],b.i64.cast([0,7]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[26],d[30]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[63]=a[0],d[64]=a[1],a):(c=b.item,a=[c.filename,c.attributionAppId],d[63]=a[0],d[64]=a[1],a)})},function(a){return d[63]!==void 0?b.i64.neq(d[64],void 0)?(d[54].set("url",d[63]),d[54].set("attribution_app_id",d[64]),d[54].set("send_type",d[55])):0:0}]):b.i64.eq(d[55],b.i64.cast([0,3]))?b.sequence([function(a){return d[54].set("text",d[29]),d[63]=b.createArray(),d[64]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[d[26],d[30]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return d[65]=a.offlineAttachmentId,d[66]=(d[63].push(b.i64.from_string(a.attachmentFbid)),d[63]),d[65]!==void 0?d[66]=(d[64].push(d[65]),d[64]):0})},function(a){return d[54].set("attachment_fbids",d[63]),b.i64.eq(d[55],b.i64.cast([0,9]))?d[54].set("offline_attachment_ids",d[64]):0,d[54].set("send_type",d[55])}]):b.i64.eq(d[55],b.i64.cast([0,9]))?b.sequence([function(a){return d[54].set("text",d[29]),d[63]=b.createArray(),d[64]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[d[26],d[30]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return d[65]=a.offlineAttachmentId,d[66]=(d[63].push(b.i64.from_string(a.attachmentFbid)),d[63]),d[65]!==void 0?d[66]=(d[64].push(d[65]),d[64]):0})},function(a){return d[54].set("attachment_fbids",d[63]),b.i64.eq(d[55],b.i64.cast([0,9]))?d[54].set("offline_attachment_ids",d[64]):0,d[54].set("send_type",d[55])}]):b.i64.eq(d[55],b.i64.cast([0,10]))?b.sequence([function(a){return d[54].set("text",d[29]),d[63]=b.createArray(),d[64]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[d[26],d[30]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return d[65]=a.offlineAttachmentId,d[66]=(d[63].push(b.i64.from_string(a.attachmentFbid)),d[63]),d[65]!==void 0?d[66]=(d[64].push(d[65]),d[64]):0})},function(a){return d[54].set("attachment_fbids",d[63]),b.i64.eq(d[55],b.i64.cast([0,9]))?d[54].set("offline_attachment_ids",d[64]):0,d[54].set("send_type",d[55])}]):b.i64.eq(d[55],b.i64.cast([0,4]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[26],d[30]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?d[63]=void 0:(c=b.item,d[63]=c.attachmentFbid)})},function(a){return b.db.table(16).fetch([[[d[26],d[30]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?d[65]=void 0:(c=b.item,d[65]=c.actionUrl)})},function(a){return d[63]!==void 0?(d[54].set("text",d[29]),d[65]!==void 0?d[54].set("url",d[65]):0,d[54].set("forwarded_share_id",d[63]),d[54].set("send_type",d[55])):0}]):b.i64.eq(d[55],b.i64.cast([0,5]))?b.resolve(d[12]!==void 0?(d[54].set("forwarded_msg_id",d[12]),d[54].set("send_type",d[55]),b.i64.neq(d[31],void 0)?d[54].set("forward_score",d[31]):0,d[54].set("strip_forwarded_msg_caption",!1)):0):b.i64.eq(d[55],b.i64.cast([0,6]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[26],d[30]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[63]=a[0],d[64]=a[1],a):(c=b.item,a=[c.filename,c.attributionAppId],d[63]=a[0],d[64]=a[1],a)})},function(a){return d[63]!==void 0?(d[54].set("url",d[63]),d[54].set("text",d[29]),d[54].set("send_type",d[55])):0}]):b.i64.eq(d[55],b.i64.cast([0,11]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[26],d[30]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[63]=a[0],d[64]=a[1],a):(c=b.item,a=[c.actionUrl,c.attributionAppId],d[63]=a[0],d[64]=a[1],a)})},function(a){return d[63]!==void 0?(d[54].set("url",d[63]),c("gkx")("3272")?d[54].set("text",d[29]):0,d[54].set("send_type",d[55])):0}]):b.resolve(0)},function(a){return d[59]=d[8]===""?void 0:d[8],d[59]!==void 0?b.i64.neq(d[13],void 0)?(d[63]=new b.Map(),d[63].set("reply_source_id",d[59]),d[63].set("reply_source_type",d[13]),d[63].set("reply_type",d[37]==null?b.i64.cast([0,0]):d[37]),d[54].set("reply_metadata",d[63])):0:0,d[60]=d[27]===""?void 0:d[27],d[60]!==void 0?(d[63]=d[32]===""?void 0:d[32],d[63]!==void 0?(d[64]=d[33]===""?void 0:d[33],d[64]!==void 0?(d[65]=new b.Map(),d[65].set("mention_ids",d[60]),d[65].set("mention_offsets",d[63]),d[65].set("mention_lengths",d[64]),d[65].set("mention_types",d[34]===""?void 0:d[34]),d[54].set("mention_data",d[65])):0):0):0,d[35]!==void 0?d[54].set("is_forwarded",d[35]):0,d[61]=d[9]===""?void 0:d[9],d[61]!==void 0?d[54].set("platform_ref",d[61]):0,d[62]=d[10]===""?void 0:d[10],d[62]!==void 0?d[54].set("platform_token",d[62]):0,[b.i64.cast([0,1]),b.i64.cast([0,2])].some(function(a){return b.i64.eq(d[55],a)})?b.i64.neq(d[36],void 0)?d[54].set("hot_emoji_size",d[36]):0:0,b.i64.neq(d[14],void 0)?d[54].set("initiating_source",d[14]):0,d[15]!==void 0?d[54].set("skip_url_preview_gen",d[15]):0,b.i64.neq(d[16],void 0)?d[54].set("rich_text_format_type",d[16]):0,b.resolve()},function(a){return d[17]!==void 0?d[54].set("text_has_links",d[17]):0,d[18]!==void 0?d[54].set("multitab_env",d[18]):0,b.filter(b.db.table(14).fetch([[[d[45],d[38]]]]),function(a){return b.i64.eq(a.threadKey,d[45])&&b.i64.eq(b.i64.cast([0,0]),d[47])&&b.i64.eq(a.contactId,d[38])}).next().then(function(c,e){var a=c.done;c=c.value;return a?d[56]=!1:(e=c.item,b.i64.eq(d[39],b.i64.cast([0,152]))?(d[64]=e.threadRoles,b.i64.lt(b.i64.cast([0,7]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,7]),b.i64.cast([0,7]))?d[65]=!1:d[65]=!b.i64.eq(b.i64.and_(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.cast([0,7]))),d[64]),b.i64.cast([0,0])),d[66]=d[48],d[67]=d[49],d[68]=d[50],d[69]=d[51],d[71]=b.i64.div(b.i64.cast([0,223]),b.i64.cast([0,64])),d[72]=b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.sub(b.i64.cast([0,223]),b.i64.mul(d[71],b.i64.cast([0,64]))))),b.i64.lt(b.i64.cast([0,223]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,223]),b.i64.cast([0,238]))?d[70]=!1:(b.i64.eq(d[71],b.i64.cast([0,0]))?d[73]=!b.i64.eq(b.i64.and_(d[72],d[66]),b.i64.cast([0,0])):(b.i64.eq(d[71],b.i64.cast([0,1]))?d[74]=!b.i64.eq(b.i64.and_(d[72],d[67]),b.i64.cast([0,0])):(b.i64.eq(d[71],b.i64.cast([0,2]))?d[75]=!b.i64.eq(b.i64.and_(d[72],d[68]),b.i64.cast([0,0])):(b.i64.eq(d[71],b.i64.cast([0,3]))?d[76]=!b.i64.eq(b.i64.and_(d[72],d[69]),b.i64.cast([0,0])):d[76]=!1,d[75]=d[76]),d[74]=d[75]),d[73]=d[74]),d[70]=d[73]),d[65]===d[70]?0:(function(a){b.logger(a).mustfix(a)}("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting"),b["throw"]("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting")),d[63]=d[65]):d[63]=!1,d[56]=d[63])})},function(a){return d[56]?d[54].set("perform_action_as_page",!0):0,d[58]=b.toJSON(d[54]),a=[d[58],b.i64.cast([0,46]),void 0],d[42]=a[0],d[43]=a[1],d[44]=a[2],a}])},function(a){return a=[d[42],d[43],d[44]],d[22]=a[0],d[23]=a[1],d[24]=a[2],a}]))})},function(a){return a=[d[22],d[23],d[24]],d[4]=a[0],d[5]=a[1],d[6]=a[2],a}]))})},function(a){return a=[d[4],d[5],d[6]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}]))})},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return b.resolve(e)}])}b=a;g["default"]=b}),98);
__d("LSTaskSerializerSyncThreadCapabilities",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,void 0,void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],a,c.resolve(d)}e.exports=a}),null);
__d("LSACSExperimentCapability",[],(function(a,b,c,d,e,f){a=Object.freeze({RETRY_AFTER_TASK_SERIALIZATION_FAILURE_EXPONENTIAL_BACKOFF:0,BUMP_TOKEN_SYNC_TASK_AT_TASK_SERIALIZATION:1,INSERT_PENDING_TASK_PARENT_ROW_WHEN_NO_ACS_TOKENS_AT_TASK_INSERTION:2});f["default"]=a}),66);
__d("LSIsExperimentCapabilityEnabled.nop",["LSACSExperimentCapability","LSIntEnum","MetaConfig","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("MetaConfig")._("87");a=function(a,e,f,g){switch((i||(i=d("LSIntEnum"))).toNumber(f)){case c("LSACSExperimentCapability").BUMP_TOKEN_SYNC_TASK_AT_TASK_SERIALIZATION:return(h||(h=b("Promise"))).resolve([!1]);case c("LSACSExperimentCapability").INSERT_PENDING_TASK_PARENT_ROW_WHEN_NO_ACS_TOKENS_AT_TASK_INSERTION:return(h||(h=b("Promise"))).resolve([!1]);case c("LSACSExperimentCapability").RETRY_AFTER_TASK_SERIALIZATION_FAILURE_EXPONENTIAL_BACKOFF:return(h||(h=b("Promise"))).resolve([j])}return(h||(h=b("Promise"))).resolve([!1])};g["default"]=a}),98);
__d("LSMailboxTaskCompletionApiOnTaskCompletion",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(233).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({success:a[1]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSVoprfHmac.nop",["ACSCipherSuiteModule","ACSTokenHmacUtil","Promise","XPlatReactTextEncoder","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){a=d("ACSCipherSuiteModule").getACSCipherSuiteByValue(d("ACSCipherSuiteModule").VOPRF_RISTRETTO_HMACSHA512.value);if(!a)return(h||(h=b("Promise"))).resolve([void 0]);c=(yield d("ACSTokenHmacUtil").hmac(a.macAlgorithm,new Uint8Array(f).slice(),new(d("XPlatReactTextEncoder").TextEncoder)().encode(e)));return(h||(h=b("Promise"))).resolve([c.buffer])});function c(b,c,d,e){return a.apply(this,arguments)}return c}();g["default"]=a}),98);
__d("LSTaskSerializerUnauthenticatedTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsExperimentCapabilityEnabled.nop","LSMailboxTaskCompletionApiOnTaskCompletion","LSRemoveUsedTokens","LSVoprfHmac.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return c.db.table(311).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=void 0:(b=a.item,d[0]=b.projectName)})},function(e){return d[0]!==void 0?c.sequence([function(e){return a[1]!==void 0?c.sequence([function(a){return d[9]=c.createArray(),d[10]=c.i64.of_float(Date.now()),c.forEach(c.filter(c.db.table(307).fetch(),function(a){return d[0]===a.projectName&&c.i64.gt(a.expirationTimestampMs,d[10])}),function(a){a=a.item;return d[16]=(d[9].push(a.configId),d[9])})},function(a){return c.sequence([function(a){return d[16]=c.createArray(),d[17]=c.i64.of_int32(d[9].length),c.i64.gt(d[17],c.i64.cast([0,0]))?c.loopAsync(d[17],function(a){return d[19]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[9],d[19]).then(function(a){return a=a,d[20]=a[0],d[21]=a[1],a})},function(a){return d[22]=(d[16].push(d[20]),d[16])}])}):c.resolve()},function(a){return d[18]=d[16].join(","),d[11]=d[18]}])},function(e){return c.filter(c.db.table(309).fetch(),function(a){return d[9].includes(a.configId)&&c.i64.gt(a.redeemLimit,c.i64.cast([0,0]))}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(a){return c.nativeOperation(b("LSIsExperimentCapabilityEnabled.nop"),c.i64.cast([0,0]),d[0]).then(function(a){return a=a,d[16]=a[0],a})},function(e){return d[16]?c.sequence([function(b){return c.db.table(311).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[20]=c.i64.cast([0,0]):(e=b.item,d[20]=e.failureCount)})},function(b){return c.forEach(c.db.table(311).fetch([[[a[0]]]]),function(a){a=a.item;return c.forEach(c.db.table(311).fetch([[[a.taskId]]]),function(a){var b=a.update;a.item;return b({failureCount:c.i64.add(d[20],c.i64.cast([0,1]))})})})},function(a){return a=[void 0,void 0,c.i64.mul(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.mod_(d[20],c.i64.cast([0,7])))),c.i64.cast([0,500]))],d[17]=a[0],d[18]=a[1],d[19]=a[2],a}]):c.sequence([function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[20]=c.createArray(),d[21]=(d[20].push("Unauthenticated Task Serializer: no valid tokens"),d[20]),d[22]=(d[20].push(a[0]),d[20]),d[23]=(d[20].push(d[0]),d[20]),d[24]=c.toJSON(d[20]),function(a){c.logger(a).mustfix(a)}(d[24]),b=[void 0,void 0,void 0],d[17]=b[0],d[18]=b[1],d[19]=b[2],b}])},function(a){return a=[d[17],d[18],d[19]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]):(f=e.item,c.sequence([function(e){return d[20]=f.tokenId,c.nativeOperation(b("LSVoprfHmac.nop"),a[2]==null?"":a[2],f.sharedSecret).then(function(a){return a=a,d[16]=a[0],a})},function(e){return c.blobs.neq(d[16],void 0)?c.sequence([function(a){return c.forEach(c.db.table(309).fetch([[[d[20]]]]),function(a){var b=a.update;a=a.item;return b({redeemLimit:c.i64.sub(a.redeemLimit,c.i64.cast([0,1]))})})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[16]).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),f.nonce).then(function(a){return a=a,d[22]=a[0],a})},function(b){return d[23]=new c.Map(),d[23].set("config_id",f.configId),d[23].set("tag",d[21]==null?"":d[21]),d[23].set("aux",d[22]==null?"":d[22]),d[23].set("project_name",d[0]),d[24]=c.toJSON(d[23]),d[25]=new c.Map(),d[25].set("payload",a[2]==null?"":a[2]),d[25].set("token",d[24]),d[26]=c.toJSON(d[25]),b=[d[26],c.i64.from_string(a[1]),void 0],d[17]=b[0],d[18]=b[1],d[19]=b[2],b}]):c.sequence([function(a){return c.forEach(c.db.table(309).fetch([[[d[20]]]]),function(a){return a["delete"]()})},function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[21]=c.createArray(),d[22]=(d[21].push("Unauthenticated Task Serializer: hmac failed"),d[21]),d[23]=(d[21].push(a[0]),d[21]),d[24]=c.toJSON(d[21]),function(a){c.logger(a).mustfix(a)}(d[24]),b=[void 0,void 0,void 0],d[17]=b[0],d[18]=b[1],d[19]=b[2],b}])},function(a){return a=[d[17],d[18],d[19]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]))})},function(a){return a=[d[12],d[13],d[14]],d[6]=a[0],d[7]=a[1],d[8]=a[2],a}]):c.sequence([function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[9]=c.createArray(),d[10]=(d[9].push("Unauthenticated Task Serializer: task has no write label"),d[9]),d[11]=(d[9].push(a[0]),d[9]),d[12]=c.toJSON(d[9]),function(a){c.logger(a).mustfix(a)}(d[12]),b=[void 0,void 0,void 0],d[6]=b[0],d[7]=b[1],d[8]=b[2],b}])},function(a){return a=[d[6],d[7],d[8]],d[2]=a[0],d[3]=a[1],d[4]=a[2],a}]):c.sequence([function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[6]=c.createArray(),d[7]=(d[6].push("Unauthenticated Task Serializer: anonymous_task_context row not found"),d[6]),d[8]=(d[6].push(a[0]),d[6]),d[9]=c.toJSON(d[6]),function(a){c.logger(a).mustfix(a)}(d[9]),b=[void 0,void 0,void 0],d[2]=b[0],d[3]=b[1],d[4]=b[2],b}])},function(a){return c.storedProcedure(b("LSRemoveUsedTokens"))},function(a){return d[0]!==void 0?d[5]=void 0:d[5]=void 0,a=[d[2],d[3],d[4]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSTaskSerializerUpdateThreadName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("taskSerializerUpdateThreadName: Task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2],f):(e=d.item,b.sequence([function(a){return c[8]=e.threadKey,b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?(c[9]=b.createArray(),c[10]=(c[9].push("taskSerializerUpdateThreadName: Thread not found"),c[9]),c[11]=(c[9].push(c[8]),c[9]),c[12]=b.toJSON(c[9]),function(a){b.logger(a).mustfix(a)}(c[12]),a=[void 0,void 0,void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2],a):(e=d.item,b.sequence([function(a){return b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?c[9]=b.i64.cast([0,1]):(e=d.item,c[14]=e.syncGroup,b.i64.neq(c[14],void 0)?c[13]=c[14]:c[13]=b.i64.cast([0,1]),c[9]=c[13])})},function(a){return c[11]=new b.Map(),c[11].set("thread_key",c[8]),c[11].set("thread_name",e.threadName==null?"":e.threadName),c[11].set("sync_group",c[9]),c[12]=b.toJSON(c[11]),a=[c[12],b.i64.cast([0,32]),void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2],a}]))})},function(a){return a=[c[4],c[5],c[6]],c[0]=a[0],c[1]=a[1],c[2]=a[2],a}]))})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSSerializeTask",["LSForceTaskExecutionImmediately","LSTaskSerializerAcsIssueNextSync","LSTaskSerializerE2eeMessageIntegrityCheckV2","LSTaskSerializerE2eeMetadataThreadIntegrityCheck","LSTaskSerializerEncryptedBackupAction","LSTaskSerializerEncryptedBackupsLoopingUpload","LSTaskSerializerEncryptedBackupsOpenUpload","LSTaskSerializerEncryptedBackupsRestoreWithSerializer","LSTaskSerializerEncryptedBackupsUpload","LSTaskSerializerEncryptedBackupsUploadProtobufOnly","LSTaskSerializerMuteThreadV2","LSTaskSerializerRemoveThread","LSTaskSerializerSendMessageV2","LSTaskSerializerSyncThreadCapabilities","LSTaskSerializerUnauthenticatedTask","LSTaskSerializerUpdateThreadName"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return a[1]==="46"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerSendMessageV2"),a[0]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(a){return a=[d[8],c.i64.to_string(d[9]),void 0,void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],a}]):c.sequence([function(e){return a[1]==="144"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerMuteThreadV2"),a[0]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return a=[d[12],c.i64.to_string(d[13]),void 0,void 0],d[8]=a[0],d[9]=a[1],d[10]=a[2],d[11]=a[3],a}]):c.sequence([function(e){return a[1]==="146"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerRemoveThread"),a[0]).then(function(a){return a=a,d[16]=a[0],d[17]=a[1],a})},function(a){return a=[d[16],c.i64.to_string(d[17]),void 0,void 0],d[12]=a[0],d[13]=a[1],d[14]=a[2],d[15]=a[3],a}]):c.sequence([function(e){return a[1]==="32"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerUpdateThreadName"),a[0]).then(function(a){return a=a,d[20]=a[0],d[21]=a[1],d[22]=a[2],a})},function(a){return a=[d[20],c.i64.to_string(d[21]),void 0,void 0],d[16]=a[0],d[17]=a[1],d[18]=a[2],d[19]=a[3],a}]):c.sequence([function(e){return a[1]==="362"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerAcsIssueNextSync"),a[0]).then(function(a){return a=a,d[24]=a[0],d[25]=a[1],d[26]=a[2],a})},function(a){return a=[d[24],c.i64.to_string(d[25]),void 0,void 0],d[20]=a[0],d[21]=a[1],d[22]=a[2],d[23]=a[3],a}]):c.sequence([function(e){return a[1]==="50015"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsRestoreWithSerializer"),a[0]).then(function(a){return a=a,d[28]=a[0],d[29]=a[1],d[30]=a[2],a})},function(a){return a=[d[28],c.i64.to_string(d[29]),void 0,void 0],d[24]=a[0],d[25]=a[1],d[26]=a[2],d[27]=a[3],a}]):c.sequence([function(e){return a[1]==="319"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupAction"),a[0]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],d[34]=a[2],a})},function(a){return a=[d[32],c.i64.to_string(d[33]),void 0,void 0],d[28]=a[0],d[29]=a[1],d[30]=a[2],d[31]=a[3],a}]):c.sequence([function(e){return a[1]==="50026"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsUpload"),a[0]).then(function(a){return a=a,d[36]=a[0],d[37]=a[1],a})},function(a){return a=[d[36],c.i64.to_string(d[37]),void 0,void 0],d[32]=a[0],d[33]=a[1],d[34]=a[2],d[35]=a[3],a}]):c.sequence([function(e){return a[1]==="50042"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsUploadProtobufOnly"),a[0]).then(function(a){return a=a,d[40]=a[0],d[41]=a[1],d[42]=a[2],a})},function(a){return a=[d[40],c.i64.to_string(d[41]),void 0,void 0],d[36]=a[0],d[37]=a[1],d[38]=a[2],d[39]=a[3],a}]):c.sequence([function(e){return a[1]==="700"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerE2eeMetadataThreadIntegrityCheck"),a[0]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],d[46]=a[2],a})},function(a){return a=[d[44],c.i64.to_string(d[45]),void 0,void 0],d[40]=a[0],d[41]=a[1],d[42]=a[2],d[43]=a[3],a}]):c.sequence([function(e){return a[1]==="705"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerE2eeMessageIntegrityCheckV2"),a[0]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],d[50]=a[2],a})},function(a){return a=[d[48],c.i64.to_string(d[49]),void 0,void 0],d[44]=a[0],d[45]=a[1],d[46]=a[2],d[47]=a[3],a}]):c.sequence([function(e){return a[1]==="50043"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsLoopingUpload"),a[0]).then(function(a){return a=a,d[52]=a[0],d[53]=a[1],d[54]=a[2],a})},function(a){return a=[d[52],c.i64.to_string(d[53]),void 0,void 0],d[48]=a[0],d[49]=a[1],d[50]=a[2],d[51]=a[3],a}]):c.sequence([function(e){return a[1]==="50048"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsOpenUpload"),a[0]).then(function(a){return a=a,d[56]=a[0],d[57]=a[1],a})},function(a){return a=[d[56],c.i64.to_string(d[57]),void 0,void 0],d[52]=a[0],d[53]=a[1],d[54]=a[2],d[55]=a[3],a}]):c.sequence([function(e){return a[1]==="160013"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerSyncThreadCapabilities"),a[0]).then(function(a){return a=a,d[60]=a[0],d[61]=a[1],d[62]=a[2],a})},function(a){return a=[d[60],c.i64.to_string(d[61]),void 0,void 0],d[56]=a[0],d[57]=a[1],d[58]=a[2],d[59]=a[3],a}]):c.resolve((e=[a[2],a[1],void 0,void 0],d[56]=e[0],d[57]=e[1],d[58]=e[2],d[59]=e[3],e))},function(a){return a=[d[56],d[57],d[58],d[59]],d[52]=a[0],d[53]=a[1],d[54]=a[2],d[55]=a[3],a}])},function(a){return a=[d[52],d[53],d[54],d[55]],d[48]=a[0],d[49]=a[1],d[50]=a[2],d[51]=a[3],a}])},function(a){return a=[d[48],d[49],d[50],d[51]],d[44]=a[0],d[45]=a[1],d[46]=a[2],d[47]=a[3],a}])},function(a){return a=[d[44],d[45],d[46],d[47]],d[40]=a[0],d[41]=a[1],d[42]=a[2],d[43]=a[3],a}])},function(a){return a=[d[40],d[41],d[42],d[43]],d[36]=a[0],d[37]=a[1],d[38]=a[2],d[39]=a[3],a}])},function(a){return a=[d[36],d[37],d[38],d[39]],d[32]=a[0],d[33]=a[1],d[34]=a[2],d[35]=a[3],a}])},function(a){return a=[d[32],d[33],d[34],d[35]],d[28]=a[0],d[29]=a[1],d[30]=a[2],d[31]=a[3],a}])},function(a){return a=[d[28],d[29],d[30],d[31]],d[24]=a[0],d[25]=a[1],d[26]=a[2],d[27]=a[3],a}])},function(a){return a=[d[24],d[25],d[26],d[27]],d[20]=a[0],d[21]=a[1],d[22]=a[2],d[23]=a[3],a}])},function(a){return a=[d[20],d[21],d[22],d[23]],d[16]=a[0],d[17]=a[1],d[18]=a[2],d[19]=a[3],a}])},function(a){return a=[d[16],d[17],d[18],d[19]],d[12]=a[0],d[13]=a[1],d[14]=a[2],d[15]=a[3],a}])},function(a){return a=[d[12],d[13],d[14],d[15]],d[8]=a[0],d[9]=a[1],d[10]=a[2],d[11]=a[3],a}])},function(a){return a=[d[8],d[9],d[10],d[11]],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],a}])},function(e){return a[3]?c.resolve((d[1]==="60009"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","60009"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[8]=e[0],d[9]=e[1],d[10]=e[2],d[11]=e[3],e):(d[1]==="60006"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","60006"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[12]=e[0],d[13]=e[1],d[14]=e[2],d[15]=e[3],e):(d[1]==="60008"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","60008"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[16]=e[0],d[17]=e[1],d[18]=e[2],d[19]=e[3],e):(d[1]==="60011"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","60011"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[20]=e[0],d[21]=e[1],d[22]=e[2],d[23]=e[3],e):(d[1]==="765"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","765"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[24]=e[0],d[25]=e[1],d[26]=e[2],d[27]=e[3],e):(d[1]==="1006"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","1006"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[28]=e[0],d[29]=e[1],d[30]=e[2],d[31]=e[3],e):(d[1]==="160009"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","160009"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[32]=e[0],d[33]=e[1],d[34]=e[2],d[35]=e[3],e):(d[1]==="761"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","761"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[36]=e[0],d[37]=e[1],d[38]=e[2],d[39]=e[3],e):(d[1]==="632"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","632"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[40]=e[0],d[41]=e[1],d[42]=e[2],d[43]=e[3],e):(d[1]==="384"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","384"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[44]=e[0],d[45]=e[1],d[46]=e[2],d[47]=e[3],e):(d[1]==="384"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","384"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[48]=e[0],d[49]=e[1],d[50]=e[2],d[51]=e[3],e):(e=[d[0],d[1],d[2],d[3]],d[48]=e[0],d[49]=e[1],d[50]=e[2],d[51]=e[3],e),e=[d[48],d[49],d[50],d[51]],d[44]=e[0],d[45]=e[1],d[46]=e[2],d[47]=e[3],e),e=[d[44],d[45],d[46],d[47]],d[40]=e[0],d[41]=e[1],d[42]=e[2],d[43]=e[3],e),e=[d[40],d[41],d[42],d[43]],d[36]=e[0],d[37]=e[1],d[38]=e[2],d[39]=e[3],e),e=[d[36],d[37],d[38],d[39]],d[32]=e[0],d[33]=e[1],d[34]=e[2],d[35]=e[3],e),e=[d[32],d[33],d[34],d[35]],d[28]=e[0],d[29]=e[1],d[30]=e[2],d[31]=e[3],e),e=[d[28],d[29],d[30],d[31]],d[24]=e[0],d[25]=e[1],d[26]=e[2],d[27]=e[3],e),e=[d[24],d[25],d[26],d[27]],d[20]=e[0],d[21]=e[1],d[22]=e[2],d[23]=e[3],e),e=[d[20],d[21],d[22],d[23]],d[16]=e[0],d[17]=e[1],d[18]=e[2],d[19]=e[3],e),e=[d[16],d[17],d[18],d[19]],d[12]=e[0],d[13]=e[1],d[14]=e[2],d[15]=e[3],e),e=[d[12],d[13],d[14],d[15]],d[8]=e[0],d[9]=e[1],d[10]=e[2],d[11]=e[3],e),e=[d[8],d[9],d[10],d[11]],d[4]=e[0],d[5]=e[1],d[6]=e[2],d[7]=e[3],e)):c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerUnauthenticatedTask"),a[0],d[1],d[0]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],d[10]=a[2],a})},function(a){return c.i64.neq(void 0,void 0)?c.storedProcedure(b("LSForceTaskExecutionImmediately"),void 0):c.resolve()},function(a){return a=[d[8],c.i64.to_string(d[9]),void 0,d[10]],d[4]=a[0],d[5]=a[1],d[6]=a[2],d[7]=a[3],a}])},function(a){return a=[d[4],d[5],d[6],d[7]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSerializeTaskStoredProcedure",["LSSerializeTask","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.taskId;d[1]=b.taskLabel;d[2]=b.taskValue;d[3]=b.requiresAuthentication;return c("LSSerializeTask").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSBeginHandlingPendingTasksForQueue2",["I64","LSFactory","LSIntEnum","LSPendingTasksPluginType","LSSerializeTaskStoredProcedure","LSShape","LSVec","Promise","ReQL","XPlatReactCrypto","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=500,l=3e4,m="4",n="16",o=5,p=50,q=7;function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield a.lightspeed_task_context.get(b));return a==null||a.requiresAuthentication});return s.apply(this,arguments)}function t(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.pending_tasks.index("queueNameTaskId")).getKeyRange(b)));return a==null?{context:void 0,failureCount:(i||(i=d("I64"))).neg_one,httpUrlOverride:void 0,minTimeToSyncTimestampMs:i.neg_one,pluginType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").LS_BROKER),queueName:""}:a});return u.apply(this,arguments)}function v(a,b){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange(b)));return a==null?0:(i||(i=d("I64"))).to_float(a.lastSyncRequestTimestampMs)});return w.apply(this,arguments)}function x(a,b,c){b=(i||(i=d("I64"))).equal(a.failureCount,(i||(i=d("I64"))).zero)||b;if(b)return 0;b=(i||(i=d("I64"))).to_float(a.failureCount)>q?(i||(i=d("I64"))).to_float(a.failureCount)-q:(i||(i=d("I64"))).to_float(a.failureCount);a=Math.min((1<<Math.min(b-1,q))*k,l);b=c+a;return Math.max(b-Date.now(),0)}function y(){var a=Array.from(d("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(i||(i=d("I64"))).add(i.lsl_(i.of_float(a[0]),32),i.of_float(a[1]))}function z(){var a=(i||(i=d("I64"))).of_float(Date.now());return i.and_(i.or_(i.lsl_(a,22),i.and_(y(),i.castExn([0,4194303]))),i.castExn([2147483647,4294967295]))}function A(a,b){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=z(),e=(yield a.network_requests.get(b,(i||(i=d("I64"))).neg_one));e==null?yield a.network_requests.add({epochId:c,failureCount:(i||(i=d("I64"))).zero,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.of_float(Date.now()),syncDatabaseId:i.neg_one,taskQueueName:b}):yield a.network_requests.put(babelHelpers["extends"]({},e,{epochId:c,lastSyncRequestTimestampMs:(i||(i=d("I64"))).of_float(Date.now())}));return c});return B.apply(this,arguments)}function C(a,b){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange(b).filter(function(a){return a.epochId!=null})))!=null});return D.apply(this,arguments)}function E(a,b,c){var e=(i||(i=d("I64"))).to_float(a.minTimeToSyncTimestampMs),f=Date.now();e=e-f;f=e<=0;return f?x(a,b,c):e}function F(a){return a.httpUrlOverride!=null||(i||(i=d("I64"))).to_float(a.failureCount)>q}function G(a){var b=(i||(i=d("I64"))).to_float(a.pluginType)!==c("LSPendingTasksPluginType").LS_BROKER;a=a.context===n||a.context===m;return b||a}function H(a){return a.timeoutTimestampMs!=null?(i||(i=d("I64"))).to_float(a.timeoutTimestampMs)<=Date.now():!1}function I(a){return a===90..toString()||a===130..toString()||a===153..toString()}function J(a,b,c,d,e){e=e===0?void 0:e;return{failureCount:e,label:a,payload:b,queueName:c,taskId:d}}function K(a,b,c){return L.apply(this,arguments)}function L(){L=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){a=(yield c("LSSerializeTaskStoredProcedure")(c("LSFactory")(a),{requiresAuthentication:e,taskId:b.taskId,taskLabel:b.context,taskValue:b.taskValue}));e=a[0];var f=a[1];a[2];a=a[3];if(e==null){if(a!=null)return{minRetryDelayMs:a};return}return J(f,e,b.queueName,b.taskId,(i||(i=d("I64"))).to_float(b.failureCount))});return L.apply(this,arguments)}function M(a,b,c){return N.apply(this,arguments)}function N(){N=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){if(b.context==null){yield a.pending_tasks["delete"](b.taskId);return}var d=H(b);if(d){yield a.pending_tasks["delete"](b.taskId);return}return K(a,b,c)});return N.apply(this,arguments)}function O(a,b){b=b>=(c("gkx")("26373")&&a===String(207)?p:o)||I(a);return!b}function P(a,b){return Q.apply(this,arguments)}function Q(){Q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield a.pending_tasks.get(b.taskId));c!=null&&(i||(i=d("I64"))).equal(b.firstExecutedTimestampMs,(i||(i=d("I64"))).zero)&&(yield a.pending_tasks.put(babelHelpers["extends"]({},c,{firstExecutedTimestampMs:(i||(i=d("I64"))).of_float(Date.now())})))});return Q.apply(this,arguments)}function R(a,b){return S.apply(this,arguments)}function S(){S=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=[],g=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.pending_tasks.index("queueNameTaskId")).getKeyRange(e)));e=(yield t(a,e)).httpUrlOverride;var j=(yield (h||(h=b("Promise"))).all(g.map(function(b){return r(a,b.taskId)}))).some(Boolean);for(g of g){var k=g.httpUrlOverride===e,l=(yield r(a,g.taskId))===j;yield P(a,g);if(!k||!l||(i||(i=d("I64"))).to_float(g.pluginType)===c("LSPendingTasksPluginType").IGD_INSTAMADILLO&&f.length!==0)break;k=(yield M(a,g,j));if(k!=null&&k.payload!=null)f.push(k);else if((k==null?void 0:k.minRetryDelayMs)!=null){l=(yield a.pending_tasks.get(g.taskId));if(l!=null){yield a.pending_tasks.put(babelHelpers["extends"]({},l,{failureCount:(i||(i=d("I64"))).add((l=l.failureCount)!=null?l:(i||(i=d("I64"))).zero,i.one),minTimeToSyncTimestampMs:i.add(k.minRetryDelayMs,i.of_float(Date.now()))}))}}else yield a.pending_tasks["delete"](g.taskId);if(!O(g.context,f.length))break}return{epochId:void 0,tasks:f}});return S.apply(this,arguments)}function T(a,b){return U.apply(this,arguments)}function U(){U=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=G(b);if(c)return{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:void 0,queueName:b.queueName,skipRealtimeGateway:!1,workItemType:2};c=(yield R(a,b.queueName));var d=c.tasks;if(d.length===0)return{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:void 0,queueName:b.queueName,skipRealtimeGateway:!1,workItemType:4};d=(yield A(a,b.queueName));c.epochId=d;d=(yield t(a,b.queueName));return{httpUrlOverride:d.httpUrlOverride,networkPayload:c,nextSyncMs:void 0,queueName:b.queueName,skipRealtimeGateway:F(d),workItemType:1}});return U.apply(this,arguments)}function V(a,b,c){return W.apply(this,arguments)}function W(){W=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var d=(yield t(a,b)),e=(yield v(a,b));c=E(d,c,e);e=c!==0;return e?{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:c,queueName:b,skipRealtimeGateway:!1,workItemType:3}:T(a,d)});return W.apply(this,arguments)}function X(a,b,c){return Y.apply(this,arguments)}function Y(){Y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var d=!(yield C(a,b));return d?V(a,b,c):{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:void 0,queueName:b,skipRealtimeGateway:!1,workItemType:4}});return Y.apply(this,arguments)}function a(a,b){return Z.apply(this,arguments)}function Z(){Z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.ignoreSoftDelay;b=b.queueName;a=(yield X(a,b,e));e=d("LSShape").ofRecord({network_payload:d("LSShape").ofRecord({epoch_id:(b=a.networkPayload)==null?void 0:b.epochId,tasks:c("LSVec").ofArray(((b=(e=a.networkPayload)==null?void 0:e.tasks)!=null?b:[]).map(function(a){var b;return d("LSShape").ofRecord({failure_count:a.failureCount!=null?(i||(i=d("I64"))).of_float(a.failureCount):void 0,label:(b=a.label)!=null?b:void 0,payload:a.payload,queue_name:a.queueName,task_id:a.taskId})}))}),next_sync_ms:a.nextSyncMs!=null?(i||(i=d("I64"))).of_float(a.nextSyncMs):void 0,queue_name:a.queueName,skip_realtime_gateway:a.skipRealtimeGateway,work_item_type:(j||(j=d("LSIntEnum"))).ofNumber(a.workItemType)});return[e]});return Z.apply(this,arguments)}a._updateTaskIfNeeded=P;a._getHeadOfNormalQueue=t;a._lastSyncRequestTimestampForQueue=v;a._exponentialBackoffForNormalQueue=x;a._generateNewEpoch=z;a._openNewEpochForQueue=A;a._isEpochOpenForQueue=C;a._calculateDelayForNormalQueue=E;a._queueShouldSkipRealtimeGateway=F;a._normalQueueNeedsNativeHandling=G;a._taskIsTimedOut=H;a._taskShouldStopBatching=I;a._buildTaskPayloadExpressionForNormalTaskWithParameters=J;a._buildTaskPayloadExpressionForValidatedNormalTask=K;a._buildTaskPayloadExpressionForUnvalidatedNormalTask=M;a._workForNormalQueueWithoutDelay=T;a._workForNormalQueueWithClosedEpoch=V;a._buildWorkForNormalQueue=X;a._buildNetworkPayloadShapeForNormalQueue=R;a._canContinueBatchingForQueue=O;g["default"]=a}),98);
__d("MWPBeginHandlingPendingTasksForQueue",["LSBeginHandlingFireForgetTasksForQueueStoredProcedure","LSBeginHandlingPendingTasksForQueue2","LSFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var d=b.fireAndForgetTask,e=b.ignoreSoftDelay,g=b.queueName;b=(yield a.runInTransaction(function(a){return d===!0?c("LSBeginHandlingFireForgetTasksForQueueStoredProcedure")(c("LSFactory")(a),{queueName:g}):c("LSBeginHandlingPendingTasksForQueue2")(a,{ignoreSoftDelay:e,queueName:g})},"readwrite",void 0,void 0,f.id+":37"));a=b[0];return a});return h.apply(this,arguments)}g["default"]=a}),98);
__d("LSHandleTaskSendSuccessForQueue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(3).fetch([[[a[0],b.i64.cast([-1,4294967295])]]]),function(c){return c.taskQueueName===a[0]&&b.i64.eq(c.syncDatabaseId,b.i64.cast([-1,4294967295]))&&!b.i64.eq(c.epochId,void 0)}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSHandleTaskSendSuccessForQueueStoredProcedure",["LSHandleTaskSendSuccessForQueue","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.queueName;return c("LSHandleTaskSendSuccessForQueue").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWPHandleNativeTask",["FBLogger","I64","LSFactory","LSHandleTaskSendFailureForQueue2","LSHandleTaskSendSuccessForQueueStoredProcedure","LSJson","QuickPerformanceLogger","ReQL","asyncToGeneratorRuntime","executeTask.xplat","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g){var h=e.queue_name,j=(yield a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.pending_tasks.index("queueNameTaskId")).bounds({gte:d("ReQL").key(h)}))},"readonly",void 0,void 0,f.id+":38"));if(j==null){c("FBLogger")("mpf_web_foundations").mustfix("Error cannot find a pending task for queue: %s",h);throw c("unrecoverableViolation")("Error cannot find a pending task for queue","mpf_web_foundations")}e=k(j,g);if(e===null)throw c("unrecoverableViolation")("Error parsing native task payload for queue: "+h,"mpf_web_foundations");g=e.context;var l=e.name;e=e.payload;var m=c("qpl")._(164763515,"1216");try{(i||(i=c("QuickPerformanceLogger"))).markerStart(m),i.markerAnnotate(m,{string:{type:l}}),yield c("executeTask.xplat")(e,babelHelpers["extends"]({},g,{event:m}),l),yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield c("LSHandleTaskSendSuccessForQueueStoredProcedure")(c("LSFactory")(a),{queueName:h});return a.pending_tasks["delete"](j.taskId)});return function(b){return a.apply(this,arguments)}}(),"readwrite","background",void 0,f.id+":85"),i.markerEnd(m,2)}catch(b){(i||(i=c("QuickPerformanceLogger"))).markerEnd(m,3);c("FBLogger")("mpf_web_foundations").blameToPreviousFrame().catching(b).mustfix("Error handling native task for context %s.",j==null?void 0:j.context);try{yield a.runInTransaction(function(a){return c("LSHandleTaskSendFailureForQueue2")(a,h)},"readwrite",void 0,void 0,f.id+":103")}catch(a){c("FBLogger")("mpf_web_foundations").catching(a).mustfix("Error bumping failure cound for task")}}});return j.apply(this,arguments)}function k(a,b){if((a==null?void 0:a.context)==null)return null;var e=a.context,f;if(a.taskValue===""||a.taskValue==null)f=null;else try{f=d("LSJson").parse(a.taskValue)}catch(b){c("FBLogger")("mpf_web_foundations").catching(b).mustfix(" Error parsing native task payload for queue: %s, falling back to null payload",a.queueName),f=null}b={actorID:b,taskID:(h||(h=d("I64"))).to_float(a.taskId)};return{context:b,name:e,payload:f}}e={handleTask:a};g["default"]=e}),98);
__d("MWPlatformTaskUtils",["FBLogger","I64","JSScheduler","MetaConfig","Promise","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e){function f(){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield a(e)}catch(a){c("FBLogger")("messenger_web_product").catching(a).warn("Failed to calculate work for task queue %s",e.queueName)}});return g.apply(this,arguments)}if((j||(j=d("I64"))).gt(e.priority,(j||(j=d("I64"))).zero)&&c("MetaConfig")._("78")){var h=function(){f()};(i||(i=c("JSScheduler"))).scheduleLoggingPriCallback(h)}else c("promiseDone")(f())}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{yield a(b)}catch(a){c("FBLogger")("messenger_web_product").catching(a).warn("Failed to calculate work for fire forget queue %s",b.queueName)}});return m.apply(this,arguments)}function a(a,c){var e=new Set(),f=[],g=[];g.push(a.tables.pending_tasks.index("queueNameTaskId").subscribe(function(a,b){var c;if(b.operation==="delete"){e.add(a[0]);return}a=b.operation==="put"&&b.prevValue==null||b.operation==="add";c=b.operation==="put"&&(j||(j=d("I64"))).compare(b.value.failureCount,(c=(c=b.prevValue)==null?void 0:c.failureCount)!=null?c:(j||(j=d("I64"))).zero)>0;(a||c)&&e.add(b.value.queueName);(b.operation==="add"&&b.value.dataTraceId==null||b.value.dataTraceId==="")&&f.push(b.value)}));g.push(a.tables.network_requests.subscribe(function(a,b){a=a[0];if(a==="")return;b.operation==="delete"?e.add(a):b.value.epochId==null&&e.add(a)}));g.push(a.subscribeToCommit(function(){var g=Array.from(e);e.clear();f=[];g.forEach(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.pending_tasks.index("queueNameTaskId")).bounds({gte:[b]})));b!=null&&k(c,b)});return function(a){return e.apply(this,arguments)}}())}));return g}function e(a,e){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.pending_tasks))),c=new Set();for(b of b){if(c.has(b.queueName))continue;c.add(b.queueName);k(e,b)}})())}function n(a,e){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var g=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.pending_fire_and_forget_tasks)));yield (h||(h=b("Promise"))).all(g.map(function(a){return l(e,a)}));c("promiseDone")(a.runInTransaction(function(a){return(h||(h=b("Promise"))).all(g.map(function(b){return a.pending_fire_and_forget_tasks["delete"](b.taskId)}))},"readwrite","background",void 0,f.id+":196"))})())}function o(a,b){var c=!1,d=[];d.push(a.tables.pending_fire_and_forget_tasks.subscribe(function(a,b){if(b.operation==="delete")return;a=b.operation==="put"&&b.prevValue==null||b.operation==="add";a&&(c=!0)}));d.push(a.subscribeToCommit(function(){c&&n(a,b),c=!1}));return d}g.checkQueuesWhenPendingTaskTableUpdates=a;g.checkAllPendingTasksForWork=e;g.checkAllFireForgetTasksForWork=n;g.checkQueuesWhenPendingFireForgetTaskTableUpdates=o}),98);
__d("LSPlatformTaskSystemTransport",["CurrentMessengerUser","FBLogger","I64","JSResourceForInteraction","JSScheduler","LSDatabaseProviderType","LSHandleTaskSendFailureForQueue2","LSHandleTaskSendSuccessForQueue2","LSJson","LSMailboxInitialSyncCursor","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSShape","LSVec","MWPBeginHandlingPendingTasksForQueue","MWPBumpEntityKey","MWPHandleNativeTask","MWPlatformTaskUtils","Promise","ReQL","asyncToGeneratorRuntime","cr:6668","gkx","isInstamadillo","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=500,l=c("JSResourceForInteraction")("publishLSPlatformDeidentifiedPayload").__setRef("LSPlatformTaskSystemTransport"),m=new Set([632,765,60011,1006].map(function(a){return a.toString()}));a=function(){function a(a,e,f,g){var h=this;this.key="ls";this.$8=!1;this.$18=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield c("MWPBeginHandlingPendingTasksForQueue")(h.$1,{ignoreSoftDelay:b,queueName:a}));yield h.$17(d("LSShape").toRecord(b))});return function(b,c){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;this.$4=g;this.$8=d("LSDatabaseProviderType").isProviderPersisted(a);this.$5=new(c("LSPlatformRequestScheduler"))();this.$6=new(c("LSPlatformServerResponseHandler"))(f);this.$7=this.$9();this.$10()}var e=a.prototype;e.$11=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!(c("gkx")("26392")||c("isInstamadillo")())){var d=(yield this.$2.publish(b));return d}d=a.filter(function(a){return a.label!=null&&m.has(a.label)});if(d.length<a.length){d.length>0&&c("FBLogger")("maw_ohai").mustfix("Deidentifed tasks label %s sent together with normal tasks",d[0].label);a=(yield this.$2.publish(b));return a}a=d[0];d=(yield l.load());d=(yield d(babelHelpers["extends"]({},b,{taskLabel:a.label})));return d});function d(b,c){return a.apply(this,arguments)}return d}();e.$12=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield this.$1.runInTransaction(function(b){return c("LSHandleTaskSendFailureForQueue2")(b,a)},"readwrite",void 0,void 0,f.id+":147")});function d(b){return a.apply(this,arguments)}return d}();e.$13=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield this.$1.runInTransaction(function(b){return c("LSHandleTaskSendSuccessForQueue2")(b,a)},"readwrite","background",void 0,f.id+":156")});function d(b){return a.apply(this,arguments)}return d}();e.$14=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=c("LSVec").toArray(a.tasks).slice(0).map(function(a){return d("LSShape").toRecord(a)});a=a[0];if(a==null)return;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(this.$1.tables.pending_tasks).getKeyRange(a.task_id)));return a==null?void 0:a.dataTraceId});function e(b){return a.apply(this,arguments)}return e}();e.$15=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this;if(a.network_payload==null)return;var g=d("LSShape").toRecord(a.network_payload);(j||(j=c("JSScheduler"))).scheduleLoggingPriCallback(function(){return g&&(b("cr:6668")==null?void 0:b("cr:6668").recordTaskSending(g.tasks))});var k=this.$4;try{yield (i||(i=b("Promise"))).all(c("LSVec").toArray(g.tasks).map(function(a){return d("LSShape").toRecord(a)}).map(function(b){var g=c("LSPlatformRequestId").generate();return f.$11([b],{payload:d("LSJson").stringify(d("LSShape").ofRecord({label:b.label,payload:b.payload,version:k})),queueName:a.queue_name,requestId:g,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,type_:(h||(h=d("I64"))).of_int32(e)})}))}catch(a){}});function e(b,c){return a.apply(this,arguments)}return e}();e.$16=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(a.network_payload==null)return;var f=d("LSShape").toRecord(a.network_payload),g=c("LSVec").toArray(f.tasks).map(function(a){return d("LSShape").toRecord(a)}),i=(yield this.$14(f));(j||(j=c("JSScheduler"))).scheduleLoggingPriCallback(function(){return f&&(b("cr:6668")==null?void 0:b("cr:6668").recordTaskSending(f.tasks))});var k=c("LSPlatformRequestId").generate(),l;try{l=(yield this.$11(g,{payload:d("LSJson").stringify(d("LSShape").ofRecord(babelHelpers["extends"]({},f,{version_id:this.$4},i==null?{}:{data_trace_id:i}))),queueName:a.queue_name,requestId:k,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,type_:(h||(h=d("I64"))).of_int32(e)}))}catch(b){b.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout?d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_timeout"):b.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected?(d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_notconnected"),c("FBLogger")("messenger_web_product").warn("Publishing a task to the server not connected")):(d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_generic"),c("FBLogger")("messenger_web_product").warn("Error while publishing a task for request: %s, error %s",e,JSON.stringify(b))),yield this.$12(a.queue_name)}if(l!=null&&l.type==="taskresponse")try{i=l.downloadTask;var m=l.payload;k={experiments:m.ex,sp:m.sp,syncScript:m.payload,target:m.target,taskNames:g.map(function(a){return a.label}).filter(Boolean)};this.$8?yield this.$6.evalWhenReady(i,k):yield this.$3(k);yield this.$13(a.queue_name);(j||(j=c("JSScheduler"))).scheduleLoggingPriCallback(function(){return f&&(b("cr:6668")==null?void 0:b("cr:6668").recordTaskSent(f.tasks,m.payload))})}catch(b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","handle_task_failure"),c("FBLogger")("messenger_web_product").catching(b).mustfix("Encountered an error while processing a task response via realtime transport"),yield this.$12(a.queue_name)}});function e(b,c){return a.apply(this,arguments)}return e}();e.decideWhatToDoWithTask=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){a=(yield c("MWPBeginHandlingPendingTasksForQueue")(a,{fireAndForgetTask:f,ignoreSoftDelay:!1,queueName:b,transportKey:e}));c("promiseDone")(this.$17(d("LSShape").toRecord(a)))});function e(b,c,d,e){return a.apply(this,arguments)}return e}();e.$17=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this.$5,e=this.$18;function f(a,f){b.schedule(function(){c("promiseDone")(e(a,!1))},a,f!=null?(h||(h=d("I64"))).to_float(f):k)}var g=(h||(h=d("I64"))).to_int32(a.work_item_type);switch(g){case 1:yield this.$16(a,3);break;case 5:yield this.$15(a,4);break;case 3:f(a.queue_name,a.next_sync_ms);break;case 2:yield c("MWPHandleNativeTask").handleTask(this.$1,a,d("CurrentMessengerUser").getAccountID());break;case 4:break;default:c("FBLogger")("messenger_web_product").warn("Unknown Task type of %s",g)}});function e(b){return a.apply(this,arguments)}return e}();e.$9=function(){var a=this,e=this.$1;return this.$2.onReconnect(function(){c("promiseDone")(e.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).bounds({gte:d("ReQL").key("")})));yield (i||(i=b("Promise"))).all(e.map(function(b){b=b.taskQueueName;return c("LSHandleTaskSendFailureForQueue2")(a,b)}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":416")),a.$10()})};e.$10=function(){var a=this;d("MWPlatformTaskUtils").checkAllPendingTasksForWork(this.$1,function(b){b=b.queueName;return a.decideWhatToDoWithTask(a.$1,b)})};e.cleanup=function(){this.$7()};return a}();g["default"]=a}),98);
__d("MWPlatformTaskSystem",["LSPlatformRequestScheduler","MWPlatformTaskUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var e=this;this.$1=a;this.$2=b;this.$3=new(c("LSPlatformRequestScheduler"))();this.$4=d("MWPlatformTaskUtils").checkQueuesWhenPendingTaskTableUpdates(a,function(b){var c=b.queueName;b=b.transportKey;return e.$6(a,c,b,!1)});this.$5=d("MWPlatformTaskUtils").checkQueuesWhenPendingFireForgetTaskTableUpdates(a,function(b){var c=b.queueName;b=b.transportKey;return e.$6(a,c,b,!0)});this.$7()}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){yield this.$2.decideWhatToDoWithTask(a,b,c,d)});function c(b,c,d,e){return a.apply(this,arguments)}return c}();e.$7=function(){var a=this;d("MWPlatformTaskUtils").checkAllPendingTasksForWork(this.$1,function(b){b=b.queueName;return a.$6(a.$1,b)})};e.cleanup=function(){this.$4.forEach(function(a){return a()}),this.$5.forEach(function(a){return a()}),this.$2.cleanup()};return a}();g["default"]=a}),98);
__d("LSPlatformClientInit",["LSClearEpochBeforeResumeSync","LSDataTraceFlushDeferred","LSDeleteAllAndInsertConnectivityStatusStoredProcedure","LSFactory","LSIntEnum","LSInternetConnectionState","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","LSPlatformRealtimeTransport","LSPlatformSyncSystemMaybeDeferred","LSPlatformTaskSystemTransport","MWPlatformTaskSystem","MessengerLogHistory","asyncToGeneratorRuntime","cr:3411","cr:7705","emptyFunction","gkx","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MessengerLogHistory").getInstance("client_init");function j(a){var d=c("emptyFunction");b("cr:7705")!=null&&c("gkx")("23914")&&(d=b("cr:7705").listenForChangesToBackupState(a));return function(){d&&d()}}function k(a,b){var e=b==="Connected"?(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED):(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").NOT_CONNECTED);c("promiseDone")(a.runInTransaction(function(a){return c("LSDeleteAllAndInsertConnectivityStatusStoredProcedure")(c("LSFactory")(a),{internetConnectionState:e})},"readwrite",void 0,void 0,f.id+":70"))}function a(a,b,c,d,e){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h){var l;i.debug("Platform client sync starting...");(l=d("LSPlatformLsInitLog")).addPoint("onstart_callback");g();l.addPoint("onstart_callback_end");i.debug("Getting datascript evaluator...");l.addPoint("ds_eval_registration");g=(yield e.getEval());i.debug("Getting datascript evaluator success");var m;try{m=b("cr:3411")!=null?b("cr:3411").registerEval(g)()(a):g()(a)}catch(b){c("recoverableViolation")("fail to register datascriptEvaluator","ls_web_init",{error:b}),m=g()(a)}d("LSPlatformLsInitLog").addPoint("ds_eval_registration_end");i.debug("Clearing epoch before resume sync...");yield d("LSClearEpochBeforeResumeSync").call(a);i.debug("Clearing epoch before resume sync success");d("LSPlatformLsInitLog").addPoint("create_client_end");e.sendHardcodedInitSync&&(i.debug("Starting hard-coded init sync..."),yield d("LSPlatformHardcodedInitSync").sendHardcodedInitSync(e,m,a,f),i.debug("Starting hard-coded init sync success"));i.debug("Starting realtime transport");var n=d("LSPlatformRealtimeTransport").LSPlatformRealtimeTransport(e.realtimeUnderylingTransport,e.appId,f);i.debug("Starting task system");var o=new(c("MWPlatformTaskSystem"))(a,new(c("LSPlatformTaskSystemTransport"))(a,n,m,e.schemaVersion));i.debug("Starting sync system");var p=null;c("promiseDone")(c("LSPlatformSyncSystemMaybeDeferred")(),function(b){p=b(a,n,m,e.schemaVersion,f,e.executeGraphQLLightSpeedRequest)});i.debug("Starting backup state listeners");var q=j(a),r;i.debug("Watching for expired traces");c("promiseDone")(d("LSDataTraceFlushDeferred").watchForExpiredTraces(a).then(function(a){r=a}));i.debug("Subscribing to mqtt sync status change events");n.onConnectionStatusChange(function(b){k(a,b)});i.debug("Platform client sync starting sucess");return{cleanup:function(){var b;h(a);o==null?void 0:o.cleanup();(b=p)==null?void 0:b.cleanup();n.cleanup();q();r==null?void 0:r()}}});return l.apply(this,arguments)}g.init=a}),98);
__d("LSPlatformDeviceId",["ChannelClientID","FBLogger","LSCookie","MqttWebDeviceID","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){if(c("gkx")("21118"))return c("MqttWebDeviceID").clientID;else return c("ChannelClientID").getID()}b=h();function a(a){a==null&&c("FBLogger")("messenger_browser_clients").info("Missed provider type for deviceId");return a==="persisted"?d("LSCookie").get().d:h()}g.deviceId=b;g.getDeviceIdForProviderType=a}),98);
__d("LSPlatformClient",["ExecutionEnvironment","FBLogger","LSCometSSRDatabase","LSDatabaseProviderType","LSPlatformClientInit","LSPlatformDeviceId","LSPlatformLsInitLog","MAWMICSafe","Promise","asyncToGeneratorRuntime","cr:7473","emptyFunction","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("emptyFunction").thatReturns((i||(i=b("Promise"))).resolve());function k(a,e){var f,g=function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=d("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral");f=(yield d("LSPlatformClientInit").init(a,e,b,c("emptyFunction"),c("emptyFunction")))});return function(){return g.apply(this,arguments)}}();return{cleanup:function(){var a;(a=f)==null?void 0:a.cleanup()},db:a,start:g}}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(b("cr:7473")==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("LSPlatformClientWithLock is null for PDB enabled");e=(yield b("cr:7473").make(a,e));e.isTabWithoutClient()===!0&&(d("MAWMICSafe").markEvent("ls_init_end"),d("MAWMICSafe").markEvent("occamadillo_thread_mapping_end"),d("MAWMICSafe").addBoolAnnotation("LsInitSkipped",!0),d("LSPlatformLsInitLog").addPoint("no_ls_sync"),d("LSPlatformLsInitLog").endSuccess());return{cleanup:c("emptyFunction"),db:a,start:j}});return m.apply(this,arguments)}function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if((h||(h=c("ExecutionEnvironment"))).canUseDOM){var e=(yield a.getDb());d("LSPlatformLsInitLog").addPoint("create_client_start");if(d("LSDatabaseProviderType").isProviderPersisted(e)&&b("cr:7473")!==null)try{return l(e,a)}catch(a){d("LSPlatformLsInitLog").addAnnotations({string:{client_for_pdb_error:c("getErrorSafe")(a).message}});d("LSPlatformLsInitLog").fail("client_for_pdb_error");throw a}return k(e,a)}return{cleanup:c("emptyFunction"),db:c("LSCometSSRDatabase"),start:j}});return n.apply(this,arguments)}g.make=a}),98);
__d("LSPlatformClientProviderWithImmediateLoadingStrategy.react",["LSPlatformClient","LSPlatformClientProvider.react","Promise","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(){return(h||(h=b("Promise"))).resolve({make:d("LSPlatformClient").make})}function a(a){var b=a.children,d=a.errorFallback;a=a.placeholder;return j.jsx(c("LSPlatformClientProvider.react"),{errorFallback:d,loadLSPlatformClient:k,placeholder:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSDatascriptEvaluatorMaybeDeferred",["cr:6586"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:6586")}),98);
__d("LSPlatformGraphQLLightspeedRequestForIGDQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"deviceId"},{defaultValue:null,kind:"LocalArgument",name:"requestId"},{defaultValue:null,kind:"LocalArgument",name:"requestPayload"},{defaultValue:null,kind:"LocalArgument",name:"requestType"}],b=[{alias:null,args:[{kind:"Variable",name:"device_id",variableName:"deviceId"},{kind:"Variable",name:"request_id",variableName:"requestId"},{kind:"Variable",name:"request_payload",variableName:"requestPayload"},{kind:"Variable",name:"request_type",variableName:"requestType"}],concreteType:"LightspeedWebResponse",kind:"LinkedField",name:"lightspeed_web_request_for_igd",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"payload",storageKey:null},{alias:null,args:null,concreteType:"LightspeedWebRequestDependency",kind:"LinkedField",name:"dependencies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"experiments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LSPlatformGraphQLLightspeedRequestForIGDQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LSPlatformGraphQLLightspeedRequestForIGDQuery",selections:b},params:{id:"7289167067878883",metadata:{},name:"LSPlatformGraphQLLightspeedRequestForIGDQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("LSPlatformGraphQLLightspeedRequestForIGD",["CometRelay","CometRelayEnvironment","LSPlatformGraphQLLightspeedRequestForIGDQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f,g){return d("CometRelay").fetchQuery(c("CometRelayEnvironment"),h!==void 0?h:h=b("LSPlatformGraphQLLightspeedRequestForIGDQuery.graphql"),{deviceId:a,requestId:e,requestPayload:f,requestType:g}).toPromise().then(function(a){return a==null?void 0:a.lightspeed_web_request_for_igd})}g["default"]=a}),98);
__d("LSPlatformDefaultUnderlyingApi",["Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return c("emptyFunction")}function d(){return(h||(h=b("Promise"))).resolve()}e={cleanup:c("emptyFunction"),onConnectionStatusChange:a,onReconnect:a,publish:d,subscribe:a};g["default"]=e}),98);
__d("shouldStubUnderlyingTransport",["ExecutionEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return!(h||(h=c("ExecutionEnvironment"))).canUseDOM&&!(h||(h=c("ExecutionEnvironment"))).isInWorker}g["default"]=a}),98);
__d("LSPlatformMqttRealtimeTransport",["I64","LSIntEnum","LSPlatformDefaultUnderlyingApi","LSPlatformRealtimeTransport","Promise","promiseDone","shouldStubUnderlyingTransport"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){return[{payload:JSON.stringify({ls_fdid:"",ls_sv:a}),qos:1,topic:"/ls_app_settings"}]}function l(a){var e={contents:a.getConnectionState()},f={contents:function(){}},g={contents:new(j||(j=b("Promise")))(function(a,b){f.contents=a})},k={onMQTTStateChanged:function(a){a==="Connected"?f.contents():a==="Disconnected"&&e.contents==="Connected"&&(g.contents=new(j||(j=b("Promise")))(function(a,b){f.contents=a})),e.contents=a}};e.contents==="Connected"&&f.contents();a.subscribeChannelEvents(k);return[function(){a.unsubscribeChannelEvents(k)},function(e,f){return g.contents.then(function(){return new(j||(j=b("Promise")))(function(b,g){c("promiseDone")(a.publish("/ls_req",e,{listener:{onEvent:function(a){if(a==="NOT_CONNECTED")return g({RE_EXN_ID:d("LSPlatformRealtimeTransport").NotConnected})}},qos:(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(4))?0:1,skipBuffer:!1}),function(){return b()},function(a){if(a.message==="Publish Timed Out")return g({RE_EXN_ID:d("LSPlatformRealtimeTransport").Timeout});else return g(a)})})})}]}var m={contents:void 0};function a(a,b,d){if(c("shouldStubUnderlyingTransport")())return c("LSPlatformDefaultUnderlyingApi");var e=d.getInstance(b),f={getPublishMessages:function(){return k(a)}};e.registerExtraConnectPayloadProvider(f);var g={onMQTTStateChanged:function(a){var b=m.contents;if(b!=null)return b(a)}};e.subscribeChannelEvents(g);var h=e.subscribe("/ls_foreground_state",function(){});b=l(e);var i=b[0];b=b[1];return{cleanup:function(){e.unregisterExtraConnectPayloadProvider(f),d.shutdownAndClear(),e.unsubscribeChannelEvents(g),h(),i()},onConnectionStatusChange:function(a){m.contents=a;return function(){m.contents=void 0}},onReconnect:function(a){var b={contents:e.getConnectionState()},c={contents:b.contents==="Connected"},d={onMQTTStateChanged:function(d){d==="Connected"&&(c.contents&&b.contents!=="Connected"&&a(),c.contents=!0),b.contents=d}};e.subscribeChannelEvents(d);return function(){e.unsubscribeChannelEvents(d)}},publish:b,subscribe:function(a){return e.subscribe("/ls_resp",function(b){return a(b)})}}}g["default"]=a}),98);
__d("LSVersion",[],(function(a,b,c,d,e,f){e.exports="7557889380965612"}),null);
__d("getMWLSRegion",["MessengerWebRegion"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("MessengerWebRegion").regionNullable;return a==null?"":a}g["default"]=a}),98);
__d("LSPlatformInstagramConfig",["CurrentUser","IGDOverLSMqttChannel","LSDatabaseSingleton","LSDatascriptEvaluatorMaybeDeferred","LSPlatformGraphQLLightspeedRequestForIGD","LSPlatformMessengerSyncParams","LSPlatformMqttRealtimeTransport","LSSuspense","LSVersion","getMWLSRegion"],(function(a,b,c,d,e,f,g){"use strict";var h,i;f=c("CurrentUser").getAppID();var j=c("getMWLSRegion")();f=f==null?"1217981644879628":f;function a(){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton}function b(a,b){return c("LSPlatformMqttRealtimeTransport")(c("LSVersion"),b,{getInstance:d("IGDOverLSMqttChannel").getInstance,shutdownAndClear:d("IGDOverLSMqttChannel").shutdownAndClear})}function e(){return c("LSDatascriptEvaluatorMaybeDeferred")()}f={appId:f,executeGraphQLLightSpeedRequest:c("LSPlatformGraphQLLightspeedRequestForIGD"),getDb:a,getEval:e,platformName:"Instagram",realtimeUnderylingTransport:b,region:j,schemaVersion:c("LSVersion"),sendHardcodedInitSync:!0,syncParams:c("LSPlatformMessengerSyncParams")};a=(h||(h=c("LSSuspense"))).makeWithValue(f);g.configEagerlyLoaded=a}),98);
__d("IGDPageSetup.react",["CometErrorBoundary.react","CometPlaceholder.react","CurrentUser","I64","IGDRouteProvider.react","LSPlatformClientProviderWithDeferredLoadingStrategy.react","LSPlatformClientProviderWithImmediateLoadingStrategy.react","LSPlatformConfigContext","LSPlatformInstagramConfig","MWLSThreadDisplayContext","MWPActor.react","cr:497","cr:7347","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.Fragment,l=e.c,m=(f=b("cr:497"))!=null?f:b("cr:7347"),n=c("deferredLoadComponent")(c("requireDeferred")("IGDInboxErrorState.react").__setRef("IGDPageSetup.react")),o=function(a){return a?void 0:function(a){return j.jsx(n,{error:a})}},p=(i||(i=d("I64"))).of_string(c("CurrentUser").getEIMU());function a(a){var b=l(14),e=a.children,f=a.disableRouteProvider,g=a.placeholder;a=a.shouldUseDeferredLoadingStrategy;f=f===void 0?!1:f;g=g===void 0?null:g;a=a===void 0?!1:a;var h=a?c("LSPlatformClientProviderWithDeferredLoadingStrategy.react"):c("LSPlatformClientProviderWithImmediateLoadingStrategy.react");f=f?k:d("IGDRouteProvider.react").IGDRouteProvider;var i;b[0]!==a?(i=o(a),b[0]=a,b[1]=i):i=b[1];b[2]!==e?(a=m==null?e:j.jsx(m,{children:e}),b[2]=e,b[3]=a):a=b[3];b[4]!==a?(e=j.jsx(d("MWLSThreadDisplayContext").MWLSThreadDisplayContextProvider,{value:"Inbox",children:a}),b[4]=a,b[5]=e):e=b[5];b[6]!==f||b[7]!==e?(a=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("MWPActor.react").MWPActorProvider,{actorId:p,children:j.jsx(f,{children:e})})}),b[6]=f,b[7]=e,b[8]=a):a=b[8];b[9]!==h||b[10]!==i||b[11]!==g||b[12]!==a?(f=j.jsx(c("CometErrorBoundary.react"),{fallback:void 0,children:j.jsx(d("LSPlatformConfigContext").LSPlatformConfigProvider,{config:d("LSPlatformInstagramConfig").configEagerlyLoaded,children:j.jsx(h,{errorFallback:i,placeholder:g,children:a})})}),b[9]=h,b[10]=i,b[11]=g,b[12]=a,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("LSBeginHandlingSyncForSyncGroup",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=void 0:(d=a.item,c[9]=new b.Map(),c[9].set("group_id",d.groupId),c[9].set("current_cursor",d.currentCursor),c[9].set("sync_status",d.syncStatus),c[9].set("sync_params",d.syncParams),c[9].set("send_sync_params",d.sendSyncParams),c[9].set("min_time_to_sync_timestamp_ms",d.minTimeToSyncTimestampMs),c[9].set("can_ignore_timestamp",d.canIgnoreTimestamp),c[9].set("sync_channel",d.syncChannel),c[9].set("last_sync_request_timestamp_ms",d.lastSyncRequestTimestampMs),c[0]=c[9])})},function(d){return c[0]?c[2]=!1:c[2]=!0,c[2]?b.resolve((d=[a[0],void 0,b.i64.cast([0,4]),void 0,!1],c[3]=d[0],c[4]=d[1],c[5]=d[2],c[6]=d[3],c[7]=d[4],d)):b.sequence([function(a){return c[9]=c[0].get("group_id"),c[0],b.filter(b.db.table(3).fetch(),function(a){return b.i64.neq(a.epochId,void 0)&&b.i64.eq(a.syncDatabaseId,c[9])}).next().then(function(a,b){b=a.done;a=a.value;return b?c[10]=!1:(a.item,c[10]=!0)})},function(d){return c[10]?b.resolve((c[17]=c[0].get("group_id"),c[0],d=[c[17],void 0,b.i64.cast([0,4]),void 0,!1],c[12]=d[0],c[13]=d[1],c[14]=d[2],c[15]=d[3],c[16]=d[4],d)):b.sequence([function(d){return c[17]=b.i64.of_float(Date.now()),c[18]=c[0].get("min_time_to_sync_timestamp_ms"),c[0],c[19]=c[0].get("last_sync_request_timestamp_ms"),c[0],c[20]=c[0].get("can_ignore_timestamp"),c[0],c[20]&&a[1]||b.i64.ge(c[17],c[18])?b.sequence([function(d){return a[1]?b.resolve(c[28]=b.i64.cast([0,0])):b.sequence([function(a){return c[29]=c[0].get("group_id"),c[0],b.db.table(3).fetch([[["",c[29]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[30]=b.i64.cast([0,0]):(d=a.item,c[30]=d.failureCount)})},function(a){return c[32]=b.i64.mul(b.i64.sub(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.lt(b.i64.cast([0,15]),c[30])?b.i64.cast([0,15]):c[30])),b.i64.cast([0,1])),b.i64.cast([0,500])),c[33]=b.i64.sub(b.i64.add(c[19]==null?b.i64.cast([0,0]):c[19],b.i64.lt(c[32],b.i64.cast([0,3e4]))?c[32]:b.i64.cast([0,3e4])),c[17]),c[28]=b.i64.gt(c[33],b.i64.cast([0,0]))?c[33]:b.i64.cast([0,0])}])},function(a){return c[21]=c[28]}]):b.resolve(c[21]=b.i64.sub(c[18],c[17]))},function(a){return c[22]=c[0].get("group_id"),c[0],b.i64.gt(c[21],b.i64.cast([0,0]))?b.sequence([function(a){return c[28]=b.i64.of_float(Date.now()),b.forEach(b.filter(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastDelayedRequestTimestampMs:c[28]})})},function(a){return a=[c[22],c[21],b.i64.cast([0,3]),void 0,!1],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4],a}]):b.sequence([function(a){return c[28]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[c[22]]]]),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[28]})})},function(a){return c[29]=b.i64.of_float(Date.now()),b.forEach(b.filter(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[29]})})},function(a){return c[30]=c[0].get("group_id"),c[0],c[31]=b.i64.of_float(Date.now()),c[32]=b.i64.random(),c[45]=b.i64.and_(b.i64.or_(b.i64.lsl_(c[31],b.i64.to_int32(b.i64.cast([0,22]))),b.i64.and_(c[32],b.i64.cast([0,4194303]))),b.i64.cast([2147483647,4294967295])),b.db.table(3).fetch([[["",c[30]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?b.db.table(3).add({syncDatabaseId:c[30],taskQueueName:"",failureCount:b.i64.cast([0,0]),lastSentTimestampMs:b.i64.cast([0,0]),lastSyncRequestTimestampMs:b.i64.cast([0,0]),epochId:c[45]}):(a.item,b.forEach(b.db.table(3).fetch([[["",c[30]]]]),function(a){var b=a.update;a.item;return b({epochId:c[45]})}))})},function(a){return c[34]=c[0].get("group_id"),c[0],b.db.table(3).fetch([[["",c[34]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[35]=b.i64.cast([0,0]):(d=a.item,c[35]=d.failureCount)})},function(a){return c[37]=c[0].get("send_sync_params"),c[0],c[38]=c[0].get("sync_params"),c[0],c[39]=c[0].get("current_cursor"),c[0],c[40]=new b.Map(),c[40].set("database",c[34]),c[40].set("version",b.i64.cast([-1,4294967295])),c[40].set("epoch_id",c[45]),c[40].set("last_applied_cursor",c[39]),c[40].set("sync_params",c[37]?c[38]:void 0),c[40].set("failure_count",b.i64.gt(c[35],b.i64.cast([0,0]))?c[35]:void 0),c[41]=c[0].get("current_cursor"),c[0],void 0===c[41]?c[42]=b.i64.cast([0,1]):c[42]=b.i64.cast([0,2]),c[43]=new b.Map(),c[43].set("type",c[42]),c[43].set("request_payload",c[40]),c[44]=c[0].get("sync_channel"),c[0],a=[c[30],void 0,b.i64.cast([0,1]),c[43],b.i64.eq(c[44],b.i64.cast([0,2]))],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4],a}])},function(a){return a=[c[23],c[24],c[25],c[26],c[27]],c[12]=a[0],c[13]=a[1],c[14]=a[2],c[15]=a[3],c[16]=a[4],a}])},function(a){return a=[c[12],c[13],c[14],c[15],c[16]],c[3]=a[0],c[4]=a[1],c[5]=a[2],c[6]=a[3],c[7]=a[4],a}])},function(a){return c[8]=new b.Map(),c[8].set("sync_group_id",c[3]),c[8].set("next_sync_ms",c[4]),c[8].set("work_item_type",c[5]),c[8].set("network_payload",c[6]),c[8].set("skip_realtime_gateway",c[7]),d[0]=c[8]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSBeginHandlingSync",["LSBeginHandlingSyncForSyncGroup"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.createArray(),c.forEach(c.db.table(1).fetch(),function(e){var f=e.item;return c.sequence([function(e){return c.storedProcedure(b("LSBeginHandlingSyncForSyncGroup"),f.groupId,a[0]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[2]=(d[0].push(d[1]),d[0])}])})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSBeginHandlingSyncForSyncGroupStoredProcedure",["LSBeginHandlingSyncForSyncGroup","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.syncGroupId;d[1]=b.ignoreSoftDelay;return c("LSBeginHandlingSyncForSyncGroup").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSBeginHandlingSyncStoredProcedure",["LSBeginHandlingSync","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.ignoreSoftDelay;return c("LSBeginHandlingSync").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSJSONOp",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({BLOCK:1,LOAD:2,STORE:3,STORE_ARRAY:4,CALL_STORED_PROCEDURE:5,CALL_NATIVE_TYPE_OPERATION:6,CALL_NATIVE_OPERATION:7,LIST:8,UNDEFINED:9,INFINITY:10,NAN:11,RETURN:12,BOOL_TO_STR:13,BLOBS_TO_STRING:14,BLOBS_OF_STRING:15,TO_BLOB:16,I64_OF_FLOAT:17,I64_TO_FLOAT:18,I64_FROM_STRING:19,I64_TO_STRING:20,READ_GK:21,READ_QE:22,IF:23,OR:24,AND:25,NOT:26,IS_NULL:27,ENFORCE_NOT_NULL:28,GENERIC_EQUAL:29,I64_EQUAL:30,BLOB_EQUAL:31,GENERIC_NOT_EQUAL:32,I64_NOT_EQUAL:33,BLOB_NOT_EQUAL:34,GENERIC_GREATER_THAN:35,I64_GREATER_THAN:36,BLOB_GREATER_THAN:37,GENERIC_GREATER_THAN_OR_EQUAL:38,I64_GREATER_THAN_OR_EQUAL:39,BLOB_GREATER_THAN_OR_EQUAL:40,GENERIC_LESS_THAN:41,I64_LESS_THAN:42,BLOB_LESS_THAN:43,GENERIC_LESS_THAN_OR_EQUAL:44,I64_LESS_THAN_OR_EQUAL:45,BLOB_LESS_THAN_OR_EQUAL:46,THROW:47,LOG_CONSOLE:48,LOGGER_LOG:49,NATIVE_OP_ARRAY_CREATE:50,NATIVE_OP_ARRAY_APPEND:51,NATIVE_OP_ARRAY_GET_SIZE:52,NATIVE_OP_MAP_CREATE:53,NATIVE_OP_MAP_GET:54,NATIVE_OP_MAP_SET:55,NATIVE_OP_MAP_KEYS:56,NATIVE_OP_MAP_DELETE:57,NATIVE_OP_MAP_HAS:58,NATIVE_OP_STR_JOIN:59,NATIVE_OP_CURRENT_TIME:60,NATIVE_OP_JSON_STRINGIFY:61,NATIVE_OP_RNG_NUM:62,NATIVE_OP_LOCALIZATION_SUPPORTED:63,NATIVE_OP_LOCALIZATION_SUPPORTED_V2:64,NATIVE_OP_RESOLVE_LOCALIZED:65,NATIVE_OP_RESOLVE_LOCALIZED_V2:66,ADD:68,I64_ADD:69,I64_CAST:70,READ_JUSTKNOB:71,READ_IGGK:72,GET_RUN_MODE:73,STR_TRIM:74,STR_REPLACE:75,JOIN:76,STR_LIKE:77,LENGTH:78,IN:79,IN_VEC:80,SUB:81,MUL:82,DIV:83,MOD:84,I64_SUB:85,I64_MUL:86,I64_DIV:87,I64_MOD:88,I64_IN:89,I64_IN_VEC:90,BITWISE_LEFT_SHIFT:91,BITWISE_RIGHT_SHIFT:92,ARITHMETIC_RIGHT_SHIFT:93,BITWISE_AND:94,BITWISE_OR:95,BITWISE_XOR:96,TERNARY:97,XOR:98,NULLISH_COALESE:99,READ_COLUMN:100,READ_COLUMN_REF:101,READ_GROUP_COUNT:102,COMMENT:103,IMPORT:104,LOOP:105,QUERY_COMPARISON_EQUAL:106,QUERY_COMPARISON_NOT_EQUAL:107,QUERY_COMPARISON_GREATER_THAN:108,QUERY_COMPARISON_GREATER_THAN_OR_EQUAL:109,QUERY_COMPARISON_LESS_THAN:110,QUERY_COMPARISON_LESS_THAN_OR_EQUAL:111,QUERY_MERGE_CONSTRAINTS:112,QUERY_FETCH_ROWS:113,QUERY_FILTER_ROWS:114,QUERY_SORT_ROWS_BY:115,QUERY_DELETE_ROWS:116,QUERY_SLICE_ROWS:117,QUERY_COUNT_ROWS:118,QUERY_PEEK_NEXT_ROW_ID:119,QUERY_UPDATE_ROWS:120,QUERY_INSERT_ROWS:121,QUERY_PUT_ROWS:122,QUERY_FOREACH_ROW:123,QUERY_SELECT_MATCH_ROW:124,QUERY_CURSOR_SLICE:125,QUERY_GROUP_BY:126,SUB_STRING:127});c=a;f["default"]=c}),66);
__d("LSSelectOrder",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["ASC","DESC"]);c=a;f["default"]=c}),66);
__d("LSDatascriptJSONEval",["FBLogger","LS","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(a,b,d){if((h||(h=c("isPromise")))(a))return a.then(b,d);try{return b(a)}catch(a){if(d)return d(a);else throw a}}a=function(){function a(a,b,d,e){var f=this;e===void 0&&(e=[]);this.$4={};this.$5=[];this.$6=null;this.$7=function(a){return k(f.$8(a),function(a){return a},function(b){c("FBLogger")("messenger_web_product").catching(b).mustfix("Error evaluating step op: %s",Array.isArray(a)?a[0]:"<primitive value>");throw b})};this.$1=b;this.$2=a;this.$3=d;for(b=0;b<e.length;b++)this.$4[b]=e[b]}var d=a.prototype;d.eval=function(){return this.$2==null?this.$1.resolve([]):this.$1.resolve(this.$7(this.$2.step))};d.$8=function(a){var d=this;if(!Array.isArray(a))return a;var e=a[0];a=a.slice(1);var f=a;switch(e){case 8:return f.map(this.$7);case 2:return this.$4[f[0]];case 3:return k(this.$7(f[1]),function(a){return d.$4[f[0]]=a});case 4:return k(this.$7(f[2]),function(a){var b=f[0],c=f[1];for(var e=0;e<c;e++,b++)d.$4[b]=a[e];return a});case 12:a=f[0];e=f[1];var g=[];for(a=a;a<e;a++)g[a]=this.$4[a];return g;case 1:var h;a=function(a){h=k(h,function(){return d.$7(f[a])})};for(e=0;e<f.length;e++)a(e);return h;case 5:return(g=this.$1).storedProcedure.apply(g,f.map(this.$7));case 6:return(e=this.$1).nativeTypeOperation.apply(e,f.map(this.$7));case 7:return(a=this.$1).nativeOperation.apply(a,f.map(this.$7));case 9:return;case 10:return Infinity;case 11:return NaN;case 13:return this.$7(f[0])?"1":"0";case 14:return this.$1.blobs.to_string(this.$7(f[0]));case 15:return this.$1.blobs.of_string(this.$7(f[0]));case 16:return this.$1.blob(this.$7(f[0]));case 17:return this.$1.i64.of_float(this.$7(f[0]));case 18:g=this.$7(f[0]);return g!=null?this.$1.i64.to_float(g):void 0;case 19:return this.$1.i64.from_string(this.$7(f[0]));case 70:return this.$1.i64.cast(this.$7(f[0]));case 20:return this.$1.i64.to_string(this.$7(f[0]));case 21:return(e=this.$3)==null?void 0:(a=e.gk)==null?void 0:a[f[0]];case 22:var l;g=f[0];e=f[1];a=f[2];var m=f[3];l=(l=this.$3)==null?void 0:(l=l.qe)==null?void 0:(l=l[g])==null?void 0:(g=l[e])==null?void 0:g[a];if(l==null)return l;switch(m){case"BOOL":case"STR":return l;case"I64":if(typeof l!=="object")throw c("FBLogger")("messenger_web_product").mustfixThrow("Cannot convert value to string");return this.$1.i64.from_string(l.toString())}return;case 23:if(this.$7(f[0]))return this.$7(f[1]);else if(f[2]!=null)return this.$7(f[2]);return;case 24:return this.$7(f[0])||this.$7(f[1]);case 25:return this.$7(f[0])&&this.$7(f[1]);case 26:return!this.$7(f[0]);case 27:return this.$7(f[0])==null;case 28:return this.$1.notnull(this.$7(f[0]));case 29:return this.$7(f[0])===this.$7(f[1]);case 30:return this.$1.i64.eq(this.$7(f[0]),this.$7(f[1]));case 31:return this.$1.blobs.eq(this.$7(f[0]),this.$7(f[1]));case 32:return this.$7(f[0])!==this.$7(f[1]);case 33:return this.$1.i64.neq(this.$7(f[0]),this.$7(f[1]));case 34:return this.$1.blobs.neq(this.$7(f[0]),this.$7(f[1]));case 35:return this.$7(f[0])>this.$7(f[1]);case 36:return this.$1.i64.gt(this.$7(f[0]),this.$7(f[1]));case 37:return this.$1.blobs.gt(this.$7(f[0]),this.$7(f[1]));case 38:return this.$7(f[0])>=this.$7(f[1]);case 39:return this.$1.i64.ge(this.$7(f[0]),this.$7(f[1]));case 40:return this.$1.blobs.ge(this.$7(f[0]),this.$7(f[1]));case 41:return this.$7(f[0])<this.$7(f[1]);case 42:return this.$1.i64.lt(this.$7(f[0]),this.$7(f[1]));case 43:return this.$1.blobs.lt(this.$7(f[0]),this.$7(f[1]));case 44:return this.$7(f[0])<=this.$7(f[1]);case 45:return this.$1.i64.le(this.$7(f[0]),this.$7(f[1]));case 46:return this.$1.blobs.le(this.$7(f[0]),this.$7(f[1]));case 47:return this.$1["throw"](f[0]);case 48:return this.$1.print(this.$7(f[0]));case 49:e=this.$7(f[0]);g=f[1];a=this.$1.logger(e);switch(g){case"mustfix":return a.mustfix(e);case"info":return a.info(e);case"warn":return a.warn(e);case"debug":return a.debug(e);default:throw c("FBLogger")("messenger_web_product").mustfixThrow("Invalid logger level %s",g)}case 50:return f.length===0?this.$1.createArray():(m=this.$1).createArrayWithElements.apply(m,this.$7(f[0]));case 51:l=this.$7(f[0]);l.push(this.$7(f[1]));return l;case 52:return this.$1.i64.of_int32(this.$7(f[0]).length);case 53:return new this.$1.Map();case 54:return this.$7(f[0]).get(this.$7(f[1]));case 55:return this.$7(f[0]).set(this.$7(f[1]),this.$7(f[2]));case 56:return this.$7(f[0]).keys();case 57:return this.$7(f[0])["delete"](this.$7(f[1]));case 58:return this.$7(f[0]).has(this.$7(f[1]));case 59:return this.$7(f[0]).join(this.$7(f[1])||"");case 60:return this.$1.i64.of_float(Date.now());case 61:return this.$1.toJSON(this.$7(f[0]));case 62:return this.$1.i64.random();case 63:case 64:return!0;case 65:return this.$1.localizeAsync(this.$7(f[0]),this.$7(f[1]));case 66:return this.$1.localizeV2Async(this.$7(f[0]),this.$7(f[1]));case 68:return this.$7(f[0])+this.$7(f[1]);case 69:return this.$1.i64.add(this.$7(f[0]),this.$7(f[1]));case 71:return(a=this.$3)==null?void 0:(e=a.justknob)==null?void 0:e[f[0]];case 72:return(g=this.$3)==null?void 0:(m=g.iggk)==null?void 0:m[f[0]];case 100:return this.$5[f[0]][f[1]];case 101:if(this.$6==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("Attempting to read column ref when none exist!");return this.$6[f[0]];case 102:return this.$5[this.$7(f[0])].group_count;case 73:return this.$1.rm;case 74:return this.$7(f[0]).trim();case 75:return this.$7(f[0]).split(this.$7(f[1])).join(this.$7(f[2]));case 76:return f.map(this.$7).join("");case 77:return this.$1.like(this.$7(f[0]),this.$7(f[1]));case 78:return[0,this.$7(f[0]).length];case 79:l=f.map(this.$7);a=l[0];e=l.slice(1);return e.includes(a);case 80:return this.$7(f[1]).includes(this.$7(f[0]));case 81:return this.$7(f[0])-this.$7(f[1]);case 82:return this.$7(f[0])*this.$7(f[1]);case 83:return this.$7(f[0])/this.$7(f[1]);case 84:return this.$7(f[0])%this.$7(f[1]);case 91:return this.$1.i64.lsl_(this.$7(f[0]),this.$1.i64.to_int32(this.$7(f[1])));case 92:return this.$1.i64.lsr_(this.$7(f[0]),this.$1.i64.to_int32(this.$7(f[1])));case 93:return this.$1.i64.asr_(this.$7(f[0]),this.$1.i64.to_int32(this.$7(f[1])));case 94:return this.$1.i64.and_(this.$7(f[0]),this.$7(f[1]));case 95:return this.$1.i64.or_(this.$7(f[0]),this.$7(f[1]));case 96:return this.$1.i64.xor(this.$7(f[0]),this.$7(f[1]));case 85:return this.$1.i64.sub(this.$7(f[0]),this.$7(f[1]));case 86:return this.$1.i64.mul(this.$7(f[0]),this.$7(f[1]));case 87:return this.$1.i64.div(this.$7(f[0]),this.$7(f[1]));case 88:return this.$1.i64.mod_(this.$7(f[0]),this.$7(f[1]));case 89:g=f.map(this.$7);var n=g[0];m=g.slice(1);return m.some(function(a){return d.$1.i64.eq(n,a)});case 90:var o=this.$7(f[0]);return this.$7(f[1]).some(function(a){return d.$1.i64.eq(o,a)});case 97:return this.$7(f[0])?this.$7(f[1]):this.$7(f[2]);case 98:l=this.$7(f[0]);e=this.$7(f[1]);return(l||e)&&!(l&&e);case 99:return(a=this.$7(f[0]))!=null?a:this.$7(f[1]);case 103:return;case 104:return b.call(null,f[0]);case 105:g=function(){var b=d.$7(f[0]),e=f[1],g=c("LS").n,a,h=function(b){a=k(a,function(){d.$4[e]=b;return d.$7(f[2])})};for(var l=g(j());d.$1.i64.lt(l,b);l=d.$1.i64.add(l,g(i())))h(l);return{v:a}}();if(typeof g==="object")return g.v;case 106:return this.$7(f[0]);case 107:throw c("FBLogger")("messenger_web_product").mustfixThrow("not equal query comparison operator not supported");case 108:return{gt:this.$7(f[0])};case 109:return{gte:this.$7(f[0])};case 110:return{lt:this.$7(f[0])};case 111:return{lte:this.$7(f[0])};case 112:return f.length===1?this.$7(f[0]):(m=this.$1).merge.apply(m,f.map(this.$7));case 113:l=f[0];e=f[1];a=f.slice(2);g=a.map(this.$7);switch(e){case"ASC":return(m=this.$1.db.table(l)).fetch.apply(m,g);case"DESC":return(a=this.$1.db.table(l)).fetchDesc.apply(a,g)}return;case 114:return this.$1.filter(this.$7(f[0]),function(a){d.$6=a;a=d.$7(f[1]);d.$6=null;return a});case 115:return(e=this.$1).sortBy.apply(e,f.map(this.$7));case 116:return this.$1.forEach(this.$7(f[0]),function(a){return a["delete"]()});case 117:return this.$1.islc(this.$7(f[0]),0,this.$7(f[1]));case 118:return this.$1.count(this.$7(f[0]));case 119:return this.$1.db.table(f[0]).peekNextAutoIncrementId();case 120:return this.$1.forEach(this.$7(f[0]),function(a){var b=a.item;a=a.update;var c={};d.$6=b;for(b=1;b<f.length;b+=2)c[f[b]]=d.$7(f[b+1]);d.$6=null;return a(c)});case 121:m=f[0];l={};for(a=1;a<f.length;a+=2)l[f[a]]=this.$7(f[a+1]);return this.$1.db.table(m).add(l);case 122:g=f[0];e={};for(a=1;a<f.length;a+=2)e[f[a]]=this.$7(f[a+1]);return this.$1.db.table(g).put(e);case 123:return this.$1.forEach(this.$7(f[0]),function(a){a=a.item;d.$5[f[1]]=a;return d.$7(f[2])});case 124:return this.$7(f[0]).next().then(function(a){var b=a.done;a=a.value;if(b)return d.$7(f[3]);else{b=f[1];if(b!=null){d.$5[b]=a.item;return d.$7(f[2])}}return 0});case 125:return this.$7(f[0]).slice(0,this.$7(f[1]));case 126:return this.$1.groupBy(this.$7(f[0]),f[1]).forEach(function(a){d.$5[f[2]]=a;return d.$7(f[3])});case 127:return this.$7(f[0]).substr(this.$1.i64.to_int32(this.$7(f[1])),this.$1.i64.to_int32(this.$7(f[2])))}};return a}();g["default"]=a}),98);
__d("TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE",["Env","TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";var h;d={createScript:function(a){for(var b=arguments.length,d=new Array(b>1?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];d.forEach(function(a){if(typeof window!=="undefined"&&typeof window.trustedTypes!=="undefined"&&!window.trustedTypes.isScript(a))throw c("err")("Trusted Function requires TrustedScripts args only.")});var f=d.slice(0,-1).join(","),g=d.pop().toString();return"(function anonymous(\n     "+f+"\n     ) {\n     "+g+"\n     })"}};var i=c("TrustedTypes").createPolicy("unsafe-function-do-not-use",d);function b(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];if(c("TrustedTypes").isSupportedNatively()&&(h||(h=c("Env"))).useTrustedTypes){var f=i.createScript.apply(i,[""].concat(d));return a.eval(f)}else return babelHelpers.construct(Function,d)}g.TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE=i;g.createTrustedFunction=b}),98);
__d("LSDatascriptEvaluator",["FBLogger","LSDatascriptJSONEval","LSFactory","MWPBumpEntityKey","TrustedTypesNoOpPolicy_DO_NOT_USE","TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var e=function(b){return function(c,d){var e;return a==null?void 0:(e=a.qe)==null?void 0:(e=e[c])==null?void 0:(c=e[b])==null?void 0:c[d]}},f=new Proxy({getBool:e("fb"),getNumber:e("fb"),getString:e("fb")},{get:function(a,b){return b in a?a[b]:{getBool:e(b),getNumber:e(b),getString:e(b)}}}),g=function(b){var c;return a==null?void 0:(c=a.gk)==null?void 0:c[b]};g.ig=function(b){var c;return a==null?void 0:(c=a.iggk)==null?void 0:c[b]};var h={getBool:function(b){var c;return a==null?void 0:(c=a.justknob)==null?void 0:c[b]}};return function(a){var e;e=d("TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE").createTrustedFunction((e=c("TrustedTypesNoOpPolicy_DO_NOT_USE")).createScript("gkx"),e.createScript("qex"),e.createScript("justknobx"),e.createScript("return "+b));return e(g,f,h)(c("LSFactory")(a,{dynamic:!0}))}}function i(a,b){var d=JSON.parse(b),e=(b=a)!=null?b:{gk:{},iggk:{},justknob:{},qe:{}};return function(a){return new(c("LSDatascriptJSONEval"))(d,c("LSFactory")(a,{dynamic:!0}),e).eval()}}function j(a,b,d){if(d==null){c("FBLogger")("lightspeed","null_target").mustfix("Received <null> target field for sync script!");return h(a,b)}switch(d){case 3:return i(a,b);case 2:return h(a,b);case 1:throw c("FBLogger")("messenger_web_product","invalid_sync_script_target").mustfixThrow("Received a sync script with LSProgramTarget of DASM, this should never happen!")}}function a(a){return function(b){if(b==null)throw c("FBLogger")("messenger_comet").mustfixThrow("Error creating eval function, db is undefined. This is likely a currying error in the definition for LSDatascriptEvaluator");return function(e){var g=e.experiments,h=e.priority,i=e.syncScript,k=e.target;e=e.taskNames;g=g!=null?JSON.parse(g):null;try{var l=j(g,i,k);return b.runInTransaction(function(b){a&&a();return l(b)},"readwrite",h,{taskNames:e,type:"sync_script"},f.id+":194")}catch(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform","eval_datascript_failure");c("FBLogger")("messenger_web_product").catching(a).mustfix("Error executing sync script");throw a}}}}a.__debugModuleName="LSDatascriptEvaluator";g.default=a}),98);
__d("LSDatascriptEvaluatorDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSDatascriptEvaluator").__setRef("LSDatascriptEvaluatorDeferred");function a(){return h.load()}g["default"]=a}),98);
__d("LSDatascriptEvaluatorEager",["LSDatascriptEvaluator","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=b("Promise"))).resolve(c("LSDatascriptEvaluator"))}g["default"]=a}),98);
__d("LSPlatformLogTooManyPendingTasksForS337085.react",["FBLogger","MWPBumpEntityKey","ReQL","clearTimeout","gkx","justknobx","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useRef,l=c("justknobx")._("1134"),m=c("justknobx")._("1135"),n=c("gkx")("24156");function a(){var a=(h||(h=c("useReStore")))(),b=k(null),e=k(!1);j(function(){var f=a.tables.pending_tasks.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.pending_tasks).take(l)),function(a){var f=a.length;if(f===l){if(b.current!=null)return;b.current=c("setTimeout")(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","tasks_table_above_threshold"),e.current=!0,n&&c("FBLogger")("lsplatform_tasks","tasks_table_above_threshold").warn("pending tasks table is above threshold. It has %s tasks after %s ms",f,m)},m)}else c("clearTimeout")(b.current),e.current&&n&&c("FBLogger")("lsplatform_tasks","tasks_table_cleared").warn("pending tasks table is now cleared"),e.current=!1})});return function(){f()}},[a]);return null}g["default"]=a}),98);
__d("LSPlatformSyncSystem",["FBLogger","I64","LSBeginHandlingSyncForSyncGroupStoredProcedure","LSBeginHandlingSyncStoredProcedure","LSDatabaseProviderType","LSFactory","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSPlatformGraphQLTransport","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSShape","LSVec","MWPBumpEntityKey","MessengerLogHistory","Promise","ReQL","asyncToGeneratorRuntime","gkx","promiseDone","qex","recoverableViolation","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,e,g,k,l,m){var n=d("MessengerLogHistory").getInstance("client_sync"),o=new(c("LSPlatformServerResponseHandler"))(g),p=d("LSDatabaseProviderType").isProviderPersisted(a),q=function(c){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange("",c)));b!=null&&(yield a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).add(b.failureCount,i.one),lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":76")},r=new(c("LSPlatformRequestScheduler"))(),s=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f,n){n=d("LSShape").toRecord(n);var q=d("LSShape").toRecord(n.request_payload);n=n.type;var r=c("LSPlatformRequestId").generate();q=d("LSJson").stringify(d("LSShape").ofRecord({database:q.database,epoch_id:q.epoch_id,failure_count:q.failure_count,last_applied_cursor:q.last_applied_cursor,sync_params:q.sync_params,version:(i||(i=d("I64"))).of_string(k)}));var s=(i||(i=d("I64"))).equal(f.sync_group_id,(j||(j=d("LSIntEnum"))).ofNumber(1))&&c("gkx")("26386")===!0;if(!s&&f.skip_realtime_gateway){s=(yield d("LSPlatformGraphQLTransport").publish(l,r,n,q,m));var t=s[0],u=s[1],v=s[2];s=s[3];v={experiments:v,syncScript:u,target:s};return p?o.evalInOrderReceived(t,v):g(v)}else{u=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(f.sync_group_id)));s=u!=null?u.syncChannel:d("LSMailboxInitialSyncCursor").syncChannel;t=c("qex")._("789");if(u!=null&&t!=null&&t!=="default"){v=(j||(j=d("LSIntEnum"))).unwrapIntEnum(n);if(1===v||2===v||5===v){f=t+"."+(j||(j=d("LSIntEnum"))).toNumber(s)+"."+j.toNumber(n)+"."+j.toNumber(u.groupId);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",f)}}return e.publish({payload:q,queueName:void 0,requestId:r,syncChannel:s,type_:n}).then(function(){return(h||(h=b("Promise"))).resolve()})}});return function(a,b){return f.apply(this,arguments)}}(),t=function e(g){var k=function(b){return a.runInTransaction(function(a){return c("LSBeginHandlingSyncForSyncGroupStoredProcedure")(c("LSFactory")(a),{ignoreSoftDelay:!1,syncGroupId:b})},"readwrite",void 0,void 0,f.id+":195").then(function(a){return e(a[0])})},l=function(a,b){r.schedule(function(){c("promiseDone")(k(a))},(i||(i=d("I64"))).to_string(a),i.to_float(b))},m=d("LSShape").toRecord(g);g=m.work_item_type;if((i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(1))||(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(5))){var o=m.network_payload;if(o!=null)return s(m,o)["catch"](function(a){if(a.message===d("LSPlatformGraphQLTransport").ServerError)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_graphql_error");else if(a.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout||a.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_timeout_or_disc"),n.debug("Publish timed out");else{d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_other_error");if(a instanceof Error)c("FBLogger")("messenger_web_product").catching(a).mustfix("Encountered an JS error while publishing a LS sync request");else{var b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web_product").mustfix("Encountered an JS error while publishing a LS sync request %s",b)}}d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handleSyncFailure."+(j||(j=d("LSIntEnum"))).toNumber(d("LSShape").toRecord(o).type)+"."+j.toNumber(m.sync_group_id));return q(m.sync_group_id).then(function(){return k(m.sync_group_id)})});else{c("recoverableViolation")("Expected networkpayload for sync request but didn't get any","ls_web_init");return(h||(h=b("Promise"))).resolve()}}if(!(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(3)))if((i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(4))||!(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(2)))return(h||(h=b("Promise"))).resolve();else{c("recoverableViolation")("Native handling for sync group not implemented yet","ls_web_init");return(h||(h=b("Promise"))).resolve()}g=m.next_sync_ms;if(g!=null){l(m.sync_group_id,g);return(h||(h=b("Promise"))).resolve()}else{c("recoverableViolation")("Expected delay for delayed sync request but didn't get any","ls_web_init");return(h||(h=b("Promise"))).resolve()}},u=function(a){return(h||(h=b("Promise"))).all(c("LSVec").toArray(a[0]).map(function(a){return t(a)}))},v=function(){c("promiseDone")(a.runInTransaction(function(a){return c("LSBeginHandlingSyncStoredProcedure")(c("LSFactory")(a),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,f.id+":345").then(u))},w=c("throttle")(v,500);v=function(){return d("ReQL").fromTableAscending(a.tables.sync_groups).subscribe(function(){return w()})};var x=function(){return e.subscribeToNonTaskResponses(function(a,b){var e=b.ex,f=b.payload;e={experiments:e,sp:b.sp,syncScript:f,target:b.target};c("promiseDone")(p?o.evalInOrderReceived(a,e):g(e),function(){return w()},function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handle_sync_response_failure");if(a instanceof Error)c("FBLogger")("messenger_web_product").catching(a).mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",p,a.message);else{var b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web_product").mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",p,b)}})})},y=function(){return e.onReconnect(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","resume_sync_reconnect"),n.debug("Sync System reconnecting"),c("promiseDone")(a.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var f;f=(yield (f=d("ReQL")).toArrayAsync(f.mergeJoin(f.fromTableAscending(a.tables.sync_groups),f.fromTableAscending(a.tables.network_requests).getKeyRange(""))));yield (h||(h=b("Promise"))).all(f.map(function(a){a=a[1];return e.network_requests.put({epochId:void 0,failureCount:a.failureCount,lastDelayedRequestTimestampMs:a.lastDelayedRequestTimestampMs,lastSentTimestampMs:a.lastSentTimestampMs,lastSyncRequestTimestampMs:a.lastSyncRequestTimestampMs,networkTaskIdentifier:a.networkTaskIdentifier,syncDatabaseId:a.syncDatabaseId,taskQueueName:a.taskQueueName})}));return c("LSBeginHandlingSyncStoredProcedure")(c("LSFactory")(e),{ignoreSoftDelay:!1})});return function(a){return e.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":433").then(u))})},z=v(),A=x(),B=y();w();return{cleanup:function(){z(),B(),A()}}}g["default"]=a}),98);
__d("LSPlatformSyncSystemDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSPlatformSyncSystem").__setRef("LSPlatformSyncSystemDeferred");function a(){return h.load()}g["default"]=a}),98);
__d("LSPlatformSyncSystemEager",["LSPlatformSyncSystem","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=b("Promise"))).resolve(c("LSPlatformSyncSystem"))}g["default"]=a}),98);
__d("PolarisSwitchAccountsModalLazy.react",["CometPlaceholder.react","IGCoreModal.react","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisSwitchAccountsModal.react").__setRef("PolarisSwitchAccountsModalLazy.react"));function a(){var a=i(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGCoreModal.react"),{children:j.jsx(c("IGDSBox.react"),{alignItems:"center",height:112,justifyContent:"center",position:"relative",width:"100%",children:j.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("CometPlaceholder.react"),{fallback:b,children:j.jsx(k,{})}),a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("ZenonCallInviteModelTypes",[],(function(a,b,c,d,e,f){"use strict";a={missed:"missed",ringing:"ringing",unsupported_browser:"unsupported_browser"};f.CallInviteModelType=a}),66);/*FB_PKG_DELIM*/
__d("AggregateError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(c,d){var e;d=(d=d)!=null?d:g(c);e=a.call(this,d)||this;e.name="AggregateError";e.errors=c;e.message=d;Error.captureStackTrace&&Error.captureStackTrace(babelHelpers.assertThisInitialized(e),b);return e}return b}(babelHelpers.wrapNativeSuper(Error));function g(a){if(a.length===0)return"No errors";return a.length===1?a[0].message:a.map(function(a){return"- "+a.message}).join("\n")}f["default"]=a}),66);
__d("StructuredConfigBase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a){return this.$1.getValue(a)>0};b.getInt=function(a){return this.$1.getValue(a)};return a}();f["default"]=a}),66);
__d("Configs",["StructuredConfigBase"],(function(a,b,c,d,e,f){"use strict";c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ExampleConfig1=c.getBool(0),c.$ExampleConfig2=c.getBool(2),c.$ExampleConfig3=c.getBool(1724),c.$ExampleConfig4=c.getBool(2044),c.$ExampleConfig5=c.getInt(1),c.$ExampleConfig6=c.getInt(3),c.$ExampleConfig7=c.getInt(2011),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateParams=function(){this.$ExampleConfig1=this.getBool(0),this.$ExampleConfig2=this.getBool(2),this.$ExampleConfig3=this.getBool(1724),this.$ExampleConfig4=this.getBool(2044),this.$ExampleConfig5=this.getInt(1),this.$ExampleConfig6=this.getInt(3),this.$ExampleConfig7=this.getInt(2011)};c.isEnabled=function(){return this.$ExampleConfig1};c.isSomeBoolean=function(){return this.$ExampleConfig2};c.isSomeOtherIntegerHasValue=function(){return this.$ExampleConfig3};c.isSomeOtherBoolean=function(){return this.$ExampleConfig4};c.getSomeInteger=function(){return this.$ExampleConfig5};c.getSomeOtherInteger=function(){return this.$ExampleConfig6};c.getSomeDouble=function(){return this.$ExampleConfig7};return b}(a=b("StructuredConfigBase"));d=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$SimulcastOverSignalingConfig1=c.getBool(651),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateParams=function(){this.$SimulcastOverSignalingConfig1=this.getBool(651)};c.isSimulcastOverSignalingEnabled=function(){return this.$SimulcastOverSignalingConfig1};return b}(a);f=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$PreferredCaptureConfig1=c.getBool(173),c.$PreferredCaptureConfig2=c.getBool(3919),c.$PreferredCaptureConfig3=c.getInt(174),c.$PreferredCaptureConfig4=c.getInt(175),c.$PreferredCaptureConfig5=c.getInt(176),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateParams=function(){this.$PreferredCaptureConfig1=this.getBool(173),this.$PreferredCaptureConfig2=this.getBool(3919),this.$PreferredCaptureConfig3=this.getInt(174),this.$PreferredCaptureConfig4=this.getInt(175),this.$PreferredCaptureConfig5=this.getInt(176)};c.isEnabled=function(){return this.$PreferredCaptureConfig1};c.isPreferStableFps=function(){return this.$PreferredCaptureConfig2};c.getWidthPx=function(){return this.$PreferredCaptureConfig3};c.getHeightPx=function(){return this.$PreferredCaptureConfig4};c.getFps=function(){return this.$PreferredCaptureConfig5};return b}(a);b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ZenonSdpTransformConfig1=c.getBool(244),c.$ZenonSdpTransformConfig2=c.getBool(420),c.$ZenonSdpTransformConfig3=c.getBool(421),c.$ZenonSdpTransformConfig4=c.getBool(245),c.$ZenonSdpTransformConfig5=c.getBool(246),c.$ZenonSdpTransformConfig6=c.getBool(248),c.$ZenonSdpTransformConfig7=c.getBool(1448),c.$ZenonSdpTransformConfig8=c.getBool(1444),c.$ZenonSdpTransformConfig9=c.getBool(1445),c.$ZenonSdpTransformConfig10=c.getInt(1446),c.$ZenonSdpTransformConfig11=c.getInt(1447),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateParams=function(){this.$ZenonSdpTransformConfig1=this.getBool(244),this.$ZenonSdpTransformConfig2=this.getBool(420),this.$ZenonSdpTransformConfig3=this.getBool(421),this.$ZenonSdpTransformConfig4=this.getBool(245),this.$ZenonSdpTransformConfig5=this.getBool(246),this.$ZenonSdpTransformConfig6=this.getBool(248),this.$ZenonSdpTransformConfig7=this.getBool(1448),this.$ZenonSdpTransformConfig8=this.getBool(1444),this.$ZenonSdpTransformConfig9=this.getBool(1445),this.$ZenonSdpTransformConfig10=this.getInt(1446),this.$ZenonSdpTransformConfig11=this.getInt(1447)};c.isPreserveH264=function(){return this.$ZenonSdpTransformConfig1};c.isPreferH264ForMwCall=function(){return this.$ZenonSdpTransformConfig2};c.isPreferSwH264=function(){return this.$ZenonSdpTransformConfig3};c.isAddAudioNack=function(){return this.$ZenonSdpTransformConfig4};c.isDisableOpusStereo=function(){return this.$ZenonSdpTransformConfig5};c.isPreferIsacForGroupAudio=function(){return this.$ZenonSdpTransformConfig6};c.isEnableOpusFmtpMunging=function(){return this.$ZenonSdpTransformConfig7};c.isSetOpusUsedtx=function(){return this.$ZenonSdpTransformConfig8};c.isSetOpusUseinbandfec=function(){return this.$ZenonSdpTransformConfig9};c.getSetOpusMaxplaybackrate=function(){return this.$ZenonSdpTransformConfig10};c.getSetOpusMaxaveragebitrate=function(){return this.$ZenonSdpTransformConfig11};return b}(a);var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonPeerConnectionConfig1=c.getBool(302),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonPeerConnectionConfig1=this.getBool(302)};c.isRtpDataChannels=function(){return this.$ZenonPeerConnectionConfig1};return a}(a),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonStartCallImmediatelyConfig1=c.getBool(308),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonStartCallImmediatelyConfig1=this.getBool(308)};c.isEnabled=function(){return this.$ZenonStartCallImmediatelyConfig1};return a}(a),i=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonGeneralizedIdentityConfig1=c.getInt(1891),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonGeneralizedIdentityConfig1=this.getInt(1891)};c.getDuplicatedParticipantsProcessingMode=function(){return this.$ZenonGeneralizedIdentityConfig1};return a}(a),j=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonMultiCallSupportConfig1=c.getInt(309),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonMultiCallSupportConfig1=this.getInt(309)};c.getMaxConnectedCalls=function(){return this.$ZenonMultiCallSupportConfig1};return a}(a),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonPlatformSupportConfig1=c.getBool(316),c.$ZenonPlatformSupportConfig2=c.getBool(318),c.$ZenonPlatformSupportConfig3=c.getBool(2251),c.$ZenonPlatformSupportConfig4=c.getBool(1900),c.$ZenonPlatformSupportConfig5=c.getInt(317),c.$ZenonPlatformSupportConfig6=c.getInt(319),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonPlatformSupportConfig1=this.getBool(316),this.$ZenonPlatformSupportConfig2=this.getBool(318),this.$ZenonPlatformSupportConfig3=this.getBool(2251),this.$ZenonPlatformSupportConfig4=this.getBool(1900),this.$ZenonPlatformSupportConfig5=this.getInt(317),this.$ZenonPlatformSupportConfig6=this.getInt(319)};c.isSupportsZenonPlatform=function(){return this.$ZenonPlatformSupportConfig1};c.isStartImmediatelyEnabled=function(){return this.$ZenonPlatformSupportConfig2};c.isUploadSummaryOnCallEnded=function(){return this.$ZenonPlatformSupportConfig3};c.isMultiwayAvEscalationEnabled=function(){return this.$ZenonPlatformSupportConfig4};c.getMaxConnectedCalls=function(){return this.$ZenonPlatformSupportConfig5};c.getParentWindowConnectionTimeoutMs=function(){return this.$ZenonPlatformSupportConfig6};return a}(a),l=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonSimulcastConfig1=c.getBool(453),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonSimulcastConfig1=this.getBool(453)};c.isSimulcastEnabled=function(){return this.$ZenonSimulcastConfig1};return a}(a),m=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$DynamicRuleConfig1=c.getBool(1342),c.$DynamicRuleConfig2=c.getBool(1597),c.$DynamicRuleConfig3=c.getBool(3996),c.$DynamicRuleConfig4=c.getInt(1359),c.$DynamicRuleConfig5=c.getInt(1510),c.$DynamicRuleConfig6=c.getInt(1612),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$DynamicRuleConfig1=this.getBool(1342),this.$DynamicRuleConfig2=this.getBool(1597),this.$DynamicRuleConfig3=this.getBool(3996),this.$DynamicRuleConfig4=this.getInt(1359),this.$DynamicRuleConfig5=this.getInt(1510),this.$DynamicRuleConfig6=this.getInt(1612)};c.isEnabled=function(){return this.$DynamicRuleConfig1};c.isDebugLoggingEnabled=function(){return this.$DynamicRuleConfig2};c.isEnableDynamicRuleLatest=function(){return this.$DynamicRuleConfig3};c.getProcessIntervalMs=function(){return this.$DynamicRuleConfig4};c.getNetworkProcessIntervalMs=function(){return this.$DynamicRuleConfig5};c.getDebugLoggingIntervalMs=function(){return this.$DynamicRuleConfig6};return a}(a);a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$SignalingPingConfig1=c.getInt(1470),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateParams=function(){this.$SignalingPingConfig1=this.getInt(1470)};c.getPingIntervalMs=function(){return this.$SignalingPingConfig1};return b}(a);e.exports={ExampleConfig:c,SimulcastOverSignalingConfig:d,PreferredCaptureConfig:f,ZenonSdpTransformConfig:b,ZenonPeerConnectionConfig:g,ZenonStartCallImmediatelyConfig:h,ZenonGeneralizedIdentityConfig:i,ZenonMultiCallSupportConfig:j,ZenonPlatformSupportConfig:k,ZenonSimulcastConfig:l,DynamicRuleConfig:m,SignalingPingConfig:a}}),null);
__d("E2eeMetricsSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function h(){return{}}function i(){return{}}function a(){return{p2p_e2ee:h(),group_e2ee:i()}}function j(a,c){c.writeStructBegin("P2pE2eeMetrics");a.engine_type!=null&&(c.writeFieldBegin({fname:"engine_type",ftype:(g||(g=b("ThriftTypes"))).I64,fid:1}),c.writeI64(BigInt(a.engine_type)),c.writeFieldEnd());a.status!=null&&(c.writeFieldBegin({fname:"status",ftype:(g||(g=b("ThriftTypes"))).I64,fid:2}),c.writeI64(BigInt(a.status)),c.writeFieldEnd());a.version!=null&&(c.writeFieldBegin({fname:"version",ftype:(g||(g=b("ThriftTypes"))).I64,fid:3}),c.writeI64(BigInt(a.version)),c.writeFieldEnd());a.gen_prekey_bundle_time_ms!=null&&(c.writeFieldBegin({fname:"gen_prekey_bundle_time_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:4}),c.writeI64(BigInt(a.gen_prekey_bundle_time_ms)),c.writeFieldEnd());a.encrypted_msg_time_ms!=null&&(c.writeFieldBegin({fname:"encrypted_msg_time_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:5}),c.writeI64(BigInt(a.encrypted_msg_time_ms)),c.writeFieldEnd());a.decrypted_msg_time_ms!=null&&(c.writeFieldBegin({fname:"decrypted_msg_time_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:6}),c.writeI64(BigInt(a.decrypted_msg_time_ms)),c.writeFieldEnd());a.process_sdp_crypto_time_ms!=null&&(c.writeFieldBegin({fname:"process_sdp_crypto_time_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:7}),c.writeI64(BigInt(a.process_sdp_crypto_time_ms)),c.writeFieldEnd());a.create_crypto_offer_time_ms!=null&&(c.writeFieldBegin({fname:"create_crypto_offer_time_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:8}),c.writeI64(BigInt(a.create_crypto_offer_time_ms)),c.writeFieldEnd());a.create_crypto_answer_time_ms!=null&&(c.writeFieldBegin({fname:"create_crypto_answer_time_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:9}),c.writeI64(BigInt(a.create_crypto_answer_time_ms)),c.writeFieldEnd());a.get_ik_time_ms!=null&&(c.writeFieldBegin({fname:"get_ik_time_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:10}),c.writeI64(BigInt(a.get_ik_time_ms)),c.writeFieldEnd());a.peer_id!=null&&(c.writeFieldBegin({fname:"peer_id",ftype:(g||(g=b("ThriftTypes"))).I64,fid:11}),c.writeI64(BigInt(a.peer_id)),c.writeFieldEnd());a.peer_connection_index!=null&&(c.writeFieldBegin({fname:"peer_connection_index",ftype:(g||(g=b("ThriftTypes"))).I64,fid:12}),c.writeI64(BigInt(a.peer_connection_index)),c.writeFieldEnd());a.srtp_crypto_suite!=null&&(c.writeFieldBegin({fname:"srtp_crypto_suite",ftype:(g||(g=b("ThriftTypes"))).I64,fid:13}),c.writeI64(BigInt(a.srtp_crypto_suite)),c.writeFieldEnd());a.engine_error!=null&&(c.writeFieldBegin({fname:"engine_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:14}),c.writeI64(BigInt(a.engine_error)),c.writeFieldEnd());a.libsignal_error!=null&&(c.writeFieldBegin({fname:"libsignal_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:15}),c.writeI64(BigInt(a.libsignal_error)),c.writeFieldEnd());a.identity_key_mode!=null&&(c.writeFieldBegin({fname:"identity_key_mode",ftype:(g||(g=b("ThriftTypes"))).I64,fid:16}),c.writeI64(BigInt(a.identity_key_mode)),c.writeFieldEnd());a.identity_key_num_persistent!=null&&(c.writeFieldBegin({fname:"identity_key_num_persistent",ftype:(g||(g=b("ThriftTypes"))).I64,fid:17}),c.writeI64(BigInt(a.identity_key_num_persistent)),c.writeFieldEnd());a.identity_key_num_validated!=null&&(c.writeFieldBegin({fname:"identity_key_num_validated",ftype:(g||(g=b("ThriftTypes"))).I64,fid:18}),c.writeI64(BigInt(a.identity_key_num_validated)),c.writeFieldEnd());a.identity_key_num_saved!=null&&(c.writeFieldBegin({fname:"identity_key_num_saved",ftype:(g||(g=b("ThriftTypes"))).I64,fid:19}),c.writeI64(BigInt(a.identity_key_num_saved)),c.writeFieldEnd());a.identity_key_num_existing!=null&&(c.writeFieldBegin({fname:"identity_key_num_existing",ftype:(g||(g=b("ThriftTypes"))).I64,fid:20}),c.writeI64(BigInt(a.identity_key_num_existing)),c.writeFieldEnd());a.is_e2ee_mandated!=null&&(c.writeFieldBegin({fname:"is_e2ee_mandated",ftype:(g||(g=b("ThriftTypes"))).I64,fid:21}),c.writeI64(BigInt(a.is_e2ee_mandated)),c.writeFieldEnd());a.local_trace_id!=null&&(c.writeFieldBegin({fname:"local_trace_id",ftype:(g||(g=b("ThriftTypes"))).I64,fid:22}),c.writeI64(BigInt(a.local_trace_id)),c.writeFieldEnd());a.remote_trace_id!=null&&(c.writeFieldBegin({fname:"remote_trace_id",ftype:(g||(g=b("ThriftTypes"))).I64,fid:23}),c.writeI64(BigInt(a.remote_trace_id)),c.writeFieldEnd());a.local_device_id!=null&&(c.writeFieldBegin({fname:"local_device_id",ftype:(g||(g=b("ThriftTypes"))).I64,fid:24}),c.writeI64(BigInt(a.local_device_id)),c.writeFieldEnd());a.remote_device_id!=null&&(c.writeFieldBegin({fname:"remote_device_id",ftype:(g||(g=b("ThriftTypes"))).I64,fid:25}),c.writeI64(BigInt(a.remote_device_id)),c.writeFieldEnd());if(a.events!=null){c.writeFieldBegin({fname:"events",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:26});c.writeListBegin({etype:g.I64,size:a.events.length});for(var d=a.events,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeI64(BigInt(h))}c.writeListEnd();c.writeFieldEnd()}a.gen_dtls_auth_info_status!=null&&(c.writeFieldBegin({fname:"gen_dtls_auth_info_status",ftype:(g||(g=b("ThriftTypes"))).I64,fid:27}),c.writeI64(BigInt(a.gen_dtls_auth_info_status)),c.writeFieldEnd());a.gen_dtls_auth_info_libsignal_status!=null&&(c.writeFieldBegin({fname:"gen_dtls_auth_info_libsignal_status",ftype:(g||(g=b("ThriftTypes"))).I64,fid:28}),c.writeI64(BigInt(a.gen_dtls_auth_info_libsignal_status)),c.writeFieldEnd());a.gen_dtls_auth_info_time_ms!=null&&(c.writeFieldBegin({fname:"gen_dtls_auth_info_time_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:29}),c.writeI64(BigInt(a.gen_dtls_auth_info_time_ms)),c.writeFieldEnd());a.verify_dtls_auth_info_status!=null&&(c.writeFieldBegin({fname:"verify_dtls_auth_info_status",ftype:(g||(g=b("ThriftTypes"))).I64,fid:30}),c.writeI64(BigInt(a.verify_dtls_auth_info_status)),c.writeFieldEnd());a.verify_dtls_auth_info_libsignal_status!=null&&(c.writeFieldBegin({fname:"verify_dtls_auth_info_libsignal_status",ftype:(g||(g=b("ThriftTypes"))).I64,fid:31}),c.writeI64(BigInt(a.verify_dtls_auth_info_libsignal_status)),c.writeFieldEnd());a.verify_dtls_auth_info_time_ms!=null&&(c.writeFieldBegin({fname:"verify_dtls_auth_info_time_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:32}),c.writeI64(BigInt(a.verify_dtls_auth_info_time_ms)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("GroupE2eeMetrics");a.received_key_message_counter!=null&&(c.writeFieldBegin({fname:"received_key_message_counter",ftype:(g||(g=b("ThriftTypes"))).I64,fid:1}),c.writeI64(BigInt(a.received_key_message_counter)),c.writeFieldEnd());a.sent_key_message_counter!=null&&(c.writeFieldBegin({fname:"sent_key_message_counter",ftype:(g||(g=b("ThriftTypes"))).I64,fid:2}),c.writeI64(BigInt(a.sent_key_message_counter)),c.writeFieldEnd());a.cached_key_message_counter!=null&&(c.writeFieldBegin({fname:"cached_key_message_counter",ftype:(g||(g=b("ThriftTypes"))).I64,fid:3}),c.writeI64(BigInt(a.cached_key_message_counter)),c.writeFieldEnd());a.used_cached_key_counter!=null&&(c.writeFieldBegin({fname:"used_cached_key_counter",ftype:(g||(g=b("ThriftTypes"))).I64,fid:4}),c.writeI64(BigInt(a.used_cached_key_counter)),c.writeFieldEnd());a.unused_smu_counter!=null&&(c.writeFieldBegin({fname:"unused_smu_counter",ftype:(g||(g=b("ThriftTypes"))).I64,fid:5}),c.writeI64(BigInt(a.unused_smu_counter)),c.writeFieldEnd());a.missing_key_message_counter!=null&&(c.writeFieldBegin({fname:"missing_key_message_counter",ftype:(g||(g=b("ThriftTypes"))).I64,fid:6}),c.writeI64(BigInt(a.missing_key_message_counter)),c.writeFieldEnd());a.negotiate_off_status!=null&&(c.writeFieldBegin({fname:"negotiate_off_status",ftype:(g||(g=b("ThriftTypes"))).I64,fid:7}),c.writeI64(BigInt(a.negotiate_off_status)),c.writeFieldEnd());a.cipher_suite_status!=null&&(c.writeFieldBegin({fname:"cipher_suite_status",ftype:(g||(g=b("ThriftTypes"))).I64,fid:8}),c.writeI64(BigInt(a.cipher_suite_status)),c.writeFieldEnd());a.decrypt_used_cached_session_counter!=null&&(c.writeFieldBegin({fname:"decrypt_used_cached_session_counter",ftype:(g||(g=b("ThriftTypes"))).I64,fid:9}),c.writeI64(BigInt(a.decrypt_used_cached_session_counter)),c.writeFieldEnd());a.encrypt_used_cached_session_counter!=null&&(c.writeFieldBegin({fname:"encrypt_used_cached_session_counter",ftype:(g||(g=b("ThriftTypes"))).I64,fid:10}),c.writeI64(BigInt(a.encrypt_used_cached_session_counter)),c.writeFieldEnd());a.sent_ack_message_counter!=null&&(c.writeFieldBegin({fname:"sent_ack_message_counter",ftype:(g||(g=b("ThriftTypes"))).I64,fid:11}),c.writeI64(BigInt(a.sent_ack_message_counter)),c.writeFieldEnd());a.reuse_ackd_uid_counter!=null&&(c.writeFieldBegin({fname:"reuse_ackd_uid_counter",ftype:(g||(g=b("ThriftTypes"))).I64,fid:12}),c.writeI64(BigInt(a.reuse_ackd_uid_counter)),c.writeFieldEnd());a.total_uids_created_counter!=null&&(c.writeFieldBegin({fname:"total_uids_created_counter",ftype:(g||(g=b("ThriftTypes"))).I64,fid:13}),c.writeI64(BigInt(a.total_uids_created_counter)),c.writeFieldEnd());a.generate_chain_key_failed_error!=null&&(c.writeFieldBegin({fname:"generate_chain_key_failed_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:14}),c.writeI64(BigInt(a.generate_chain_key_failed_error)),c.writeFieldEnd());a.set_chain_key_failed_error!=null&&(c.writeFieldBegin({fname:"set_chain_key_failed_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:15}),c.writeI64(BigInt(a.set_chain_key_failed_error)),c.writeFieldEnd());a.key_provider_not_found_error!=null&&(c.writeFieldBegin({fname:"key_provider_not_found_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:16}),c.writeI64(BigInt(a.key_provider_not_found_error)),c.writeFieldEnd());a.key_message_parse_failed_error!=null&&(c.writeFieldBegin({fname:"key_message_parse_failed_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:17}),c.writeI64(BigInt(a.key_message_parse_failed_error)),c.writeFieldEnd());a.empty_pkb_result_error!=null&&(c.writeFieldBegin({fname:"empty_pkb_result_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:18}),c.writeI64(BigInt(a.empty_pkb_result_error)),c.writeFieldEnd());a.empty_encrypt_result_error!=null&&(c.writeFieldBegin({fname:"empty_encrypt_result_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:19}),c.writeI64(BigInt(a.empty_encrypt_result_error)),c.writeFieldEnd());a.empty_decrypt_result_error!=null&&(c.writeFieldBegin({fname:"empty_decrypt_result_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:20}),c.writeI64(BigInt(a.empty_decrypt_result_error)),c.writeFieldEnd());a.empty_version_error!=null&&(c.writeFieldBegin({fname:"empty_version_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:21}),c.writeI64(BigInt(a.empty_version_error)),c.writeFieldEnd());a.unsupported_version_error!=null&&(c.writeFieldBegin({fname:"unsupported_version_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:22}),c.writeI64(BigInt(a.unsupported_version_error)),c.writeFieldEnd());a.midcall_version_change_error!=null&&(c.writeFieldBegin({fname:"midcall_version_change_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:23}),c.writeI64(BigInt(a.midcall_version_change_error)),c.writeFieldEnd());a.inconsistent_remote_maps_error!=null&&(c.writeFieldBegin({fname:"inconsistent_remote_maps_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:24}),c.writeI64(BigInt(a.inconsistent_remote_maps_error)),c.writeFieldEnd());a.key_message_pkb_mismatch_error!=null&&(c.writeFieldBegin({fname:"key_message_pkb_mismatch_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:25}),c.writeI64(BigInt(a.key_message_pkb_mismatch_error)),c.writeFieldEnd());a.no_key_or_ack_in_e2ee_message_error!=null&&(c.writeFieldBegin({fname:"no_key_or_ack_in_e2ee_message_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:26}),c.writeI64(BigInt(a.no_key_or_ack_in_e2ee_message_error)),c.writeFieldEnd());a.receiver_key_provider_not_found_error!=null&&(c.writeFieldBegin({fname:"receiver_key_provider_not_found_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:27}),c.writeI64(BigInt(a.receiver_key_provider_not_found_error)),c.writeFieldEnd());a.pkb_parse_failed_error!=null&&(c.writeFieldBegin({fname:"pkb_parse_failed_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:28}),c.writeI64(BigInt(a.pkb_parse_failed_error)),c.writeFieldEnd());a.message_deserialized_failed_error!=null&&(c.writeFieldBegin({fname:"message_deserialized_failed_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:29}),c.writeI64(BigInt(a.message_deserialized_failed_error)),c.writeFieldEnd());a.decrypt_no_identity_key_and_cached_session_not_used_error!=null&&(c.writeFieldBegin({fname:"decrypt_no_identity_key_and_cached_session_not_used_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:30}),c.writeI64(BigInt(a.decrypt_no_identity_key_and_cached_session_not_used_error)),c.writeFieldEnd());a.encrypt_no_identity_key_and_cached_session_not_used_error!=null&&(c.writeFieldBegin({fname:"encrypt_no_identity_key_and_cached_session_not_used_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:31}),c.writeI64(BigInt(a.encrypt_no_identity_key_and_cached_session_not_used_error)),c.writeFieldEnd());a.decrypt_ack_wrong_message_error!=null&&(c.writeFieldBegin({fname:"decrypt_ack_wrong_message_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:32}),c.writeI64(BigInt(a.decrypt_ack_wrong_message_error)),c.writeFieldEnd());a.invalid_uid_received_error!=null&&(c.writeFieldBegin({fname:"invalid_uid_received_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:33}),c.writeI64(BigInt(a.invalid_uid_received_error)),c.writeFieldEnd());a.ack_for_absent_user!=null&&(c.writeFieldBegin({fname:"ack_for_absent_user",ftype:(g||(g=b("ThriftTypes"))).I64,fid:34}),c.writeI64(BigInt(a.ack_for_absent_user)),c.writeFieldEnd());a.uid_not_awaiting_ack_error!=null&&(c.writeFieldBegin({fname:"uid_not_awaiting_ack_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:35}),c.writeI64(BigInt(a.uid_not_awaiting_ack_error)),c.writeFieldEnd());a.decrypt_ack_error!=null&&(c.writeFieldBegin({fname:"decrypt_ack_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:36}),c.writeI64(BigInt(a.decrypt_ack_error)),c.writeFieldEnd());a.empty_decrypt_result_ack_error!=null&&(c.writeFieldBegin({fname:"empty_decrypt_result_ack_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:37}),c.writeI64(BigInt(a.empty_decrypt_result_ack_error)),c.writeFieldEnd());a.decrypt_ack_cached_session_not_used_error!=null&&(c.writeFieldBegin({fname:"decrypt_ack_cached_session_not_used_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:38}),c.writeI64(BigInt(a.decrypt_ack_cached_session_not_used_error)),c.writeFieldEnd());a.encrypt_ack_error!=null&&(c.writeFieldBegin({fname:"encrypt_ack_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:39}),c.writeI64(BigInt(a.encrypt_ack_error)),c.writeFieldEnd());a.empty_encrypt_result_ack_error!=null&&(c.writeFieldBegin({fname:"empty_encrypt_result_ack_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:40}),c.writeI64(BigInt(a.empty_encrypt_result_ack_error)),c.writeFieldEnd());a.invalid_message_type_error!=null&&(c.writeFieldBegin({fname:"invalid_message_type_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:41}),c.writeI64(BigInt(a.invalid_message_type_error)),c.writeFieldEnd());a.server_state_deserialized_failed_error!=null&&(c.writeFieldBegin({fname:"server_state_deserialized_failed_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:42}),c.writeI64(BigInt(a.server_state_deserialized_failed_error)),c.writeFieldEnd());a.crypto_engine_failure_error!=null&&(c.writeFieldBegin({fname:"crypto_engine_failure_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:43}),c.writeI64(BigInt(a.crypto_engine_failure_error)),c.writeFieldEnd());a.empty_e2ee_client_state_error!=null&&(c.writeFieldBegin({fname:"empty_e2ee_client_state_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:44}),c.writeI64(BigInt(a.empty_e2ee_client_state_error)),c.writeFieldEnd());a.group_e2ee_negotiated!=null&&(c.writeFieldBegin({fname:"group_e2ee_negotiated",ftype:(g||(g=b("ThriftTypes"))).I64,fid:45}),c.writeI64(BigInt(a.group_e2ee_negotiated)),c.writeFieldEnd());a.negotiation_mode_kn!=null&&(c.writeFieldBegin({fname:"negotiation_mode_kn",ftype:(g||(g=b("ThriftTypes"))).I64,fid:46}),c.writeI64(BigInt(a.negotiation_mode_kn)),c.writeFieldEnd());a.group_e2ee_setup_status!=null&&(c.writeFieldBegin({fname:"group_e2ee_setup_status",ftype:(g||(g=b("ThriftTypes"))).I64,fid:47}),c.writeI64(BigInt(a.group_e2ee_setup_status)),c.writeFieldEnd());a.enable_group_e2ee!=null&&(c.writeFieldBegin({fname:"enable_group_e2ee",ftype:(g||(g=b("ThriftTypes"))).I64,fid:48}),c.writeI64(BigInt(a.enable_group_e2ee)),c.writeFieldEnd());a.identity_key_mode_group!=null&&(c.writeFieldBegin({fname:"identity_key_mode_group",ftype:(g||(g=b("ThriftTypes"))).I64,fid:49}),c.writeI64(BigInt(a.identity_key_mode_group)),c.writeFieldEnd());a.identity_key_num_persistent_group!=null&&(c.writeFieldBegin({fname:"identity_key_num_persistent_group",ftype:(g||(g=b("ThriftTypes"))).I64,fid:50}),c.writeI64(BigInt(a.identity_key_num_persistent_group)),c.writeFieldEnd());a.identity_key_num_validated_group!=null&&(c.writeFieldBegin({fname:"identity_key_num_validated_group",ftype:(g||(g=b("ThriftTypes"))).I64,fid:51}),c.writeI64(BigInt(a.identity_key_num_validated_group)),c.writeFieldEnd());a.identity_key_num_saved_group!=null&&(c.writeFieldBegin({fname:"identity_key_num_saved_group",ftype:(g||(g=b("ThriftTypes"))).I64,fid:52}),c.writeI64(BigInt(a.identity_key_num_saved_group)),c.writeFieldEnd());a.identity_key_num_existing_group!=null&&(c.writeFieldBegin({fname:"identity_key_num_existing_group",ftype:(g||(g=b("ThriftTypes"))).I64,fid:53}),c.writeI64(BigInt(a.identity_key_num_existing_group)),c.writeFieldEnd());a.max_key_message_latency_ms!=null&&(c.writeFieldBegin({fname:"max_key_message_latency_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:54}),c.writeI64(BigInt(a.max_key_message_latency_ms)),c.writeFieldEnd());a.max_key_message_latency_ms_joiner!=null&&(c.writeFieldBegin({fname:"max_key_message_latency_ms_joiner",ftype:(g||(g=b("ThriftTypes"))).I64,fid:55}),c.writeI64(BigInt(a.max_key_message_latency_ms_joiner)),c.writeFieldEnd());a.max_smu_to_key_message_latency_ms!=null&&(c.writeFieldBegin({fname:"max_smu_to_key_message_latency_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:56}),c.writeI64(BigInt(a.max_smu_to_key_message_latency_ms)),c.writeFieldEnd());a.process_smu_time_ms!=null&&(c.writeFieldBegin({fname:"process_smu_time_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:57}),c.writeI64(BigInt(a.process_smu_time_ms)),c.writeFieldEnd());a.decryption_total_frames!=null&&(c.writeFieldBegin({fname:"decryption_total_frames",ftype:(g||(g=b("ThriftTypes"))).I64,fid:58}),c.writeI64(BigInt(a.decryption_total_frames)),c.writeFieldEnd());a.decryption_total_error_frames!=null&&(c.writeFieldBegin({fname:"decryption_total_error_frames",ftype:(g||(g=b("ThriftTypes"))).I64,fid:59}),c.writeI64(BigInt(a.decryption_total_error_frames)),c.writeFieldEnd());a.decryption_error_frames_alloc!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_alloc",ftype:(g||(g=b("ThriftTypes"))).I64,fid:60}),c.writeI64(BigInt(a.decryption_error_frames_alloc)),c.writeFieldEnd());a.decryption_error_frames_invalid_params!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_invalid_params",ftype:(g||(g=b("ThriftTypes"))).I64,fid:61}),c.writeI64(BigInt(a.decryption_error_frames_invalid_params)),c.writeFieldEnd());a.decryption_error_frames_cipher!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_cipher",ftype:(g||(g=b("ThriftTypes"))).I64,fid:62}),c.writeI64(BigInt(a.decryption_error_frames_cipher)),c.writeFieldEnd());a.decryption_error_frames_parse!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_parse",ftype:(g||(g=b("ThriftTypes"))).I64,fid:63}),c.writeI64(BigInt(a.decryption_error_frames_parse)),c.writeFieldEnd());a.decryption_error_frames_invalid_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_invalid_key",ftype:(g||(g=b("ThriftTypes"))).I64,fid:64}),c.writeI64(BigInt(a.decryption_error_frames_invalid_key)),c.writeFieldEnd());a.decryption_error_frames_missing_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_missing_key",ftype:(g||(g=b("ThriftTypes"))).I64,fid:65}),c.writeI64(BigInt(a.decryption_error_frames_missing_key)),c.writeFieldEnd());a.decryption_error_frames_out_of_ratchet_space!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_out_of_ratchet_space",ftype:(g||(g=b("ThriftTypes"))).I64,fid:66}),c.writeI64(BigInt(a.decryption_error_frames_out_of_ratchet_space)),c.writeFieldEnd());a.decryption_error_frames_cipher_auth!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_cipher_auth",ftype:(g||(g=b("ThriftTypes"))).I64,fid:67}),c.writeI64(BigInt(a.decryption_error_frames_cipher_auth)),c.writeFieldEnd());a.decryption_error_frames_frame_too_old!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_frame_too_old",ftype:(g||(g=b("ThriftTypes"))).I64,fid:68}),c.writeI64(BigInt(a.decryption_error_frames_frame_too_old)),c.writeFieldEnd());a.decryption_error_frames_seen_frame!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_seen_frame",ftype:(g||(g=b("ThriftTypes"))).I64,fid:69}),c.writeI64(BigInt(a.decryption_error_frames_seen_frame)),c.writeFieldEnd());a.decryption_error_frames_invalid_frame!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_invalid_frame",ftype:(g||(g=b("ThriftTypes"))).I64,fid:70}),c.writeI64(BigInt(a.decryption_error_frames_invalid_frame)),c.writeFieldEnd());a.decryption_error_frames_setting_invalid_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_setting_invalid_key",ftype:(g||(g=b("ThriftTypes"))).I64,fid:71}),c.writeI64(BigInt(a.decryption_error_frames_setting_invalid_key)),c.writeFieldEnd());a.decryption_error_frames_setting_existing_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_setting_existing_key",ftype:(g||(g=b("ThriftTypes"))).I64,fid:72}),c.writeI64(BigInt(a.decryption_error_frames_setting_existing_key)),c.writeFieldEnd());a.decryption_error_frames_escape_data!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_escape_data",ftype:(g||(g=b("ThriftTypes"))).I64,fid:73}),c.writeI64(BigInt(a.decryption_error_frames_escape_data)),c.writeFieldEnd());a.decryption_error_frames_deescape_data!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_deescape_data",ftype:(g||(g=b("ThriftTypes"))).I64,fid:74}),c.writeI64(BigInt(a.decryption_error_frames_deescape_data)),c.writeFieldEnd());a.decryption_error_frames_parse_frame_or_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_parse_frame_or_key",ftype:(g||(g=b("ThriftTypes"))).I64,fid:75}),c.writeI64(BigInt(a.decryption_error_frames_parse_frame_or_key)),c.writeFieldEnd());a.decryption_error_frames_unknown!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_unknown",ftype:(g||(g=b("ThriftTypes"))).I64,fid:76}),c.writeI64(BigInt(a.decryption_error_frames_unknown)),c.writeFieldEnd());a.decryption_unencrypted_frames!=null&&(c.writeFieldBegin({fname:"decryption_unencrypted_frames",ftype:(g||(g=b("ThriftTypes"))).I64,fid:77}),c.writeI64(BigInt(a.decryption_unencrypted_frames)),c.writeFieldEnd());a.encryption_total_frames!=null&&(c.writeFieldBegin({fname:"encryption_total_frames",ftype:(g||(g=b("ThriftTypes"))).I64,fid:78}),c.writeI64(BigInt(a.encryption_total_frames)),c.writeFieldEnd());a.encryption_error_frames!=null&&(c.writeFieldBegin({fname:"encryption_error_frames",ftype:(g||(g=b("ThriftTypes"))).I64,fid:79}),c.writeI64(BigInt(a.encryption_error_frames)),c.writeFieldEnd());a.encryption_escape_bytes!=null&&(c.writeFieldBegin({fname:"encryption_escape_bytes",ftype:(g||(g=b("ThriftTypes"))).I64,fid:80}),c.writeI64(BigInt(a.encryption_escape_bytes)),c.writeFieldEnd());a.encryption_total_error_frames!=null&&(c.writeFieldBegin({fname:"encryption_total_error_frames",ftype:(g||(g=b("ThriftTypes"))).I64,fid:81}),c.writeI64(BigInt(a.encryption_total_error_frames)),c.writeFieldEnd());a.encryption_error_frames_alloc!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_alloc",ftype:(g||(g=b("ThriftTypes"))).I64,fid:82}),c.writeI64(BigInt(a.encryption_error_frames_alloc)),c.writeFieldEnd());a.encryption_error_frames_invalid_params!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_invalid_params",ftype:(g||(g=b("ThriftTypes"))).I64,fid:83}),c.writeI64(BigInt(a.encryption_error_frames_invalid_params)),c.writeFieldEnd());a.encryption_error_frames_cipher!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_cipher",ftype:(g||(g=b("ThriftTypes"))).I64,fid:84}),c.writeI64(BigInt(a.encryption_error_frames_cipher)),c.writeFieldEnd());a.encryption_error_frames_parse!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_parse",ftype:(g||(g=b("ThriftTypes"))).I64,fid:85}),c.writeI64(BigInt(a.encryption_error_frames_parse)),c.writeFieldEnd());a.encryption_error_frames_invalid_key!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_invalid_key",ftype:(g||(g=b("ThriftTypes"))).I64,fid:86}),c.writeI64(BigInt(a.encryption_error_frames_invalid_key)),c.writeFieldEnd());a.encryption_error_frames_cipher_auth!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_cipher_auth",ftype:(g||(g=b("ThriftTypes"))).I64,fid:87}),c.writeI64(BigInt(a.encryption_error_frames_cipher_auth)),c.writeFieldEnd());a.encryption_error_frames_escape_data!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_escape_data",ftype:(g||(g=b("ThriftTypes"))).I64,fid:88}),c.writeI64(BigInt(a.encryption_error_frames_escape_data)),c.writeFieldEnd());a.encryption_error_frames_unsupported_codec!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_unsupported_codec",ftype:(g||(g=b("ThriftTypes"))).I64,fid:89}),c.writeI64(BigInt(a.encryption_error_frames_unsupported_codec)),c.writeFieldEnd());a.encryption_error_frames_unknown!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_unknown",ftype:(g||(g=b("ThriftTypes"))).I64,fid:90}),c.writeI64(BigInt(a.encryption_error_frames_unknown)),c.writeFieldEnd());a.decryption_total_frames_data_channel!=null&&(c.writeFieldBegin({fname:"decryption_total_frames_data_channel",ftype:(g||(g=b("ThriftTypes"))).I64,fid:91}),c.writeI64(BigInt(a.decryption_total_frames_data_channel)),c.writeFieldEnd());a.decryption_total_error_frames_data_channel!=null&&(c.writeFieldBegin({fname:"decryption_total_error_frames_data_channel",ftype:(g||(g=b("ThriftTypes"))).I64,fid:92}),c.writeI64(BigInt(a.decryption_total_error_frames_data_channel)),c.writeFieldEnd());a.decryption_error_frames_data_channel_alloc!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_alloc",ftype:(g||(g=b("ThriftTypes"))).I64,fid:93}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_alloc)),c.writeFieldEnd());a.decryption_error_frames_data_channel_invalid_params!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_params",ftype:(g||(g=b("ThriftTypes"))).I64,fid:94}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_invalid_params)),c.writeFieldEnd());a.decryption_error_frames_data_channel_cipher!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_cipher",ftype:(g||(g=b("ThriftTypes"))).I64,fid:95}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_cipher)),c.writeFieldEnd());a.decryption_error_frames_data_channel_parse!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_parse",ftype:(g||(g=b("ThriftTypes"))).I64,fid:96}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_parse)),c.writeFieldEnd());a.decryption_error_frames_data_channel_invalid_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_key",ftype:(g||(g=b("ThriftTypes"))).I64,fid:97}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_invalid_key)),c.writeFieldEnd());a.decryption_error_frames_data_channel_missing_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_missing_key",ftype:(g||(g=b("ThriftTypes"))).I64,fid:98}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_missing_key)),c.writeFieldEnd());a.decryption_error_frames_data_channel_out_of_ratchet_space!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_out_of_ratchet_space",ftype:(g||(g=b("ThriftTypes"))).I64,fid:99}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_out_of_ratchet_space)),c.writeFieldEnd());a.decryption_error_frames_data_channel_cipher_auth!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_cipher_auth",ftype:(g||(g=b("ThriftTypes"))).I64,fid:100}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_cipher_auth)),c.writeFieldEnd());a.decryption_error_frames_data_channel_frame_too_old!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_frame_too_old",ftype:(g||(g=b("ThriftTypes"))).I64,fid:101}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_frame_too_old)),c.writeFieldEnd());a.decryption_error_frames_data_channel_seen_frame!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_seen_frame",ftype:(g||(g=b("ThriftTypes"))).I64,fid:102}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_seen_frame)),c.writeFieldEnd());a.decryption_error_frames_data_channel_invalid_frame!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_frame",ftype:(g||(g=b("ThriftTypes"))).I64,fid:103}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_invalid_frame)),c.writeFieldEnd());a.decryption_error_frames_data_channel_setting_invalid_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_setting_invalid_key",ftype:(g||(g=b("ThriftTypes"))).I64,fid:104}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_setting_invalid_key)),c.writeFieldEnd());a.decryption_error_frames_data_channel_setting_existing_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_setting_existing_key",ftype:(g||(g=b("ThriftTypes"))).I64,fid:105}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_setting_existing_key)),c.writeFieldEnd());a.decryption_error_frames_data_channel_escape_data!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_escape_data",ftype:(g||(g=b("ThriftTypes"))).I64,fid:106}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_escape_data)),c.writeFieldEnd());a.decryption_error_frames_data_channel_deescape_data!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_deescape_data",ftype:(g||(g=b("ThriftTypes"))).I64,fid:107}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_deescape_data)),c.writeFieldEnd());a.decryption_error_frames_data_channel_parse_frame_or_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_parse_frame_or_key",ftype:(g||(g=b("ThriftTypes"))).I64,fid:108}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_parse_frame_or_key)),c.writeFieldEnd());a.decryption_error_frames_data_channel_unknown!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_unknown",ftype:(g||(g=b("ThriftTypes"))).I64,fid:109}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_unknown)),c.writeFieldEnd());a.decryption_unencrypted_frames_data_channel!=null&&(c.writeFieldBegin({fname:"decryption_unencrypted_frames_data_channel",ftype:(g||(g=b("ThriftTypes"))).I64,fid:110}),c.writeI64(BigInt(a.decryption_unencrypted_frames_data_channel)),c.writeFieldEnd());a.encryption_total_frames_data_channel!=null&&(c.writeFieldBegin({fname:"encryption_total_frames_data_channel",ftype:(g||(g=b("ThriftTypes"))).I64,fid:111}),c.writeI64(BigInt(a.encryption_total_frames_data_channel)),c.writeFieldEnd());a.encryption_error_frames_data_channel!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel",ftype:(g||(g=b("ThriftTypes"))).I64,fid:112}),c.writeI64(BigInt(a.encryption_error_frames_data_channel)),c.writeFieldEnd());a.encryption_total_error_frames_data_channel!=null&&(c.writeFieldBegin({fname:"encryption_total_error_frames_data_channel",ftype:(g||(g=b("ThriftTypes"))).I64,fid:113}),c.writeI64(BigInt(a.encryption_total_error_frames_data_channel)),c.writeFieldEnd());a.encryption_error_frames_data_channel_alloc!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_alloc",ftype:(g||(g=b("ThriftTypes"))).I64,fid:114}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_alloc)),c.writeFieldEnd());a.encryption_error_frames_data_channel_invalid_params!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_invalid_params",ftype:(g||(g=b("ThriftTypes"))).I64,fid:115}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_invalid_params)),c.writeFieldEnd());a.encryption_error_frames_data_channel_cipher!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_cipher",ftype:(g||(g=b("ThriftTypes"))).I64,fid:116}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_cipher)),c.writeFieldEnd());a.encryption_error_frames_data_channel_parse!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_parse",ftype:(g||(g=b("ThriftTypes"))).I64,fid:117}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_parse)),c.writeFieldEnd());a.encryption_error_frames_data_channel_invalid_key!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_invalid_key",ftype:(g||(g=b("ThriftTypes"))).I64,fid:118}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_invalid_key)),c.writeFieldEnd());a.encryption_error_frames_data_channel_cipher_auth!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_cipher_auth",ftype:(g||(g=b("ThriftTypes"))).I64,fid:119}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_cipher_auth)),c.writeFieldEnd());a.encryption_error_frames_data_channel_escape_data!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_escape_data",ftype:(g||(g=b("ThriftTypes"))).I64,fid:120}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_escape_data)),c.writeFieldEnd());a.encryption_error_frames_data_channel_unsupported_codec!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_unsupported_codec",ftype:(g||(g=b("ThriftTypes"))).I64,fid:121}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_unsupported_codec)),c.writeFieldEnd());a.encryption_error_frames_data_channel_unknown!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_unknown",ftype:(g||(g=b("ThriftTypes"))).I64,fid:122}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_unknown)),c.writeFieldEnd());a.num_removed_data_decryptors!=null&&(c.writeFieldBegin({fname:"num_removed_data_decryptors",ftype:(g||(g=b("ThriftTypes"))).I64,fid:123}),c.writeI64(BigInt(a.num_removed_data_decryptors)),c.writeFieldEnd());a.num_frame_decryptor_with_unencrypted_data!=null&&(c.writeFieldBegin({fname:"num_frame_decryptor_with_unencrypted_data",ftype:(g||(g=b("ThriftTypes"))).I64,fid:124}),c.writeI64(BigInt(a.num_frame_decryptor_with_unencrypted_data)),c.writeFieldEnd());a.num_removed_decryptors!=null&&(c.writeFieldBegin({fname:"num_removed_decryptors",ftype:(g||(g=b("ThriftTypes"))).I64,fid:125}),c.writeI64(BigInt(a.num_removed_decryptors)),c.writeFieldEnd());a.data_channel_encryption_not_ready_in_mandated_calls_error!=null&&(c.writeFieldBegin({fname:"data_channel_encryption_not_ready_in_mandated_calls_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:126}),c.writeI64(BigInt(a.data_channel_encryption_not_ready_in_mandated_calls_error)),c.writeFieldEnd());a.num_e2ee_message_total_encrypt!=null&&(c.writeFieldBegin({fname:"num_e2ee_message_total_encrypt",ftype:(g||(g=b("ThriftTypes"))).I64,fid:127}),c.writeI64(BigInt(a.num_e2ee_message_total_encrypt)),c.writeFieldEnd());a.num_e2ee_message_error_encrypt!=null&&(c.writeFieldBegin({fname:"num_e2ee_message_error_encrypt",ftype:(g||(g=b("ThriftTypes"))).I64,fid:128}),c.writeI64(BigInt(a.num_e2ee_message_error_encrypt)),c.writeFieldEnd());a.num_e2ee_message_total_decrypt!=null&&(c.writeFieldBegin({fname:"num_e2ee_message_total_decrypt",ftype:(g||(g=b("ThriftTypes"))).I64,fid:129}),c.writeI64(BigInt(a.num_e2ee_message_total_decrypt)),c.writeFieldEnd());a.num_e2ee_message_error_decrypt!=null&&(c.writeFieldBegin({fname:"num_e2ee_message_error_decrypt",ftype:(g||(g=b("ThriftTypes"))).I64,fid:130}),c.writeI64(BigInt(a.num_e2ee_message_error_decrypt)),c.writeFieldEnd());a.negotiate_off_time!=null&&(c.writeFieldBegin({fname:"negotiate_off_time",ftype:(g||(g=b("ThriftTypes"))).I64,fid:131}),c.writeI64(BigInt(a.negotiate_off_time)),c.writeFieldEnd());a.negotiated_version!=null&&(c.writeFieldBegin({fname:"negotiated_version",ftype:(g||(g=b("ThriftTypes"))).I64,fid:132}),c.writeI64(BigInt(a.negotiated_version)),c.writeFieldEnd());a.decryptor_removed_time!=null&&(c.writeFieldBegin({fname:"decryptor_removed_time",ftype:(g||(g=b("ThriftTypes"))).I64,fid:133}),c.writeI64(BigInt(a.decryptor_removed_time)),c.writeFieldEnd());a.is_e2ee_mandated_group!=null&&(c.writeFieldBegin({fname:"is_e2ee_mandated_group",ftype:(g||(g=b("ThriftTypes"))).I64,fid:134}),c.writeI64(BigInt(a.is_e2ee_mandated_group)),c.writeFieldEnd());if(a.events!=null){c.writeFieldBegin({fname:"events",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:135});c.writeListBegin({etype:g.I64,size:a.events.length});for(var d=a.events,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeI64(BigInt(h))}c.writeListEnd();c.writeFieldEnd()}a.num_e2ee_message_received!=null&&(c.writeFieldBegin({fname:"num_e2ee_message_received",ftype:(g||(g=b("ThriftTypes"))).I64,fid:136}),c.writeI64(BigInt(a.num_e2ee_message_received)),c.writeFieldEnd());a.num_e2ee_message_error_decrypt_non_e2ee_received!=null&&(c.writeFieldBegin({fname:"num_e2ee_message_error_decrypt_non_e2ee_received",ftype:(g||(g=b("ThriftTypes"))).I64,fid:137}),c.writeI64(BigInt(a.num_e2ee_message_error_decrypt_non_e2ee_received)),c.writeFieldEnd());a.num_e2ee_message_error_decrypt_missing_sender!=null&&(c.writeFieldBegin({fname:"num_e2ee_message_error_decrypt_missing_sender",ftype:(g||(g=b("ThriftTypes"))).I64,fid:138}),c.writeI64(BigInt(a.num_e2ee_message_error_decrypt_missing_sender)),c.writeFieldEnd());a.num_e2ee_message_error_decrypt_exceeding_retry!=null&&(c.writeFieldBegin({fname:"num_e2ee_message_error_decrypt_exceeding_retry",ftype:(g||(g=b("ThriftTypes"))).I64,fid:139}),c.writeI64(BigInt(a.num_e2ee_message_error_decrypt_exceeding_retry)),c.writeFieldEnd());a.max_media_channel_key_message_retry_count!=null&&(c.writeFieldBegin({fname:"max_media_channel_key_message_retry_count",ftype:(g||(g=b("ThriftTypes"))).I64,fid:140}),c.writeI64(BigInt(a.max_media_channel_key_message_retry_count)),c.writeFieldEnd());a.g_e2ee_total_count_of_extra_decryptions!=null&&(c.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_decryptions",ftype:(g||(g=b("ThriftTypes"))).I64,fid:141}),c.writeI64(BigInt(a.g_e2ee_total_count_of_extra_decryptions)),c.writeFieldEnd());a.g_e2ee_total_count_of_extra_decryptions_failures!=null&&(c.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_decryptions_failures",ftype:(g||(g=b("ThriftTypes"))).I64,fid:142}),c.writeI64(BigInt(a.g_e2ee_total_count_of_extra_decryptions_failures)),c.writeFieldEnd());a.g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key!=null&&(c.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key",ftype:(g||(g=b("ThriftTypes"))).I64,fid:143}),c.writeI64(BigInt(a.g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key)),c.writeFieldEnd());a.g_e2ee_decryption_error_frames_empty_supported_codes!=null&&(c.writeFieldBegin({fname:"g_e2ee_decryption_error_frames_empty_supported_codes",ftype:(g||(g=b("ThriftTypes"))).I64,fid:144}),c.writeI64(BigInt(a.g_e2ee_decryption_error_frames_empty_supported_codes)),c.writeFieldEnd());a.g_e2ee_encryption_error_frames_empty!=null&&(c.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_empty",ftype:(g||(g=b("ThriftTypes"))).I64,fid:146}),c.writeI64(BigInt(a.g_e2ee_encryption_error_frames_empty)),c.writeFieldEnd());a.g_e2ee_encryption_error_frames_empty_nalu_blocks!=null&&(c.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_empty_nalu_blocks",ftype:(g||(g=b("ThriftTypes"))).I64,fid:147}),c.writeI64(BigInt(a.g_e2ee_encryption_error_frames_empty_nalu_blocks)),c.writeFieldEnd());a.g_e2ee_encryption_error_frames_invalid_h264!=null&&(c.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_invalid_h264",ftype:(g||(g=b("ThriftTypes"))).I64,fid:148}),c.writeI64(BigInt(a.g_e2ee_encryption_error_frames_invalid_h264)),c.writeFieldEnd());a.g_e2ee_encryption_error_frames_invalid_h265!=null&&(c.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_invalid_h265",ftype:(g||(g=b("ThriftTypes"))).I64,fid:149}),c.writeI64(BigInt(a.g_e2ee_encryption_error_frames_invalid_h265)),c.writeFieldEnd());a.g_e2ee_encryption_error_frames_invalid_h265_nalu_block!=null&&(c.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_invalid_h265_nalu_block",ftype:(g||(g=b("ThriftTypes"))).I64,fid:150}),c.writeI64(BigInt(a.g_e2ee_encryption_error_frames_invalid_h265_nalu_block)),c.writeFieldEnd());a.g_e2ee_total_count_of_extra_encryptions!=null&&(c.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_encryptions",ftype:(g||(g=b("ThriftTypes"))).I64,fid:151}),c.writeI64(BigInt(a.g_e2ee_total_count_of_extra_encryptions)),c.writeFieldEnd());a.g_e2ee_total_count_of_extra_encryptions_failures!=null&&(c.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_encryptions_failures",ftype:(g||(g=b("ThriftTypes"))).I64,fid:152}),c.writeI64(BigInt(a.g_e2ee_total_count_of_extra_encryptions_failures)),c.writeFieldEnd());a.encryption_error_frames_no_active_key!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_no_active_key",ftype:(g||(g=b("ThriftTypes"))).I64,fid:153}),c.writeI64(BigInt(a.encryption_error_frames_no_active_key)),c.writeFieldEnd());a.key_negotiation_protocol!=null&&(c.writeFieldBegin({fname:"key_negotiation_protocol",ftype:(g||(g=b("ThriftTypes"))).I64,fid:154}),c.writeI64(BigInt(a.key_negotiation_protocol)),c.writeFieldEnd());a.key_messages_received_via_signaling!=null&&(c.writeFieldBegin({fname:"key_messages_received_via_signaling",ftype:(g||(g=b("ThriftTypes"))).I64,fid:155}),c.writeI64(BigInt(a.key_messages_received_via_signaling)),c.writeFieldEnd());a.key_messages_received_via_media!=null&&(c.writeFieldBegin({fname:"key_messages_received_via_media",ftype:(g||(g=b("ThriftTypes"))).I64,fid:156}),c.writeI64(BigInt(a.key_messages_received_via_media)),c.writeFieldEnd());a.key_messages_received_via_signaling_joiner!=null&&(c.writeFieldBegin({fname:"key_messages_received_via_signaling_joiner",ftype:(g||(g=b("ThriftTypes"))).I64,fid:157}),c.writeI64(BigInt(a.key_messages_received_via_signaling_joiner)),c.writeFieldEnd());a.key_messages_received_via_media_joiner!=null&&(c.writeFieldBegin({fname:"key_messages_received_via_media_joiner",ftype:(g||(g=b("ThriftTypes"))).I64,fid:158}),c.writeI64(BigInt(a.key_messages_received_via_media_joiner)),c.writeFieldEnd());a.g_e2ee_participant_hash_verification_failed_error!=null&&(c.writeFieldBegin({fname:"g_e2ee_participant_hash_verification_failed_error",ftype:(g||(g=b("ThriftTypes"))).I64,fid:159}),c.writeI64(BigInt(a.g_e2ee_participant_hash_verification_failed_error)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function c(a,c){c.writeStructBegin("E2eeMetrics");c.writeFieldBegin({fname:"p2p_e2ee",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.p2p_e2ee!=null)j(a.p2p_e2ee,c);else{var d=h();j(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"group_e2ee",ftype:g.STRUCT,fid:2});if(a.group_e2ee!=null)k(a.group_e2ee,c);else{d=i();k(d,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I64?c.engine_type=a.readI64().toString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I64?c.status=a.readI64().toString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I64?c.version=a.readI64().toString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I64?c.gen_prekey_bundle_time_ms=a.readI64().toString():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I64?c.encrypted_msg_time_ms=a.readI64().toString():a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).I64?c.decrypted_msg_time_ms=a.readI64().toString():a.skip(e);break;case 7:e===(g||(g=b("ThriftTypes"))).I64?c.process_sdp_crypto_time_ms=a.readI64().toString():a.skip(e);break;case 8:e===(g||(g=b("ThriftTypes"))).I64?c.create_crypto_offer_time_ms=a.readI64().toString():a.skip(e);break;case 9:e===(g||(g=b("ThriftTypes"))).I64?c.create_crypto_answer_time_ms=a.readI64().toString():a.skip(e);break;case 10:e===(g||(g=b("ThriftTypes"))).I64?c.get_ik_time_ms=a.readI64().toString():a.skip(e);break;case 11:e===(g||(g=b("ThriftTypes"))).I64?c.peer_id=a.readI64().toString():a.skip(e);break;case 12:e===(g||(g=b("ThriftTypes"))).I64?c.peer_connection_index=a.readI64().toString():a.skip(e);break;case 13:e===(g||(g=b("ThriftTypes"))).I64?c.srtp_crypto_suite=a.readI64().toString():a.skip(e);break;case 14:e===(g||(g=b("ThriftTypes"))).I64?c.engine_error=a.readI64().toString():a.skip(e);break;case 15:e===(g||(g=b("ThriftTypes"))).I64?c.libsignal_error=a.readI64().toString():a.skip(e);break;case 16:e===(g||(g=b("ThriftTypes"))).I64?c.identity_key_mode=a.readI64().toString():a.skip(e);break;case 17:e===(g||(g=b("ThriftTypes"))).I64?c.identity_key_num_persistent=a.readI64().toString():a.skip(e);break;case 18:e===(g||(g=b("ThriftTypes"))).I64?c.identity_key_num_validated=a.readI64().toString():a.skip(e);break;case 19:e===(g||(g=b("ThriftTypes"))).I64?c.identity_key_num_saved=a.readI64().toString():a.skip(e);break;case 20:e===(g||(g=b("ThriftTypes"))).I64?c.identity_key_num_existing=a.readI64().toString():a.skip(e);break;case 21:e===(g||(g=b("ThriftTypes"))).I64?c.is_e2ee_mandated=a.readI64().toString():a.skip(e);break;case 22:e===(g||(g=b("ThriftTypes"))).I64?c.local_trace_id=a.readI64().toString():a.skip(e);break;case 23:e===(g||(g=b("ThriftTypes"))).I64?c.remote_trace_id=a.readI64().toString():a.skip(e);break;case 24:e===(g||(g=b("ThriftTypes"))).I64?c.local_device_id=a.readI64().toString():a.skip(e);break;case 25:e===(g||(g=b("ThriftTypes"))).I64?c.remote_device_id=a.readI64().toString():a.skip(e);break;case 26:if(e===(g||(g=b("ThriftTypes"))).LIST){c.events=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readI64().toString();c.events.push(h)}}else a.skip(e);break;case 27:e===(g||(g=b("ThriftTypes"))).I64?c.gen_dtls_auth_info_status=a.readI64().toString():a.skip(e);break;case 28:e===(g||(g=b("ThriftTypes"))).I64?c.gen_dtls_auth_info_libsignal_status=a.readI64().toString():a.skip(e);break;case 29:e===(g||(g=b("ThriftTypes"))).I64?c.gen_dtls_auth_info_time_ms=a.readI64().toString():a.skip(e);break;case 30:e===(g||(g=b("ThriftTypes"))).I64?c.verify_dtls_auth_info_status=a.readI64().toString():a.skip(e);break;case 31:e===(g||(g=b("ThriftTypes"))).I64?c.verify_dtls_auth_info_libsignal_status=a.readI64().toString():a.skip(e);break;case 32:e===(g||(g=b("ThriftTypes"))).I64?c.verify_dtls_auth_info_time_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function m(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I64?c.received_key_message_counter=a.readI64().toString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I64?c.sent_key_message_counter=a.readI64().toString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I64?c.cached_key_message_counter=a.readI64().toString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I64?c.used_cached_key_counter=a.readI64().toString():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I64?c.unused_smu_counter=a.readI64().toString():a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).I64?c.missing_key_message_counter=a.readI64().toString():a.skip(e);break;case 7:e===(g||(g=b("ThriftTypes"))).I64?c.negotiate_off_status=a.readI64().toString():a.skip(e);break;case 8:e===(g||(g=b("ThriftTypes"))).I64?c.cipher_suite_status=a.readI64().toString():a.skip(e);break;case 9:e===(g||(g=b("ThriftTypes"))).I64?c.decrypt_used_cached_session_counter=a.readI64().toString():a.skip(e);break;case 10:e===(g||(g=b("ThriftTypes"))).I64?c.encrypt_used_cached_session_counter=a.readI64().toString():a.skip(e);break;case 11:e===(g||(g=b("ThriftTypes"))).I64?c.sent_ack_message_counter=a.readI64().toString():a.skip(e);break;case 12:e===(g||(g=b("ThriftTypes"))).I64?c.reuse_ackd_uid_counter=a.readI64().toString():a.skip(e);break;case 13:e===(g||(g=b("ThriftTypes"))).I64?c.total_uids_created_counter=a.readI64().toString():a.skip(e);break;case 14:e===(g||(g=b("ThriftTypes"))).I64?c.generate_chain_key_failed_error=a.readI64().toString():a.skip(e);break;case 15:e===(g||(g=b("ThriftTypes"))).I64?c.set_chain_key_failed_error=a.readI64().toString():a.skip(e);break;case 16:e===(g||(g=b("ThriftTypes"))).I64?c.key_provider_not_found_error=a.readI64().toString():a.skip(e);break;case 17:e===(g||(g=b("ThriftTypes"))).I64?c.key_message_parse_failed_error=a.readI64().toString():a.skip(e);break;case 18:e===(g||(g=b("ThriftTypes"))).I64?c.empty_pkb_result_error=a.readI64().toString():a.skip(e);break;case 19:e===(g||(g=b("ThriftTypes"))).I64?c.empty_encrypt_result_error=a.readI64().toString():a.skip(e);break;case 20:e===(g||(g=b("ThriftTypes"))).I64?c.empty_decrypt_result_error=a.readI64().toString():a.skip(e);break;case 21:e===(g||(g=b("ThriftTypes"))).I64?c.empty_version_error=a.readI64().toString():a.skip(e);break;case 22:e===(g||(g=b("ThriftTypes"))).I64?c.unsupported_version_error=a.readI64().toString():a.skip(e);break;case 23:e===(g||(g=b("ThriftTypes"))).I64?c.midcall_version_change_error=a.readI64().toString():a.skip(e);break;case 24:e===(g||(g=b("ThriftTypes"))).I64?c.inconsistent_remote_maps_error=a.readI64().toString():a.skip(e);break;case 25:e===(g||(g=b("ThriftTypes"))).I64?c.key_message_pkb_mismatch_error=a.readI64().toString():a.skip(e);break;case 26:e===(g||(g=b("ThriftTypes"))).I64?c.no_key_or_ack_in_e2ee_message_error=a.readI64().toString():a.skip(e);break;case 27:e===(g||(g=b("ThriftTypes"))).I64?c.receiver_key_provider_not_found_error=a.readI64().toString():a.skip(e);break;case 28:e===(g||(g=b("ThriftTypes"))).I64?c.pkb_parse_failed_error=a.readI64().toString():a.skip(e);break;case 29:e===(g||(g=b("ThriftTypes"))).I64?c.message_deserialized_failed_error=a.readI64().toString():a.skip(e);break;case 30:e===(g||(g=b("ThriftTypes"))).I64?c.decrypt_no_identity_key_and_cached_session_not_used_error=a.readI64().toString():a.skip(e);break;case 31:e===(g||(g=b("ThriftTypes"))).I64?c.encrypt_no_identity_key_and_cached_session_not_used_error=a.readI64().toString():a.skip(e);break;case 32:e===(g||(g=b("ThriftTypes"))).I64?c.decrypt_ack_wrong_message_error=a.readI64().toString():a.skip(e);break;case 33:e===(g||(g=b("ThriftTypes"))).I64?c.invalid_uid_received_error=a.readI64().toString():a.skip(e);break;case 34:e===(g||(g=b("ThriftTypes"))).I64?c.ack_for_absent_user=a.readI64().toString():a.skip(e);break;case 35:e===(g||(g=b("ThriftTypes"))).I64?c.uid_not_awaiting_ack_error=a.readI64().toString():a.skip(e);break;case 36:e===(g||(g=b("ThriftTypes"))).I64?c.decrypt_ack_error=a.readI64().toString():a.skip(e);break;case 37:e===(g||(g=b("ThriftTypes"))).I64?c.empty_decrypt_result_ack_error=a.readI64().toString():a.skip(e);break;case 38:e===(g||(g=b("ThriftTypes"))).I64?c.decrypt_ack_cached_session_not_used_error=a.readI64().toString():a.skip(e);break;case 39:e===(g||(g=b("ThriftTypes"))).I64?c.encrypt_ack_error=a.readI64().toString():a.skip(e);break;case 40:e===(g||(g=b("ThriftTypes"))).I64?c.empty_encrypt_result_ack_error=a.readI64().toString():a.skip(e);break;case 41:e===(g||(g=b("ThriftTypes"))).I64?c.invalid_message_type_error=a.readI64().toString():a.skip(e);break;case 42:e===(g||(g=b("ThriftTypes"))).I64?c.server_state_deserialized_failed_error=a.readI64().toString():a.skip(e);break;case 43:e===(g||(g=b("ThriftTypes"))).I64?c.crypto_engine_failure_error=a.readI64().toString():a.skip(e);break;case 44:e===(g||(g=b("ThriftTypes"))).I64?c.empty_e2ee_client_state_error=a.readI64().toString():a.skip(e);break;case 45:e===(g||(g=b("ThriftTypes"))).I64?c.group_e2ee_negotiated=a.readI64().toString():a.skip(e);break;case 46:e===(g||(g=b("ThriftTypes"))).I64?c.negotiation_mode_kn=a.readI64().toString():a.skip(e);break;case 47:e===(g||(g=b("ThriftTypes"))).I64?c.group_e2ee_setup_status=a.readI64().toString():a.skip(e);break;case 48:e===(g||(g=b("ThriftTypes"))).I64?c.enable_group_e2ee=a.readI64().toString():a.skip(e);break;case 49:e===(g||(g=b("ThriftTypes"))).I64?c.identity_key_mode_group=a.readI64().toString():a.skip(e);break;case 50:e===(g||(g=b("ThriftTypes"))).I64?c.identity_key_num_persistent_group=a.readI64().toString():a.skip(e);break;case 51:e===(g||(g=b("ThriftTypes"))).I64?c.identity_key_num_validated_group=a.readI64().toString():a.skip(e);break;case 52:e===(g||(g=b("ThriftTypes"))).I64?c.identity_key_num_saved_group=a.readI64().toString():a.skip(e);break;case 53:e===(g||(g=b("ThriftTypes"))).I64?c.identity_key_num_existing_group=a.readI64().toString():a.skip(e);break;case 54:e===(g||(g=b("ThriftTypes"))).I64?c.max_key_message_latency_ms=a.readI64().toString():a.skip(e);break;case 55:e===(g||(g=b("ThriftTypes"))).I64?c.max_key_message_latency_ms_joiner=a.readI64().toString():a.skip(e);break;case 56:e===(g||(g=b("ThriftTypes"))).I64?c.max_smu_to_key_message_latency_ms=a.readI64().toString():a.skip(e);break;case 57:e===(g||(g=b("ThriftTypes"))).I64?c.process_smu_time_ms=a.readI64().toString():a.skip(e);break;case 58:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_total_frames=a.readI64().toString():a.skip(e);break;case 59:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_total_error_frames=a.readI64().toString():a.skip(e);break;case 60:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_alloc=a.readI64().toString():a.skip(e);break;case 61:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_invalid_params=a.readI64().toString():a.skip(e);break;case 62:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_cipher=a.readI64().toString():a.skip(e);break;case 63:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_parse=a.readI64().toString():a.skip(e);break;case 64:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_invalid_key=a.readI64().toString():a.skip(e);break;case 65:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_missing_key=a.readI64().toString():a.skip(e);break;case 66:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_out_of_ratchet_space=a.readI64().toString():a.skip(e);break;case 67:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_cipher_auth=a.readI64().toString():a.skip(e);break;case 68:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_frame_too_old=a.readI64().toString():a.skip(e);break;case 69:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_seen_frame=a.readI64().toString():a.skip(e);break;case 70:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_invalid_frame=a.readI64().toString():a.skip(e);break;case 71:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_setting_invalid_key=a.readI64().toString():a.skip(e);break;case 72:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_setting_existing_key=a.readI64().toString():a.skip(e);break;case 73:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_escape_data=a.readI64().toString():a.skip(e);break;case 74:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_deescape_data=a.readI64().toString():a.skip(e);break;case 75:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_parse_frame_or_key=a.readI64().toString():a.skip(e);break;case 76:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_unknown=a.readI64().toString():a.skip(e);break;case 77:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_unencrypted_frames=a.readI64().toString():a.skip(e);break;case 78:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_total_frames=a.readI64().toString():a.skip(e);break;case 79:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames=a.readI64().toString():a.skip(e);break;case 80:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_escape_bytes=a.readI64().toString():a.skip(e);break;case 81:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_total_error_frames=a.readI64().toString():a.skip(e);break;case 82:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_alloc=a.readI64().toString():a.skip(e);break;case 83:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_invalid_params=a.readI64().toString():a.skip(e);break;case 84:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_cipher=a.readI64().toString():a.skip(e);break;case 85:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_parse=a.readI64().toString():a.skip(e);break;case 86:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_invalid_key=a.readI64().toString():a.skip(e);break;case 87:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_cipher_auth=a.readI64().toString():a.skip(e);break;case 88:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_escape_data=a.readI64().toString():a.skip(e);break;case 89:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_unsupported_codec=a.readI64().toString():a.skip(e);break;case 90:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_unknown=a.readI64().toString():a.skip(e);break;case 91:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_total_frames_data_channel=a.readI64().toString():a.skip(e);break;case 92:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_total_error_frames_data_channel=a.readI64().toString():a.skip(e);break;case 93:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_alloc=a.readI64().toString():a.skip(e);break;case 94:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_invalid_params=a.readI64().toString():a.skip(e);break;case 95:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_cipher=a.readI64().toString():a.skip(e);break;case 96:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_parse=a.readI64().toString():a.skip(e);break;case 97:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_invalid_key=a.readI64().toString():a.skip(e);break;case 98:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_missing_key=a.readI64().toString():a.skip(e);break;case 99:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_out_of_ratchet_space=a.readI64().toString():a.skip(e);break;case 100:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_cipher_auth=a.readI64().toString():a.skip(e);break;case 101:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_frame_too_old=a.readI64().toString():a.skip(e);break;case 102:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_seen_frame=a.readI64().toString():a.skip(e);break;case 103:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_invalid_frame=a.readI64().toString():a.skip(e);break;case 104:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_setting_invalid_key=a.readI64().toString():a.skip(e);break;case 105:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_setting_existing_key=a.readI64().toString():a.skip(e);break;case 106:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_escape_data=a.readI64().toString():a.skip(e);break;case 107:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_deescape_data=a.readI64().toString():a.skip(e);break;case 108:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_parse_frame_or_key=a.readI64().toString():a.skip(e);break;case 109:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_error_frames_data_channel_unknown=a.readI64().toString():a.skip(e);break;case 110:e===(g||(g=b("ThriftTypes"))).I64?c.decryption_unencrypted_frames_data_channel=a.readI64().toString():a.skip(e);break;case 111:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_total_frames_data_channel=a.readI64().toString():a.skip(e);break;case 112:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_data_channel=a.readI64().toString():a.skip(e);break;case 113:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_total_error_frames_data_channel=a.readI64().toString():a.skip(e);break;case 114:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_data_channel_alloc=a.readI64().toString():a.skip(e);break;case 115:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_data_channel_invalid_params=a.readI64().toString():a.skip(e);break;case 116:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_data_channel_cipher=a.readI64().toString():a.skip(e);break;case 117:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_data_channel_parse=a.readI64().toString():a.skip(e);break;case 118:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_data_channel_invalid_key=a.readI64().toString():a.skip(e);break;case 119:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_data_channel_cipher_auth=a.readI64().toString():a.skip(e);break;case 120:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_data_channel_escape_data=a.readI64().toString():a.skip(e);break;case 121:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_data_channel_unsupported_codec=a.readI64().toString():a.skip(e);break;case 122:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_data_channel_unknown=a.readI64().toString():a.skip(e);break;case 123:e===(g||(g=b("ThriftTypes"))).I64?c.num_removed_data_decryptors=a.readI64().toString():a.skip(e);break;case 124:e===(g||(g=b("ThriftTypes"))).I64?c.num_frame_decryptor_with_unencrypted_data=a.readI64().toString():a.skip(e);break;case 125:e===(g||(g=b("ThriftTypes"))).I64?c.num_removed_decryptors=a.readI64().toString():a.skip(e);break;case 126:e===(g||(g=b("ThriftTypes"))).I64?c.data_channel_encryption_not_ready_in_mandated_calls_error=a.readI64().toString():a.skip(e);break;case 127:e===(g||(g=b("ThriftTypes"))).I64?c.num_e2ee_message_total_encrypt=a.readI64().toString():a.skip(e);break;case 128:e===(g||(g=b("ThriftTypes"))).I64?c.num_e2ee_message_error_encrypt=a.readI64().toString():a.skip(e);break;case 129:e===(g||(g=b("ThriftTypes"))).I64?c.num_e2ee_message_total_decrypt=a.readI64().toString():a.skip(e);break;case 130:e===(g||(g=b("ThriftTypes"))).I64?c.num_e2ee_message_error_decrypt=a.readI64().toString():a.skip(e);break;case 131:e===(g||(g=b("ThriftTypes"))).I64?c.negotiate_off_time=a.readI64().toString():a.skip(e);break;case 132:e===(g||(g=b("ThriftTypes"))).I64?c.negotiated_version=a.readI64().toString():a.skip(e);break;case 133:e===(g||(g=b("ThriftTypes"))).I64?c.decryptor_removed_time=a.readI64().toString():a.skip(e);break;case 134:e===(g||(g=b("ThriftTypes"))).I64?c.is_e2ee_mandated_group=a.readI64().toString():a.skip(e);break;case 135:if(e===(g||(g=b("ThriftTypes"))).LIST){c.events=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readI64().toString();c.events.push(h)}}else a.skip(e);break;case 136:e===(g||(g=b("ThriftTypes"))).I64?c.num_e2ee_message_received=a.readI64().toString():a.skip(e);break;case 137:e===(g||(g=b("ThriftTypes"))).I64?c.num_e2ee_message_error_decrypt_non_e2ee_received=a.readI64().toString():a.skip(e);break;case 138:e===(g||(g=b("ThriftTypes"))).I64?c.num_e2ee_message_error_decrypt_missing_sender=a.readI64().toString():a.skip(e);break;case 139:e===(g||(g=b("ThriftTypes"))).I64?c.num_e2ee_message_error_decrypt_exceeding_retry=a.readI64().toString():a.skip(e);break;case 140:e===(g||(g=b("ThriftTypes"))).I64?c.max_media_channel_key_message_retry_count=a.readI64().toString():a.skip(e);break;case 141:e===(g||(g=b("ThriftTypes"))).I64?c.g_e2ee_total_count_of_extra_decryptions=a.readI64().toString():a.skip(e);break;case 142:e===(g||(g=b("ThriftTypes"))).I64?c.g_e2ee_total_count_of_extra_decryptions_failures=a.readI64().toString():a.skip(e);break;case 143:e===(g||(g=b("ThriftTypes"))).I64?c.g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key=a.readI64().toString():a.skip(e);break;case 144:e===(g||(g=b("ThriftTypes"))).I64?c.g_e2ee_decryption_error_frames_empty_supported_codes=a.readI64().toString():a.skip(e);break;case 146:e===(g||(g=b("ThriftTypes"))).I64?c.g_e2ee_encryption_error_frames_empty=a.readI64().toString():a.skip(e);break;case 147:e===(g||(g=b("ThriftTypes"))).I64?c.g_e2ee_encryption_error_frames_empty_nalu_blocks=a.readI64().toString():a.skip(e);break;case 148:e===(g||(g=b("ThriftTypes"))).I64?c.g_e2ee_encryption_error_frames_invalid_h264=a.readI64().toString():a.skip(e);break;case 149:e===(g||(g=b("ThriftTypes"))).I64?c.g_e2ee_encryption_error_frames_invalid_h265=a.readI64().toString():a.skip(e);break;case 150:e===(g||(g=b("ThriftTypes"))).I64?c.g_e2ee_encryption_error_frames_invalid_h265_nalu_block=a.readI64().toString():a.skip(e);break;case 151:e===(g||(g=b("ThriftTypes"))).I64?c.g_e2ee_total_count_of_extra_encryptions=a.readI64().toString():a.skip(e);break;case 152:e===(g||(g=b("ThriftTypes"))).I64?c.g_e2ee_total_count_of_extra_encryptions_failures=a.readI64().toString():a.skip(e);break;case 153:e===(g||(g=b("ThriftTypes"))).I64?c.encryption_error_frames_no_active_key=a.readI64().toString():a.skip(e);break;case 154:e===(g||(g=b("ThriftTypes"))).I64?c.key_negotiation_protocol=a.readI64().toString():a.skip(e);break;case 155:e===(g||(g=b("ThriftTypes"))).I64?c.key_messages_received_via_signaling=a.readI64().toString():a.skip(e);break;case 156:e===(g||(g=b("ThriftTypes"))).I64?c.key_messages_received_via_media=a.readI64().toString():a.skip(e);break;case 157:e===(g||(g=b("ThriftTypes"))).I64?c.key_messages_received_via_signaling_joiner=a.readI64().toString():a.skip(e);break;case 158:e===(g||(g=b("ThriftTypes"))).I64?c.key_messages_received_via_media_joiner=a.readI64().toString():a.skip(e);break;case 159:e===(g||(g=b("ThriftTypes"))).I64?c.g_e2ee_participant_hash_verification_failed_error=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function d(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.p2p_e2ee=l(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.group_e2ee=m(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.p2p_e2ee===void 0&&(c.p2p_e2ee=h());c.group_e2ee===void 0&&(c.group_e2ee=i());return c}f.P2pE2eeMetrics$DefaultConstructor=h;f.GroupE2eeMetrics$DefaultConstructor=i;f.E2eeMetrics$DefaultConstructor=a;f.serializeP2pE2eeMetrics=j;f.serializeGroupE2eeMetrics=k;f.serializeE2eeMetrics=c;f.deserializeP2pE2eeMetrics=l;f.deserializeGroupE2eeMetrics=m;f.deserializeE2eeMetrics=d}),66);
__d("E2eeStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({NONE:0,NEGOTIATED:1,STATIC:2});d=a({NONE:0,MEDIA_CHANNEL_KEY_PROTOCOL:1});f=a({SENDER_KEY:0,SESSION_KEY:1});b=a({NOT_SET:0,CONTROL:1,TEST:2});a=a({ENABLED:0,DISABLED:1,FALLBACK:2});e.exports={E2eeKeyNegotiationProtocolEnum:f,E2eeStateCapabilitiesEnum:d,InfraMandatedExpStatus:b,KeyNegotiationModeEnum:c,SignalingKeyMessageProtocolEnum:a}}),null);
__d("ZenonDataUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return g(atob(a))};b=function(a){return btoa(h(a))};c=function(a){a=btoa(a);var b=a.indexOf("=");return b===-1?a:a.substring(0,b)};var g=function(a){a=a;var b=a.length,c=new Uint8Array(b);for(var d=0;d<b;d++)c[d]=a.charCodeAt(d);return c},h=function(a){var b="",c=a.byteLength;for(var d=0;d<c;d++)b+=String.fromCharCode(a[d]);return b};f.base64ToUint8Array=a;f.uint8ArrayToBase64=b;f.stringToBase64WithoutPadding=c;f.stringToUint8Array=g;f.uint8ArrayToString=h}),66);
__d("ZenonIceStatsParser",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=[];a=a.split("\r\n");a.forEach(function(a){g(a)&&b.push({gen:h(a),type:i(a)})});return b}function g(a){return a.indexOf("candidate:")>-1}function h(a){var b=0;a=a.match(/generation (\d+)/);a&&(b=parseInt(a[1],10));return b}function i(a){a=a.match(/typ (host|relay|srflx|prflx)/);if(a)return a[1];else return"unknown"}f.extractIceInfo=a}),66);
__d("fbwebrtc_ClientStack",[],(function(a,b,c,d,e,f){a=Object.freeze({OLD_CLIENT_PLATFORM_STACK:0,RSYS_X:1,IG_OLD_STACK:2,MLITE_OLD_STACK:3,SCOTCH:4,ZENON:5});f["default"]=a}),66);
__d("multiway_ApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({DENIED:0,APPROVED:1});f["default"]=a}),66);
__d("multiway_Capability",[],(function(a,b,c,d,e,f){a=Object.freeze({SUPPORT_AUDIO_DEPRECATED:0,SUPPORT_VIDEO_DEPRECATED:1,SUPPORT_EXPERIMENTS_IN_JOIN_RESPONSE:2,SUPPORT_NEW_PARTICIPANT_STATES:3,SUPPORT_SDP_RENEGOTIATION:4,SUPPORT_MWPP:5,REQUIRE_FULL_SDP_IN_SMU:6,SUPPORT_PRECONNECT:7,SUPPORT_MWPP_DEESCALATION:8,SUPPORT_PARTICIPANT_STATE_UNCALLABLE:9,SUPPORT_MULTIPLE_VIDEO_STREAMS:10,REQUIRE_FULL_SDP_IN_SMU_OPTIMIZED:11,SUPPORT_MULTISTREAM_FEC:12,SUPPORT_DELTA_SMU:13,REQUIRE_DEFAULT_CHANNEL_SCREENSHARE:14,SUPPORT_SCREENSHARE_FLAG_IN_JOIN_RESPONSE_AND_SMU:15,SUPPORT_TEMPORAL_LAYER_JBE:16,REQUIRES_P2P_RELAY_INFO_VIA_SIGNALING:17,SUPPORT_NUMERIC_TOPICS:18,SUPPORT_PSEUDO_QUIC_CONNECTION:19});f["default"]=a}),66);
__d("multiway_ClientEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,MEDIA_CONNECTED:1});f["default"]=a}),66);
__d("multiway_ConferenceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,GROUP:1,IGLIVE:8,IGVIDEOCALL:9,OCULUS:10,ROOM:15,DEBUGTOOL:16,DARWIN:19,CRUCIBLE:20,MBS_WA:21});f["default"]=a}),66);
__d("multiway_DeviceStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:0,NOT_SUPPORTED:1,IN_ANOTHER_CALL:10});f["default"]=a}),66);
__d("multiway_DismissReason",[],(function(a,b,c,d,e,f){a=Object.freeze({CALL_ENDED:0,ANSWERED_ON_ANOTHER_DEVICE:1,IN_ANOTHER_CALL:2,CONNECTION_DROPPED:3,REJECTED_ON_ANOTHER_DEVICE:4,REMOVED_BY_PARTICIPANT:5,REJECTED_BY_CALLEE:6,INTERNAL_ERROR:7,CALL_ENDED_BY_PRODUCT:9,JOIN_APPROVAL_DENIED:10,JOIN_APPROVAL_TIMEDOUT:11,UNSUPPORTED_VERSION:12,LIVE_NOT_ACKED:13,TX_ACK_TIMEDOUT:14,ANSWERED_BY_OTHER_USER:15,PARTICIPANT_SELF_TERMINATION:16,PARTICIPANT_REJOIN:17,LONG_LASTING_AUDIO_ISSUE:18,PRIMARY_ENDPOINT_HANGUP:19,RECONNECT_FAILED:20,E2EE_HARDENING_ERROR:21});f["default"]=a}),66);
__d("multiway_E2eeMode",[],(function(a,b,c,d,e,f){a=Object.freeze({E2EE_NOT_MANDATED:0,DEPRECATED_NO_REQUIREMENT:1,E2EE_MANDATED:2});f["default"]=a}),66);
__d("multiway_EndpointServiceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,COMPOSITING_SERVICE:1,MEDIA_SERVER:2,CATHODE_AMBISONIC:3,CATHODE_CAPTIONS:4});f["default"]=a}),66);
__d("multiway_HangupReason",[],(function(a,b,c,d,e,f){a=Object.freeze({IGNORE_CALL:0,HANGUP_CALL:1,NO_ANSWER_TIMEOUT:2,CLIENT_ERROR:3,IN_ANOTHER_CALL:4,CLIENT_INTERRUPTED:5,SESSION_MIGRATED:6,E2EE_MANDATED_BUT_OFFER_DID_NOT_CONTAIN_E2EE:7,E2EE_MANDATED_BUT_ANSWER_DID_NOT_NEGOTIATE_E2EE:8,WEBRTC_ERROR:9,CONNECTION_DROPPED:10});f["default"]=a}),66);
__d("multiway_JoinMode",[],(function(a,b,c,d,e,f){a=Object.freeze({PRIMARY:0,SECONDARY:1});f["default"]=a}),66);
__d("multiway_MediaPath",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,SFU:1,P2P:2});f["default"]=a}),66);
__d("multiway_MediaPauseStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NotPaused:0,Paused:1});f["default"]=a}),66);
__d("multiway_MessageTag",[],(function(a,b,c,d,e,f){a=Object.freeze({PRANSWER:1001,INITIAL_ANSWER_TO_P2P_CALLER:1002,DEESCALATE_OFFER_TO_P2P_CALLEE:1003,DEESCALATE_ANSWER_TO_P2P_CALLER:1004,REQUEST_DEESCALATE_TO_P2P_CALLER:1005,REQUEST_ESCALATE:1006,REQUEST_CLIENT_FULL_RENEGOTIATION_TO_ADMIT_FROM_WAITINGROOM:1007,REQUEST_CLIENT_FULL_RENEGOTIATION_AGAINST_MWS:1008,PARTICIPANT_ADDED:1009,PARTICIPANT_REMOVED:1010,FIRST_REMOTE_ALERTED_FOR_INITIATOR:2001,FIRST_REMOTE_ANSWERED_FOR_INITIATOR:2002,CONTAIN_PENDING_APPROVAL_PARTICIPANTS:2003,KEEP_ALIVE_PING:3001,IS_INITIATOR:4001});f["default"]=a}),66);
__d("multiway_MessageType",[],(function(a,b,c,d,e,f){a=Object.freeze({JOIN:0,SERVER_MEDIA_UPDATE:1,HANGUP:2,ICE_CANDIDATE:3,RING:4,DISMISS:5,CONFERENCE_STATE:6,ADD_PARTICIPANTS:7,SUBSCRIPTION:8,CLIENT_MEDIA_UPDATE:9,DATA_MESSAGE:10,REMOVE_PARTICIPANTS:11,PING:18,P2P_PROTOCOL:19,UPDATE:20,NOTIFY:21,CONNECT:22,CLIENT_EVENT:23,UNSUBSCRIBE:25,APPROVAL:26,TRANSFER:27,WAKEUP:28});f["default"]=a}),66);
__d("multiway_ParticipantCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12,PENDING_APPROVAL:13,APPROVED:14,FAILED_APPROVAL:15,HANGUP_IN_WAITING_ROOM:16,UNCALLABLE:17});f["default"]=a}),66);
__d("multiway_RingType",[],(function(a,b,c,d,e,f){a=Object.freeze({GROUP_AUDIO_CALL:0,PEER_VIDEO_CALL:1,PEER_AUDIO_CALL:2,GROUP_VIDEO_CALL:3,LIVE_STREAM:4,PEER_ESCALATED_VIDEO_CALL:5,PEER_ESCALATED_AUDIO_CALL:6,LIVE_AUDIO_ROOM:7,LIVE_WITH_ROOM:8});f["default"]=a}),66);
__d("multiway_RtcResponseStatusCode",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:200,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,METHOD_NOT_ALLOWED:406,CONFLICT:409,CONDITIONAL_REQUEST_FAILED:412,SERVER_INTERNAL_ERROR:500,SERVICE_UNAVAILABLE:503});f["default"]=a}),66);
__d("multiway_RtcResponseSubCode",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:1e3,EXCEEDED_MAX_ALLOWED_PARTICIPANTS:1001,MEMBERSHIP_CHECK_FAIL:1002,CONFERENCE_THROTTLED:1003,ENDPOINT_THROTTLED:1004,MWS_MESSAGE_SENT_TO_INCORRECT_REGION:1005,UNSUPPORTED_REQUEST_TYPE:2e3,CLIENT_REQUEST_UNACCEPTABLE:2001,CLIENT_RESPONSE_UNACCEPTABLE:2002,RING_RESPONSE_BODY_NOT_SET:2004,SERVER_MEDIA_UPDATE_RESPONSE_BODY_NOT_SET:2005,INVALID_SDP:2006,INVALID_CONFERENCE_NAME:2007,SERVER_INFO_CONFERENCE_NAME_MISMATCH:2008,INVALID_USER_ID:2009,INCORRECT_VERSION_RANGE:2010,SENDER_ID_MISMATCH:2011,RECIPIENT_NOT_SPECIFIED:2012,FIELD_NOT_ALLOWED:2013,USERS_NOT_SPECIFIED:2015,REQUEST_UNACCEPTABLE_FOR_ENDPOINT_STATE:2016,INVALID_CALL_ID:2017,SESSION_DESCRIPTION_ID_MISMATCH:2018,EMPTY_CLIENT_MEDIA_UPDATES:2019,INVALID_SERVER_INFO_DATA:2020,INCORRECT_STATE_VERSION:2021,MISMATCHED_STATE_FOR_VERSION:2022,INVALID_STATE_VERSION:2023,NO_RESOLVER_FOUND:2024,MISSING_APPROVERLIST:2025,FULL_SDP_REQUIRED_IN_APPROVED_STATE:2026,INVALID_BROADCAST_ID:2027,INVALID_ENDPOINT_CONFIG:2028,INVALID_E2EE_STATE:2029,SFU_MODE_PREVENTED:2030,INVALID_CONFERENCE_STATE:2031,JOIN_REQUEST_DENIED:2032,EMPTY_USER_IDS:2033,MISSING_SDP_CONNECT_REQUEST:2034,MISSING_BODY_ENDPOINT:2101,MISSING_BODY_HEADER:2102,MISSING_BODY_BODY:2103,MISSING_BODY_PARAMS:2104,MISSING_BODY_REMOVE_PARTICIPANTS_REQUEST:2105,MISSING_BODY_DATA_MESSAGE_REQUEST:2106,MISSING_BODY_CLIENT_MEDIA_UPDATE_REQUEST:2107,MISSING_BODY_ADD_PARTICIPANTS_REQUEST:2108,MISSING_BODY_SUBSCRIPTION_REQUEST:2110,MISSING_BODY_JOIN_REQUEST:2111,MISSING_BODY_HANGUP_REQUEST:2112,MISSING_BODY_ICE_CANDIDATE_REQUEST:2113,MISSING_BODY_P2P_MESSAGE_REQUEST:2114,MISSING_BODY_UPDATE_REQUEST:2115,MISSING_BODY_CLIENT_EVENT_REQUEST:2116,MISSING_BODY_CONNECT_REQUEST:2117,MISSING_BODY_UNSUBSCRIBE_REQUEST:2118,MISSING_BODY_APPROVAL_REQUEST:2119,MISSING_ENDPOINT_USER_ID:2120,EMPTY_ENDPOINT_USER_ID:2121,MISSING_BODY_TRANSFER_REQUEST:2122,MISSING_BODY_GENERIC:2199,REQUESTOR_NOT_MEMBER_CONFERENCE:3002,NOT_BROADCAST_OWNER:3003,GUEST_NOT_INVITED:3004,GUEST_DISCONNECTED:3005,GUEST_INVITATION_EXPIRED:3006,SHOULD_USE_NEW_SIGNALING_PATH:3007,PARTICIPANT_IN_PENDING_APPROVAL_STATE:3008,BROADCAST_ALREADY_STOPPED:4002,FAILED_TO_GENERATE_SDP_ANSWER:4003,FAILED_GENERATE_SESSION_DESCRIPTION:4004,SDP_SESSION_ID_MISMATCH:4005,MEDIA_ENDPOINT_GONE:4007,MEDIA_ENDPOINT_ALREADY_EXISTS:4008,MEDIA_ENDPOINT_EXISTS_DIFFERENT_SESSION_ID:4009,LEGACY_MESSENGER_SENDER_UNSET:4010,FAILED_TO_SET_TRANSPORT_INFO:4011,NON_PRIMARY_MULTIWAY_SERVER:4012,FAILED_TO_GET_REMOTE_DESCRIPTION:4013,LOCAL_DESCRIPTION_NOT_SET:4014,INVALID_SDP_TYPE:4015,CLIENT_MEDIA_UPDATE_WITHOUT_REMOTE_SDP_INFO:4016,SDP_UNSET_ON_P2P_ANSWER:4017,MISSING_ICE_CANDIDATE_PAYLOAD:4018,P2P_PROTOCOL_UNSET:4019,CREATE_ACK_FOR_INVALID_MESSAGE_TYPE:4020,LEGACY_CLIENT_CANNOT_JOIN_SFU_MODE:4021,CONNECT_UNSUPPORTED_IN_SFU_MODE:4022,CONNECT_UNSUPPORTED_FOR_JOINED_ENDPOINTS:4023,RESOLVE_STATE_API_ERROR:4024,EXTERNAL_RESOLUTION_ERROR:4025,INTERNAL_RESOLUTION_ERROR:4026,RESOLUTION_DISABLED:4027,BROADCAST_ID_MISSING:4028,SDP_UNSET_ON_P2P_OFFER:4029,LEGACY_OFFER_MISSING_REQUIRED_VALUE:4031,MEDIA_SERVER_STATE_SYNC_DESERIALIZATION_ERROR:4032,CONNECT_UNSUPPORTED_FOR_PRECONNECTED_USERS:4033,OTHER_USER_ANSWERED_THE_CALL:4034,MEDIA_SERVER_DESERIALIZATION_ERROR:4035,REMOTE_SDP_TRACKID_MISMATCH:4036,SIGNALING_MESSAGE_TO_CLIENT_DROPPED:4037,DATA_CHANNEL_ENDPOINT_GONE:4038,DATA_CHANNEL_ENDPOINT_ALREADY_EXISTS:4039,CONNECT_UNSUPPORTED_DURING_P2P_TO_SFU_ESCALATION:4040,P2P_CONNECT_UNSUPPORTED_AFTER_SFU_ESCALATION:4041,CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_CONFERENCE:4042,CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_USER:4043,CONFERENCE_NOT_FOUND:5001,CONFERENCE_IS_TERMINATING:5002,CONFERENCE_IS_TERMINATED:5003,CONFERENCE_NAME_EMPTY:5004,NONCE_EMPTY:5005,NONCE_MISMATCH:5006,CONFERENCE_HAS_GONE:5007,PARTICIPANT_HAS_GONE:5008,MEDIA_SERVER_NOT_FOUND:5009,CLIENT_TERMINATED:5010,MEDIA_CODECS_UNSUPPORTED_BY_CONFERENCE:6001,CONFERENCE_INCAPABLE_RENEGOTIATION:6002,REJECTING_CMU_WHEN_SMU_PENDING:6003,PARTICIPANT_NOT_SUBSCRIBED_TO_TOPIC:6004,PARTICIPANT_ALREADY_IN_WAITING_ROOM:6005,PARTICIPANT_NOT_IN_PENDING_APPROVAL:6006,USER_NOT_APPROVER_FOR_TARGET_USER:6007,UNSUPPORTED_CAPABILITIES:6008,PRODUCT_SERVER_DEFINED_END_REASON:6009,WWW_KILLSWITCHED_REQUEST:6010,CONFLICTING_MEDIA_PATH:6011,CONFLICTING_MEDIA_STATUS:6012,CONFLICTING_SESSION_DESCRIPTION:6013,OK:9e3});f["default"]=a}),66);
__d("multiway_SubscriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CNAME:0,TRACK:1,DOMINANT_SPEAKER:2});f["default"]=a}),66);
__d("multiway_VideoQuality",[],(function(a,b,c,d,e,f){a=Object.freeze({LOW:0,MEDIUM:1,HIGH:2,HD:3,NUM_QUALITIES:4});f["default"]=a}),66);
__d("ZenonMWMessageTypes",["$InternalEnum","fbwebrtc_ClientStack","multiway_ApprovalStatus","multiway_Capability","multiway_ClientEventType","multiway_ConferenceType","multiway_DeviceStatus","multiway_DismissReason","multiway_E2eeMode","multiway_EndpointServiceType","multiway_HangupReason","multiway_JoinMode","multiway_MediaPath","multiway_MediaPauseStatus","multiway_MessageTag","multiway_MessageType","multiway_ParticipantCallState","multiway_RingType","multiway_RtcResponseStatusCode","multiway_RtcResponseSubCode","multiway_SubscriptionType","multiway_VideoQuality"],(function(a,b,c,d,e,f,g){"use strict";a=b("$InternalEnum")({DEFAULT_AUDIO:0,DEFAULT_VIDEO:1,SCREEN_AUDIO:2,SCREEN_VIDEO:3});g.ZenonMWClientStack=c("fbwebrtc_ClientStack");g.ZenonMWApprovalStatus=c("multiway_ApprovalStatus");g.ZenonMWCapability=c("multiway_Capability");g.ZenonMWClientEventType=c("multiway_ClientEventType");g.ZenonMWConferenceType=c("multiway_ConferenceType");g.ZenonMWDeviceStatus=c("multiway_DeviceStatus");g.ZenonMWDismissReason=c("multiway_DismissReason");g.ZenonMWE2eeMode=c("multiway_E2eeMode");g.ZenonMWEndpointServiceType=c("multiway_EndpointServiceType");g.ZenonMWHangupReason=c("multiway_HangupReason");g.ZenonMWMediaPath=c("multiway_MediaPath");g.ZenonMWJoinMode=c("multiway_JoinMode");g.ZenonMWMediaPauseStatus=c("multiway_MediaPauseStatus");g.ZenonMWMessageTag=c("multiway_MessageTag");g.ZenonMWSignalingPayloadType=c("multiway_MessageType");g.ZenonMWParticipantCallState=c("multiway_ParticipantCallState");g.ZenonMWRingType=c("multiway_RingType");g.ZenonMWResponseStatusCode=c("multiway_RtcResponseStatusCode");g.ZenonMWResponseSubCode=c("multiway_RtcResponseSubCode");g.ZenonMWSubscriptionType=c("multiway_SubscriptionType");g.ZenonMWVideoQuality=c("multiway_VideoQuality");g.ZenonMWTrackLabel=a}),98);
__d("ZenonMWMessageMap",["ZenonMWMessageTypes"],(function(a,b,c,d,e,f,g){"use strict";c=Object.freeze((a={},a[(b=d("ZenonMWMessageTypes")).ZenonMWSignalingPayloadType.JOIN]="JOIN",a[b.ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE]="SERVER_MEDIA_UPDATE",a[b.ZenonMWSignalingPayloadType.ICE_CANDIDATE]="ICE_CANDIDATE",a[b.ZenonMWSignalingPayloadType.HANGUP]="HANGUP",a[b.ZenonMWSignalingPayloadType.RING]="RING",a[b.ZenonMWSignalingPayloadType.DISMISS]="DISMISS",a[b.ZenonMWSignalingPayloadType.CONFERENCE_STATE]="CONFERENCE_STATE",a[b.ZenonMWSignalingPayloadType.ADD_PARTICIPANTS]="ADD_PARTICIPANTS",a[b.ZenonMWSignalingPayloadType.SUBSCRIPTION]="SUBSCRIPTION",a[b.ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE]="CLIENT_MEDIA_UPDATE",a[b.ZenonMWSignalingPayloadType.DATA_MESSAGE]="DATA_MESSAGE",a[b.ZenonMWSignalingPayloadType.REMOVE_PARTICIPANTS]="REMOVE_PARTICIPANTS",a[b.ZenonMWSignalingPayloadType.PING]="PING",a[b.ZenonMWSignalingPayloadType.P2P_PROTOCOL]="P2P_PROTOCOL",a[b.ZenonMWSignalingPayloadType.NOTIFY]="NOTIFY",a[b.ZenonMWSignalingPayloadType.CONNECT]="CONNECT",a[b.ZenonMWSignalingPayloadType.CLIENT_EVENT]="CLIENT_EVENT",a[b.ZenonMWSignalingPayloadType.UNSUBSCRIBE]="UNSUBSCRIBE",a[b.ZenonMWSignalingPayloadType.UPDATE]="UPDATE",a[b.ZenonMWSignalingPayloadType.APPROVAL]="APPROVAL",a[b.ZenonMWSignalingPayloadType.WAKEUP]="WAKEUP",a));e=c;g["default"]=e}),98);
__d("OverlayConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a={OverlayConfigNumParameters:4371,OverlayConfigNotPresentFlagValue:-1};b=a;f["default"]=b}),66);
__d("OverlayConfigLayerSource",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UNKNOWN:0,DEFAULT:1,MOBILECONFIG:2,APP_CRUCIBLE:3,APP_JNI:4,UNITTEST_CONFIG:5,SERVER:6,PLACEHOLDER:7,LS_MOBILECONFIG:8,APP_LS:9,APP_JS:10,BROWSER:11,APP_OVRRTC:12,APP_IG:13,MLITE4A_LEGACY_QE:14,APP_MLITE4A:15,APP_PORTAL:16,IG_LAUNCHER:17,APP_ARCHON:18,APP_WS:19,APP_NOX:20,APP_WEARABLE_MSNGR:21,APP_WEARABLE_IG:22,APP_ORCA_RSYS:23,APP_WILDE:24,APP_MKIOS:25,APP_MK4A:26,DYNAMIC:27,SDK_DEFAULT:28,APP_FB4A:29,APP_RSYS_SDK_SAMPLE:30,APP_BIZAPP:31,APP_WORKCHAT:32,APP_ARCHON_LOCAL_OVERRIDES:33,APP_CATHODE:34,APP_WR4I:35,APP_WR4A:36,APP_METACAM:37,HORIZON_EMERGENCY:38,APP_SOCIALPLATFORM:39,APP_TWILIGHT:40});b=a;f["default"]=b}),66);
__d("OverlayConfigServerLayer",["OverlayConfigConstants","OverlayConfigLayerSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){a.createFromHeader=function(b){try{b=b==null?void 0:(b=b.extensions)==null?void 0:b.oc1_json;if(b==null)return null;b=JSON.parse(b);b=b==null?void 0:b.values;return b==null?null:new a(b)}catch(a){return null}};function a(a){this.$1=a}var b=a.prototype;b.getLayerSource=function(){return c("OverlayConfigLayerSource").SERVER};b.getValue=function(a){a=this.$1[String(a)];return a!=null?a:c("OverlayConfigConstants").OverlayConfigNotPresentFlagValue};b.logExposure=function(a){};return a}();g["default"]=a}),98);
__d("ZenonEndCallReason",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({BREAKOUT_SESSION_SWITCH_ROOM:"BreakoutSessionSwitchRoom",CALL_END_ACCEPT_AFTER_HANG_UP:"CallEndAcceptAfterHangUp",CALLER_NOT_VISIBLE:"CallerNotVisible",CAMERA_PERMISSION_DENIED:"CameraPermissionDenied",CARRIER_BLOCKED:"CarrierBlocked",CLIENT_ENCRYPTION_ERROR:"ClientEncryptionError",CLIENT_ERROR:"ClientError",CLIENT_INTERRUPTED:"ClientInterrupted",CONNECTION_DROPPED:"ConnectionDropped",END_TO_END_ENCRYPTION_INVARIANT_VIOLATED:"EndToEndEncryptionInvariantViolated",HANGUP_CALL:"HangupCall",IGNORE_CALL:"IgnoreCall",IN_ANOTHER_CALL:"InAnotherCall",INACTIVE_TIMEOUT:"InactiveTimeout",INCOMING_TIMEOUT:"IncomingTimeout",MAX_ALLOWED_PARTICIPANTS_REACHED:"MaxAllowedParticipantsReached",MICROPHONE_PERMISSION_DENIED:"MicrophonePermissionDenied",NO_ANSWER_TIMEOUT:"NoAnswerTimeout",NO_PERMISSION:"NoPermission",NO_UI_SHOWN:"NoUIShown",OTHER_CARRIER_BLOCKED:"OtherCarrierBlocked",OTHER_INSTANCE_HANDLED:"OtherInstanceHandled",OTHER_NOT_CAPABLE:"OtherNotCapable",PRODUCT_SERVER_DEFINED_END_REASON:"ProductServerDefinedEndReason",REMOVED_BY_PARTICIPANT:"RemovedByParticipant",RING_MUTED:"RingMuted",SESSION_MIGRATED:"SessionMigrated",SIGNALING_MESSAGE_FAILED:"SignalingMessageFailed",TX_ACK_TIMEOUT:"TxAckTimeout",UNEXPECTED_END_OF_CALL:"UnexpectedEndOfCall",UNKNOWN:"Unknown",VERSION_UNSUPPORTED:"VersionUnsupported",WEBRTC_ERROR:"WebRTCError"});c=a;f["default"]=c}),66);
__d("ZenonIncomingRingSDKTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Hangup","OtherDismiss"]);f.ZenonCancelReason=a}),66);
__d("ZenonMediaError",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ConnectionClosed","IceDisconnected","IceFailure","SetLocalSdpFailed","SetRemoteSdpFailed","RollbackSdpFailed","UnknownError"]);f.ZenonMediaError=a}),66);
__d("ZenonDismissReason",["$InternalEnum","FBLogger","ZenonIncomingRingSDKTypes","ZenonMWMessageTypes","ZenonMediaError"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum")({IgnoreCall:0,HangupCall:1,InAnotherCall:2,AcceptAfterHangUp:3,NoAnswerTimeout:4,IncomingTimeout:5,OtherInstanceHandled:6,SignalingMessageFailed:7,ConnectionDropped:8,ClientInterrupted:9,WebRTCError:10,ClientError:11,NoPermission:12,OtherNotCapable:13,NoUIShown:14,VersionUnsupported:15,CallerNotVisible:16,CarrierBlocked:17,OtherCarrierBlocked:18,ClientEncryptionError:19,MicrophonePermissionDenied:20,CameraPermissionDenied:21,SessionMigrated:22,RingMuted:23,JoinApprovalDenied:24,RejectedByCallee:25,CallEndedByProduct:26,CallEnded:27,AnsweredOnAnotherDevice:28,RejectedOnAnotherDevice:29,CallCollision:30,MaxAllowedParticipantsReached:31,UnexpectedEndOfCall:32,TxAckTimeout:33,EndToEndEncryptionInvariantViolated:34,ProductServerDefinedEndReason:35,RemovedByParticipant:39});function a(a){switch(a){case"BreakoutSessionSwitchRoom":return i.HangupCall;case"CallEndAcceptAfterHangUp":return i.AcceptAfterHangUp;case"CallerNotVisible":return i.CallerNotVisible;case"CarrierBlocked":return i.CarrierBlocked;case"ClientEncryptionError":return i.ClientEncryptionError;case"ClientError":return i.ClientError;case"ClientInterrupted":return i.ClientInterrupted;case"ConnectionDropped":return i.ConnectionDropped;case"HangupCall":return i.HangupCall;case"IgnoreCall":return i.IgnoreCall;case"InAnotherCall":return i.InAnotherCall;case"EndToEndEncryptionInvariantViolated":return i.EndToEndEncryptionInvariantViolated;case"InactiveTimeout":return i.CallEnded;case"IncomingTimeout":return i.IncomingTimeout;case"MaxAllowedParticipantsReached":return i.MaxAllowedParticipantsReached;case"NoAnswerTimeout":return i.NoAnswerTimeout;case"NoPermission":return i.NoPermission;case"NoUIShown":return i.NoUIShown;case"OtherCarrierBlocked":return i.OtherCarrierBlocked;case"OtherInstanceHandled":return i.OtherInstanceHandled;case"OtherNotCapable":return i.OtherNotCapable;case"SignalingMessageFailed":return i.SignalingMessageFailed;case"UnexpectedEndOfCall":return i.UnexpectedEndOfCall;case"Unknown":return i.CallEnded;case"VersionUnsupported":return i.VersionUnsupported;case"WebRTCError":return i.WebRTCError;case"MicrophonePermissionDenied":return i.MicrophonePermissionDenied;case"CameraPermissionDenied":return i.CameraPermissionDenied;case"SessionMigrated":return i.SessionMigrated;case"RingMuted":return i.RingMuted;case"TxAckTimeout":return i.TxAckTimeout;case"ProductServerDefinedEndReason":return i.ProductServerDefinedEndReason;case"RemovedByParticipant":return i.RemovedByParticipant}}function e(a){switch(a){case i.CallEnded:case i.CallEndedByProduct:case i.HangupCall:return"HangupCall";case i.IgnoreCall:case i.JoinApprovalDenied:case i.RejectedByCallee:return"IgnoreCall";case i.InAnotherCall:return"InAnotherCall";case i.AcceptAfterHangUp:return"CallEndAcceptAfterHangUp";case i.NoAnswerTimeout:return"NoAnswerTimeout";case i.IncomingTimeout:return"IncomingTimeout";case i.AnsweredOnAnotherDevice:case i.CallCollision:case i.RejectedOnAnotherDevice:case i.OtherInstanceHandled:return"OtherInstanceHandled";case i.SignalingMessageFailed:return"SignalingMessageFailed";case i.ConnectionDropped:return"ConnectionDropped";case i.ClientInterrupted:return"ClientInterrupted";case i.WebRTCError:return"WebRTCError";case i.ClientError:return"ClientError";case i.NoPermission:return"NoPermission";case i.OtherNotCapable:return"OtherNotCapable";case i.NoUIShown:return"NoUIShown";case i.VersionUnsupported:return"VersionUnsupported";case i.CallerNotVisible:return"CallerNotVisible";case i.CarrierBlocked:return"CarrierBlocked";case i.OtherCarrierBlocked:return"OtherCarrierBlocked";case i.ClientEncryptionError:return"ClientEncryptionError";case i.UnexpectedEndOfCall:return"UnexpectedEndOfCall";case i.MaxAllowedParticipantsReached:return"MaxAllowedParticipantsReached";case i.MicrophonePermissionDenied:return"MicrophonePermissionDenied";case i.CameraPermissionDenied:return"CameraPermissionDenied";case i.SessionMigrated:return"SessionMigrated";case i.RingMuted:return"RingMuted";case i.TxAckTimeout:return"TxAckTimeout";case i.EndToEndEncryptionInvariantViolated:return"EndToEndEncryptionInvariantViolated";case i.ProductServerDefinedEndReason:return"ProductServerDefinedEndReason";case i.RemovedByParticipant:return"RemovedByParticipant"}c("FBLogger")("rtc_www").mustfix("Unknown dismiss reason: %s",a);return"Unknown"}function f(a){switch(a){case i.OtherInstanceHandled:case i.AnsweredOnAnotherDevice:case i.RejectedOnAnotherDevice:return d("ZenonIncomingRingSDKTypes").ZenonCancelReason.OtherDismiss;default:return d("ZenonIncomingRingSDKTypes").ZenonCancelReason.Hangup}}function j(a){switch(a){case d("ZenonMediaError").ZenonMediaError.IceDisconnected:return i.ConnectionDropped;case d("ZenonMediaError").ZenonMediaError.ConnectionClosed:return i.HangupCall;case d("ZenonMediaError").ZenonMediaError.IceFailure:case d("ZenonMediaError").ZenonMediaError.SetLocalSdpFailed:case d("ZenonMediaError").ZenonMediaError.SetRemoteSdpFailed:case d("ZenonMediaError").ZenonMediaError.RollbackSdpFailed:return i.WebRTCError;case d("ZenonMediaError").ZenonMediaError.UnknownError:return i.UnexpectedEndOfCall}}function k(a){return l[a]}var l=Object.freeze((b={},b[(h=d("ZenonMWMessageTypes")).ZenonMWDismissReason.CALL_ENDED]=i.CallEnded,b[h.ZenonMWDismissReason.ANSWERED_ON_ANOTHER_DEVICE]=i.AnsweredOnAnotherDevice,b[h.ZenonMWDismissReason.IN_ANOTHER_CALL]=i.InAnotherCall,b[h.ZenonMWDismissReason.CONNECTION_DROPPED]=i.ConnectionDropped,b[h.ZenonMWDismissReason.REJECTED_ON_ANOTHER_DEVICE]=i.RejectedOnAnotherDevice,b[h.ZenonMWDismissReason.REJECTED_BY_CALLEE]=i.RejectedByCallee,b[h.ZenonMWDismissReason.CALL_ENDED_BY_PRODUCT]=i.CallEndedByProduct,b[h.ZenonMWDismissReason.INTERNAL_ERROR]=i.SignalingMessageFailed,b[h.ZenonMWDismissReason.REMOVED_BY_PARTICIPANT]=i.RemovedByParticipant,b[h.ZenonMWDismissReason.TX_ACK_TIMEDOUT]=i.TxAckTimeout,b));g.ZenonDismissReason=i;g.endCallToDismissReason=a;g.dismissToEndCallReason=e;g.dismissReasonToCancelReason=f;g.mediaErrorToDismissReason=j;g.mwDismissToDmissReason=k}),98);
__d("ZenonCallsModelTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum")).Mirrored(["Disconnected","Precontacting","Contacting","Ringing","PendingApproval","Approved","FailedApproval","Connecting","Connected","Reconnecting","ProvisionalRinging"]);d=a.Mirrored(["Facebook","Instagram","Messenger","Guest","WhatsApp","Workplace"]);e=a.Mirrored(["New","Connecting","PendingApproval","Connected","Terminating","Terminated"]);b=a.Mirrored(["Unknown","CallsBlocked"]);a=a.Mirrored(["None","PendingPeerFeedback","Declined","RemoteDeclined","LocalDeclined","Cancelled","TimedOut","Accepted","InitiatedFromPeer"]);f.ZenonCallParticipantState=c;f.ZenonCallParticipantType=d;f.ZenonCallState=e;f.ZenonEndCallSubreason=b;f.ZenonVideoEscalationStatus=a}),66);
__d("ZenonParticipantState",["$InternalEnum","ZenonCallsModelTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({UNKNOWN:0,ADDING:1,CONTACTING:2,RINGING:3,ACCEPTING:4,PRECONNECTING:5,CONNECTING:6,CONNECTED:7,REMOVING:8,DISCONNECTED:9,NO_ANSWER:10,REJECTED:11,UNREACHABLE:12,CONNECTION_DROPPED:13,PARTICIPANT_LIMIT_REACHED:14,IN_ANOTHER_CALL:15,RING_TYPE_UNSUPPORTED:16,PENDING_APPROVAL:17,APPROVING:18,DENYING:19,APPROVED:20,FAILED_APPROVAL:21,HANGUP_IN_WAITING_ROOM:22,RECONNECTING:23});function a(a){if(a==null)return d("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected;switch(a){case h.CONTACTING:case h.PRECONNECTING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Contacting;case h.RINGING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Ringing;case h.CONNECTING:case h.RECONNECTING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Connecting;case h.CONNECTED:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Connected;case h.PENDING_APPROVAL:case h.APPROVING:case h.DENYING:case h.ACCEPTING:case h.ADDING:case h.REMOVING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.PendingApproval;case h.APPROVED:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Approved;case h.FAILED_APPROVAL:return d("ZenonCallsModelTypes").ZenonCallParticipantState.FailedApproval;case h.HANGUP_IN_WAITING_ROOM:case h.UNKNOWN:case h.DISCONNECTED:case h.NO_ANSWER:case h.REJECTED:case h.UNREACHABLE:case h.CONNECTION_DROPPED:case h.PARTICIPANT_LIMIT_REACHED:case h.IN_ANOTHER_CALL:case h.RING_TYPE_UNSUPPORTED:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}return d("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}g.ZenonParticipantState=h;g.toCallParticipantState=a}),98);
__d("ZenonScreenShare",["UserAgent","ZenonAppProvider","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.length===1&&((a=a[0])==null?void 0:a.contentType)==="screen"}function h(){return!c("UserAgent").isBrowser("Safari")}function i(){return d("ZenonAppProvider").isOculusCastingSite()&&c("justknobx")._("1977")?!1:!0}function b(){return!h()||!i()}g.isScreenSharingTrack=a;g.screenShareWithReplaceTrack=b}),98);
__d("ZenonSignalingTypes",[],(function(a,b,c,d,e,f){"use strict";a={OK:0,REJECTED_FROM_VERSION_DOES_NOT_MATCH:1,METHOD_NOT_ALLOWED:2};b={CLIENT_TERMINATED:0};f.ZenonSignalingStatusCode=a;f.ZenonSignalingStatusSubCode=b}),66);
__d("ZenonStateSyncPayloadSerializer",["ZenonAppProvider","ZenonDataUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ZenonAppProvider").isInstagramApp()?d("ZenonDataUtils").stringToUint8Array(a):d("ZenonDataUtils").base64ToUint8Array(a)}g.stateSyncStringToUint8Array=a}),98);
__d("addDevTierOverridesToHeaderExtensions",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={multiwayCoreTier:"",multiwayWwwTier:""};if(!c("gkx")("25224"))return b;b.multiwayWwwTier=h(a,"multiway_www_tier");b.multiwayCoreTier=h(a,"multiway_core_tier");return b}function h(a,b){b=b+"=";a=a.split(b);return a[1]?a.pop().split("&").shift():""}g["default"]=a}),98);
__d("ZenonMWTranslatorUtils",["ChannelClientID","CurrentUser","IGDWebUtils","OverlayConfigServerLayer","RpWebMqttEnabledAppIds","ZenonDataUtils","ZenonDismissReason","ZenonMWMessageTypes","ZenonParticipantState","ZenonScreenShare","ZenonSignalingProtocol","ZenonSignalingTypes","ZenonStateSyncPayloadSerializer","addDevTierOverridesToHeaderExtensions","err","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k="signalingDominantSpeakerUpdate",l="signalingVideoUploadUpdate",m="E2eeState",n=new Set(c("RpWebMqttEnabledAppIds").APP_IDS);function a(a,b,e,f){e===void 0&&(e=!1),a&&Object.keys(a).forEach(function(g){if(g===m&&f&&c("justknobx")._("1893"))return;var h=a[g],i=h.data;h=h.version;if(i!=null){i={data:d("ZenonStateSyncPayloadSerializer").stateSyncStringToUint8Array(i),eventName:"stateSyncNotifyRequest",responseRequired:e,topic:g,version:h};b.push(i)}})}function b(a){var b;if(a){a=a[m];(a==null?void 0:a.data)!=null&&(b=d("ZenonStateSyncPayloadSerializer").stateSyncStringToUint8Array(a.data));return b}}function e(a,b,d){var e={appId:t(),deviceId:c("ChannelClientID").getID(),userId:b.userInfo.userID};b=z(b,a);return{endpoint:e,jsonPayload:{body:d,header:b}}}function f(a,b,d,e,f){var g={appId:t(),deviceId:c("ChannelClientID").getID(),userId:b.userInfo.userID};b=A(b,a,e,f);return{endpoint:g,jsonPayload:{body:d,header:b}}}function o(a){a=d("ZenonDismissReason").mwDismissToDmissReason(a);return(a=a)!=null?a:d("ZenonDismissReason").ZenonDismissReason.CallEnded}function p(a){a=N[a];return(a=a)!=null?a:d("ZenonMWMessageTypes").ZenonMWParticipantCallState.UNKNOWN}function q(a){var b=null;a!=null&&a.forEach(function(a){a=(a=a.body)==null?void 0:a.genericMessage;if(a!=null&&a.topic==="collision_context_payload"){a=a.data;if(a!=null){var c;a=JSON.parse(a);b={groupThreadID:(c=a.group_thread_id)!=null?c:null,peerID:(c=a.peer_id)!=null?c:null,serverInfoData:(c=a.server_info_data)!=null?c:null}}}});return b}function r(a){a=(a=a.message.body)!=null?a:{};var b=a.dominantSpeakerSignalingInfo,c=a.genericMessage;a=a.videoUploadSignalingInfo;if(c)try{return atob(c.data)}catch(a){return c.data}else if(b)return JSON.stringify(b);else if(a)return JSON.stringify(a);return null}function s(a){a=(a=a.message.body)!=null?a:{};var b=a.dominantSpeakerSignalingInfo,c=a.genericMessage;a=a.videoUploadSignalingInfo;if(c)return c.topic;else if(b)return k;else if(a)return l;return null}function t(){var a=c("CurrentUser").getAppID();if(a!=null&&d("IGDWebUtils").isInstagramWebSupportedApp(Number(a)))return a;a=(a=a)!=null?a:219994525426954..toString();return n.has(Number(a))?a:219994525426954..toString()}function u(a){a=a&&a.length>0?a.find(function(a){return((a=a.body)==null?void 0:(a=a.genericMessage)==null?void 0:a.topic)==="room_metadata"}):null;if(a){var b;b=(b=a.body)==null?void 0:(b=b.genericMessage)==null?void 0:b.data;if(b!=null){b=JSON.parse(b);a=(a=a.header)==null?void 0:a.sender;if(b.link_hash!=null&&b.room_name!=null&&a!=null)return{linkHash:b.link_hash,profileURL:b.profile_url,ringSubtitle:b.ring_subtitle,roomName:b.room_name,sender:a}}}return null}function v(a,b){b=c("OverlayConfigServerLayer").createFromHeader(b);if(b){b={eventName:"overlayConfigServerUpdateRequest",serverLayer:b};a.push(b)}}function w(a){return a.reduce(function(a,b){var c;c=(c=b.body)==null?void 0:(c=c.genericMessage)==null?void 0:c.topic;b=(b=b.body)==null?void 0:(b=b.genericMessage)==null?void 0:b.data;c!=null&&b!=null&&(a[c]=b);return a},{})}function x(a){var b=a.clientSessionId,d=a.conferenceName,e=a.receiver,f=a.receiverUserId,g=a.sequenceNumber,h=a.serverInfoData,i=a.transactionId;if(f==null)throw c("err")("Incoming MW messages should have receiverUserId populated.");b=b;var j={userID:"2"};e={actorID:(e=e==null?void 0:e.actorId)!=null?e:null,messageID:i,messageTags:(e=a.messageTags)!=null?e:[],protocol:c("ZenonSignalingProtocol").MW,remoteInfo:j,retryCount:a.retryCount,roomInfo:{name:d},sequenceNumber:g,signalingID:b,userInfo:{userID:(i=f)!=null?i:"1"}};h!=null&&(e.remoteSignalingID=h);return e}function y(a,b){return Object.keys(a).map(function(c){var d=a[c];return{body:{genericMessage:{data:d,topic:c}},header:{recipients:b,topic_DEPRECATED:c}}})}function z(a,b){var e=a.messageID,f=a.messageTags,g=a.remoteSignalingID,h=a.roomInfo,i=a.signalingID,j=c("addDevTierOverridesToHeaderExtensions")(window.location.href);h={clientStack:d("ZenonMWMessageTypes").ZenonMWClientStack.ZENON,conferenceName:h.name,messageTags:f,retryCount:a.retryCount,sequenceNumber:a.sequenceNumber,transactionId:e,type:b};(j.multiwayCoreTier!==""||j.multiwayWwwTier!=="")&&(h.extensions=j);i!=null&&(h.clientSessionId=i);g!=null&&(h.serverInfoData=g);a.actorID!=null&&(h.sender={id:a.actorID});return h}function A(a,b,c,e){a=z(a,b);a.responseStatusCode=(b=c)!=null?b:d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK;e!=null&&(a.responseSubCode=e);return a}function B(a){var b={tracks:{}},c=!d("ZenonScreenShare").screenShareWithReplaceTrack();a.tracks.forEach(function(a){var d={enabled:a.enabled,name:a.name,owner:a.participantID},e=c?K(a.type):null;e!=null&&(d.label=e);b.tracks[a.trackID]=d});return b}function C(a){if(a==null)return null;switch(a){case d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_AUDIO:return"audio";case d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_VIDEO:return"video";case d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_AUDIO:return"screen_audio";case d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_VIDEO:return"screen"}}function D(a){a=M[a];return(a=a)!=null?a:d("ZenonMWMessageTypes").ZenonMWDeviceStatus.OK}function E(a){switch(a){case d("ZenonDismissReason").ZenonDismissReason.IgnoreCall:return d("ZenonMWMessageTypes").ZenonMWHangupReason.IGNORE_CALL;case d("ZenonDismissReason").ZenonDismissReason.HangupCall:return d("ZenonMWMessageTypes").ZenonMWHangupReason.HANGUP_CALL;case d("ZenonDismissReason").ZenonDismissReason.NoAnswerTimeout:return d("ZenonMWMessageTypes").ZenonMWHangupReason.NO_ANSWER_TIMEOUT;case d("ZenonDismissReason").ZenonDismissReason.ClientError:return d("ZenonMWMessageTypes").ZenonMWHangupReason.CLIENT_ERROR;case d("ZenonDismissReason").ZenonDismissReason.InAnotherCall:return d("ZenonMWMessageTypes").ZenonMWHangupReason.IN_ANOTHER_CALL;case d("ZenonDismissReason").ZenonDismissReason.ClientInterrupted:return d("ZenonMWMessageTypes").ZenonMWHangupReason.CLIENT_INTERRUPTED;case d("ZenonDismissReason").ZenonDismissReason.SessionMigrated:return d("ZenonMWMessageTypes").ZenonMWHangupReason.SESSION_MIGRATED;default:return d("ZenonMWMessageTypes").ZenonMWHangupReason.HANGUP_CALL}}function F(a){var b={};a.tracks.forEach(function(a){b[a.trackID]=a.enabled});return b}function G(a){var b={},c=!d("ZenonScreenShare").screenShareWithReplaceTrack();a.tracks.forEach(function(a){var d={enabled:a.enabled},e=c?K(a.type):null;e!=null&&(d.label=e);b[a.trackID]=d});return{tracks:b}}function H(a){return O[a]}function I(a){return a==null?null:P[a]}function J(a){var b={};a.forEach(function(a,c){b[c]={data:a.data?d("ZenonDataUtils").uint8ArrayToBase64(a.data):void 0,version:a.version}});return b}function K(a){switch(a){case"audio":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_AUDIO;case"video":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_VIDEO;case"screen":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_VIDEO;case"screen_audio":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_AUDIO;default:return null}}function L(a,b,c){c===void 0&&(c=0);var d={fromVersion:b,tracks:[],version:c};a!=null&&Object.keys(a.tracks).forEach(function(b){var c=a.tracks[b];b={enabled:c.enabled,name:c.name,participantID:c.owner,trackID:b,type:C(c.label)};d.tracks.push(b)});return d}var M={IN_ANOTHER_CALL:(i=d("ZenonMWMessageTypes")).ZenonMWDeviceStatus.IN_ANOTHER_CALL,NOT_SUPPORTED:i.ZenonMWDeviceStatus.NOT_SUPPORTED,OK:i.ZenonMWDeviceStatus.OK},N=Object.freeze((h={},h[i.ZenonMWParticipantCallState.UNKNOWN]=(j=d("ZenonParticipantState")).ZenonParticipantState.UNKNOWN,h[i.ZenonMWParticipantCallState.DISCONNECTED]=j.ZenonParticipantState.DISCONNECTED,h[i.ZenonMWParticipantCallState.NO_ANSWER]=j.ZenonParticipantState.NO_ANSWER,h[i.ZenonMWParticipantCallState.REJECTED]=j.ZenonParticipantState.REJECTED,h[i.ZenonMWParticipantCallState.UNREACHABLE]=j.ZenonParticipantState.UNREACHABLE,h[i.ZenonMWParticipantCallState.CONNECTION_DROPPED]=j.ZenonParticipantState.CONNECTION_DROPPED,h[i.ZenonMWParticipantCallState.CONTACTING]=j.ZenonParticipantState.CONTACTING,h[i.ZenonMWParticipantCallState.RINGING]=j.ZenonParticipantState.RINGING,h[i.ZenonMWParticipantCallState.CONNECTING]=j.ZenonParticipantState.CONNECTING,h[i.ZenonMWParticipantCallState.CONNECTED]=j.ZenonParticipantState.CONNECTED,h[i.ZenonMWParticipantCallState.PARTICIPANT_LIMIT_REACHED]=j.ZenonParticipantState.PARTICIPANT_LIMIT_REACHED,h[i.ZenonMWParticipantCallState.IN_ANOTHER_CALL]=j.ZenonParticipantState.IN_ANOTHER_CALL,h[i.ZenonMWParticipantCallState.RING_TYPE_UNSUPPORTED]=j.ZenonParticipantState.RING_TYPE_UNSUPPORTED,h[i.ZenonMWParticipantCallState.PENDING_APPROVAL]=j.ZenonParticipantState.PENDING_APPROVAL,h[i.ZenonMWParticipantCallState.APPROVED]=j.ZenonParticipantState.APPROVED,h[i.ZenonMWParticipantCallState.FAILED_APPROVAL]=j.ZenonParticipantState.FAILED_APPROVAL,h[i.ZenonMWParticipantCallState.UNCALLABLE]=j.ZenonParticipantState.UNREACHABLE,h[i.ZenonMWParticipantCallState.HANGUP_IN_WAITING_ROOM]=j.ZenonParticipantState.HANGUP_IN_WAITING_ROOM,h)),O=Object.freeze((j={},j[(h=d("ZenonSignalingTypes")).ZenonSignalingStatusCode.OK]=i.ZenonMWResponseStatusCode.OK,j[h.ZenonSignalingStatusCode.REJECTED_FROM_VERSION_DOES_NOT_MATCH]=i.ZenonMWResponseStatusCode.CONDITIONAL_REQUEST_FAILED,j[h.ZenonSignalingStatusCode.METHOD_NOT_ALLOWED]=i.ZenonMWResponseStatusCode.METHOD_NOT_ALLOWED,j)),P=Object.freeze((j={},j[h.ZenonSignalingStatusSubCode.CLIENT_TERMINATED]=i.ZenonMWResponseSubCode.CLIENT_TERMINATED,j));g.E2EE_STATE_SYNC_TOPIC=m;g.addStateStoreSignalingEvents=a;g.fetchE2eeServerState=b;g.createMWRequest=e;g.createMWResponse=f;g.fromMWDismissReason=o;g.fromMWParticipantState=p;g.getCollisionContextFromAppMessages=q;g.getGenericDataMessageData=r;g.getGenericDataMessageTopic=s;g.getMWAppID=t;g.getRoomMetadataFromAppMessages=u;g.maybeAddOverlayConfigServerUpdateRequest=v;g.mwAppMessagesToSignalingAppMessages=w;g.mwMessageHeaderToSignalingMessageHeader=x;g.signalingMessageAppMessagesToMWAppMessages=y;g.toMWClientMediaStatus=B;g.toMWClientTrackContentType=C;g.toMWDeviceStatus=D;g.toMWHangupReason=E;g.toMWMediaStatus=F;g.toMWMediaStatusEx=G;g.toMWResponseStatusCode=H;g.toMWResponseStatusSubCode=I;g.toMWSyncStateStore=J;g.toMWTrackLabel=K;g.toZenonMediaStates=L}),98);
__d("ZenonMWMessageDebugLogger",["Log","LogHistory","ODS","RpWebStateMachineLoggingBlocklist","ZenonAuditedCheckpointLogId","ZenonIceStatsParser","ZenonInfraActionsLogger","ZenonMWMessageMap","ZenonMWMessageTypes","ZenonMWTranslatorUtils","formatDate","isEmployeeTestUserZenonLogging"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){this.$1=d("LogHistory").getInstance("webrtc"),this.$2=new Set(c("RpWebStateMachineLoggingBlocklist").MESSAGE_TYPES)}var b=a.prototype;b.$3=function(a,b,d){b===void 0&&(b=!0);var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a);b&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] "+a,messageID:d})};b.$4=function(a){a=a.jsonPayload.header;return a.responseStatusCode!=null};b.logMWMessage=function(a,b,d){this.$5(a,b,d);if(d.jsonPayload==null||!c("isEmployeeTestUserZenonLogging")())return;var e=d.jsonPayload.header,f=c("ZenonMWMessageMap")[e.type],g=this.$4(d)?"RESPONSE":"REQUEST";d=this.$6(d);a="[ms] "+a+" ["+b+"] "+f+" "+g+" [retryCount: "+e.retryCount+(d!=null?" details: "+d:"")+"]";this.$2.has(f)||this.$3(a,!0,e.transactionId)};b.$5=function(a,b,c){a=this.$7(a,b,c);a!==null&&(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_signaling",a)};b.$7=function(a,b,e){if(e.jsonPayload==null)return null;var f=e.jsonPayload,g=f.body;f=f.header;var h="";switch(f.type){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE:if(g.dataMessageRequest){h=(g=d("ZenonMWTranslatorUtils").getGenericDataMessageTopic(g.dataMessageRequest))!=null?g:"undefined"}break}g=this.$4(e)?"RESPONSE":"REQUEST";e=c("ZenonMWMessageMap")[f.type];if(h==="")return a+"-"+b+"-"+e+"-"+g;else return a+"-"+b+"-"+e+"-"+g+"-"+h};b.$6=function(a){if(a.jsonPayload==null)return null;var b=a.jsonPayload.header;switch(b.type){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:return this.$8(a);case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:return this.$9(a);case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:return this.$10(a);case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SUBSCRIPTION:return this.$11(a);case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:return this.$12(a);default:return null}};b.$8=function(a){var b=a.jsonPayload,c=b.body;b=b.header;if(this.$4(a)){return JSON.stringify({hasAnswer:((a=c.joinResponse)==null?void 0:a.answer)!=null,hasRenegotiationOffer:((a=c.joinResponse)==null?void 0:a.renegotiationOffer)!=null,isPendingApproval:(a=c.joinResponse)==null?void 0:a.isPendingApproval,multipleVideoStreamsAllowed:(a=c.joinResponse)==null?void 0:a.multipleVideoStreamsAllowed,statusCode:b.responseStatusCode,subCode:b.responseSubCode})}return JSON.stringify({deviceCapabilities:(a=c.joinRequest)==null?void 0:a.deviceCapabilities,sdpType:((b=c.joinRequest)==null?void 0:b.offer)!=null?"offer":((a=c.joinRequest)==null?void 0:a.answer)!=null?"answer":"null",userCapabilities:(b=c.joinRequest)==null?void 0:b.userCapabilities})};b.$9=function(a){var b=a.jsonPayload,c=b.body;b=b.header;if(this.$4(a)){return JSON.stringify({currentVersion:(a=c.serverMediaUpdateResponse)==null?void 0:a.currentVersion,hasAnswer:((a=c.serverMediaUpdateResponse)==null?void 0:a.answer)!=null,statusCode:b.responseStatusCode,subCode:b.responseSubCode})}return JSON.stringify({fromVersion:(a=c.serverMediaUpdateRequest)==null?void 0:a.fromVersion,messageTags:b.messageTags,renegotiationRequested:(b=(a=c.serverMediaUpdateRequest)==null?void 0:a.renegotiationRequested)!=null?b:!1,sdpType:((a=c.serverMediaUpdateRequest)==null?void 0:a.offer)?"offer":((b=c.serverMediaUpdateRequest)==null?void 0:b.answer)?"answer":((a=c.serverMediaUpdateRequest)==null?void 0:a.update)?"delta":"empty",toVersion:(a=(b=c.serverMediaUpdateRequest)==null?void 0:b.toVersion)!=null?a:""})};b.$10=function(a){var b=a.jsonPayload,c=b.body;b=b.header;if(this.$4(a)){return JSON.stringify({currentVersion:(a=(a=c.clientMediaUpdateResponse)==null?void 0:a.currentVersion)!=null?a:"",statusCode:b.responseStatusCode,subCode:b.responseSubCode})}return JSON.stringify({fromVersion:(b=(a=c.clientMediaUpdateRequest)==null?void 0:a.fromVersion)!=null?b:"",toVersion:(b=(a=c.clientMediaUpdateRequest)==null?void 0:a.toVersion)!=null?b:""})};b.$11=function(a){var b=a.jsonPayload.body;return this.$4(a)?null:JSON.stringify({subscriptions:(b=(a=b.subscriptionRequest)==null?void 0:a.subscriptions)!=null?b:""})};b.$12=function(a){var b=a.jsonPayload.body;if(this.$4(a))return null;b=(a=b.iceCandidateRequest)==null?void 0:a.iceCandidateSdps.map(function(a){a=a.candidateSdpString;if(a!=null)return d("ZenonIceStatsParser").extractIceInfo(a)});return JSON.stringify({iceCandidates:b})};b.logSendMultiwayMessageFailure=function(a,b){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","send_message_failure"),h.flush(),c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:"Failed to send MW message of type "+b+". Error msg: "+a+":"})};return a}();b=new a();g["default"]=b}),98);
__d("ZenonArmadilloLoggingChecks",["justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("justknobx")._("1019")}function b(){return c("justknobx")._("1020")}function d(){return c("justknobx")._("1021")}function e(){return c("justknobx")._("1155")}g.isArmadilloCallSummaryLoggingEnabled=a;g.isArmadilloQPLLoggingEnabled=b;g.isArmadilloCheckpointLoggingEnabled=d;g.areArmadilloTslogsEnabled=e}),98);
__d("ZenonMWMessageReliabilityLogTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["RECEIVED_REQUEST","RECEIVED_RESPONSE","PROCESSING_REQUEST","START_PROCESSING_RESPONSE","PROCESSING_RESPONSE","PROCESSED_REQUEST","PROCESSED_RESPONSE","SENDING_REQUEST","SENDING_RESPONSE","SENT_REQUEST","SENT_REQUEST_FROM_HANDLER","SENT_RESPONSE","SEND_REQUEST_FAILED","SEND_REQUEST_FAILED_FROM_HANDLER","SEND_RESPONSE_FAILED","SENT_SM_EVENT","PROCESSED_SM_EVENT","REQUEST_AFTER_NULL_CHECK","REQUEST_AFTER_TRANSLATION"]);f.ZenonMWMessageReliabilityEvent=a}),66);
__d("OculusMqttChannel",["CurrentUser","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();function h(a){d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);a=c("CurrentUser").getAppID()==null?2763362503905702:Number(c("CurrentUser").getAppID());return new(c("MqttChannel"))({appId:a,capabilities:c("MqttWebConfig").capabilities,chatVisibility:!0,clientCapabilities:c("MqttWebConfig").clientCapabilities,clientType:"websocket",deviceId:c("uuidv4")(),endpoint:c("MqttWebConfig").endpoint,initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:c("MqttWebConfig").pollingEndpoint,userFbid:c("CurrentUser").getPossiblyNonFacebookUserID()})}var i=null;function a(a){i==null&&(i=h(a));return i}function b(){return i}function e(){i!=null&&(i.shutdown(),i=null)}g.getOculusMqttChannelInstance=a;g.getOculusMqttChannelInstanceDoNotCreate=b;g.shutdownAndClear=e}),98);
__d("ZenonMqttChannel",["CurrentUser","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);a=c("CurrentUser").getAppID()!=null?Number(c("CurrentUser").getAppID()):c("MqttWebConfig").appID;b=new(c("MqttChannel"))({appId:a,capabilities:c("MqttWebConfig").capabilities,chatVisibility:!1,clientCapabilities:c("MqttWebConfig").clientCapabilities,endpoint:c("MqttWebConfig").endpoint,initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:c("MqttWebConfig").pollingEndpoint,userFbid:c("MqttWebConfig").fbid});e=b;g["default"]=e}),98);
__d("getZenonMqttChannel",["CurrentUser","FBMqttChannel","IGDOverLSMqttChannel","OculusMqttChannel","RpWebMqttEnabledAppIds","ZenonAppProvider","ZenonMqttChannel"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(c("RpWebMqttEnabledAppIds").APP_IDS);function a(){if(d("ZenonAppProvider").isInstagramApp())return d("IGDOverLSMqttChannel").getInstance();else if(d("ZenonAppProvider").isOculusCastingSite())return d("OculusMqttChannel").getOculusMqttChannelInstance();else return h.has(Number(c("CurrentUser").getAppID()))?c("ZenonMqttChannel"):c("FBMqttChannel")}g["default"]=a}),98);
__d("ZenonMWMessageQPLLogger",["DateConsts","QPLMsgTypesSitevarConfig","QPLUserFlow","ZenonMWMessageMap","ZenonMWMessageReliabilityLogTypes","getZenonMqttChannel","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=30*d("DateConsts").MS_PER_SEC,i=c("getZenonMqttChannel")(),j=new Map();function a(a,b,e){var f=a.jsonPayload.header,g=c("ZenonMWMessageMap")[f.type].toLowerCase();if(!c("QPLMsgTypesSitevarConfig").QPL_MSG_TYPES.includes(g))return;f=k(f.transactionId);switch(b){case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_REQUEST:l(f,g,{connectionState:(b=e==null?void 0:e.connectionState)!=null?b:"",peerConnectionState:(b=e==null?void 0:e.peerConnectionState)!=null?b:"",signalingState:(b=e==null?void 0:e.signalingState)!=null?b:""},a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_REQUEST:m(f);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_RESPONSE:n(f,a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_RESPONSE:o(f,a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_RESPONSE_FAILED:p(f,a,e==null?void 0:e.errorMessage);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_REQUEST:q(f,g,{connectionState:(b=e==null?void 0:e.connectionState)!=null?b:"",peerConnectionState:(g=e==null?void 0:e.peerConnectionState)!=null?g:"",signalingState:(b=e==null?void 0:e.signalingState)!=null?b:""},a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_REQUEST:r(f);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_REQUEST_FAILED:s(f,e==null?void 0:e.errorMessage);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_RESPONSE:t(f,a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_SM_EVENT:u(f,e==null?void 0:e.smEvent);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_SM_EVENT:v(f,e==null?void 0:e.smEvent);return;default:return}}function b(a,b){c("QPLUserFlow").addAnnotations(c("qpl")._(398988976,"737"),{string:babelHelpers["extends"]({},b)},{instanceKey:+a})}function k(a){a=isNaN(+a)?0:+a;var b=9223372036854776e3;return Math.round(a%b)}function l(a,b,d,e){c("QPLUserFlow").start(c("qpl")._(398988976,"737"),{annotations:{"int":{retryCount:e.jsonPayload.header.retryCount},int_array:{messageTags:e.jsonPayload.header.messageTags},string:babelHelpers["extends"]({},d,{messageType:b,mqttState:i.getConnectionState()})},instanceKey:a,timeoutInMs:h});if(e.jsonPayload.body.serverMediaUpdateRequest){d=e.jsonPayload.body.serverMediaUpdateRequest;b=d.answer;e=d.offer;d=d.update;c("QPLUserFlow").addAnnotations(c("qpl")._(398988976,"737"),{string:{sdpType:e?"offer":b?"answer":d?"delta":"empty"}},{instanceKey:a})}e={onMQTTStateChanged:function(b){c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"mqtt_"+b,{instanceKey:a})}};i.subscribeChannelEvents(e);j.set(a,e);return}function m(a){c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"processed_request",{instanceKey:a})}function n(a,b){b=b.jsonPayload.header;var d=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"sending_response",{instanceKey:a});c("QPLUserFlow").addAnnotations(c("qpl")._(398988976,"737"),{"int":{responseStatusCode:d,responseSubCode:b}},{instanceKey:a})}function o(a,b){b=b.jsonPayload.header;var d=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").endSuccess(c("qpl")._(398988976,"737"),{annotations:{"int":{responseStatusCode:d,responseSubCode:b}},instanceKey:a});d=j.get(a);d&&(i.unsubscribeChannelEvents(d),j["delete"](a))}function p(a,b,d){b=b.jsonPayload.header;var e=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").endFailure(c("qpl")._(398988976,"737"),"send_response_failed",{annotations:{"int":{responseStatusCode:e,responseSubCode:b},string:{errorMessage:d}},instanceKey:a});e=j.get(a);e&&(i.unsubscribeChannelEvents(e),j["delete"](a))}function q(a,b,d,e){c("QPLUserFlow").start(c("qpl")._(398988976,"737"),{annotations:{"int":{retryCount:e.jsonPayload.header.retryCount},int_array:{messageTags:e.jsonPayload.header.messageTags},string:babelHelpers["extends"]({},d,{messageType:b,mqttState:i.getConnectionState()})},instanceKey:a,timeoutInMs:h})}function r(a){c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"sending_request",{instanceKey:a})}function s(a,b){c("QPLUserFlow").endFailure(c("qpl")._(398988976,"737"),"send_request_failed",{annotations:{string:{errorMessage:b}},instanceKey:a})}function t(a,b){b=b.jsonPayload.header;var d=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").endSuccess(c("qpl")._(398988976,"737"),{annotations:{"int":{responseStatusCode:d,responseSubCode:b}},instanceKey:a})}function u(a,b){b!=null&&c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"sent_sm_event:"+b,{instanceKey:a})}function v(a,b){b!=null&&c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"processed_sm_event:"+b,{instanceKey:a})}g.log=a;g.updateState=b}),98);
__d("ZenonMWMessageReliabilityLogger",["ODS","ZenonArmadilloLoggingChecks","ZenonMWMessageMap","ZenonMWMessageQPLLogger","ZenonMWMessageReliabilityLogTypes","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=new Map(),k=new Map();function a(a){k.set(a,!0)}function b(a,b,c){a=j.get(a);if(!a)return;v(a,b,c)}function e(a){r(a)?v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_RESPONSE):v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_REQUEST)}function f(a){r(a)?v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSING_RESPONSE):v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSING_REQUEST)}function l(a){r(a)||v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_NULL_CHECK)}function m(a){r(a)||v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_TRANSLATION)}function n(a){r(a)?v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_RESPONSE):v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_REQUEST)}function o(a){r(a)?v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_RESPONSE):v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_REQUEST)}function p(a){r(a)?v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_RESPONSE):v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_REQUEST)}function q(a,b){var c=r(a)?d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_RESPONSE_FAILED:d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_REQUEST_FAILED;v(a,c,{errorMessage:b})}function r(a){a=a.jsonPayload.header;return a.responseStatusCode!=null}function s(a,b){var e=a.jsonPayload.header;e=c("ZenonMWMessageMap")[e.type].toLowerCase();a=r(a)?"response":"request";switch(b){case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_REQUEST:case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_RESPONSE:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","receive_"+a+"_"+e);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSING_REQUEST:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","processing_"+a+"_"+e);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_REQUEST:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","processed_"+a+"_"+e);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_RESPONSE:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","sending_"+a+"_"+e);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_TRANSLATION:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","after_translation_"+a+"_"+e);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_NULL_CHECK:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","after_null_check_"+a+"_"+e);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_RESPONSE:case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_REQUEST:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","sent_"+a+"_"+e);(h||(h=d("ODS"))).flush();return;default:return}}var t={connectionState:"",peerConnectionState:"",signalingState:""};function u(a){var b=babelHelpers["extends"]({},t,a);if(t.connectionState!==b.connectionState||t.peerConnectionState!==b.peerConnectionState||t.signalingState!==b.signalingState){t=b;for(var b=i.keys(),c=Array.isArray(b),e=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;d("ZenonMWMessageQPLLogger").updateState(f,a)}}}function v(a,b,e){var f;if(c("justknobx")._("855"))return;var g=a.jsonPayload.header;f=(f=i.get(g.transactionId))!=null?f:new Set();i.set(g.transactionId,f);if(b!==d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_SM_EVENT&&b!==d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_SM_EVENT&&f.has(b))return;f.add(b);j.set(g.transactionId,a);s(a,b);f=(g=k.get((f=g.clientSessionId)!=null?f:""))!=null?g:!1;(!f||d("ZenonArmadilloLoggingChecks").isArmadilloQPLLoggingEnabled())&&d("ZenonMWMessageQPLLogger").log(a,b,babelHelpers["extends"]({},e,t))}g.setE2eeIsMandatedForCall=a;g.logEventForTxid=b;g.logReceivedMessage=e;g.logProcessingMessage=f;g.logMessageAfterNullCheck=l;g.logMessageAfterTranslation=m;g.logProcessedMessage=n;g.logSendingMessage=o;g.logSentMessage=p;g.logSendMessageFailed=q;g.updateState=u}),98);
__d("ZenonMWAddRemoveParticipantsTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";var h="new_room_context";function a(a,b){var c={usersToInvite:b.participants};if(b.groupThreadId!=null){b={calling_tags:2,group_thread_id:b.groupThreadId};if(b){b=[{body:{genericMessage:{data:JSON.stringify(b),topic:h}},header:{topic_DEPRECATED:h}}];c.appMessages=b}}return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ADD_PARTICIPANTS,a,{addParticipantsRequest:c})}function b(a,b){b={usersToRemove:b.participants};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.REMOVE_PARTICIPANTS,a,{removeParticipantsRequest:b})}g.NEW_ROOM_CONTEXT=h;g.toAddParticipantsRequest=a;g.toRemoveParticipantsRequest=b}),98);
__d("ZenonMWApprovalTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=b.approvalStatus;b=b.targetUsers;c={approvalStatus:c,targetUsers:b};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.APPROVAL,a,{approvalRequest:c})}g.toApprovalRequest=a}),98);
__d("ZenonMWClientEventTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b={clientEvents:[{type:b.clientEventType}]};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_EVENT,a,{clientEventRequest:b})}g.toClientEventRequest=a}),98);
__d("ZenonMWCommonUtils",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.split("\n");if(a.length<2)throw c("unrecoverableViolation")("Expected SDP string with two or more lines, but got "+a.length,"rtc_www");a=a[1].trim();a=a.split(" ");if(a.length<3)throw c("unrecoverableViolation")("Session line should have at least 3 tokens, but got "+a.length,"rtc_www");a=parseInt(a[2],10);if(isNaN(a))throw c("unrecoverableViolation")("SDP version could not be parsed as number.","rtc_www");return a}function b(a){return a.includes("BUNDLE 0")}g.getSdpVersion=a;g.isUnifiedPlan=b}),98);
__d("ZenonMWClientMediaUpdateTranslator",["ZenonMWCommonUtils","ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload;var c=a.body;a=a.header;c=c.clientMediaUpdateResponse;var e=a.responseStatusCode,f=a.responseSubCode,g=a.retryAfterMsec;if(c){var h=c.answer,i=c.mediaStatus,j=h!=null&&i!=null;d("ZenonMWTranslatorUtils").addStateStoreSignalingEvents(c.stateStore,b,!1,j);var k=d("ZenonMWTranslatorUtils").fetchE2eeServerState(c.stateStore);if(j){h=(j=h==null?void 0:h.sdpString)!=null?j:"";j=d("ZenonMWTranslatorUtils").toZenonMediaStates(i);i={ackMessageId:a.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:!1,source:"clientMediaUpdate"};var l=c.renegotiationOffer,m=null;l!=null&&l.sdpString!=null&&(m={sdp:l.sdpString,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(l.sdpString)});l={e2eeServerState:k,eventName:"remoteSdpRequest",mediaPath:c.mediaPath,mediaStates:j,negotiateType:!1,renegotiationOffer:m,sdp:{sdp:h,type:"answer",version:d("ZenonMWCommonUtils").getSdpVersion(h)},sdpOriginLocalId:c.sdpOriginLocalId,source:"clientMediaUpdateResponse"};b.push(i);b.push(l)}k={ackMessageId:a.transactionId,acknowledgedVersion:c.currentVersion,eventName:"mediaUpdateResponse",responseStatusCode:e,responseSubCode:f,retryAfter:g};b.push(k)}return b}function b(a,b,c){b={fromVersion:b.version,mediaUpdates:[{mediaStatus:d("ZenonMWTranslatorUtils").toMWMediaStatus(b),mediaStatusEx:d("ZenonMWTranslatorUtils").toMWMediaStatusEx(b)}],toVersion:b.version};c!==void 0&&(b.offer={sdpString:c.sdp});return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE,a,{clientMediaUpdateRequest:b})}g.fromClientMediaUpdateResponse=a;g.toClientMediaUpdateRequest=b}),98);
__d("ZenonMWConferenceStateTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],c=a.jsonPayload.body.conferenceStateRequest;if(c){var e=c.appMessages,f=c.participantStates,g={eventName:"participantUpdateRequest",participantStates:new Map(),sctpUserIdNodeIdMap:new Map(),versionId:c.version},h={actorRepresentatives:new Map(),eventName:"clientInfoRequest",mediaPath:d("ZenonMWMessageTypes").ZenonMWMediaPath.UNKNOWN,userCapabilities:new Map()};Object.keys(f).forEach(function(a){var b=f[a],c=b.sctpNodeId,e=b.state;b=b.userCapabilities;g.participantStates.set(a,d("ZenonMWTranslatorUtils").fromMWParticipantState(e));c!=null&&g.sctpUserIdNodeIdMap.set(a,c);h.userCapabilities.set(a,(e=b)!=null?e:"")});b.push(g);b.push(h);c=d("ZenonMWTranslatorUtils").getCollisionContextFromAppMessages(e);if(c){c.serverInfoData=a.jsonPayload.header.serverInfoData;e={context:c,eventName:"roomContextUpdateRequest"};b.push(e)}}return b}function b(a,b){b={currentVersion:b.requestVersionId};return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONFERENCE_STATE,a,{conferenceStateResponse:b})}g.fromConferenceStateRequest=a;g.toConferenceStateResponse=b}),98);
__d("ZenonMWDataMessageTranslator",["ZenonActorHooks","ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.body.dataMessageRequest;if(a){var c=a.message.header,e=d("ZenonMWTranslatorUtils").getGenericDataMessageData(a);a=d("ZenonMWTranslatorUtils").getGenericDataMessageTopic(a);if(e!=null&&a!=null){c={data:e,eventName:"genericDataMessageRequest",recipientIDs:(e=c.recipients)!=null?e:[],serviceRecipients:(e=c.serviceRecipients)!=null?e:[],topic:a};b.push(c)}}return b}function b(a,b){var c={data:b.data,topic:b.topic};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE,a,{dataMessageRequest:{message:{body:{genericMessage:c},header:{recipients:b.recipientIDs,sender:d("ZenonActorHooks").ZenonActor.getID(),serviceRecipients:b.serviceRecipients,topic_DEPRECATED:""}}}})}function c(a){return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE,a,{dataMessageResponse:{deliveryResult:{}}})}g.fromDataMessageRequest=a;g.toDataMessageRequest=b;g.toDataMessageResponse=c}),98);
__d("ZenonMWDismissTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.body.dismissRequest;if(a){var c=a.detailedReasonString;a=a.reason;a={eventName:"terminateRequest",fromJoinResponse:!1,reason:d("ZenonMWTranslatorUtils").fromMWDismissReason(a),shouldInformPeer:!0,subreason:c};b.push(a)}return b}function b(a){return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DISMISS,a,{})}g.fromDismissRequest=a;g.toDismissResponse=b}),98);
__d("ZenonMWHangupTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"hangupResponse"};b.push(a);return b}function b(a,b){b=b.reason;b={detailedReasonString:"",reason:d("ZenonMWTranslatorUtils").toMWHangupReason(b)};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.HANGUP,a,{hangupRequest:b})}g.fromHangupResponse=a;g.toHangupRequest=b}),98);
__d("ZenonMWIceCandidateTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.body.iceCandidateRequest;if(a){a={eventName:"iceCandidateRequest",iceCandidates:a.iceCandidateSdps.map(function(a){var b;return{candidateSdpString:(b=a.candidateSdpString)!=null?b:"",sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex}})};b.push(a)}return b}function b(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"iceCandidateResponse"};b.push(a);return b}function c(a){return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE,a,{})}function e(a,b){b=b.iceCandidates;b=b.map(function(a){return{candidateSdpString:a.candidateSdpString,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex}});b={iceCandidateSdps:b};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE,a,{iceCandidateRequest:b})}g.fromIceCandidateRequest=a;g.fromIceCandidateResponse=b;g.toIceCandidateResponse=c;g.toIceCandidateRequest=e}),98);
__d("MultiwaySharedTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({UNKNOWN:0,SFU:1,P2P:2});d=a({UNKNOWN:0,GROUP:1,IGLIVE:8,IGVIDEOCALL:9,OCULUS:10,ROOM:15,DEBUGTOOL:16,DARWIN:19,CRUCIBLE:20,MBS_WA:21});f=a({OFFER:0,PRANSWER:1,ANSWER:2,PROFFER:3});b=a({LOW:0,MEDIUM:1,HIGH:2,HD:3,NUM_QUALITIES:4});var g=a({E2EE_NOT_MANDATED:0,DEPRECATED_NO_REQUIREMENT:1,E2EE_MANDATED:2}),h=a({NOT_SET:0,CONTROL:1,TEST:2}),i=a({NotPaused:0,Paused:1}),j=a({AUDIO:0,VIDEO:1,DATA:2}),k=a({UDP:1,TCP:2}),l=a({UNKNOWN:0,COMPOSITING_SERVICE:1,MEDIA_SERVER:2,CATHODE_AMBISONIC:3,CATHODE_CAPTIONS:4}),m=a({CNAME:0,TRACK:1,DOMINANT_SPEAKER:2}),n=a({UNKNOWN:0,DEFAULT:1,SCREEN_SHARE:2}),o=a({UNSPECIFIED:0,FNA:1,FNA_PREFERRED:2});a=a({IntValue:"intValue",StringValue:"stringValue"});e.exports={ConferenceType:d,E2eeInfraMandatedExpStatus:h,E2eeMode:g,EdgerayType:o,EndpointServiceType:l,MediaPath:c,MediaPauseStatus:i,MediaType:j,ProxygenCandidateProtocol:k,QuickExperimentValue$Types:a,RenderedStreamType:n,SdpType:f,SubscriptionType:m,VideoQuality:b}}),null);
__d("ZenonJoiningContext",[],(function(a,b,c,d,e,f){"use strict";b="joining_context";function a(a){var b=a.callablePostID,c=a.callingTags,d=a.callTrigger,e=a.conferenceName,f=a.groupThreadID,g=a.igThreadID,h=a.immersiveModeDoorID,i=a.linkUrl,j=a.liveBroadcastID,k=a.meetingID,l=a.peerID,m=a.rtcDoorID;a=a.serverInfoData;return{call_trigger:d,callable_post_id:b,calling_tags:c,conference_name:e,group_thread_id:f,ig_thread_id:g,immersive_mode_door_id:h,link_url:i,live_broadcast_id:j,meeting_id:k,peer_id:l,rtc_door_id:m,server_info_data:a}}f.JOINING_CONTEXT_TOPIC=b;f.convertCollisionToJoiningContext=a}),66);
__d("ZenonBrowsers",["UserAgent","UserAgentData"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("UserAgent").isBrowser("Chrome")}function i(){return!!navigator.webkitGetUserMedia}function a(){return c("UserAgent").isBrowser("Edge (Chromium Based)")}function j(){return c("UserAgent").isBrowser("Safari")}function k(){return c("UserAgent").isBrowser("Firefox")}function b(){return c("UserAgent").isBrowser("Opera")}function l(){return c("UserAgent").isBrowser("Mobile Safari")}function m(){return c("UserAgent").isBrowser("Oculus Browser")}function n(){return c("UserAgent").isBrowser("Samsung Browser")}function d(){return l()||c("UserAgent").isPlatform("Android")||n()}function o(){return c("UserAgent").isPlatform("Android")||c("UserAgent").isPlatform("iOS")}function p(){if(k()){var a;return(a=c("UserAgentData").browserVersion)!=null?a:0}if(i()){a=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return a!=null?parseInt(a[2],10):999}return 0}function q(){return c("UserAgent").isBrowser("FBLite")||c("UserAgent").isBrowser("Facebook for Android")}function e(a){if(!q())return!1;var b=p();return b>=a}function f(){return k()}function r(){return k()||j()||c("UserAgent").isBrowser("Chrome >= 97")}function s(){return!o()&&(c("UserAgent").isBrowser("Chrome >= 51")||c("UserAgent").isBrowser("Opera >= 36"))}function t(){return c("UserAgent").isBrowser("Firefox < 60")||c("UserAgent").isBrowser("Edge")}function u(){return!m()}function v(){return!m()}function w(){return!l()&&!j()&&!((i()||h())&&p()<80)&&!(k()&&p()<70)}function x(){return(i()||h())&&p()>=77||c("UserAgent").isBrowser("Firefox >= 70")||c("UserAgent").isBrowser("Safari >= 14.1")}function y(){return c("UserAgent").isBrowser("Chrome >= 89")||c("UserAgent").isBrowser("Opera >= 75")||c("UserAgent").isBrowser("Edge (Chromium Based) >= 89")}g.isChrome=h;g.isChromium=i;g.isChromiumBasedEdge=a;g.isDesktopSafari=j;g.isFirefox=k;g.isOpera=b;g.isMobileSafari=l;g.isOculusBrowser=m;g.isSamsung=n;g.isSupportedMobileBrowser=d;g.isMobileDevice=o;g.webrtcVersion=p;g.isFBWebview=q;g.isFBWebviewWithChromeMinVersion=e;g.noTransceiverForNegotiations=f;g.onlySupportsUnifiedPlan=r;g.isVideoFilterEffectSupported=s;g.videoEscalationByUnmuteWorkaround=t;g.supportsMWAVEscalation=u;g.supportsVideoCalls=v;g.supportsRollback=w;g.supportsIceRestart=x;g.isVideoLayersAllocationSupported=y}),98);
__d("ZenonIGMediaUtil",["ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";a={shouldUseSFUOnly:function(){return d("ZenonAppProvider").isInstagramApp()&&!c("gkx")("2274")}};b=a;g["default"]=b}),98);
__d("ZenonE2eeMandatedStateManager",["$InternalEnum","E2eeStateTypes","MultiwaySharedTypes","ZenonActorHooks","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum").Mirrored(["NONE","ONLY_INFRA_MANDATED_EXP_CONTROL","ONLY_INFRA_MANDATED_EXP_TEST","INFRA_AND_PRODUCT_MANDATED"]),i=null,j=function(){function a(){this.$1=h.NONE}var b=a.prototype;b.processE2eeMandatedStateFromProductAndRing=function(a,b){this.$1=this.$2(a,b)};b.areBothInfraAndProductE2eeMandated=function(){return this.$1===h.INFRA_AND_PRODUCT_MANDATED};b.isInfraE2eeMandated=function(){return this.areBothInfraAndProductE2eeMandated()||this.$3()};b.$3=function(){return this.$1===h.ONLY_INFRA_MANDATED_EXP_TEST};b.processE2eeMandatedStateFromE2eeServerUpdate=function(a){if(this.areBothInfraAndProductE2eeMandated())return;if(a===d("E2eeStateTypes").InfraMandatedExpStatus.TEST&&this.$1===h.ONLY_INFRA_MANDATED_EXP_TEST)return;if(a===d("E2eeStateTypes").InfraMandatedExpStatus.CONTROL&&this.$1===h.ONLY_INFRA_MANDATED_EXP_CONTROL)return;this.$1=h.NONE};b.isEligibleForE2eeInfraMandatedExperiment=function(){var a;return(a=(a=c("qex")._("138"))!=null?a:c("qex")._("192"))!=null?a:!1};b.isP2pMediaPathPreferredForInfraMandatedExperiment=function(){var a;return this.$3()&&((a=(a=c("qex")._("531"))!=null?a:c("qex")._("532"))!=null?a:!1)};b.getE2eeInfraMandatedExpStatus=function(){switch(this.$1){case h.INFRA_AND_PRODUCT_MANDATED:case h.NONE:return d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.NOT_SET;case h.ONLY_INFRA_MANDATED_EXP_CONTROL:return d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.CONTROL;case h.ONLY_INFRA_MANDATED_EXP_TEST:return d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.TEST}};b.$2=function(a,b){if(a)return h.INFRA_AND_PRODUCT_MANDATED;if(d("ZenonActorHooks").ZenonActor.getAppID()===436761779744620..toString())return h.NONE;if(!this.isEligibleForE2eeInfraMandatedExperiment())return h.NONE;a=this.$4();if(b==null)return a;b=this.$5(b);if(b===h.NONE)return h.NONE;return b===h.ONLY_INFRA_MANDATED_EXP_CONTROL?a===h.ONLY_INFRA_MANDATED_EXP_TEST?h.NONE:h.ONLY_INFRA_MANDATED_EXP_CONTROL:a===h.ONLY_INFRA_MANDATED_EXP_CONTROL?h.NONE:h.ONLY_INFRA_MANDATED_EXP_TEST};b.$4=function(){var a=this.$6();if(a===d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.TEST)return h.ONLY_INFRA_MANDATED_EXP_TEST;return a===d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.CONTROL?h.ONLY_INFRA_MANDATED_EXP_CONTROL:h.NONE};b.$6=function(){var a;return(a=c("qex")._("196"))!=null?a:c("qex")._("227")};b.$5=function(a){if(a===d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.TEST)return h.ONLY_INFRA_MANDATED_EXP_TEST;return a===d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.CONTROL?h.ONLY_INFRA_MANDATED_EXP_CONTROL:h.NONE};return a}();function a(){i==null&&(i=new j());return i}e=a();g["default"]=e}),98);
__d("shouldUseSFUMediaPath",["ZenonAppProvider","ZenonE2eeMandatedStateManager","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e,f,g=c("gkx")("25249");e=(e=c("qex")._("80"))!=null?e:!1;f=(f=c("qex")._("12"))!=null?f:!1;var h=a&&(c("gkx")("25250")||c("gkx")("1212"));if(g)return!0;if(h)return!1;if(a)return!0;if(c("ZenonE2eeMandatedStateManager").isInfraE2eeMandated())return!c("ZenonE2eeMandatedStateManager").isP2pMediaPathPreferredForInfraMandatedExperiment();if(f)return!1;if(e)return!0;return d("ZenonAppProvider").isMessengerWebApp()&&b&&((g=c("gkx")("3298"))!=null?g:!1)?!0:!1}g["default"]=a}),98);
__d("ZenonMWJoinUtils",["ZenonBrowsers","ZenonIGMediaUtil","gkx","shouldUseSFUMediaPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ZenonBrowsers").isFirefox()&&a!=="answer"?!1:!c("ZenonIGMediaUtil").shouldUseSFUOnly()}function b(a){return c("shouldUseSFUMediaPath")(a,!1)?!1:c("gkx")("25223")}g.canUseMwpp=a;g.canDeescalate=b}),98);
__d("ZenonMWJoinTranslator",["MultiwaySharedTypes","RoboticsPermission","ZenonAuditedCheckpointLogId","ZenonDismissReason","ZenonInfraActionsLogger","ZenonJoiningContext","ZenonMWCommonUtils","ZenonMWJoinUtils","ZenonMWMessageTypes","ZenonMWTranslatorUtils","ZenonScreenShare","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],e=a.jsonPayload.header,f=e.responseStatusCode,g=e.responseSubCode;if(f&&f!==d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK){g="JOIN response status code: "+f+" subcode "+((g=g)!=null?g:"[undefined]");c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,callType:"mw",checkpoint:"[ZP] Got non-OK "+g,errorDomain:"ZenonMWMessageTranslator.fromJoinResponse"});f={detailedReasonFromMW:e.responseStatusMessage,eventName:"terminateRequest",fromJoinResponse:!0,reason:h(f,e.responseSubCode),shouldInformPeer:!1,subreason:g};b.push(f);return b}g=a.jsonPayload.body.joinResponse;if(!g)return b;f=(a=(f=g.answer)==null?void 0:f.sdpString)!=null?a:"";a=f!=="";d("ZenonMWTranslatorUtils").addStateStoreSignalingEvents(g.stateStore,b,!1,a);d("ZenonMWTranslatorUtils").maybeAddOverlayConfigServerUpdateRequest(b,e);var i=d("ZenonMWTranslatorUtils").fetchE2eeServerState(g.stateStore);e={ackMessageId:e.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:a,source:"joinResponse"};b.push(e);if(a){e={sdp:f,type:"answer",version:d("ZenonMWCommonUtils").getSdpVersion(f)};a=d("ZenonMWTranslatorUtils").toZenonMediaStates(g.mediaStatusEx);f=g.renegotiationOffer;var j=null;f!=null&&f.sdpString!=null&&(j={sdp:f.sdpString,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(f.sdpString)});f={e2eeServerState:i,eventName:"remoteSdpRequest",mediaPath:g.mediaPath,mediaStates:a,negotiateType:!1,renegotiationOffer:j,sdp:e,sdpOriginLocalId:g.sdpOriginLocalId,source:"joinResponse"};b.push(f)}i={capabilities:{addParticipantEnabled:!0,cowatchEnabled:!0,cowatchGroupEnabled:!0,multipleVideoStreamsAllowed:g.multipleVideoStreamsAllowed},eventName:"capabilitiesRequest"};b.push(i);if(g.isPendingApproval){a={eventName:"pendingApprovalRequest"};b.push(a)}j=g.groupsOfUsers;var k=new Map();j.forEach(function(a){var b=a.aliasId;a=a.users;b!=null&&a.forEach(function(a){k.set(a,b)})});e={actorRepresentatives:k,eventName:"clientInfoRequest",mediaPath:g.mediaPath,userCapabilities:new Map()};b.push(e);return b}function b(a,b,e,f){var g,h=b.initialSyncStates,k=b.isSecondaryJoinRole,l=b.userCapabilities;g={clientMediaMode:j(e.mediaMode),deviceCapabilities:[(g=d("ZenonMWMessageTypes")).ZenonMWCapability.SUPPORT_NEW_PARTICIPANT_STATES,g.ZenonMWCapability.REQUIRE_FULL_SDP_IN_SMU,g.ZenonMWCapability.SUPPORT_SDP_RENEGOTIATION,g.ZenonMWCapability.REQUIRE_FULL_SDP_IN_SMU_OPTIMIZED,g.ZenonMWCapability.SUPPORT_DELTA_SMU].concat(c("gkx")("25225")?[d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_PRECONNECT]:[]),mediaStatus:d("ZenonMWTranslatorUtils").toMWMediaStatus(e.mediaStates),mediaStatusEx:d("ZenonMWTranslatorUtils").toMWMediaStatusEx(e.mediaStates),offer:{},syncPayload:h?{stateStore:d("ZenonMWTranslatorUtils").toMWSyncStateStore(h)}:void 0,userCapabilities:l.get(a.userInfo.userID)};k!=null&&(g.endpointSettings={joinMode:k?d("ZenonMWMessageTypes").ZenonMWJoinMode.SECONDARY:d("ZenonMWMessageTypes").ZenonMWJoinMode.PRIMARY});h=b.isE2eeMandated===!0;g.e2eeEnforcement={infraMandatedExpStatus:(l=b.e2eeInfraMandatedExpStatus)!=null?l:d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.NOT_SET,mode:h?d("ZenonMWMessageTypes").ZenonMWE2eeMode.E2EE_MANDATED:d("ZenonMWMessageTypes").ZenonMWE2eeMode.E2EE_NOT_MANDATED};e.sdp.type==="offer"&&(g.offer={sdpString:e.sdp.sdp});d("ZenonMWJoinUtils").canUseMwpp(e.sdp.type)&&(g.deviceCapabilities.push(d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_MWPP),e.sdp.type==="answer"&&(g.answer={sdpString:e.sdp.sdp}),d("ZenonMWJoinUtils").canDeescalate(h)&&g.deviceCapabilities.push(d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_MWPP_DEESCALATION));(!d("ZenonScreenShare").screenShareWithReplaceTrack()||c("RoboticsPermission").is_authorized_robot)&&g.deviceCapabilities.push(d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_MULTIPLE_VIDEO_STREAMS);k=f==null?void 0:f.otherParticipants;k&&(g.usersToCall=k);b=[];e=(l=f==null?void 0:f.roomInfo.context)!=null?l:a.roomInfo.context;if(e!=null){l=d("ZenonJoiningContext").convertCollisionToJoiningContext(e);h&&(l.calling_tags=2);b=[].concat(b,[{body:{genericMessage:{data:JSON.stringify(l),topic:d("ZenonJoiningContext").JOINING_CONTEXT_TOPIC}},header:{topic_DEPRECATED:d("ZenonJoiningContext").JOINING_CONTEXT_TOPIC}}])}(f==null?void 0:f.appMessages)!=null&&(b=[].concat(b,d("ZenonMWTranslatorUtils").signalingMessageAppMessagesToMWAppMessages(f.appMessages,k)));g.appMessages=b;h=d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN,a,{joinRequest:g});e&&e.serverInfoData!=null&&(h.jsonPayload.header.serverInfoData=e.serverInfoData);i(e,h.jsonPayload.header)&&(h.jsonPayload.header.conferenceType=d("ZenonMWMessageTypes").ZenonMWConferenceType.ROOM);return h}function h(a,b){if(b===d("ZenonMWMessageTypes").ZenonMWResponseSubCode.EXCEEDED_MAX_ALLOWED_PARTICIPANTS)return d("ZenonDismissReason").ZenonDismissReason.MaxAllowedParticipantsReached;if(b===d("ZenonMWMessageTypes").ZenonMWResponseSubCode.PRODUCT_SERVER_DEFINED_END_REASON)return d("ZenonDismissReason").ZenonDismissReason.ProductServerDefinedEndReason;switch(a){case d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.METHOD_NOT_ALLOWED:case d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.UNAUTHORIZED:return d("ZenonDismissReason").ZenonDismissReason.NoPermission;case d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.SERVICE_UNAVAILABLE:return d("ZenonDismissReason").ZenonDismissReason.SignalingMessageFailed;case d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK:throw c("unrecoverableViolation")("Response status code is OK; should not return a dismiss reason","rtc_www");default:c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,callType:"mw",error:"[ZP] Got unexpected JOIN response status: "+a+" subcode "+((a=b)!=null?a:"[undefined]"),errorDomain:"fromMWJoinResponseStatusToDismissReason"});return d("ZenonDismissReason").ZenonDismissReason.UnexpectedEndOfCall}}function i(a,b){return((a==null?void 0:a.peerID)!=null||(a==null?void 0:a.groupThreadID)!=null)&&b.conferenceName==null}function j(a){return a==="p2p"?d("ZenonMWMessageTypes").ZenonMWMediaPath.P2P:d("ZenonMWMessageTypes").ZenonMWMediaPath.SFU}g.fromJoinResponse=a;g.toJoinRequest=b}),98);
__d("ZenonMWPingTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"pingResponse"};b.push(a);return b}function b(a){var b=Object.freeze({});return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.PING,a,{pingRequest:b})}g.fromPingResponse=a;g.toPingRequest=b}),98);
__d("ZenonMWRingTranslator",["ZenonMWCommonUtils","ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){if(b)return{groupThreadID:b.groupThreadId,peerID:b.peerId,serverInfoData:c};b=d("ZenonMWTranslatorUtils").getCollisionContextFromAppMessages(a);b&&(b.serverInfoData=c);return(a=b)!=null?a:{groupThreadID:null,peerID:null,serverInfoData:c}}function a(a,b){var c=[];a=a.jsonPayload;var e=a.body;a=a.header;e=e.ringRequest;if(e){var f=e.appMessages,g=e.caller,i=e.e2eeEnforcement,j=e.otherParticipants,k=e.ringType,l=e.sdpOriginLocalId,m=e.threadIdInfo;g=g;k=k===d("ZenonMWMessageTypes").ZenonMWRingType.PEER_VIDEO_CALL||k===d("ZenonMWMessageTypes").ZenonMWRingType.GROUP_VIDEO_CALL||k===d("ZenonMWMessageTypes").ZenonMWRingType.LIVE_STREAM||k===d("ZenonMWMessageTypes").ZenonMWRingType.PEER_ESCALATED_AUDIO_CALL;var n=a.conferenceName;a=a.serverInfoData;m=h(f,m,a);var o=d("ZenonMWTranslatorUtils").getRoomMetadataFromAppMessages(f);g={actorID:b.actorID,e2eeInfraMandatedExpStatus:i==null?void 0:i.infraMandatedExpStatus,eventName:"inviteRequest",inviterID:g,isE2eeMandated:(i==null?void 0:i.mode)===d("ZenonMWMessageTypes").ZenonMWE2eeMode.E2EE_MANDATED,isRemoteOfferer:!1,otherParticipants:j,requestingVideo:k,roomInfo:babelHelpers["extends"]({context:m,name:n},o==null?{}:{room:o,sender:o.sender}),serverInfoData:a,userID:b.userInfo.userID};f!=null&&(g.appMessages=d("ZenonMWTranslatorUtils").mwAppMessagesToSignalingAppMessages(f));c.push(g);k=(j=(i=e.offer)==null?void 0:i.sdpString)!=null?j:"";n=(m=e.mediaStatusEx)!=null?m:null;if(k!==""&&n!=null){o={sdp:k,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(k)};a=d("ZenonMWTranslatorUtils").toZenonMediaStates(n);b={eventName:"remoteSdpRequest",mediaPath:e.mediaPath,mediaStates:a,negotiateType:!1,sdp:o,sdpOriginLocalId:l,source:"ringRequest"};c.push(b)}}return c}function b(a,b){b=b.status;b==="IN_ANOTHER_CALL"&&(a.signalingID=null);b=d("ZenonMWTranslatorUtils").toMWDeviceStatus(b);b={deviceCapabilities:[d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_AUDIO_DEPRECATED,d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_VIDEO_DEPRECATED],deviceStatus:b};return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.RING,a,{ringResponse:b})}g.fromRingRequest=a;g.toRingResponse=b}),98);
__d("ZenonMWServerMediaUpdateTranslator",["FBLogger","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonMWCommonUtils","ZenonMWMessageReliabilityLogger","ZenonMWMessageTypes","ZenonMWTranslatorUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],e=a.jsonPayload,f=e.body;e=e.header;f=f.serverMediaUpdateRequest;var g=e.messageTags,i=e.transactionId;if(!f)return b;var j=f.answer,k=f.fromVersion,l=f.mediaPath,m=f.mediaStatus,n=f.multipleVideoStreamsAllowed,o=f.offer,p=f.prAnswer,q=f.renegotiationRequested,r=f.sdpOriginLocalId,s=f.stateStore,t=f.toVersion;f=f.update;o=(o=o==null?void 0:o.sdpString)!=null?o:"";j=(j=j==null?void 0:j.sdpString)!=null?j:"";p=(p=p==null?void 0:p.sdpString)!=null?p:"";var u=function(){d("ZenonMWMessageReliabilityLogger").logProcessedMessage(a)},v=o!=="",w=j!=="",x=c("gkx")("25225")&&p!=="",y=f!==null;y=v||w||x||y;d("ZenonMWTranslatorUtils").addStateStoreSignalingEvents(s,b,!1,y);y=d("ZenonMWTranslatorUtils").fetchE2eeServerState(s);if(q){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 1: renegotationRequested"});q={ackMessageId:i,eventName:"initiateRenegotiationRequest",fromVersion:k,hasRemoteOffer:o!=="",mediaPath:l,messageTags:(s=g)!=null?s:[],onProcessed:u,version:t};b.push(q);if(v){s=h(i,k,l,m,{sdp:o,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(o)},r,u,g,y);b.push(s)}}else if(w){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 2: answer SDP"});q=h(i,k,l,m,{sdp:j,type:"answer",version:d("ZenonMWCommonUtils").getSdpVersion(j)},r,u,g,y);if(q.sdp.sdp!=null&&d("ZenonMWCommonUtils").isUnifiedPlan(q.sdp.sdp)){s={sdp:j,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(j)};q.renegotiationOffer=s}b.push(q)}else if(v){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 3: offer SDP"});w=h(i,k,l,m,{sdp:o,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(o)},r,u,g,y);b.push(w)}else if(f){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 4: delta SDP"});j=h(i,k,l,m,{type:"offer",update:f,version:t},r,u,g,y);b.push(j)}else if(x){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 5: prAnswer SDP"});s=h(i,k,l,m,{sdp:p,type:"pranswer",version:d("ZenonMWCommonUtils").getSdpVersion(p)},r,u,g,y);b.push(s)}else if(m){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 6: media update"});v={ackMessageId:i,eventName:"mediaUpdateRequest",mediaStates:d("ZenonMWTranslatorUtils").toZenonMediaStates(m,k,t),messageTags:(q=g)!=null?q:[],onProcessed:u};b.push(v)}else{o="Warning: unsupported SMU type. TXID: "+i;c("FBLogger")("rpweb").warn(o);c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:o,errorDomain:"ZenonMWServerMediaUpdateTranslator"})}d("ZenonMWTranslatorUtils").maybeAddOverlayConfigServerUpdateRequest(b,e);f={capabilities:{multipleVideoStreamsAllowed:n},eventName:"capabilitiesRequest",messageTags:(w=g)!=null?w:[]};b.push(f);return b}function h(a,b,c,e,f,g,h,i,j){return{ackMessageId:a,e2eeServerState:j,eventName:"remoteSdpRequest",fromVersion:b,mediaPath:c,mediaStates:d("ZenonMWTranslatorUtils").toZenonMediaStates(e),messageTags:(a=i)!=null?a:[],negotiateType:!1,onProcessed:h,sdp:f,sdpOriginLocalId:g,source:"serverMediaUpdateRequest"}}function b(a,b,c,e){return i(a,b.acknowledgedVersion,d("ZenonMWTranslatorUtils").toMWResponseStatusCode(b.statusCode),d("ZenonMWTranslatorUtils").toMWResponseStatusSubCode(b.subCode),c,e)}function e(a,b){return i(a,b.acknowledgedVersion,d("ZenonMWTranslatorUtils").toMWResponseStatusCode(b.statusCode),d("ZenonMWTranslatorUtils").toMWResponseStatusSubCode(b.subCode))}function f(a,b){return i(a,b.acknowledgedVersion,(a=b.responseStatusCode)!=null?a:d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.CONDITIONAL_REQUEST_FAILED,b.responseSubCode)}function i(a,b,c,e,f,g){b={currentVersion:b};f&&(b.mediaStatus=d("ZenonMWTranslatorUtils").toMWClientMediaStatus(f));g&&(b.answer={sdpString:g.sdp});return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE,a,{serverMediaUpdateResponse:b},c,e)}g.fromServerMediaUpdateRequest=a;g.toServerMediaUpdateResponse=b;g.toServerMediaUpdateRenegotiationResponse=e;g.toServerMediaUpdateNoSdpResponse=f}),98);
__d("ZenonMWStateSyncTranslator",["ZenonDataUtils","ZenonMWMessageTypes","ZenonMWTranslatorUtils","ZenonStateSyncPayloadSerializer"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.jsonPayload;var b=a.body.updateResponse;a=a.header.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUpdateResponse",topic:c,version:b};return[a]}function b(a){a=a.jsonPayload.body.notifyRequest;if(!a)return[];var b=[];if(a.syncPayload!=null)d("ZenonMWTranslatorUtils").addStateStoreSignalingEvents(a.syncPayload.stateStore,b,!0,!1);else{var c=a.data,e=a.topic;a=a.version;c={data:d("ZenonStateSyncPayloadSerializer").stateSyncStringToUint8Array(c),eventName:"stateSyncNotifyRequest",responseRequired:!0,topic:e,version:a};b.push(c)}return b}function c(a){a=a.jsonPayload;var b=a.body.unsubscribeResponse;a=a.header.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUnsubscribeResponse",topic:c,version:b};return[a]}function e(a,b){var c=b.data,e=b.topic;b=b.version;c={data:c?d("ZenonDataUtils").uint8ArrayToBase64(c):void 0,topic:e,version:b};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UPDATE,a,{updateRequest:c})}function f(a,b){var c=b.topic;b=b.version;c={topic:c,version:b};return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.NOTIFY,a,{notifyResponse:c})}function h(a,b){var c=b.topic;b=b.version;c={topic:c,version:b};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UNSUBSCRIBE,a,{unsubscribeRequest:c})}g.fromUpdateResponse=a;g.fromNotifyRequest=b;g.fromUnsubscribeResponse=c;g.toUpdateRequest=e;g.toNotifyResponse=f;g.toUnsubscribeRequest=h}),98);
__d("ZenonMWSubscriptionTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=b.subscriptions;b={subscriptions:b};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SUBSCRIPTION,a,{subscriptionRequest:b})}g.toSubscriptionRequest=a}),98);
__d("ZenonMWWakeupTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"wakeupRequest"};b.push(a);return b}function b(a){var b=Object.freeze({});return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.WAKEUP,a,{wakeupResponse:b})}g.fromWakeupRequest=a;g.toWakeupResponse=b}),98);
__d("ZenonSignalingMessage",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getHeader=function(){return this.$1};b.getEvents=function(){return this.$2};b.setSignalingID=function(a){this.$1.signalingID=a};b.setRetryCount=function(a){this.$1.retryCount=a};return a}();f["default"]=a}),66);
__d("ZenonMWMessageTranslator",["FBLogger","ZenonActorHooks","ZenonMWAddRemoveParticipantsTranslator","ZenonMWApprovalTranslator","ZenonMWClientEventTranslator","ZenonMWClientMediaUpdateTranslator","ZenonMWConferenceStateTranslator","ZenonMWDataMessageTranslator","ZenonMWDismissTranslator","ZenonMWHangupTranslator","ZenonMWIceCandidateTranslator","ZenonMWJoinTranslator","ZenonMWMessageTypes","ZenonMWPingTranslator","ZenonMWRingTranslator","ZenonMWServerMediaUpdateTranslator","ZenonMWStateSyncTranslator","ZenonMWSubscriptionTranslator","ZenonMWTranslatorUtils","ZenonMWWakeupTranslator","ZenonSignalingMessage","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.getHeader();a=a.getEvents();if(a.length===0)throw c("unrecoverableViolation")("Unexpected Translation: called toMWMessage with empty signaling events","rtc_www");else{var e=a[0];switch(e.eventName){case"addParticipantsRequest":return d("ZenonMWAddRemoveParticipantsTranslator").toAddParticipantsRequest(b,e);case"clientEventRequest":return d("ZenonMWClientEventTranslator").toClientEventRequest(b,e);case"clientInfoRequest":if(a.length>=2&&a[1].eventName==="localSdpRequest"&&(a[1].sdp.type==="offer"||a[1].sdp.type==="answer"))return d("ZenonMWJoinTranslator").toJoinRequest(b,e,a[1]);break;case"genericDataMessageRequest":return d("ZenonMWDataMessageTranslator").toDataMessageRequest(b,e);case"inviteRequest":if(a.length>=3&&a[1].eventName==="clientInfoRequest"&&a[2].eventName==="localSdpRequest"&&a[2].sdp.type==="offer")return d("ZenonMWJoinTranslator").toJoinRequest(b,a[1],a[2],e);break;case"genericDataMessageResponse":return d("ZenonMWDataMessageTranslator").toDataMessageResponse(b);case"inviteResponse":return d("ZenonMWRingTranslator").toRingResponse(b,e);case"dismissResponse":return d("ZenonMWDismissTranslator").toDismissResponse(b);case"initiateRenegotiationResponse":if(a.length>=3&&a[1].eventName==="remoteSdpResponse"&&a[2].eventName==="localSdpRequest"&&a[2].sdp.type==="answer")return d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateResponse(b,a[1],a[2].mediaStates,a[2].sdp);else return d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateRenegotiationResponse(b,e);case"iceCandidateRequest":return d("ZenonMWIceCandidateTranslator").toIceCandidateRequest(b,e);case"iceCandidateResponse":return d("ZenonMWIceCandidateTranslator").toIceCandidateResponse(b);case"localSdpRequest":return d("ZenonMWClientMediaUpdateTranslator").toClientMediaUpdateRequest(b,e.mediaStates,e.sdp);case"mediaUpdateRequest":return d("ZenonMWClientMediaUpdateTranslator").toClientMediaUpdateRequest(b,e.mediaStates);case"mediaUpdateResponse":return d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateNoSdpResponse(b,e);case"participantUpdateResponse":return d("ZenonMWConferenceStateTranslator").toConferenceStateResponse(b,e);case"pingRequest":return d("ZenonMWPingTranslator").toPingRequest(b);case"remoteSdpResponse":return e.type==="offer"&&(a.length>=2&&a[1].eventName==="localSdpRequest"&&a[1].sdp.type==="answer")?a[1].mediaMode!=="p2p"?d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateResponse(b,e,a[1].mediaStates):d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateResponse(b,e,a[1].mediaStates,a[1].sdp):d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateResponse(b,e);case"removeParticipantsRequest":return d("ZenonMWAddRemoveParticipantsTranslator").toRemoveParticipantsRequest(b,e);case"stateSyncNotifyResponse":return d("ZenonMWStateSyncTranslator").toNotifyResponse(b,e);case"stateSyncUnsubscribeRequest":return d("ZenonMWStateSyncTranslator").toUnsubscribeRequest(b,e);case"stateSyncUpdateRequest":return d("ZenonMWStateSyncTranslator").toUpdateRequest(b,e);case"subscriptionRequest":return d("ZenonMWSubscriptionTranslator").toSubscriptionRequest(b,e);case"terminateRequest":return d("ZenonMWHangupTranslator").toHangupRequest(b,e);case"usersApprovalRequest":return d("ZenonMWApprovalTranslator").toApprovalRequest(b,e);case"wakeupResponse":return d("ZenonMWWakeupTranslator").toWakeupResponse(b)}}return null}function b(a){var b=a.jsonPayload.header,e=h(b);if(e!=null){c("FBLogger")("rtc_www").info("Ignoring JSON MW message; receiver does not match self ID: "+e,"rtc_www");return null}e=b.type;var f=b.responseStatusCode==null;b=d("ZenonMWTranslatorUtils").mwMessageHeaderToSignalingMessageHeader(b);var g=[];switch(e){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.RING:f&&(g=d("ZenonMWRingTranslator").fromRingRequest(a,b));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DISMISS:f&&(g=d("ZenonMWDismissTranslator").fromDismissRequest(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:f||(g=d("ZenonMWJoinTranslator").fromJoinResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:f?g=d("ZenonMWIceCandidateTranslator").fromIceCandidateRequest(a):g=d("ZenonMWIceCandidateTranslator").fromIceCandidateResponse(a);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONFERENCE_STATE:f&&(g=d("ZenonMWConferenceStateTranslator").fromConferenceStateRequest(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:f||(g=d("ZenonMWClientMediaUpdateTranslator").fromClientMediaUpdateResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:f&&(g=d("ZenonMWServerMediaUpdateTranslator").fromServerMediaUpdateRequest(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.PING:f||(g=d("ZenonMWPingTranslator").fromPingResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.HANGUP:f||(g=d("ZenonMWHangupTranslator").fromHangupResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE:f&&(g=d("ZenonMWDataMessageTranslator").fromDataMessageRequest(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UPDATE:f||(g=d("ZenonMWStateSyncTranslator").fromUpdateResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UNSUBSCRIBE:f||(g=d("ZenonMWStateSyncTranslator").fromUnsubscribeResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.NOTIFY:f&&(g=d("ZenonMWStateSyncTranslator").fromNotifyRequest(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.WAKEUP:f&&(g=d("ZenonMWWakeupTranslator").fromWakeupRequest(a))}return new(c("ZenonSignalingMessage"))(b,g)}function h(a){var b,c=a.receiverUserId;if(d("ZenonActorHooks").ZenonActor.isInstagramUser()||d("ZenonActorHooks").ZenonActor.isOculusUser()||c==null)return null;if(c===d("ZenonActorHooks").ZenonActor.getID()||((b=a.receiver)==null?void 0:b.baseId)===d("ZenonActorHooks").ZenonActor.getAccountID())return null;if(c!==d("ZenonActorHooks").ZenonActor.getID()&&((b=a.receiver)==null?void 0:b.baseId)==null)return"receiverUserId mismatch and missing header.receiver.baseId";return c!==d("ZenonActorHooks").ZenonActor.getID()&&((b=a.receiver)==null?void 0:b.baseId)!==d("ZenonActorHooks").ZenonActor.getAccountID()?"receiverUserId mismatch and mismatched header.receiver.baseId":"unknown error"}g.toMWMessage=a;g.toSignalingMessage=b}),98);
__d("TCompactProtocol",["StringToUtf8","ThriftTypes","Utf8ToString"],(function(a,b,c,d,e,f,g){var h,i=Object.freeze({CT_STOP:0,CT_BOOLEAN_TRUE:1,CT_BOOLEAN_FALSE:2,CT_BYTE:3,CT_I16:4,CT_I32:5,CT_I64:6,CT_DOUBLE:7,CT_BINARY:8,CT_LIST:9,CT_SET:10,CT_MAP:11,CT_STRUCT:12,CT_FLOAT:13}),j=Object.freeze({NONE:-1,CT_BOOLEAN_TRUE:i.CT_BOOLEAN_TRUE,CT_BOOLEAN_FALSE:i.CT_BOOLEAN_FALSE}),k=[i.CT_STOP,0,i.CT_BOOLEAN_TRUE,i.CT_BYTE,i.CT_DOUBLE,0,i.CT_I16,0,i.CT_I32,0,i.CT_I64,i.CT_BINARY,i.CT_STRUCT,i.CT_MAP,i.CT_SET,i.CT_LIST,0,0,0,i.CT_FLOAT],l=Math.pow(2,7)-1,m=-1*Math.pow(2,7),n=Math.pow(2,15)-1,o=-1*Math.pow(2,15),p=Math.pow(2,31)-1,q=-1*Math.pow(2,31),r=Math.pow(2,32)-1,s=BigInt("9223372036854775807"),t=BigInt("-9223372036854775808"),u=BigInt("18446744073709551615"),v=BigInt(63),w=BigInt(1),x=BigInt(7),y=BigInt("0x7f"),z=BigInt("0x80"),A=Math.pow(2,4);a=function(){function a(a){this.$4=null,this.$5=null,this.$1=a,this.$2=[],this.$3=0,this.$6=new DataView(new ArrayBuffer(1))}var b=a.prototype;b.readStructBegin=function(){this.$2.push(this.$3),this.$3=0};b.readStructEnd=function(){this.$3=this.$2.pop();return 0};b.writeStructBegin=function(a){this.$2.push(this.$3);this.$3=0;return 0};b.writeStructEnd=function(){this.$3=this.$2.pop();return 0};b.writeFieldBegin=function(a){if(a.ftype===(h||(h=c("ThriftTypes"))).BOOL){this.$4={fid:a.fid,fname:a.fname,ftype:a.ftype};return 0}else return this.$7(a,j.NONE)};b.writeListBegin=function(a){return this.$8(a)};b.writeListEnd=function(){return 0};b.writeSetBegin=function(a){return this.$8(a)};b.writeSetEnd=function(){return 0};b.writeMapBegin=function(a){var b=0;if(a.size===0)b+=this.$1.writeByte(0);else{b+=this.writeVarint32(a.size);if(a.ktype!=null&&a.vtype!=null)b+=this.$1.writeByte(this.$9(a.ktype)<<4|this.$9(a.vtype));else throw new Error("received invalid map info: "+JSON.stringify(a))}return b};b.writeMapEnd=function(){return 0};b.$7=function(a,b){var c=0;b=b===j.NONE?this.$9(a.ftype):b;a.fid>this.$3&&a.fid-this.$3<=A-1?c+=this.$1.writeByte(a.fid-this.$3<<4|b):(c+=this.$1.writeByte(b),c+=this.writeI16(a.fid));this.$3=a.fid;return c};b.$8=function(a){var b=0,c=this.$9(a.etype);a.size<=A-2?b+=this.$1.writeByte(a.size<<4|c):(b+=this.$1.writeByte(240|c),b+=this.writeVarint32(a.size));return b};b.readFieldBegin=function(){var a=this.$1.readByte(),b=a&15;if(b===(h||(h=c("ThriftTypes"))).STOP)return{ftype:(h||(h=c("ThriftTypes"))).STOP,fid:0};a=(a&240)>>>4;var d;a===0?d=this.readI16():d=this.$3+a;a=this.$10(b);(b===i.CT_BOOLEAN_TRUE||b===i.CT_BOOLEAN_FALSE)&&(this.$5=b===i.CT_BOOLEAN_TRUE);this.$3=d;return{ftype:a,fid:d}};b.readListBegin=function(){return this.$11()};b.readListEnd=function(){return 0};b.readSetBegin=function(){return this.$11()};b.readSetEnd=function(){return 0};b.readMapBegin=function(){var a=this.readVarint32();if(a>0){var b=this.$1.readByte(),c=this.$12(b>>4,"readMapBegin:key");b=this.$12(b&15,"readMapBegin:value");return{ktype:this.$10(c),vtype:this.$10(b),size:a}}return{size:a}};b.readMapEnd=function(){return 0};b.$12=function(a,b){if(a<0||a>13)throw new Error(b+" read invalid compact type: "+a);return a};b.$11=function(){var a=this.$1.readByte(),b=this.$12(a&15,"_readListOrSetBegin");b=this.$10(b);a=a>>4&15;a===15&&(a=this.readVarint32());return{etype:b,size:a}};b.readFieldEnd=function(){return 0};b.readByte=function(){this.$6.setUint8(0,this.$1.readByte());return this.$6.getInt8(0)};b.writeByte=function(a){if(a<m||a>l)throw new Error("byte to write is out of range: "+a);this.$6.setInt8(0,a);return this.$1.writeByte(this.$6.getUint8(0))};b.readFloat=function(){return this.$1.readFloatBE()};b.writeFloat=function(a){return this.$1.writeFloatBE(a)};b.readDouble=function(){return this.$1.readDoubleBE()};b.writeDouble=function(a){return this.$1.writeDoubleBE(a)};b.writeString=function(a){return this.writeBinary(d("StringToUtf8").StringToUtf8(a))};b.skip=function(a){switch(a){case(h||(h=c("ThriftTypes"))).STOP:return;case(h||(h=c("ThriftTypes"))).BOOL:this.readBool();break;case(h||(h=c("ThriftTypes"))).BYTE:this.readByte();break;case(h||(h=c("ThriftTypes"))).DOUBLE:this.readDouble();break;case(h||(h=c("ThriftTypes"))).I16:this.readI16();break;case(h||(h=c("ThriftTypes"))).I32:this.readI32();break;case(h||(h=c("ThriftTypes"))).I64:this.readI64();break;case(h||(h=c("ThriftTypes"))).STRING:this.readString();break;case(h||(h=c("ThriftTypes"))).STRUCT:this.readStructBegin();var b;while(!0){b=this.readFieldBegin();if(b.ftype===(h||(h=c("ThriftTypes"))).STOP)break;this.skip(b.ftype)}this.readStructEnd();break;case(h||(h=c("ThriftTypes"))).MAP:b=this.readMapBegin();if(b.size>0&&b.ktype!=null&&b.vtype!=null){var d=b.ktype,e=b.vtype;for(var f=0;f<b.size;f++)this.skip(d),this.skip(e)}break;case(h||(h=c("ThriftTypes"))).SET:case(h||(h=c("ThriftTypes"))).LIST:f=this.$11();for(d=0;d<f.size;d++)this.skip(f.etype);break;case(h||(h=c("ThriftTypes"))).FLOAT:this.readFloat();break;default:throw new Error("encoutered unknow thrift type: "+a+" in skip")}};b.toByteArray=function(){return this.$1.toByteArray()};b.writeFieldEnd=function(){return 0};b.writeFieldStop=function(){return this.$1.writeByte((h||(h=c("ThriftTypes"))).STOP)};b.writeI16=function(a){if(a<o||a>n)throw new Error("trying to write i16 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};b.readI16=function(){var a=this.zigzagToI32(this.readVarint32());if(a<o||a>n)throw new Error("read invalid i16: "+a);return a};b.writeI32=function(a){if(a<q||a>p)throw new Error("i32 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};b.readI32=function(){return this.zigzagToI32(this.readVarint32())};b.writeI64=function(a){return this.writeVarint64(this.i64ToZigzag(a))};b.readI64=function(){return this.zigzagToI64(this.readVarint64())};b.readBool=function(){var a;this.$5!=null?(a=this.$5,this.$5=null):a=this.$1.readByte()===i.CT_BOOLEAN_TRUE;return a};b.writeBool=function(a){var b=0;this.$4!=null?(b+=this.$7(this.$4,a?j.CT_BOOLEAN_TRUE:j.CT_BOOLEAN_FALSE),this.$4=null):b+=this.$1.writeByte(a?i.CT_BOOLEAN_TRUE:i.CT_BOOLEAN_FALSE);return b};b.readBinary=function(){var a=this.readVarint32();return a===0?new Uint8Array(0):this.$1.readBytes(a)};b.writeBinary=function(a){var b=0;b+=this.writeVarint32(a.length);b+=this.$1.write(a);return b};b.i32ToZigzag=function(a){if(a<q||a>p)throw new Error("number: "+a+" is out of range of i32");return(a<<1^(a<0?4294967295:0))>>>0};b.zigzagToI32=function(a){if(a<0||a>r)throw new Error("number: "+a+" is out of range of uint32");return a>>>1^-1*(a&1)};b.i64ToZigzag=function(a){if(a>s||a<t)throw new Error("i64 out of range: "+a.toString());return a>>v^a<<w};b.zigzagToI64=function(a){if(a<0||a>u)throw new Error("invalid uint64: "+a.toString());return(a&w)===w?~(a>>w):a>>w};b.writeVarint32=function(a){if(a<0||a>r)throw new Error("writeVarint32 received out of range uint32: "+a);a=a;var b=0;while(!0)if(a>>>7===0){this.$1.writeByte(a);b++;break}else this.$1.writeByte(a&127|128),b++,a>>>=7;return b};b.readVarint32=function(){var a=0,b=0,c;while(!0){c=this.$1.readByte();a=(a|(c&127)<<b)>>>0;b+=7;if((c&128)==0){if(b===35&&(c&240)!=0)throw new Error("result exceeded 32 bit limit");break}if(b>28)throw new Error("result exceeded 32 bit limit")}return a};b.writeVarint64=function(a){if(a<0||a>u)throw new Error("invalid uint64: "+a.toString());a=a;var b=0;while(!0)if(a>>x==0){this.$1.writeByte(Number(a));b++;break}else this.$1.writeByte(Number(a&y|z)),b++,a>>=x;return b};b.readVarint64=function(){var a=BigInt(0),b=BigInt(0),c;while(!0){c=BigInt(this.$1.readByte());a|=(c&y)<<b;b+=x;if((c&z)==0){if(b==70&&c!==w)throw new Error("result exceeded 64 bit limit");break}if(b>63)throw new Error("result exceeded 64 bit limit")}return a};b.readString=function(){return d("Utf8ToString").Utf8ToString(this.readBinary())};b.getLastFieldId=function(){return this.$3};b.getLastField=function(){return this.$2};b.getBooleanFieldInfo=function(){return this.$4};b.getBooleanValue=function(){return this.$5};b.$9=function(a){return k[a]};b.$10=function(a){switch(a){case i.CT_STOP:return(h||(h=c("ThriftTypes"))).STOP;case i.CT_BOOLEAN_FALSE:case i.CT_BOOLEAN_TRUE:return(h||(h=c("ThriftTypes"))).BOOL;case i.CT_BYTE:return(h||(h=c("ThriftTypes"))).BYTE;case i.CT_I16:return(h||(h=c("ThriftTypes"))).I16;case i.CT_I32:return(h||(h=c("ThriftTypes"))).I32;case i.CT_I64:return(h||(h=c("ThriftTypes"))).I64;case i.CT_DOUBLE:return(h||(h=c("ThriftTypes"))).DOUBLE;case i.CT_FLOAT:return(h||(h=c("ThriftTypes"))).FLOAT;case i.CT_BINARY:return(h||(h=c("ThriftTypes"))).STRING;case i.CT_LIST:return(h||(h=c("ThriftTypes"))).LIST;case i.CT_SET:return(h||(h=c("ThriftTypes"))).SET;case i.CT_MAP:return(h||(h=c("ThriftTypes"))).MAP;case i.CT_STRUCT:return(h||(h=c("ThriftTypes"))).STRUCT;default:throw new Error("don't know what type")}};return a}();g["default"]=a}),98);
__d("decodeIgSignalingPayload",["TCompactProtocol","TReadBuffer","ThriftTypes"],(function(a,b,c,d,e,f,g){"use strict";var h,i=2;function a(a){a=new(c("TReadBuffer"))(a);a=new(c("TCompactProtocol"))(a);var b=null;a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case i:e===(h||(h=c("ThriftTypes"))).STRING?b=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}g["default"]=a}),98);
__d("shouldUseThriftSignaling",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("25251")||c("gkx")("25252")}g["default"]=a}),98);
__d("IgSignalingListener",["FBLogger","IGDOverLSMqttChannel","JSResourceForInteraction","Promise","ZenonDataUtils","ZenonMWMessageDebugLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","decodeIgSignalingPayload","nullthrows","promiseDone","recoverableViolation","shouldUseThriftSignaling"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("IGDOverLSMqttChannel").waitAndGetInstance();a=function(){function a(){}var e=a.prototype;e.setLoggingEventHandler=function(a){this.$1=a};e.subscribe=function(a,e,f){var g=this;c("promiseDone")(i.then(function(i){i.subscribeBinary("/pubsub",function(i){try{i=c("nullthrows")(c("decodeIgSignalingPayload")(i));var j=JSON.parse(i);i={endpoint:j.payload.endpoint,jsonPayload:{body:j.payload.body,header:j.payload.header}};if(c("shouldUseThriftSignaling")()){var k,l=(k=c("JSResourceForInteraction"))("ZenonMWThriftMessageSerializer").__setRef("IgSignalingListener").load(),m=k("ZenonMWThriftMessageReliabilityLogger").__setRef("IgSignalingListener").load(),n=k("ZenonMWThriftMessageDebugLogger").__setRef("IgSignalingListener").load();k=k("ZenonMWThriftMessageTranslator").__setRef("IgSignalingListener").load();(h||(h=b("Promise"))).all([l,m,n,k]).then(function(b){var c=b[0],e=b[1],h=b[2];b=b[3];var i=d("ZenonDataUtils").base64ToUint8Array(j.binaryPayload);c=c.deserializeMWThriftMessage(i,!0);e.logReceivedMessage(c);h.logMWThriftMessage("RECEIVED","MQTT Thrift",c);g.$1&&g.$1({mwThriftMessage:c,name:"mwThriftMessageRecv"});i=b.toSignalingMessage(c);if(i==null)return;a(i);f&&g.$2(c,i,f);e.logProcessingMessage(c)})["catch"](function(a){c("FBLogger")("rpweb").catching(a).mustfix("Error receiving MQTT message from /pubsub topic")})}else{d("ZenonMWMessageReliabilityLogger").logReceivedMessage(i);c("ZenonMWMessageDebugLogger").logMWMessage("RECEIVED","MQTT",i);g.$1&&g.$1({mwMessage:i,name:"mwMessageRecv"});l=d("ZenonMWMessageTranslator").toSignalingMessage(i);if(l==null)return;a(l);e&&l&&g.$3(i,l,e);d("ZenonMWMessageReliabilityLogger").logProcessingMessage(i)}}catch(a){c("FBLogger")("rpweb").catching(a).mustfix("Error Cannot load modules")}})}))};e.unsubscribe=function(){c("promiseDone")(i.then(function(a){a.unsubscribeAll("/webrtc"),a.unsubscribeAll("/pubsub")}))};e.$3=function(a,b,d){try{d(a,b)}catch(a){c("recoverableViolation")("Signaling messages should be json parsable. error:"+a,"rtweb")}};e.$2=function(a,b,d){try{d(a,b)}catch(a){c("recoverableViolation")("Signaling messages should be json parsable. error:"+a,"rtweb")}};return a}();g["default"]=a}),98);
__d("LazyLoadInstance",["asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={LOADING:1,NOT_READY:0,READY:2};a=function(){function a(a,b){this.$1={instantiate:b,moduleReference:a,stage:h.NOT_READY}}var d=a.prototype;d.get=function(a){switch(this.$1.stage){case h.NOT_READY:c("promiseDone")(this.$2(this.$1),a);break;case h.LOADING:c("promiseDone")(this.$1.instancePromise,a);break;case h.READY:a(this.$1.instance);break}};d.getNow=function(){return this.$1.stage===h.READY?this.$1.instance:null};d.preload=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){this.$1.stage===h.NOT_READY&&(yield this.$2(this.$1))});function c(){return a.apply(this,arguments)}return c}();d.$2=function(a){var b=this,c=a.instantiate;a=a.moduleReference;a=a.load().then(function(a){a=c(a);b.$1={instance:a,stage:h.READY};return a});this.$1={instancePromise:a,stage:h.LOADING};return a};return a}();g["default"]=a}),98);
__d("LsRtcEndCallSurveyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743882");b=d("FalcoLoggerInternal").create("ls_rtc_end_call_survey",a);e=b;g["default"]=e}),98);
__d("LsRtcStarRatingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743884");b=d("FalcoLoggerInternal").create("ls_rtc_star_rating",a);e=b;g["default"]=e}),98);
__d("OverlayConfigDefaults",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze([1,0,0,20,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,640,360,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,0,0,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,0,1,-1,-1,-1,-1,-1,-1,1,1,0,2e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,16e3,2e4,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6e4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]);b=a;f["default"]=b}),66);
__d("OverlayConfigDefaultsLayer",["OverlayConfigDefaults","OverlayConfigLayerSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.getLayerSource=function(){return c("OverlayConfigLayerSource").DEFAULT};b.getValue=function(a){return c("OverlayConfigDefaults")[a]};b.logExposure=function(a){};return a}();g["default"]=a}),98);
__d("OverlayConfigLayerManager",["OverlayConfigConstants","OverlayConfigDefaultsLayer","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[new(c("OverlayConfigDefaultsLayer"))()]}var b=a.prototype;b.getValue=function(a){for(var b=this.$1.length-1;b>=0;b--){var d=this.$1[b].getValue(a);if(d>c("OverlayConfigConstants").OverlayConfigNotPresentFlagValue)return d}throw c("unrecoverableViolation")("OverlayConfigLayerManager: No value found for id "+String(a),"rtc_www")};b.addLayer=function(a){this.$1.push(a);return this.$1.length-1};b.replaceLayer=function(a,b){if(a===0)throw c("unrecoverableViolation")("OverlayConfigLayerManager: Tried to replace default layer!","rtc_www");else if(this.$1[a]==null)throw c("unrecoverableViolation")("OverlayConfigLayerManager: Layer does not exist at index "+String(a),"rtc_www");this.$1[a]=b};b.clone=function(){var b=new a();b.$1=this.$1.slice();return b};return a}();g["default"]=a}),98);
__d("OverlayConfigManager",["Configs","OverlayConfigLayerManager"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("Configs")).ExampleConfig,h=a.SimulcastOverSignalingConfig,i=a.PreferredCaptureConfig,j=a.ZenonSdpTransformConfig,k=a.ZenonPeerConnectionConfig,l=a.ZenonStartCallImmediatelyConfig,m=a.ZenonGeneralizedIdentityConfig,n=a.ZenonMultiCallSupportConfig,o=a.ZenonPlatformSupportConfig,p=a.ZenonSimulcastConfig,q=a.DynamicRuleConfig,r=a.SignalingPingConfig;c=function(){function a(){this.layerManager=new(b("OverlayConfigLayerManager"))()}var c=a.prototype;c.getExampleConfig=function(){return new g(this.layerManager)};c.getSimulcastOverSignalingConfig=function(){return new h(this.layerManager)};c.getPreferredCaptureConfig=function(){return new i(this.layerManager)};c.getZenonSdpTransformConfig=function(){return new j(this.layerManager)};c.getZenonPeerConnectionConfig=function(){return new k(this.layerManager)};c.getZenonStartCallImmediatelyConfig=function(){return new l(this.layerManager)};c.getZenonGeneralizedIdentityConfig=function(){return new m(this.layerManager)};c.getZenonMultiCallSupportConfig=function(){return new n(this.layerManager)};c.getZenonPlatformSupportConfig=function(){return new o(this.layerManager)};c.getZenonSimulcastConfig=function(){return new p(this.layerManager)};c.getDynamicRuleConfig=function(){return new q(this.layerManager)};c.getSignalingPingConfig=function(){return new r(this.layerManager)};return a}();e.exports=c}),null);
__d("OverlayConfigManagerWithServerLayer",["OverlayConfigManager"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OverlayConfigManagerWithServerLayer$p_1=-1;b!=null&&(c.layerManager=b.layerManager.clone());return c}var c=b.prototype;c.setServerLayer=function(a){if(this.$OverlayConfigManagerWithServerLayer$p_1>-1){this.layerManager.replaceLayer(this.$OverlayConfigManagerWithServerLayer$p_1,a);return}this.$OverlayConfigManagerWithServerLayer$p_1=this.layerManager.addLayer(a)};return b}(c("OverlayConfigManager"));g["default"]=a}),98);
__d("RTWebDropInUtils",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="drop_in_metadata";a=function(a){var b;return b={},b[h]=JSON.stringify({is_drop_in:a?"1":"0"}),b};b=function(a){a=i(a);a=a.isDropIn;return a};var i=function(a){a=a==null?void 0:a[h];if(a!=null)try{a=JSON.parse(a);return{isDropIn:a.is_drop_in==="1"}}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to parse drop_in_metadata app message");return{isDropIn:!1}}return{isDropIn:!1}};g.getDropInAppMessages=a;g.isDropInFromAppMessages=b}),98);
__d("ZenonCallWindowOpener_Popup",["UserAgent","ZenonUserActionLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=1280,i={LargeForGroup:{height:772,width:1100},LargeForP2P:{height:720,width:1280},Small:{height:540,width:960}},j=["menubar=no","location=no","scrollbars=no","status=no","personalbar=no"];a=function(){function a(){}var b=a.prototype;b.openWindow=function(a){a=this.$1(a.joinContext);var b=this.$2(a),e=b.left;b=b.top;d("ZenonUserActionLogger").logCheckpoint({checkpoint:"Opening_Popup: left="+e+",top="+b+",width="+a.width+",height="+a.height});var f=c("UserAgent").isBrowser("Safari")?window.location.hostname:"";return window.open(f,"",[].concat(j,["height="+a.height,"width="+a.width,"left="+e,"top="+b]).join(","))};b.$1=function(a){if(screen&&screen.width>h)if(a.type==="link"||a.thread.type===2)return{height:i.LargeForGroup.height,width:i.LargeForGroup.width};else return{height:i.LargeForP2P.height,width:i.LargeForP2P.width};else return{height:i.Small.height,width:i.Small.width}};b.$2=function(a){var b=a.height;a=a.width;return{left:Math.floor(window.innerWidth/2-a/2+((a=window.screenLeft)!=null?a:window.screenX)),top:Math.floor(window.innerHeight/2-b/2+((a=window.screenTop)!=null?a:window.screenY))}};return a}();g["default"]=a}),98);
__d("RTWebCallWindowOpener",["RTWebDropInUtils","ZenonCallWindowOpener_Popup"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new(c("ZenonCallWindowOpener_Popup"))()}var b=a.prototype;b.openWindow=function(a){if(a.context.intent==="accept invite"&&a.context.controllerParams.appMessages!=null){var b=d("RTWebDropInUtils").isDropInFromAppMessages(a.context.controllerParams.appMessages);if(b)return babelHelpers["extends"]({},window,{close:function(){return null}})}return this.$1.openWindow(a)};return a}();g["default"]=a}),98);
__d("RtcDoorCallingTags",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({OPEN:0,VANISHING:1,SECRET:2,THREADS_APP_HANGOUTS:4,REELS_TOGETHER:8,CANVAS:32,WORKROOMS:64,LEAD_GEN:128,COPRESENCE:256});c=a;f["default"]=c}),66);
__d("TokenBucketRateLimit",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3;a=function(){function a(a,b){this.$1=a*h,this.$2=a*h,this.$3=Date.now(),this.$4=b*h}var b=a.prototype;b.take=function(a){a===void 0&&(a=1);a=a*h;this.$5();if(this.$2<a)return!1;this.$2-=a;return!0};b.$5=function(){if(this.$2>=this.$1)return;var a=Date.now(),b=(a-this.$3)/d("DateConsts").MS_PER_SEC;b=Math.round(b*this.$4);if(b===0)return;this.$2=Math.min(this.$1,this.$2+b);this.$3=a};return a}();g["default"]=a}),98);
__d("WebAssemblyMemorySingleton",[],(function(a,b,c,d,e,f){"use strict";var g=64*1024;c=5701632;d=45*g;var h=c+d,i=null,j=0,k=0;function a(){i==null&&(i=new WebAssembly.Memory({initial:h/g,maximum:2147483648/g}),j=h);return i}function b(){if(i!=null){var a=i.buffer.byteLength;a!==j&&(k++,j=a)}return{memory_reallocation_count:k,memory_size_kb:j/1024}}e={INITIAL_MEMORY_ALLOCATED_IN_BYTES:h,get:a,getMetrics:b};f.WebAssemblyMemorySingleton=e}),66);
__d("ZenonCallFalcoEventUtils",["performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return String(Math.trunc(a))};a=function(){return i((h||(h=c("performanceNow")))())};b=function(a){return i((a=a)!=null?a:0)};d=function(a){return a==null?null:i((a=a)!=null?a:0)};e=function(a){return(a=a)!=null?a:""};g.truncateNumber=i;g.performanceNowParsed=a;g.nonNullIntNumber=b;g.intNumberOrNull=d;g.nonNullString=e}),98);
__d("ZenonCallInfoManager",["ChannelClientID"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.callTrigger,c=a.conferenceName,e=a.isCaller,f=a.isVideo,g=a.localCallID,h=a.peerID,i=a.protocol,j=a.serverInfoData;a=a.signalingID;var k=d("ChannelClientID").getID();c={callTrigger:(b=b)!=null?b:"",conferenceName:(b=c)!=null?b:"",deviceID:k,isCaller:e,isVideo:f,localCallID:g,peerID:h,protocol:i,signalingID:a};this.$1=babelHelpers["extends"]({},c,{serverInfoData:j})}var b=a.prototype;b.setDeviceID=function(a){this.$1.deviceID=a};b.setSharedCallId=function(a){this.$1.serverInfoData=a};b.getCallInfo=function(){return this.$1};return a}();g["default"]=a}),98);
__d("ZenonCallInviteModel",["BaseEventEmitter","FBLogger","ZenonCallInviteModelTypes","ZenonIncomingRingSDKTypes"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;e.$ZenonCallInviteModel$p_2=function(a){c("FBLogger")("rtc_www").info("Received cancel for: ",a.ringID);if(e.__currentRequest&&e.__currentRequest.model&&e.__currentRequest.model.ringID===a.ringID)switch(a.reason){case d("ZenonIncomingRingSDKTypes").ZenonCancelReason.Hangup:a=((a=e.__currentRequest)==null?void 0:(a=a.model)==null?void 0:a.type)!==d("ZenonCallInviteModelTypes").CallInviteModelType.unsupported_browser;e.__currentRequest.model=babelHelpers["extends"]({},e.__currentRequest.model,{type:"missed"});a&&e.emit("callInvite",e.__currentRequest.model);break;case d("ZenonIncomingRingSDKTypes").ZenonCancelReason.OtherDismiss:e.dismiss();break}};e.$ZenonCallInviteModel$p_1=function(a){var b;c("FBLogger")("rtc_www").info("Receiving ring: ",a.ringID);if(((b=e.__currentRequest)==null?void 0:(b=b.model)==null?void 0:b.type)==="ringing")return;e.__currentRequest={model:{actorID:a.actorID,context:a.context,controllerParams:a.controllerParams,inviterID:a.inviterID,isE2eeMandated:a.isE2eeMandated,participants:a.otherParticipants,receiverUserId:a.receiverUserId,requestingVideo:a.requestingVideo,ringID:a.ringID,ringRequest:a.ringRequest,type:a.isClientPermissableRing?"ringing":"unsupported_browser"},ringPayload:a};e.emit("callInvite",e.__currentRequest.model);a.isClientPermissableRing||a.onDecline("VersionUnsupported")};e.__eventSource=b;e.__currentRequest=null;return e}var e=b.prototype;e.getCurrentInvite=function(){var a;return(a=(a=this.__currentRequest)==null?void 0:a.model)!=null?a:null};e.startListening=function(a){a=a.callsBlocked;this.__currentRequest&&this.dismiss();this.stopListening();a||(this.__eventSource.addListener("incomingRing",this.$ZenonCallInviteModel$p_1),this.__eventSource.addListener("ringCancel",this.$ZenonCallInviteModel$p_2))};e.stopListening=function(){this.__eventSource.removeAllListeners("incomingRing"),this.__eventSource.removeAllListeners("ringCancel"),this.__currentRequest=null};e.dismiss=function(){var a;c("FBLogger")("rtc_www").info("Dismissing ring: ",(a=this.__currentRequest)==null?void 0:(a=a.model)==null?void 0:a.ringID);this.__currentRequest=null;this.emit("callInvite",null)};e.accept=function(a,b){var d=this.__currentRequest;if(d){var e;c("FBLogger")("rtc_www").info("Accepting ring: ",(e=d.model)==null?void 0:e.ringID);((e=d.model)==null?void 0:e.type)==="ringing"&&d.ringPayload.onAccept(a,b);this.dismiss()}};e.decline=function(a,b){a===void 0&&(a="IgnoreCall");var d=this.__currentRequest;if(d){var e;c("FBLogger")("rtc_www").info("Declining ring: ",(e=d.model)==null?void 0:e.ringID);d.ringPayload.onDecline(a,b);this.dismiss();return}};return b}(c("BaseEventEmitter"));g["default"]=a}),98);
__d("ZenonLogPromiseRejection",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a["catch"](function(a){return c("FBLogger")("rtc_www").catching(a).debug(a.message)})}g["default"]=a}),98);
__d("ZenonCallLogger",["Promise","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonLogPromiseRejection","isEmployeeTestUserZenonLogging","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set(["mwMessageSent","mwThriftMessageSent","mwMessageRecv","mwThriftMessageRecv","setMediaStats","updateE2EEStats","updateIceInfo","setRemoteSdpOffer"]),j=new Set(["atLeastOneParticipantAlerted","atLeastOneParticipantAnswered"]);a=function(){function a(a){var b=this,c=a.config,d=a.initLoggerInfo,e=a.isE2eeMandated;a=a.processorConfigs;this.$5=[];this.$6=new Set();this.$1=d;this.$2=c;this.$3=e;this.$4={clientSessionID:d.signalingID,localCallID:d.localCallID,peerID:d.peerID,sharedCallID:d.serverInfoData};a.forEach(function(a){b.addLogProcessor(a)})}var d=a.prototype;d.addLogProcessor=function(a){var b=this;if(this.$3&&!a.approvedForMandatedE2ee())return;this.$5.push(new a.LogProcessor({config:this.$2,data:this.$1,isE2eeMandated:this.$3,updateLogIdentifiers:function(a){return b.updateLogIdentifiers(a)}}))};d.updateLogIdentifiers=function(a){Object.assign(this.$4,a),this.log({logIdentifiers:a,name:"updateLogIdentifiers"})};d.log=function(a){if(j.has(a.name)&&this.$6.has(a.name))return;this.$6.add(a.name);this.$7(a);c("promiseDone")(this.logToProcessors(a))};d.logToProcessors=function(a){return c("ZenonLogPromiseRejection")((h||(h=b("Promise"))).all(this.$5.map(function(b){return b.processEvent(a)})).then(function(){}))};d.$7=function(a){if(!c("isEmployeeTestUserZenonLogging")())return;if(i.has(a.name))return;c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] ZenonCallLogger event: "+a.name})};d.getLogIdentifiers=function(){return this.$4};return a}();g["default"]=a}),98);
__d("ZenonCallWindowController",["FBLogger","Promise","ZenonCallWindowErrors"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b){var c=b.callWindowInitializerResource,d=b.callWindowOpener;b=b.uriBuilderResource;this.$2=null;this.$3=!1;this.$5=null;this.$1=a;this.$7=b;this.$4=c;this.$6=d}var e=a.prototype;e.initCall=function(a){var e=this;if(this.$3)throw new(d("ZenonCallWindowErrors").OpeningAnotherCallError)();try{if(this.$2&&!this.$2.closed&&a.joinContext.type==="thread"&&this.$2.inCallWith===a.joinContext.thread.id){this.$2.focus();return[this.$2,(h||(h=b("Promise"))).resolve({alohaEscalatedMW:!1})]}}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to access inCallWith on call window")}var f=this.$6.openWindow(a);try{this.$2&&(this.$2.closed||this.$2.close(),this.$2=null)}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to access close on call window")}this.$2=f;this.$3=!0;return[f,(h||(h=b("Promise"))).all([this.$7.load(),this.$4.load()]).then(function(b){var c=b[0];b=b[1];e.$5===null&&(e.$5=new b(e.$1,new c(e.$1)));return e.$5.initCall(e.$2,a)})["finally"](function(){e.$3=!1})]};return a}();g["default"]=a}),98);
__d("ZenonClientPerfQPLConstants",[],(function(a,b,c,d,e,f){"use strict";a="zenon_popup_opened";b="zenon_call_join_request";c="zenon_sfu_e2ee_negotiation_complete";d="csm_outgoing_start";e="csm_incoming_connection_started";var g="csm_invite_sent",h="csm_invite_ack_recv",i="csm_answer_recv",j="csm_answer_sdp_recv",k="csm_pranswer_sdp_recv",l="csm_offer_sdp_recv",m="csm_answer_sent",n="csm_negotiation_complete",o="csm_network_ready",p="csm_connection_ready",q="csm_dismiss_sent",r="csm_dismiss_recv",s="signaling_mw_join_req_sent",t="signaling_mw_join_response_recv";f.POINT_ZENON_POPUP_OPENED=a;f.POINT_ZENON_CALL_JOIN_REQUEST=b;f.POINT_ZENON_SFU_E2EE_NEGOTIATION_COMPLETE=c;f.POINT_CONNECTION_OUTGOING_START=d;f.POINT_CONNECTION_INCOMING_CONNECTION_STARTED=e;f.POINT_CONNECTION_INVITE_SENT=g;f.POINT_CONNECTION_INVITE_ACK_RECV=h;f.POINT_CONNECTION_ANSWER_RECV=i;f.POINT_CONNECTION_ANSWER_SDP_RECV=j;f.POINT_CONNECTION_PRANSWER_SDP_RECV=k;f.POINT_CONNECTION_OFFER_SDP_RECV=l;f.POINT_CONNECTION_ANSWER_SENT=m;f.POINT_CONNECTION_NEGOTIATION_COMPLETE=n;f.POINT_CONNECTION_NETWORK_READY=o;f.POINT_CONNECTION_READY=p;f.POINT_CONNECTION_DISMISS_SENT=q;f.POINT_CONNECTION_DISMISS_RECV=r;f.POINT_SIGNALING_MW_JOIN_REQ_SENT=s;f.POINT_SIGNALING_MW_JOIN_RESPONSE_RECV=t}),66);
__d("ZenonCollisionContext",["RtcDoorCallingTags"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=null;a.groupThreadID!=null?c={e2eeThreadID:a.groupThreadID,id:a.groupThreadID,type:b?16:2}:a.peerID!=null&&(c={id:a.peerID,secureOneToOneThreadPeerId:b?a.peerID:void 0,type:b?15:1});return c}function b(a){var b=a.call_trigger,d=a.callable_post_id,e=a.calling_tags,f=a.conference_name,g=a.group_thread_id,h=a.ig_thread_id,i=a.immersive_mode_door_id,j=a.link_url,k=a.live_broadcast_id,l=a.meeting_id,m=a.peer_id,n=a.rtc_door_id;a=a.server_info_data;return{callablePostID:d,callingTags:c("RtcDoorCallingTags").cast(e),callTrigger:b,conferenceName:f,groupThreadID:g,igThreadID:h,immersiveModeDoorID:i,linkUrl:j,liveBroadcastID:k,meetingID:l,peerID:m,rtcDoorID:n,serverInfoData:a}}function d(a){a===void 0&&(a={});return!Object.values(a).some(function(a){return a!=null})}g.getThreadIDAndTypeFromCollisionContext=a;g.fromRTCJoiningContext=b;g.isCollisionContextEmpty=d}),98);
__d("ZenonDeviceInfoHelper",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=-1,h=!1,i={getBatteryStats:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield i.internalGetWindow().navigator.getBattery);if(typeof a!=="function")return{level:g,placeholder:!0,wasCharged:!1};a=(yield a.call(navigator));a.charging?h=!0:a.onchargingchange=function(a){a.target.charging&&(h=!0),a.target.onchargingchange=null};return{level:a.level*100,placeholder:!1,wasCharged:h}});function c(){return a.apply(this,arguments)}return c}(),internalGetWindow:function(){return window}};a=i;f["default"]=a}),66);
__d("ZenonGenericLocalStorageStore",["CacheStorage","WebStorage","ZenonODSLogger","ZenonUserActionLogger","areEqual","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=2e3,k=3;a=function(){function a(a,b,d){this.$1=a,this.$2=new(c("CacheStorage"))(b,d)}var b=a.prototype;b.getLocalStorageObjects=function(){return this.$2.get(this.$1)||{}};b.removeLocalStorageObjects=function(a){this.mutateLocalStorageObjects(function(b){a.forEach(function(a){var c=a.peerID;a=a.signalingID;b[c]&&b[c][a]&&(delete b[c][a],Object.entries(b[c]).length===0&&delete b[c])});return b})};b.mutateLocalStorageObjects=function(a,b,d,e){var f=this;b===void 0&&(b=k);d===void 0&&(d=!1);e===void 0&&(e=null);var g=this.getLocalStorageObjects(),i=this.getLocalStorageObjects();g=a(g);var l=this.getLocalStorageObjects();(h||(h=c("areEqual")))(i,l)?(this.$2.set(this.$1,g),this.logStorageError(this.$2.getLastSetException(),e)):b>0&&(d?c("setTimeout")(function(){f.mutateLocalStorageObjects(a,b-1,!0)},j):this.mutateLocalStorageObjects(a,b-1,!0))};b.logStorageError=function(a,b){a!=null&&(d("ZenonUserActionLogger").logError({call_id:b==null?void 0:b.signalingID,error_domain:"ZenonGenericLocalStorageStore_storeLocalStorageObjects",error_type:a.name,peer_id:b==null?void 0:b.peerID}),(i||(i=c("WebStorage"))).isLocalStorageQuotaExceeded()&&c("ZenonODSLogger").logCounter("local_storage_quota_exceeded"))};return a}();g["default"]=a}),98);
__d("ZenonLoggingEventTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Send","Receive"]);c=b("$InternalEnum")({Primary:"primary",Secondary:"secondary"});d="rtc_www";f.ZenonUpdateIceInfoDirection=a;f.ZenonJoinMode=c;f.tslogSource=d}),66);
__d("ZenonMWMessageLogger",["ZenonLoggingEventTypes","ZenonMWMessageTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(),i=new Set();function a(a,b){a=a.jsonPayload;var c=a.body;a=a.header;if(h.has(a.transactionId))return;switch(a.type){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:c.joinRequest&&j(c.joinRequest,b);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:c.iceCandidateRequest&&l(c.iceCandidateRequest,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:c.clientMediaUpdateRequest&&m(c.clientMediaUpdateRequest,b);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:c.serverMediaUpdateResponse&&p(c.serverMediaUpdateResponse,b);break}h.add(a.transactionId)}function b(a,b){a=a.jsonPayload;var c=a.body;a=a.header;if(i.has(a.transactionId))return;switch(a.type){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:c.joinResponse&&k(c.joinResponse,b);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:c.iceCandidateRequest&&l(c.iceCandidateRequest,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:c.clientMediaUpdateResponse&&n(c.clientMediaUpdateResponse,b);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:c.serverMediaUpdateRequest&&o(c.serverMediaUpdateRequest,b);break}i.add(a.transactionId)}function j(a,b){var c=a.answer;a=a.offer;b({name:"inviteSent"});q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send);c&&q(c,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send)}function k(a,b){a=a.answer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive)}function l(a,b,c){a=a.iceCandidateSdps;a.forEach(function(a){a.candidateSdpString!=null&&b({direction:c,name:"updateIceInfo",sdpString:a.candidateSdpString})})}function m(a,b){a=a.offer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send)}function n(a,b){a=a.answer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive)}function o(a,b){var c=a.answer;a=a.offer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive);c&&q(c,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive)}function p(a,b){a=a.answer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send)}function q(a,b,c){a.sdpString!=null&&b({direction:c,name:"updateIceInfo",sdpString:a.sdpString})}g.logSentMessage=a;g.logReceivedMessage=b}),98);
__d("ZenonMWSendMessageMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8002805496396921"}),null);
__d("ZenonMWSendMessageMutation.graphql",["ZenonMWSendMessageMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"RtcWebSendMultiwaySignalingMessageResponsePayload",kind:"LinkedField",name:"rtc_web_send_multiway_signaling_message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ZenonMWSendMessageMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ZenonMWSendMessageMutation",selections:c},params:{id:b("ZenonMWSendMessageMutation_facebookRelayOperation"),metadata:{},name:"ZenonMWSendMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("ZenonMWSendMessageMutation",["CometRelayErrorHandling","Promise","ZenonMWSendMessageMutation.graphql","asyncToGeneratorRuntime","cr:1012418","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,e){return new(i||(i=b("Promise")))(function(f,g){b("cr:1012418").commitMutation(e,{mutation:h!==void 0?h:h=b("ZenonMWSendMessageMutation.graphql"),onCompleted:function(a){return f(a)},onError:function(a){c("gkx")("20935")&&d("CometRelayErrorHandling").markErrorAsHandled(a);return g(a)},variables:{input:{message:a}}})})}function k(a){a=a.rtc_web_send_multiway_signaling_message;var b=null,c=null;a!=null&&(a.header!=null&&(b=JSON.parse(a.header)),a.body!=null&&(c=JSON.parse(a.body)));return{body:c,header:b}}function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield j(a,b));return k(a)});return l.apply(this,arguments)}g.sendMessage=a}),98);
__d("ZenonValidateMWMessage",["FBLogger","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonMWMessageTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.jsonPayload.header.type;if(a.jsonPayload.header.serverInfoData==null&&b!=null&&b!==d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP][DROP] No remoteSignalingID in message: "+b});c("FBLogger")("rtc_www").warn("[ZP][DROP] No remoteSignalingID in message: "+b);return!1}return!0}g["default"]=a}),98);
__d("ZenonGraphQLMWMessageSender",["ChannelClientID","Promise","RpZenonBinaryThriftSignalingSitevarConfig","ZenonActorHooks","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonMWMessageDebugLogger","ZenonMWMessageLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","ZenonMWMessageTypes","ZenonMWSendMessageMutation","ZenonMWTranslatorUtils","ZenonValidateMWMessage","asyncToGeneratorRuntime","err","shouldUseThriftSignaling","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.$3=a;a=c("RpZenonBinaryThriftSignalingSitevarConfig").supported_message_types_mqtt.map(function(a){return d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType[a]});this.$4=new Set(a)}var e=a.prototype;e.handleResponse=function(a){var b=this.$1;if(b==null)throw c("unrecoverableViolation")("Should never have null message receiver","rtc_www");var e=a.header||null;a=a.body||null;if(e!=null&&a!=null){var f;f={endpoint:{appId:d("ZenonMWTranslatorUtils").getMWAppID(),deviceId:c("ChannelClientID").getID(),userId:(f=e.receiverUserId)!=null?f:d("ZenonActorHooks").ZenonActor.getID()},jsonPayload:{body:a,header:e}};c("ZenonMWMessageDebugLogger").logMWMessage("RECEIVED","GraphQL",f);d("ZenonMWMessageReliabilityLogger").logReceivedMessage(f);this.$2&&this.$2({mwMessage:f,name:"mwMessageRecv"});a=d("ZenonMWMessageTranslator").toSignalingMessage(f);a!=null&&(b(a),d("ZenonMWMessageReliabilityLogger").logProcessingMessage(f))}};e.$5=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("ZenonMWMessageReliabilityLogger").logSendingMessage(a);c("ZenonMWMessageDebugLogger").logMWMessage("SENDING","GraphQL",a);this.$2&&d("ZenonMWMessageLogger").logSentMessage(a,this.$2);try{var b=(yield d("ZenonMWSendMessageMutation").sendMessage(JSON.stringify(a),this.$3));d("ZenonMWMessageReliabilityLogger").logSentMessage(a);this.$2&&this.$2({mwMessage:a,name:"mwMessageSent"});this.handleResponse(b)}catch(e){b=e!=null?e.toString():"Message Send Error";d("ZenonMWMessageReliabilityLogger").logSendMessageFailed(a,"[GraphQL] "+b);c("ZenonMWMessageDebugLogger").logSendMultiwayMessageFailure(b,a.jsonPayload.header.type);e!=null&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"Failed to send MW message of type "+a.jsonPayload.header.type+". Stack Trace: "+e.stack+"."})}});function e(b){return a.apply(this,arguments)}return e}();e.sendMessage=function(a){a=d("ZenonMWMessageTranslator").toMWMessage(a);if(!a||!c("ZenonValidateMWMessage")(a))return(h||(h=b("Promise"))).reject(c("err")("Invalid MW message"));var e=a.jsonPayload.header.type;if(c("shouldUseThriftSignaling")()&&this.$4.has(a.jsonPayload.header.type))return(h||(h=b("Promise"))).resolve();return a.endpoint.userId!==d("ZenonActorHooks").ZenonActor.getAccountID()||e!==d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE?this.$5(a):(h||(h=b("Promise"))).reject(c("err")("GraphQL only sends DATA_MESSAGE for Page users"))};e.setMessageReceiver=function(a){this.$1=a};e.setLoggingEventHandler=function(a){this.$2=a};return a}();g["default"]=a}),98);
__d("ZenonLSCallStartEventManager",["ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonPeerID"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ZenonLSCallStartEventManager$p_1={},c.$ZenonLSCallStartEventManager$p_2=!1,c.$ZenonLSCallStartEventManager$p_3=!1,b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateEventTimestamp=function(a){this.$ZenonLSCallStartEventManager$p_1[a]==null&&(this.$ZenonLSCallStartEventManager$p_1[a]=d("ZenonCallFalcoEventUtils").performanceNowParsed())};c.receivedFromInvite=function(){this.$ZenonLSCallStartEventManager$p_2=!0};c.receivedFromServer=function(){this.$ZenonLSCallStartEventManager$p_3=!0};c.getStartEventData=function(){var a=this.getCallInfo();a=a.signalingID;var b=babelHelpers["extends"]({},this.getTimestamps(),this.$ZenonLSCallStartEventManager$p_4());a!==""&&(b.local_signaling_id=a);return b};c.$ZenonLSCallStartEventManager$p_4=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.localCallID,e=a.peerID,f=a.serverInfoData;a=a.signalingID;return babelHelpers["extends"]({connection_logging_id:a,local_call_id:c,peer_id:d("ZenonPeerID").convertPeerIDForLogging(e),protocol:"multiway"},f!=null&&{shared_call_id:f},{steady_time_ms:d("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:b})};c.getTimestamps=function(){return this.$ZenonLSCallStartEventManager$p_1};c.save=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.storeCallStartEventManager(c,b,this)};c["delete"]=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.removeLocalStorageObjects([{peerID:c,signalingID:b}])};c.toJsonString=function(){var a=this.getCallInfo(),b=a.signalingID;a={callInfo:a,connectionLoggingId:b,receivedFromInvite:this.$ZenonLSCallStartEventManager$p_2,receivedFromServer:this.$ZenonLSCallStartEventManager$p_3,timestamps:this.getTimestamps()};return JSON.stringify(a)};b.fromJsonString=function(a){var c;try{c=JSON.parse(a)}catch(a){return null}a=c.callInfo;a.deviceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["deviceID"]);a=new b(a);a.$ZenonLSCallStartEventManager$p_2=c.receivedFromInvite;a.$ZenonLSCallStartEventManager$p_3=c.receivedFromServer;a.$ZenonLSCallStartEventManager$p_1=c.timestamps;return a};return b}(c("ZenonCallInfoManager"));g["default"]=a}),98);
__d("ZenonLSCallStartEventStore",["ZenonGenericLocalStorageStore","ZenonLSCallStartEventManager"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_LS_CALL_START_",j="ls_call_start",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrieveCallStartEventManager=function(a,b){var d=this.getLocalStorageObjects();d=d[a]?d[a][b]:null;if(d)return c("ZenonLSCallStartEventManager").fromJsonString(d.__d);else return null};d.storeCallStartEventManager=function(a,b,c){this.mutateLocalStorageObjects(function(d){d[a]||(d[a]={});d[a][b]={__d:c.toJsonString(),__t:Date.now(),__z:!0};return d},k,!1,{peerID:a,signalingID:b})};return b}(c("ZenonGenericLocalStorageStore"));b=new a();g.ZenonLSCallStartEventStoreInstance=b}),98);
__d("ZenonLSCallSummary",["ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonDeviceInfoHelper","ZenonDismissReason","ZenonLoggingEventTypes","ZenonPeerID","asyncToGeneratorRuntime","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var e;e=a.call(this,b)||this;e.$ZenonLSCallSummary$p_1={call_answered_time:"-1",call_connected_time:"-1",call_created_time:"-1",call_ended_time:"-1",last_updated_time:"-1"};e.$ZenonLSCallSummary$p_2=!1;e.$ZenonLSCallSummary$p_3=null;e.$ZenonLSCallSummary$p_6=null;e.$ZenonLSCallSummary$p_8=null;e.$ZenonLSCallSummary$p_9=null;e.$ZenonLSCallSummary$p_10=null;e.$ZenonLSCallSummary$p_11=null;e.$ZenonLSCallSummary$p_15=null;e.$ZenonLSCallSummary$p_19=!1;e.$ZenonLSCallSummary$p_12=b.callTrigger;e.$ZenonLSCallSummary$p_7=b.isVideo;e.$ZenonLSCallSummary$p_4=0;e.$ZenonLSCallSummary$p_14=(b=b.joinMode)!=null?b:d("ZenonLoggingEventTypes").ZenonJoinMode.Primary;e.$ZenonLSCallSummary$p_5=(h||(h=c("performanceNow")))();e.setTimestamp("call_created_time");e.updateLastUpdatedTime();c("promiseDone")(e.updateBatteryStart());return e}var f=e.prototype;f.setTimestamp=function(a){if(this.$ZenonLSCallSummary$p_1[a]!=="-1")return;this.$ZenonLSCallSummary$p_1[a]=String(this.$ZenonLSCallSummary$p_20())};f.getTimestamps=function(){return this.$ZenonLSCallSummary$p_1};f.getExtraInfo=function(){var a={};this.$ZenonLSCallSummary$p_9!=null&&!isNaN(this.$ZenonLSCallSummary$p_9)&&(a.battery_end_level=String(this.$ZenonLSCallSummary$p_9));this.$ZenonLSCallSummary$p_8!=null&&!isNaN(this.$ZenonLSCallSummary$p_8)&&(a.battery_start_level=String(this.$ZenonLSCallSummary$p_8));this.$ZenonLSCallSummary$p_10!=null&&(a.was_device_charged=this.$ZenonLSCallSummary$p_10);this.$ZenonLSCallSummary$p_11!=null&&(a.max_concurrent_connected_participant=this.$ZenonLSCallSummary$p_11);return a};f.getVideoStats=function(){var a={};if(this.$ZenonLSCallSummary$p_6!=null){var b;isNaN(this.$ZenonLSCallSummary$p_6.ld)||(a.local_video_duration=String(this.$ZenonLSCallSummary$p_6.ld));if(!isNaN((b=this.$ZenonLSCallSummary$p_6)==null?void 0:b.rd)){a.remote_video_duration=String((b=(b=this.$ZenonLSCallSummary$p_6)==null?void 0:b.rd)!=null?b:0)}}return a};f.getEndCallStats=function(){var a={};this.$ZenonLSCallSummary$p_16!=null&&(a.end_call_reason=d("ZenonDismissReason").dismissToEndCallReason(this.$ZenonLSCallSummary$p_16));this.$ZenonLSCallSummary$p_17!=null&&(a.end_call_subreason=this.$ZenonLSCallSummary$p_17);this.$ZenonLSCallSummary$p_19!=null&&(a.remote_ended=this.$ZenonLSCallSummary$p_19);this.$ZenonLSCallSummary$p_3!=null&&(a.is_connected_end=this.$ZenonLSCallSummary$p_3);return a};f.getLoggingArgs=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.peerID,e=a.serverInfoData;a=a.signalingID;return{call_id:a,conf_name:(a=this.$ZenonLSCallSummary$p_13)!=null?a:"",peer_id:d("ZenonPeerID").convertPeerIDForLogging(c),serv_info:(a=e)!=null?a:"",web_device_id:b}};f.getSummaryLoggingInfo=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.isCaller,e=a.localCallID,f=a.peerID;a=a.serverInfoData;return babelHelpers["extends"]({},this.getTimestamps(),this.getExtraInfo(),this.getVideoStats(),this.getEndCallStats(),a!=null&&{shared_call_id:a},{call_trigger:(a=this.$ZenonLSCallSummary$p_12)!=null?a:"",invite_requested_video:this.$ZenonLSCallSummary$p_7,is_caller:c,join_mode:String(this.$ZenonLSCallSummary$p_14),local_call_id:e,peer_id:d("ZenonPeerID").convertPeerIDForLogging(f),rtc_actor_id:this.$ZenonLSCallSummary$p_15,steady_time:d("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time:String(Date.now()),web_device_id:b})};f.onCallEscalated=function(){this.updateLastUpdatedTime()};f.onCallAccepted=function(a){this.$ZenonLSCallSummary$p_12=a,this.setTimestamp("call_answered_time"),this.updateLastUpdatedTime()};f.onCallConnected=function(){this.setTimestamp("call_connected_time"),this.updateLastUpdatedTime()};f.setMediaStats=function(a){this.$ZenonLSCallSummary$p_6=a.video,this.updateLastUpdatedTime()};f.setMaxConnectedParticipants=function(a){this.$ZenonLSCallSummary$p_11=d("ZenonCallFalcoEventUtils").nonNullIntNumber(a),this.updateLastUpdatedTime()};f.setRtcActorID=function(a){this.$ZenonLSCallSummary$p_15=a};f.unsetEndCallFields=function(){this.$ZenonLSCallSummary$p_18===!0&&(this.$ZenonLSCallSummary$p_16=null,this.$ZenonLSCallSummary$p_17=null,this.$ZenonLSCallSummary$p_19=null,this.$ZenonLSCallSummary$p_3=null,this.$ZenonLSCallSummary$p_1.call_ended_time="-1",this.$ZenonLSCallSummary$p_5=0,this.$ZenonLSCallSummary$p_18=null)};f.onCallEnded=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){this.$ZenonLSCallSummary$p_16=a,this.$ZenonLSCallSummary$p_17=d,this.$ZenonLSCallSummary$p_18=c,this.$ZenonLSCallSummary$p_19=b,this.$ZenonLSCallSummary$p_3==null&&(this.$ZenonLSCallSummary$p_3=this.$ZenonLSCallSummary$p_2),yield this.updateBatteryEnd(),this.setTimestamp("call_ended_time"),this.updateLastUpdatedTime()});function c(b,c,d,e){return a.apply(this,arguments)}return c}();f.onPCStateChange=function(a){this.$ZenonLSCallSummary$p_2=a,this.updateLastUpdatedTime()};f.updateBatteryStart=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("ZenonDeviceInfoHelper").getBatteryStats()),b=a.level;a=a.placeholder;a!==!0&&(this.$ZenonLSCallSummary$p_8=parseInt(b,10))});function d(){return a.apply(this,arguments)}return d}();f.updateBatteryEnd=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("ZenonDeviceInfoHelper").getBatteryStats()),b=a.level,d=a.placeholder;a=a.wasCharged;d!==!0&&(this.$ZenonLSCallSummary$p_9=parseInt(b,10),this.setDeviceCharged(a))});function d(){return a.apply(this,arguments)}return d}();f.setDeviceCharged=function(a){this.$ZenonLSCallSummary$p_10!==!0&&(this.$ZenonLSCallSummary$p_10=a)};f.setConferenceName=function(a){this.$ZenonLSCallSummary$p_13=a,this.updateLastUpdatedTime()};f.getDeviceCharged=function(){return this.$ZenonLSCallSummary$p_10};e.fromJsonString=function(a){var b;try{b=JSON.parse(a)}catch(a){return null}a=b.callInfo;var c=a.deviceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["deviceID"]);a=new e(a);a.setDeviceID(c);a.$ZenonLSCallSummary$p_1=b.timestamps;a.$ZenonLSCallSummary$p_2=b.pcIsConnected;a.$ZenonLSCallSummary$p_3=b.endIsConnected;a.$ZenonLSCallSummary$p_16=b.endCallReason;a.$ZenonLSCallSummary$p_17=b.endCallSubreason;a.$ZenonLSCallSummary$p_19=b.isRemoteEnded;a.$ZenonLSCallSummary$p_7=b.isVideo;a.$ZenonLSCallSummary$p_15=(c=b.rtcActorID)!=null?c:null;a.$ZenonLSCallSummary$p_6={ld:parseInt(b.videoStats.local_video_duration,10),rd:parseInt(b.videoStats.remote_video_duration,10)};a.$ZenonLSCallSummary$p_8=parseInt(b.extraInfo.battery_start_level,10);a.$ZenonLSCallSummary$p_9=parseInt(b.extraInfo.battery_end_level,10);b.extraInfo.was_device_charged!=null&&(a.$ZenonLSCallSummary$p_10=b.extraInfo.was_device_charged);b.extraInfo.max_concurrent_connected_participant!=null&&(a.$ZenonLSCallSummary$p_11=b.extraInfo.max_concurrent_connected_participant);b.unsetOnRetrieve!=null&&(a.$ZenonLSCallSummary$p_18=b.unsetOnRetrieve);b.accumulatedCallTime!=null&&(a.$ZenonLSCallSummary$p_4=b.accumulatedCallTime);b.conferenceName!=null&&(a.$ZenonLSCallSummary$p_13=b.conferenceName);return a};f.toJsonString=function(){var a={accumulatedCallTime:this.$ZenonLSCallSummary$p_20(),callInfo:this.getCallInfo(),conferenceName:this.$ZenonLSCallSummary$p_13,endCallReason:this.$ZenonLSCallSummary$p_16,endCallSubreason:this.$ZenonLSCallSummary$p_17,endIsConnected:this.$ZenonLSCallSummary$p_3,extraInfo:this.getExtraInfo(),isRemoteEnded:this.$ZenonLSCallSummary$p_19,isVideo:this.$ZenonLSCallSummary$p_7,joinMode:this.$ZenonLSCallSummary$p_14,pcIsConnected:this.$ZenonLSCallSummary$p_2,rtcActorID:this.$ZenonLSCallSummary$p_15,timestamps:this.getTimestamps(),unsetOnRetrieve:this.$ZenonLSCallSummary$p_18,videoStats:this.getVideoStats()};return JSON.stringify(a)};f.$ZenonLSCallSummary$p_20=function(){var a=(h||(h=c("performanceNow")))()-this.$ZenonLSCallSummary$p_5;return Math.floor(this.$ZenonLSCallSummary$p_4+a)};f.updateLastUpdatedTime=function(){this.$ZenonLSCallSummary$p_1.last_updated_time=String(this.$ZenonLSCallSummary$p_20())};f.save=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.storeCallSummary(c,b,this)};f.remove=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.removeLocalStorageObjects([{peerID:c,signalingID:b}])};return e}(c("ZenonCallInfoManager"));g["default"]=a}),98);
__d("ZenonLSCallSummaryStore",["ZenonGenericLocalStorageStore","ZenonLSCallSummary"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_LS_CALL_SUMMARY_",j="ls_summary",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrieveCallSummary=function(a,b){var d=this.getLocalStorageObjects();d=d[a]?d[a][b]:null;if(d)return c("ZenonLSCallSummary").fromJsonString(d.__d);else return null};d.storeCallSummary=function(a,b,c){this.mutateLocalStorageObjects(function(d){d[a]||(d[a]={});d[a][b]={__d:c.toJsonString(),__t:Date.now(),__z:!0};return d},k,!1,{peerID:a,signalingID:b})};return b}(c("ZenonGenericLocalStorageStore"));b=new a();g.ZenonLSCallSummaryStoreInstance=b}),98);
__d("ZenonLSE2EEStatsManager",["E2eeMetricsSerializers","WebAssemblyMemorySingleton","ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonPeerID"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$ZenonLSE2EEStatsManager$p_1={group_e2ee_metrics:d("E2eeMetricsSerializers").GroupE2eeMetrics$DefaultConstructor(),p2p_e2ee_metrics:d("E2eeMetricsSerializers").P2pE2eeMetrics$DefaultConstructor(),track_specific_e2ee_stats:new Map(),wasm_metrics:d("WebAssemblyMemorySingleton").WebAssemblyMemorySingleton.getMetrics()},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateE2eeStats=function(a){this.$ZenonLSE2EEStatsManager$p_1=a};c.getGroupE2eeMetricsInFalcoShape=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.localCallID;a=a.serverInfoData;return babelHelpers["extends"]({g_e2ee_web_wasm_final_memory_usage_kb:String(this.$ZenonLSE2EEStatsManager$p_1.wasm_metrics.memory_size_kb),g_e2ee_web_wasm_memory_reallocation_count:String(this.$ZenonLSE2EEStatsManager$p_1.wasm_metrics.memory_reallocation_count),local_call_id:c},a!=null&&{shared_call_id:a},{steady_time_ms:d("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:b},this.$ZenonLSE2EEStatsManager$p_1.group_e2ee_metrics)};c.getP2pE2eeMetricsInFalcoShape=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.localCallID,e=a.peerID;a=a.serverInfoData;return babelHelpers["extends"]({local_call_id:c},a!=null&&{shared_call_id:a},{peer_id:d("ZenonPeerID").convertPeerIDForLogging(e),steady_time_ms:d("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:b},this.$ZenonLSE2EEStatsManager$p_1.p2p_e2ee_metrics)};c.save=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.storeE2eeStats(c,b,this)};c["delete"]=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.removeLocalStorageObjects([{peerID:c,signalingID:b}])};c.toJsonString=function(){var a={callInfo:this.getCallInfo(),groupE2eeMetrics:this.$ZenonLSE2EEStatsManager$p_1.group_e2ee_metrics,p2pE2eeMetrics:this.$ZenonLSE2EEStatsManager$p_1.p2p_e2ee_metrics,trackSpecificE2eeStatsWithTrackId:Array.from(this.$ZenonLSE2EEStatsManager$p_1.track_specific_e2ee_stats),wasmMetrics:this.$ZenonLSE2EEStatsManager$p_1.wasm_metrics};return JSON.stringify(a)};b.fromJsonString=function(a){var c;try{c=JSON.parse(a)}catch(a){return null}a=c.callInfo;a.deviceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["deviceID"]);a=new b(a);a.$ZenonLSE2EEStatsManager$p_1={group_e2ee_metrics:c.groupE2eeMetrics,p2p_e2ee_metrics:c.p2pE2eeMetrics,track_specific_e2ee_stats:new Map(c.trackSpecificE2eeStatsWithTrackId),wasm_metrics:c.wasmMetrics};return a};return b}(c("ZenonCallInfoManager"));g["default"]=a}),98);
__d("ZenonLSE2EEStore",["ZenonGenericLocalStorageStore","ZenonLSE2EEStatsManager"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_LS_E2EE_STATS_",j="ls_e2ee_stats",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrieveE2eeStats=function(a,b){var d=this.getLocalStorageObjects();d=d[a]?d[a][b]:null;if(d)return c("ZenonLSE2EEStatsManager").fromJsonString(d.__d);else return null};d.storeE2eeStats=function(a,b,c){this.mutateLocalStorageObjects(function(d){d[a]||(d[a]={});d[a][b]={__d:c.toJsonString(),__t:Date.now(),__z:!0};return d},k,!1,{peerID:a,signalingID:b})};return b}(c("ZenonGenericLocalStorageStore"));b=new a();g.ZenonLSE2EEStoreInstance=b}),98);
__d("ZenonLSPeerConnectionSummary",["ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonIceStatsParser","ZenonLoggingEventTypes","ZenonMWMessageTypes","ZenonPeerID","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.$ZenonLSPeerConnectionSummary$p_1={CoreAudioMetrics:{isstall:"0",voice_detect_pct:[]},CoreVideoMetrics:{screen:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}},video:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}}},DebugAudioMetrics:{NetworkReceive:{}},audio:{echo_confidence:{}},dataChannelMetrics:{},ecv:{},extraInfo:{},receiver:{},receiver_pct:{audio:{}},receiver_stalls:{screen_recv_stalls:{recv_decode_stall:{is_stall:"0"},recv_no_bytes_stall:{is_stall:"0"},recv_render_stall:{is_stall:"0"}},video_recv_stalls:{recv_decode_stall:{is_stall:"0"},recv_no_bytes_stall:{is_stall:"0"},recv_render_stall:{is_stall:"0"}}},sender:{},sender_pct:{screen:{},video:{}},video:{}};b.$ZenonLSPeerConnectionSummary$p_2={};b.$ZenonLSPeerConnectionSummary$p_3={};b.$ZenonLSPeerConnectionSummary$p_5=-1;b.$ZenonLSPeerConnectionSummary$p_8=null;b.$ZenonLSPeerConnectionSummary$p_9=new Map();b.$ZenonLSPeerConnectionSummary$p_10="unknown";b.$ZenonLSPeerConnectionSummary$p_6=(h||(h=c("performanceNow")))();b.$ZenonLSPeerConnectionSummary$p_4=0;b.$ZenonLSPeerConnectionSummary$p_7=null;return b}var e=b.prototype;e.$ZenonLSPeerConnectionSummary$p_11=function(){var a,b=this,c="",e=0,f=0,g=0,h=0;Object.keys((a=this.$ZenonLSPeerConnectionSummary$p_1.dataChannelMetrics)!=null?a:{}).forEach(function(a){a=b.$ZenonLSPeerConnectionSummary$p_1.dataChannelMetrics[a];if(a==null)return;c+=a.label+":"+a.bytes_sent+":"+a.bytes_received+":"+a.messages_sent+":"+a.messages_received+",";e+=Number(a.bytes_sent);f+=Number(a.bytes_received);g+=Number(a.messages_sent);h+=Number(a.messages_received)});return{data_channel_total_bytes_recv:d("ZenonCallFalcoEventUtils").nonNullIntNumber(f),data_channel_total_bytes_sent:d("ZenonCallFalcoEventUtils").nonNullIntNumber(e),data_channel_total_msg_recv:d("ZenonCallFalcoEventUtils").nonNullIntNumber(h),data_channel_total_msg_sent:d("ZenonCallFalcoEventUtils").nonNullIntNumber(g),data_channel_type:"SCTP",sctp_per_channel_stats_raw:c}};e.$ZenonLSPeerConnectionSummary$p_12=function(){var a=this.$ZenonLSPeerConnectionSummary$p_1.sender,b=a.codec;b=b===void 0?{}:b;var c={gen0_ice_sent_host:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_2.host),gen0_ice_sent_relay:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_2.relay),gen0_ice_sent_srflx:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_2.srflx)};b=b.www;b!=null&&(c.audio_send_codec=String(b));this.$ZenonLSPeerConnectionSummary$p_13(c,"audio_send_bytes_sent",a.bytes);this.$ZenonLSPeerConnectionSummary$p_13(c,"audio_send_level_count",a.taulc);this.$ZenonLSPeerConnectionSummary$p_13(c,"audio_send_level_sum",a.tx_sum_lvl);this.$ZenonLSPeerConnectionSummary$p_13(c,"audio_send_packets_sent",a.psent);this.$ZenonLSPeerConnectionSummary$p_13(c,"avg_video_uplink_bandwidth_estimate",a.ube_avg);this.$ZenonLSPeerConnectionSummary$p_13(c,"transport_conn_rtt_avg",a.avgrtt);return c};e.$ZenonLSPeerConnectionSummary$p_13=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary$p_14=function(){var a,b,c;a=(a=this.$ZenonLSPeerConnectionSummary$p_1.video.sender)==null?void 0:a.ss;b=(b=a==null?void 0:a.frames)!=null?b:0;c=(c=a==null?void 0:a.eqps)!=null?c:0;c=b>0&&c>0?c/b:null;b={};this.$ZenonLSPeerConnectionSummary$p_15(b,"avg_video_actual_encode_bitrate_ss",a==null?void 0:a.avbr);this.$ZenonLSPeerConnectionSummary$p_15(b,"avg_video_uplink_bandwidth_estimate_ss",a==null?void 0:a.avbw);this.$ZenonLSPeerConnectionSummary$p_15(b,"video_send_duration_ss",a==null?void 0:a.dur);this.$ZenonLSPeerConnectionSummary$p_15(b,"video_send_frames_send_to_encoder_ss",a==null?void 0:a.eiframes);this.$ZenonLSPeerConnectionSummary$p_15(b,"video_send_total_input_pixel_ss",a==null?void 0:a.video_sum_capture_pixel);this.$ZenonLSPeerConnectionSummary$p_15(b,"video_send_total_output_pixel_ss",a==null?void 0:a.video_sum_encoded_pixel);this.$ZenonLSPeerConnectionSummary$p_15(b,"video_send_frames_encoded_ss",a==null?void 0:a.frames);this.$ZenonLSPeerConnectionSummary$p_15(b,"video_send_qp_sum_ss",c);return b};e.$ZenonLSPeerConnectionSummary$p_15=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary$p_16=function(){var a=this.$ZenonLSPeerConnectionSummary$p_1.video.bwe,b={};this.$ZenonLSPeerConnectionSummary$p_17(b,"avg_video_actual_encode_bitrate",a==null?void 0:a.avg_enc_bitrate);this.$ZenonLSPeerConnectionSummary$p_17(b,"avg_video_actual_encode_bitrate_ss",a==null?void 0:a.avg_enc_bitrate_ss);this.$ZenonLSPeerConnectionSummary$p_17(b,"avg_video_retransmit_bitrate",a==null?void 0:a.avg_retrans_bitrate);this.$ZenonLSPeerConnectionSummary$p_17(b,"avg_video_transmit_bitrate",a==null?void 0:a.avg_trans_bitrate);this.$ZenonLSPeerConnectionSummary$p_17(b,"avg_video_uplink_bandwidth_estimate",a==null?void 0:a.avg_send_bw);return b};e.$ZenonLSPeerConnectionSummary$p_17=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary$p_18=function(){var a;a=(a=this.$ZenonLSPeerConnectionSummary$p_1.sender_pct.video)==null?void 0:a.vqs;var b={};(a==null?void 0:a.avg)!=null&&(b.video_send_quality_score=d("ZenonCallFalcoEventUtils").truncateNumber(a==null?void 0:a.avg));return b};e.$ZenonLSPeerConnectionSummary$p_19=function(){var a=this.$ZenonLSPeerConnectionSummary$p_1.video.sender,b={video_send_codec:a==null?void 0:a.ename};this.$ZenonLSPeerConnectionSummary$p_20(b,"video_recv_firs_sent",a==null?void 0:a.fir);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_recv_nacks_sent",a==null?void 0:a.nack);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_recv_plis_sent",a==null?void 0:a.pli);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frame_height",a==null?void 0:a.ah);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frame_height_input",a==null?void 0:a.ch);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frame_width",a==null?void 0:a.aw);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frame_width_input",a==null?void 0:a.cw);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frames_captured",a==null?void 0:a.fcap);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frames_encoded",a==null?void 0:a.frames);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frames_sent",a==null?void 0:a.fcsn);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frames_send_to_encoder",a==null?void 0:a.eiframes);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_capture_duration_ms",this.$ZenonLSPeerConnectionSummary$p_1.video.ld);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_duration_blur",a==null?void 0:a.video_blur_dur);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_key_frames_encoded",a==null?void 0:a.kframes);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_packets_sent",a==null?void 0:a.psent);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_qp_sum",a==null?void 0:a.eqps);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_total_input_pixel",a==null?void 0:a.video_sum_capture_pixel);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_total_output_pixel",a==null?void 0:a.video_sum_encoded_pixel);return b};e.$ZenonLSPeerConnectionSummary$p_20=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary$p_21=function(){var a,b=this.$ZenonLSPeerConnectionSummary$p_1.video.receiver,c={video_recv_codec:b==null?void 0:b.dname};this.$ZenonLSPeerConnectionSummary$p_22(c,"audio_recv_jitter_buffer_frames_assembled",b==null?void 0:b.jtasb);this.$ZenonLSPeerConnectionSummary$p_22(c,"audio_recv_jitter_buffer_frames_out",b==null?void 0:b.jtfrm);this.$ZenonLSPeerConnectionSummary$p_22(c,"audio_recv_jitter_buffer_keyframes_out",b==null?void 0:b.jtkey);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_agg_bytes_decoded",b==null?void 0:b.dec_bytes);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_agg_packets_lost",b==null?void 0:b.plost);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_agg_packets_recv",b==null?void 0:b.precv);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_av_sync_abs",b==null?void 0:b.avabs);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_frame_height",b==null?void 0:b.rh);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_frame_width",b==null?void 0:b.rw);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_frames_decoded",b==null?void 0:b.frd);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_freeze_count",b==null?void 0:b.frcnt);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_freeze_duration",b==null?void 0:b.frdur);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_freeze_duration_above_500_ms",b==null?void 0:b.frdur500);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_pause_count",b==null?void 0:b.pact);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_pause_duration_ms",b==null?void 0:b.padur);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_qp_sum",b==null?void 0:b.qps);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_total_pixels_decoded",b==null?void 0:b.agg_video_sum_decoded_pixel);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_union_decode_time_ms",b==null?void 0:b.dec_time);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_send_firs_recv",b==null?void 0:b.fir);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_send_nacks_recv",b==null?void 0:b.nack);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_send_plis_recv",b==null?void 0:b.pli);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_weighted_vqs",b==null?void 0:(a=b.vqs)==null?void 0:a.avg);a=b==null?void 0:b.dec_time_all_streams;b=b==null?void 0:b.dec_frame;this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_agg_decode_time_ms",a);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_agg_frames_decoded",b);a!=null&&a>0&&b!=null&&b>0&&this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_framerate_decoded",b*1e3/a);return c};e.$ZenonLSPeerConnectionSummary$p_23=function(){var a;a=(a=this.$ZenonLSPeerConnectionSummary$p_1.video.receiver)==null?void 0:a.ss_recv;var b={};this.$ZenonLSPeerConnectionSummary$p_24(b,"video_recv_duration_ss",a==null?void 0:a.ss_recv_dur);return b};e.$ZenonLSPeerConnectionSummary$p_24=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary$p_25=function(){var a,b,c;a=(a=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null?void 0:(a=a.video_recv_stalls)==null?void 0:a.recv_no_bytes_stall;b=(b=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null?void 0:(b=b.video_recv_stalls)==null?void 0:b.recv_decode_stall;c=(c=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null?void 0:(c=c.video_recv_stalls)==null?void 0:c.recv_render_stall;var d={};if(a){var e=a.is_stall,f=a.sdur;a=a.nstall;e!=null&&(d.video_recv_byte_received_is_stalled=String(e));f!=null&&(d.video_recv_byte_received_total_stall_duration_ms=String(f));a!=null&&(d.video_recv_byte_received_total_stalls=String(a))}if(b){e=b.is_stall;f=b.sdur;a=b.nstall;e!=null&&(d.video_recv_decoder_is_stalled=String(e));f!=null&&(d.video_recv_decoder_total_stall_duration_ms=String(f));a!=null&&(d.video_recv_decoder_total_stalls=String(a))}if(c){b=c.is_stall;e=c.sdur;f=c.nstall;b!=null&&(d.video_render_is_stalled=String(b));e!=null&&(d.video_render_total_stall_duration_ms=String(e));f!=null&&(d.video_render_total_stalls=String(f))}return d};e.$ZenonLSPeerConnectionSummary$p_26=function(){var a;a=(a=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null?void 0:(a=a.screen_recv_stalls)==null?void 0:a.recv_decode_stall;var b={};if(a){var c=a.is_stall,d=a.sdur;a=a.nstall;c!=null&&(b.screen_share_recv_decoder_is_stalled=String(c));d!=null&&(b.screen_share_recv_decoder_total_stall_duration_ms=String(d));a!=null&&(b.screen_share_recv_decoder_total_stalls=String(a))}return b};e.$ZenonLSPeerConnectionSummary$p_22=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary$p_27=function(){var a,b,c=this.$ZenonLSPeerConnectionSummary$p_1.DebugAudioMetrics.NetworkReceive.jb_nm;a=c==null?void 0:(a=c.neteq)==null?void 0:a.meanWait;b=c==null?void 0:(b=c.speech_expand_rate)==null?void 0:b.avg;c=c==null?void 0:(c=c.speech_expand_rate)==null?void 0:c.M;var d={};a!=null&&(d.audio_recv_neteq_mean_wait_ms=String(a));b!=null&&(d.audio_recv_neteq_speech_expand_rate_avg=String(b));c!=null&&(d.audio_recv_neteq_speech_expand_rate_max=String(c));return d};e.$ZenonLSPeerConnectionSummary$p_28=function(){var a=this.$ZenonLSPeerConnectionSummary$p_1.CoreAudioMetrics,b=a.audio_device,c=a.isstall,d=a.sdur;a=a.astall;var e={};b!=null&&(e.audio_device=String(b));c!=null&&(e.audio_device_is_stalled=String(c));d!=null&&(e.audio_device_stall_duration=String(d));a!=null&&(e.audio_device_total_stall=String(a));return e};e.$ZenonLSPeerConnectionSummary$p_29=function(){var a,b={};if(((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_neteq_wait_time_ms)!=null){b.ecv_neteq_wait_time_ms=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_neteq_wait_time_ms))}if(((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_rtt_ms)!=null){b.ecv_rtt_ms=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_rtt_ms))}if(((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_plccng)!=null){b.ecv_plccng=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_plccng))}if(((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_video_freeze_duration_above_500_ms)!=null){b.ecv_video_freeze_duration_above_500_ms=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_video_freeze_duration_above_500_ms))}if(((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_av_sync_above_1000_ms)!=null){b.ecv_av_sync_above_1000_ms=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_av_sync_above_1000_ms))}return b};e.$ZenonLSPeerConnectionSummary$p_30=function(){var a=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.video.capture_stall,b=a.is_stall,c=a.last_sdur,d=a.sdur;a=a.nstall;var e=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.video.encode_stall,f=e.is_stall,g=e.last_sdur,h=e.sdur;e=e.nstall;var i=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.video.sent_stall,j=i.is_stall,k=i.last_sdur,l=i.sdur;i=i.nstall;var m={};b!=null&&(m.video_device_capture_is_stalled=String(b));c!=null&&(m.video_device_capture_last_stall_duration_ms=String(c));d!=null&&(m.video_device_capture_total_stall_duration_ms=String(d));a!=null&&(m.video_device_capture_total_stalls=String(a));f!=null&&(m.video_encode_is_stalled=String(f));g!=null&&(m.video_encode_last_stall_duration_ms=String(g));h!=null&&(m.video_encode_total_stall_duration_ms=String(h));e!=null&&(m.video_encode_total_stalls=String(e));j!=null&&(m.video_send_is_stalled=String(j));k!=null&&(m.video_send_last_stall_duration_ms=String(k));l!=null&&(m.video_send_total_stall_duration_ms=String(l));i!=null&&(m.video_send_total_stalls=String(i));return m};e.$ZenonLSPeerConnectionSummary$p_31=function(){var a=this.$ZenonLSPeerConnectionSummary$p_1,b=a.receiver;a=a.receiver_pct;var c=null;b.codec!=null&&(c=String(Object.values(b.codec).pop()));var e={gen0_ice_received_host:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_3.host),gen0_ice_received_relay:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_3.relay),gen0_ice_received_srflx:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_3.srflx)};c!=null&&(e.audio_recv_codec=String(c));this.$ZenonLSPeerConnectionSummary$p_32(e,"audio_ctp_latency_avg_us",(c=a.audio.jbd)==null?void 0:c.avg,(c=a.audio.rtt)==null?void 0:c.avg);this.$ZenonLSPeerConnectionSummary$p_32(e,"audio_ctp_latency_p5_us",(c=a.audio.jbd)==null?void 0:c.p5,(c=a.audio.rtt)==null?void 0:c.p5);this.$ZenonLSPeerConnectionSummary$p_32(e,"audio_ctp_latency_p50_us",(c=a.audio.jbd)==null?void 0:c.p50,(c=a.audio.rtt)==null?void 0:c.p50);this.$ZenonLSPeerConnectionSummary$p_32(e,"audio_ctp_latency_p95_us",(c=a.audio.jbd)==null?void 0:c.p95,(c=a.audio.rtt)==null?void 0:c.p95);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_bytes_recv",b.bytes);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_concealed_samples",b.sp_c);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_fec_packets_discarded",b.fecpd);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_fec_packets_received",b.fecpr);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_jitter",b.jitter);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_jitter_buffer_flushes",b.dec_pack_flush);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_level_count",b.taulc);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_level_sum",b.rx_sum_lvl);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_total_samples_duration",b.sp_dur);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_total_samples_received",b.sp_r);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_neteq_accelerate",b.dec_ar);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_neteq_normal",b.dec_normal);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_neteq_operations",b.neteq_calls);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_neteq_plc",b.dec_plc);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_neteq_plccng",b.dec_plc_cng);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_neteq_preemptive_expand",b.dec_per);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_packets_lost",b.plost);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_packets_recv",b.precv);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_silent_concealed_samples",b.sp_sc);return e};e.$ZenonLSPeerConnectionSummary$p_34=function(){var a,b={};a=(a=this.$ZenonLSPeerConnectionSummary$p_1.video.sender)==null?void 0:a.ss;if((a==null?void 0:a.dur)!=null&&(a==null?void 0:a.dur)>0){a=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.screen.capture_stall;var c=a.is_stall,d=a.sdur;a=a.nstall;var e=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.screen.encode_stall,f=e.is_stall,g=e.sdur;e=e.nstall;var h=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.screen.sent_stall,i=h.is_stall,j=h.sdur;h=h.nstall;c!=null&&(b.screen_share_capture_is_stalled=String(c));d!=null&&(b.screen_share_capture_total_stall_duration_ms=String(d));a!=null&&(b.screen_share_capture_total_stalls=String(a));f!=null&&(b.screen_share_encode_is_stalled=String(f));g!=null&&(b.screen_share_encode_total_stall_duration_ms=String(g));e!=null&&(b.screen_share_encode_total_stalls=String(e));i!=null&&(b.screen_share_send_is_stalled=String(i));j!=null&&(b.screen_share_send_total_stall_duration_ms=String(j));h!=null&&(b.screen_share_send_total_stalls=String(h))}return b};e.$ZenonLSPeerConnectionSummary$p_33=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary$p_35=function(){var a,b=this.$ZenonLSPeerConnectionSummary$p_1.extraInfo,c=b.localIceCandidate;b=b.remoteIceCandidate;return{relay_protocol:c==null?void 0:c.relayProtocol,transport_conn_type:"l:"+((a=c==null?void 0:c.candidateType)!=null?a:"")+"-"+((a=c==null?void 0:c.protocol)!=null?a:"")+";r:"+((c=b==null?void 0:b.candidateType)!=null?c:"")+"-"+((a=b==null?void 0:b.protocol)!=null?a:"")}};e.$ZenonLSPeerConnectionSummary$p_36=function(){var a=this.$ZenonLSPeerConnectionSummary$p_9,b={},c=0,e=!1,f=0,g=0;a.forEach(function(a,b){e!==a&&(a?c>0&&(g++,f+=b-c,c=0):c=b,e=a)});if(c>0){a=this.$ZenonLSPeerConnectionSummary$p_5;a>-1&&a>c&&(g++,f+=a-c)}b.transport_num_gaps=d("ZenonCallFalcoEventUtils").nonNullIntNumber(g);b.transport_total_gap_duration_ms=d("ZenonCallFalcoEventUtils").nonNullIntNumber(f);this.$ZenonLSPeerConnectionSummary$p_8!=null&&(b.transport_connected=this.$ZenonLSPeerConnectionSummary$p_8?"1":"0");return b};e.$ZenonLSPeerConnectionSummary$p_37=function(){var a,b={};b.audio_send_echo_confidence=(a=this.$ZenonLSPeerConnectionSummary$p_1.audio)==null?void 0:(a=a.echo_confidence)==null?void 0:a.audio_send_echo_confidence;return b};e.onCallEnded=function(){this.$ZenonLSPeerConnectionSummary$p_5=this.$ZenonLSPeerConnectionSummary$p_38(),this.$ZenonLSPeerConnectionSummary$p_8==null&&(this.$ZenonLSPeerConnectionSummary$p_8=this.$ZenonLSPeerConnectionSummary$p_7)};e.$ZenonLSPeerConnectionSummary$p_32=function(a,b,c,e){var f=0;c!=null&&(f+=c);e!=null&&(f+=e/2);f>0&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(f))};e.getPeerConnectionSummary=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.localCallID,e=a.peerID,f=a.serverInfoData;a=a.signalingID;return babelHelpers["extends"]({},this.$ZenonLSPeerConnectionSummary$p_11(),this.$ZenonLSPeerConnectionSummary$p_28(),this.$ZenonLSPeerConnectionSummary$p_12(),this.$ZenonLSPeerConnectionSummary$p_31(),this.$ZenonLSPeerConnectionSummary$p_14(),this.$ZenonLSPeerConnectionSummary$p_16(),this.$ZenonLSPeerConnectionSummary$p_18(),this.$ZenonLSPeerConnectionSummary$p_19(),this.$ZenonLSPeerConnectionSummary$p_21(),this.$ZenonLSPeerConnectionSummary$p_23(),this.$ZenonLSPeerConnectionSummary$p_27(),this.$ZenonLSPeerConnectionSummary$p_36(),this.$ZenonLSPeerConnectionSummary$p_29(),this.$ZenonLSPeerConnectionSummary$p_30(),this.$ZenonLSPeerConnectionSummary$p_34(),this.$ZenonLSPeerConnectionSummary$p_25(),this.$ZenonLSPeerConnectionSummary$p_26(),this.$ZenonLSPeerConnectionSummary$p_35(),this.$ZenonLSPeerConnectionSummary$p_37(),f!=null&&{shared_call_id:f},{connection_logging_id:a,local_call_id:c,media_path:this.$ZenonLSPeerConnectionSummary$p_10,peer_id:d("ZenonPeerID").convertPeerIDForLogging(e),protocol:"multiway",steady_time_ms:d("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:b})};e.$ZenonLSPeerConnectionSummary$p_38=function(){var a=(h||(h=c("performanceNow")))()-this.$ZenonLSPeerConnectionSummary$p_6;return Math.floor(this.$ZenonLSPeerConnectionSummary$p_4+a)};e.updateIceInfo=function(a,b){var c=b===d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send?this.$ZenonLSPeerConnectionSummary$p_2:this.$ZenonLSPeerConnectionSummary$p_3;b=d("ZenonIceStatsParser").extractIceInfo(a);b.forEach(function(a){var b=a.gen;a=a.type;b===0&&(c[a]==null?c[a]=1:c[a]++)})};e.onPCStateChange=function(a){this.$ZenonLSPeerConnectionSummary$p_7!==a&&(this.$ZenonLSPeerConnectionSummary$p_7=a,this.$ZenonLSPeerConnectionSummary$p_9.set(this.$ZenonLSPeerConnectionSummary$p_38(),a))};e.$ZenonLSPeerConnectionSummary$p_39=function(a){switch(a){case d("ZenonMWMessageTypes").ZenonMWMediaPath.SFU:return"sfu";case d("ZenonMWMessageTypes").ZenonMWMediaPath.P2P:return"p2p";case d("ZenonMWMessageTypes").ZenonMWMediaPath.UNKNOWN:default:return"unknown"}};e.setMediaPath=function(a){this.$ZenonLSPeerConnectionSummary$p_10=this.$ZenonLSPeerConnectionSummary$p_39(a)};e.setMediaStats=function(a){this.$ZenonLSPeerConnectionSummary$p_1=a};e.save=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.storePeerConnectionSummary(c,b,this)};e["delete"]=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.removeLocalStorageObjects([{peerID:c,signalingID:b}])};e.toJsonString=function(){var a=this.getCallInfo();a=a.signalingID;a={accumulatedCallTime:this.$ZenonLSPeerConnectionSummary$p_38(),callInfo:this.getCallInfo(),connectionLoggingId:a,endIsConnected:this.$ZenonLSPeerConnectionSummary$p_8,gen0IceReceivedCount:this.$ZenonLSPeerConnectionSummary$p_3,gen0IceSentCount:this.$ZenonLSPeerConnectionSummary$p_2,mediaPath:this.$ZenonLSPeerConnectionSummary$p_10,mediaStats:this.$ZenonLSPeerConnectionSummary$p_1,pcIsConnected:this.$ZenonLSPeerConnectionSummary$p_7};return JSON.stringify(a)};b.fromJsonString=function(a){var c,d;try{d=JSON.parse(a)}catch(a){return null}a=d.callInfo;a.deviceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["deviceID"]);a=new b(a);a.$ZenonLSPeerConnectionSummary$p_10=d.mediaPath;a.$ZenonLSPeerConnectionSummary$p_1=d.mediaStats;a.$ZenonLSPeerConnectionSummary$p_3=d.gen0IceReceivedCount;a.$ZenonLSPeerConnectionSummary$p_2=d.gen0IceSentCount;a.$ZenonLSPeerConnectionSummary$p_7=(c=d.pcIsConnected)!=null?c:null;a.$ZenonLSPeerConnectionSummary$p_8=d.endIsConnected;d.accumulatedCallTime!=null&&(a.$ZenonLSPeerConnectionSummary$p_4=d.accumulatedCallTime);return a};return b}(c("ZenonCallInfoManager"));g["default"]=a}),98);
__d("ZenonLSPeerConnectionSummaryStore",["ZenonGenericLocalStorageStore","ZenonLSPeerConnectionSummary"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_LS_PCS_",j="ls_pcs",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrievePeerConnectionSummary=function(a,b){var d=this.getLocalStorageObjects();d=d[a]?d[a][b]:null;if(d)return c("ZenonLSPeerConnectionSummary").fromJsonString(d.__d);else return null};d.storePeerConnectionSummary=function(a,b,c){this.mutateLocalStorageObjects(function(d){d[a]||(d[a]={});d[a][b]={__d:c.toJsonString(),__t:Date.now(),__z:!0};return d},k,!1,{peerID:a,signalingID:b})};return b}(c("ZenonGenericLocalStorageStore"));b=new a();g.ZenonLSPeerConnectionSummaryStoreInstance=b}),98);
__d("ZenonLSStarRatingsManager",["LsRtcEndCallSurveyFalcoEvent","LsRtcStarRatingFalcoEvent","ZenonCallInfoManager","ZenonPeerID"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.setRating=function(a){var b=this.getCallInfo(),e=b.deviceID,f=b.localCallID,g=b.peerID;b=b.serverInfoData;var h={local_call_id:f,peer_id:d("ZenonPeerID").convertPeerIDForLogging(g),shared_call_id:b,web_device_id:e};c("LsRtcStarRatingFalcoEvent").logImmediately(function(){return babelHelpers["extends"]({star_rating:a.toString()},h)})};e.setSurvey=function(a,b,e){b===void 0&&(b=null);e===void 0&&(e=null);var f=this.getCallInfo(),g=f.deviceID,h=f.localCallID,i=f.peerID;f=f.serverInfoData;h={local_call_id:h,peer_id:d("ZenonPeerID").convertPeerIDForLogging(i),shared_call_id:f,web_device_id:g};i=Array.isArray(b)?b:b!=null?[b]:[];var j=babelHelpers["extends"]({rtc_end_call_survey_issue:(g=(f=e)==null?void 0:f.toLocaleLowerCase())!=null?g:"",rtc_end_call_survey_selected_options:i},h,a==null?{}:{rtc_end_call_survey_freeform:a});c("LsRtcEndCallSurveyFalcoEvent").log(function(){return j})};e.save=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.storeStarRatings(c,b,this)};e["delete"]=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.removeLocalStorageObjects([{peerID:c,signalingID:b}])};e.toJsonString=function(){var a={callInfo:this.getCallInfo()};return JSON.stringify(a)};b.fromJsonString=function(a){var c;try{c=JSON.parse(a)}catch(a){return null}a=c.callInfo;a.deviceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["deviceID"]);return new b(a)};return b}(c("ZenonCallInfoManager"));g["default"]=a}),98);
__d("ZenonLSStarRatingsStore",["ZenonGenericLocalStorageStore","ZenonLSStarRatingsManager"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_LS_STAR_RATINGS_",j="ls_star_ratings",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrieveStarRatings=function(a,b){var d=this.getLocalStorageObjects();d=d[a]?d[a][b]:null;if(d)return c("ZenonLSStarRatingsManager").fromJsonString(d.__d);else return null};d.storeStarRatings=function(a,b,c){this.mutateLocalStorageObjects(function(d){d[a]||(d[a]={});d[a][b]={__d:c.toJsonString(),__t:Date.now(),__z:!0};return d},k,!1,{peerID:a,signalingID:b})};return b}(c("ZenonGenericLocalStorageStore"));b=new a();g.ZenonLSStarRatingsStoreInstance=b}),98);
__d("promiseAny",["invariant","AggregateError","Promise"],(function(a,b,c,d,e,f,g,h){var i;function j(a){return new(i||(i=b("Promise")))(function(c,d){return(i||(i=b("Promise"))).resolve(a).then(d,c)})}function a(a){a.length!==0||h(0,14837);return(i||(i=b("Promise"))).all(a.map(j)).then(function(a){throw new(c("AggregateError"))(a)},function(a){return a})}g["default"]=a}),98);
__d("ZenonMessageSenderChain",["promiseAny"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.addMessageSender=function(a){this.$1.push(a)};b.sendMessage=function(a){var b=this.$1.map(function(b){return b.sendMessage(a)});return c("promiseAny")(b)};b.setMessageReceiver=function(a){this.$1.forEach(function(b){return b.setMessageReceiver(a)})};b.setLoggingEventHandler=function(a){this.$1.forEach(function(b){return b.setLoggingEventHandler(a)})};return a}();g["default"]=a}),98);
__d("ZenonSignalingConstants",[],(function(a,b,c,d,e,f){"use strict";a="/rtc_multi";b="/t_rtc_multi";c="config_engine";d="D3F4U1T_F8_TR4CK";f.RTC_MULTI_MQTT_TOPIC=a;f.T_RTC_MULTI_MQTT_TOPIC=b;f.CONFIG_ENGINE_STATE_SYNC_TOPIC=c;f.DEFAULT_TRACK=d}),66);
__d("waitForZenonMqttConnected",["Promise","ZenonUserActionLogger","err","getZenonMqttChannel"],(function(a,b,c,d,e,f,g){"use strict";var h,i=15e3;function a(){return new(h||(h=b("Promise")))(function(a,b){var d=c("getZenonMqttChannel")();if(d.getConnectionState()==="Connected")a();else{c("ZenonUserActionLogger").logCheckpoint({checkpoint:"MQTT not connected, deferring sending MWS message"});c("ZenonUserActionLogger").startTimer("MQTT not connected");var e={onMQTTStateChanged:function(b){b==="Connected"&&(c("ZenonUserActionLogger").stopTimer({checkpointName:"MQTT connected after deferring sending MWS message",timerName:"MQTT not connected"}),d.unsubscribeChannelEvents(e),window.clearTimeout(f),a())}},f=window.setTimeout(function(){d.unsubscribeChannelEvents(e),c("ZenonUserActionLogger").stopTimer({checkpointName:"MQTT never connected. Current status: "+d.getConnectionState(),timerName:"MQTT not connected"}),b(c("err")("timeout"))},i);d.subscribeChannelEvents(e)}})}g["default"]=a}),98);
__d("ZenonMqttMWMessageSender",["Promise","RpZenonBinaryThriftSignalingSitevarConfig","ZenonActorHooks","ZenonMWMessageDebugLogger","ZenonMWMessageLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","ZenonMWMessageTypes","ZenonSignalingConstants","ZenonUserActionLogger","ZenonValidateMWMessage","asyncToGeneratorRuntime","err","getZenonMqttChannel","shouldUseThriftSignaling","waitForZenonMqttConnected"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){var a=c("RpZenonBinaryThriftSignalingSitevarConfig").supported_message_types_mqtt.map(function(a){return d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType[a]});this.$3=new Set(a)}var e=a.prototype;e.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this,e=!0;yield c("waitForZenonMqttConnected")()["catch"](function(a){c("ZenonUserActionLogger").logCheckpoint({checkpoint:"Not sending MWS message through MQTT because MQTT could not connect. Error: "+a}),e=!1});if(!e)return;d("ZenonMWMessageReliabilityLogger").logSendingMessage(a);c("ZenonMWMessageDebugLogger").logMWMessage("SENDING","MQTT",a);this.$2&&d("ZenonMWMessageLogger").logSentMessage(a,this.$2);var f=c("getZenonMqttChannel")();try{yield f.publish(d("ZenonSignalingConstants").RTC_MULTI_MQTT_TOPIC,JSON.stringify(a)).then(function(){d("ZenonMWMessageReliabilityLogger").logSentMessage(a),b.$2&&b.$2({mwMessage:a,name:"mwMessageSent"})},function(c){b.$5(a,c.toString())})}catch(b){this.$5(a,b.toString())}});function e(b){return a.apply(this,arguments)}return e}();e.$5=function(a,b){b=b!=null?b:"MQTT Message Send Error";d("ZenonMWMessageReliabilityLogger").logSendMessageFailed(a,"[MQTT] "+b);c("ZenonMWMessageDebugLogger").logSendMultiwayMessageFailure(b,a.jsonPayload.header.type)};e.sendMessage=function(a){a=d("ZenonMWMessageTranslator").toMWMessage(a);if(!a||!c("ZenonValidateMWMessage")(a))return(h||(h=b("Promise"))).reject(c("err")("Invalid MW message"));if(c("shouldUseThriftSignaling")()&&this.$3.has(a.jsonPayload.header.type))return(h||(h=b("Promise"))).resolve();return a.endpoint.userId!==d("ZenonActorHooks").ZenonActor.getAccountID()&&!d("ZenonActorHooks").ZenonActor.isInstagramUser()&&!d("ZenonActorHooks").ZenonActor.isOculusUser()?(h||(h=b("Promise"))).reject(c("err")("MQTT doesn't work with Page users yet")):this.$4(a)};e.setMessageReceiver=function(a){this.$1=a};e.setLoggingEventHandler=function(a){this.$2=a};return a}();g["default"]=a}),98);
__d("ZenonParentClientPerfQPLLogProcessor",["Promise","QuickPerformanceLogger","ZenonArmadilloLoggingChecks","ZenonClientPerfQPLConstants","ZenonDismissReason","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){function a(a){var b=a.data;a=a.isE2eeMandated;this.$1=b.localCallID;this.$2=b.serverInfoData;this.$3=b.signalingID;this.$4=a}var e=a.prototype;e.processEvent=function(a){var e=c("qpl")._(41156610,"2039");switch(a.name){case"inviteReceived":this.$2=a.serverInfoData;(i||(i=c("QuickPerformanceLogger"))).markerStart(e,+this.$3);(i||(i=c("QuickPerformanceLogger"))).markerAnnotate(e,{bool:{isE2eeMandated:this.$4},string:{local_call_id:this.$1,server_info_data:this.$2}},{instanceKey:+this.$3});break;case"callEnded":(i||(i=c("QuickPerformanceLogger"))).markerAnnotate(e,{string:{endCallReason:d("ZenonDismissReason").ZenonDismissReason.getName(a.endCallReason),endCallSubreason:a.endCallSubreason}},{instanceKey:+this.$3});(i||(i=c("QuickPerformanceLogger"))).markerEnd(e,4,+this.$3);break;case"popupOpened":(i||(i=c("QuickPerformanceLogger"))).markerPoint(e,d("ZenonClientPerfQPLConstants").POINT_ZENON_POPUP_OPENED,{instanceKey:+this.$3});break}return(h||(h=b("Promise"))).resolve()};return a}();e={LogProcessor:a,approvedForMandatedE2ee:function(){return d("ZenonArmadilloLoggingChecks").isArmadilloQPLLoggingEnabled()}};g.ZenonParentClientPerfQPLLogProcessor=a;g.ZenonParentClientPerfQPLLogProcessorConfig=e}),98);
__d("ZenonParentLSCallSummaryLogProcessor",["ODS","ZenonArmadilloLoggingChecks","ZenonDismissReason","ZenonInfraActionsLogger","ZenonLSCallStartEventManager","ZenonLSCallStartEventStore","ZenonLSCallSummary","ZenonLSCallSummaryStore","ZenonLSE2EEStatsManager","ZenonLSE2EEStore","ZenonLSPeerConnectionSummary","ZenonLSPeerConnectionSummaryStore","ZenonLSStarRatingsManager","ZenonLSStarRatingsStore","ZenonPeerID","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){a=a.data;a.peerID=d("ZenonPeerID").ZenonMWPeerID;this.$6=a.protocol;this.$1=new(c("ZenonLSCallSummary"))(a);this.$2=new(c("ZenonLSPeerConnectionSummary"))(a);this.$3=new(c("ZenonLSCallStartEventManager"))(a);this.$4=new(c("ZenonLSE2EEStatsManager"))(a);this.$5=new(c("ZenonLSStarRatingsManager"))(a);c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"NSL - created call summaries in parent window"})}var e=a.prototype;e.processEvent=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){switch(a.name){case"callAccepted":this.$1.onCallAccepted(a.trigger);this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);this.$2.save(d("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance);this.$3.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);this.$4.save(d("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance);this.$5.save(d("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance);break;case"callEnded":yield this.$7(a);break;case"inviteReceived":this.$8(a);break;case"popupOpened":yield this.$9(a);this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);this.$2.save(d("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance);this.$3.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);this.$4.save(d("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance);this.$5.save(d("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance);break}});function c(b){return a.apply(this,arguments)}return c}();e.$8=function(a){a=a.serverInfoData;if(a==null)return;this.$1.setSharedCallId(a);this.$2.setSharedCallId(a);this.$3.setSharedCallId(a);this.$4.setSharedCallId(a)};e.$9=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield this.$1.onCallEnded(d("ZenonDismissReason").ZenonDismissReason.ClientError,!1,!0,a.isPopupBlocked?"PopupBlocked":"PopupPending"),this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance)});function c(b){return a.apply(this,arguments)}return c}();e.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.isRemoteEnded)return;var b=a.endCallReason,c=a.endCallSubreason;a=a.isRemoteEnded;if(b===d("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled&&a)return;b===d("ZenonDismissReason").ZenonDismissReason.ClientError&&(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_client_crashes","zenon_client_error_end_call_reason");yield this.$1.onCallEnded(b,a,!1,c);this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);this.$2.save(d("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance);this.$3.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);this.$4.save(d("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance);this.$5.save(d("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance)});function c(b){return a.apply(this,arguments)}return c}();return a}();e={LogProcessor:a,approvedForMandatedE2ee:function(){return d("ZenonArmadilloLoggingChecks").isArmadilloCallSummaryLoggingEnabled()}};g.ZenonParentLSCallSummaryLogProcessor=a;g.ZenonParentLSCallSummaryLogProcessorConfig=e}),98);
__d("ZenonParentQPLLogProcessor",["Promise","QPLUserFlow","ZenonArmadilloLoggingChecks","ZenonDismissReason","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=a.data;a=a.isE2eeMandated;this.$1=b.localCallID;this.$2=b.serverInfoData;this.$3=b.signalingID;this.$4=a}var e=a.prototype;e.processEvent=function(a){switch(a.name){case"inviteReceived":c("QPLUserFlow").start(c("qpl")._(64225282,"3408"),{annotations:{bool:{isE2eeMandated:this.$4}},instanceKey:+this.$3});c("QPLUserFlow").start(c("qpl")._(398997251,"1544"),{annotations:{bool:{isE2eeMandated:this.$4},string:{localCallID:this.$1,serverInfoData:this.$2}},instanceKey:+this.$3});c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"invite_received",{instanceKey:+this.$3});break;case"callEnded":c("QPLUserFlow").endCancel(c("qpl")._(398997251,"1544"),{annotations:{string:{endCallReason:d("ZenonDismissReason").ZenonDismissReason.getName(a.endCallReason),endCallSubreason:a.endCallSubreason}},instanceKey:+this.$3});if(a.isRemoteEnded)return(h||(h=b("Promise"))).resolve();c("QPLUserFlow").endCancel(c("qpl")._(64225282,"3408"),{instanceKey:+this.$3});break;case"callAccepted":c("QPLUserFlow").addPoint(c("qpl")._(64225282,"3408"),"call_accepted",{instanceKey:+this.$3});c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"call_accepted",{instanceKey:+this.$3});break;case"dismissRecv":c("QPLUserFlow").addPoint(c("qpl")._(64225282,"3408"),"dismiss_recv",{instanceKey:+this.$3});c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"dismiss_recv",{instanceKey:+this.$3});break;case"inviteResponded":c("QPLUserFlow").addPoint(c("qpl")._(64225282,"3408"),"invite_responded",{instanceKey:+this.$3});c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"invite_responded",{instanceKey:+this.$3});break;case"popupOpened":c("QPLUserFlow").endSuccess(c("qpl")._(64225282,"3408"),{instanceKey:+this.$3});c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"popup_opened",{instanceKey:+this.$3});break}return(h||(h=b("Promise"))).resolve()};return a}();e={LogProcessor:a,approvedForMandatedE2ee:function(){return d("ZenonArmadilloLoggingChecks").isArmadilloQPLLoggingEnabled()}};g.ZenonParentQPLLogProcessor=a;g.ZenonParentQPLLogProcessorConfig=e}),98);
__d("ZenonParentSignalingClient",["Promise","ZenonDebugLogger","ZenonSignalingTypes","promiseDone","qpl","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,d,e){var f=this;this.remoteSignalingID=null;this.$4="init";this.$6=null;this.$7=null;this.$8=function(){};this.$9=function(a,b,d){c("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",f.$4,"received "+a.eventName,f.$1.getSignalingID());switch(a.eventName){case"inviteRequest":f.$11(a,b,d);break;case"remoteSdpRequest":f.$12(a,b);break;case"terminateRequest":f.$13(a,b,d);break}};this.$1=a;this.$3=d;this.$5=e;this.$2=b;b.setReceiver(this.$9);c("ZenonDebugLogger").getInstance().startQPL(c("qpl")._(64234815,"1094"),+a.getSignalingID())}var e=a.prototype;e.setSignalingEventHandlers=function(a){if(this.$6!=null){c("recoverableViolation")("setSignalingEventHandlers should only be called once, to avoid accidentally losing handlers.","rtc_www");return}this.$6=a};e.setLoggingEventHandler=function(a){this.$8=a};e.setSecureDataMessageManager=function(a){throw c("unrecoverableViolation")("setSecureDataMessageManager called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.getSignalingModel=function(){return this.$1};e.processReceiveEvent=function(a,b,d){throw c("unrecoverableViolation")("processReceiveEvent called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendDismiss=function(a){this.$4="terminated";a={eventName:"terminateRequest",fromJoinResponse:!1,reason:a,shouldInformPeer:!0};return this.$10(a)};e.receiveMessage=function(a){this.$2.receiveMessage(a)};e.isTerminated=function(){return this.$4==="terminated"};e.sendAnswerIntent=function(){if(this.$4==="inviteAcknowledged"){this.$4="answered";var a={eventName:"answerIntentRequest"};return this.$10(a)}else throw c("unrecoverableViolation")("sendAnswerIntent called in unexpected state "+this.$4,"rtc_www")};e.respondToInvite=function(a){if(this.$4==="inviteReceived"){if(this.$7==null)throw c("unrecoverableViolation")("respondToInvite called without inviteMessageId being populated first","rtc_www");this.$4="inviteAcknowledged";a={ackMessageId:this.$7,eventName:"inviteResponse",status:a};return this.$10(a)}else throw c("unrecoverableViolation")("respondToInvite called in unexpected state "+this.$4,"rtc_www")};e.initiateClientRenegotiation=function(a){throw c("unrecoverableViolation")("initiateClientRenegotiation called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendClientEvent=function(a){throw c("unrecoverableViolation")("sendClientEvent called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendInvite=function(a,b,d){throw c("unrecoverableViolation")("sendInvite called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendSdp=function(a,b){throw c("unrecoverableViolation")("sendSdp called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendIceCandidate=function(a){throw c("unrecoverableViolation")("sendIceCandidate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendMediaUpdate=function(a){throw c("unrecoverableViolation")("sendMediaUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendAddParticipantsMessage=function(a){throw c("unrecoverableViolation")("sendAddParticipantsMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendRemoveParticipantsRequest=function(a){throw c("unrecoverableViolation")("sendRemoveParticipantsRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendUsersApprovalRequest=function(a,b){throw c("unrecoverableViolation")("sendUsersApprovalRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendStateSyncUnsubscribe=function(a){throw c("unrecoverableViolation")("sendStateSyncUnsubscribe called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendStateSyncUpdate=function(a,b){throw c("unrecoverableViolation")("sendStateSyncUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendSubscriptionRequest=function(a){throw c("unrecoverableViolation")("sendSubscriptionRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendClientInfo=function(a){throw c("unrecoverableViolation")("sendClientInfo called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendGenericDataMessage=function(a,b,d){throw c("unrecoverableViolation")("sendGenericDataMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.silentlyTerminate=function(){throw c("unrecoverableViolation")("terminate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.$10=function(a){var d=this;c("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",this.$4,"sending "+a.eventName,this.$1.getSignalingID());return new(h||(h=b("Promise")))(function(b,c){return d.$3.sendEvent(a,b,c)})};e.$11=function(a,b,c){this.$4==="init"&&(this.$4="inviteReceived",this.$7=b,this.$5(a,c,this))};e.$13=function(a,b,d){if(this.$4!=="terminated"){this.$4="terminated";d={ackMessageId:b,eventName:"dismissResponse"};this.$3.sendEvent(d);if(this.$6&&this.$6.onDismissReceived){c("promiseDone")(this.$6.onDismissReceived(this.$1.getSignalingID(),a.reason,(b=a.subreason)!=null?b:null,a.detailedReasonFromMW))}}};e.$12=function(a,b){b={ackMessageId:b,acknowledgedVersion:a.sdp.version,eventName:"remoteSdpResponse",negotiateType:a.negotiateType,statusCode:d("ZenonSignalingTypes").ZenonSignalingStatusCode.OK,type:a.sdp.type};this.$3.sendEvent(b)};return a}();g["default"]=a}),98);
__d("ZenonSDKRateLimiter",["TokenBucketRateLimit","ZenonPlatformRateLimitSitevarConfig"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.take=function(a,b){b===void 0&&(b=1);a=this.$2(a);return a.take(b)};b.$2=function(a){var b,d=this.$1.get(a);if(d)return d;b=(b=c("ZenonPlatformRateLimitSitevarConfig").buckets.get(a))!=null?b:c("ZenonPlatformRateLimitSitevarConfig")["default"];d=new(c("TokenBucketRateLimit"))(b.bucket_size,b.refill_rate);this.$1.set(a,d);return d};return a}();g["default"]=a}),98);
__d("ZenonSignalingTransportTypes",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CHILD_WINDOW_READY:"rtc_child_window_ready",PARENT_INITIATED_CALL:"rtc_child_window_start_call",PARENT_LOG_IDENTIFIERS:"rtc_parent_log_identifiers",PARENT_QPL_MARKER:"rtc_parent_qpl_marker",PARENT_TO_CHILD_MESSAGE:"rtc_child_window_message"});f.ChildTransportMessageType=a}),66);
__d("isFacebookishURI",["isFacebookURI","isMessengerDotComURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("isFacebookURI")(a)||c("isMessengerDotComURI")(a)}g["default"]=a}),98);
__d("ZenonSignalingParentTransport",["MultiwaySharedTypes","QuickPerformanceLogger","RTWebIncomingRingConfiguration","Random","URI","ZenonBrowsers","ZenonE2eeMandatedStateManager","ZenonIGMediaUtil","ZenonMWMessageTypes","ZenonSignalingTransportTypes","isFacebookishURI","recoverableViolation","shouldUseSFUMediaPath"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=45*1e3;a=function(){function a(a){var b=this;this.verificationNonce=null;this.portToChild=null;this.$1=null;this.$2=null;this.localCallID=null;this.$3=new Map();this.$4=new Map();this.$5=new Map();this.$6=new Map();this.$7=window;a!=null&&(this.$7=a);d("RTWebIncomingRingConfiguration").isSupportedClient()&&this.$7.addEventListener&&this.$7.addEventListener("message",function(a){b.handleWindowMessageFromChild(a)},!1)}var b=a.prototype;b.handleWindowMessageFromChild=function(a){var b=this;if(this.windowMessageValid(a)&&a.data.type===d("ZenonSignalingTransportTypes").ChildTransportMessageType.CHILD_WINDOW_READY&&this.hasPort(a)){var c;c=(c=a.data.roomID)!=null?c:null;var e=a.data.serverInfoData;this.portToChild=a.ports[0];a=a.data.childNonce;this.$2=a;this.$7.clearTimeout(this.$1);this.$1=this.$7.setTimeout(function(){b.portToChild=null},j);this.verificationNonce=this.generateNonce();this.startCallInChildWindow(c,e);this.sendQPLToChildWindow();this.sendLogIdentifiersToChildWindow(this.localCallID)}};b.generateNonce=function(){return String(d("Random").random())};b.hasPort=function(a){return Boolean(a.ports!=null&&Array.isArray(a.ports)&&a.ports[0]!=null)};b.getRingRequestBySID=function(a){var b;b=k((b=this.$4.get(a))!=null?b:null);a=l((a=this.$6.get(a))!=null?a:null);return{mwRingRequest:b,mwThriftRingRequest:a}};b.startCallInChildWindow=function(a,b){var c=null,e=null;if(b!==void 0){if(b!=null){b=this.getRingRequestBySID(b);c=b.mwRingRequest;e=b.mwThriftRingRequest}}else if(a!=null){c=k((b=this.$3.get(a))!=null?b:null);e=l((b=this.$5.get(a))!=null?b:null)}a={mwRingRequest:c,mwThriftRingRequest:e,nonce:this.$2,type:d("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_INITIATED_CALL};this.sendMessageToChild(a)};b.sendQPLToChildWindow=function(){var a=new Map();(h||(h=c("QuickPerformanceLogger"))).activeMarkers.forEach(function(b,c){(c===398997251||c===41156610)&&a.set(c,b)});if(a.size>0){var b={markers:a,nonce:this.$2,type:d("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_QPL_MARKER,version:2};this.sendMessageToChild(b);a.forEach(function(a){for(var a=a,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];(h||(h=c("QuickPerformanceLogger"))).markerDrop(e.event,f)}})}};b.sendLogIdentifiersToChildWindow=function(a){a={localCallID:a,nonce:this.$2,type:d("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_LOG_IDENTIFIERS};this.sendMessageToChild(a)};b.windowMessageValid=function(a){return Boolean(a.origin===this.$7.location.origin||c("isFacebookishURI")(new(i||(i=c("URI")))(a.origin))&&c("isFacebookishURI")(new(i||(i=c("URI")))(this.$7.location.origin)))&&this.postMessageValid(a)};b.postMessageValid=function(a){return this.verificationNonce!==null&&(a==null?void 0:(a=a.data)==null?void 0:a.nonce)===this.verificationNonce};b.sendMessageToChild=function(a){this.portToChild!=null?this.portToChild.postMessage(a):c("recoverableViolation")("The child window port should be available","rtc_www")};b.enqueueRawMWMessage=function(a,b){var c=a.jsonPayload,d=c.body;c=c.header;d=d.ringRequest;if(d){d=c.conferenceName;c=c.serverInfoData;d!=null&&this.$3.set(d,{parsedMessage:b,rawMessage:a});c!=null&&this.$4.set(c,{parsedMessage:b,rawMessage:a})}};b.enqueueRawMWThriftMessage=function(a,b){var c=a.messageBody,d=a.messageHeader;c=c.ringRequest;if(c){c=d.conferenceName;d=d.serverInfoData;c!=null&&this.$5.set(c,{parsedMessage:b,rawMessage:a});d!=null&&this.$6.set(d,{parsedMessage:b,rawMessage:a})}};b.testGetChildNonce=function(){return this.$2};return a}();function k(a){var b,e;if(a===null)return null;var f=a.parsedMessage;a=a.rawMessage;if(f==null)return null;f=n(f);if((f==null?void 0:f.eventName)!=="inviteRequest")return null;f=(f=(f=a.jsonPayload.body.ringRequest)==null?void 0:f.isLegacyCall)!=null?f:!1;b=((b=a.jsonPayload.body.ringRequest)==null?void 0:(b=b.e2eeEnforcement)==null?void 0:b.mode)===d("ZenonMWMessageTypes").ZenonMWE2eeMode.E2EE_MANDATED;c("ZenonE2eeMandatedStateManager").processE2eeMandatedStateFromProductAndRing(b,(e=a.jsonPayload.body.ringRequest)==null?void 0:(e=e.e2eeEnforcement)==null?void 0:e.infraMandatedExpStatus);return o(b,f)?a:p(a)}function l(a){var b,e;if(a==null)return null;var f=a.parsedMessage;a=a.rawMessage;if(f==null)return null;f=n(f);if((f==null?void 0:f.eventName)!=="inviteRequest")return null;f=(f=(f=a.messageBody.ringRequest)==null?void 0:f.isLegacyCall)!=null?f:!1;b=((b=a.messageBody.ringRequest)==null?void 0:(b=b.e2eeEnforcement)==null?void 0:b.mode)===d("MultiwaySharedTypes").E2eeMode.E2EE_MANDATED;c("ZenonE2eeMandatedStateManager").processE2eeMandatedStateFromProductAndRing(b,(e=a.messageBody.ringRequest)==null?void 0:(e=e.e2eeEnforcement)==null?void 0:e.infraMandatedExpStatus);return o(b,f)?a:q(a)}function m(a,b){return d("ZenonBrowsers").isFirefox()||c("shouldUseSFUMediaPath")(a,b)||c("ZenonIGMediaUtil").shouldUseSFUOnly()}function n(a){a=a.getEvents().find(function(a){return a.eventName==="inviteRequest"});return a}function o(a,b){return b||!m(a,!1)}function p(a){var b;(b=a.jsonPayload.body.ringRequest)==null?void 0:delete b.offer;return a}function q(a){var b;(b=a.messageBody.ringRequest)==null?void 0:delete b.offer;return a}g["default"]=a}),98);
__d("ZenonParentCallsManager",["BaseEventEmitter","FBLogger","JSResource","JSResourceForInteraction","LazyLoadInstance","OverlayConfigManagerWithServerLayer","Promise","RTWebIncomingRingConfiguration","ZenonActorHooks","ZenonAppProvider","ZenonBrowsers","ZenonCallLogger","ZenonCallsModelTypes","ZenonCollisionContext","ZenonDismissReason","ZenonGraphQLMWMessageSender","ZenonMessageSenderChain","ZenonMqttMWMessageSender","ZenonParentClientPerfQPLLogProcessor","ZenonParentLSCallSummaryLogProcessor","ZenonParentQPLLogProcessor","ZenonParentSignalingClient","ZenonSDKRateLimiter","ZenonSignalingParentTransport","gkx","promiseDone","recoverableViolation","shouldUseThriftSignaling","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("JSResourceForInteraction")("setE2eeIsMandatedForZenonLoggers").__setRef("ZenonParentCallsManager"),j=c("JSResourceForInteraction")("ZenonGraphQLMWThriftMessageSender").__setRef("ZenonParentCallsManager");a=function(a){babelHelpers.inheritsLoose(e,a);function e(e){var f;f=a.call(this)||this;f.$ZenonParentCallsManager$p_4=new Map();f.$ZenonParentCallsManager$p_5=new Set();f.$ZenonParentCallsManager$p_6=null;f.$ZenonParentCallsManager$p_8=[];f.onInviteReceived=function(a,b,e){var g,h=e.getSignalingModel().getSignalingID();e.setSignalingEventHandlers({onDismissReceived:f.onDismissReceived});var i=a.appMessages,j=a.inviterID,k=a.isE2eeMandated,l=a.otherParticipants,m=a.requestingVideo,n=a.roomInfo,o=a.serverInfoData;k===!0&&f.$ZenonParentCallsManager$p_10(h);var p=m&&d("ZenonBrowsers").supportsVideoCalls(),q="multiway_incoming",r=c("uuidv4")(),s=f.$ZenonParentCallsManager$p_11({callTrigger:q,isCaller:!1,isVideo:p,localCallID:r,peerID:j,protocol:b,signalingID:h},(m=k)!=null?m:!1);s==null?void 0:s.log({name:"inviteReceived",serverInfoData:o});m=d("RTWebIncomingRingConfiguration").isSupportedClient();var t=m?"OK":"NOT_SUPPORTED";c("promiseDone")(e.respondToInvite(t));s==null?void 0:s.log({name:"inviteResponded"});t={thread:{id:"0",type:2},type:"thread"};if(n.context!=null&&(((g=n.context)==null?void 0:g.groupThreadID)!=null||((g=n.context)==null?void 0:g.peerID)!=null)){g=(g=a.appMessages)==null?void 0:g.collision_context_payload;var u=null;if(g!=null)try{u=JSON.parse(g).calling_tags}catch(a){}g=k===!0&&u===2;if(n.context!=null){t={thread:(u=d("ZenonCollisionContext").getThreadIDAndTypeFromCollisionContext(n.context,g))!=null?u:{id:"0",type:2},type:"thread"}}}else((g=n.room)==null?void 0:g.linkHash)!=null&&((u=n.room)==null?void 0:u.roomName)!=null&&(t={room:n.room,type:"room"});u=(g=a.actorID)!=null?g:d("ZenonActorHooks").ZenonActor.getID();g={mwRingRequest:null,mwThriftRingRequest:null};o!=null&&(g=f.$ZenonParentCallsManager$p_2.getRingRequestBySID(o));n={actorID:a.actorID,context:t,controllerParams:{appMessages:i,callContext:n.name,configuration:b,serverInfoData:(t=(o=n.context)==null?void 0:o.serverInfoData)!=null?t:null,signalingID:h},inviterID:j,isClientPermissableRing:m,isE2eeMandated:(i=k)!=null?i:!1,onAccept:function(a,d){d=d.isPopupBlocked;s==null?void 0:s.log({name:"callAccepted",trigger:q});c("promiseDone")(e.sendAnswerIntent());f.$ZenonParentCallsManager$p_12(a,{callTrigger:q,isE2eeMandated:(a=k)!=null?a:!1,isPopupBlocked:d,isVideo:p,peerID:j,protocol:b,signalingID:h},r)},onDecline:function(a,b){b===void 0&&(b=null),f.onDecline(h,s,a,b)},otherParticipants:l.includes(u)?l:[u].concat(l),receiverUserId:a.userID,requestingVideo:p,ringID:h,ringRequest:g};f.emit("incomingRing",n)};f.onDismissReceived=function(a,c){var e=d("ZenonDismissReason").dismissReasonToCancelReason(c);e={reason:e,ringID:a};f.emit("ringCancel",e);e=f.$ZenonParentCallsManager$p_4.get(a);e!=null&&(e.log({name:"dismissRecv"}),e.log({endCallReason:c,isRemoteEnded:!0,name:"callEnded"}));return(h||(h=b("Promise"))).resolve()};f.$ZenonParentCallsManager$p_7=new(c("OverlayConfigManagerWithServerLayer"))();f.$ZenonParentCallsManager$p_3=e;f.$ZenonParentCallsManager$p_2=new(c("ZenonSignalingParentTransport"))(window);var g=new(c("ZenonMessageSenderChain"))([new(c("ZenonMqttMWMessageSender"))()].concat(!d("ZenonAppProvider").isOculusCastingSite()&&e.relayEnvironment?[new(c("ZenonGraphQLMWMessageSender"))(e.relayEnvironment)]:[]));if(c("shouldUseThriftSignaling")()){var i=new(c("LazyLoadInstance"))(c("JSResource")("ZenonMqttMWThriftMessageSender").__setRef("ZenonParentCallsManager"),function(a){return new a()});i.get(function(a){return g.addMessageSender(a)});c("promiseDone")(j.load(),function(a){if(e.relayEnvironment){a=new a(e.relayEnvironment);g.addMessageSender(a)}})}f.$ZenonParentCallsManager$p_1=new(c("LazyLoadInstance"))(c("JSResource")("ZenonSignalingClientManager").__setRef("ZenonParentCallsManager"),function(a){return new a(c("ZenonParentSignalingClient"),f.onInviteReceived,g)});f.$ZenonParentCallsManager$p_6=new(c("ZenonSDKRateLimiter"))();return f}var f=e.prototype;f.startOutgoingCallIntent=function(a,b){if(!this.$ZenonParentCallsManager$p_9("startOutgoingCallIntent"))return;var d=b.callTrigger,e=b.isE2eeMandated,f=b.isVideo,g=b.peerID,h=b.protocol,i=b.signalingID;e&&this.$ZenonParentCallsManager$p_10(i);var j=c("uuidv4")();this.$ZenonParentCallsManager$p_11({callTrigger:d,isCaller:!0,isVideo:f,localCallID:j,peerID:g,protocol:h,signalingID:i},e);this.$ZenonParentCallsManager$p_12(a,b,j)};f.$ZenonParentCallsManager$p_11=function(a,b){var d,e=a.callTrigger,f=a.isCaller,g=a.isVideo,h=a.localCallID,i=a.peerID,j=a.protocol;a=a.signalingID;d=(d=this.$ZenonParentCallsManager$p_4.get(a))!=null?d:null;if(e==="meetup_join")return d;if(d!=null){c("recoverableViolation")("Call logger key collision in parentCallsManager for signalingID: "+a,"rtc_www");return d}var k=new(c("ZenonCallLogger"))({config:this.$ZenonParentCallsManager$p_7,initLoggerInfo:{callTrigger:e,isCaller:f,isVideo:g,localCallID:h,peerID:i,protocol:j,signalingID:a},isE2eeMandated:b,processorConfigs:this.getLogProcessors()});this.$ZenonParentCallsManager$p_4.set(a,k);this.$ZenonParentCallsManager$p_8.forEach(function(a){a.setLoggingEventHandler(function(a){return k.log(a)})});return k};f.getLogProcessors=function(){var a=[d("ZenonParentLSCallSummaryLogProcessor").ZenonParentLSCallSummaryLogProcessorConfig,d("ZenonParentQPLLogProcessor").ZenonParentQPLLogProcessorConfig];c("gkx")("25214")&&a.push(d("ZenonParentClientPerfQPLLogProcessor").ZenonParentClientPerfQPLLogProcessorConfig);return a};f.$ZenonParentCallsManager$p_12=function(a,b,c){var d=b.isPopupBlocked;b=b.signalingID;this.$ZenonParentCallsManager$p_2.localCallID=c;this.$ZenonParentCallsManager$p_2.verificationNonce=a;this.$ZenonParentCallsManager$p_5.add(b);c=this.$ZenonParentCallsManager$p_4.get(b);c!=null&&c.log({isPopupBlocked:d,name:"popupOpened"})};f.initListeners=function(a){var b=this;this.$ZenonParentCallsManager$p_8=a;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e.subscribe(function(a){return b.onMessageReceived(a)},function(a,c){return b.$ZenonParentCallsManager$p_2.enqueueRawMWMessage(a,c)},function(a,c){return b.$ZenonParentCallsManager$p_2.enqueueRawMWThriftMessage(a,c)})}};f.onMessageReceived=function(a){var b=a.getHeader().signalingID;if(b!=null&&this.$ZenonParentCallsManager$p_5.has(b))return;this.$ZenonParentCallsManager$p_1.get(function(b){b.receiveMessage(a)})};f.onDecline=function(a,b,e,f){f===void 0&&(f=null),this.$ZenonParentCallsManager$p_1.get(function(g){g=g.getSignalingClient(a);if(g){var h=d("ZenonDismissReason").endCallToDismissReason(e);e!=="VersionUnsupported"&&f!==d("ZenonCallsModelTypes").ZenonEndCallSubreason.CallsBlocked&&c("promiseDone")(g.sendDismiss(h));b==null?void 0:b.log({endCallReason:h,endCallSubreason:f==null?null:f,isRemoteEnded:!1,name:"callEnded"})}else c("recoverableViolation")("signaling client should be defined","rtc_www")})};f.removeListeners=function(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.unsubscribe()}};f.$ZenonParentCallsManager$p_9=function(a){if(this.$ZenonParentCallsManager$p_6&&!this.$ZenonParentCallsManager$p_6.take(a)){c("FBLogger")("rtc_www").warn("[ZP] Dropping %s invocation. This SDK method is being called too rapidly.",a);return!1}return!0};f.$ZenonParentCallsManager$p_10=function(a){c("promiseDone")(i.load(),function(b){return b(a)})};return e}(c("BaseEventEmitter"));g["default"]=a}),98);
__d("delegateZenonCallInviteModel",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a.getCurrentInvite=b.getCurrentInvite.bind(b),a.startListening=b.startListening.bind(b),a.stopListening=b.stopListening.bind(b),a.dismiss=b.dismiss.bind(b),a.accept=b.accept.bind(b),a.decline=b.decline.bind(b),b.addListener("callInvite",function(b){a.emit("callInvite",b)})}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("LSSetIGE2EEEligibility",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(176).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.contactId,a[0])&&c.i64.eq(b.e2eeEligibility,a[1])}).next().then(function(e,f){f=e.done;e=e.value;return f?(d[1]=new c.Map(),d[1].set("contact_id",a[0]),d[1].set("new_eligibility",a[1]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"ig_set_e2ee_eligibility",c.i64.cast([0,60001]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(e.item,0)})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSetIGE2EEEligibilityStoredProcedure",["LSSetIGE2EEEligibility","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.id;d[1]=b.e2eeEligibility;return c("LSSetIGE2EEEligibility").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("IGDSetIGE2EEEligibility",["I64","LSDatabaseSingleton","LSFactory","LSInstagramE2EEEligibility","LSIntEnum","LSSetIGE2EEEligibilityStoredProcedure","MAWCurrentUser","asyncToGeneratorRuntime","gkx","justknobx","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(h||d("react")).useEffect;function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton);return e.runInTransaction(function(e){return c("LSSetIGE2EEEligibilityStoredProcedure")(c("LSFactory")(e),{e2eeEligibility:(j||(j=d("LSIntEnum"))).ofNumber(b),id:(k||(k=d("I64"))).of_string(a)})},"readwrite",void 0,void 0,f.id+":32")});return n.apply(this,arguments)}function a(){l(function(){if(c("gkx")("147")===!1||c("justknobx")._("2058"))return;var a=d("MAWCurrentUser").getID();c("promiseDone")(m(a,c("LSInstagramE2EEEligibility").ELIGIBLE))},[])}g.useUpsertSetIGE2EEEligibilityOnMount=a}),98);
__d("WAChatState",[],(function(a,b,c,d,e,f){"use strict";a="typing";b="recording_audio";c="idle";d={TYPING:a,RECORDING_AUDIO:b};e={IDLE:c};f.TYPING=a;f.RECORDING_AUDIO=b;f.IDLE=c;f.ACTIVE_CHAT_STATE_TYPE=d;f.IDLE_CHAT_STATE_TYPE=e}),66);
__d("MAWBridgeReceivedChatStateHandler",["I64","MAWMiActOnMiThreadReadyForJid","Promise","ServerTime","WAChatState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.threadJid,"MAWBridgeReceivedChatStateHandler",function(a,e){var f=(i||(i=d("I64"))).of_string(c.senderId),g=i.of_float(3e3+d("ServerTime").getMillis());if(c.state===d("WAChatState").TYPING)return a.typing_indicator.upsert([e,f],{expirationTimestampMs:g,senderId:f,threadKey:e}).then(function(){});else if(c.state===d("WAChatState").IDLE)return a.typing_indicator["delete"](e,f).then(function(){});else return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("MAWBridgeDeleteGroupInviteHandler",["MAWMiActOnMiThreadReadyForJid","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.threadJid,"MAWBridgeDeleteGroupInviteHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.group_invites).getKeyRange(c)));return(h||(h=b("Promise"))).all(c.map(function(b){return a.group_invites["delete"](b.threadKey,b.inviterId,b.inviteeId)})).then(function(){})});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeDeleteMessageRangesV2Handler",["I64","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeDeleteMessageRangesV2Handler",function(a,c){return a.messages_ranges_v2__generated["delete"](c,(h||(h=d("I64"))).of_float(b.minTimestampMs),b.minMsgId)})}g.call=a}),98);
__d("MAWBridgeDeleteMessagesHandler",["MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.threadJid,"MAWBridgeDeleteMessagesHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var e of c.messages)yield a.messages["delete"](b,d("MAWTimeUtils").toTimestamp(e.ts),e.msgId)});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeDeleteReactionHandler",["I64","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.chatJid,"MAWBridgeDeleteReactionHandler",function(a,c){return a.reactions["delete"](c,b.messageId,(h||(h=d("I64"))).of_string(b.actorId))})}g.call=a}),98);
__d("MAWBridgeEditMsgHistoryAddedHandler",["I64","LSMessageSendStatus","MAWChatJid","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f){return(i||(i=b("Promise"))).all(f.map(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f=(yield d("MAWChatJid").toThreadKey(a.tables,b.threadJid,"MAWBridgeEditMsgHistoryAddedHandler"));b={messageContent:b.msgContent.content,originalMessagePk:b.originalMsgId,pk:b.editMsgHistoryId,sendStatus:b.sendStatus!=null?(h||(h=d("I64"))).of_int32(b.sendStatus):(h||(h=d("I64"))).of_int32(c("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(h||(h=d("I64"))).of_int32(b.editTs),threadKey:f};return e.edit_message_history.put(b)});return function(a){return f.apply(this,arguments)}}())).then(function(){})}g.call=a}),98);
__d("MAWBridgeGroupInfoUpdatedHandler",["MAWMiActOnMiThreadReadyForJid","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.chatJid,"MAWBridgeGroupInfoUpdatedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f;f=(f=e.threadName)!=null?f:void 0;a=a.threads;b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(b)));if(b==null)return;var g=c("gkx")("33036")?{needsAdminApprovalForNewParticipant:e.memberAddMode!=="all_member_add"}:{};yield a.put(babelHelpers["extends"]({},b,g,{threadName:f}))});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeGroupInviteLoadedHandler",["fbt","I64","LSMessagingThreadTypeUtil","MAWMiActOnMiThreadReadyForJid","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=a.threads,f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e).getKeyRange(c)));if(f==null)return;var g=d("LSMessagingThreadTypeUtil").isGroup(f.threadType);if(!g)return;g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.group_invites).getKeyRange(c)));if(g==null)return;c=(i||(i=d("I64"))).equal((i||(i=d("I64"))).of_string(b.actorId),g.inviterId)?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts,["name"]).getKeyRange(g.inviterId));if(c==null)return;b=h._("__JHASH__UJFQkCMRFkv__JHASH__",[h._param("Inviter Name",c.name)]).toString();a=f.folderName==="inbox"?h._("__JHASH__4F6x7gUU1-S__JHASH__").toString():f.additionalThreadContext;yield e.put(babelHelpers["extends"]({},f,{additionalThreadContext:a,snippet:b}))});return k.apply(this,arguments)}function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeGroupInviteLoadedHandler",function(a,c){return j(a,b,c)})}g.callWithoutWaitingForAnything=j;g.call=a}),226);
__d("LSContactUserBlockAction",[],(function(a,b,c,d,e,f){a=Object.freeze({MN_UNBLOCK:0,MN_BLOCK:1,FB_UNBLOCK:2,FB_BLOCK:3});f["default"]=a}),66);
__d("MAWBlockUtils",["I64","LSContactUserBlockAction","LSIntEnum","LSThreadBitOffset","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useCallback,m=[0,31,35,55,56,58,24,25,19,85],n=[0,31,35,55,56,58,24,25,19,85,8,22],o=[35,19,85,56,24,25];function a(){var a=(h||(h=c("useReStore")))();return l(function(e,g){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(e)));if(b==null)return;var h=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.threadKey).filter(function(a){return(i||(i=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(15))})));if(h==null)return;b=(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactUserBlockAction").MN_BLOCK))?d("LSThreadBitOffset").clear(m,h.capabilities,h.capabilities2,h.capabilities3,h.capabilities4):(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactUserBlockAction").FB_BLOCK))?d("LSThreadBitOffset").clear(n,h.capabilities,h.capabilities2,h.capabilities3,h.capabilities4):d("LSThreadBitOffset").set(o,h.capabilities,h.capabilities2,h.capabilities3,h.capabilities4);var k=b[0],l=b[1];yield a.runInTransaction(function(a){var b=babelHelpers["extends"]({},h,{capabilities:k,capabilities2:l});return a.threads.put(b)},"readwrite",void 0,void 0,f.id+":134")})())},[a])}g.clearedMnBlockCapabilities=m;g.clearedFbBlockCapabilities=n;g.useChangeThreadBlockCapabilities=a}),98);
__d("MAWMessageRequestUtil",["I64","LSContactBitOffset","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){if(a==="pending"||a==="other")return!0;var f=d("LSContactBitOffset").hasWithDefault(64,e,!0);return a==="inbox"&&(h||(h=d("I64"))).equal(e.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT))&&!f?b:!1}function k(a){return a==="pending"||a==="other"}function a(a){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?k(a.folderName):!1}function l(a,b){return b!=null?j(a.folderName,!(h||(h=d("I64"))).equal(a.lastActivityTimestampMs,h.zero),b[1]):!1}function b(a,b){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?l(a,b):!1}e=[8,18,19,34,24,25,122];f=[21,48];g.isMessageRequestV2=j;g.isOneOnOneMessageRequest=a;g.isOneOnOneMessageRequestV2=b;g.disabledThreadCapabilitiesForIncomingRequest=e;g.enabledThreadCapabilitiesForIncomingRequest=f}),98);
__d("clearedMAWMnRestrictCapabilities",[],(function(a,b,c,d,e,f){"use strict";a=[0,31,35,55,56,58,24,25,35,19];b=a;f["default"]=b}),66);
__d("MAWUpdateLSThreadCapabilities",["fbt","I64","LSBitOffset","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWBlockUtils","MAWCurrentUser","MAWMessageRequestUtil","Promise","ReQL","asyncToGeneratorRuntime","clearedMAWMnRestrictCapabilities"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("MAWCurrentUser").getID(),m=(k||(k=d("I64"))).of_string(l);function a(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)).then(function(c){if(c==null)return(i||(i=b("Promise"))).resolve();var e=d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(27),c.capabilities);c=babelHelpers["extends"]({},c,{capabilities:e});return a.threads.put(c)}).then(function(){})}function e(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)).then(function(c){if(c==null)return(i||(i=b("Promise"))).resolve();var e=d("LSBitOffset").clear((j||(j=d("LSIntEnum"))).ofNumber(27),c.capabilities);c=babelHelpers["extends"]({},c,{capabilities:e});return a.threads.put(c)}).then(function(){})}function f(a,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)).then(function(c){if(c==null)return(i||(i=b("Promise"))).resolve([void 0,void 0]);var f=d("ReQL").firstAsync(d("LSMessagingThreadTypeUtil").isOneToOne(c.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.participants).getKeyRange(e),d("ReQL").fromTableAscending(a.contacts)).filter(function(a){a=a[1];return!(k||(k=d("I64"))).equal(a.id,m)}).map(function(a){a=a[1];return a}):d("ReQL").empty());return(i||(i=b("Promise"))).all([i.resolve(c),f])}).then(function(e){var f=e[0];if(f==null)return(i||(i=b("Promise"))).resolve();e=e[1];if(e==null)return(i||(i=b("Promise"))).resolve();var g=(k||(k=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").MESSAGE_BLOCKED)),h=k.equal(e.blockedByViewerStatus,j.ofNumber(c("LSContactBlockedByViewerStatus").FULLY_BLOCKED));e=d("LSContactBitOffset").has(66,e);h=h?d("LSThreadBitOffset").clear(d("MAWBlockUtils").clearedFbBlockCapabilities,f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4):g?d("LSThreadBitOffset").clear(d("MAWBlockUtils").clearedMnBlockCapabilities,f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4):e?d("LSThreadBitOffset").clear(c("clearedMAWMnRestrictCapabilities"),f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4):[f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4];g=h[0];e=h[1];var l=h[2];h=h[3];return a.threads.put(babelHelpers["extends"]({},f,{capabilities:g,capabilities2:e,capabilities3:l,capabilities4:h})).then(function(){})})}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){a=a.threads;c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(c)));if(c==null)return(i||(i=b("Promise"))).resolve();var e=d("LSThreadBitOffset").set.apply(d("LSThreadBitOffset"),[d("MAWMessageRequestUtil").disabledThreadCapabilitiesForIncomingRequest].concat(d("LSThreadBitOffset").clear(d("MAWMessageRequestUtil").enabledThreadCapabilitiesForIncomingRequest,c.capabilities,c.capabilities2,c.capabilities3,c.capabilities4))),f=e[0],g=e[1],h=e[2];e=e[3];yield a.put(babelHelpers["extends"]({},c,{additionalThreadContext:void 0,capabilities:f,capabilities2:g,capabilities3:h,capabilities4:e}))});return o.apply(this,arguments)}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(b==null)return;c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts,["name"]).getKeyRange(c)));if(c==null)return;c=h._("__JHASH__uQTwTbCP0iW__JHASH__",[h._param("Inviter Name",c.name)]).toString();var e=d("LSThreadBitOffset").set([105],b.capabilities,b.capabilities2,b.capabilities3,b.capabilities4),f=e[0],g=e[1],i=e[2];e=e[3];yield a.threads.put(babelHelpers["extends"]({},b,{capabilities:f,capabilities2:g,capabilities3:i,capabilities4:e,snippet:c}))});return q.apply(this,arguments)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)));if(e==null)return;c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.group_invites).getKeyRange(c)));var f=d("LSThreadBitOffset").clear([105],e.capabilities,e.capabilities2,e.capabilities3,e.capabilities4),g=f[0],h=f[1],i=f[2];f=f[3];yield a.threads.put(babelHelpers["extends"]({},e,{capabilities:g,capabilities2:h,capabilities3:i,capabilities4:f,snippet:void 0}));yield c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield a.group_invites["delete"](b.threadKey,b.inviterId,b.inviteeId)});return function(a){return c.apply(this,arguments)}}())});return s.apply(this,arguments)}g.enableAddMembersTxn=a;g.disableAddMembersTxn=e;g.disableBlockerCapabilitiesTxn=f;g.updateNonMessageRequestThreadTxn=n;g.setGroupInviteTxn=p;g.clearGroupInviteTxn=r}),226);
__d("MAWBridgeGroupInviteUpdateHandler",["I64","MAWMiActOnMiThreadReadyForJid","MAWUpdateLSThreadCapabilities","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.threadJid,"MAWBridgeGroupInviteUpdateHandler",function(a,e){var f=(i||(i=d("I64"))).of_string(c.inviterId);return(h||(h=b("Promise"))).all([d("MAWUpdateLSThreadCapabilities").setGroupInviteTxn(a,e,f)]).then(function(){})})}g.call=a}),98);
__d("MAWBridgeHandleCOPDigest",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return(g||(g=b("Promise"))).resolve()}f.call=a}),66);
__d("MAWBridgeMediaExpiredHandler",["MAWMiActOnMiThreadReadyForJid","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeMediaExpiredHandler.bs",function(a,d){if(c("gkx")("2419"))return a.attachments["delete"](d,b.msgId,String(b.plaintextHash));else return a.attachments["delete"](d,b.msgId,String(b.mediaId))})}g.call=a}),98);
__d("LSInsertNewMessageRangeStoredProcedure",["LSInsertNewMessageRange","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.newMinTs;d[2]=b.newMaxTs;d[3]=b.newMinMid;d[4]=b.newMaxMid;d[5]=b.lowerOverlap;d[6]=b.upperOverlap;d[7]=b.hasMoreBefore;d[8]=b.hasMoreAfter;d[9]=b.requestedMessageId;return c("LSInsertNewMessageRange").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWBridgeMsgRangeLoadedHandler",["I64","LSFactory","LSInsertNewMessageRangeStoredProcedure","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","Promise","WALogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["No messages found for thread "," with message id ",""]);j=function(){return a};return a}function a(a,e){if(e.rangeExtensionType==null){d("WALogger").ERROR(j(),e.threadJid,e.offsetMsgId);return(i||(i=b("Promise"))).resolve()}return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeMsgRangeLoadedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f,g,i,j,k,l;f=((f=e.rangeExtensionType)==null?void 0:f.minMsgTs)!=null?(h||(h=d("I64"))).of_float(e.rangeExtensionType.minMsgTs):d("MAWTimeUtils").MIN_TIMESTAMP_MS;g=((g=e.rangeExtensionType)==null?void 0:g.maxMsgTs)!=null?(h||(h=d("I64"))).of_float(e.rangeExtensionType.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS;i=(i=(i=e.rangeExtensionType)==null?void 0:i.minMsgId)!=null?i:"";j=(j=(j=e.rangeExtensionType)==null?void 0:j.maxMsgId)!=null?j:"";k=(k=(k=e.rangeExtensionType)==null?void 0:k.hasMoreBefore)!=null?k:!1;l=(l=(l=e.rangeExtensionType)==null?void 0:l.hasMoreAfter)!=null?l:!1;var m=e.offsetMsgId;yield c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:l,hasMoreBefore:k,lowerOverlap:f,newMaxMid:j,newMaxTs:g,newMinMid:i,newMinTs:f,requestedMessageId:m,threadKey:b,upperOverlap:g})});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWLocalizationEphemeralSettingSetAdminMsg",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET}g.isEphemeralSettingSetAdminMsg=a}),98);
__d("MAWAdminMsgCTA",["fbt","I64","MAWLocalizationEphemeralSettingSetAdminMsg","MAWLocalizationType","MAWTimeUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=h._("__JHASH__iw7A0LnsmaW__JHASH__").toString(),l=h._("__JHASH__e7VrrtGFXYH__JHASH__").toString(),m=h._("__JHASH__jODYJ2eW1Pa__JHASH__").toString(),n=h._("__JHASH__xAOSvpC7vLN__JHASH__").toString(),o=h._("__JHASH__P5k2go6lj2P__JHASH__").toString();function p(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas.index("ctaId"))));return a!=null?(j||(j=d("I64"))).add(a.ctaId,(j||(j=d("I64"))).one):(j||(j=d("I64"))).zero});return q.apply(this,arguments)}function r(a,b,c){b=[b,c];return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas).bounds({gte:b,lte:b}))}function s(a){if(a==null)return{showAdChoiceIcon:!1};if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:k};switch(a){case d("MAWLocalizationType").CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").CUTOVER_IGD_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").E2EE_THREAD_DESCRIPTION:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:m};case d("MAWLocalizationType").CUTOVER_ROLLBACK_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:n};case d("MAWLocalizationType").DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:o};case d("MAWLocalizationType").CURRENT_USER_PINNED_MESSAGE:case d("MAWLocalizationType").CURRENT_USER_UNPINNED_MESSAGE:case d("MAWLocalizationType").PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").PARTICIPANT_UNPINNED_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:l};default:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:void 0}}}function t(a){if(a==null)return;if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return"admin_msg_armadillo_ephemeral_change_duration";switch(a){case d("MAWLocalizationType").CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return"admin_msg_thread_level_cutover";case d("MAWLocalizationType").E2EE_THREAD_DESCRIPTION:return"admin_msg_e2ee_thread";case d("MAWLocalizationType").CUTOVER_ROLLBACK_ADMIN_MESSAGE:return"admin_msg_cutover_rollback";case d("MAWLocalizationType").DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return"admin_msg_dual_thread_cutover";case d("MAWLocalizationType").CURRENT_USER_PINNED_MESSAGE:case d("MAWLocalizationType").CURRENT_USER_UNPINNED_MESSAGE:case d("MAWLocalizationType").PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").PARTICIPANT_UNPINNED_MESSAGE:return"admin_msg_view_pin_msgs_v2"}}function u(a,b,c,d,e){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){yield a.admin_message_ctas.add({actionUrl:f.actionUrl,adClientToken:f.adClientToken,adHelpUrl:f.adHelpUrl,adminMessageNicknameParticipantId:f.adminMessageNicknameParticipantId,adPreferenceUrl:f.adPreferenceUrl,ctaId:b,messageId:e.msgId,showAdChoiceIcon:f.showAdChoiceIcon,targetId:f.targetId,targetTitle:f.targetTitle,threadKey:c,timestampMs:d("MAWTimeUtils").toTimestamp(e.ts),title:f.title})});return v.apply(this,arguments)}function w(a,b,c){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d){var e=(yield (i||(i=b("Promise"))).all([r(a,c,d.msgId),p(a)])),f=e[0];e=e[1];if(f!=null)return{ctaId:f.ctaId,ctaType:t(d.adminType),title:f.title};else{f=s(d.adminType);yield u(a,e,c,d,f);return{ctaId:e,ctaType:t(d.adminType),title:f.title}}});return x.apply(this,arguments)}function a(a,c,e){var f=e.adminType;return f!=null&&(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(f)||f===d("MAWLocalizationType").CUTOVER_THREAD_ADMIN_MESSAGE||f===d("MAWLocalizationType").CUTOVER_IGD_THREAD_ADMIN_MESSAGE||f===d("MAWLocalizationType").E2EE_THREAD_DESCRIPTION||f===d("MAWLocalizationType").CUTOVER_ROLLBACK_ADMIN_MESSAGE||f===d("MAWLocalizationType").DUAL_THREAD_CUTOVER_ADMIN_MESSAGE||f===d("MAWLocalizationType").CURRENT_USER_PINNED_MESSAGE||f===d("MAWLocalizationType").CURRENT_USER_UNPINNED_MESSAGE||f===d("MAWLocalizationType").PARTICIPANT_PINNED_MESSAGE||f===d("MAWLocalizationType").PARTICIPANT_UNPINNED_MESSAGE)?w(a,c,e):(i||(i=b("Promise"))).resolve()}g.getAdminMsgCtaStep=a}),226);
__d("MAWBumpMessageMsgReplySnippet",["getMAWLocalizedBumpMsgReplySnippet"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.isAuthorMe,d=a.recipientName,e=a.replySenderIsMe,f=a.replySenderIsRecipient;a=a.senderName;var g="participantBumpedParticipantMessage";b&&e?g="currentUserBumpedOwnMessage":b?g="currentUserBumpedMessage":e?g="participantBumpedCurrentUserMessage":f&&(g="participantBumpedOwnMessage");return c("getMAWLocalizedBumpMsgReplySnippet")(g,a,d)}g.buildBumpMessageReplySnippet=a}),98);
__d("MAWMsgReplyStatus",["LSIntEnum","LSReplyMessageStatus","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){switch(a){case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.REVOKED:return c("LSReplyMessageStatus").DELETED;case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:return c("LSReplyMessageStatus").VALID;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:return c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:return c("LSReplyMessageStatus").UNKNOWN;case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return c("LSReplyMessageStatus").EXPIRED;default:return void 0}}function a(a){a=i(a.replyStatusType);if(a!=null)return(h||(h=d("LSIntEnum"))).ofNumber(a)}g.getReplyMessageStatus=i;g.getLSReplyMessageStatus=a}),98);
__d("MAWMsgReplySnippet",["fbt","I64","LSIntEnum","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBumpMessageMsgReplySnippet","MAWMsgReplyStatus","MAWMsgType","ODS","err"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){var b=a.isAuthorMe,e=a.isBumpMsg;e=e===void 0?!1:e;var f=a.isDeletedMsg,g=a.isIGXMAStoryShare;g=g===void 0?!1:g;var k=a.isNoteReply;k=k===void 0?!1:k;var l=a.isPostPrivateReply;l=l===void 0?!1:l;var m=a.isStoryHighlightShare;m=m===void 0?!1:m;var n=a.isStoryMention;n=n===void 0?!1:n;var o=a.isStoryReaction;o=o===void 0?!1:o;var p=a.isStoryReply;p=p===void 0?!1:p;var q=a.isStoryShare;q=q===void 0?!1:q;var r=a.recipientName,s=a.replyAttachmentType,t=a.replySenderIsMe;t=t===void 0?!1:t;var u=a.replySenderIsRecipient;u=u===void 0?!1:u;var v=a.senderName;a=a.storyShareAuthor;switch(!0){case e:return d("MAWBumpMessageMsgReplySnippet").buildBumpMessageReplySnippet({isAuthorMe:b,recipientName:r,replySenderIsMe:t,replySenderIsRecipient:u,senderName:v});case m:return a!=null?h._("__JHASH__3A-F80NGMR1__JHASH__",[h._param("username",a)]):h._("__JHASH__btyC9aNJMDF__JHASH__");case g&&s!=null&&(i||(i=d("I64"))).equal(s,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").FEED_POST)):return a!=null?h._("__JHASH__xnZ-ffIPZnP__JHASH__",[h._param("username",a)]):h._("__JHASH__nEqZlivBoJj__JHASH__");case b&&f:return h._("__JHASH__FzueDOoURT8__JHASH__");case b&&q:return h._("__JHASH__d4DLCdwDC03__JHASH__");case b&&o:return h._("__JHASH__yaEVWahdF8q__JHASH__");case b&&n:return r!=null?h._("__JHASH__ZcIFbzn42DR__JHASH__",[h._param("name",r)]):h._("__JHASH__M3uJqhYYEHf__JHASH__");case n:return h._("__JHASH__dgpS1OhnF7B__JHASH__");case b&&l:return r!=null?h._("__JHASH__VKBGNzy_Yqs__JHASH__",[h._param("name",r)]):h._("__JHASH__n0YtGhrNuCJ__JHASH__");case l:return h._("__JHASH__i08IJ6pj_jc__JHASH__",[h._param("name",v)]);case!b&&k:return h._("__JHASH__6yn4tcYSSq3__JHASH__",[h._param("name",v)]);case b&&k:return h._("__JHASH__XYG_9W-CuAE__JHASH__");case b&&t:return h._("__JHASH__GiGYAtipVIl__JHASH__");case b&&p:return r!=null?h._("__JHASH__ZkkDtvZx-as__JHASH__",[h._param("name",r)]):h._("__JHASH__GEUovmERkjj__JHASH__");case b:return r!=null?h._("__JHASH__eQLjVyXwwuH__JHASH__",[h._param("other_name",r)]):h._("__JHASH__NYU_gsfRGpq__JHASH__");case f:return h._("__JHASH__30kvLEU_B_p__JHASH__",[h._param("name",v)]);case q:return h._("__JHASH__JQwHPEO2e9j__JHASH__",[h._param("user",v)]);case o:return h._("__JHASH__BS0JbOB2Hdc__JHASH__");case u:return h._("__JHASH__RWi7lW394uo__JHASH__",[h._param("other",v)]);case t&&p:return h._("__JHASH__zc6GoZLyKDZ__JHASH__",[h._param("name",v)]);case t:return h._("__JHASH__uU6-xunUPnp__JHASH__",[h._param("other_name",v)]);default:return r!=null?h._("__JHASH__iOHMd6RP1E7__JHASH__",[h._param("other",v),h._param("other_name",r)]):h._("__JHASH__JL2f9yie2zt__JHASH__",[h._param("other",v)])}}function a(a){var b=a.isAuthorMe,e=a.isIGXMAStoryShare,f=a.isNoteReply;f=f===void 0?!1:f;var g=a.isPostPrivateReply;g=g===void 0?!1:g;var h=a.isStoryHighlightShare;h=h===void 0?!1:h;var i=a.isStoryMention;i=i===void 0?!1:i;var j=a.isStoryReaction,m=a.isStoryReply,n=a.isStoryShare;n=n===void 0?!1:n;var o=a.replySenderIsMe,p=a.replySourceId,q=a.replyStatusType,r=a.replyToUserId,s=a.sender,t=a.storyShareAuthor;a=a.type_;a=a===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE;if(p==null&&!n&&!i&&!h&&!f)return;if(r==null||s==null)throw c("err")("Error getting reply snippet without replyToUserId or sender");(k||(k=d("ODS"))).bumpEntityKey(3185,"armadillo_reply","creating_reply_snippet");return(p=l({isAuthorMe:b,isBumpMsg:a,isDeletedMsg:d("MAWMsgReplyStatus").getReplyMessageStatus(q)===c("LSReplyMessageStatus").DELETED,isIGXMAStoryShare:e,isNoteReply:f,isPostPrivateReply:g,isStoryHighlightShare:h,isStoryMention:i,isStoryReaction:j,isStoryReply:m,isStoryShare:n,recipientName:"$PARTICIPANT_FIRST_NAME("+r+")",replySenderIsMe:o,replySenderIsRecipient:s===r,senderName:"$PARTICIPANT_FIRST_NAME("+s+")",storyShareAuthor:t}))==null?void 0:p.toString()}g.buildLocalizedReplySnippet=l;g.getReplySnippet=a}),226);
__d("MAWBridgeBuildAdminMsg",["MAWAdminMsg","MAWAdminMsgNormalized","MAWLocalizationType","MAWSubscribeToContactNames","MAWThreadCustomizationUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null?void 0:a.replace(/\$/g,"$$$$")}function a(a,b,c){c===void 0&&(c=0);a=d("MAWAdminMsgNormalized").deconstructContactIdsFromAdminContent(b,a);var e=a.contactIds;a=a.contents;var f=d("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(b),g=d("MAWThreadCustomizationUtils").skipNicknameCheck(b);if(c===1){var i=b===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP?d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME:d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME;return d("MAWAdminMsg").buildLocalizedString(a.map(h),e.map(function(a,b){return f&&b>0||g?i===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$CONTACT_FIRST_NAME("+a+")":"$CONTACT_FULL_NAME("+a+")":i===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$PARTICIPANT_FIRST_NAME("+a+")":"$PARTICIPANT_FULL_NAME("+a+")"}),b)}return d("MAWAdminMsg").buildLocalizedString(a,e,b)}g.buildAdminMsgText=a}),98);
__d("MAWMsgReply",["EntMessageReplyType","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","MAWMsg","cr:2472"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return a.replySourceId!=null}function a(a){a=a.replyToUserId;return a==null?void 0:(h||(h=d("I64"))).of_string(a)}function e(a){var b=a.isForwarded,e=a.isStoryReply,f=a.isStoryShare;a=j(a);if(b)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD);if(f!=null&&f)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(a)if(e!=null&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY);else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)}function f(a){var b=j(a),e=a.isStoryReply;a=a.isStoryShare;if(a!=null&&a)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(b)if(e!=null&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY);else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)}function k(a){if(a.replySourceId!=null)return a.replySourceId}function l(a){if(a.replySourceTimestampMs!=null)return(h||(h=d("I64"))).of_float(a.replySourceTimestampMs)}function m(a){if(a.replySourceId!=null)return a.replyMessageText}function n(a){if(a.replySourceId!=null)return a.replyMentionedJids}function o(a){return a.type_===d("MAWMsg").bumpExistingMessage?(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP):j(a)?(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").REGULAR):void 0}function p(a){return a.replySourceId==null?!1:a.replyMediaUrlMimeType!=null}function q(a){return a.replyStatusType==="XMA"&&a.replyMessageText!=null}function r(a){if(p(a)&&!q(a))return a.replyMediaUrlMimeType}function s(a){if(p(a))return a.replyMediaPreviewHeight!=null?(h||(h=d("I64"))).of_int32(a.replyMediaPreviewHeight):void 0}function t(a){if(p(a))return a.replyMediaPreviewWidth!=null?(h||(h=d("I64"))).of_int32(a.replyMediaPreviewWidth):void 0}function u(a){var e=a.replyMessageText;e=e!=null?b("cr:2472")==null?e:b("cr:2472").unvault(e):"";e=e==="\ud83d\udc4d"&&a.replyStatusType==="Sticker";var f=p(a),g=a.replyStatusType;if(f){if(g==null)return;switch(g){case"Gif":if(e)return;else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF);case"Ptt":if(e)return;else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER);case"Sticker":if(!e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);break;case"Video":if(e)return;else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO);case"Image":case"XMA":if(e)return;if(a.isIGXMAPostShare===!0||a.isIGXMAStoryShare===!0||a.isStoryHighlightShare===!0||a.isPostPrivateReply===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").FEED_POST);if(q(a))return;return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);case"DocumentFile":if(e)return;return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER);default:}}if(g!=null&&g==="Sticker"&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER)}function v(a){var b=a.replyMediaId,c=a.replyXMAId;if(p(a)&&b!=null)return c!=null?void 0:(h||(h=d("I64"))).of_int32(b);if(b!=null||c==null)return;if(c!=null&&q(a))return;return(h||(h=d("I64"))).of_int32(c)}function w(a){var b=a.replyPlaintextHash;if(p(a)&&b!=null)return""+b}function x(a){var b=a.isStoryReply,c=a.replyMessageText,e=a.replyStatusType,f=u(a);a=v(a);if(e!=null&&e==="XMA"&&f==null){if(a!=null)return;if(c==null)return(h||(h=d("I64"))).zero}if(a!=null||!(b!=null&&b))return;return(h||(h=d("I64"))).zero}g.getReplyUserId=a;g.getReplySourceTypeV2=e;g.getReplySourceType=f;g.getReplySourceId=k;g.getReplyTimestampMs=l;g.getReplyMessageText=m;g.getReplyMentionedJids=n;g.getReplyType=o;g.getReplyMediaMimeType=r;g.getReplyMediaHeight=s;g.getReplyMediaWidth=t;g.getReplyAttachmentType=u;g.getReplyAttachmentId=v;g.getReplyAttachmentPlaintextHash=w;g.getReplyMediaExpirationTimestampMs=x}),98);
__d("MAWBridgeBuildMsg",["fbt","I64","MAWBridgeBuildAdminMsg","MAWBridgeBuildMsgMentions","MAWJids","MAWMsgReply","MAWMsgType","MAWVault","Promise","isMWBumpMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function k(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.filter(Boolean).reduce(function(a,b){return[].concat(a,b)},[])}function l(a){return a!=null?d("MAWVault").unvault(a):void 0}function m(a){return a!=null?d("MAWVault").vault(a):void 0}function n(a){return babelHelpers["extends"]({},a,{replyMessageText:m(a.replyMessageText),text:m(a.text)})}function a(a){a=a.ephemeralDurationInSec;return a!=null?(j||(j=d("I64"))).of_int32(a):void 0}function e(a,c){var e=d("MAWMsgReply").getReplyMessageText(a),f=a.adminContent,g=a.adminType,j=a.adminVersion,m=a.content,o=a.isAdminMessage;m=m;o&&f!=null&&g!=null&&(m=d("MAWBridgeBuildAdminMsg").buildAdminMsgText(f,g,j));if(a.type_===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE)if(a.replySourceId==null)m="";else{m=(o=c)!=null?o:h._("__JHASH__W6kPEK81i0G__JHASH__").toString()}f=k(a.mentionedJids,d("MAWMsgReply").getReplyMentionedJids(a));return f.length>0?(i||(i=b("Promise"))).resolve(d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(l(m),f,l(e))).then(n):(i||(i=b("Promise"))).resolve({replyMessageText:e,text:m})}function f(a,e,f){var g=c("isMWBumpMessage")(e)?e==null?void 0:e.replyMessageText:e==null?void 0:e.text;e=k(f,e==null?void 0:(f=e.mentionIds)==null?void 0:f.split(",").map(d("MAWJids").toUserJid));return e.length>0?(i||(i=b("Promise"))).resolve(d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(l(a),e,l(g))).then(n):(i||(i=b("Promise"))).resolve({replyMessageText:g,text:a})}g.getEphemeralDurationInSec=a;g.buildMessage=e;g.buildOptimisticMessage=f}),226);
__d("LSTransportKey",[],(function(a,b,c,d,e,f){a=Object.freeze({ADVANCED_CRYPTO:"AdvancedCrypto",CARRIER_MESSAGING:"CarrierMessaging",FB_BROKER:"FBBroker",FB_LEGACY_BROKER:"FBLegacyBroker",TAM:"TAM",WHATS_APP:"WhatsApp",INSTAMADILLO:"Instamadillo",ENCRYPTED_BACKUPS:"EncryptedBackups",CLIENT_CONTACTS_PLACEHOLDER:""});f["default"]=a}),66);
__d("MAWBridgeMsgUtils",["LSTransportKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=Object.keys(c("LSTransportKey")).find(function(b){return c("LSTransportKey")[b]===a});return b?c("LSTransportKey")[b]:"WhatsApp"}g.convertStringToLSTransportKeyType=a}),98);
__d("MAWUpdateMsg",["I64","LSAuthorityLevel","LSIntEnum","LSMessageUnsendabilityStatus","MAWAckLevel","MAWBridgeBuildMsg","MAWBridgeMsg","MAWBridgeMsgUtils","MAWMiActOnMiThreadReadyForJid","MAWMsg","MAWMsgReply","MAWMsgReplyStatus","MAWTimeUtils","MWPBumpEntityKey","ReQL","asyncToGeneratorRuntime","justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c,e,g,h){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c,"MAWUpdateMsg",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=a.messages;b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(b,e,g)));b!=null&&(yield a.put(babelHelpers["extends"]({},b,h)))});return function(b,c){return a.apply(this,arguments)}}())});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":48")}function e(a,b,c,d,e){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var j,k;j=d("MAWTimeUtils").toTimestamp(b.type_===d("MAWMsg").unsent?(j=b.originalTs)!=null?j:b.ts:b.ts);var l=b.type_===d("MAWMsg").unsent,m=(yield d("MAWBridgeBuildMsg").buildMessage(b,g));k=(k=d("MAWBridgeMsgUtils").convertStringToLSTransportKeyType(b.transportKey))!=null?k:"WhatsApp";var n=(h||(h=d("I64"))).to_float(e.primarySortKey),o=!1;if(c("qex")._("371")===!0){var p=(h||(h=d("I64"))).equal(e.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(e.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(4))||(h||(h=d("I64"))).equal(e.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(64))||(h||(h=d("I64"))).equal(e.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(16384));o=p&&n>0&&Math.abs(b.sortOrderMs-n)<((p=c("qex")._("474"))!=null?p:0)}n=o?e.primarySortKey:(h||(h=d("I64"))).of_float(b.sortOrderMs);if(c("justknobx")._("2418")){p=b.sortOrderMs-(h||(h=d("I64"))).to_float(e.primarySortKey);Math.abs(p)<1e3?o="less_then_one_second":Math.abs(p)<3e3?o="less_then_three_seconds":Math.abs(p)<5e3?o="less_then_five_seconds":Math.abs(p)<1e4?o="less_then_ten_seconds":Math.abs(p)<6e4?o="less_then_one_minute":Math.abs(p)<6e5?o="less_then_ten_minutes":Math.abs(p)<36e5?o="less_then_one_hour":o="more_then_one_hour";p<0&&(o="negative_"+o);c("qex")._("244")===!0?d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.update_msg","optimistic_timestamp_diff_waserver_"+o):d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.update_msg","optimistic_timestamp_diff_"+o);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.update_msg","optimistic_timestamp_diff_"+o)}o=babelHelpers["extends"]({},e,m,{adminMsgCtaId:f==null?void 0:f.ctaId,adminMsgCtaTitle:f==null?void 0:f.title,adminMsgCtaType:f==null?void 0:f.ctaType,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:l||!b.isAuthorMe?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageUnsendabilityStatus").DENY_FOR_NON_SENDER):void 0,displayedContentTypes:d("MAWMsg").getDisplayedContentTypes(b.type_,b.isForwarded,b.isExpiredXmaMsg,b.replySourceId!=null,b.unsupportedType),editCount:b.editCount!=null?(h||(h=d("I64"))).of_int32(b.editCount):(h||(h=d("I64"))).zero,ephemeralDurationInSec:d("MAWBridgeBuildMsg").getEphemeralDurationInSec(b),groupId:(p=b.groupId)!=null?p:void 0,groupIndex:b.groupIndex!=null?(h||(h=d("I64"))).of_float(b.groupIndex):void 0,groupSize:b.groupSize!=null?(h||(h=d("I64"))).of_float(b.groupSize):void 0,hotEmojiSize:d("MAWBridgeMsg").getSpecialTextSize(b),isUnsent:b.type_===d("MAWMsg").unsent,messageId:b.msgId,primarySortKey:n,replyAttachmentId:d("MAWMsgReply").getReplyAttachmentId(b),replyAttachmentPlaintextHash:d("MAWMsgReply").getReplyAttachmentPlaintextHash(b),replyAttachmentType:d("MAWMsgReply").getReplyAttachmentType(b),replyMediaExpirationTimestampMs:d("MAWMsgReply").getReplyMediaExpirationTimestampMs(b),replyMediaPreviewHeight:d("MAWMsgReply").getReplyMediaHeight(b),replyMediaPreviewWidth:d("MAWMsgReply").getReplyMediaWidth(b),replyMediaUrlMimeType:d("MAWMsgReply").getReplyMediaMimeType(b),replySnippet:g,replySourceId:d("MAWMsgReply").getReplySourceId(b),replySourceType:d("MAWMsgReply").getReplySourceType(b),replySourceTypeV2:d("MAWMsgReply").getReplySourceTypeV2(b),replyStatus:d("MAWMsgReplyStatus").getLSReplyMessageStatus(b),replyToUserId:d("MAWMsgReply").getReplyUserId(b),sendStatus:d("MAWAckLevel").levelToMessagingSendStatus(b.ack),sendStatusV2:d("MAWAckLevel").levelToMessagingSendStatusV2(b.ack),timestampMs:j,transportKey:k},c("qex")._("1438")===!0?{replySourceTimestampMs:d("MAWMsgReply").getReplyTimestampMs(b)}:{});e!=null?yield a.messages.upsert([e.threadKey,e.timestampMs,e.messageId],o):yield a.messages.put(o)});return j.apply(this,arguments)}g.mutateThreadText=a;g.call=e}),98);
__d("sendToSentQPLUtils",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){return g[a]}function b(a,b){g[a]=b}f.getS2sKeyFromOfflineMessageId=a;f.setS2sKeyForOfflineMessageId=b}),66);
__d("MAWBridgeMsgUpdatedHandler",["I64","LSIntEnum","MAWAckLevel","MAWAdminMsgCTA","MAWMiActOnMiThreadReadyForJid","MAWMsgReplySnippet","MAWUpdateMsg","MWChatInteraction","QPLUserFlow","ReQL","asyncToGeneratorRuntime","qpl","sendToSentQPLUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var e=d("MWChatInteraction").get(d("MWChatInteraction").s2sKey(a));a=d("sendToSentQPLUtils").getS2sKeyFromOfflineMessageId(a);if(e!=null){var f=d("MAWAckLevel").levelToMessagingSendStatusV2(b.ack);(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(2))?d("MWChatInteraction").addMarkerPoint(e,"received_successful_server_ack"):(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(4))&&d("MWChatInteraction").addMarkerPoint(e,"received_failure_server_ack")}if(a!=null){f=d("MAWAckLevel").levelToMessagingSendStatusV2(b.ack);(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(2))?c("QPLUserFlow").endSuccess(c("qpl")._(25313175,"1551"),{instanceKey:a}):(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(4))&&c("QPLUserFlow").endFailure(c("qpl")._(25313175,"1551"),"error_from_server",{instanceKey:a})}}function a(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.chatJid,"MAWBridgeMsgUpdatedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(c.msgId)));if(e==null)return;var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,c.msgId)));f=[e.offlineThreadingId,f==null?void 0:f.offlineAttachmentId];f.forEach(function(a){a!=null&&j(a,c)});f=(yield d("MAWAdminMsgCTA").getAdminMsgCtaStep(a,b,c));b=(yield d("MAWMsgReplySnippet").getReplySnippet(c));return d("MAWUpdateMsg").call(a,c,e,f,b)});return function(b,c){return a.apply(this,arguments)}}())}g.logServerAckToS2S=j;g.call=a}),98);
__d("LSClearMessagePlaceholderRangeStoredProcedure",["LSClearMessagePlaceholderRange","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;d[2]=b.maxTimestampMs;return c("LSClearMessagePlaceholderRange").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWBridgeMsgsLoadedHandler",["I64","LSClearMessagePlaceholderRangeStoredProcedure","LSFactory","LSInsertNewMessageRangeStoredProcedure","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.chatJid,"MAWBridgeMsgsLoadedHandler",function(a,e){return c("LSClearMessagePlaceholderRangeStoredProcedure")(c("LSFactory")(a),{maxTimestampMs:d("MAWTimeUtils").MAX_TIMESTAMP_MS,messageId:"",threadKey:e}).then(function(){if(c("gkx")("23927")){var f,g,i,j,k,l,m,n;f=(f=(f=b.rangeExtensionType)==null?void 0:f.hasMoreBefore)!=null?f:!1;g=(g=(g=b.rangeExtensionType)==null?void 0:g.hasMoreAfter)!=null?g:!1;i=f&&((i=b.rangeExtensionType)==null?void 0:i.minMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.minMsgTs):d("MAWTimeUtils").MIN_TIMESTAMP_MS;j=g&&((j=b.rangeExtensionType)==null?void 0:j.maxMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS;k=(k=(k=b.rangeExtensionType)==null?void 0:k.minMsgId)!=null?k:"";l=(l=(l=b.rangeExtensionType)==null?void 0:l.maxMsgId)!=null?l:"";m=((m=b.rangeExtensionType)==null?void 0:m.rangeKind)==="before"?i:d("MAWTimeUtils").MIN_TIMESTAMP_MS;n=((n=b.rangeExtensionType)==null?void 0:n.rangeKind)==="after"?j:d("MAWTimeUtils").MAX_TIMESTAMP_MS;return c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:g,hasMoreBefore:f,lowerOverlap:m,newMaxMid:l,newMaxTs:j,newMinMid:k,newMinTs:i,threadKey:e,upperOverlap:n})}else{f=((g=b.rangeExtensionType)==null?void 0:g.minMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.minMsgTs):d("MAWTimeUtils").MIN_TIMESTAMP_MS;l=((m=b.rangeExtensionType)==null?void 0:m.maxMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS;i=(k=(j=b.rangeExtensionType)==null?void 0:j.minMsgId)!=null?k:"";m=(g=(n=b.rangeExtensionType)==null?void 0:n.maxMsgId)!=null?g:"";k=((j=b.rangeExtensionType)==null?void 0:j.rangeKind)==="extensionBefore"?f:d("MAWTimeUtils").MIN_TIMESTAMP_MS;g=((n=b.rangeExtensionType)==null?void 0:n.rangeKind)==="extensionAfter"?l:d("MAWTimeUtils").MAX_TIMESTAMP_MS;j=(n=(j=b.rangeExtensionType)==null?void 0:j.hasMoreBefore)!=null?n:!1;n=(n=(n=b.rangeExtensionType)==null?void 0:n.hasMoreAfter)!=null?n:!1;return c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:n,hasMoreBefore:j,lowerOverlap:k,newMaxMid:m,newMaxTs:l,newMinMid:i,newMinTs:f,threadKey:e,upperOverlap:g})}})})}g.call=a}),98);
__d("MAWEphemeralMessageExpirationStorage",["LSDatabaseSingleton","MAWBridgeDeleteMessagesHandler","Promise","asyncToGeneratorRuntime","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map();function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){yield (i||(i=b("Promise"))).all(c.map(function(b){var c=b.ts,e=b.msgId;e={msgId:e,ts:c};c=b.threadJid;b=[e];e={messages:b,threadJid:c};return d("MAWBridgeDeleteMessagesHandler").call(a,e)})),j["delete"](e)});return l.apply(this,arguments)}function m(a,e,g){return c("setTimeout")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var g=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);c("promiseDone")(g.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield k(b,a,e)});return function(a){return c.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":66"))}),g)}function a(a,b,d,e){a=j.get(d);var f;if(a==null)f=[b];else{c("clearTimeout")(a.timeoutId);var g=a.msgs.map(function(a){return a.msgId}).indexOf(b.msgId)===-1;g&&a.msgs.push(b);f=a.msgs}g=m(f,d,e);j.set(d,{expirationTs:d,msgs:f,timeoutId:g})}function e(a){var b=a.msgId;a=j.get(a.countdownTs);if(a==null)return;b=a.msgs.map(function(a){return a.msgId}).indexOf(b);if(b>-1){a.msgs.splice(b,1);return}}g.setMessageForExpiration=a;g.clearMessageFromExpiration=e}),98);
__d("MAWBridgeMsgsStartCountdownHandler",["I64","MAWEphemeralMessageExpirationStorage","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return c.msgs.reduce(function(c,e){return c.then(function(){d("MAWEphemeralMessageExpirationStorage").setMessageForExpiration(a,e,e.countdownTs,e.millisecondsUntilCountdownTs);(i||(i=d("I64"))).of_int32(e.millisecondsUntilCountdownTs);return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeMsgsStartCountdownHandler",function(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(c,d("MAWTimeUtils").toTimestamp(e.ts),e.msgId)).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){if(c==null)return(h||(h=b("Promise"))).resolve();c=babelHelpers["extends"]({},c,{ephemeralExpirationTs:(i||(i=d("I64"))).of_float(e.countdownTs)});yield a.messages.put(c)});return function(a){return c.apply(this,arguments)}}())})})},(h||(h=b("Promise"))).resolve())}g.call=a}),98);
__d("MAWMedia",["LSIntEnum","MAWDbMedia","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a===d("MAWDbMedia").IMAGE)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE);else if(a===d("MAWDbMedia").VIDEO)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO);else if(a===d("MAWDbMedia").PTT)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO);else if(a===d("MAWDbMedia").GIF)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE);else if(a===d("MAWDbMedia").STICKER)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER);else if(a===d("MAWDbMedia").DOCUMENT_FILE)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE);return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE)}g.mediaTypeToMessageAttachmentType=a}),98);
__d("MAWBridgeNewMediaHandler",["I64","LSAuthorityLevel","LSIntEnum","MAWMedia","MAWMiActOnMiThreadReadyForJid","Promise","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,e,f,g,h){return{attachmentFbid:f,attachmentIndex:(f=a==null?void 0:a.attachmentIndex)!=null?f:(i||(i=d("I64"))).zero,attachmentType:(f=a==null?void 0:a.attachmentType)!=null?f:d("MAWMedia").mediaTypeToMessageAttachmentType(b.mediaType,b.ephemeralMediaViewMode),authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:b.ephemeralMediaState!=null?(i||(i=d("I64"))).of_int32(b.ephemeralMediaState):a==null?void 0:a.ephemeralMediaState,ephemeralMediaViewMode:b.ephemeralMediaViewMode!=null?(i||(i=d("I64"))).of_int32(b.ephemeralMediaViewMode):a==null?void 0:a.ephemeralMediaViewMode,filename:(f=(f=b.filenames!=null?b.filenames[e]:null)!=null?f:b.defaultFilename)!=null?f:a==null?void 0:a.filename,filesize:b.filesize==null?a==null?void 0:a.filesize:(i||(i=d("I64"))).of_int32(b.filesize),hasMedia:b.hasMedia,hasXma:!1,isSharable:!1,messageId:e,offlineAttachmentId:g,playableDurationMs:b.duration==null?a==null?void 0:a.playableDurationMs:(i||(i=d("I64"))).of_int32(b.duration),previewHeight:b.previewHeight==null?a==null?void 0:a.previewHeight:(i||(i=d("I64"))).of_int32(b.previewHeight),previewHeightLarge:b.previewHeightLarge==null?a==null?void 0:a.previewHeightLarge:(i||(i=d("I64"))).of_int32(b.previewHeightLarge),previewWidth:b.previewWidth==null?a==null?void 0:a.previewWidth:(i||(i=d("I64"))).of_int32(b.previewWidth),previewWidthLarge:b.previewWidthLarge==null?a==null?void 0:a.previewWidthLarge:(i||(i=d("I64"))).of_int32(b.previewWidthLarge),threadKey:h,timestampMs:b.sortOrderMs!=null?(i||(i=d("I64"))).of_float(b.sortOrderMs):(i||(i=d("I64"))).of_float(b.ts*1e3),transportKey:(f=b.transportKey)!=null?f:"WhatsApp"}}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=e.mediaId,i=e.msgIds,j=e.offlineAttachmentId,l=e.plaintextHash,m;if(c("gkx")("2419")){m=""+((l=l)!=null?l:g.toString())}else m=g.toString();var n=(l=j)!=null?l:m;yield (h||(h=b("Promise"))).all(i.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=a.attachments,g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(c).getKeyRange(f,b)));b=k(g,e,b,m,n,f);return g!=null?c.upsert([g.threadKey,g.messageId,g.attachmentFbid],b):c.add(b)});return function(a){return c.apply(this,arguments)}}()))});return m.apply(this,arguments)}function a(a,b){var c=b.threadJid;return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c,"MAWBridgeNewMediaHandler",function(a,c){return l(a,b,c)})}g.callWithoutWaitingForAnything=l;g.call=a}),98);
__d("LSThreadMediaGalleryGroup",[],(function(a,b,c,d,e,f){a=Object.freeze({PHOTOS_AND_VIDEOS:0,FILES_ONLY:1,LINKS:2});f["default"]=a}),66);
__d("LSUpsertAttachmentRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.db.table(17).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(c){return b.db.table(17).add({threadKey:a[0],mediaGroup:a[1],minTimestampMs:a[2],maxTimestampMs:b.i64.cast([2328,1316134911]),hasMoreBefore:a[3],hasMoreAfter:!1,isLoadingBefore:!1,isLoadingAfter:!1,lastLoadedMessageId:a[4]})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSUpsertAttachmentRangeStoredProcedure",["LSUpsertAttachmentRange","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.mediaGroup;d[2]=b.newMinTs;d[3]=b.hasMoreBefore;d[4]=b.newLastLoadedMessageId;return c("LSUpsertAttachmentRange").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWBridgeNewMediaRangeHandler",["I64","LSFactory","LSIntEnum","LSThreadMediaGalleryGroup","LSUpsertAttachmentRangeStoredProcedure","MAWMiActOnMiThreadReadyForJid","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeNewMediaRangeHandler",function(a,e){var f=c("qex")._("89")===!0?(h||(h=d("I64"))).of_float(b.earliestLoadedMediaTs):(h||(h=d("I64"))).of_int32(b.earliestLoadedMediaTs),g=b.hasMoreBefore;return c("LSUpsertAttachmentRangeStoredProcedure")(c("LSFactory")(a),{hasMoreBefore:g,mediaGroup:(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS),newLastLoadedMessageId:b.lastLoadedMessageId,newMinTs:f,threadKey:e})})}function a(a,b){return j(a,b).then(function(){})}g.call=a}),98);
__d("MAWBridgeNewMsgHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessageUnsendabilityStatus","LSQuickReplyType","MAWAckLevel","MAWAdminMsgCTA","MAWBridgeBuildMsg","MAWBridgeMsg","MAWBridgeMsgUtils","MAWMiActOnMiThreadReadyForJid","MAWMsg","MAWMsgReply","MAWMsgReplySnippet","MAWMsgReplyStatus","MAWTimeUtils","MAWUpdateMsg","Promise","QPLUserFlow","ReQL","asyncToGeneratorRuntime","gkx","qex","qpl","sendToSentQPLUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c,d,e){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var h;h=d("MAWTimeUtils").toTimestamp(e.type_===d("MAWMsg").unsent?(h=e.originalTs)!=null?h:e.ts:e.ts);var k=(yield d("MAWBridgeBuildMsg").buildMessage(e,g)),l=d("MAWBridgeMsgUtils").convertStringToLSTransportKeyType(e.transportKey),m;if(e.externalId!=null)m=e.externalId;else{var n=(Date.now()-(i||(i=d("I64"))).to_float(h))/(24*3600*1e3);n=n>365?"> 1 year":n>30?"> 1 month":"recent";c("FBLogger")("messenger_e2ee_web").mustfix("MAWBridgeNewMsgHandler create new msg without externalId. Msg type: %s, msg age: %s",e.type_,n);m=e.msgId}yield a.messages.add(babelHelpers["extends"]({},k,{adminMsgCtaId:f==null?void 0:f.ctaId,adminMsgCtaTitle:f==null?void 0:f.title,adminMsgCtaType:f==null?void 0:f.ctaType,authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:e.type_===d("MAWMsg").unsent||!e.isAuthorMe?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageUnsendabilityStatus").DENY_FOR_NON_SENDER):void 0,displayedContentTypes:d("MAWMsg").getDisplayedContentTypes(e.type_,e.isForwarded,e.isExpiredXmaMsg,e.replySourceId!=null,e.unsupportedType),editCount:(i||(i=d("I64"))).of_int32((n=e.editCount)!=null?n:0),ephemeralDurationInSec:d("MAWBridgeBuildMsg").getEphemeralDurationInSec(e),ephemeralExpirationTs:void 0,forwardScore:i.of_float(e.forwardingScore),groupId:(a=e.groupId)!=null?a:void 0,groupIndex:e.groupIndex!=null?(i||(i=d("I64"))).of_float(e.groupIndex):void 0,groupSize:e.groupSize!=null?(i||(i=d("I64"))).of_float(e.groupSize):void 0,hasQuickReplies:!1,hotEmojiSize:d("MAWBridgeMsg").getSpecialTextSize(e),isAdminMessage:e.isAdminMessage,isCollapsed:!1,isForwarded:e.isForwarded,isUnsent:e.type_===d("MAWMsg").unsent,localDataId:void 0,messageId:e.msgId,msUntilExpirationTs:void 0,offlineThreadingId:m,primarySortKey:i.of_float(e.sortOrderMs),quickReplyType:j.ofNumber(c("LSQuickReplyType").NONE),replyAttachmentExtra:void 0,replyAttachmentId:d("MAWMsgReply").getReplyAttachmentId(e),replyAttachmentPlaintextHash:d("MAWMsgReply").getReplyAttachmentPlaintextHash(e),replyAttachmentType:d("MAWMsgReply").getReplyAttachmentType(e),replyCtaId:void 0,replyCtaTitle:void 0,replyMediaExpirationTimestampMs:d("MAWMsgReply").getReplyMediaExpirationTimestampMs(e),replyMediaPreviewHeight:d("MAWMsgReply").getReplyMediaHeight(e),replyMediaPreviewWidth:d("MAWMsgReply").getReplyMediaWidth(e),replyMediaUrl:void 0,replyMediaUrlFallback:void 0,replyMediaUrlMimeType:d("MAWMsgReply").getReplyMediaMimeType(e),replySnippet:g,replySourceId:d("MAWMsgReply").getReplySourceId(e),replySourceTimestampMs:c("qex")._("1438")===!0?d("MAWMsgReply").getReplyTimestampMs(e):void 0,replySourceType:d("MAWMsgReply").getReplySourceType(e),replySourceTypeV2:d("MAWMsgReply").getReplySourceTypeV2(e),replyStatus:d("MAWMsgReplyStatus").getLSReplyMessageStatus(e),replyToUserId:d("MAWMsgReply").getReplyUserId(e),replyType:d("MAWMsgReply").getReplyType(e),secondarySortKey:void 0,senderId:i.of_string(e.sender),sendStatus:d("MAWAckLevel").levelToMessagingSendStatus(e.ack),sendStatusV2:d("MAWAckLevel").levelToMessagingSendStatusV2(e.ack),stickerId:void 0,subscriptErrorMessage:void 0,takedownState:void 0,textHasLinks:!1,threadKey:b,timestampMs:h,transportKey:l,unsentTimestampMs:d("MAWTimeUtils").toTimestamp(e.ts),viewedPluginContext:void 0,viewedPluginKey:void 0,viewFlags:j.ofNumber(0)}))});return l.apply(this,arguments)}function m(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.chatJid,"BridgeNewMsgHandler",function(a,c){return n(a,b,c)})}function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield d("MAWAdminMsgCTA").getAdminMsgCtaStep(a,f,e)),j=(yield d("MAWMsgReplySnippet").getReplySnippet(e)),l=e.offlineMsg,m=c("gkx")("23961");if(l==null&&!m)return k(a,f,e,g,j);var n;l!=null&&(n=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(f,(i||(i=d("I64"))).of_float(l.ts),l.msgId))));if(n==null){l=!1;if(m&&e.externalId!=null){m=e.externalId;n=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("optimistic")).getKeyRange(m)));if(n!=null){(i||(i=d("I64"))).to_int32(n.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC&&(l=!0,yield d("MAWUpdateMsg").call(a,e,n,g,j));m=(yield r(a,f,m));yield t(a,m,e.msgId,c("LSAuthorityLevel").AUTHORITATIVE);return(h||(h=b("Promise"))).resolve()}}if(!l)return k(a,f,e,g,j)}else{yield d("MAWUpdateMsg").call(a,e,n,g,j);m=[n.offlineThreadingId];m.forEach(function(a){a!=null&&p(a)})}});return o.apply(this,arguments)}function p(a){a=d("sendToSentQPLUtils").getS2sKeyFromOfflineMessageId(a);a!=null&&c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"update_optimistic_message",{instanceKey:a})}function a(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){yield (h||(h=b("Promise"))).all(c.map(function(b){return m(a,b)}))});return q.apply(this,arguments)}function r(a,b,c){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,e)));return a.filter(function(a){return(i||(i=d("I64"))).to_int32(a.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC})});return s.apply(this,arguments)}function t(a,b,c,d){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){yield (h||(h=b("Promise"))).all(c.map(function(b){var c=babelHelpers["extends"]({},b,{messageId:e});f!=null&&(c.authorityLevel=(j||(j=d("LSIntEnum"))).ofNumber(f));return a.attachments.upsert([b.threadKey,b.messageId,b.attachmentFbid],c)}))});return u.apply(this,arguments)}g.call=m;g.callWithoutWaitingForAnything=n;g.bulkCall=a}),98);
__d("MAWBridgeHandleReceiverFetchXMA",["FBLogger","I64","LSIntEnum","LSXmaContentType","MAWDbMsg","MessagingAttachmentType","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=e.contentRef,k=e.msgId;e=e.xmaId;if(k==null)return;e=String(e);var l=(j||(j=d("I64"))).of_int32(d("MAWDbMsg").getInChatMsgIdFromMsgId(k)),m=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(k)));if(m==null){c("FBLogger")("messenger_web_sharing").mustfix("message does not exist to handle receiver fetch XMA");return}if(g==null){c("FBLogger")("messenger_web_sharing").mustfix("contentRef is empty for a MSG_RECEIVER_FETCH XMA");return}var n;try{g=JSON.parse(g);g=g.fetch_params;g!=null&&(n=JSON.stringify(g))}catch(a){c("FBLogger")("messenger_web_sharing").mustfix("Failed to parse msg.contentRef as XmsgMsgrXmaContentRefDataclass")}yield (h||(h=b("Promise"))).all([a.messages.put(babelHelpers["extends"]({},m,{xmaReceiverFetchParams:n})),a.attachments.add({attachmentFbid:e,attachmentIndex:j.zero,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:j.zero,hasMedia:!1,hasXma:!0,isSharable:!0,messageId:k,threadKey:f,timestampMs:l,transportKey:"WhatsApp",xmaContentType:i.ofNumber(c("LSXmaContentType").MSG_RECEIVER_FETCH)})]);return});return k.apply(this,arguments)}g.call=a}),98);
__d("MAWConvertExtendedContentTypeToLSXmaContentType",["LSXmaContentType","WAArmadilloXMA.pb"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:return c("LSXmaContentType").FB_FEED_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:return c("LSXmaContentType").FB_STORY_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:return c("LSXmaContentType").FB_STORY_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:return c("LSXmaContentType").FB_STORY_MENTION;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:return c("LSXmaContentType").FB_FEED_VIDEO_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:return c("LSXmaContentType").FB_GAMING_CUSTOM_UPDATE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:return c("LSXmaContentType").FB_PRODUCER_STORY_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT:return c("LSXmaContentType").FB_EVENT;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY:return c("LSXmaContentType").FB_FEED_POST_PRIVATE_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:return c("LSXmaContentType").FB_SHORT;default:return null}}g.convertExtendedContentTypeToLSXmaContentType=a}),98);
__d("getTargetUrlFromContentRefXmaDataclass",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){try{a=JSON.parse(a);return a.target_url}catch(a){c("FBLogger")("messenger_web_sharing").mustfix("Error parsing contentRef for target url");return""}}g["default"]=a}),98);
__d("MAWHandleXMAPreviewOptOut",["FBLogger","I64","LSIntEnum","MAWMsg","MAWMsgType","ReQL","WAArmadilloXMA.pb","asyncToGeneratorRuntime","getTargetUrlFromContentRefXmaDataclass","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return c("isStringNullOrEmpty")(a)?b:a+" "+b}function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.msgId;if(e==null){c("FBLogger")("messenger_web_sharing").mustfix("BridgeXMA msgId is null to handle the opt-out experience for XMAs");return}e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(e)));if(e==null||(h||(h=d("I64"))).equal(e.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(1)))return;var f;if(b.targetType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH&&b.contentRef!=null)f=c("getTargetUrlFromContentRefXmaDataclass")(b.contentRef);else{var g;f=(g=b==null?void 0:(g=b.defaultCTA)==null?void 0:g.actionUrl)!=null?g:b==null?void 0:(g=b.defaultCTA)==null?void 0:g.nativeUrl}if(f!=null){yield a.messages.put(babelHelpers["extends"]({},e,{displayedContentTypes:d("MAWMsg").getDisplayedContentTypes(d("MAWMsgType").MSG_TYPE.TEXT,(g=e.isForwarded)!=null?g:!1,!1,!1),text:(g=j(e.text,f))!=null?g:""}))}else c("FBLogger")("messenger_e2ee_web").mustfix("Failed to get a target URL for XMA, where user opted out of previews. XMA target type=%s",b.targetType),yield a.messages.put(babelHelpers["extends"]({},e,{displayedContentTypes:(i||(i=d("LSIntEnum"))).ofNumber(262144)}))});return k.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeUIEventQPLLogger",["QPLUserFlow","Random","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){return Math.floor(Date.now()+d("Random").random()*1e4+1e4)}function b(a,b,d){b=b.tag;if(b==="ClockSkewUpdated")return;c("QPLUserFlow").start(c("qpl")._(1056846089,"885"),{annotations:{bool:babelHelpers["extends"]({dev:0},d),string:{event:b}},instanceKey:a})}function e(a){c("QPLUserFlow").endSuccess(c("qpl")._(1056846089,"885"),{instanceKey:a})}function f(a,b){c("QPLUserFlow").endFailure(c("qpl")._(1056846089,"885"),"MAWBridgeUIEventHandlerFailure",{annotations:{string:{failedEventTag:b}},instanceKey:a})}g.getInstanceKey=a;g.start=b;g.endSuccess=e;g.endFailure=f}),98);
__d("MAWReceiverFetchQPLLogger",["MAWBridgeUIEventQPLLogger","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(973799425,"190"),j="new_xma_message_is_hummingbird",k={NEW_XMA_MESSAGE_RECEIVED:"new_xma_message_received",PREVIEW_FETCH_START:"preview_fetch_start",PREVIEW_FETCH_TASK_COMPLETED:"preview_fetch_task_completed",PREVIEW_LOAD_COMPLETED:"preview_load_completed"},l=new Map();function a(a,b){var e,f=d("MAWBridgeUIEventQPLLogger").getInstanceKey();l.set(a,f);(h||(h=c("QuickPerformanceLogger"))).markerStart(i,f);h.markerPoint(i,k.NEW_XMA_MESSAGE_RECEIVED,{data:{bool:(e={},e[j]=b,e)},instanceKey:f});b||(l["delete"](a),(h||(h=c("QuickPerformanceLogger"))).markerEnd(i,2,f))}function b(a){a=l.get(a);a!=null&&(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,k.PREVIEW_FETCH_START,{instanceKey:a})}function e(a,b,d){var e=l.get(a);l["delete"](a);e!=null&&((h||(h=c("QuickPerformanceLogger"))).markerPoint(i,k.PREVIEW_FETCH_TASK_COMPLETED,{data:{string:{error:d,preview_fetch_task_state:b?"succeeded":"failed"}},instanceKey:e}),h.markerEnd(i,b?2:3,e))}function f(a){a=Number(a);(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{bool:{preview_load_has_results:!0}},{instanceKey:a});h.markerPoint(i,k.PREVIEW_LOAD_COMPLETED,{instanceKey:a})}g.logReceiverFetchXMAReceived=a;g.logFetchStart=b;g.logFetchCompleted=e;g.logLoadCompleted=f}),98);
__d("getXMAPreviewsDisabledSettings",["MessengerWebPrivacySettings","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messaging_privacy_settings)));return a==null?c("MessengerWebPrivacySettings").e2ee_xma_previews_disabled:(a=a==null?void 0:a.e2eeXmaPreviewsDisabled)!=null?a:!1});return h.apply(this,arguments)}g.getXMAPreviewsDisabledSettings=a}),98);
__d("MAWBridgeNewXMAHandler",["I64","LSIntEnum","MAWBridgeHandleReceiverFetchXMA","MAWBridgeUIEventDataValidation","MAWConvertExtendedContentTypeToLSXmaContentType","MAWDbMsg","MAWHandleXMAPreviewOptOut","MAWMiActOnMiThreadReadyForJid","MAWReceiverFetchQPLLogger","MNLSXMALayoutType","MNXMAPreviewImageDecorationType","MessagingAttachmentType","Promise","ReQL","WAArmadilloXMA.pb","asyncToGeneratorRuntime","getXMAPreviewsDisabledSettings","gkx","isReceiverFetchReceivingEnabled","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b){if(a==null)return;a=a[b-1];if(a==null)return;return a.buttonType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE?"xma_open_native":void 0}function l(a,b){if(a==null)return;a=a[b-1];if(a!=null)return a.title}function m(a){return a===0||a!==3?(i||(i=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SINGLE):(i||(i=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PORTRAIT)}function n(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").COLLAGE);case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL);case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON);default:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").DEFAULT)}}function o(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH:return!0;default:return!1}}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=String(e.xmaId),p=e.msgId;if(p==null)return;var q=(j||(j=d("I64"))).of_int32(d("MAWDbMsg").getInChatMsgIdFromMsgId(p)),r=e.targetType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH,s=(yield d("getXMAPreviewsDisabledSettings").getXMAPreviewsDisabledSettings(a)),t=c("isReceiverFetchReceivingEnabled")();r&&d("MAWReceiverFetchQPLLogger").logReceiverFetchXMAReceived(p,t);if(t&&s&&o(e.targetType))return d("MAWHandleXMAPreviewOptOut").call(a,e);s=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.attachment_ctas)));if(r&&t)return d("MAWBridgeHandleReceiverFetchXMA").call(a,e,f);r=s!=null?(j||(j=d("I64"))).add(s.ctaId,(j||(j=d("I64"))).one):(j||(j=d("I64"))).one;t=e.defaultCTA;if(t!=null){s=t.actionUrl;var u=t.nativeUrl,v="xma_web_url";switch(e.targetType){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:v="xma_rtc_audio";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:v="xma_rtc_video";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:v="xma_rtc_missed_audio";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:v="xma_rtc_missed_video";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:v="igd_web_post_share";break}var w=e.targetId!=null?d("MAWBridgeUIEventDataValidation").stringToI64Opt(e.targetId):void 0;yield a.attachment_ctas.add({actionContentBlob:void 0,actionUrl:s!=null?s:u,attachmentFbid:g,attachmentIndex:(j||(j=d("I64"))).zero,ctaId:r,enableExtensions:!1,extensionHeightType:void 0,messageId:p,nativeUrl:u!=null?u:s,platformToken:void 0,targetId:w,threadKey:f,title:(u=t.title)!=null?u:"",type_:v,urlWebviewType:void 0})}s=t==null?void 0:r;var x=r,y=[];w=e.ctas;if(w!=null){u=w.map(function(b,c){c=(j||(j=d("I64"))).add(x,j.of_int32(c+1));y.push(c);var e=b.actionUrl,h=b.nativeUrl;return a.attachment_ctas.add({actionContentBlob:void 0,actionUrl:e!=null?e:h,attachmentFbid:g,attachmentIndex:j.zero,ctaId:c,enableExtensions:!1,extensionHeightType:void 0,messageId:p,nativeUrl:h!=null?h:e,platformToken:void 0,targetId:void 0,threadKey:f,title:(c=b.title)!=null?c:"Tap to view status update",type_:"xma_web_url",urlWebviewType:void 0})});yield (h||(h=b("Promise"))).all(u)}var z;switch(e.targetType){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:z={height:(j||(j=d("I64"))).of_int32(108),width:(j||(j=d("I64"))).of_int32(72),xmaContentType:"xma_montage_share"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:z={xmaContentType:"xma_rtc_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:z={xmaContentType:"xma_rtc_video"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:z={xmaContentType:"xma_rtc_missed_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:z={xmaContentType:"xma_rtc_missed_video"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:z={xmaContentType:"xma_rtc_missed_group_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:z={xmaContentType:"xma_rtc_missed_group_video"};break;default:z={height:e.previewHeight!=null?(j||(j=d("I64"))).of_int32(e.previewHeight):void 0,width:e.previewWidth!=null?(j||(j=d("I64"))).of_int32(e.previewWidth):void 0,xmaContentType:"xma_web_url"};break}v=d("MAWConvertExtendedContentTypeToLSXmaContentType").convertExtendedContentTypeToLSXmaContentType(e.targetType);t=v?(j||(j=d("I64"))).of_int32(v):void 0;u={accessibilitySummaryText:void 0,actionUrl:void 0,attachmentCta1Id:y.length>0?y[0]:void 0,attachmentCta2Id:y.length>1?y[1]:void 0,attachmentCta3Id:y.length>2?y[2]:void 0,attachmentFbid:g,attachmentIndex:j.zero,attachmentLoggingType:void 0,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),attributionAppIcon:void 0,attributionAppIconFallback:void 0,attributionAppIconUrlExpirationTimestampMs:void 0,attributionAppId:void 0,attributionAppName:void 0,authorityLevel:j.zero,avatarCount:void 0,avatarViewAccessibilityLabel:void 0,avatarViewSize:void 0,avatarViewTitleList:void 0,avatarViewUrlExpirationTimestampList:void 0,avatarViewUrlFallbackList:void 0,avatarViewUrlList:void 0,captionBodyText:void 0,cta1Title:l(e.ctas,1),cta1Type:k(e.ctas,1),cta2Title:l(e.ctas,2),cta2Type:k(e.ctas,2),cta3Title:l(e.ctas,3),cta3Type:k(e.ctas,3),dashManifest:void 0,decryptionKey:void 0,defaultCtaId:s,defaultCtaTitle:(r=e.defaultCTA)==null?void 0:r.title,defaultCtaType:z.xmaContentType,descriptionText:void 0,ephemeralMediaState:void 0,faviconUrl:void 0,faviconUrlExpirationTimestampMs:void 0,faviconUrlFallback:void 0,filename:void 0,filesize:e.filesize!=null?(j||(j=d("I64"))).of_int32(e.filesize):void 0,gatingTitle:e.overlayTitle,gatingType:e.overlayIconGlyph!=null?String(e.overlayIconGlyph):void 0,hasMedia:!1,hasXma:!0,hasXmaFavicon:c("gkx")("3707")?e.faviconMediaId!=null:void 0,hasXmaHeaderImage:c("gkx")("3707")?e.headerMediaId!=null:void 0,hasXmaPreview:c("gkx")("3707")?e.defaultPreviewMediaId!=null:void 0,headerImageUrl:void 0,headerImageUrlExpirationTimestampMs:void 0,headerImageUrlFallback:void 0,headerImageUrlMimeType:void 0,headerTitle:e.headerTitle,imageUrl:void 0,imageUrlExpirationTimestampMs:void 0,imageUrlFallback:void 0,imageUrlMimeType:void 0,isBorderless:void 0,isPreviewImage:void 0,isSharable:!0,listItemAccessibilityText1:void 0,listItemAccessibilityText2:void 0,listItemAccessibilityText3:void 0,listItemContactUrlExpirationTimestampList1:void 0,listItemContactUrlExpirationTimestampList2:void 0,listItemContactUrlExpirationTimestampList3:void 0,listItemContactUrlFallbackList1:void 0,listItemContactUrlFallbackList2:void 0,listItemContactUrlFallbackList3:void 0,listItemContactUrlList1:void 0,listItemContactUrlList2:void 0,listItemContactUrlList3:void 0,listItemId1:void 0,listItemId2:void 0,listItemId3:void 0,listItemProfilePictureUrl1:void 0,listItemProfilePictureUrl2:void 0,listItemProfilePictureUrl3:void 0,listItemProfilePictureUrlExpirationTimestamp1:void 0,listItemProfilePictureUrlExpirationTimestamp2:void 0,listItemProfilePictureUrlExpirationTimestamp3:void 0,listItemProfilePictureUrlFallback1:void 0,listItemProfilePictureUrlFallback2:void 0,listItemProfilePictureUrlFallback3:void 0,listItemProgressBarFilledPercentage1:void 0,listItemProgressBarFilledPercentage2:void 0,listItemProgressBarFilledPercentage3:void 0,listItemsDescriptionSubtitleText:void 0,listItemsDescriptionText:void 0,listItemsId:void 0,listItemsSecondaryDescriptionText:void 0,listItemTitleText1:void 0,listItemTitleText2:void 0,listItemTitleText3:void 0,localPlayableUrl:void 0,maxSubtitleNumOfLines:e.maxSubtitleNumOfLines!=null?(j||(j=d("I64"))).of_int32(e.maxSubtitleNumOfLines):void 0,maxTitleNumOfLines:e.maxTitleNumOfLines!=null?(j||(j=d("I64"))).of_int32(e.maxTitleNumOfLines):void 0,messageId:p,miniPreview:void 0,offlineAttachmentId:(w=e.offlineAttachmentId)!=null?w:g,originalFileHash:void 0,originalPageSenderId:void 0,playableDurationMs:void 0,playableUrl:void 0,playableUrlExpirationTimestampMs:void 0,playableUrlFallback:void 0,playableUrlMimeType:void 0,preheaderText:void 0,previewHeight:z.height,previewHeightLarge:e.previewHeightLarge!=null?(j||(j=d("I64"))).of_int32(e.previewHeightLarge):void 0,previewImageDecorationType:n(e.targetType),previewUrl:void 0,previewUrlExpirationTimestampMs:void 0,previewUrlFallback:void 0,previewUrlLarge:void 0,previewUrlMimeType:void 0,previewWidth:z.width,previewWidthLarge:e.previewWidthLarge!=null?(j||(j=d("I64"))).of_int32(e.previewWidthLarge):void 0,samplingFrequencyHz:void 0,shouldAutoplayVideo:void 0,shouldHighlightHeaderTitleInTitle:void 0,shouldRespectServerPreviewSize:void 0,sourceText:void 0,subtitleIconUrl:void 0,subtitleText:e.subtitleText,targetId:void 0,threadKey:f,timestampMs:q,titleText:e.titleText,transportKey:"WhatsApp",viewerSeenTimestampMs:void 0,waveformData:void 0,xmaContentType:t,xmaLayoutType:e.xmaLayoutType!=null?m(e.xmaLayoutType):void 0,xmasTemplateType:e.xmaLayoutType!=null?m(e.xmaLayoutType):void 0};if(c("qex")._("1562")===!0){v=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(f,p)));v!=null?yield a.attachments.upsert([v.threadKey,v.messageId,v.attachmentFbid],u):yield a.attachments.add(u)}else yield a.attachments.add(u)});return q.apply(this,arguments)}function r(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeNewXMAHandler",function(a,c){return p(a,b,c)})}function a(a,b){return r(a,b)}g.callWithoutWaitingForAnything=p;g.call=a}),98);
__d("LSCoreClientFolderType",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX:0,PENDING:1,OTHER:2,SPAM:3,ARCHIVED:4,HIDDEN:5,MARKETPLACE:12,RESTRICTED:15,INTEROP:19});f["default"]=a}),66);
__d("LSCreateE2EEMetadataThread",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("wa_jid",a[0]),d[0].set("offline_thread_key",a[1]),d[0].set("thread_type",a[2]),d[0].set("folder_type",a[3]),d[0].set("bump_timestamp_ms",a[4]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[1]=d[0].get("offline_thread_key"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,388]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSCreateE2EEMetadataThreadStoredProcedure",["LSCreateE2EEMetadataThread","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.waJid;d[1]=b.offlineThreadKey;d[2]=b.threadType;d[3]=b.folderType;d[4]=b.bumpTimestampMs;return c("LSCreateE2EEMetadataThread").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSCreateOfflineThreadingIDStoredProcedure",["LSCreateOfflineThreadingID","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.timestampMs;return c("LSCreateOfflineThreadingID").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWCreateOptimisticThread",["FBLogger","I64","LSAuthorityLevel","LSCreateOfflineThreadingIDStoredProcedure","LSFactory","LSIntEnum","LSMailboxType","LSRtcCallState","MAWDbChatId__UNSAFE_DO_NOT_USE","ReQL","WAJids","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("LSCreateOfflineThreadingIDStoredProcedure")(c("LSFactory")(a),{timestampMs:(h||(h=d("I64"))).of_float(Date.now())}));b=b[0];var e={authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),folderName:"inbox",lastReadWatermarkTimestampMs:h.of_float(0),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),ongoingCallState:i.ofNumber(c("LSRtcCallState").NO_ONGOING_CALL),parentThreadKey:h.zero,threadKey:b,threadType:i.ofNumber(15)};yield a.threads.put(e);return b});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(h||(h=d("I64"))).of_string(d("WAJids").threadIdForChatJid(b));return(a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(b))))==null?void 0:a.serverThreadKey});return m.apply(this,arguments)}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(h||(h=d("I64"))).of_string(d("WAJids").threadIdForChatJid(b)),f=(yield l(a,b));if(f!=null)return f;var g=(yield a.e2ee_threads.index("jid").get(b));g=g!=null?d("MAWDbChatId__UNSAFE_DO_NOT_USE").convertToChatId__DEPRECATED(g.chatId):null;if(g==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("no_thread_found_e2ee_threads_for_jid"+b);f=(yield j(a));yield a.mi_act_mapping_table.add({clientThreadPk:h.of_float(g),jid:e,serverThreadKey:f});return f});return n.apply(this,arguments)}g.createOptimisticThread=j;g.getThreadKey=l;g.getOrCreateOptimisticThreadKey=a}),98);
__d("MAWFolderUtils",["LSCoreClientFolderType","LSIntEnum","MAWFolderTypes","MessagingFolderTag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){switch(a){case d("MAWFolderTypes").PENDING:return c("MessagingFolderTag").PENDING;case d("MAWFolderTypes").OTHER:return c("MessagingFolderTag").OTHER;case d("MAWFolderTypes").SPAM:return c("MessagingFolderTag").SPAM;case d("MAWFolderTypes").ARCHIVED:return c("MessagingFolderTag").UNKNOWN;default:return c("MessagingFolderTag").INBOX}}function b(a){switch(a){case d("MAWFolderTypes").PENDING:return(h||(h=d("LSIntEnum"))).ofNumber(-101);case d("MAWFolderTypes").OTHER:return(h||(h=d("LSIntEnum"))).ofNumber(-102);case d("MAWFolderTypes").SPAM:return(h||(h=d("LSIntEnum"))).ofNumber(-103);case d("MAWFolderTypes").ARCHIVED:return(h||(h=d("LSIntEnum"))).ofNumber(-110);default:return(h||(h=d("LSIntEnum"))).ofNumber(-100)}}function e(a){switch(a){case d("MAWFolderTypes").INBOX:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").INBOX);case d("MAWFolderTypes").PENDING:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").PENDING);case d("MAWFolderTypes").OTHER:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").OTHER);case d("MAWFolderTypes").SPAM:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").SPAM);case d("MAWFolderTypes").ARCHIVED:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").ARCHIVED)}}function f(a){switch(a){case(h||(h=d("LSIntEnum"))).ofNumber(-1):return(h||(h=d("LSIntEnum"))).ofNumber(-101);case(h||(h=d("LSIntEnum"))).ofNumber(-2):return(h||(h=d("LSIntEnum"))).ofNumber(-102);case(h||(h=d("LSIntEnum"))).ofNumber(-3):return(h||(h=d("LSIntEnum"))).ofNumber(-103);case(h||(h=d("LSIntEnum"))).ofNumber(-10):return(h||(h=d("LSIntEnum"))).ofNumber(-110);default:return(h||(h=d("LSIntEnum"))).ofNumber(-100)}}g.getMessagingFolderTag=a;g.getClientSystemFolder=b;g.systemFolderToLSCoreClientFolder=e;g.systemFolderToClientSystemFolder=f}),98);
__d("MAWThreadDefaults",["fbt","I64","LSBitOffset","LSIntEnum","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function k(){if(c("qex")._("327")===!0)return!0;else return c("qex")._("121")===!0}function a(a){if(k())return d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(42),a);else return a}function b(a){return d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(4),a)}e=d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(18),d("LSBitOffset").set(j.ofNumber(56),d("LSBitOffset").set(j.ofNumber(14),d("LSBitOffset").set(j.ofNumber(23),d("LSBitOffset").set(j.ofNumber(8),d("LSBitOffset").set(j.ofNumber(15),d("LSBitOffset").set(j.ofNumber(2),d("LSBitOffset").empty)))))));f=a(b(d("LSBitOffset").set(j.ofNumber(7),d("LSBitOffset").set(j.ofNumber(6),d("LSBitOffset").set(j.ofNumber(9),d("LSBitOffset").set(j.ofNumber(10),d("LSBitOffset").set(j.ofNumber(19),d("LSBitOffset").set(j.ofNumber(35),d("LSBitOffset").set(j.ofNumber(43),e)))))))));a=d("LSBitOffset").set(j.ofNumber(17),d("LSBitOffset").set(j.ofNumber(60),d("LSBitOffset").set(j.ofNumber(16),d("LSBitOffset").set(j.ofNumber(26),d("LSBitOffset").set(j.ofNumber(28),d("LSBitOffset").clear(j.ofNumber(27),f))))));b=d("LSBitOffset").set((i||(i=d("I64"))).sub(j.ofNumber(103),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(85),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(109),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(74),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(65),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(64),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(106),i.of_string("64")),d("LSBitOffset").empty)))))));e=h._("__JHASH__9ZFn8zMzjpf__JHASH__").toString();h=d("LSBitOffset").set(i.sub(j.ofNumber(172),i.of_string("64")),d("LSBitOffset").empty);g.defaultThreadCapabilities=f;g.defaultGroupThreadCapabilities=a;g.defaultThreadCapabilities_2=b;g.nullstateDescriptionText1=e;g.defaultThreadCapabilities_3=h;g.defaultThreadCapabilities_4=d("LSBitOffset").empty}),226);
__d("MAWBridgeOccamadilloVerifyThreadExistsHandler",["FBLogger","I64","LSAuthorityLevel","LSCoreClientFolderType","LSCreateE2EEMetadataThreadStoredProcedure","LSFactory","LSIntEnum","LSThreadBitOffset","MAWBridgeFireAndForget","MAWCreateOptimisticThread","MAWFolderUtils","MAWMiActGetThreadLifecycleState","MAWMiActOnActThreadReadyQueue","MAWMiActOnMiThreadReadyQueue","MAWMiActThreadLifecycleState","MAWThreadDefaults","MAWTimeUtils","Promise","WAJids","WALoggerDeferred","WATagsLogger","WATimeUtils","asyncToGeneratorRuntime","gkx","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] 1. Let MI server know about WA thread for JID: "," and state: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] 3. Thread loading is fully complete for threadKey: ",", JID: ",", and state: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] 2. Handle new authoritative thread for threadKey: ",", JID: ",", and state: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] 1. Let MI server know about WA thread for JID: "," and state: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] 5. Authoritative thread not found for chatId: ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Thread is missing in Occamadillo verify thread exists"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Duplicated thread creation for ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Duplicated thread creation.\n      threadKey: ","\n      bumpTimestampMs: ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Creating e2ee metadata optimistic thread.\n  threadKey: ","\n  bumpTimestampMs: ",",\n  description: ",""]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Detected 0 for last activity timestamp from MI for thread: ",", using local state timestamp: ",""]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] no folder type was supplied to Occamadillo verify thread exists handler"]);u=function(){return a};return a}var v=new Set();function w(a){return(i||(i=d("I64"))).of_string(d("WAJids").threadIdForChatJid(a))}function x(a){a=d("MAWFolderUtils").systemFolderToLSCoreClientFolder(a);a==null&&(c("promiseDone")(d("WALoggerDeferred").WARN(u())),a=(i||(i=d("I64"))).of_int32(c("LSCoreClientFolderType").INBOX));return a}function y(a,b){return b==null?d("MAWCreateOptimisticThread").createOptimisticThread(a):(i||(i=d("I64"))).of_string(b)}function z(a){a=d("MAWTimeUtils").millisTimeToTimestamp(a);return(i||(i=d("I64"))).equal(a,(i||(i=d("I64"))).zero)?d("MAWTimeUtils").millisTimeToTimestamp(d("WATimeUtils").millisTime()):a}var A=new Set();function B(a,b){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e,f=c("LSFactory")(a),g=z(b.lastActivityTs),h=(yield y(a,b.clientThreadKey));e=(e=b.clientThreadPk)!=null?e:(i||(i=d("I64"))).of_int32(b.chatId);var k=x(b.folder),l=w(b.jid),m=b.isGroup?(j||(j=d("LSIntEnum"))).ofNumber(16):(j||(j=d("LSIntEnum"))).ofNumber(15);yield a.mi_act_mapping_table.put({clientThreadPk:e,jid:l,serverThreadKey:h});a=(i||(i=d("I64"))).to_string(h);e=(e=b.description)!=null?e:"unknown";c("promiseDone")(d("WALoggerDeferred").LOG(s(),a,i.to_string(g),e));v.has(a)?c("promiseDone")(d("WALoggerDeferred").WARN(r(),a,(i||(i=d("I64"))).to_string(g))):v.add(a);A.has(b.jid)&&d("WATagsLogger").TAGS(["occamadillo","call_create_sproc"]).LOG(q(),b.jid);A.add(b.jid);return c("LSCreateE2EEMetadataThreadStoredProcedure")(f,{bumpTimestampMs:g,folderType:k,offlineThreadKey:h,threadType:m,waJid:l})});return C.apply(this,arguments)}function D(a,b,e){a=a;(i||(i=d("I64"))).equal(a,(i||(i=d("I64"))).zero)&&(c("promiseDone")(d("WALoggerDeferred").WARN(t(),(i||(i=d("I64"))).to_string(e),i.to_string(b))),a=b);return a}var E=[105,17,25,24];function F(a,b){var e=E.filter(function(b){return d("LSThreadBitOffset").has(b,a)});if(c("gkx")("23998")){var f=61,g=d("LSThreadBitOffset").has(f,a);g&&e.push(f)}return d("LSThreadBitOffset").set(e,b?d("MAWThreadDefaults").defaultGroupThreadCapabilities:d("MAWThreadDefaults").defaultThreadCapabilities,d("MAWThreadDefaults").defaultThreadCapabilities_2,d("MAWThreadDefaults").defaultThreadCapabilities_3,d("MAWThreadDefaults").defaultThreadCapabilities_4)}function G(a,b,c){return H.apply(this,arguments)}function H(){H=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield a.threads.get(e));if(g==null){c("promiseDone")(d("WALoggerDeferred").ERROR(p()));return(h||(h=b("Promise"))).resolve()}var j=f.clientThreadKey!=null?(i||(i=d("I64"))).of_string(f.clientThreadKey):g.clientThreadKey,k=D(g.lastActivityTimestampMs,d("MAWTimeUtils").millisTimeToTimestamp(f.lastActivityTs),e),l=d("MAWTimeUtils").millisTimeToTimestamp(f.lastReadTs);f=F(g,f.isGroup);return a.threads.upsert([e],babelHelpers["extends"]({},g,{capabilities:f[0],capabilities2:f[1],capabilities3:f[2],capabilities4:f[3],clientThreadKey:j,lastActivityTimestampMs:k},!c("qex")._("464")&&{lastReadWatermarkTimestampMs:l}))});return H.apply(this,arguments)}function I(a,b,c){return J.apply(this,arguments)}function J(){J=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f;yield a.mi_act_mapping_table.put({clientThreadPk:(f=e.clientThreadPk)!=null?f:(i||(i=d("I64"))).of_int32(e.chatId),jid:w(e.jid),serverThreadKey:c});yield (h||(h=b("Promise"))).all([G(a,c,e),K(a,c,e)])});return J.apply(this,arguments)}function K(a,b,c){return L.apply(this,arguments)}function L(){L=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){if(c.clientThreadKey!=null){c=(i||(i=d("I64"))).of_string(c.clientThreadKey);(i||(i=d("I64"))).equal(b,c)||(yield a.threads["delete"](c))}});return L.apply(this,arguments)}function M(a,b,c){return N.apply(this,arguments)}function N(){N=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield a.threads.get(e));g!=null&&(i||(i=d("I64"))).to_int32(g.authorityLevel)===c("LSAuthorityLevel").AUTHORITATIVE&&(yield (h||(h=b("Promise"))).all([G(a,e,f),K(a,e,f)]));g==null&&c("promiseDone")(d("WALoggerDeferred").LOG(o(),f.chatId))});return N.apply(this,arguments)}function O(a,b){return P.apply(this,arguments)}function P(){P=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e,f=(i||(i=d("I64"))).of_string(d("WAJids").threadIdForChatJid(b.jid));f=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJidOrThreadKey(a,f,b.authoritativeThreadKey,"MAWBridgeOccamadilloVerifyThreadExistsHandler"));e=(e=b.description)!=null?e:"unknown";switch(f.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:c("promiseDone")(d("WALoggerDeferred").LOG(n(),b.jid,f.type));return B(a,b);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:var g=(i||(i=d("I64"))).to_string(f.serverThreadKey);c("promiseDone")(d("WALoggerDeferred").LOG(m(),g,b.jid,f.type));return I(a,f.serverThreadKey,b);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:g=(i||(i=d("I64"))).to_string(f.serverThreadKey);c("promiseDone")(d("WALoggerDeferred").LOG(l(),g,b.jid,f.type));return M(a,f.serverThreadKey,b);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:c("promiseDone")(d("WALoggerDeferred").LOG(k(),b.jid,f.type));return B(a,b);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[Occamadillo] Unimplemented VerifyThreadExists state: %s for JID: %s, from %s",f.type,b.jid,e);default:f.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[Occamadillo] Unhandled VerifyThreadExists state: %s for JID: %s, from %s",f.type,b.jid,e)}});return P.apply(this,arguments)}function Q(a,b,c){return R.apply(this,arguments)}function R(){R=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield a.threads.get(b));if(a!=null){a={ephemeralExpirationInSec:(i||(i=d("I64"))).to_int32((b=a.disappearingSettingTtl)!=null?b:(i||(i=d("I64"))).zero),ephemeralLastUpdatedOrSetTimestamp:d("WATimeUtils").castMilliSecondsToUnixTime(i.to_float((b=a.disappearingSettingUpdatedTs)!=null?b:(i||(i=d("I64"))).zero))};d("MAWBridgeFireAndForget").fireAndForget("backend","setEphemeralSettingCache",{jid:c,settings:a})}});return R.apply(this,arguments)}function a(a,b){return S.apply(this,arguments)}function S(){S=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield O(a,b);if(b.clientThreadKey!=null){var e=(i||(i=d("I64"))).of_string(b==null?void 0:b.clientThreadKey);c("promiseDone")(d("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady(e,b.jid))}if(b.authoritativeThreadKey!=null){e=(i||(i=d("I64"))).of_string(b.authoritativeThreadKey);c("promiseDone")(d("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady(e,b.jid))}e=(e=b.authoritativeThreadKey)!=null?e:b.clientThreadKey;if(e!=null){e=(i||(i=d("I64"))).of_string(e);yield Q(a,e,b.jid);return d("MAWMiActOnMiThreadReadyQueue").processQueueOnMiThreadReady(a,e,b.jid)}return});return S.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeOneToOneMessageRequestLoadedHandler",["fbt","FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWContactRelationshipType","MAWMessageRequestUtil","MAWMiActOnMiThreadReadyForJid","Promise","ReQL","WADbContact"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeOneToOneMessageRequestLoadedHandler",function(a,f){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(f)).then(function(c){if(c==null)return(k||(k=b("Promise"))).resolve([void 0,void 0,void 0,!1]);var f=d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts).getKeyRange((i||(i=d("I64"))).of_string(e.fbid)));return(k||(k=b("Promise"))).all([k.resolve(c),f,k.resolve(d("LSMessagingThreadTypeUtil").isOneToOne(c.threadType))])}).then(function(e){var f=e[0];if(f==null)return(k||(k=b("Promise"))).resolve();var g=e[1];if(g==null)return(k||(k=b("Promise"))).resolve();e=e[2];if(e===!1||e==null)return(k||(k=b("Promise"))).resolve();e=d("MAWContactRelationshipType").getContactRelationshipType(g);e=f.folderName==="inbox"&&e===d("WADbContact").REVERSED_ONE_WAY_CONTACT&&!(i||(i=d("I64"))).equal(f.lastActivityTimestampMs,(i||(i=d("I64"))).zero);e&&(i||(i=d("I64"))).lt(g.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&(c("FBLogger")("messenger_web_product").mustfix("[MAW] Message Request loaded before contact is fully loaded"),e=!1);if(f.folderName==="pending"||f.folderName==="other"||f.folderName==="spam"||e){g=d("LSThreadBitOffset").clear(d("MAWMessageRequestUtil").disabledThreadCapabilitiesForIncomingRequest,f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4);e=g[0];var l=g[1],m=g[2];g=g[3];var n=void 0;f.folderName==="inbox"&&(n=h._("__JHASH__4F6x7gUU1-S__JHASH__").toString());e=[d("LSThreadBitOffset").set(d("MAWMessageRequestUtil").enabledThreadCapabilitiesForIncomingRequest,e,l,m,g),n]}else e=[[f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4],void 0];l=e[0];m=e[1];g=babelHelpers["extends"]({},f,{additionalThreadContext:m,capabilities:l[0],capabilities2:l[1],capabilities3:l[2],capabilities4:l[3]});return a.threads.put(g).then(function(){})})})}g.call=a}),226);
__d("MAWBridgeParticipantRemovedHandler",["I64","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeParticipantRemovedHandler",function(a,c){return a.participants["delete"](c,(h||(h=d("I64"))).of_string(b.userId))})}g.call=a}),98);
__d("MAWBridgeParticipantUpdatedHandler",["fbt","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSGroupParticipantJoinState","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MAWCurrentUser","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","MAWUpdateLSThreadCapabilities","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("MAWCurrentUser").getID(),m=(j||(j=d("I64"))).of_string(l);function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(j||(j=d("I64"))).of_string(b.fbid),g=d("MAWTimeUtils").toTimestamp(b.readWatermarkTs),i=d("MAWTimeUtils").toTimestamp(b.deliveredWatermarkTs),n=d("MAWTimeUtils").toTimestamp(b.lastReadActionTs),o=b.isSuperAdmin?h._("__JHASH__-gVxfbL98KU__JHASH__").toString():void 0,p=(yield a.participants.get(e,f));p!=null?yield a.participants.put({authorityLevel:p.authorityLevel,contactId:f,deliveredWatermarkTimestampMs:i,groupParticipantJoinState:b.isInvited?(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:b.isAdmin,isModerator:!1,isSuperAdmin:p.isSuperAdmin,nickname:p.nickname,normalizedSearchTerms:p.normalizedSearchTerms,participantCapabilities:p.participantCapabilities,readActionTimestampMs:n,readWatermarkTimestampMs:g,subscribeSource:o,threadKey:e}):yield a.participants.add({authorityLevel:(j||(j=d("I64"))).zero,contactId:f,deliveredWatermarkTimestampMs:i,groupParticipantJoinState:b.isInvited?(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:b.isAdmin,isModerator:!1,isSuperAdmin:b.isSuperAdmin,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:j.zero,readWatermarkTimestampMs:g,subscribeSource:o,threadKey:e});yield d("MAWUpdateLSThreadCapabilities").disableBlockerCapabilitiesTxn(a,e);n=b.isAdmin;(j||(j=d("I64"))).equal(m,f)&&(n?yield d("MAWUpdateLSThreadCapabilities").enableAddMembersTxn(a,e):yield d("MAWUpdateLSThreadCapabilities").disableAddMembersTxn(a,e));p==null&&(yield c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:k.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:k.ofNumber(c("LSContactIdType").FBID),contactType:k.ofNumber(c("LSContactType").USER),contactViewerRelationship:k.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:k.ofNumber(c("LSContactGender").UNKNOWN),id:f,isBlocked:!1,isMemorialized:!1,isSelf:l===b.fbid,workForeignEntityType:k.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)}))});return o.apply(this,arguments)}function a(a,c){return c.fbid.startsWith("shadow_")?(i||(i=b("Promise"))).resolve():d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.threadJid,"MAWBridgeParticipantUpdatedHandler",function(a,b){return n(a,c,b)})}g.callWithoutWaitingForAnything=n;g.call=a}),226);
__d("MAWBridgeParticipantsUpdatedHandler",["fbt","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSGroupParticipantJoinState","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MAWCurrentUser","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","MAWUpdateLSThreadCapabilities","Promise","ReQLTable","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("MAWCurrentUser").getID(),m=(k||(k=d("I64"))).of_string(l);function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){e=e.participants.filter(function(a){return!a.fbid.startsWith("shadow_")});yield (i||(i=b("Promise"))).all(e.map(function(e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeParticipantsUpdatedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f=(k||(k=d("I64"))).of_string(e.fbid),g=d("MAWTimeUtils").toTimestamp(e.readWatermarkTs),i=d("MAWTimeUtils").toTimestamp(e.deliveredWatermarkTs),n=d("MAWTimeUtils").toTimestamp(e.lastReadActionTs),o=e.isSuperAdmin?h._("__JHASH__-gVxfbL98KU__JHASH__").toString():void 0,p=!1,q=!1;yield d("ReQLTable").update(a.participants,[b,f],function(a){if(a!=null){q=!0;return{authorityLevel:a.authorityLevel,contactId:f,deliveredWatermarkTimestampMs:(k||(k=d("I64"))).equal(i,(k||(k=d("I64"))).zero)?a.deliveredWatermarkTimestampMs:i,groupParticipantJoinState:e.isInvited?(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:e.isAdmin,isModerator:!1,isSuperAdmin:a.isSuperAdmin,nickname:a.nickname,normalizedSearchTerms:a.normalizedSearchTerms,participantCapabilities:a.participantCapabilities,readActionTimestampMs:(k||(k=d("I64"))).equal(n,(k||(k=d("I64"))).zero)?a.readActionTimestampMs:n,readWatermarkTimestampMs:(k||(k=d("I64"))).equal(g,(k||(k=d("I64"))).zero)?a.readWatermarkTimestampMs:g,subscribeSource:o,threadKey:b}}else{q=!0;p=!0;return{authorityLevel:(k||(k=d("I64"))).zero,contactId:f,deliveredWatermarkTimestampMs:i,groupParticipantJoinState:e.isInvited?(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:e.isAdmin,isModerator:!1,isSuperAdmin:e.isSuperAdmin,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:k.zero,readWatermarkTimestampMs:g,subscribeSource:o,threadKey:b}}});q&&(yield d("MAWUpdateLSThreadCapabilities").disableBlockerCapabilitiesTxn(a,b),(k||(k=d("I64"))).equal(m,f)&&(e.isAdmin?yield d("MAWUpdateLSThreadCapabilities").enableAddMembersTxn(a,b):yield d("MAWUpdateLSThreadCapabilities").disableAddMembersTxn(a,b)));p&&(yield c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:j.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:j.ofNumber(c("LSContactIdType").FBID),contactType:j.ofNumber(c("LSContactType").USER),contactViewerRelationship:j.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:j.ofNumber(c("LSContactGender").UNKNOWN),id:f,isBlocked:!1,isMemorialized:!1,isSelf:l===e.fbid,workForeignEntityType:j.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)}))});return function(b,c){return a.apply(this,arguments)}}())}))});return n.apply(this,arguments)}g.call=a}),226);
__d("MAWBridgeRavenActionMsgForUIHandler",["I64","MAWMiActOnMiThreadReadyForJid","MAWMsg","MAWRavenUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.threadJid,"MAWBridgeRavenActionMsgForUIHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){a=a.attachments;e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(e,c.ravenMsgId)));if(e==null)return(i||(i=b("Promise"))).resolve();if(e.ephemeralMediaState==null)return(i||(i=b("Promise"))).resolve();var f=(h||(h=d("I64"))).to_int32(e.ephemeralMediaState);if(e.ephemeralMediaViewMode==null)return(i||(i=b("Promise"))).resolve();var g=h.to_int32(e.ephemeralMediaViewMode);f=d("MAWMsg").MAWRavenMsgEphemeralMediaState.cast(f);g=d("MAWMsg").MAWRavenMsgEphemeralType.cast(g);if(f==null||g==null)return(i||(i=b("Promise"))).resolve();f=d("MAWRavenUtils").getNextRavenMessageEphemeralState(f,g);if(f==null)return(i||(i=b("Promise"))).resolve();e.ephemeralMediaState;g=babelHelpers.objectWithoutPropertiesLoose(e,["ephemeralMediaState"]);e=babelHelpers["extends"]({ephemeralMediaState:h.of_int32(f)},g,{transportKey:"WhatsApp"});f=[g.threadKey,g.messageId,g.attachmentFbid];return a.upsert(f,e)});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeReactionUpsertHandler",["I64","LSAuthorityLevel","LSIntEnum","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e,f,g,j){return a.reactions.upsert([e,f,(h||(h=d("I64"))).of_string(b)],{actorId:h.of_string(b),authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),messageId:f,reaction:j,reactionCreationTimestampMs:d("MAWTimeUtils").toTimestamp(g),threadKey:e,timestampMs:d("MAWTimeUtils").toTimestamp(g),transportKey:"WhatsApp"})}function a(a,b,c,d,e,f){return j(a,b,c,d,e,f)}function b(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.chatJid,"MAWBridgeReactionUpsertHandler",function(a,c){return j(a,b.actorId,c,b.messageId,b.ts,b.reaction)})}g.attachmentMutationsOptimisticHandler=a;g.call=b}),98);
__d("MAWBridgeReceivedReceiptHandler",["I64","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(h||(h=d("I64"))).of_string(b.fbid),f=d("MAWTimeUtils").toTimestamp(b.lastReadWatermarkTs),g=d("MAWTimeUtils").toTimestamp(b.deliveredWatermarkTs);b=d("MAWTimeUtils").toTimestamp(b.lastReadActionTs);c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.participants).getKeyRange(c,e)));c!=null&&(yield a.participants.put({authorityLevel:c.authorityLevel,contactId:c.contactId,deliveredWatermarkTimestampMs:(h||(h=d("I64"))).equal(g,(h||(h=d("I64"))).zero)?c.deliveredWatermarkTimestampMs:g,groupParticipantJoinState:c.groupParticipantJoinState,isAdmin:c.isAdmin,isModerator:c.isModerator,isSuperAdmin:c.isSuperAdmin,nickname:c.nickname,normalizedSearchTerms:c.normalizedSearchTerms,participantCapabilities:c.participantCapabilities,readActionTimestampMs:(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).zero)?c.readActionTimestampMs:b,readWatermarkTimestampMs:(h||(h=d("I64"))).equal(f,(h||(h=d("I64"))).zero)?c.readWatermarkTimestampMs:f,subscribeSource:c.subscribeSource,threadKey:c.threadKey,threadRoles:(h||(h=d("I64"))).zero}))});return j.apply(this,arguments)}function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.chatJid,"MAWBridgeReceivedReceiptHandler",function(a,c){return i(a,b,c)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeSyncContacts",["CurrentMessengerUser","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("CurrentMessengerUser").getID();function a(a,e){return e.reduce(function(b,e){var f=(i||(i=d("I64"))).of_string(e);return b.then(function(){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:j.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:j.ofNumber(c("LSContactIdType").FBID),contactType:j.ofNumber(c("LSContactType").USER),contactViewerRelationship:j.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:j.ofNumber(c("LSContactGender").UNKNOWN),id:f,isBlocked:!1,isMemorialized:!1,isSelf:k===e,workForeignEntityType:j.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}).then(function(){})},(h||(h=b("Promise"))).resolve())}g.call=a}),98);
__d("MAWBumpThread",["ODS","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d,e,f,g){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g,i){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(b==null)return(h||(h=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","missing_thread");g=(g=g)!=null?g:b.snippetSenderContactId;yield a.threads.put(babelHelpers["extends"]({},b,{lastActivityTimestampMs:c,lastMessageCtaType:i,lastReadWatermarkTimestampMs:e,snippet:f,snippetSenderContactId:g}))});return i.apply(this,arguments)}g.threadMutation=a}),98);
__d("getMAWLastMessageCtaType",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.snippetType;switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL:return"xma_rtc_missed_audio";case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL:return"xma_rtc_missed_group_audio";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL:return"xma_rtc_missed_video";case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL:return"xma_rtc_missed_group_video"}}g["default"]=a}),98);
__d("MAWBridgeThreadBumpedHandler",["I64","MAWBridgeBuildThreadSnippet","MAWBumpThread","MAWCalculateBumpTimestampMs","MAWMiActOnMiThreadReadyForJid","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","getMAWLastMessageCtaType","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bumping thread on local device. threadKey: ",", lastActivityTs: ",", lastReadTs: ",", from: ",""]);i=function(){return a};return a}function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeThreadBumpedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(f==null)return;var g=d("MAWCalculateBumpTimestampMs").calculateBumpTimestampMs(e.lastActivityTs,e.lastMsgExternalId),j=d("MAWCalculateBumpTimestampMs").calculateBumpTimestampMs(e.lastReadTs,e.lastMsgExternalId);c("promiseDone")(d("WALoggerDeferred").LOG(i(),(h||(h=d("I64"))).to_string(b),h.to_string(g),h.to_string(j),e.description));f=(yield d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(e,f.snippet));var k=e.snippetSenderContactId!=null?(h||(h=d("I64"))).of_string(e.snippetSenderContactId):void 0,l=c("getMAWLastMessageCtaType")(e);return d("MAWBumpThread").threadMutation(a,b,g,j,f,k,l)});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("LSBumpE2EEMetadataThread",["LSCancelTaskByQueueName","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("bump_timestamp_ms",a[1]),d[0].set("thread_key",a[0]),d[0].set("bumped_by_local_device_send",a[2]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[0].set("wa_jid",void 0),d[0].set("message_ephemeral_duration_in_sec",c.i64.cast([0,0])),d[0].set("message_product_type",void 0),d[0].set("is_message_deletion",!1),d[1]=d[0].get("thread_key"),d[0],c.storedProcedure(b("LSCancelTaskByQueueName"),c.i64.to_string(d[1]),c.i64.cast([0,389]))},function(e){return d[2]=new c.Map(),d[2].set("bump_timestamp_ms",a[1]),d[2].set("thread_key",a[0]),d[2].set("bumped_by_local_device_send",a[2]),d[2].set("tam_thread_subtype",c.i64.cast([0,0])),d[2].set("wa_jid",void 0),d[2].set("message_ephemeral_duration_in_sec",c.i64.cast([0,0])),d[2].set("message_product_type",void 0),d[2].set("is_message_deletion",!1),d[3]=d[2].get("thread_key"),d[2],d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,389]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSBumpE2EEMetadataThreadStoredProcedure",["LSBumpE2EEMetadataThread","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.serverAuthoritativeTimestampMs;d[2]=b.bumpedByLocalDeviceSend;return c("LSBumpE2EEMetadataThread").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWBridgeThreadBumpedServerHandler",["I64","LSBumpE2EEMetadataThreadStoredProcedure","LSFactory","MAWCalculateBumpTimestampMs","MAWMiActOnMiThreadReadyForJid","WALoggerDeferred","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Bumping thread on server. threadKey: ",", bumpTimestampMs: ",", isLocalDeviceSend: ",", from ",""]);i=function(){return a};return a}function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeThreadBumpedServerHandle",function(a,e){var f=b.lastActivityTs;f=d("MAWCalculateBumpTimestampMs").calculateBumpTimestampMs(f,b.lastMsgExternalId);c("promiseDone")(d("WALoggerDeferred").LOG(i(),(h||(h=d("I64"))).to_string(e),h.to_string(f),b.isCurrentDeviceSendingMsg,b.description));return c("LSBumpE2EEMetadataThreadStoredProcedure")(c("LSFactory")(a),{bumpedByLocalDeviceSend:b.isCurrentDeviceSendingMsg,serverAuthoritativeTimestampMs:f,threadKey:e})})}g.call=a}),98);
__d("MAWBridgeThreadBumpedV2Handler",["DateConsts","I64","LSAuthorityLevel","LSBumpE2EEMetadataThreadStoredProcedure","LSFactory","LSOptimisticMarkThreadReadV2StoredProcedure","MAWBridgeBuildThreadSnippet","MAWMiActOnMiThreadReadyForJid","ODS","Promise","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","getMAWLastMessageCtaType","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Skipping local bump for thread: ",", bumpTimestampMs: ",", DB lastActivityTimestampMs: ",", from ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Bumping thread on local (v2). threadKey: ",", bumpTimestampMs: ",", originalTimestampMs: ",", isMessageAuthorMe: ",", from ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] missing thread for bumping threadKey: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Bumping thread v2. threadKey: ",", bumpTimestampMs: ",", isMessageAuthorMe: ",", skipServerThreadBump: ",", from ",""]);n=function(){return a};return a}function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeThreadBumpedV2Handler",function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f,g){var p,q=e.bumpTimestampMs;p=(p=e.skipServerThreadBump)!=null?p:!1;var r=e.isMessageAuthorMe;c("promiseDone")(d("WALoggerDeferred").LOG(n(),(i||(i=d("I64"))).to_string(g),i.to_string(q),r,p,e.description));var s=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.threads).getKeyRange(g)));if(s==null){c("promiseDone")(d("WALoggerDeferred").WARN(m(),(i||(i=d("I64"))).to_string(g)));return(j||(j=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","missing_thread")}c("justknobx")._("2374")&&c("promiseDone")(o(a,e,s));if((i||(i=d("I64"))).ge(q,s.lastActivityTimestampMs)){c("promiseDone")(d("WALoggerDeferred").LOG(l(),(i||(i=d("I64"))).to_string(g),i.to_string(q),i.to_string(s.lastActivityTimestampMs),r,e.description));var t=e.snippetSenderContactId!=null?(i||(i=d("I64"))).of_string(e.snippetSenderContactId):void 0;t=(t=t)!=null?t:s.snippetSenderContactId;var u=(yield d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(e,s.snippet)),v=c("getMAWLastMessageCtaType")(e);v=babelHelpers["extends"]({},s,{lastActivityTimestampMs:q,lastMessageCtaType:v,snippet:u,snippetSenderContactId:t});r&&(v=babelHelpers["extends"]({},v,{lastReadWatermarkTimestampMs:q}));yield f.threads.put(v)}else c("promiseDone")(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(g),i.to_string(q),i.to_string(s.lastActivityTimestampMs),e.description));if(!p){r&&(yield c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(f),{readWatermarkTimestampMs:q,threadKey:g}));return c("LSBumpE2EEMetadataThreadStoredProcedure")(c("LSFactory")(f),{bumpedByLocalDeviceSend:r,serverAuthoritativeTimestampMs:q,threadKey:g})}return(h||(h=b("Promise"))).resolve()});return function(a,b){return f.apply(this,arguments)}}())}function o(a,e,f){var g=(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE),k=function(a){a=a.authorityLevel;return(i||(i=d("I64"))).equal(g,a)},l=d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages).getKeyRange(f.threadKey).filter(k)).then(function(a){return(i||(i=d("I64"))).to_float((a=a==null?void 0:a.timestampMs)!=null?a:(i||(i=d("I64"))).zero)});a=d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.reactions).getKeyRange(f.threadKey).filter(k).take(20)).then(function(a){return a.reduce(function(a,b){return Math.max(a,(i||(i=d("I64"))).to_float((a=b.reactionCreationTimestampMs)!=null?a:(i||(i=d("I64"))).zero))},0)});return(h||(h=b("Promise"))).all([l,a]).then(function(a){var b=a[0];a=a[1];b=Math.max(b,a);a=Math.floor((i||(i=d("I64"))).to_float(e.bumpTimestampMs)/d("DateConsts").MS_PER_SEC)*1e3;if(a!==b)return(j||(j=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","thread_bump_call_unexpected");else return(j||(j=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","thread_bump_call_expected")})}g.call=a}),98);
__d("MAWBridgeThreadHiddenV2Handler",["LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b,"MAWBridgeThreadHiddenV2Handler",function(a,b){a=c("LSFactory")(a);return c("LSOptimisticRemoveThreadStoredProcedure")(a,{removeType:(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRemoveType").DELETE_THREAD),threadKey:b})})}g.call=a}),98);
__d("MAWBridgeThreadTimestampsHandler",["CurrentMessengerUser","I64","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(e==null)return;e=babelHelpers["extends"]({},e,{lastReadWatermarkTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastReadWatermarkTs)});yield a.threads.put(e);e=(h||(h=d("I64"))).of_string(d("CurrentMessengerUser").getID());b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.participants).getKeyRange(b,e)));b!=null&&(yield a.participants.put(babelHelpers["extends"]({},b,{readActionTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastActivityTimestampMs),readWatermarkTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastReadWatermarkTs)})))});return j.apply(this,arguments)}function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeThreadTimestampsHandler",function(a,c){return i(a,c,b)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeThreadUpdatedHandler",["I64","LSBitOffset","MAWBridgeBuildThreadSnippet","MAWBridgeUIEventDataValidation","MAWFolderUtils","MAWMiActOnMiThreadReadyForJid","ReQL","asyncToGeneratorRuntime","getMAWLastMessageCtaType"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){return b!=null&&b==="viewer_not_subscribed"?d("LSBitOffset").clear((h||(h=d("I64"))).sub(h.of_int32(28),h.of_string("64")),a):a}function j(a,b){var c=b.folder!=null?d("MAWFolderUtils").getMessagingFolderTag(b.folder):a.folderName;return(b=b.cannotReplyReason)!=null?b:c==="inbox"?void 0:a.cannotReplyReason}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)));if(e==null)return;var f=(yield d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(b,e.snippet)),g=j(e,b),k=c("getMAWLastMessageCtaType")(b);yield a.threads.put(babelHelpers["extends"]({},e,{cannotReplyReason:g,capabilities2:i(e.capabilities2,g),folderName:e.folderName,lastMessageCtaType:k,muteExpireTimeMs:b.muteExpireTimeMs==null?e.muteExpireTimeMs:(h||(h=d("I64"))).of_float(b.muteExpireTimeMs),parentThreadKey:e.parentThreadKey,snippet:f,snippetSenderContactId:b.snippetSenderContactId==null?e.snippetSenderContactId:d("MAWBridgeUIEventDataValidation").stringToI64Opt(b.snippetSenderContactId)}))});return l.apply(this,arguments)}function a(a,b){var c=b.threadJid;return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c,"MAWBridgeThreadUpdatedHandler",function(a,c){return k(a,b,c)})}g.callWithoutWaitingForAnything=k;g.call=a}),98);
__d("MAWBridgeUIEventQueueQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("QPLUserFlow").start(c("qpl")._(1056849266,"1765"),{annotations:{string_array:{events:b}},instanceKey:a})}function b(a){c("QPLUserFlow").endSuccess(c("qpl")._(1056849266,"1765"),{instanceKey:a})}function d(a,b){c("QPLUserFlow").endFailure(c("qpl")._(1056849266,"1765"),"MAWBridgeUIEventHandlerFailure",{annotations:{string:{failedEventTag:b}},instanceKey:a})}g.start=a;g.endSuccess=b;g.endFailure=d}),98);
__d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return(g||(g=b("Promise"))).resolve()}f.call=a}),66);
__d("LSEncryptedBackupsClientRestoreState",[],(function(a,b,c,d,e,f){a=Object.freeze({RESTORE_IN_PROGRESS:1,RESTORE_COMPLETE:2});f["default"]=a}),66);
__d("MAWEncryptedBackupsUpdateGlobalRestoreStatus",["WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Thread with thread id "," is not currently being tracked, but restore seems to be in progress"]);h=function(){return a};return a}var i=new Set(),j=new Set();function k(a){if(a==="restore")return i;else return j}function a(a,b){b=k(b);b.add(a)}function b(a,b){b=k(b);b.has(a)?b["delete"](a):d("WALogger").WARN(h(),a)}function c(a){a=k(a);return a.size}g.addThreadIdToStatusArray=a;g.removeThreadIdFromStatusArray=b;g.getCurrentGlobalRestoreStatusArrayLength=c}),98);
__d("MAWBridgeUpdateClientRestoreStatus",["I64","LSEncryptedBackupsClientRestoreState","LSIntEnum","MAWEncryptedBackupsUpdateGlobalRestoreStatus","MAWJobDefinitions","MAWMIC","MAWUpdateClientRestoreStatusOperationType","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.encrypted_backups_client_restore_status).filter(function(a){return a.threadId===c})).then(function(c){if(c!=null)return a.encrypted_backups_client_restore_status["delete"](c.threadId).then(function(){});else return(j||(j=b("Promise"))).resolve()})}function l(a,e,f,g){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.encrypted_backups_client_restore_status).filter(function(a){return a.threadId===e})).then(function(k){if(k!=null)return a.encrypted_backups_client_restore_status.put({lastUpdated:(h||(h=d("I64"))).of_float(Date.now()),restoreStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsClientRestoreState").RESTORE_COMPLETE),serverThreadKey:f,threadId:e}).then(function(){if(g!=null)if(!g){d("MAWEncryptedBackupsUpdateGlobalRestoreStatus").removeThreadIdFromStatusArray(d("MAWJobDefinitions").toThreadJidPrimaryId(e),"restore");var a=d("MAWEncryptedBackupsUpdateGlobalRestoreStatus").getCurrentGlobalRestoreStatusArrayLength("restore");a===0&&d("MAWMIC").markEvent("eb_restore_end")}else{d("MAWEncryptedBackupsUpdateGlobalRestoreStatus").removeThreadIdFromStatusArray(d("MAWJobDefinitions").toThreadJidPrimaryId(e),"ebprefetch");a=d("MAWEncryptedBackupsUpdateGlobalRestoreStatus").getCurrentGlobalRestoreStatusArrayLength("ebprefetch");a===0&&d("MAWMIC").markEvent("eb_prefetch_end")}});else return(j||(j=b("Promise"))).resolve()})}function a(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.encrypted_backups_client_restore_status)).then(function(c){return c.reduce(function(b,c){return b.then(function(){return k(a,c.threadId)})},(j||(j=b("Promise"))).resolve())})}function m(a,c){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table)).then(function(a){a=a.find(function(a){return(h||(h=d("I64"))).to_string(a.jid)===c});return a==null?(j||(j=b("Promise"))).resolve(void 0):(j||(j=b("Promise"))).resolve((h||(h=d("I64"))).to_string(a.serverThreadKey))})}function e(a,e){var f=e.threadId;return m(a,f).then(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g=e.action;yield g===d("MAWUpdateClientRestoreStatusOperationType").upsertClientRestoreStatus?a.encrypted_backups_client_restore_status.put({lastUpdated:(h||(h=d("I64"))).of_float(Date.now()),restoreStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsClientRestoreState").RESTORE_IN_PROGRESS),serverThreadKey:b,threadId:f}):l(a,e.threadId,b,e.ebPrefetch)});return function(a){return g.apply(this,arguments)}}())}g.truncateClientRestoreStatusTable=a;g.findServerThreadKey=m;g.call=e}),98);
__d("LSUpdateE2EEMetadataParticipants",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_self_remove",!1),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,394]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateE2EEMetadataParticipantsStoredProcedure",["LSUpdateE2EEMetadataParticipants","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSUpdateE2EEMetadataParticipants").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWBridgeUpdateE2EEMetadataParticipantsHandler",["LSFactory","LSUpdateE2EEMetadataParticipantsStoredProcedure","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeThreadsLoadedHandler",function(a,b){return c("LSUpdateE2EEMetadataParticipantsStoredProcedure")(c("LSFactory")(a),{threadKey:b})})}g.call=a}),98);
__d("MAWBridgeUpdateMessageRangeHandler",["I64","LSClearMessagePlaceholderRangeStoredProcedure","LSFactory","LSInsertNewMessageRangeStoredProcedure","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeUpdateMessageRangeHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f;yield c("LSClearMessagePlaceholderRangeStoredProcedure")(c("LSFactory")(a),{maxTimestampMs:d("MAWTimeUtils").MAX_TIMESTAMP_MS,messageId:"",threadKey:b});var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages_ranges_v2__generated).getKeyRange(b)));g!=null&&(yield a.messages_ranges_v2__generated["delete"](g.threadKey,g.minTimestampMs,g.minMessageId));var i=e.hasMoreAfter,j=e.hasMoreBefore,k=e.maxMsgId,l=e.minMsgId,m=j&&e.minMsgTs!=null?(h||(h=d("I64"))).of_float(e.minMsgTs):(g==null?void 0:g.minTimestampMs)||d("MAWTimeUtils").MIN_TIMESTAMP_MS,n=(g==null?void 0:g.minTimestampMs)!=null&&(h||(h=d("I64"))).lt(g==null?void 0:g.minTimestampMs,m),o=i&&e.maxMsgTs!=null?(h||(h=d("I64"))).of_float(e.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS,p=d("MAWTimeUtils").MIN_TIMESTAMP_MS;f=(f=o)!=null?f:d("MAWTimeUtils").MAX_TIMESTAMP_MS;return c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:i,hasMoreBefore:n?(g==null?void 0:g.hasMoreBefore)||!0:j,lowerOverlap:p,newMaxMid:(a=k)!=null?a:"",newMaxTs:o,newMinMid:n?(i=g==null?void 0:g.minMessageId)!=null?i:"":(j=l)!=null?j:"",newMinTs:n?(g==null?void 0:g.minTimestampMs)||d("MAWTimeUtils").MIN_TIMESTAMP_MS:m,threadKey:b,upperOverlap:f})});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeUpdateMinMessageHandler",["I64","MAWMiActOnMiThreadReadyForJid","ReQL","ReQLTable","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=(h||(h=d("I64"))).of_float(b.minTimestampMs),f=b.minMessageId;return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeUpdateMinMessageHandler",function(a,g){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages_ranges_v2__generated).getKeyRange(g)).then(function(h){if(h==null)return;var i=b.hasMoreBefore,j=i!=null?i:h.hasMoreBefore;return d("ReQLTable").update(a.messages_ranges_v2__generated,[g,h.minTimestampMs,h.minMessageId],function(a){if(a!=null)return{hasMoreAfter:a.hasMoreAfter,hasMoreBefore:j,isLoadingAfter:a.isLoadingAfter,isLoadingBefore:a.isLoadingBefore,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:f,minTimestampMs:e,threadKey:a.threadKey};throw c("unrecoverableViolation")("Thread is missing in updating the min message in message range","messenger_e2ee_web")})})})}g.call=a}),98);
__d("MAWBridgeXMAShareExpiredHandler",["MAWMiActOnMiThreadReadyForJid","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,c,d){var e=String(d.xmaId);return a.attachments.get(c,d.msgId,e).then(function(f){if(f==null)return(h||(h=b("Promise"))).resolve();f=[f.defaultCtaId,f.attachmentCta1Id,f.attachmentCta2Id,f.attachmentCta3Id].filter(Boolean);f=f.map(function(b){return a.attachment_ctas["delete"](b)});return(h||(h=b("Promise"))).all(f).then(function(){return a.attachments["delete"](c,d.msgId,e)})})}function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeXMAShareExpiredHandler",function(a,c){return i(a,c,b)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeXMAShareTombstonedHandler",["FBLogger","MAWMiActOnMiThreadReadyForJid","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f=String(e.xmaId);return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeXMAShareTombstonedHandler",function(a,g){return a.attachments.get(g,e.msgId,f).then(function(i){if(i==null)return(h||(h=b("Promise"))).resolve();i=[i.defaultCtaId,i.attachmentCta1Id,i.attachmentCta2Id,i.attachmentCta3Id].filter(Boolean);i=i.map(function(b){return a.attachment_ctas["delete"](b)});return(h||(h=b("Promise"))).all(i).then(function(){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(g,e.msgId,f)).then(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(d){if(d!=null){d=babelHelpers["extends"]({},d,{attachmentCta1Id:void 0,attachmentCta2Id:void 0,attachmentCta3Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Title:void 0,cta2Type:void 0,cta3Title:void 0,cta3Type:void 0,defaultCtaId:void 0,defaultCtaTitle:void 0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,previewHeight:void 0,previewHeightLarge:void 0,previewWidth:void 0,previewWidthLarge:void 0,subtitleText:void 0,titleText:void 0});yield a.attachments.put(d)}c("FBLogger")("messenger_web_sharing").blameToPreviousFrame().mustfix("Trying to tombstone a secure xma attachment but no existing attachment");return(h||(h=b("Promise"))).resolve()});return function(a){return d.apply(this,arguments)}}())})})})}g.call=a}),98);
__d("MAWBridgeUIEventHandler",["FBLogger","JSResourceForInteraction","MAWAbPropsClient","MAWBridgeDeleteGroupInviteHandler","MAWBridgeDeleteMessageRangesV2Handler","MAWBridgeDeleteMessagesHandler","MAWBridgeDeleteReactionHandler","MAWBridgeDropAllSecureThreadsHandler","MAWBridgeEditMsgHistoryAddedHandler","MAWBridgeGroupInfoUpdatedHandler","MAWBridgeGroupInviteLoadedHandler","MAWBridgeGroupInviteUpdateHandler","MAWBridgeHandleCOPDigest","MAWBridgeMediaExpiredHandler","MAWBridgeMsgRangeLoadedHandler","MAWBridgeMsgUpdatedHandler","MAWBridgeMsgsLoadedHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMediaRangeHandler","MAWBridgeNewMsgHandler","MAWBridgeNewXMAHandler","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWBridgeOneToOneMessageRequestLoadedHandler","MAWBridgeParticipantRemovedHandler","MAWBridgeParticipantUpdatedHandler","MAWBridgeParticipantsUpdatedHandler","MAWBridgeRavenActionMsgForUIHandler","MAWBridgeReactionUpsertHandler","MAWBridgeReceivedChatStateHandler","MAWBridgeReceivedReceiptHandler","MAWBridgeSyncContacts","MAWBridgeThreadBumpedHandler","MAWBridgeThreadBumpedServerHandler","MAWBridgeThreadBumpedV2Handler","MAWBridgeThreadHiddenV2Handler","MAWBridgeThreadTimestampsHandler","MAWBridgeThreadUpdatedHandler","MAWBridgeUIEventQPLLogger","MAWBridgeUIEventQueueQPLLogger","MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler","MAWBridgeUpdateClientRestoreStatus","MAWBridgeUpdateE2EEMetadataParticipantsHandler","MAWBridgeUpdateMessageRangeHandler","MAWBridgeUpdateMinMessageHandler","MAWBridgeXMAShareExpiredHandler","MAWBridgeXMAShareTombstonedHandler","MAWEphemeralMessageExpirationStorage","Promise","WAResultOrError","WATagsLogger","WATimeUtils","asyncToGeneratorRuntime","getErrorSafe","isArmadillo","isInstamadilloDYI","promiseDone","recoverableViolation","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Handle UI Events: ",""]);j=function(){return a};return a}var k=(i=c("requireDeferred"))("MAWBridgeDeleteMessagesOfThreadHandler").__setRef("MAWBridgeUIEventHandler"),l=i("MAWBridgeIssuePointQueryHandler").__setRef("MAWBridgeUIEventHandler"),m=i("MAWBridgeStartTraceHandler").__setRef("MAWBridgeUIEventHandler"),n=i("MAWBridgeStartTraceWithTraceIdHandler").__setRef("MAWBridgeUIEventHandler"),o=i("MAWBridgeTraceRecordCheckpointHandler").__setRef("MAWBridgeUIEventHandler"),p=i("MAWBridgeUpdateDyiStatus").__setRef("MAWBridgeUIEventHandler"),q=i("MAWBridgeUpdateTraceHandler").__setRef("MAWBridgeUIEventHandler"),r=i("MAWBridgeUploadMessageByBatchHandler").__setRef("MAWBridgeUIEventHandler"),s=i("MAWBridgeUploadMessageHandler").__setRef("MAWBridgeUIEventHandler");function t(a,e,f){switch(f.tag){case"NewMsg":return d("MAWBridgeNewMsgHandler").call(e,f.value);case"MsgsStartCountdown":return d("MAWBridgeMsgsStartCountdownHandler").call(e,f.value);case"MsgClearCountdown":return(h||(h=b("Promise"))).resolve(d("MAWEphemeralMessageExpirationStorage").clearMessageFromExpiration(f.value));case"DropAllSecureThreads":return d("MAWBridgeDropAllSecureThreadsHandler").call(e);case"VerifyThreadExists":var g=f.value;return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").call(e,g);case"EditMsgHistoryAdded":return d("MAWBridgeEditMsgHistoryAddedHandler").call(a,e,f.value);case"MsgUpdated":return d("MAWBridgeMsgUpdatedHandler").call(e,f.value);case"NewMedia":return d("MAWBridgeNewMediaHandler").call(e,f.value);case"NewMediaRange":return d("MAWBridgeNewMediaRangeHandler").call(e,f.value);case"MediaExpired":return d("MAWBridgeMediaExpiredHandler").call(e,f.value);case"XMAShareExpired":return d("MAWBridgeXMAShareExpiredHandler").call(e,f.value);case"NewXMA":return d("MAWBridgeNewXMAHandler").call(e,f.value);case"XMAShareTombstoned":return d("MAWBridgeXMAShareTombstonedHandler").call(e,f.value);case"ParticipantUpdated":return d("MAWBridgeParticipantUpdatedHandler").call(e,f.value);case"ParticipantRemoved":return d("MAWBridgeParticipantRemovedHandler").call(e,f.value);case"UpdateE2EEMetadataParticipants":return d("MAWBridgeUpdateE2EEMetadataParticipantsHandler").call(e,f.value);case"ReceivedReceipt":return d("MAWBridgeReceivedReceiptHandler").call(e,f.value);case"ThreadUpdated":return d("MAWBridgeThreadUpdatedHandler").call(e,f.value);case"GroupInfoUpdated":return d("MAWBridgeGroupInfoUpdatedHandler").call(e,f.value);case"ThreadBumped":return d("MAWBridgeThreadBumpedHandler").call(e,f.value);case"ThreadBumpedV2":return d("MAWBridgeThreadBumpedV2Handler").call(e,f.value);case"ThreadTimestampsUpdated":return d("MAWBridgeThreadTimestampsHandler").call(e,f.value);case"MsgsLoaded":return d("MAWBridgeMsgsLoadedHandler").call(e,f.value);case"MsgRangeLoaded":return d("MAWBridgeMsgRangeLoadedHandler").call(e,f.value);case"StartTrace":return m.load().then(function(a){return a.call(e,f.value)});case"UpdateTrace":return q.load().then(function(a){return a.call(e,f.value)});case"ThreadHiddenV2":return d("MAWBridgeThreadHiddenV2Handler").call(e,f.value);case"SyncContacts":return d("MAWBridgeSyncContacts").call(e,f.value);case"ReceivedChatState":return d("MAWBridgeReceivedChatStateHandler").call(e,f.value);case"ClockSkewUpdated":return(h||(h=b("Promise"))).resolve(d("WATimeUtils").setClockSkew(f.value));case"ABPropsUpdated":c("FBLogger")("messenger_e2ee_web").warn("[messenger_e2ee_web] ABPropsUpdated has been deprecated. Please use the bridge with ABPropsUpdated");return(h||(h=b("Promise"))).resolve(d("MAWAbPropsClient").rewrite(f.value));case"COPDigestReceived":return d("MAWBridgeHandleCOPDigest").call(e,f.value);case"UpsertReaction":return d("MAWBridgeReactionUpsertHandler").call(e,f.value);case"DeleteReaction":return d("MAWBridgeDeleteReactionHandler").call(e,f.value);case"UploadMessage":return s.load().then(function(a){return a.call(e,f.value)});case"UploadMessageByBatch":return r.load().then(function(a){return a.call(e,f.value)});case"DeleteMessagesOfThread":return k.load().then(function(a){return a.call(e,f.value)});case"UploadAttachment":return c("JSResourceForInteraction")("MAWBridgeUploadAttachmentHandler").__setRef("MAWBridgeUIEventHandler").load().then(function(a){return a.call(e,f.value)});case"ResignAttachmentCDNUrl":return c("JSResourceForInteraction")("MAWBridgeResignAttachmentCDNUrlHandler").__setRef("MAWBridgeUIEventHandler").load().then(function(a){return a.call(e,f.value)});case"DeleteMessages":return d("MAWBridgeDeleteMessagesHandler").call(e,f.value);case"RestoreMessageBatch":return c("JSResourceForInteraction")("MAWBridgeRestoreMessageBatchHandler").__setRef("MAWBridgeUIEventHandler").load().then(function(a){return a.call(e,f.value)});case"OneToOneMessageRequestLoaded":return d("MAWBridgeOneToOneMessageRequestLoadedHandler").call(e,f.value);case"GroupInviteUpdate":return d("MAWBridgeGroupInviteUpdateHandler").call(e,f.value);case"UpdateDyiStatus":return p.load().then(function(a){return a.call(e,f.value)});case"DeleteGroupInvite":return d("MAWBridgeDeleteGroupInviteHandler").call(e,f.value);case"TraceRecordCheckpoint":return o.load().then(function(a){return a.call(e,f.value)});case"DeleteMessageRangesV2":return d("MAWBridgeDeleteMessageRangesV2Handler").call(e,f.value);case"UpdateMinMessage":return d("MAWBridgeUpdateMinMessageHandler").call(e,f.value);case"IssuePointQuery":return l.load().then(function(a){return a.call(e,f.value)});case"ThreadBumpedServer":return d("MAWBridgeThreadBumpedServerHandler").call(e,f.value);case"ParticipantsUpdated":return d("MAWBridgeParticipantsUpdatedHandler").call(e,f.value);case"StartTraceWithTraceId":return n.load().then(function(a){return a.call(e,f.value)});case"UpdateClientRestoreStatus":return d("MAWBridgeUpdateClientRestoreStatus").call(e,f.value);case"NewMsgs":return d("MAWBridgeNewMsgHandler").bulkCall(e,f.value.msgs);case"UnArchivedSelfDeviceChangeAlerts":return d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler").call(e,f.value);case"EphemeralSettingsUpdatedForUI":return c("JSResourceForInteraction")("MAWBridgeEphemeralSettingsUpdatedForUIHandler").__setRef("MAWBridgeUIEventHandler").load().then(function(a){return a.call(e,f.value)});case"RavenActionUpdate":return d("MAWBridgeRavenActionMsgForUIHandler").call(e,f.value);case"GroupInviteLoaded":return d("MAWBridgeGroupInviteLoadedHandler").call(e,f.value);case"UpdateMessageRange":return d("MAWBridgeUpdateMessageRangeHandler").call(e,f.value);default:return(h||(h=b("Promise"))).resolve()}}function a(a,b){if(!c("isArmadillo")()&&!c("isInstamadilloDYI")()){c("recoverableViolation")("User is neither part of armadillo QE and dual send QE but somehow loaded this handler","maw_worker");return}if(!(b.length===1&&b[0].tag==="TraceRecordCheckpoint")){var e={};e=b.reduce(function(a,b){a[b.tag]=((b=a[b.tag])!=null?b:0)+1;return a},e);d("WATagsLogger").TAGS(["MAWBridgeUIEvent"]).LOG(j(),e)}c("promiseDone")(u(a,b),function(a){},function(a){c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MAWBridgeUIEventHandler] Failed to handle UI events: %s",b.map(function(a){return a.tag}).join(", "))})}function u(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var g=(yield a);a=d("MAWBridgeUIEventQPLLogger").getInstanceKey();var h=e.map(function(a){return a.tag}),i="";d("MAWBridgeUIEventQueueQPLLogger").start(a,h);var j;try{j=(yield g.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){for(var f=0;f<e.length;f++){var h=e[f],j=d("MAWBridgeUIEventQPLLogger").getInstanceKey();d("MAWBridgeUIEventQPLLogger").start(j,h);try{yield t(g,b,h),d("MAWBridgeUIEventQPLLogger").endSuccess(j)}catch(b){var a=c("getErrorSafe")(b);i=h.tag;d("MAWBridgeUIEventQPLLogger").endFailure(j,h.tag);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MAWBridgeUIEventHandler] Failed to handle UI event: %s",h.tag);return d("WAResultOrError").makeError(a)}}return d("WAResultOrError").makeResult(!0)});return function(b){return a.apply(this,arguments)}}(),"readwrite","background",{events:e,type:"maw_ui_bridge"},f.id+":342"))}catch(a){var k=c("getErrorSafe")(a);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("DbError handling UI events");j=d("WAResultOrError").makeError(k)}!j.success?(d("MAWBridgeUIEventQueueQPLLogger").endFailure(a,i),c("FBLogger")("messenger_e2ee_web").catching(j.error).mustfix("MAWBridgeUIEventHandler] Did not commit UI events to DB: %s",h.toString())):d("MAWBridgeUIEventQueueQPLLogger").endSuccess(a)});return v.apply(this,arguments)}function e(a,b,c){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=d("MAWBridgeUIEventQPLLogger").getInstanceKey();try{d("MAWBridgeUIEventQPLLogger").start(f,e),yield t(a,b,e),d("MAWBridgeUIEventQPLLogger").endSuccess(f)}catch(b){a=c("getErrorSafe")(b);d("MAWBridgeUIEventQPLLogger").endFailure(f,e.tag);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[handleShimEvent] Failed to handle UI event: %s",e.tag);throw b}});return w.apply(this,arguments)}g.handleEvents=a;g.handleShimEvent=e}),98);
__d("MAWCrossWorkerPortal",["FBLogger","WACrossWorkerPortal","pageID"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){if(h!=null)return h;h=d("WACrossWorkerPortal").attachPortal(a,b,e,c("pageID"));return h}function b(){if(h==null){c("FBLogger")("messenger_e2ee_web").warn("Trying to kill portal before its setup");return}d("WACrossWorkerPortal").killPortalAndSendPendingToBridge(h)}g.getOrCreateCrossWorkerPortal=a;g.killPortalWhenWorkerTerminating=b}),98);
__d("WADevToolMessageChannel",[],(function(a,b,c,d,e,f){"use strict";var g=new MessageChannel(),h;a=function(){g=new MessageChannel();h(g);return g};b=function(){return g};c=function(a){h=a,h(g)};f.createNewChannel=a;f.getMostRecentChannel=b;f.onCreateNewChannel=c}),66);
__d("MAWCommonSetupBridge",["BrowserLockManager","CurrentUser","ErrorTransport","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWBridge","MAWChatJid","MAWCrossWorkerPortal","MAWCurrentUser","MAWDbMedia","MAWEBSwitch","MAWFrontendMediaUtils","MAWJobActionsV2","MAWMICSafe","MAWThreadCutover","MAWVault","MAWXMAUtils","MWLogSend","MultipleTabsLogger","ODS","Promise","QPLEvent","QPLUserFlow","URLMatcher","WACrossWorkerPortal","WADevToolMessageChannel","WADevToolsBridge","WAExceededStorageQuota","WAJids","cr:2691","err","gkx","justknobx","pageID","promiseDone","requireDeferred","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=c("requireDeferred")("MAWMainThreadLogger").__setRef("MAWCommonSetupBridge"),o=new Set([25312111,25311870]),p=new Map(),q=new Map(),r=new Map([[(a=d("MAWDbMedia")).MEDIA_TYPE.IMAGE,8],[a.MEDIA_TYPE.VIDEO,10],[a.MEDIA_TYPE.GIF,6],[a.MEDIA_TYPE.STICKER,4],[a.MEDIA_TYPE.PTT,11],[a.MEDIA_TYPE.DOCUMENT_FILE,9]]),s=new Set([25312150,25313100,1056840931,25299294]);function t(a,b){return a+"_"+b}function u(a,b,c,d,e,f,g,h){if(e)return 43;if(a==="revokeMsg")return 26;if(f!=null)return f;if(c)return 3;if(d&&g===!1)return 13;if(h===!0)return 13;e=b!=null?r.get(b):null;return(a=e)!=null?a:0}function v(a,b,e){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(f){return d("MAWThreadCutover").isCutoverSecureThreadFromChatJid(f,a).then(function(a){c("QPLUserFlow").addAnnotations(b,{bool:{is_cutover:a}},{instanceKey:e})})})}var w={fbErrorProxy:function(a){d("ErrorTransport").log(a)},log:function(a){var b=a.logLevel,c=a.logString,d=a.tags;switch(b){case"log":n.onReadyImmediately(function(a){a=a.info;return a(c,d)});return;case"warn":n.onReadyImmediately(function(a){a=a.warn;return a(c,d)});return;case"logRestricted":n.onReadyImmediately(function(a){a=a.logRestricted;return a(c,d)});return;case"debug":break;case"error":break;default:break}},logError:function(a){var b=a.entriesToReport,c=a.framesToPop,d=a.logString,e=a.message,f=a.stack,g=a.tags;n.onReadyImmediately(function(a){a=a.logError;return a(d,g,e,f,c,b)})},odsBumpEntityKey:function(a){var b=a.amount,e=a.entity;a=a.key;(j||(j=d("ODS"))).bumpEntityKey(3185,e,a+"."+(c("CurrentUser").getAppID()||"unknown"),b)},onJobFinished:function(a){a.type==="createGroup"&&a.originalArgs.key!=null&&d("MAWJobActionsV2").recentFinishedJobsCache.set(a.originalArgs.key,a.result);switch(a.type){case"sendMsg":case"sendMediaMsg":case"sendReactionMsg":case"sendXMAShareMsg":case"forwardMsg":var b=a.originalArgs.chatJid,e=a.type==="sendXMAShareMsg"?a.originalArgs.xmaMsgExternalId:a.originalArgs.externalId;p.set(t(b,e),babelHelpers["extends"]({},a.originalArgs,{type:"sendMsg"}));break;case"sendEditMsg":b=a.originalArgs.args.originalProtocolMsgId.chat;e=a.originalArgs.externalId;p.set(t(b,e),babelHelpers["extends"]({},a.originalArgs,{chatJid:b,type:"editMsg"}));break;case"revokeMsgs":e=a.result;e.forEach(function(a){var b=a.deleting;a=a.original;p.set(t(b.chat,b.externalId),{chatJid:a.chat,externalId:a.externalId,type:"revokeMsg"})});break;case"sendAppData":b=a.originalArgs;var f=a.result;(e=b.args.contents.actions)==null?void 0:e.forEach(function(a){a=a.messageAction;if(a==null||a.type!=="delete_for_me"||f.type!=="not_sent")return;q.set(f.appDataExternalId,{chatJid:a.protocolMsgId.chat,externalId:a.protocolMsgId.externalId,type:"deleteMsgForMe"})});break}if(a.type==="sendWrittenMsg"){b=a.originalArgs.protocolMsgId;e=b.chat;b=b.externalId;e=t(e,b);var g=p.get(e);p["delete"](e);if(a.result.success&&g!=null){var h,j=g.type!=="revokeMsg"?b:g.externalId,m=g.args,n=g.chatJid;e=g.file;b=g.type;g=g.type==="editMsg";var o=(m==null?void 0:m.reactToAuthor)!=null,r=null;o&&(r=(m==null?void 0:m.reaction)!=null?20:27);o=(m==null?void 0:m.specialTextSize)!=null;e=e!=null?d("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(e.type).mediaType:null;var s=(m==null?void 0:m.xmaMessageType)!=null,v=(m==null?void 0:m.quote)!=null||d("MAWXMAUtils").isXMAStoryReply(m==null?void 0:m.xmaMessageType);h=c("URLMatcher").match(d("MAWVault").unvault((h=m==null?void 0:m.content)!=null?h:""));h=h!=null&&h.length>0;var w=u(b,e,o,s,g,r,v,h),x=d("WAJids").switchOnMsgrChatJidType(n,{group:function(){return(k||(k=d("LSIntEnum"))).ofNumber(16)},user:function(){return(k||(k=d("LSIntEnum"))).ofNumber(15)}});c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){var b=(m==null?void 0:m.source)!=null?m.source:(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN);c("promiseDone")(d("MAWChatJid").toThreadKey(a.tables,n,"MAWCommonSetupBridge::sendWrittenMsg").then(function(e){var f;if(c("justknobx")._("154")&&d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()&&(c("BrowserLockManager")!=null&&!d("MultipleTabsLogger").hasUniqueLock()))return;d("MWLogSend").log(a,{actor:(l||(l=d("I64"))).of_string(d("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:w,backend:1,hasReply:v,initatingSource:m==null?void 0:m.initiatingSource,messagingThreadId:l.to_string(e),msgTtl:m==null?void 0:(f=m.ephemeralSetting)==null?void 0:f.ephemeralExpirationInSec,offlineThreadingId:j,sendType:1,source:b,threadKey:e,threadType:x})}))}))}}if(a.type==="sendWrittenAppData"){b=a.originalArgs.appDataExternalId;e=q.get(b);q["delete"](b);if(e!=null&&e.type==="deleteMsgForMe"&&a.result.type==="success"){var y=e.chatJid,z=e.externalId,A=d("WAJids").switchOnMsgrChatJidType(y,{group:function(){return(k||(k=d("LSIntEnum"))).ofNumber(16)},user:function(){return(k||(k=d("LSIntEnum"))).ofNumber(15)}});c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){c("promiseDone")(d("MAWChatJid").toThreadKey(a.tables,y,"MAWCommonSetupBridge::sendWrittenAppData").then(function(b){d("MWLogSend").log(a,{actor:(l||(l=d("I64"))).of_string(d("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:25,backend:1,hasReply:!1,messagingThreadId:l.to_string(b),offlineThreadingId:z,sendType:3,source:(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN),threadKey:b,threadType:A})}))}))}}},qplEvent:function(a){var e=a.action,f=a.annotations,g=a.debugInfo,i=a.error,j=a.event,k=a.instanceKey,l=a.timeoutInMs,n=a.timestamp;if(!c("CurrentUser").isEmployee()&&o.has((m||(m=d("QPLEvent"))).getMarkerId(j)))return;var p=k||0;k=f==null?void 0:(a=f.string)==null?void 0:a.jid;a=k!=null?d("WAJids").validateChatJid(k):void 0;k=s.has((m||(m=d("QPLEvent"))).getMarkerId(j))&&a!=null?v(a,j,p):(h||(h=b("Promise"))).resolve();switch(e.type){case"start":c("QPLUserFlow").start(j,{annotations:babelHelpers["extends"]({},f||{},{bool:babelHelpers["extends"]({},(f==null?void 0:f.bool)||{},{is_eb_enabled:c("MAWEBSwitch").isEnabled(),is_pdb:c("gkx")("24032"),isArmadilloPublicLaunchUser:c("gkx")("23405"),isDev:0,isGifSearchEnbled:!0,isM1M2OverrideUser:c("gkx")("24022"),isRestoreDBEnabled:c("gkx")("23906"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),pqOnReStore:c("gkx")("2163"),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()})}),instanceKey:p,timeoutInMs:l,timestamp:n});break;case"success":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:p});k["finally"](function(){c("QPLUserFlow").endSuccess(j,{annotations:f,instanceKey:p,timestamp:n})});break;case"cancel":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:p});k["finally"](function(){c("QPLUserFlow").endCancel(j,{annotations:f,instanceKey:p,timestamp:n})});break;case"point":f&&c("QPLUserFlow").addAnnotations(j,f,{instanceKey:p});(m||(m=d("QPLEvent"))).getMarkerId(j)===1056839232?d("MAWMICSafe").markEvent(e.name,n):c("QPLUserFlow").addPoint(j,e.name,{instanceKey:p,timestamp:n});break;case"annotations":c("QPLUserFlow").addAnnotations(j,(a=f)!=null?a:{},{instanceKey:p});break;case"failure":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:p});k["finally"](function(){c("QPLUserFlow").endFailure(j,e.name,{annotations:f,instanceKey:p,timestamp:n})});break;case"error":c("QPLUserFlow").markError(j,e.name,{debugInfo:g,error:i,instanceKey:p});break;default:throw c("err")("Bridge sends unreachable qplEvent action type")}}},x=function(a,b){a.push(b);return a};e=function(a){var e=a.customizeEventHandlers;a=a.worker;var f=d("MAWBridge").getBridge();f.setHandlers("event",babelHelpers["extends"]({},w,e));e=d("MAWCrossWorkerPortal").getOrCreateCrossWorkerPortal(f,["backend"],x);e.setPort(a);if(c("gkx")("3282")){var g=d("WADevToolsBridge").getDevToolBridge();a=new MessageChannel();var i=d("WACrossWorkerPortal").attachPortal(g,["backend"],x,c("pageID")),j=d("WACrossWorkerPortal").attachPortal(g,["devtool"],x,c("pageID"));d("WADevToolMessageChannel").onCreateNewChannel(function(a){i.setPort(a.port1)});j.setPort(a.port1);b("cr:2691")==null?void 0:b("cr:2691").connectAddonPort(a.port2);e.addListener(function(a,b){return g.fireAndForget("devtool","bridgeMessage",{direction:b==="outgoing"?"toWorker":"toMain",msg:a,ts:Date.now()},!0)})}return(h||(h=b("Promise"))).resolve(f)};g.MEDIA_TYPE_TO_ATTACHMENT_TYPE=r;g.initBridge=e}),98);
__d("MAWEARDecryptionError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="MawEARError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("MAWEncryptionErrorHandler",["FBLogger","LSPlatformErrorChannel","MAWEARDecryptionError","MAWSetupWorker","MWDeleteAllDBs","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){c("promiseDone")(c("MWDeleteAllDBs")("bridge"),function(a){},function(a){c("FBLogger")("mpf_web_foundations").catching(a).mustfix("fail to delete dbs")})}function a(a){c("promiseDone")(d("MAWSetupWorker").terminateWorker("EARDecryptionError"),function(a){h()},function(a){c("FBLogger")("mpf_web_foundations").catching(a).mustfix("[EARDecryptionError] fail to stop worker"),h()}),c("LSPlatformErrorChannel").emit(new(c("MAWEARDecryptionError"))("MAW DB Decryption Error in "+a+" table"))}function e(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield d("MAWSetupWorker").terminateWorker("MAWEARKeychainDecryptionError")}catch(a){c("FBLogger")("mpf_web_foundations").catching(a).mustfix("[MAWEARKeychainDecryptionError] fail to stop worker")}return c("MWDeleteAllDBs")("error")});return i.apply(this,arguments)}g.deleteAllDbs=a;g.deleteAllDbsWhenCorruptedEAR=e}),98);
__d("toMsgrUserJid",["MAWJids"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MAWJids").toUserJid}),98);
__d("MAWFetchContacts",["I64","LSContactTypeExact","LSIntEnum","MAWContactRelationshipType","ReQL","WAJids","asyncToGeneratorRuntime","requireDeferred","toMsgrUserJid"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWFetchContacts");function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield j.load());b=(yield b());var e=new Set(a.map(function(a){return d("WAJids").extractUserId(a)}));return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.contacts).filter(function(a){return e.has((h||(h=d("I64"))).to_string(a.id))})).then(function(a){return new Map(a.map(function(a){return[c("toMsgrUserJid")((h||(h=d("I64"))).to_string(a.id)),a]}))})});return l.apply(this,arguments)}function a(a){return k(a).then(function(a){var b=new Map();a.forEach(function(a,c){b.set(c,d("MAWContactRelationshipType").getContactRelationshipType(a))});return b})}function e(a){return k(a).then(function(a){var b=new Map();a.forEach(function(a,e){a=a.contactTypeExact!=null&&(h||(h=d("I64"))).equal(a.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB));b.set(e,a)});return b})}g.fetchContacts=k;g.fetchContactsRelationships=a;g.fetchContactsIsMsplit=e}),98);
__d("MAWSetupBridgeIsDbMigrating",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return function(b){b=b.status;switch(b){case!0:a({tag:"IsDbMigrating",value:!0});return;case!1:a({tag:"IsDbMigrating",value:!1});return}}};b=a;f["default"]=b}),66);
__d("MAWSetupBridgeOfflineSnapshot",["InteractionTracingMetrics","MAWMIC","MWChatInteraction","WAOfflineUtils","WATagsLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["WA infra offline connection lost"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats end: "," / ",", messages: "," / ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Progress: "," / ",", messages: "," / ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats start: ",", messages: ",""]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["ServerRPC","Offline"]);function m(a){d("MAWMIC").addIntAnnotation("offlineQueueSize",a);var b=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"offlineQueueSize",a)}a=function(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.downloaded,e=b.expected,f=b.status;b=b.timestamp;switch(f){case d("WAOfflineUtils").WAClientInfraOfflineProgress.Initializing:l.LOG(k(),e.count,e.message);m(e.count);a({tag:"InitOfflineQueueSyncStart",value:e.count});d("MAWMIC").markEvent("worker_download_offline_queue_start",b);return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Processing:l.LOG(j(),c.count,e.count,c.message,e.message);a({tag:"InitOfflineQueueSyncProgress",value:c.count});return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Complete:l.LOG(i(),c.count,e.count,c.message,e.message);d("MAWMIC").addIntAnnotation("offlineQueueDownloadedCount",c.count);a({tag:"InitOfflineQueueSyncProgress",value:e.count});d("MAWMIC").markEvent("worker_download_offline_queue_end",b);return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Failed:l.LOG(h());d("MAWMIC").markEvent("worker_download_offline_queue_connection_lost",b);return}});return function(a){return c.apply(this,arguments)}}()};e=a;g["default"]=e}),98);
__d("MAWSetupBridge",["LSDatabaseSingleton","LSInitSyncCompleteSubscription","MAWAbPropsClient","MAWBridgeReceivedChatStateHandler","MAWBridgeUIEventHandler","MAWCommonSetupBridge","MAWEncryptionErrorHandler","MAWFetchContacts","MAWGetEphemeralSettings","MAWSetupBridgeIsDbMigrating","MAWSetupBridgeOfflineConsumer","MAWSetupBridgeOfflineSnapshot","Promise","Run","Visibility","WAExceededStorageQuota","asyncToGeneratorRuntime","cr:3411","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("ArmadilloCutoverClientFalcoEvent").__setRef("MAWSetupBridge"),k=c("requireDeferred")("MAWBridgeUpdateDYIStatusV2").__setRef("MAWSetupBridge"),l=(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(d("LSInitSyncCompleteSubscription").use).then(function(){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton}),m=function(a){j.loadImmediately(function(b){b=b.log;return b(function(){return{armadillo_thread_id:a.armadilloThreadId,domain:a.domain,event:a.event,event_details:a.eventDetails,open_thread_id:a.openThreadId,success:a.success,trace_id:a.traceId}})})};function a(a){var e=a.dispatch,f=a.logout,g=a.reregisterDevice,i=a.rotateCryptoAuthToken,j=a.worker;function n(){j.postMessage({type:"force-flush-data"})}d("Run").onUnload(n);d("Run").onBeforeUnload(n,!1);c("Visibility").addListener(c("Visibility").HIDDEN,function(){j.postMessage({type:"force-flush-logs-only"})});return d("MAWCommonSetupBridge").initBridge({customizeEventHandlers:{abPropsUpdated:function(a){d("MAWAbPropsClient").rewrite(a.abProps)},earDecryptionFailure:function(a){d("MAWEncryptionErrorHandler").deleteAllDbs(a.tableName)},getLSDBEphemeralSetting:function(a){return d("MAWGetEphemeralSettings").getEphemeralSetting(a.chatJid)},getLSDBUsersIsMsplit:function(a){return d("MAWFetchContacts").fetchContactsIsMsplit(a.users)},getLSDBUsersRelationships:function(a){return d("MAWFetchContacts").fetchContactsRelationships(a.users)},isDbMigrating:c("MAWSetupBridgeIsDbMigrating")(e),logCutoverEvent:m,logout:f,offlineConsumerProgress:function(){return c("MAWSetupBridgeOfflineConsumer")(l,e).apply(void 0,arguments)},offlineSnapshot:c("MAWSetupBridgeOfflineSnapshot")(e),receivedChatState:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield l);yield b.runInTransaction(function(b){return d("MAWBridgeReceivedChatStateHandler").call(b,a)},"readwrite")});function c(b){return a.apply(this,arguments)}return c}(),reregisterDevice:g,resignCdnUrl:function(){return(h||(h=b("Promise"))).resolve()},rotateCryptoAuthToken:i,storageQuota:function(a){a=a.exceededStorageQuota;d("WAExceededStorageQuota").setExceededStorageQuota(a)},uiUpdate:function(a){a=a.events;e&&a.forEach(function(a){return e(a)});b("cr:3411")==null?void 0:b("cr:3411").recordBridgeUIEvent(a);d("MAWBridgeUIEventHandler").handleEvents(l,a)},updateDYIStatus:function(a){var b=a.qplInstanceKeyE2E,d=a.status;c("promiseDone")(k.load().then(function(a){return a.call({qplInstanceKeyE2E:b,status:d})}))}},worker:j})}g.setupBridge=a}),98);
__d("MAWClientConsistencyRefresh",["ClientConsistencyEventEmitter","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(c("CurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh",a);break;default:c("ClientConsistencyEventEmitter").emit("softRefresh",a)}}g["default"]=a}),98);
__d("MAWInit",["ExecutionEnvironment","MAWCurrentUser","MAWEBSwitch","MAWGetStorageQplAnnotations","MAWMIC","MWQPLJoinId","QPLUserFlow","QuickPerformanceLogger","WALogger","asyncToGeneratorRuntime","gkx","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to get storage info"]);j=function(){return a};return a}var k=c("qpl")._(25310776,"6155"),l=!1,m=[],n=[],o=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,a)||this;d.error=void 0;d.name="MAWInitError";d.message=a;d.error=c;return d}return a}(babelHelpers.wrapNativeSuper(Error)),p=!1;function q(){if(p)return;p=!0;c("QPLUserFlow").addAnnotations(k,{bool:{armadillo_init_sync_api_improvements:c("gkx")("24025"),is_eb_enabled:c("MAWEBSwitch").isEnabled(),isArmadilloPublicLaunchUser:c("gkx")("23405"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()}})}var r=!1,s=function(){return document.visibilityState!==void 0?document.visibilityState==="hidden":document.hidden},t=function(){u("visibility_change_"+(s()?"hidden":"visible"))};function a(){if(r)return;d("MAWMIC").markEvent("maw_init_start");r=!0;c("QPLUserFlow").start(k,babelHelpers["extends"]({annotations:{bool:{initiallyHidden:s()},string:{hostname:window.location.hostname}},cancelOnUnload:!0},d("MWQPLJoinId").allowJoinId?{joinID:d("MWQPLJoinId").MWQPLJoinId}:{},{onFlowTimeout:function(){l=!0,d("MAWMIC").addStringAnnotation("mawInitFailReason","timeout")},timeoutInMs:(h||(h=c("ExecutionEnvironment"))).canUseDOM?6e4:0}));void d("MAWGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){c("QPLUserFlow").addAnnotations(k,a)})["catch"](function(){d("WALogger").ERROR(j())});q();document.addEventListener("visibilitychange",t);m.forEach(function(a){return a()});n.forEach(function(a){return a()});m.splice(0,m.length);n.splice(0,n.length)}function u(a,b){if(!r||l){if(!r&&(b==null?void 0:b.allowEarlyLogPoints)){var d=(i||(i=c("QuickPerformanceLogger"))).currentTimestamp();n.push(function(){c("QPLUserFlow").addPoint(k,a,{timestamp:d})})}return}q();c("QPLUserFlow").addPoint(k,a)}function e(a,b,d){if(!r||l){!r&&(d==null?void 0:d.allowEarlyAnnotations)&&m.push(function(){var d;c("QPLUserFlow").addAnnotations(k,{bool:(d={},d[a]=b,d)})});return}c("QPLUserFlow").addAnnotations(k,{bool:(d={},d[a]=b,d)})}function f(a,b,d){if(!r||l){!r&&(d==null?void 0:d.allowEarlyAnnotations)&&m.push(function(){var d;c("QPLUserFlow").addAnnotations(k,{string:(d={},d[a]=b,d)})});return}c("QPLUserFlow").addAnnotations(k,{string:(d={},d[a]=b,d)})}function v(a,b,d){if(!r||l){!r&&(d==null?void 0:d.allowEarlyAnnotations)&&m.push(function(){var d;c("QPLUserFlow").addAnnotations(k,{"int":(d={},d[a]=b,d)})});return}c("QPLUserFlow").addAnnotations(k,{"int":(d={},d[a]=b,d)})}function w(){q(),l=!0,p=!1,document.removeEventListener("visibilitychange",t)}function x(a,b){w(),c("QPLUserFlow").addAnnotations(k,{string:{failReason:a}}),c("QPLUserFlow").endFailure(k,"maw_init_fail",{error:b}),d("MAWMIC").addStringAnnotation("mawInitFailReason",a),d("MAWMIC").fail("maw_init_failure",b)}function y(a,b){w(),c("QPLUserFlow").addAnnotations(k,{string:{cancelReason:a}}),b&&c("QPLUserFlow").markError(k,"maw_init_cancel_with_error",{error:b}),c("QPLUserFlow").endCancel(k),d("MAWMIC").addStringAnnotation("mawInitCancelReason",a),d("MAWMIC").cancel("maw_init_cancel",b)}function z(a){if(l)return;w();d("MAWMIC").addStringAnnotation("mawInitDropReason",a);(i||(i=c("QuickPerformanceLogger"))).markerDrop(k)}function A(){w(),c("QPLUserFlow").endSuccess(k),d("MAWMIC").markEvent("maw_init_end")}function B(a,b){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a+"_start";a=a+"_end";u(c);c=(yield b());u(a);return c});return C.apply(this,arguments)}e={addBoolAnnotation:e,addIntAnnotation:v,addStringAnnotation:f,cancel:y,drop:z,endSuccess:A,fail:x,logPoint:u,measurePerformance:B,start:a};g.MAWInitError=o;g.MAWInit=e}),98);
__d("XCometFBMultiSiteWebWorkerV2HasteResponseControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/webworker/rsrc/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("WebWorkerV2DynamicData",["Promise","XCometFBMultiSiteWebWorkerV2HasteResponseControllerRouteBuilder","cometAsyncFetchShared","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function a(a){var b=a.name,c=i.get(b);c==null&&(c=j(a),i.set(b,c));return c}function j(a){var d=a.name,e=a.v2HasteResponsePreloader;if(e==null)return k(d);var f=null;a=new(h||(h=b("Promise")))(function(a,b){e.onLoaded(function(b){b=b.data;f=b;a(b)}).onError(b)});return h.race([a,new h(function(a,b){window.setTimeout(function(){f==null?c("promiseDone")(k(d),a,b):a(f)},1e4)})])}function k(a){return c("cometAsyncFetchShared")(c("XCometFBMultiSiteWebWorkerV2HasteResponseControllerRouteBuilder").buildUri({worker_module:a}).toString(),{data:{},getFullPayload:!0,method:"POST",skipSRState:!0}).then(function(b){if(b!=null&&typeof b==="object"&&Object.prototype.hasOwnProperty.call(b,"hrp")&&typeof b.hrp==="object")return b;throw c("err")("Unexpected data from WorkerInitResourceDeliveryController for worker %s",a)})}g.readDynamicDataForWorker=a}),98);
__d("XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/webworker/init_script/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("supportsModuleWorker",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(a){if(h!=null)return h;if(h!=null)return h;if(c("UserAgent").isEngine("Blink")){h=a?c("UserAgent").isEngine("Blink > 83"):c("UserAgent").isEngine("Blink > 80.1");return h}if(c("UserAgent").isBrowser("Safari")){h=c("UserAgent").isBrowser("Safari > 14.9");return h}if(c("UserAgent").isBrowser("Firefox")){h=c("UserAgent").isBrowser("Firefox > 113");return h}if(c("UserAgent").isEngine("WebKit")){h=c("UserAgent").isEngine("WebKit > 606");return h}if(c("UserAgent").isBrowser("IE")){h=!1;return h}var b={get type(){h=!0}};try{a?new SharedWorker("blob://",b):new Worker("blob://",b)}finally{h=(a=h)!=null?a:!1;return h}}g["default"]=a}),98);
__d("waitForMAWWorkerCreated",["WAResolvable"],(function(a,b,c,d,e,f,g){"use strict";a=new(d("WAResolvable").Resolvable)();b=a.promise;g.resolvable=a;g.promise=b}),98);
__d("MAWSetupWorker",["CurrentUser","Deferred","IGDWebUtils","MAWClientConsistencyRefresh","MAWCommonSetupWorker","MAWCrossWorkerPortal","MAWInit","MAWLoggerUtils","MAWWebWorkerInstance","MAWWebWorkerSingleton","MAWWorkerWatchdog","MessengerIntent","Promise","SharedWorkerBundleResource","WATagsLogger","asyncToGeneratorRuntime","cr:6600","err","gkx","pageID","promiseDone","setTimeout","shouldUseMAWSharedWorker","waitForMAWWorkerCreated"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker terminating: for ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker doesn't exist, no need to terminate"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker setting up"]);k=function(){return a};return a}var l="testing",m=d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.WorkerSetup,d("MAWLoggerUtils").Tag.MAWInit]),n=d("IGDWebUtils").isInstagramWebSupportedApp(Number(c("CurrentUser").getAppID())),o=n?"IGDAWMainWorker":"MAWMainWorker",p=null,q=!1;function r(a){switch(a){case"mawInit":return!0;case"mawReinitSetupMutex":case"mawReinitReregDevice":case"watchdogRestart":case"workerUpgraded":return!1}}function s(e,f,g,h,i,j){var l;j===void 0&&(j=null);if(q)throw c("err")("Worker is permanently killed.");var n=function(){return s(e,f,g,h,"workerUpgraded")};d("MAWInit").MAWInit.logPoint("create_worker_start");(l=j)==null?void 0:l.sharedWorkerRestartAddPoint("create_worker_instance_start");d("MAWWebWorkerSingleton").setOnCloseForWorkerInstance(function(){t("createWorkerIfNone:onClose"),d("MAWInit").MAWInit.addBoolAnnotation("workerUpgraded",!0),c("promiseDone")(n())});l=d("MAWWebWorkerSingleton").createWorkerIfNone(i);var r=new(c("Deferred"))();p=r.getPromise();a=l;return a.then(function(a){var h;d("waitForMAWWorkerCreated").resolvable.resolve();d("MAWInit").MAWInit.logPoint("create_worker_end");(h=j)==null?void 0:h.sharedWorkerRestartAddPoint("create_worker_instance_end");if(a===null)throw c("err")("Client is starting bridge without a worker.");m.LOG(k());d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()&&a.addEventListener("message",function(a){var b;typeof a.data==="object"&&((b=a.data)==null?void 0:b.type)==="sw-shutdown"&&typeof a.data.response==="object"&&((b=a.data.response)==null?void 0:b.reason)==="maw-request-refresh"&&(d("MAWWorkerWatchdog").terminateWatchdog(),c("MAWClientConsistencyRefresh")("ls_forced_refresh"))});var i=new(d("MAWCommonSetupWorker").BridgeAdapter)(a,o);r.resolve(i);f(i);return d("MAWInit").MAWInit.measurePerformance("maw_init_worker",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=function(){return d("MAWCommonSetupWorker").initWorker(i,e,n,g)},b;!d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()||c("gkx")("290")?b=(yield i.fullyConnected.then(a)):b=(yield a());d("MessengerIntent").markWorkerReady();return b}))})}function e(a,b,e,f,g,h){h===void 0&&(h=null);if(p){var i;(i=h)==null?void 0:i.sharedWorkerRestartAddPoint("not_needed")}if(!p){i=s(a,b,e,f,g,h);r(g)&&d("MAWWorkerWatchdog").startWatchdog({initPageID:c("pageID"),onConnectToExistingWorker:e,onTerminateWorker:f,onWorkerReconnect:b,vaultMaterials:a});return i}return p}function t(a,b){b===void 0&&(b=!1);var e=a!==l;if(!p){e&&m.LOG(j());return!1}e&&m.LOG(i(),a);c("promiseDone")(p.then(function(a){return a==null?void 0:a.close()}));p=null;d("MAWCrossWorkerPortal").killPortalWhenWorkerTerminating();d("MAWWebWorkerInstance").destroyWorkerInstance();b&&d("MAWWorkerWatchdog").terminateWatchdog();return!0}function f(){t("terminateWorkerPermanently",!0),q=!0}function u(){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){t(l,!1)&&(yield x(45e3))});return v.apply(this,arguments)}function w(){return p}function x(a){return new(h||(h=b("Promise")))(function(b){return c("setTimeout")(b,a)})}function y(a){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("SharedWorkerBundleResource").terminateSharedWorker(b("cr:6600"),null,a?"maw-request-refresh":void 0)});return z.apply(this,arguments)}function A(a){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();b?yield y(!1):t(a,!0)});return B.apply(this,arguments)}g.getOrSetupWorker=e;g.terminateDedicatedWorker=t;g.terminateWorkerPermanently=f;g.killWorkerForTest=u;g.waitForWorkerSetupForTest=w;g.killSharedWorker=y;g.terminateWorker=A}),98);
__d("MAWSharedWorkerReboot",["MAWSetupWorker","ODS","Promise","WALogger","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["shared worker reconnection failed - ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Clear the shared worker reference in MAWSharedWorkerReboot"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["starting reconnection to shared worker"]);l=function(){return a};return a}function m(a){(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_shared_worker_reboot","shared_worker_reboot_"+a)}function a(a,b,c,d,e){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,i){d("WALogger").LOG(l());m("start");i.startSharedWorkerRestart();d("WALogger").LOG(k());c("gkx")("2496")?yield d("MAWSetupWorker").terminateWorker("MAWSharedWorkerReboot"):d("MAWSetupWorker").terminateDedicatedWorker("Clear the shared worker reference in MAWSharedWorkerReboot");return new(h||(h=b("Promise")))(function(b,c){return d("MAWSetupWorker").getOrSetupWorker(a,e,f,g,"watchdogRestart").then(function(a){m("success"),i.endSuccessSharedWorkerRestart(),e(a),b()})["catch"](function(a){d("WALogger").ERROR(j(),a.message),m("fail"),i.endFailureSharedWorkerRestart(a.message),c(a)})})});return n.apply(this,arguments)}g.rebootSharedWorker=a}),98);
__d("MessengerWaitForEvent",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){var e,f=d;return new(g||(g=b("Promise")))(function(b){f?e=function(){f.apply(this,arguments)&&b.apply(this,arguments)}:e=b,a==null?void 0:a.addEventListener==null?void 0:a.addEventListener(c,e)})["finally"](function(){a==null?void 0:a.removeEventListener==null?void 0:a.removeEventListener(c,e)})}f.waitForEvent=a}),66);
__d("LocalStorageMutex",["MessengerWaitForEvent","Promise","QPLUserFlow","err","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=1e3,k=c("qpl")._(1056847375,"584");a=function(){function a(a){var b=this,d=a.mutexKey,e=a.localTakeoverKey,f=a.log,g=a.logError,h=a.getStorage,i=a.setItemGuarded,k=a.mutexTimeoutMs;k=k===void 0?j:k;a=a.mutexTimeoutCallback;this.mutexFilter=function(a){if(a.key!==b.$1)return!1;a=a.newValue||"";return!a.includes(c("pageID"))};this.$1=d;this.$2=e;this.$5=h;this.$6=i;this.$3=f;this.$4=g;this.$7=k;this.$8=a}var e=a.prototype;e.init=function(){c("QPLUserFlow").start(k);this.$3("APPMUTEX - this tab is "+c("pageID"));var a=this.getMutex();if(a===c("pageID")){this.$3("APPMUTEX - WE ALREADY HAVE THE MUTEX LOCK WITHIN INIT");c("QPLUserFlow").endSuccess(k);return(h||(h=b("Promise"))).resolve(!0)}if(a!=null){this.$3("APPMUTEX - initiating localTAKEOVER");return this.localTakeover()}else{this.$3("APPMUTEX - NO1 ELSE IS ALIVE, GET THE MUTEX");a=this.$9(c("pageID"));var d=this.$10(c("pageID"));if(!a.success||!d.success){c("QPLUserFlow").addAnnotations(k,{bool:{setMutexResult:d.success,setTakeoverResult:a.success},string:{setMutexError:d.error,setTakeoverError:a.error}});c("QPLUserFlow").endFailure(k,"fail_to_set_takeover_or_mutex");return(h||(h=b("Promise"))).resolve(!1)}c("QPLUserFlow").endSuccess(k);return(h||(h=b("Promise"))).resolve(!0)}};e.localTakeover=function(){var a,e=this,f=this.$9(c("pageID"));if(!f.success){c("QPLUserFlow").addAnnotations(k,{string:{initTakeoverError:f.error}});c("QPLUserFlow").endFailure(k,"local_takeover_init_takeover_failure");return(h||(h=b("Promise"))).resolve(!1)}var g,i=function(){g!=null&&clearTimeout(g)};f=d("MessengerWaitForEvent").waitForEvent(window,"storage",this.mutexFilter);var l=(a=this.$7)!=null?a:j;return(h||(h=b("Promise"))).race([f,new h(function(a){g=setTimeout(function(){a()},l)}),this.$8?this.$8():new(h||(h=b("Promise")))(function(a){})]).then(function(a){if(a==null){e.$3("AppMutex - Forcefully took the mutex and takeover lock");var b=e.$9(c("pageID")),d=e.$10(c("pageID"));if(!b.success||!d.success){c("QPLUserFlow").addAnnotations(k,{string:{setMutexError:d.error,setTakeoverError:b.error}});c("QPLUserFlow").endFailure(k,"local_takeover_forcefully_takeover_failure");return!1}c("QPLUserFlow").endSuccess(k);return!0}e.$3("APPMUTEX - GOT MUTEX STORAGE EVENT CHANGE FROM ANOTHER TAB");d=e.$11(a.newValue);if(!d&&e.hasTakeoverPermission()){e.$3("APPMUTEX - setting mutex on localtakeover");b=e.$10(c("pageID"));if(!b.success){c("QPLUserFlow").addAnnotations(k,{string:{setMutexError:b.error}});c("QPLUserFlow").endFailure(k,"local_takeover_set_mutex_failure");return!1}c("QPLUserFlow").endSuccess(k);return!0}else{e.hasTakeoverPermission()&&e.$12();c("QPLUserFlow").endFailure(k,"local_takeover_no_takeover_permission");return!1}}).then(function(a){i();return a})["catch"](function(a){i();e.$4("AppMutex - localTakeover error no permission - "+a);c("QPLUserFlow").endFailure(k,"local_takeover_general_failure");return!1})};e.onMutexDeath=function(){var a=this.getMutex();a!=null&&a===c("pageID")&&(this.$3("APPMUTEX - removing mutex on death"),this.$13(),this.hasTakeoverPermission()&&this.$12())};e.takeoverFilter=function(a){if(a.key!==this.$2)return!1;a=a.newValue||"";return!a.includes(c("pageID"))};e.$14=function(){if(!i){var a=this.$5();if(!a)throw c("err")("Could not get localStorage");i=a}return i};e.getMutex=function(){i=this.$14();return i.getItem(this.$1)};e.$10=function(a){i=this.$14();return this.$6(i,this.$1,a)};e.$13=function(){i=this.$14(),i.removeItem(this.$1)};e.getTakeover=function(){i=this.$14();return i.getItem(this.$2)};e.$9=function(a){i=this.$14();return this.$6(i,this.$2,a)};e.$12=function(){i=this.$14(),i.removeItem(this.$2)};e.$11=function(a){return a!=null?a:""};e.hasTakeoverPermission=function(){var a=this.getTakeover();return a!=null&&a===c("pageID")};return a}();g.THIS_TAB=c("pageID");g.LocalStorageMutex=a}),98);
__d("MAWLocalStorage",["LocalStorageWrapper","MWLocalStorageErrorHandler","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["not storage found"]);h=function(){return a};return a}function i(a){d("WALogger").LOG([a])}function j(a){d("WALogger").ERROR([a])}function a(){return d("LocalStorageWrapper").getStorage(i)}function b(){return d("LocalStorageWrapper").isLocalStorageAvailable(i)}function c(a,b,c){return d("LocalStorageWrapper").setItemGuarded(a,b,c,j,d("MWLocalStorageErrorHandler").onQuotaExceeded)}function e(a,b){a==null?d("WALogger").ERROR(h()):a.removeItem(b)}g.getStorage=a;g.isLocalStorageAvailable=b;g.setItemGuarded=c;g.removeItemGuarded=e}),98);
__d("MAWAppMutex",["LocalStorageMutex","MAWLocalStorage","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h="armadillo_msgr_mutex",i="armadillo_msgr_local_takeover",j=null;function a(){j==null&&(j=new(d("LocalStorageMutex").LocalStorageMutex)({getStorage:d("MAWLocalStorage").getStorage,localTakeoverKey:i,log:function(a){d("WALogger").LOG([a])},logError:function(a){d("WALogger").ERROR([a])},mutexKey:h,setItemGuarded:d("MAWLocalStorage").setItemGuarded}));return j}g.MAW_MUTEX_KEY=h;g.MAW_LOCALTAKEOVER_KEY=i;g.use=a}),98);
__d("MAWIssueNewUserVisibleErrors",["fbt","$InternalEnum","LSDatabaseSingleton","LSFactory","LSIssueNewErrorStoredProcedure","LSRemoveErrorStoredProcedure","Promise","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,b,e,g){c("promiseDone")((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(d){return d.runInTransaction(function(d){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(d),{errorBodyText:a!=null?a.toString():void 0,errorExtraData:g,errorTitleText:b.toString(),presentationStyle:String(e)})},"readwrite",void 0,void 0,f.id+":36")}))}function k(a,b){return a.runInTransaction(function(a){return c("LSRemoveErrorStoredProcedure")(c("LSFactory")(a),{errorId:b})},"readwrite",void 0,void 0,f.id+":55")}function e(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton),c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.user_visible_errors)));yield (i||(i=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield k(a,b.errorId)});return function(a){return c.apply(this,arguments)}}()))})())}function l(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton),e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(c.tables.user_visible_errors)));yield (i||(i=b("Promise"))).all(e.map(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b.errorExtraData===a&&(yield k(c,b.errorId))});return function(a){return d.apply(this,arguments)}}()))})())}var m=b("$InternalEnum")({TOAST:"toast",BANNER:"banner"}),n=h._("__JHASH__GYf1KHsnFi8__JHASH__"),o=h._("__JHASH__sfKyyq_GmTy__JHASH__"),p=h._("__JHASH__GFcUdiCyJga__JHASH__"),q=h._("__JHASH__eNLW45dJwcf__JHASH__"),r=h._("__JHASH__ullHqmlWvhs__JHASH__");h=h._("__JHASH__1UM5NSCZCUv__JHASH__");var s=new Map([[n.toString(),n],[p.toString(),p]]),t=new Map([[o.toString(),o],[q.toString(),q]]);g.issueError=a;g.deleteUserVisibleError=k;g.deleteAllErrors=e;g.deleteUserVisibleErrorByJSErrorMessage=l;g.MAWUserVisibleErrorPresentationType=m;g.MAWGeneralErrorMsgTitle=n;g.MAWGeneralErrorMsgBody=o;g.MAWLegacyUserErrorMsgTitle=p;g.MAWLegacyUserErrorMsgBody=q;g.MAWUnsupportedIndexedDBErrorMsgTitle=r;g.MAWUnsupportedIndexedDBErrorMsg=h;g.errorMsgTitleToFbtMap=s;g.errorMsgBodyToFbtMap=t}),226);
__d("MWTabCommunicationChannel",["MAWLocalStorage"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof window!=="undefined"?window:self;function i(a){var b=d("MAWLocalStorage").getStorage(),c=function(c){d("MAWLocalStorage").setItemGuarded(b,a,JSON.stringify(c))},e=function(c){window.removeEventListener("storage",c),d("MAWLocalStorage").removeItemGuarded(b,a)},f=function(a){window.addEventListener("storage",a)},g=function(b){return b!=null&&b.key===a&&typeof b.newValue==="string"?JSON.parse(b.newValue):null};return{getMessage:g,onRequestReceived:function(a){var b=function(b){b=g(b);b!=null&&a(b)};f(b);return{release:function(){e(b)}}},sendMessage:c,stopWaitingForReply:e,waitForReply:f}}function j(a){var b=new h.BroadcastChannel(a),c=new Set();b.addEventListener("message",function(a){c.forEach(function(b){b(a)})});var d=function(a){c.add(a)},e=function(a){c["delete"](a)};a=function(a){b.postMessage(JSON.stringify(a))};var f=function(a){return a!=null&&typeof a.data==="string"?JSON.parse(a.data):null};return{getMessage:f,onRequestReceived:function(a){var b=function(b){b=f(b);b!=null&&a(b)};d(b);return{release:function(){e(b)}}},sendMessage:a,stopWaitingForReply:e,waitForReply:d}}function a(a){return h.BroadcastChannel!=null?j(a):i(a)}g.getChannel=a}),98);
__d("MWTabCommunication",["MWTabCommunicationChannel","Promise","clearTimeout","pageID","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b){var c=this;this.$2=null;this.$5=function(a){a=c.$4.getMessage(a);a!=null&&a.a==="sb"&&a.t!==c.tabID()&&a.r===c.tabID()&&a.k!=null&&(c.$2&&c.$2(a.k),c.$4.stopWaitingForReply(c.$5),c.$2=null)};this.$1=a;this.$3=b!=null?b:500;this.$4=d("MWTabCommunicationChannel").getChannel(a)}var e=a.prototype;e.tabID=function(){return c("pageID")};e.$6=function(){var a={a:"r",t:this.tabID()};this.$4.sendMessage(a)};e.listenToRequest=function(a){return this.listenToRequestAsync(function(){return(h||(h=b("Promise"))).resolve(a())})};e.listenToRequestAsync=function(a){var b=this,d=function(d){d.a==="r"&&d.t!==b.tabID()&&c("promiseDone")(a().then(function(a){a={a:"sb",k:a,r:d.t,t:b.tabID()};b.$4.sendMessage(a)}))};return this.$4.onRequestReceived(d)};e.$7=function(){var a=this;return new(h||(h=b("Promise")))(function(b){a.$2=b,a.$4.waitForReply(a.$5),a.$6()})};e.request=function(a,d){var e=this,f,g=function(){f!=null&&c("clearTimeout")(f)};return(h||(h=b("Promise"))).race([this.$7().then(function(b){e.$4.stopWaitingForReply(e.$5);return a(b)}),new h(function(a){f=c("setTimeout")(function(){a(d()),e.$4.stopWaitingForReply(e.$5)},e.$3)})]).then(function(a){g();return a})};return a}();g.MWTabCommunication=a}),98);
__d("MAWVaultMaterialsStorage",["BrowserLockManager","FBLogger","MAWVaultMaterials","MWTabCommunication","Promise","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_vaulting_materials_lock";e="mw_exchange_vm";var j=new(d("MWTabCommunication").MWTabCommunication)(e);function k(){var a=function(a){return d("MAWVaultMaterials").fromStringToMaterials(a)};return j.request(a,function(){}).then(function(a){return d("MAWVaultMaterials").initializeVaultMaterials(a)})}function l(){if(c("BrowserLockManager")!=null)return new(h||(h=b("Promise")))(function(a,e){c("BrowserLockManager").request(i,{ifAvailable:!0},function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(e==null){c("promiseDone")(c("BrowserLockManager").request(i,function(){return new(h||(h=b("Promise")))(function(){})}));e=(yield k());a(e);return}a(d("MAWVaultMaterials").initializeVaultMaterials());return new(h||(h=b("Promise")))(function(){})});return function(a){return e.apply(this,arguments)}}())["catch"](function(a){e(a)})});else{c("FBLogger")("mpf_web_foundations").info("navigator.locks is not available, using fallback");return k()}}function a(){if(d("MAWVaultMaterials").hasVaultBeenSetup())return(h||(h=b("Promise"))).resolve(d("MAWVaultMaterials").getVaultMaterials());var a=l();j.listenToRequestAsync(function(){return a.then(function(){return d("MAWVaultMaterials").materialsToString()})});return a}g.setupVaultMaterials=a}),98);
__d("MAWCommonBackendSetup",["EARInitType","FBLogger","MAWAppMutex","MAWEncyptionIndexedDbV2","MAWInit","MAWIssueNewUserVisibleErrors","MAWLocalStorage","MAWVaultMaterialsStorage","MWSetupDBEncryption","Promise","asyncToGeneratorRuntime","requireDeferred","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MAWMainThreadLogger").__setRef("MAWCommonBackendSetup");function a(a,b,c,d,e,f){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j,k){yield e.start();e.logPoint("setup_armadillo_backend");i.onReadyImmediately(function(a){a=a.setupMainWaLogger;return a()});var l=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();yield e.measurePerformance("detection_support",function(){if(l)return(h||(h=b("Promise"))).resolve();var a=d("MAWLocalStorage").isLocalStorageAvailable();if(!a)throw new(d("MAWInit").MAWInitError)("localstorage_not_supported");return(h||(h=b("Promise"))).resolve()});var m=e.measurePerformance("setup_vault_materials",function(){return d("MAWVaultMaterialsStorage").setupVaultMaterials()}),n=(yield e.measurePerformance("acquire_mutex",function(){try{var a=d("MAWAppMutex").use().init();return l?a.then(function(a){a!==!0&&c("FBLogger")("messenger_e2ee_web").warn("Shared worker mutex init failed -- returning success");return(h||(h=b("Promise"))).resolve(!0)},function(a){var d;c("FBLogger")("messenger_e2ee_web").warn("Shared worker mutex init error -- %s",(d=a.message)!=null?d:String(a));return(h||(h=b("Promise"))).resolve(!0)}):a}catch(d){if(l){c("FBLogger")("messenger_e2ee_web").warn("Shared worker mutex error -- %s",(a=d.message)!=null?a:String(d));return(h||(h=b("Promise"))).resolve(!0)}throw d}})),o=(yield e.measurePerformance("ear_db_setup",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("MWSetupDBEncryption").setPerformanceMeasurementTool(d("MAWInit").MAWInit.measurePerformance);var a=(yield d("MWSetupDBEncryption").init(c("EARInitType").MAW_INIT));d("MAWEncyptionIndexedDbV2").maybeSetEncryptionDbOnVersionChange(function(){var a;(a=d("MAWIssueNewUserVisibleErrors")).issueError(a.MAWLegacyUserErrorMsgBody,a.MAWLegacyUserErrorMsgTitle,a.MAWUserVisibleErrorPresentationType.BANNER)});return a})));if(!o.success){e.logPoint("keychain_setup_failure");throw new(d("MAWInit").MAWInitError)("keychain_setup_failure",o.payload)}if(!n){e.logPoint("maw_appmutex_no_permission");throw new(d("MAWInit").MAWInitError)("maw_appmutex_no_permission")}var p=(yield m);yield e.measurePerformance("setup_worker",function(){return a(p,f,g,j,k)})});return j.apply(this,arguments)}g.setupArmadilloBackend=a}),98);
__d("MAWCatQuery.graphql",["cr:11203"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:11203")}),null);
__d("MAWCatQuery",["MAWCatQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("MAWCatQuery.graphql");c=a;g["default"]=c}),98);
__d("MAWCryptoAuthToken",["FBLogger","MAWCatQuery","RelayHooks"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null||a.secure_message_over_wa_cat_query==null||a.secure_message_over_wa_cat_query.encrypted_serialized_cat==null||a.secure_message_over_wa_cat_query.expiration_time_in_seconds==null?{error:"Crypto Auth Token was null or incomplete"}:{success:{encrypted_serialized_cat:a.secure_message_over_wa_cat_query.encrypted_serialized_cat,expiration_time_in_seconds:a.secure_message_over_wa_cat_query.expiration_time_in_seconds}}}function a(a){return d("RelayHooks").fetchQuery(a,c("MAWCatQuery"),{}).toPromise().then(h).then(function(a){if(a.error!==null&&a.error!==void 0)throw c("FBLogger")("mpf_web_foundations").mustfixThrow("[MAWCryptoAuthToken] Error while fetching CAT from GraphQL: %s",a.error);return a.success})}g.fetchFreshCAT=a}),98);
__d("MAWRestoreRewriteUtils",["qex"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return c("qex")._("656")===!0};g.isOneDBEnabled=a}),98);
__d("MAWStateContext.react",["EncryptedBackupsDYITypes","MAWSharedProtocolQueueConst","err","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=i.createContext,k=i.useCallback,l=i.useContext,m=i.useEffect,n=i.useRef,o=i.useState;i={ebDYIState:d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.NotStarted,eBInitialThreadsRestoreStatus:{},ephemeralSettings:{},isDbMigrating:!1,messageLatencies:{},offlineQueueCount:0,offlineQueueProgressDownloaded:0,offlineQueueProgressProcessed:0,offlineQueueSyncState:d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing,offlineQueueThreadStatus:{},unArchivedSelfDeviceChangeAlerts:0};function a(){var a=l(q)(),b=a.dispatch;return k(function(a,c){c===void 0&&(c=Date.now()),b({optimisticMsgId:a,tag:"OptimisticSendMessage",timestamp:c})},[b])}function b(){var a=l(r),b=a.dispatch;return k(function(){b({tag:"ClearEphemeralSettings"})},[b])}function e(){var a=l(r),b=a.dispatch;return k(function(a){b({tag:"eBInitialThreadsRestoreStatus",value:a})},[b])}var p={dispatch:function(a){throw c("err")("MAW Dispatch not implemented")},state:i,subscriptions:new Set()},q=j(function(){return p}),r=j(p);function f(a){var b=l(q)(),c=b.state,d=b.subscriptions;b=o(function(){return a(c)});var e=b[0],f=b[1],g=n(e);m(function(){var b=function(b){b=a(b);b!==g.current&&(g.current=b,f(b))};d.add(b);return function(){d["delete"](b)}},[d,a]);return e}g.initialState=i;g.useDispatchOptimisticSendMessage=a;g.useDispatchClearEphemeralSettings=b;g.useDispatchEBInitialThreadsRestoreStatus=e;g.MAWNonRerenderingStateContext=q;g.MAWStateContext=r;g.useMAWSelector=f}),98);
__d("XPlatRelayEnvironment",["CometRelayEnvironment","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw c("err")("RelayEnvironment is already set")}function b(){return c("CometRelayEnvironment")}g.setRelayEnvironment=a;g.getRelayEnvironment=b}),98);
__d("useMWEncryptedBackupsProcessBackupIdsDeferred",["promiseDone","react","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=c("requireDeferred")("MWEncryptedBackupsProcessBackupIds").__setRef("useMWEncryptedBackupsProcessBackupIdsDeferred");function a(a){var b=c("useAsyncReStore")();i(function(){var d,e=!1;j.onReadyImmediately(function(f){c("promiseDone")(b,function(b){e||(d=f.subscribeToEncryptedBackupsRow(b,a))})});return function(){e=!0,d==null?void 0:d()}},[b,a])}g["default"]=a}),98);
__d("MAWCommonSetup",["InteractionTracingMetrics","MAWBridge","MAWBridgeFireAndForget","MAWCommonBackendSetup","MAWCryptoAuthToken","MAWEARKeychainDecryptionError","MAWEncryptedBackupsStateManager","MAWInit","MAWIssueNewUserVisibleErrors","MAWJobDefinitions","MAWMIC","MAWMICSafe","MAWRestoreRewriteUtils","MAWSetupUtils","MAWStateContext.react","MAWUIJob","MAWWaitForBackendSetup","MWChatInteraction","Promise","WABridge","WADynamicRouterSync","WAJobOrchestratorTypes","XPlatRelayEnvironment","asyncToGeneratorRuntime","getErrorSafe","gkx","performance","promiseDone","qex","react","requireDeferred","useMWEncryptedBackupsProcessBackupIdsDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;f=j||d("react");var k=f.useContext,l=f.useEffect,m=c("requireDeferred")("FBLogger").__setRef("MAWCommonSetup"),n=!1,o=null,p=null,q=function(){return(i||(i=c("performance"))).now()},r=function(a){d("MAWEncryptedBackupsStateManager").setEncryptedBackupsState(a),d("MAWBridgeFireAndForget").fireAndForget("backend","setEncryptedBackupsState",{newState:a})};function a(a){var b=k(d("MAWStateContext.react").MAWStateContext),e=b.dispatch,f=d("MAWSetupUtils").useIsIDBOperational();l(function(){f&&c("promiseDone")(z({dispatch:e,fromReact:!0,platformSetupUtils:a}))},[a,e,f]);c("useMWEncryptedBackupsProcessBackupIdsDeferred")(r)}var s,t=new(h||(h=b("Promise")))(function(a){s=function(c){a(c),c.onmessage=function(a){return u.onmessage==null?void 0:u.onmessage(a)},s=function(a){a.onmessage=function(a){return u.onmessage==null?void 0:u.onmessage(a)},t=(h||(h=b("Promise"))).resolve(a)}}}),u={onmessage:null,postMessage:function(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield t);b.postMessage(a)})())}},v=[],w=[];function x(){var a=o;if(a!=null)while(w.length>0)a(w.shift());a=p;if(a!=null)while(v.length>0){var b=v.shift();switch(b){case"logout":a.logout();break;case"reregisterDevice":a.reregisterDevice();break;default:b}}}function e(a){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("MAWSetupUtils").isIDBOperational(!0));if(!b)return;b=function(a){x(),o!=null?o(a):w.push(a)};a=babelHelpers["extends"]({},a,{logout:function(){v.push("logout")},reregisterDevice:function(){v.push("reregisterDevice")},rotateCryptoAuthToken:function(){return d("MAWCryptoAuthToken").fetchFreshCAT(d("XPlatRelayEnvironment").getRelayEnvironment())}});return z({dispatch:b,fromReact:!1,platformSetupUtils:a})});return y.apply(this,arguments)}function z(a){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.dispatch,e=a.fromReact;a=a.platformSetupUtils;e&&(o=b,p=a,x());if(n)return;n=!0;yield d("MAWMIC").startMAWMICFlow();d("MAWMIC").addStringAnnotation("entrypoint",e?"react":"preload");d("MAWInit").MAWInit.addStringAnnotation("entrypoint",e?"react":"preload",{allowEarlyAnnotations:!0});d("WABridge").makeWABridge(new(d("WADynamicRouterSync").DynamicRouterSync)());try{d("MAWIssueNewUserVisibleErrors").deleteAllErrors();e=a.getOrSetupWorker;var f=a.logout,g=a.reregisterDevice,h=a.rotateCryptoAuthToken,i=a.setupBridge;yield d("MAWCommonBackendSetup").setupArmadilloBackend(e,d("MAWInit").MAWInit,function(a){var d={close:function(){},onmessage:null,postMessage:function(b){return a.postMessage(b)}},e={close:function(){return a.close()},onmessage:null,postMessage:function(b){return a.postMessage(b)}};s==null?void 0:s(d);a.onmessage=function(a){d.onmessage==null?void 0:d.onmessage(a),e.onmessage==null?void 0:e.onmessage(a)};c("promiseDone")(i({dispatch:b,logout:f,reregisterDevice:g,rotateCryptoAuthToken:h,worker:e}))},function(){b({tag:"InitOfflineQueueSyncComplete",value:void 0}),b({tag:"IsDbMigrating",value:!1}),d("MAWMIC").endSuccess(!0)},function(){b({tag:"InitOfflineQueueSyncComplete",value:void 0}),b({tag:"IsDbMigrating",value:!1})},"mawInit");d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.handleFutureproofMsg({priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW}));d("MAWInit").MAWInit.addIntAnnotation("endTimePageRelative",q());d("MAWInit").MAWInit.endSuccess();!d("MAWRestoreRewriteUtils").isOneDBEnabled()&&c("qex")._("736")!==!0&&!c("gkx")("23906")&&c("promiseDone")(d("MAWBridge").getBridge().sendAndReceive("backend","getSecureThreadTotalCount"),function(a){d("MAWMICSafe").addIntAnnotation("totalSecureThreadCount",a);var b=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"totalSecureThreadCount",a)});d("MAWWaitForBackendSetup").resolveBackendSetup()}catch(b){var j=c("getErrorSafe")(b);j.message=(a=j.message)!=null?a:"Unknown";e=j.message==="maw_appmutex_no_permission"&&document.visibilityState!=="visible";e?d("MAWInit").MAWInit.cancel(j.message,j):(d("MAWWaitForBackendSetup").rejectBackendSetup(j),d("MAWInit").MAWInit.fail(j.message,j));d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER,c("gkx")("218")&&j instanceof d("MAWInit").MAWInitError&&j.error instanceof c("MAWEARKeychainDecryptionError")?"MAWEARKeychainDecryptionError":j.message);void m.load().then(function(a){j&&a("messenger_e2ee_web").catching(j).mustfix("MAW backend setup failed -- %s",j.message)});throw j}});return A.apply(this,arguments)}g.useArmadillo=a;g.workerProxy=u;g.setupArmadilloWithoutReact=e}),98);
__d("WebWorkerV2Resource",["TrustedTypesWebWorkerScriptURLPolicy","WebWorkerV2DynamicData","XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder","forEachObject","getAsyncParamsFromCurrentPageURI","getWorkerInitScriptSPINParams","nullthrows","promiseDone","supportsModuleWorker"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=(b=b)!=null?b:a.name;var e=c("supportsModuleWorker")(!1)?"module":"classic",f=c("getWorkerInitScriptSPINParams")();c("forEachObject")(c("getAsyncParamsFromCurrentPageURI")(),function(a,b){f.set(b,a)});var g=c("nullthrows")(c("XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder").buildUri({worker_type:c("supportsModuleWorker")(!1)?"MODULE":"CLASSIC"}).addQueryParams(f)).toString(),h=new Worker(c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(g),{name:b,type:e});c("promiseDone")(d("WebWorkerV2DynamicData").readDynamicDataForWorker(a).then(function(a){h.postMessage({type:"ww-hrp-init",hrp:a.hrp,js_env:a.js_env,is_dev:!1,tiered:!0})}));return h}g.createDedicatedV2WebWorker=a}),98);
__d("MAWWebWorkerSingleton",["FBLogger","MAWCommonSetup","MAWInit","MAWMICSafe","MAWSetupBridge","MAWSetupWorker","MAWWebWorkerInstance","Promise","SharedWorkerBundleResource","WAResolvable","WebWorkerV2Resource","cr:6600","err","gkx","promiseDone","setTimeout","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MAWWebWorkerInstance").destroyWorkerInstance,j=new(d("WAResolvable").Resolvable)();function k(a,b){c("FBLogger")("messenger_e2ee_web").mustfix("[MAWWebWorkerSingletonAsync Script Import Error: "+a+"]: %s:%s:%s:%s",JSON.stringify(b==null?void 0:b.message),b==null?void 0:b.lineno,b==null?void 0:b.colno,b==null?void 0:b.filename),d("MAWInit").MAWInit.fail("import_scripts_failure")}function l(a,b){var d;d=(d=b==null?void 0:b.message)!=null?d:"";if(d.indexOf("Failed to execute 'importScripts'")>=0){k(a,b);return}c("FBLogger")("messenger_e2ee_web").mustfix("[MAWWebWorkerSingletonAsync: "+a+"]: %s:%s:%s:%s",JSON.stringify(b==null?void 0:b.message),b==null?void 0:b.lineno,b==null?void 0:b.colno,b==null?void 0:b.filename)}function m(a){var b=a.data.annotations;if(b!=null){var e={allowEarlyAnnotations:!0};Object.keys(b).forEach(function(a){var c;c=(c=b[a])!=null?c:{};Object.entries(c).forEach(function(b){var c=b[0];b=b[1];c="sharedWorkerInit"+c.charAt(0).toUpperCase()+c.substring(1);a==="int"&&typeof b==="number"?d("MAWInit").MAWInit.addIntAnnotation(c,b,e):a==="string"&&typeof b==="string"?d("MAWInit").MAWInit.addStringAnnotation(c,b,e):a==="bool"&&typeof b==="boolean"&&d("MAWInit").MAWInit.addBoolAnnotation(c,b,e)})})}var f={allowEarlyLogPoints:!0};switch(a.type){case"start":d("MAWInit").MAWInit.logPoint("shared_worker_init_start",f);break;case"end":var g;g=(g=a.data)==null?void 0:g.errorName;g!=null?d("MAWInit").MAWInit.fail("shared_worker_init_failure",c("err")(g)):d("MAWInit").MAWInit.logPoint("shared_worker_init_end",f);break;case"point":g="shared_worker_init_"+a.data.event;d("MAWInit").MAWInit.logPoint(g,f);break}}function n(a,e){e===void 0&&(e=0);var f=d("MAWWebWorkerInstance").getWorkerInstancePromise();if(!f){d("MAWMICSafe").markEvent("maw_worker_create_start");var g=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();o();if(g){g=d("SharedWorkerBundleResource").createPushSafeSharedWebWorkerV2Async;f=g(b("cr:6600"),function(){c("promiseDone")(j.promise.then(function(){return i()}))},{onQPLEvent:m,reason:a}).then(function(a){a.addEventListener("error",function(a){return l("Shared Worker",a)});return a.port},function(a){if(a instanceof d("SharedWorkerBundleResource").SelfTerminationError&&e<2){d("MAWWebWorkerInstance").destroyWorkerInstance();return new(h||(h=b("Promise")))(function(a,b){c("setTimeout")(function(){c("promiseDone")(n("selfTerminatedRestart",e+1),a,b)},e===0?200:500)})}throw a})}else{var k=c("gkx")("24003");f=(h||(h=b("Promise"))).resolve(d("WebWorkerV2Resource").createDedicatedV2WebWorker(b("cr:6600"))).then(function(a){a.onerror=function(a){return l("Dedicated Worker",a)};if(k){var b=function b(d){d=d==null?void 0:d.data;if(typeof d==="object")if((d==null?void 0:d.type)==="importScripts_error"){a.removeEventListener("message",b);var e=c("FBLogger")("messenger_e2ee_web");if((d==null?void 0:d.stack)!=null){var f;e=e.addMetadata("FBLOGGER","ERROR_STACK",(f=typeof (d==null?void 0:d.stack)==="string"?d==null?void 0:d.stack:JSON.stringify(d==null?void 0:d.stack))!=null?f:"no_stack")}f=(f=d==null?void 0:d.perfEntry)!=null?f:{};var g=f.duration,h=f.encodedBodySize,i=f.responseStatus;f=f.transferSize;e.mustfix("[MAWWebWorkerSingletonAsync Script Import Error Details]: %s:%s:%s || errCode:%s || respStatus:%s || encBodySize:%s || duration:%s || transferSize:%s",(d==null?void 0:d.source)!=null&&JSON.stringify(d==null?void 0:d.source)||"no_source",(d==null?void 0:d.error_name)!=null&&JSON.stringify(d==null?void 0:d.error_name)||"no_name",(d==null?void 0:d.error_msg)!=null&&JSON.stringify(d==null?void 0:d.error_msg)||"no_msg",(d==null?void 0:d.error_code)!=null&&JSON.stringify(d==null?void 0:d.error_code)||"no_error_code",(e=JSON.stringify(i))!=null?e:"none",(i=JSON.stringify(h))!=null?i:"none",(e=JSON.stringify(g))!=null?e:"none",(h=JSON.stringify(f))!=null?h:"none")}else(d==null?void 0:d.type)==="importScripts_success"&&a.removeEventListener("message",b)};a.addEventListener("message",b)}return a})}f=f.then(function(a){d("MAWMICSafe").markEvent("maw_worker_create_end");return a})}d("MAWWebWorkerInstance").setWorkerInstancePromise(f);return f}function a(){var a={doesWorkerExist:d("MAWWebWorkerInstance").doesWorkerExist,getOrSetupWorker:d("MAWSetupWorker").getOrSetupWorker,setupBridge:d("MAWSetupBridge").setupBridge,terminateWorker:d("MAWSetupWorker").terminateDedicatedWorker,terminateWorkerPermanently:d("MAWSetupWorker").terminateWorkerPermanently};return d("MAWCommonSetup").setupArmadilloWithoutReact(a)}function e(a){i=a,j.resolve()}function o(){}g.createWorkerIfNone=n;g.setupArmadilloForComet=a;g.setOnCloseForWorkerInstance=e}),98);
__d("MAWWorkerBadStateRecovery",["HiddenTabDataUtils","QPLUserFlow","performanceNow","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(1056840252,"808"),j=0;function a(){var a=j++,b;function e(e,f){var g=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();b=(h||(h=c("performanceNow")))();var j=d("HiddenTabDataUtils").getHiddenTabDataForTimeInterval(0,b);c("QPLUserFlow").start(i,{annotations:{bool:{isSharedWorker:g,wasHiddenBefore:j.wasHidden(),wasHiddenOnStart:j.isHidden()},"int":{lastTimeHiddenBefore:j.lastTimeHidden(),successfulHeartbeatsBefore:f,totalHiddenTimeBefore:j.totalHiddenTime()},string:{trigger:"heartbeat_timeout",workerInitPageID:e}},instanceKey:a});g||c("QPLUserFlow").endFailure(i,"recovery_not_supported",{instanceKey:a})}function f(d){if(b==null)return;var e=p(b);c("QPLUserFlow").addPoint(i,"shared_worker_restart_"+d,{instanceKey:a});c("QPLUserFlow").addAnnotations(i,e,{instanceKey:a})}function g(){f("start")}function k(){f("success")}function l(d){if(b==null)return;var e=p(b);f("fail");c("QPLUserFlow").addAnnotations(i,babelHelpers["extends"]({},e,{string:{sharedWorkerRestartFailureReason:d}}),{instanceKey:a})}function m(d){if(b==null)return;var e=p(b);c("QPLUserFlow").addPoint(i,"heartbeat_still_fails",{instanceKey:a});c("QPLUserFlow").addAnnotations(i,babelHelpers["extends"]({},e,{string:{recentHeartbeatFailureReason:d}}),{instanceKey:a})}function n(d){if(b==null)return;var e=p(b);c("QPLUserFlow").endFailure(i,d,{annotations:e,instanceKey:a})}function o(){if(b==null)return;var d=p(b);c("QPLUserFlow").endSuccess(i,{annotations:d,instanceKey:a})}function p(a){a=d("HiddenTabDataUtils").getHiddenTabDataForTimeInterval(a,(h||(h=c("performanceNow")))());return{bool:{wasHiddenDuringRecovery:a.wasHidden(),wasHiddenOnRecoveryEnd:a.isHidden()},"int":{lastTimeHiddenDuringRecovery:a.lastTimeHidden(),totalHiddenTimeDuringRecovery:a.totalHiddenTime()}}}return{endFailure:n,endFailureSharedWorkerRestart:l,endSuccess:o,endSuccessSharedWorkerRestart:k,postRestartHeartbeatsFailed:m,sharedWorkerRestartAddPoint:f,start:e,startSharedWorkerRestart:g}}g.buildWorkerBadStateRecoveryQPLLogger=a}),98);
__d("MAWWorkerWatchdog",["CurrentUser","MAWBridgeLoggingUtils","MAWBridgeSendAndReceive","MAWIssueNewUserVisibleErrors","MAWSharedWorkerReboot","MAWWaitForBackendSetup","MAWWorkerBadStateRecovery","Promise","clearInterval","err","gkx","justknobx","promiseDone","setInterval","setTimeout","shouldUseMAWSharedWorker","vc-tracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("24001"),j=c("justknobx")._("1008"),k=c("justknobx")._("1369"),l=k/2,m=!1,n=!1,o=function(){},p=0;function a(){return n}function q(){if(!n||!i)return;o();n=!1}function r(a,b){m=!1;return d("MAWSharedWorkerReboot").rebootSharedWorker(a.vaultMaterials,a.onWorkerReconnect,a.onConnectToExistingWorker,a.onTerminateWorker,b)}function s(a){var b;(b=d("MAWIssueNewUserVisibleErrors")).issueError(b.MAWGeneralErrorMsgBody,b.MAWGeneralErrorMsgTitle,b.MAWUserVisibleErrorPresentationType.BANNER);return c("err")("Cannot recover the worker: "+a)}function t(){return(h||(h=b("Promise"))).race([d("MAWBridgeSendAndReceive").sendAndReceive("backend",d("MAWBridgeLoggingUtils").HEARTBEAT_ROUTE),new h(function(a,b){c("setTimeout")(function(){b(c("err")("Armadillo web worker heartbeat timed out."))},l)})]).then(function(a){return a===!0},function(a){return!1})}function u(){var a=null;return new(h||(h=b("Promise")))(function(b,e){var f=c("setInterval")(function(){c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend",d("MAWBridgeLoggingUtils").HEARTBEAT_ROUTE).then(function(d){d?(c("clearInterval")(f),b()):a="Wrong heartbeat result: "+d.toString()},function(b){a="Heartbeat failure: "+b.message}))},k);c("setTimeout")(function(){var b;c("clearInterval")(f);e(c("err")((b=a)!=null?b:"Did not get heartbeat response on time"))},j)})}function v(a,e){return new(h||(h=b("Promise")))(function(b,f){var g=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();g||f(s("Worker recovery is supported for shared worker only."));c("CurrentUser").isLoggedInNow()||f(s("User is not logged in, aborting recovery"));return r(a,e).then(function(){return u()},function(a){e.endFailureSharedWorkerRestart(a.message),f(s(a.message))}).then(function(){return b()},function(a){e.postRestartHeartbeatsFailed(a.message),f(s(a.message))})})}function w(){var a=c("vc-tracker").performanceNow();return c("vc-tracker").VisibilityState.wasHidden(a-1,a)}function e(a){if(n||!i)return;var b=c("setInterval")(function(){if(!m||w())return;c("promiseDone")(t(),function(b){if(!b){d("MAWBridgeLoggingUtils").logRecentBridgeEvents();var e=d("MAWWorkerBadStateRecovery").buildWorkerBadStateRecoveryQPLLogger();e.start(a.initPageID,p);c("promiseDone")(v(a,e),function(){e.endSuccess(),m=!0},function(a){e.endFailure(a.message),q()})}else p++})},k);d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){m=!0},d("MAWBridgeLoggingUtils").HEARTBEAT_ROUTE);o=function(){a.onTerminateWorker(),c("clearInterval")(b)};n=!0}g.isWatchdogRunning=a;g.terminateWatchdog=q;g.startWatchdog=e}),98);
__d("MAWGetDBVersionForTest",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(!c("justknobx")._("1495"))return;var a=new URL(document.location.href);a=a.searchParams.get("db_version");if(a==null)return;if(a==="current"||a==="latest")return a;a=parseInt(a,10);if(Number.isInteger(a))return Number(a)}function b(){if(!c("gkx")("1159"))return;var a=new URL(document.location.href);a=a.searchParams.get("db_migration_state");if(a!=null&&(a==="dexie"||a==="restore"))return a}g.getDbVersionForTest=a;g.getDbMigrationState=b}),98);
__d("MAWCommonSetupWorker",["Deferred","MAWCurrentUser","MAWGetDBVersionForTest","MAWInit","MAWSetupWorker","MessengerWebInitData","WADevToolMessageChannel","WALogger","WorkerClient","WorkerMessagePort","err","gkx","pageID"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Terminating worker and rebooting..."]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker receive invalid message: ",""]);i=function(){return a};return a}b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var e;e=a.call(this,b,c)||this;e.onmessage=null;e.$BridgeAdapter$p_1=b;d("WorkerClient").init(babelHelpers.assertThisInitialized(e));e.onUnhandledMessage.add(function(a){e.onmessage&&e.onmessage({data:a})});return e}var c=b.prototype;c.getBridgePort=function(){return this};return b}(d("WorkerMessagePort").WorkerSyncedMessagePort);function a(a,b,e,f){var g=new(c("Deferred"))();a.addMessageListener("worker-setup",function(b){if(b.setupHash!==c("pageID"))return;if(b==null||b.type!=="worker-setup"){d("WALogger").WARN(i(),b);return}if(b.status==="success")g.resolve(a.getBridgePort());else if(b.status==="failure"){var j;g.reject(c("err")((j=b.msg)!=null?j:"Encountered an error setting up the armadillo web worker"))}else if(b.status==="already-setup")if(b.action==="no-action"){g.resolve(a.getBridgePort());f();return}else if(b.action==="reboot-required"&&b.setupHash===c("pageID")){d("WALogger").DEV(h());d("MAWSetupWorker").terminateDedicatedWorker("reboot required");d("MAWInit").MAWInit.addBoolAnnotation("workerRebootRequired",!0);return e().then(function(a){return g.resolve(a)})["catch"](function(a){return g.reject(a)})}else throw c("err")("received invalid action for worker-setup:already-setup: "+b.action);else throw c("err")("received invalid message for worker")});a.addMessageListener("worker-setup-ack",function(a){if(a.setupHash!==c("pageID"))return;d("MAWInit").MAWInit.logPoint("maw_init_worker_ack")});if(c("gkx")("3282")){var j=d("WADevToolMessageChannel").createNewChannel();a.postMessage({content:{accountKey:c("MessengerWebInitData").accountKey,devToolMessageChannelPort2:j.port2,fbId:d("MAWCurrentUser").getID(),sessionId:c("MessengerWebInitData").sessionId,testDbMigrationState:d("MAWGetDBVersionForTest").getDbMigrationState(),testDbVersion:d("MAWGetDBVersionForTest").getDbVersionForTest(),vaultMaterials:b},setupHash:c("pageID"),type:"worker-setup"},[j.port2])}else a.postMessage({content:{accountKey:c("MessengerWebInitData").accountKey,fbId:d("MAWCurrentUser").getID(),sessionId:c("MessengerWebInitData").sessionId,testDbMigrationState:d("MAWGetDBVersionForTest").getDbMigrationState(),testDbVersion:d("MAWGetDBVersionForTest").getDbVersionForTest(),vaultMaterials:b},setupHash:c("pageID"),type:"worker-setup"});return g.getPromise()}g.BridgeAdapter=b;g.initWorker=a}),98);
__d("IGDSetupBridge",["FBLogger","LSDatabaseSingleton","LSInitSyncCompleteSubscription","MAWAbPropsClient","MAWBridgeReceivedChatStateHandler","MAWBridgeUIEventHandler","MAWCommonSetupBridge","MAWEncryptionErrorHandler","MAWFetchContacts","MAWGetEphemeralSettings","MAWSetupBridgeIsDbMigrating","MAWSetupBridgeOfflineSnapshot","Run","WAExceededStorageQuota","asyncToGeneratorRuntime","cr:3411","isInstamadillo","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(e=c("requireDeferred"))("ArmadilloCutoverClientFalcoEvent").__setRef("IGDSetupBridge"),j=e("IGDBridgeResignCdnUrlHandler").__setRef("IGDSetupBridge"),k=e("MAWBridgeUpdateDYIStatusV2").__setRef("IGDSetupBridge"),l=e("MAWSetupBridgeOfflineConsumer").__setRef("IGDSetupBridge"),m=(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(d("LSInitSyncCompleteSubscription").use).then(function(){return(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton}),n=function(a){i.loadImmediately(function(b){b=b.log;return b(function(){return{armadillo_thread_id:a.armadilloThreadId,domain:a.domain,event:a.event,event_details:a.eventDetails,open_thread_id:a.openThreadId,success:a.success,trace_id:a.traceId}})})},o=new Set(["StartTraceWithTraceId","TraceRecordCheckpoint"]),p=new Set(["ABPropsUpdated","ClockSkewUpdated","DropAllSecureThreads","LargeClockSkewValue","ReceivedChatState"]);function a(a){var e=a.dispatch,f=a.logout,g=a.reregisterDevice,h=a.rotateCryptoAuthToken,i=a.worker;function q(){i.postMessage({type:"force-flush-data"})}d("Run").onUnload(q);d("Run").onBeforeUnload(q,!1);return d("MAWCommonSetupBridge").initBridge({customizeEventHandlers:{abPropsUpdated:function(a){d("MAWAbPropsClient").rewrite(a.abProps)},earDecryptionFailure:function(a){d("MAWEncryptionErrorHandler").deleteAllDbs(a.tableName)},getLSDBEphemeralSetting:function(a){return d("MAWGetEphemeralSettings").getEphemeralSetting(a.chatJid)},getLSDBUsersIsMsplit:function(a){return d("MAWFetchContacts").fetchContactsIsMsplit(a.users)},getLSDBUsersRelationships:function(a){return d("MAWFetchContacts").fetchContactsRelationships(a.users)},isDbMigrating:c("MAWSetupBridgeIsDbMigrating")(e),logCutoverEvent:n,logout:f,offlineConsumerProgress:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return(yield l.load())(m,e).apply(void 0,arguments)});function c(){return a.apply(this,arguments)}return c}(),offlineSnapshot:c("MAWSetupBridgeOfflineSnapshot")(e),receivedChatState:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield m);yield c.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield d("MAWBridgeReceivedChatStateHandler").call(b,a)});return function(a){return c.apply(this,arguments)}}(),"readwrite")});function c(b){return a.apply(this,arguments)}return c}(),reregisterDevice:g,resignCdnUrl:function(a){var b=a.deliveryObjectId,c=a.payload;return j.load().then(function(a){return a.call(c,b)})},rotateCryptoAuthToken:h,storageQuota:function(a){a=a.exceededStorageQuota;d("WAExceededStorageQuota").setExceededStorageQuota(a)},uiUpdate:function(a){a=a.events;var e=[],f=a.filter(function(a){if(o.has(a.tag)){e.push(a);return!1}if(p.has(a.tag))return!1});e.length>0&&(b("cr:3411")==null?void 0:b("cr:3411").recordBridgeUIEvent(a),d("MAWBridgeUIEventHandler").handleEvents(m,a));if(f.length===0)return;c("isInstamadillo")()?c("FBLogger")("igd_web_on_msgr").warn("[Instamadillo] Unsupported invocation of UI Event Handler. Please deprecate UI Event Handler: %s",a.map(function(a){return a.tag}).join(", ")):c("FBLogger")("igd_web_on_msgr").warn("[IGD] Deprecating UIEventHandlers, please update LSDB directly for UI changes: %s",a.map(function(a){return a.tag}).join(", "))},updateDYIStatus:function(a){var b=a.qplInstanceKeyE2E,d=a.status;c("promiseDone")(k.load().then(function(a){return a.call({qplInstanceKeyE2E:b,status:d})}))}},worker:i})}g.setupBridge=a}),98);
__d("MAWOccamadilloOnMutexChange",["I64","LSDefaultSyncGroups","LSIntEnum","LSSyncGroupsUtils","Promise","WALogger","isOccamadilloResumeSyncEnabled","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Resetting sync cursor and network request"]);k=function(){return a};return a}function l(a){var e=d("LSDefaultSyncGroups").e2eeMetadataSyncGroup;if(!c("isOccamadilloResumeSyncEnabled")()&&e!=null)return a.sync_groups.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,{groupId:(j||(j=d("LSIntEnum"))).ofNumber(e.groupId)}));else return(h||(h=b("Promise"))).resolve()}function m(a){if(!c("isOccamadilloResumeSyncEnabled")())return a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(95),taskQueueName:""});else return(h||(h=b("Promise"))).resolve()}function a(a){d("WALogger").LOG(k()),c("promiseDone")(a.runInTransaction(function(a){return(h||(h=b("Promise"))).all([l(a),m(a)])},"readwrite",void 0,void 0,f.id+":58"))}g.onOccamadilloMutexChange=a}),98);
__d("MAWReinit",["ExecutionEnvironment","MAWCurrentUser","MAWEBSwitch","MAWGetStorageQplAnnotations","QPLUserFlow","QuickPerformanceLogger","WALogger","asyncToGeneratorRuntime","gkx","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to get storage info"]);j=function(){return a};return a}var k=c("qpl")._(25310984,"169");function a(a){var e=a!=null?{instanceKey:a}:void 0,f=!1,g=!1;function l(){if(g)return;g=!0;c("QPLUserFlow").start(k,babelHelpers["extends"]({cancelOnUnload:!0,onFlowTimeout:function(){f=!0},timeoutInMs:(h||(h=c("ExecutionEnvironment"))).canUseDOM?6e4:0},e));void d("MAWGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){c("QPLUserFlow").addAnnotations(k,a)})["catch"](function(){d("WALogger").ERROR(j())});t()}function m(a){if(!g||f)return;t();c("QPLUserFlow").addPoint(k,a,e)}function n(a,b){var d;if(!g||f)return;c("QPLUserFlow").addAnnotations(k,{bool:(d={},d[a]=b,d)})}function o(a,b){var d;if(!g||f)return;c("QPLUserFlow").addAnnotations(k,{string:(d={},d[a]=b,d)})}function p(a,b){var d;if(!g||f)return;c("QPLUserFlow").addAnnotations(k,{"int":(d={},d[a]=b,d)})}function q(a){t(),f=!0,c("QPLUserFlow").addAnnotations(k,{string:{failReason:a}},e),c("QPLUserFlow").endFailure(k,"maw_init_fail",e),s=!1}function r(a){t(),f=!0,s=!1,c("QPLUserFlow").addAnnotations(k,{string:{dropReason:a}},e),(i||(i=c("QuickPerformanceLogger"))).markerDrop(k)}var s=!1;function t(){if(s)return;s=!0;c("QPLUserFlow").addAnnotations(k,{bool:{armadillo_init_sync_api_improvements:c("gkx")("24025"),is_eb_enabled:c("MAWEBSwitch").isEnabled(),isArmadilloPublicLaunchUser:c("gkx")("23405"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()}})}function u(a){t(),f=!0,c("QPLUserFlow").addAnnotations(k,{string:{cancelReason:a}},e),c("QPLUserFlow").endCancel(k,e),s=!1}function v(){t(),f=!0,c("QPLUserFlow").endSuccess(k,e),s=!1}function w(a,b){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a+"_start";a=a+"_end";m(c);c=(yield b());m(a);return c});return x.apply(this,arguments)}return{addBoolAnnotation:n,addIntAnnotation:p,addStringAnnotation:o,cancel:u,drop:r,endSuccess:v,fail:q,logPoint:m,measurePerformance:w,start:l}}g.getMAWReinit=a}),98);
__d("MAWReinitWorker",["MAWCommonBackendSetup","MAWOccamadilloOnMutexChange","MAWReinit","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.allTablesPersisted,e=a.db,f=a.dispatch,g=a.dispatchClearEphemeralSettings,h=a.getOrSetupWorker,i=a.instanceKey,j=a.logout,k=a.reregisterDevice,l=a.rotateCryptoAuthToken,m=a.setupBridge;a=a.workerCreateReason;i=d("MAWReinit").getMAWReinit(i);var n=function(){f({tag:"InitOfflineQueueSyncComplete",value:void 0}),f({tag:"IsDbMigrating",value:!1})};yield d("MAWCommonBackendSetup").setupArmadilloBackend(h,i,function(a){c("promiseDone")(m({dispatch:f,logout:j,reregisterDevice:k,rotateCryptoAuthToken:l,worker:a}).then(function(){b||d("MAWOccamadilloOnMutexChange").onOccamadilloMutexChange(e)}))},n,n,a);i.endSuccess();g()});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MAWSetupMutex",["FBLogger","LocalStorageMutex","MAWAppMutex","MAWBridge","MAWInit","MAWIssueNewUserVisibleErrors","MAWLocalStorage","MAWMIC","MAWReinitWorker","MAWStateContext.react","MAWWaitForBackendSetup","QPLUserFlow","Run","WALoggerDeferred","asyncToGeneratorRuntime","isInstamadillo","qpl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["AppMutex - Shouldn't reinitialize, worker already exists"]);j=function(){return a};return a}e=i||d("react");var k=e.useCallback,l=e.useEffect,m=e.useMemo,n=c("FBLogger")("messenger_e2ee_web"),o=!1,p=0;function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(document.visibilityState!=="visible")return!1;a=a();var b=window.indexedDB!=null,c=d("MAWLocalStorage").isLocalStorageAvailable();if(a){void d("WALoggerDeferred").DEV(j());return!1}return!b||!c?!1:!0});return r.apply(this,arguments)}function a(a,e){var f=a.doesWorkerExist,g=a.getOrSetupWorker,i=a.logout,j=a.reregisterDevice,r=a.rotateCryptoAuthToken,s=a.setupBridge,t=a.terminateWorker,u=m(function(){return d("MAWAppMutex").use()},[]),v=(h||(h=c("useReStore")))(),w=d("MAWStateContext.react").useDispatchClearEphemeralSettings(),x=v.persistenceTypes.includes("indexeddb"),y=k(function(a){var b=u.takeoverFilter(a);if(!b||a.newValue===d("LocalStorageMutex").THIS_TAB||a.newValue==="")return;!x&&!c("isInstamadillo")()&&d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"DropAllSecureThreads",value:void 0}]});t("MAWSetupMutexV2:handleStoreChange");d("MAWWaitForBackendSetup").resetBackendSetup();d("MAWMIC").cancel("workerMutexLost");d("MAWInit").MAWInit.cancel("workerMutexLost");u.onMutexDeath()},[u,x,t]),z=k(function(){t("MAWSetupMutexV2:handleUnload"),u.onMutexDeath()},[u,t]),A=k(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield q(f));if(!a||o)return;o=!0;p++;try{yield c("MAWReinitWorker")({allTablesPersisted:x,db:v,dispatch:e,dispatchClearEphemeralSettings:w,getOrSetupWorker:g,instanceKey:p,logout:i,reregisterDevice:j,rotateCryptoAuthToken:r,setupBridge:s,workerCreateReason:"mawReinitSetupMutex"}),d("MAWWaitForBackendSetup").resolveBackendSetup(),d("MAWIssueNewUserVisibleErrors").deleteUserVisibleErrorByJSErrorMessage("maw_appmutex_no_permission")}catch(a){n.mustfix("AppMutex - failed to reinitialize worker: "+a.message.concat(" (",a.error,")")),n.catching(a),c("QPLUserFlow").endFailure(c("qpl")._(25310984,"169"),"failed_to_reinitialize_worker",{annotations:{string:{error:a.message.concat(": ",a.error)}},error:a,instanceKey:p})}finally{o=!1}}),[x,v,e,w,f,g,i,j,r,s]);l(function(){window.addEventListener("storage",y);var a=d("Run").onBeforeUnload(z,!1),b=d("Run").onUnload(z);window.addEventListener("visibilitychange",A);return function(){window.removeEventListener("storage",y),a.remove(),b.remove(),window.removeEventListener("visibilitychange",A)}},[y,z,A])}g.useMutex=a}),98);
__d("MAWSetupMutex.react",["MAWSetupMutex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.dispatch;a.environment;a.fbId;a=a.platformSetupUtils;d("MAWSetupMutex").useMutex(a,b);return null}g["default"]=a}),98);
__d("LSGetThreadDataFromTam.nop",["I64","LSMessagingThreadTypeUtil","LSResult","LSShape","LSVec","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){b=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.threads).filter(function(a){a=a.threadType;return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a)}).take((h||(h=d("I64"))).to_int32(e))));a=b.map(function(a,b){var c=a.lastActivityTimestampMs,e=a.lastReadWatermarkTimestampMs,f=a.threadKey;a=a.threadType;return d("LSShape").ofRecord({client_thread_pk:f,display_timestamp_ms:c,is_group_thread:d("LSMessagingThreadTypeUtil").isGroup(a),last_activity_timestamp_ms:c,last_read_watermark_timestamp_ms:e,server_thread_key:f,sort_order:(h||(h=d("I64"))).of_int32(b)})});return c("LSResult")(c("LSVec").ofArray(a))});function e(b,c,d){return a.apply(this,arguments)}return e}();g["default"]=a}),98);
__d("LSScheduleOccamThreadsIntegrityChecker",["LSGetCursor","LSGetThreadDataFromTam.nop","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetCursor"),c.i64.cast([0,95])).then(function(a){return a=a,d[0]=a[0],a})},function(b){return d[1]=c.createArray(),d[2]=c.createArray(),c.i64.neq(a[1],void 0)?d[3]=a[1]:d[3]=c.i64.cast([0,20]),c.forEach(c.db.table(220).fetch([[[c.i64.cast([0,95]),c.i64.cast([0,0])]]]),function(a){a=a.item;return d[10]=a.minLastActivityTimestampMs,d[9]=new c.Map(),d[9].set("has_more_before",a.hasMoreBefore),d[9].set("is_loading_before",a.isLoadingBefore),d[9].set("min_last_activity_timestamp_ms",d[10]),d[9].set("min_thread_key",a.minThreadKey),d[9].set("parent_thread_key",c.i64.cast([0,0])),d[11]=(d[2].push(d[9]),d[2]),c.forEach(c.islc(c.filter(c.db.table(9).fetch([[[{gte:d[10]}]],"lastActivityTimestampMs"]),function(a){return c.i64.ge(a.lastActivityTimestampMs,d[10])&&c.i64.eq(a.syncGroup,c.i64.cast([0,95]))&&c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(d[3])),function(a){a=a.item;return d[11]=new c.Map(),d[11].set("authority_level",a.authorityLevel),d[11].set("folder_name",a.folderName),d[11].set("last_activity_timestamp_ms",a.lastActivityTimestampMs),d[11].set("last_read_watermark_timestamp_ms",a.lastReadWatermarkTimestampMs),d[11].set("thread_key",a.threadKey),d[12]=(d[1].push(d[11]),d[1])})})},function(a){return d[4]=c.createArray(),c.nativeOperation(b("LSGetThreadDataFromTam.nop"),d[3]).then(function(a){return a=a,d[5]=a[0],a})},function(a){return d[6]=c.createArray(),d[7]=new c.Map(),d[7].set("cursor",d[0]),d[7].set("mi_act_mapping_columns_for_integrity_check",d[6]),d[7].set("occam_threads_columns_for_integrity_check",d[1]),d[7].set("threads_ranges_columns_for_integrity_check",d[2]),d[7].set("tam_threads_columns_for_integrity_check",d[5]),d[8]=c.toJSON(d[7]),c.storedProcedure(b("LSIssueNewTask"),"occam-threads-integrity-check",c.i64.cast([0,701]),d[8],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSScheduleOccamThreadsIntegrityCheckerStoredProcedure",["LSScheduleOccamThreadsIntegrityChecker","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b={});var d=[];d[0]=b.delayMs;d[1]=b.maxThreadCount;return c("LSScheduleOccamThreadsIntegrityChecker").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWChatFetchThreadMessageCounts",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return{}});return g.apply(this,arguments)}function c(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return 0});return h.apply(this,arguments)}f.fetchArmadilloThreadMessageCounts=a;f.fetchArmadilloThreadMessageCount=c}),66);
__d("globalCryptoSubtle",[],(function(a,b,c,d,e,f){"use strict";b=a.crypto.subtle;c=b;f["default"]=c}),66);
__d("useDataLossStatisticsStorageListener",["LSDatabaseSingleton","MWChatFetchThreadMessageCounts","Visibility","WebStorage","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||d("react")).useEffect,l="armadillo_msgr_data_loss_stats";function a(){k(function(){var a;window.setTimeout(function(){a=c("Visibility").addListener(c("Visibility").HIDDEN,function(){c("promiseDone")((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){return d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a).then(function(a){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),l,JSON.stringify(a))})}))})},3e4);return function(){var b;(b=a)==null?void 0:b.remove()}},[])}g.DATA_LOSS_STATISTICS_STORAGE_KEY=l;g.useDataLossStatisticsStorageListener=a}),98);
__d("MWChatDataLossCheckerUtil",["FBLogger","I64","MWChatFetchThreadMessageCounts","Promise","QuickPerformanceLogger","WebStorage","asyncToGeneratorRuntime","gkx","globalCryptoSubtle","promiseDone","qpl","useDataLossStatisticsStorageListener"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){a=Array.from(new Uint8Array(a));return a.map(function(a){return a.toString(16).padStart(2,"0")}).join("")}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(c("gkx")("24059"))return a;var b=new TextEncoder();b=b.encode(a).buffer;a=(yield c("globalCryptoSubtle").digest("SHA-256",b));return l(a)}catch(a){return a}});return n.apply(this,arguments)}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.currentIDBCnt,d=a.currentMsgCnt,e=a.logThreadId,f=a.prevMsgCnt,g=a.qplEvent;a=a.threadId;if(e!=null&&e){e=(yield m(a));b!=null?((j||(j=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),j.markerAnnotate(g,{"int":{current_idb_count:b,current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),j.markerEnd(g,2)):((j||(j=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),j.markerAnnotate(g,{"int":{current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),j.markerEnd(g,2))}else b!=null?((j||(j=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),j.markerAnnotate(g,{"int":{current_idb_count:b,current_msg_count:d,prev_msg_count:f}}),j.markerEnd(g,2)):((j||(j=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),j.markerAnnotate(g,{"int":{current_msg_count:d,prev_msg_count:f}}),j.markerEnd(g,2))});return p.apply(this,arguments)}function q(a){var b=a.currentMsgCnt,c=a.logThreadId,d=a.prevMsgCnt,e=a.qplEvent;a=a.threadId;return o({currentMsgCnt:b,logThreadId:c,prevMsgCnt:d,qplEvent:e,threadId:a})}function a(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{a=(yield d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCount(a,b));var e=(k||(k=c("WebStorage"))).getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(e==null)return{isThreadMissingMessages:!1};e=JSON.parse(e);b=(e=e[(i||(i=d("I64"))).to_string(b)])!=null?e:null;if(b==null)return{isThreadMissingMessages:!1};return b>0&&a===0?{currCount:a,isThreadMissingMessages:!0,prevCount:b}:{isThreadMissingMessages:!1}}catch(a){c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss");return{isThreadMissingMessages:!1}}});return r.apply(this,arguments)}function e(a){a=d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a);a.then(function(a){var e=(k||(k=c("WebStorage"))).getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(e==null)return(h||(h=b("Promise"))).resolve(null);e=JSON.parse(e);return(h||(h=b("Promise"))).resolve({current:a,previous:e})}).then(function(a){if(a==null)return(h||(h=b("Promise"))).resolve();var c=a.current;a=a.previous;return s(a,c)})["catch"](function(a){return c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss")});return a.then(function(){})}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d){var e=[];for(var f in a)Object.prototype.hasOwnProperty.call(d,f)&&e.push(f);f=[];for(var g=0;g<e.length;g++){var i=e[g],j={currentMsgCnt:d[i],prevMsgCnt:a[i],threadId:i};a[i]>0&&d[i]===0?(f.push(q(babelHelpers["extends"]({},j,{qplEvent:c("qpl")._(717553665,"1183")}))),f.push(q(babelHelpers["extends"]({},j,{logThreadId:!0,qplEvent:c("qpl")._(717562243,"1358")})))):(f.push(q(babelHelpers["extends"]({},j,{qplEvent:c("qpl")._(717553666,"1184")}))),f.push(q(babelHelpers["extends"]({},j,{logThreadId:!0,qplEvent:c("qpl")._(717556541,"1361")}))))}yield (h||(h=b("Promise"))).all(f)});return t.apply(this,arguments)}function f(a){var b=function(b){c("promiseDone")(m(b).then(function(d){(j||(j=c("QuickPerformanceLogger"))).markerStartFromNavStart(c("qpl")._(717567419,"1383")),j.markerAnnotate(c("qpl")._(717567419,"1383"),{string:{encryptedThreadId:d,msg_count:a[b].toString()}}),j.markerEnd(c("qpl")._(717567419,"1383"),2)}))};for(var d in a)b(d)}g.qplLog=q;g.checkIsThreadMissingMessages=a;g.fetchCountsAndLogDataLoss=e;g.logThreadCompleteDataLoss=s;g.logLocalStatistics=f}),98);
__d("useOnMawSetupComplete.react",["promiseDone","react","waitForMAWMIC"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b,e){b===void 0&&(b=function(){}),i(function(){var e=!1;c("promiseDone")(d("waitForMAWMIC").promise.then(function(){if(e)return;a()})["catch"](function(){if(e)return;b()}));return function(){e=!0}},e)}g.useOnMawSetupComplete=a}),98);
__d("useDataLossChecker",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSScheduleOccamThreadsIntegrityCheckerStoredProcedure","MWChatDataLossCheckerUtil","asyncToGeneratorRuntime","gkx","justknobx","promiseDone","useDataLossStatisticsStorageListener","useOnMawSetupComplete.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){d("useDataLossStatisticsStorageListener").useDataLossStatisticsStorageListener(),d("useOnMawSetupComplete.react").useOnMawSetupComplete(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);yield d("MWChatDataLossCheckerUtil").fetchCountsAndLogDataLoss(a)})()),j()},j(),[])}function j(){try{var a=c("gkx")("24061"),e=c("justknobx")._("1683");a&&e&&c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);return a.runInTransaction(function(a){return c("LSScheduleOccamThreadsIntegrityCheckerStoredProcedure")(c("LSFactory")(a),{delayMs:(i||(i=d("I64"))).of_int32(6e4),maxThreadCount:i.of_int32(20)})},"readonly",void 0,void 0,f.id+":61")})())}catch(a){c("FBLogger")("labyrinth_web").warn("Error running thread integrity checker",a)}}g["default"]=a}),98);
__d("useLegacyUserWatchdog",["MAWIssueNewUserVisibleErrors","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;b=24*60*60*1e3;var j=5*b;function a(){i(function(){var a=c("setTimeout")(function(){var a;(a=d("MAWIssueNewUserVisibleErrors")).issueError(a.MAWLegacyUserErrorMsgBody,a.MAWLegacyUserErrorMsgTitle,a.MAWUserVisibleErrorPresentationType.BANNER)},j);return function(){return c("clearTimeout")(a)}})}g["default"]=a}),98);
__d("useMAWReregisterDeviceOnError",["LSPersistedDbGating","MAWIssueNewUserVisibleErrors","MAWLoggerUtils","MAWReinitWorker","MAWSetupWorker","MAWStateContext.react","ODS","WABridgedAPI","WATagsLogger","asyncToGeneratorRuntime","react","shouldUseMAWSharedWorker","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to reinit worker ",""]);j=function(){return a};return a}e=h||d("react");var k=e.useCallback,l=e.useContext,m=!1,n=typeof window!=="undefined"?window:self;function o(){m=!0,d("MAWSetupWorker").terminateWorkerPermanently(),(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_forced_reregister_fail",n.location.hostname),d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)}function a(a){var e=a.getOrSetupWorker,f=a.rotateCryptoAuthToken,g=a.setupBridge,h=a.terminateWorker,p=c("useAsyncReStore")(),q=d("MAWStateContext.react").useDispatchClearEphemeralSettings();a=l(d("MAWStateContext.react").MAWStateContext);var r=a.dispatch;return k(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(m)return;(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_forced_deregister",n.location.hostname);yield c("WABridgedAPI").removeCurrentDevice();var a=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();a&&(yield d("MAWSetupWorker").killSharedWorker(!0));h("useMAWReregisterDeviceOnError");try{a=(yield p);yield c("MAWReinitWorker")({allTablesPersisted:d("LSPersistedDbGating").allTablesPersisted,db:a,dispatch:r,dispatchClearEphemeralSettings:q,getOrSetupWorker:e,logout:o,reregisterDevice:o,rotateCryptoAuthToken:f,setupBridge:g,workerCreateReason:"mawReinitReregDevice"})}catch(b){a=b.description||b.message||b;d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.DeviceRegistration,d("MAWLoggerUtils").Tag.LogoutHandler,d("MAWLoggerUtils").Tag.WorkerSetup,d("MAWLoggerUtils").Tag.MAWWorker,d("MAWLoggerUtils").Tag.MAWInit]).ERROR(j(),a);d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)}}),[h,p,r,q,e,f,g])}g["default"]=a}),98);
__d("useStorageUsageMetricsLogger",["cr:3504","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(){i(function(){void (b("cr:3504")==null?void 0:b("cr:3504").logMAWDBUsageMetrics())},[])}g["default"]=a}),98);
__d("MAWSetupImpl.react",["BaseHeadingContext","CometRelay","MAWCommonSetup","MAWCryptoAuthToken","MAWSetupMutex.react","MAWSetupWorker","MAWStateContext.react","MAWWebWorkerInstance","cr:6159","cr:6160","cr:8800","promiseDone","react","shouldUseMAWSharedWorker","useDataLossChecker","useLegacyUserWatchdog","useMAWReregisterDeviceOnError","useStorageUsageMetricsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useCallback,k=e.useContext,l=e.useMemo;window.XPlatTesting=b("cr:6159");window.XPlatTestingGroups=b("cr:6160");window.XPlatMockServer=b("cr:8800");function a(a){var b=a.children,e=a.fbid,f=a.logout,g=a.setupBridge;a=k(d("MAWStateContext.react").MAWStateContext);a=a.dispatch;var h=d("CometRelay").useRelayEnvironment(),m=j(function(){return d("MAWCryptoAuthToken").fetchFreshCAT(h)},[h]),n=c("useMAWReregisterDeviceOnError")({doesWorkerExist:d("MAWWebWorkerInstance").doesWorkerExist,getOrSetupWorker:d("MAWSetupWorker").getOrSetupWorker,rotateCryptoAuthToken:m,setupBridge:g,terminateWorker:d("MAWSetupWorker").terminateDedicatedWorker,terminateWorkerPermanently:d("MAWSetupWorker").terminateWorkerPermanently}),o=l(function(){return{doesWorkerExist:d("MAWWebWorkerInstance").doesWorkerExist,getOrSetupWorker:d("MAWSetupWorker").getOrSetupWorker,logout:f!=null?f:function(){return c("promiseDone")(n())},reregisterDevice:function(){return c("promiseDone")(n())},rotateCryptoAuthToken:m,setupBridge:g,terminateWorker:d("MAWSetupWorker").terminateDedicatedWorker,terminateWorkerPermanently:d("MAWSetupWorker").terminateWorkerPermanently}},[m,f,n,g]);d("MAWCommonSetup").useArmadillo(o);c("useLegacyUserWatchdog")();c("useDataLossChecker")();c("useStorageUsageMetricsLogger")();var p=k(c("BaseHeadingContext")),q=!d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();return i.jsxs(c("BaseHeadingContext").Provider,{value:p+1,children:[b,q?i.jsx(c("MAWSetupMutex.react"),{dispatch:a,environment:h,fbId:e,platformSetupUtils:o}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWBridgeInitOfflineQueueSyncStartHandler",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerLogHistory").__setRef("MAWBridgeInitOfflineQueueSyncStartHandler");function a(){h.onReady(function(a){a=a.getInstance("maw_setup");a.debug("Init Offline Queue Sync Start")})}g.call=a}),98);
__d("MAWEBRestoreStatus",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["IN_PROGRESS","RESTORE_COMPLETED"]);f.EBInitialThreadsRestoreStatus=a}),66);
__d("MAWStateContextProvider.react",["MAWBridgeInitOfflineQueueSyncCompleteHandler","MAWBridgeInitOfflineQueueSyncStartHandler","MAWEBRestoreStatus","MAWSharedProtocolQueueConst","MAWStateContext.react","react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useMemo,n=b.useReducer,o=function(a,b){return Object.entries(a).filter(function(a){var c,d=a[0];a=a[1];return((c=b[d])==null?void 0:c.chatStatus)!==a.chatStatus||((c=b[d])==null?void 0:c.snippetStatus)!==a.snippetStatus})},p=function(a,b){return a.reduce(function(a,b){var c=b[0];b=b[1];a[c]={chatStatus:b.chatStatus,snippetStatus:b.snippetStatus};return a},b)},q=function(a,b){switch(b.tag){case"OptimisticSendMessage":var c;return babelHelpers["extends"]({},a,{messageLatencies:babelHelpers["extends"]({},a.messageLatencies,(c={},c[b.optimisticMsgId]={sent:b.timestamp},c))});case"NewMsg":case"MsgUpdated":var e,f;c=b.value.ack;var g=b.value.msgId;e=(e=b.value.offlineMsg)==null?void 0:e.msgId;e!=null&&a.messageLatencies[e]!=null&&(a.messageLatencies[g]=a.messageLatencies[e],delete a.messageLatencies[e]);e=a.messageLatencies[g];if((e==null?void 0:e.sent)!=null&&(e==null?void 0:e.acked)!=null)return a;e=(e==null?void 0:e.sent)||Date.now();c=c!==0?Date.now():void 0;return babelHelpers["extends"]({},a,{messageLatencies:babelHelpers["extends"]({},a.messageLatencies,(f={},f[g]={acked:c,sent:e},f))});case"InitOfflineQueueSyncProgress":g=b.value;return babelHelpers["extends"]({},a,{offlineQueueProgressDownloaded:g});case"InitOfflineQueueConsumerSyncProgress":c=b.value;e=c.chatJidStatus;f=c.processed;g=a.offlineQueueThreadStatus||{};c=o(e,g);return babelHelpers["extends"]({},a,{offlineQueueProgressProcessed:f,offlineQueueThreadStatus:c.length===0?g:p(c,babelHelpers["extends"]({},g))});case"InitOfflineQueueSyncStart":d("MAWBridgeInitOfflineQueueSyncStartHandler").call();e=b.value;return babelHelpers["extends"]({},a,{offlineQueueCount:e});case"InitOfflineQueueSyncComplete":d("MAWBridgeInitOfflineQueueSyncCompleteHandler").call();f=b.value;c=a.offlineQueueThreadStatus||{};g=f!=null?o(f,c):null;return babelHelpers["extends"]({},a,{offlineQueueSyncState:d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete,offlineQueueThreadStatus:g==null||g.length===0?c:p(g,babelHelpers["extends"]({},c))});case"IsDbMigrating":return babelHelpers["extends"]({},a,{isDbMigrating:b.value});case"UnArchivedSelfDeviceChangeAlerts":e=b.value;return babelHelpers["extends"]({},a,{unArchivedSelfDeviceChangeAlerts:e});case"EphemeralSettingsUpdatedForUI":f=b.value;g=f.chatJid;c=f.ephemeralSettingArgs;e=c.ephemeralExpirationInSec;f=c.ephemeralLastUpdatedOrSetTimestamp;c=g;return babelHelpers["extends"]({},a,{ephemeralSettings:babelHelpers["extends"]({},a.ephemeralSettings,(g={},g[c]={ephemeralExpirationInSec:e,ephemeralLastUpdatedOrSetTimestamp:f},g))});case"ClearEphemeralSettings":return babelHelpers["extends"]({},a,{ephemeralSettings:{}});case"eBInitialThreadsRestoreStatus":c=b.value;e=a.eBInitialThreadsRestoreStatus;var h=c.reduce(function(a,b){b=b.threadId;return babelHelpers["extends"]({},a,(a={},a[b]=d("MAWEBRestoreStatus").EBInitialThreadsRestoreStatus.IN_PROGRESS,a))},{});Object.keys(e).forEach(function(a){if(!h[a]){var b;h=babelHelpers["extends"]({},h,(b={},b[a]=d("MAWEBRestoreStatus").EBInitialThreadsRestoreStatus.RESTORE_COMPLETED,b))}});return babelHelpers["extends"]({},a,{eBInitialThreadsRestoreStatus:h})}return a};function a(a){a=a.children;var b=n(q,d("MAWStateContext.react").initialState),c=b[0],e=b[1],f=m(function(){return new Set()},[]);b=m(function(){return{dispatch:e,state:c,subscriptions:f}},[c,e,f]);var g=r(b),h=k(function(){return g.current},[g]);l(function(){f==null?void 0:f.forEach(function(a){return a(c)})},[c,f]);return j.jsx(d("MAWStateContext.react").MAWStateContext.Provider,{value:b,children:j.jsx(d("MAWStateContext.react").MAWNonRerenderingStateContext.Provider,{value:h,children:a})})}a.displayName=a.name+" [from "+f.id+"]";function r(a){var b=(h||(h=c("useUnsafeRef_DEPRECATED")))(a);b.current=a;return b}g["default"]=a}),98);
__d("IGDAWSetup.react",["CometRelayEnvironmentProvider","FBLogger","IGDSetIGE2EEEligibility","IGDSetupBridge","MAWCurrentUser","MAWSetupImpl.react","MAWStateContextProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function a(a){var b=j(5);a=a.children;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){},b[0]=e):e=b[0];e=e;d("IGDSetIGE2EEEligibility").useUpsertSetIGE2EEEligibilityOnMount();var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f="xjp7ctv",b[1]=f):f=b[1];var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("MAWCurrentUser").getID(),b[2]=g):g=b[2];b[3]!==a?(f=i.jsx("div",{className:f,"data-testid":void 0,children:i.jsx(c("CometRelayEnvironmentProvider"),{children:i.jsx(c("MAWStateContextProvider.react"),{children:i.jsx(c("MAWSetupImpl.react"),{fbid:g,logout:e,setupBridge:d("IGDSetupBridge").setupBridge,children:a})})})}),b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("IGDBundleResource",["cr:7255","cr:7256"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:7255"))!=null?a:b("cr:7256");d=c;g["default"]=d}),98);
__d("IGDLegacyTLCBundleResource",["IGDLegacyTLCMainWebWorkerResource"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("IGDLegacyTLCMainWebWorkerResource")}),98);
__d("MAWCatQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23999698219677129"}),null);
__d("MAWCatQuery.instagram.graphql",["MAWCatQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SecureMessageOverWACATGraphResult",kind:"LinkedField",name:"secure_message_over_wa_cat_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_serialized_cat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expiration_time_in_seconds",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWCatQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWCatQuery",selections:a},params:{id:b("MAWCatQuery_instagramRelayOperation"),metadata:{},name:"MAWCatQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWDBUsageMetrics",["WALogger","WebStorageEstimator","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error while getting the storage manager estimate: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Sending storage manager estimates falco event, quota: ",", usage: ",", usage_details: ",""]);i=function(){return a};return a}var j=c("requireDeferred")("WebStorageManagerEstimatesFalcoEvent").__setRef("MAWDBUsageMetrics");function a(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield d("WebStorageEstimator").estimateStorage());j.onReady(function(b){d("WALogger").DEV(i(),a==null?void 0:a.quota,a==null?void 0:a.usage,a==null?void 0:a.usageDetails),b.log(function(){var b;return{quota:String(a==null?void 0:a.quota),usage:String(a==null?void 0:a.usage),usage_details:{caches:String((b=a==null?void 0:(b=a.usageDetails)==null?void 0:b.caches)!=null?b:""),indexedDB:String((b=a==null?void 0:(b=a.usageDetails)==null?void 0:b.indexedDB)!=null?b:""),serviceWorkerRegistrations:String((b=a==null?void 0:(b=a.usageDetails)==null?void 0:b.serviceWorkerRegistrations)!=null?b:"")}}})})}catch(a){d("WALogger").DEV(h(),a);return}});return k.apply(this,arguments)}g.logMAWDBUsageMetrics=a}),98);
__d("MAWTrackPendingOccamadilloThreads",["Deferred","LSDatabaseSingleton","LSInitSyncCompleteSubscription","LSIntEnum","MAWMIC","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new(c("Deferred"))(),k=new Set(),l=new Set(),m=new Set();function a(a){d("MAWMIC").markEvent("occamadillo_thread_mapping_start"),l.add(a),k.add(a),d("MAWMIC").addIntAnnotation("occamadilloThreadCount",k.size)}function e(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(c("gkx")("2661"))yield j.getPromise();else{var b=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);yield d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(b,(i||(i=d("LSIntEnum"))).ofNumber(95))}d("MAWMIC").markEvent("occamadillo_sync_group_complete");l["delete"](a);m.add(a);d("MAWMIC").addIntAnnotation("occamadilloCompleteThreadCount",m.size);o()});return n.apply(this,arguments)}function f(){j.resolve(),o()}function o(){l.size===0&&(d("MAWMIC").addIntAnnotation("occamadilloThreadCount",k.size),d("MAWMIC").markEvent("occamadillo_thread_mapping_end"))}g.addPendingThread=a;g.removePendingThread=e;g.completeSync=f;g.maybeEndOccamadilloThreadMapping=o}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("lodash-4.17.15",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(){var b,c="4.17.15",d=200,e="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",j="__lodash_hash_undefined__",k=500,l="__lodash_placeholder__",m=1,n=2,o=4,p=1,q=2,r=1,s=2,t=4,u=8,v=16,w=32,x=64,y=128,z=256,A=512,B=30,aa="...",ba=800,ca=16,da=1,ea=2,C=3,fa=1/0,ga=9007199254740991,ha=17976931348623157e292,ia=0/0,D=4294967295,ja=D-1,ka=D>>>1,la=[["ary",y],["bind",r],["bindKey",s],["curry",u],["curryRight",v],["flip",A],["partial",w],["partialRight",x],["rearg",z]],ma="[object Arguments]",na="[object Array]",oa="[object AsyncFunction]",pa="[object Boolean]",qa="[object Date]",ra="[object DOMException]",sa="[object Error]",ta="[object Function]",ua="[object GeneratorFunction]",E="[object Map]",va="[object Number]",wa="[object Null]",xa="[object Object]",F="[object Promise]",ya="[object Proxy]",za="[object RegExp]",Aa="[object Set]",Ba="[object String]",Ca="[object Symbol]",Da="[object Undefined]",Ea="[object WeakMap]",Fa="[object WeakSet]",Ga="[object ArrayBuffer]",Ha="[object DataView]",Ia="[object Float32Array]",Ja="[object Float64Array]",Ka="[object Int8Array]",La="[object Int16Array]",Ma="[object Int32Array]",Na="[object Uint8Array]",Oa="[object Uint8ClampedArray]",Pa="[object Uint16Array]",Qa="[object Uint32Array]",Ra=/\b__p \+= '';/g,Sa=/\b(__p \+=) '' \+/g,Ta=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ua=/&(?:amp|lt|gt|quot|#39);/g,Va=/[&<>"']/g,Wa=RegExp(Ua.source),Xa=RegExp(Va.source),Ya=/<%-([\s\S]+?)%>/g,Za=/<%([\s\S]+?)%>/g,$a=/<%=([\s\S]+?)%>/g,ab=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bb=/^\w*$/,cb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,db=/[\\^$.*+?()[\]{}|]/g,eb=RegExp(db.source),fb=/^\s+|\s+$/g,gb=/^\s+/,hb=/\s+$/,ib=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jb=/\{\n\/\* \[wrapped with (.+)\] \*/,kb=/,? & /,lb=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mb=/\\(\\)?/g,nb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ob=/\w*$/,pb=/^[-+]0x[0-9a-f]+$/i,qb=/^0b[01]+$/i,rb=/^\[object .+?Constructor\]$/,sb=/^0o[0-7]+$/i,tb=/^(?:0|[1-9]\d*)$/,ub=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vb=/($^)/,wb=/['\n\r\u2028\u2029\\]/g,xb="\\ud800-\\udfff",G="\\u0300-\\u036f",H="\\ufe20-\\ufe2f",yb="\\u20d0-\\u20ff";G=G+H+yb;H="\\u2700-\\u27bf";yb="a-z\\xdf-\\xf6\\xf8-\\xff";var I="\\xac\\xb1\\xd7\\xf7",zb="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ab="\\u2000-\\u206f",Bb=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Cb="A-Z\\xc0-\\xd6\\xd8-\\xde",Db="\\ufe0e\\ufe0f";I=I+zb+Ab+Bb;zb="['\u2019]";Ab="["+xb+"]";Bb="["+I+"]";var J="["+G+"]",Eb="\\d+",Fb="["+H+"]",Gb="["+yb+"]";I="[^"+xb+I+Eb+H+yb+Cb+"]";H="\\ud83c[\\udffb-\\udfff]";yb="(?:"+J+"|"+H+")";var Hb="[^"+xb+"]",Ib="(?:\\ud83c[\\udde6-\\uddff]){2}",Jb="[\\ud800-\\udbff][\\udc00-\\udfff]";Cb="["+Cb+"]";var K="\\u200d",Kb="(?:"+Gb+"|"+I+")";I="(?:"+Cb+"|"+I+")";var Lb="(?:"+zb+"(?:d|ll|m|re|s|t|ve))?",Mb="(?:"+zb+"(?:D|LL|M|RE|S|T|VE))?";yb=yb+"?";var Nb="["+Db+"]?",Ob="(?:"+K+"(?:"+[Hb,Ib,Jb].join("|")+")"+Nb+yb+")*",Pb="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qb="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])";Nb=Nb+yb+Ob;yb="(?:"+[Fb,Ib,Jb].join("|")+")"+Nb;Ob="(?:"+[Hb+J+"?",J,Ib,Jb,Ab].join("|")+")";var Rb=RegExp(zb,"g"),Sb=RegExp(J,"g"),Tb=RegExp(H+"(?="+H+")|"+Ob+Nb,"g"),Ub=RegExp([Cb+"?"+Gb+"+"+Lb+"(?="+[Bb,Cb,"$"].join("|")+")",I+"+"+Mb+"(?="+[Bb,Cb+Kb,"$"].join("|")+")",Cb+"?"+Kb+"+"+Lb,Cb+"+"+Mb,Qb,Pb,Eb,yb].join("|"),"g"),Vb=RegExp("["+K+xb+G+Db+"]"),Wb=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xb=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yb=-1,L={};L[Ia]=L[Ja]=L[Ka]=L[La]=L[Ma]=L[Na]=L[Oa]=L[Pa]=L[Qa]=!0;L[ma]=L[na]=L[Ga]=L[pa]=L[Ha]=L[qa]=L[sa]=L[ta]=L[E]=L[va]=L[xa]=L[za]=L[Aa]=L[Ba]=L[Ea]=!1;var M={};M[ma]=M[na]=M[Ga]=M[Ha]=M[pa]=M[qa]=M[Ia]=M[Ja]=M[Ka]=M[La]=M[Ma]=M[E]=M[va]=M[xa]=M[za]=M[Aa]=M[Ba]=M[Ca]=M[Na]=M[Oa]=M[Pa]=M[Qa]=!0;M[sa]=M[ta]=M[Ea]=!1;Fb={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"};Hb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};Ib={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var Zb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$b=parseFloat,ac=parseInt;Jb=typeof a=="object"&&a&&a.Object===Object&&a;Ab=typeof self=="object"&&self&&self.Object===Object&&self;var N=Jb||Ab||Function("return this")();zb=typeof g=="object"&&g&&!g.nodeType&&g;J=zb&&typeof h=="object"&&h&&!h.nodeType&&h;var bc=J&&J.exports===zb;bc&&Jb.process;H=null;var cc=H&&H.isArrayBuffer,dc=H&&H.isDate,ec=H&&H.isMap,fc=H&&H.isRegExp,gc=H&&H.isSet,hc=H&&H.isTypedArray;function ic(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function jc(a,b,c,d){var e=-1,f=a==null?0:a.length;while(++e<f){var g=a[e];b(d,g,c(g),a)}return d}function kc(a,b){var c=-1,d=a==null?0:a.length;while(++c<d)if(b(a[c],c,a)===!1)break;return a}function lc(a,b){var c=a==null?0:a.length;while(c--)if(b(a[c],c,a)===!1)break;return a}function mc(a,b){var c=-1,d=a==null?0:a.length;while(++c<d)if(!b(a[c],c,a))return!1;return!0}function nc(a,b){var c=-1,d=a==null?0:a.length,e=0,f=[];while(++c<d){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function oc(a,b){var c=a==null?0:a.length;return!!c&&zc(a,b,0)>-1}function pc(a,b,c){var d=-1,e=a==null?0:a.length;while(++d<e)if(c(b,a[d]))return!0;return!1}function O(a,b){var c=-1,d=a==null?0:a.length,e=Array(d);while(++c<d)e[c]=b(a[c],c,a);return e}function qc(a,b){var c=-1,d=b.length,e=a.length;while(++c<d)a[e+c]=b[c];return a}function rc(a,b,c,d){var e=-1,f=a==null?0:a.length;d&&f&&(c=a[++e]);while(++e<f)c=b(c,a[e],e,a);return c}function sc(a,b,c,d){var e=a==null?0:a.length;d&&e&&(c=a[--e]);while(e--)c=b(c,a[e],e,a);return c}function tc(a,b){var c=-1,d=a==null?0:a.length;while(++c<d)if(b(a[c],c,a))return!0;return!1}var uc=Dc("length");function vc(a){return a.split("")}function wc(a){return a.match(lb)||[]}function xc(a,b,c){var d;c(a,function(c,e,a){if(b(c,e,a)){d=e;return!1}});return d}function yc(a,b,c,d){var e=a.length;c=c+(d?1:-1);while(d?c--:++c<e)if(b(a[c],c,a))return c;return-1}function zc(a,b,c){return b===b?bd(a,b,c):yc(a,Bc,c)}function Ac(a,b,c,d){c=c-1;var e=a.length;while(++c<e)if(d(a[c],b))return c;return-1}function Bc(a){return a!==a}function Cc(a,b){var c=a==null?0:a.length;return c?Hc(a,b)/c:ia}function Dc(a){return function(b){return b==null?void 0:b[a]}}function Ec(a){return function(b){return a==null?void 0:a[b]}}function Fc(a,b,c,d,e){e(a,function(e,f,a){c=d?(d=!1,e):b(c,e,f,a)});return c}function Gc(a,b){var c=a.length;a.sort(b);while(c--)a[c]=a[c].value;return a}function Hc(a,b){var c,d=-1,e=a.length;while(++d<e){var f=b(a[d]);f!==void 0&&(c=c===void 0?f:c+f)}return c}function Ic(a,b){var c=-1,d=Array(a);while(++c<a)d[c]=b(c);return d}function Jc(a,b){return O(b,function(b){return[b,a[b]]})}function Kc(a){return function(b){return a(b)}}function Lc(a,b){return O(b,function(b){return a[b]})}function Mc(a,b){return a.has(b)}function Nc(a,b){var c=-1,d=a.length;while(++c<d&&zc(b,a[c],0)>-1);return c}function Oc(a,b){var c=a.length;while(c--&&zc(b,a[c],0)>-1);return c}function Pc(a,b){var c=a.length,d=0;while(c--)a[c]===b&&++d;return d}var Qc=Ec(Fb),Rc=Ec(Hb);function Sc(a){return"\\"+Zb[a]}function Tc(a,b){return a==null?void 0:a[b]}function Uc(a){return Vb.test(a)}function Vc(a){return Wb.test(a)}function Wc(a){var b,c=[];while(!(b=a.next()).done)c.push(b.value);return c}function Xc(a){var b=-1,c=Array(a.size);a.forEach(function(a,d){c[++b]=[d,a]});return c}function Yc(a,b){return function(c){return a(b(c))}}function Zc(a,b){var c=-1,d=a.length,e=0,f=[];while(++c<d){var g=a[c];(g===b||g===l)&&(a[c]=l,f[e++]=c)}return f}function $c(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=a});return c}function ad(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=[a,a]});return c}function bd(a,b,c){c=c-1;var d=a.length;while(++c<d)if(a[c]===b)return c;return-1}function cd(a,b,c){c=c+1;while(c--)if(a[c]===b)return c;return c}function dd(a){return Uc(a)?gd(a):uc(a)}function ed(a){return Uc(a)?hd(a):vc(a)}var fd=Ec(Ib);function gd(a){var b=Tb.lastIndex=0;while(Tb.test(a))++b;return b}function hd(a){return a.match(Tb)||[]}function id(a){return a.match(Ub)||[]}Ob=function a(b){b=b==null?N:jd.defaults(N.Object(),b,jd.pick(N,Xb));var g=b.Array,h=b.Date,i=b.Error,lb=b.Function,xb=b.Math,G=b.Object,H=b.RegExp,yb=b.String,I=b.TypeError,zb=g.prototype,Ab=lb.prototype,Bb=G.prototype,Cb=b["__core-js_shared__"],Db=Ab.toString,J=Bb.hasOwnProperty,Eb=0,Fb=function(){var a=/[^.]+$/.exec(Cb&&Cb.keys&&Cb.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Gb=Bb.toString,Hb=Db.call(G),Ib=N._,Jb=H("^"+Db.call(J).replace(db,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Ab=bc?b.Buffer:void 0;var K=b.Symbol,Kb=b.Uint8Array,Lb=Ab?Ab.allocUnsafe:void 0,Mb=Yc(G.getPrototypeOf,G),Nb=G.create,Ob=Bb.propertyIsEnumerable,Pb=zb.splice,Qb=K?K.isConcatSpreadable:void 0,Tb=K?K.iterator:void 0,Ub=K?K.toStringTag:void 0,Vb=function(){try{var a=Yg(G,"defineProperty");a({},"",{});return a}catch(a){}}(),Wb=b.clearTimeout!==N.clearTimeout&&b.clearTimeout,Zb=h&&h.now!==N.Date.now&&h.now,uc=b.setTimeout!==N.setTimeout&&b.setTimeout,vc=xb.ceil,Ec=xb.floor,bd=G.getOwnPropertySymbols;Ab=Ab?Ab.isBuffer:void 0;var gd=b.isFinite,hd=zb.join,kd=Yc(G.keys,G),P=xb.max,ld=xb.min,md=h.now,nd=b.parseInt,od=xb.random,pd=zb.reverse;h=Yg(b,"DataView");var qd=Yg(b,"Map"),rd=Yg(b,"Promise"),sd=Yg(b,"Set");b=Yg(b,"WeakMap");var td=Yg(G,"create"),ud=b&&new b,vd={},wd=Kh(h),xd=Kh(qd),yd=Kh(rd),zd=Kh(sd),Ad=Kh(b);K=K?K.prototype:void 0;var Bd=K?K.valueOf:void 0,Cd=K?K.toString:void 0;function Q(a){if(X(a)&&!U(a)&&!(a instanceof R)){if(a instanceof Fd)return a;if(J.call(a,"__wrapped__"))return Mh(a)}return new Fd(a)}var Dd=function(){function a(){}return function(b){if(!W(b))return{};if(Nb)return Nb(b);a.prototype=b;b=new a;a.prototype=void 0;return b}}();function Ed(){}function Fd(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=void 0}Q.templateSettings={escape:Ya,evaluate:Za,interpolate:$a,variable:"",imports:{_:Q}};Q.prototype=Ed.prototype;Q.prototype.constructor=Q;Fd.prototype=Dd(Ed.prototype);Fd.prototype.constructor=Fd;function R(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=D,this.__views__=[]}function Gd(){var a=new R(this.__wrapped__);a.__actions__=ig(this.__actions__);a.__dir__=this.__dir__;a.__filtered__=this.__filtered__;a.__iteratees__=ig(this.__iteratees__);a.__takeCount__=this.__takeCount__;a.__views__=ig(this.__views__);return a}function Hd(){if(this.__filtered__){var a=new R(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Id(){var b=this.__wrapped__.value(),c=this.__dir__,d=U(b),e=c<0,f=d?b.length:0,g=ch(0,f,this.__views__),h=g.start;g=g.end;var i=g-h;g=e?g:h-1;h=this.__iteratees__;var j=h.length,k=0,l=ld(i,this.__takeCount__);if(!d||!e&&f==i&&l==i)return Rf(b,this.__actions__);d=[];outer:while(i--&&k<l){g+=c;e=-1;f=b[g];while(++e<j){var m=h[e],a=m.iteratee;m=m.type;a=a(f);if(m==ea)f=a;else if(!a)if(m==da)continue outer;else break outer}d[k++]=f}return d}R.prototype=Dd(Ed.prototype);R.prototype.constructor=R;function Jd(a){var b=-1,c=a==null?0:a.length;this.clear();while(++b<c){var d=a[b];this.set(d[0],d[1])}}function Kd(){this.__data__=td?td(null):{},this.size=0}function Ld(a){a=this.has(a)&&delete this.__data__[a];this.size-=a?1:0;return a}function Md(b){var c=this.__data__;if(td){var a=c[b];return a===j?void 0:a}return J.call(c,b)?c[b]:void 0}function Nd(a){var b=this.__data__;return td?b[a]!==void 0:J.call(b,a)}function Od(a,b){var c=this.__data__;this.size+=this.has(a)?0:1;c[a]=td&&b===void 0?j:b;return this}Jd.prototype.clear=Kd;Jd.prototype["delete"]=Ld;Jd.prototype.get=Md;Jd.prototype.has=Nd;Jd.prototype.set=Od;function Pd(a){var b=-1,c=a==null?0:a.length;this.clear();while(++b<c){var d=a[b];this.set(d[0],d[1])}}function Qd(){this.__data__=[],this.size=0}function Rd(a){var b=this.__data__;a=pe(b,a);if(a<0)return!1;var c=b.length-1;a==c?b.pop():Pb.call(b,a,1);--this.size;return!0}function Sd(a){var b=this.__data__;a=pe(b,a);return a<0?void 0:b[a][1]}function Td(a){return pe(this.__data__,a)>-1}function Ud(a,b){var c=this.__data__,d=pe(c,a);d<0?(++this.size,c.push([a,b])):c[d][1]=b;return this}Pd.prototype.clear=Qd;Pd.prototype["delete"]=Rd;Pd.prototype.get=Sd;Pd.prototype.has=Td;Pd.prototype.set=Ud;function Vd(a){var b=-1,c=a==null?0:a.length;this.clear();while(++b<c){var d=a[b];this.set(d[0],d[1])}}function Wd(){this.size=0,this.__data__={hash:new Jd,map:new(qd||Pd),string:new Jd}}function Xd(a){a=Wg(this,a)["delete"](a);this.size-=a?1:0;return a}function Yd(a){return Wg(this,a).get(a)}function Zd(a){return Wg(this,a).has(a)}function $d(b,c){var d=Wg(this,b),a=d.size;d.set(b,c);this.size+=d.size==a?0:1;return this}Vd.prototype.clear=Wd;Vd.prototype["delete"]=Xd;Vd.prototype.get=Yd;Vd.prototype.has=Zd;Vd.prototype.set=$d;function ae(a){var b=-1,c=a==null?0:a.length;this.__data__=new Vd;while(++b<c)this.add(a[b])}function be(a){this.__data__.set(a,j);return this}function ce(a){return this.__data__.has(a)}ae.prototype.add=ae.prototype.push=be;ae.prototype.has=ce;function de(a){a=this.__data__=new Pd(a);this.size=a.size}function ee(){this.__data__=new Pd,this.size=0}function fe(a){var b=this.__data__;a=b["delete"](a);this.size=b.size;return a}function ge(a){return this.__data__.get(a)}function he(a){return this.__data__.has(a)}function ie(a,b){var c=this.__data__;if(c instanceof Pd){var e=c.__data__;if(!qd||e.length<d-1){e.push([a,b]);this.size=++c.size;return this}c=this.__data__=new Vd(e)}c.set(a,b);this.size=c.size;return this}de.prototype.clear=ee;de.prototype["delete"]=fe;de.prototype.get=ge;de.prototype.has=he;de.prototype.set=ie;function je(a,b){var c=U(a),d=!c&&Jj(a),e=!c&&!d&&Mj(a),f=!c&&!d&&!e&&jk(a);c=c||d||e||f;d=c?Ic(a.length,yb):[];var g=d.length;for(var h in a)(b||J.call(a,h))&&!(c&&(h=="length"||e&&(h=="offset"||h=="parent")||f&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||kh(h,g)))&&d.push(h);return d}function ke(a){var b=a.length;return b?a[yf(0,b-1)]:void 0}function le(a,b){return Hh(ig(a),ve(b,0,a.length))}function me(a){return Hh(ig(a))}function ne(a,b,c){(c!==void 0&&!Ij(a[b],c)||c===void 0&&!(b in a))&&te(a,b,c)}function oe(a,b,c){var d=a[b];(!(J.call(a,b)&&Ij(d,c))||c===void 0&&!(b in a))&&te(a,b,c)}function pe(a,b){var c=a.length;while(c--)if(Ij(a[c][0],b))return c;return-1}function qe(b,c,a,d){Be(b,function(e,f,b){c(d,e,a(e),b)});return d}function re(a,b){return a&&jg(b,$(b),a)}function se(a,b){return a&&jg(b,Gk(b),a)}function te(a,b,c){b=="__proto__"&&Vb?Vb(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}function ue(b,c){var d=-1,e=c.length,a=g(e),f=b==null;while(++d<e)a[d]=f?void 0:Dk(b,c[d]);return a}function ve(a,b,c){a===a&&(c!==void 0&&(a=a<=c?a:c),b!==void 0&&(a=a>=b?a:b));return a}function we(b,c,d,e,f,g){var a,h=c&m,i=c&n,j=c&o;d&&(a=f?d(b,e,f,g):d(b));if(a!==void 0)return a;if(!W(b))return b;e=U(b);if(e){a=fh(b);if(!h)return ig(b,a)}else{var k=bh(b),l=k==ta||k==ua;if(Mj(b))return Zf(b,h);if(k==xa||k==ma||l&&!f){a=i||l?{}:gh(b);if(!h)return i?lg(b,se(a,b)):kg(b,re(a,b))}else{if(!M[k])return f?b:{};a=hh(b,k,h)}}g||(g=new de);l=g.get(b);if(l)return l;g.set(b,a);gk(b)?b.forEach(function(e){a.add(we(e,c,d,e,b,g))}):Wj(b)&&b.forEach(function(f,e){a.set(e,we(f,c,d,e,b,g))});f=j?i?Sg:Rg:i?Gk:$;var p=e?void 0:f(b);kc(p||b,function(f,e){p&&(e=f,f=b[e]),oe(a,e,we(f,c,d,e,b,g))});return a}function xe(a){var b=$(a);return function(c){return ye(c,a,b)}}function ye(a,b,c){var d=c.length;if(a==null)return!d;a=G(a);while(d--){var e=c[d],f=b[e],g=a[e];if(g===void 0&&!(e in a)||!f(g))return!1}return!0}function ze(a,b,c){if(typeof a!="function")throw new I(f);return Dh(function(){a.apply(void 0,c)},b)}function Ae(f,c,e,g){var h=-1,a=oc,i=!0,j=f.length,b=[],k=c.length;if(!j)return b;e&&(c=O(c,Kc(e)));g?(a=pc,i=!1):c.length>=d&&(a=Mc,i=!1,c=new ae(c));outer:while(++h<j){var l=f[h],m=e==null?l:e(l);l=g||l!==0?l:0;if(i&&m===m){var n=k;while(n--)if(c[n]===m)continue outer;b.push(l)}else a(c,m,g)||b.push(l)}return b}var Be=og(Ke),Ce=og(Le,!0);function De(b,c){var a=!0;Be(b,function(d,e,b){a=!!c(d,e,b);return a});return a}function Ee(c,b,d){var e=-1,f=c.length;while(++e<f){var g=c[e],h=b(g);if(h!=null&&(i===void 0?h===h&&!ik(h):d(h,i)))var i=h,a=g}return a}function Fe(a,b,c,d){var e=a.length;c=Y(c);c<0&&(c=-c>e?0:e+c);d=d===void 0||d>e?e:Y(d);d<0&&(d+=e);d=c>d?0:pk(d);while(c<d)a[c++]=b;return a}function Ge(b,c){var a=[];Be(b,function(d,e,b){c(d,e,b)&&a.push(d)});return a}function He(b,c,d,e,a){var f=-1,g=b.length;d||(d=jh);a||(a=[]);while(++f<g){var h=b[f];c>0&&d(h)?c>1?He(h,c-1,d,e,a):qc(a,h):e||(a[a.length]=h)}return a}var Ie=pg(),Je=pg(!0);function Ke(b,a){return b&&Ie(b,a,$)}function Le(b,a){return b&&Je(b,a,$)}function Me(a,b){return nc(b,function(b){return Tj(a[b])})}function Ne(a,b){b=Wf(b,a);var c=0,d=b.length;while(a!=null&&c<d)a=a[Jh(b[c++])];return c&&c==d?a:void 0}function Oe(a,b,c){b=b(a);return U(a)?b:qc(b,c(a))}function Pe(a){return a==null?a===void 0?Da:wa:Ub&&Ub in G(a)?Zg(a):xh(a)}function Qe(a,b){return a>b}function Re(a,b){return a!=null&&J.call(a,b)}function Se(a,b){return a!=null&&b in G(a)}function Te(a,b,c){return a>=ld(b,c)&&a<P(b,c)}function Ue(d,c,e){var a=e?pc:oc,f=d[0].length,h=d.length,i=h,j=g(h),k=Infinity,b=[];while(i--){var l=d[i];i&&c&&(l=O(l,Kc(c)));k=ld(l.length,k);j[i]=!e&&(c||f>=120&&l.length>=120)?new ae(i&&l):void 0}l=d[0];var m=-1,n=j[0];outer:while(++m<f&&b.length<k){var o=l[m],p=c?c(o):o;o=e||o!==0?o:0;if(!(n?Mc(n,p):a(b,p,e))){i=h;while(--i){var q=j[i];if(!(q?Mc(q,p):a(d[i],p,e)))continue outer}n&&n.push(p);b.push(o)}}return b}function Ve(b,c,a,d){Ke(b,function(e,f,b){c(d,a(e),f,b)});return d}function We(a,b,c){b=Wf(b,a);a=zh(a,b);b=a==null?a:a[Jh(ei(b))];return b==null?void 0:ic(b,a,c)}function Xe(a){return X(a)&&Pe(a)==ma}function Ye(a){return X(a)&&Pe(a)==Ga}function Ze(a){return X(a)&&Pe(a)==qa}function $e(a,b,c,d,e){if(a===b)return!0;return a==null||b==null||!X(a)&&!X(b)?a!==a&&b!==b:af(a,b,c,d,$e,e)}function af(a,b,c,d,e,f){var g=U(a),h=U(b),i=g?na:bh(a);h=h?na:bh(b);i=i==ma?xa:i;h=h==ma?xa:h;var j=i==xa,k=h==xa;h=i==h;if(h&&Mj(a)){if(!Mj(b))return!1;g=!0;j=!1}if(h&&!j){f||(f=new de);return g||jk(a)?Ng(a,b,c,d,e,f):Og(a,b,i,c,d,e,f)}if(!(c&p)){g=j&&J.call(a,"__wrapped__");i=k&&J.call(b,"__wrapped__");if(g||i){j=g?a.value():a;k=i?b.value():b;f||(f=new de);return e(j,k,c,d,f)}}if(!h)return!1;f||(f=new de);return Pg(a,b,c,d,e,f)}function bf(a){return X(a)&&bh(a)==E}function cf(b,c,d,e){var f=d.length,g=f,h=!e;if(b==null)return!g;b=G(b);while(f--){var i=d[f];if(h&&i[2]?i[1]!==b[i[0]]:!(i[0]in b))return!1}while(++f<g){i=d[f];var j=i[0],k=b[j],l=i[1];if(h&&i[2]){if(k===void 0&&!(j in b))return!1}else{i=new de;if(e)var a=e(k,l,j,b,c,i);if(!(a===void 0?$e(l,k,p|q,e,i):a))return!1}}return!0}function df(a){if(!W(a)||ph(a))return!1;var b=Tj(a)?Jb:rb;return b.test(Kh(a))}function ef(a){return X(a)&&Pe(a)==za}function ff(a){return X(a)&&bh(a)==Aa}function gf(a){return X(a)&&Vj(a.length)&&!!L[Pe(a)]}function hf(a){if(typeof a=="function")return a;if(a==null)return Jl;return typeof a=="object"?U(a)?of(a[0],a[1]):nf(a):Vl(a)}function jf(b){if(!rh(b))return kd(b);var a=[];for(var c in G(b))J.call(b,c)&&c!="constructor"&&a.push(c);return a}function kf(b){if(!W(b))return wh(b);var c=rh(b),a=[];for(var d in b)d=="constructor"&&(c||!J.call(b,d))||a.push(d);return a}function lf(a,b){return a<b}function mf(c,b){var d=-1,a=Kj(c)?g(c.length):[];Be(c,function(e,f,c){a[++d]=b(e,f,c)});return a}function nf(a){var b=Xg(a);return b.length==1&&b[0][2]?th(b[0][0],b[0][1]):function(c){return c===a||cf(c,a,b)}}function of(a,b){return mh(a)&&sh(b)?th(Jh(a),b):function(c){var d=Dk(c,a);return d===void 0&&d===b?Fk(c,a):$e(b,d,p|q)}}function pf(a,b,c,d,e){if(a===b)return;Ie(b,function(f,g){e||(e=new de);if(W(f))qf(a,b,g,c,pf,d,e);else{var h=d?d(Bh(a,g),f,g+"",a,b,e):void 0;h===void 0&&(h=f);ne(a,g,h)}},Gk)}function qf(a,b,c,d,e,f,g){var h=Bh(a,c),i=Bh(b,c),j=g.get(i);if(j){ne(a,c,j);return}j=f?f(h,i,c+"",a,b,g):void 0;b=j===void 0;if(b){var k=U(i),l=!k&&Mj(i),m=!k&&!l&&jk(i);j=i;k||l||m?U(h)?j=h:V(h)?j=ig(h):l?(b=!1,j=Zf(i,!0)):m?(b=!1,j=dg(i,!0)):j=[]:dk(i)||Jj(i)?(j=h,Jj(h)?j=rk(h):(!W(h)||Tj(h))&&(j=gh(i))):b=!1}b&&(g.set(i,j),e(j,i,d,f,g),g["delete"](i));ne(a,c,j)}function rf(a,b){var c=a.length;if(!c)return;b+=b<0?c:0;return kh(b,c)?a[b]:void 0}function sf(a,b,c){var d=-1;b=O(b.length?b:[Jl],Kc(T()));a=mf(a,function(c,e,a){e=O(b,function(a){return a(c)});return{criteria:e,index:++d,value:c}});return Gc(a,function(a,b){return fg(a,b,c)})}function tf(a,b){return uf(a,b,function(b,c){return Fk(a,c)})}function uf(b,c,d){var e=-1,f=c.length,a={};while(++e<f){var g=c[e],h=Ne(b,g);d(h,g)&&Df(a,Wf(g,b),h)}return a}function vf(a){return function(b){return Ne(b,a)}}function wf(d,b,c,e){var a=e?Ac:zc,f=-1,g=b.length,h=d;d===b&&(b=ig(b));c&&(h=O(d,Kc(c)));while(++f<g){var i=0,j=b[f];j=c?c(j):j;while((i=a(h,j,i,e))>-1)h!==d&&Pb.call(h,i,1),Pb.call(d,i,1)}return d}function xf(a,b){var c=a?b.length:0,d=c-1;while(c--){var e=b[c];if(c==d||e!==f){var f=e;kh(e)?Pb.call(a,e,1):Of(a,e)}}return a}function yf(a,b){return a+Ec(od()*(b-a+1))}function zf(b,c,d,e){var f=-1;c=P(vc((c-b)/(d||1)),0);var a=g(c);while(c--)a[e?c:++f]=b,b+=d;return a}function Af(b,c){var a="";if(!b||c<1||c>ga)return a;do c%2&&(a+=b),c=Ec(c/2),c&&(b+=b);while(c);return a}function S(a,b){return Eh(yh(a,b,Jl),a+"")}function Bf(a){return ke(Wk(a))}function Cf(a,b){a=Wk(a);return Hh(a,ve(b,0,a.length))}function Df(a,b,c,d){if(!W(a))return a;b=Wf(b,a);var e=-1,f=b.length,g=f-1,h=a;while(h!=null&&++e<f){var i=Jh(b[e]),j=c;if(e!=g){var k=h[i];j=d?d(k,i,h):void 0;j===void 0&&(j=W(k)?k:kh(b[e+1])?[]:{})}oe(h,i,j);h=h[i]}return a}var Ef=ud?function(a,b){ud.set(a,b);return a}:Jl;K=Vb?function(a,b){return Vb(a,"toString",{configurable:!0,enumerable:!1,value:Gl(b),writable:!0})}:Jl;function Ff(a){return Hh(Wk(a))}function Gf(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b);c=c>e?e:c;c<0&&(c+=e);e=b>c?0:c-b>>>0;b>>>=0;c=g(e);while(++d<e)c[d]=a[d+b];return c}function Hf(b,c){var a;Be(b,function(d,e,b){a=c(d,e,b);return!a});return!!a}function If(a,b,c){var d=0,e=a==null?d:a.length;if(typeof b=="number"&&b===b&&e<=ka){while(d<e){var f=d+e>>>1,g=a[f];g!==null&&!ik(g)&&(c?g<=b:g<b)?d=f+1:e=f}return e}return Jf(a,b,Jl,c)}function Jf(b,c,a,d){c=a(c);var e=0,f=b==null?0:b.length,g=c!==c,h=c===null,i=ik(c),j=c===void 0;while(e<f){var k=Ec((e+f)/2),l=a(b[k]),m=l!==void 0,n=l===null,o=l===l,p=ik(l);if(g)var q=d||o;else j?q=o&&(d||m):h?q=o&&m&&(d||!n):i?q=o&&m&&!n&&(d||!p):n||p?q=!1:q=d?l<=c:l<c;q?e=k+1:f=k}return ld(f,ja)}function Kf(c,b){var d=-1,e=c.length,f=0,a=[];while(++d<e){var g=c[d],h=b?b(g):g;if(!d||!Ij(h,i)){var i=h;a[f++]=g===0?0:g}}return a}function Lf(a){if(typeof a=="number")return a;return ik(a)?ia:+a}function Mf(b){if(typeof b=="string")return b;if(U(b))return O(b,Mf)+"";if(ik(b))return Cd?Cd.call(b):"";var a=b+"";return a=="0"&&1/b==-fa?"-0":a}function Nf(f,e,g){var h=-1,a=oc,i=f.length,j=!0,b=[],k=b;if(g)j=!1,a=pc;else if(i>=d){var c=e?null:Hg(f);if(c)return $c(c);j=!1;a=Mc;k=new ae}else k=e?[]:b;outer:while(++h<i){c=f[h];var l=e?e(c):c;c=g||c!==0?c:0;if(j&&l===l){var m=k.length;while(m--)if(k[m]===l)continue outer;e&&k.push(l);b.push(c)}else a(k,l,g)||(k!==b&&k.push(l),b.push(c))}return b}function Of(a,b){b=Wf(b,a);a=zh(a,b);return a==null||delete a[Jh(ei(b))]}function Pf(a,b,c,d){return Df(a,b,c(Ne(a,b)),d)}function Qf(a,b,c,d){var e=a.length,f=d?e:-1;while((d?f--:++f<e)&&b(a[f],f,a));return c?Gf(a,d?0:f,d?f+1:e):Gf(a,d?f+1:0,d?e:f)}function Rf(a,b){a=a;a instanceof R&&(a=a.value());return rc(b,function(a,b){return b.func.apply(b.thisArg,qc([a],b.args))},a)}function Sf(c,b,d){var e=c.length;if(e<2)return e?Nf(c[0]):[];var f=-1,a=g(e);while(++f<e){var h=c[f],i=-1;while(++i<e)i!=f&&(a[f]=Ae(a[f]||h,c[i],b,d))}return Nf(He(a,1),b,d)}function Tf(c,b,d){var e=-1,f=c.length,g=b.length,a={};while(++e<f){var h=e<g?b[e]:void 0;d(a,c[e],h)}return a}function Uf(a){return V(a)?a:[]}function Vf(a){return typeof a=="function"?a:Jl}function Wf(a,b){return U(a)?a:mh(a,b)?[a]:Ih(Z(a))}Kd=S;function Xf(a,b,c){var d=a.length;c=c===void 0?d:c;return!b&&c>=d?a:Gf(a,b,c)}var Yf=Wb||function(a){return N.clearTimeout(a)};function Zf(a,b){if(b)return a.slice();b=a.length;b=Lb?Lb(b):new a.constructor(b);a.copy(b);return b}function $f(b){var a=new b.constructor(b.byteLength);new Kb(a).set(new Kb(b));return a}function ag(a,b){b=b?$f(a.buffer):a.buffer;return new a.constructor(b,a.byteOffset,a.byteLength)}function bg(b){var a=new b.constructor(b.source,ob.exec(b));a.lastIndex=b.lastIndex;return a}function cg(a){return Bd?G(Bd.call(a)):{}}function dg(a,b){b=b?$f(a.buffer):a.buffer;return new a.constructor(b,a.byteOffset,a.length)}function eg(a,b){if(a!==b){var c=a!==void 0,d=a===null,e=a===a,f=ik(a),g=b!==void 0,h=b===null,i=b===b,j=ik(b);if(!h&&!j&&!f&&a>b||f&&g&&i&&!h&&!j||d&&g&&i||!c&&i||!e)return 1;if(!d&&!f&&!j&&a<b||j&&c&&e&&!d&&!f||h&&c&&e||!g&&e||!i)return-1}return 0}function fg(b,c,d){var e=-1,f=b.criteria,g=c.criteria,h=f.length,i=d.length;while(++e<h){var a=eg(f[e],g[e]);if(a){if(e>=i)return a;var j=d[e];return a*(j=="desc"?-1:1)}}return b.index-c.index}function gg(b,c,d,e){var f=-1,h=b.length,i=d.length,j=-1,k=c.length,l=P(h-i,0),a=g(k+l);e=!e;while(++j<k)a[j]=c[j];while(++f<i)(e||f<h)&&(a[d[f]]=b[f]);while(l--)a[j++]=b[f++];return a}function hg(b,c,d,e){var f=-1,h=b.length,i=-1,j=d.length,k=-1,l=c.length,m=P(h-j,0),a=g(m+l);e=!e;while(++f<m)a[f]=b[f];m=f;while(++k<l)a[m+k]=c[k];while(++i<j)(e||f<h)&&(a[m+d[i]]=b[f++]);return a}function ig(a,b){var c=-1,d=a.length;b||(b=g(d));while(++c<d)b[c]=a[c];return b}function jg(a,b,c,d){var e=!c;c||(c={});var f=-1,g=b.length;while(++f<g){var h=b[f],i=d?d(c[h],a[h],h,c,a):void 0;i===void 0&&(i=a[h]);e?te(c,h,i):oe(c,h,i)}return c}function kg(a,b){return jg(a,$g(a),b)}function lg(a,b){return jg(a,ah(a),b)}function mg(a,b){return function(d,c){var e=U(d)?jc:qe,f=b?b():{};return e(d,a,T(c,2),f)}}function ng(a){return S(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:void 0,g=e>2?c[2]:void 0;f=a.length>3&&typeof f=="function"?(e--,f):void 0;g&&lh(c[0],c[1],g)&&(f=e<3?void 0:f,e=1);b=G(b);while(++d<e){g=c[d];g&&a(b,g,d,f)}return b})}function og(a,b){return function(d,c){if(d==null)return d;if(!Kj(d))return a(d,c);var e=d.length,f=b?e:-1,g=G(d);while(b?f--:++f<e)if(c(g[f],f,g)===!1)break;return d}}function pg(a){return function(c,b,d){var e=-1,f=G(c);d=d(c);var g=d.length;while(g--){var h=d[a?g:++e];if(b(f[h],h,f)===!1)break}return c}}function qg(a,b,c){var d=b&r,e=tg(a);function f(){var b=this&&this!==N&&this instanceof f?e:a;return b.apply(d?c:this,arguments)}return f}function rg(a){return function(b){b=Z(b);var c=Uc(b)?ed(b):void 0,d=c?c[0]:b.charAt(0);c=c?Xf(c,1).join(""):b.slice(1);return d[a]()+c}}function sg(a){return function(b){return rc(Cl(cl(b).replace(Rb,"")),a,"")}}function tg(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var d=Dd(a.prototype),b=a.apply(d,c);return W(b)?b:d}}function ug(a,b,c){var d=tg(a);function e(){var f=arguments.length,h=g(f),i=f,j=Vg(e);while(i--)h[i]=arguments[i];var k=f<3&&h[0]!==j&&h[f-1]!==j?[]:Zc(h,j);f-=k.length;if(f<c)return Fg(a,b,xg,e.placeholder,void 0,h,k,void 0,void 0,c-f);var l=this&&this!==N&&this instanceof e?d:a;return ic(l,this,h)}return e}function vg(a){return function(c,d,e){var f=G(c);if(!Kj(c)){var b=T(d,3);c=$(c);d=function(a){return b(f[a],a,f)}}d=a(c,d,e);return d>-1?f[b?c[d]:d]:void 0}}function wg(a){return Qg(function(b){var c=b.length,d=c,e=Fd.prototype.thru;a&&b.reverse();while(d--){var g=b[d];if(typeof g!="function")throw new I(f);if(e&&!h&&Ug(g)=="wrapper")var h=new Fd([],!0)}d=h?d:c;while(++d<c){g=b[d];e=Ug(g);var i=e=="wrapper"?Tg(g):void 0;i&&oh(i[0])&&i[1]==(y|u|w|z)&&!i[4].length&&i[9]==1?h=h[Ug(i[0])].apply(h,i[3]):h=g.length==1&&oh(g)?h[e]():h.thru(g)}return function(){var e=arguments,f=e[0];if(h&&e.length==1&&U(f))return h.plant(f).value();var d=0,a=c?b[d].apply(this,e):f;while(++d<c)a=b[d].call(this,a);return a}})}function xg(b,c,d,e,f,h,i,j,a,k){var l=c&y,m=c&r,n=c&s,o=c&(u|v),p=c&A,q=n?void 0:tg(b);function t(){var r=arguments.length,s=g(r),u=r;while(u--)s[u]=arguments[u];if(o)var v=Vg(t),w=Pc(s,v);e&&(s=gg(s,e,f,o));h&&(s=hg(s,h,i,o));r-=w;if(o&&r<k){var x=Zc(s,v);return Fg(b,c,xg,t.placeholder,d,s,x,j,a,k-r)}var y=m?d:this,z=n?y[b]:b;r=s.length;j?s=Ah(s,j):p&&r>1&&s.reverse();l&&a<r&&(s.length=a);this&&this!==N&&this instanceof t&&(z=q||tg(z));return z.apply(y,s)}return t}function yg(a,b){return function(d,c){return Ve(d,a,b(c),{})}}function zg(a,b){return function(d,e){var c;if(d===void 0&&e===void 0)return b;d!==void 0&&(c=d);if(e!==void 0){if(c===void 0)return e;typeof d=="string"||typeof e=="string"?(d=Mf(d),e=Mf(e)):(d=Lf(d),e=Lf(e));c=a(d,e)}return c}}function Ag(a){return Qg(function(b){b=O(b,Kc(T()));return S(function(c){var d=this;return a(b,function(a){return ic(a,d,c)})})})}function Bg(a,b){b=b===void 0?" ":Mf(b);var c=b.length;if(c<2)return c?Af(b,a):b;c=Af(b,vc(a/dd(b)));return Uc(b)?Xf(ed(c),0,a).join(""):c.slice(0,a)}function Cg(a,b,c,d){var e=b&r,f=tg(a);function h(){var b=-1,i=arguments.length,j=-1,k=d.length,l=g(k+i),m=this&&this!==N&&this instanceof h?f:a;while(++j<k)l[j]=d[j];while(i--)l[j++]=arguments[++b];return ic(m,e?c:this,l)}return h}function Dg(a){return function(b,c,d){d&&typeof d!="number"&&lh(b,c,d)&&(c=d=void 0);b=ok(b);c===void 0?(c=b,b=0):c=ok(c);d=d===void 0?b<c?1:-1:ok(d);return zf(b,c,d,a)}}function Eg(a){return function(b,c){typeof b=="string"&&typeof c=="string"||(b=qk(b),c=qk(c));return a(b,c)}}function Fg(b,c,d,e,f,g,h,i,a,j){var k=c&u,l=k?h:void 0;h=k?void 0:h;var m=k?g:void 0;g=k?void 0:g;c|=k?w:x;c&=~(k?x:w);c&t||(c&=~(r|s));k=[b,c,f,m,l,g,h,i,a,j];f=d.apply(void 0,k);oh(b)&&Ch(f,k);f.placeholder=e;return Fh(f,b,c)}function Gg(a){var b=xb[a];return function(a,c){a=qk(a);c=c==null?0:ld(Y(c),292);if(c&&gd(a)){var d=(Z(a)+"e").split("e"),e=b(d[0]+"e"+(+d[1]+c));d=(Z(e)+"e").split("e");return+(d[0]+"e"+(+d[1]-c))}return b(a)}}var Hg=sd&&1/$c(new sd([,-0]))[1]==fa?function(a){return new sd(a)}:Rl;function Ig(a){return function(b){var c=bh(b);if(c==E)return Xc(b);return c==Aa?ad(b):Jc(b,a(b))}}function Jg(b,c,d,e,g,h,a,i){var j=c&s;if(!j&&typeof b!="function")throw new I(f);var k=e?e.length:0;k||(c&=~(w|x),e=g=void 0);a=a===void 0?a:P(Y(a),0);i=i===void 0?i:Y(i);k-=g?g.length:0;if(c&x){var l=e,m=g;e=g=void 0}var n=j?void 0:Tg(b);h=[b,c,d,e,g,l,m,h,a,i];n&&vh(h,n);b=h[0];c=h[1];d=h[2];e=h[3];g=h[4];i=h[9]=h[9]===void 0?j?0:b.length:P(h[9]-k,0);!i&&c&(u|v)&&(c&=~(u|v));if(!c||c==r)var a=qg(b,c,d);else c==u||c==v?a=ug(b,c,i):(c==w||c==(r|w))&&!g.length?a=Cg(b,c,d,e):a=xg.apply(void 0,h);j=n?Ef:Ch;return Fh(j(a,h),b,c)}function Kg(a,b,c,d){return a===void 0||Ij(a,Bb[c])&&!J.call(d,c)?b:a}function Lg(a,b,c,d,e,f){W(a)&&W(b)&&(f.set(b,a),pf(a,b,void 0,Lg,f),f["delete"](b));return a}function Mg(a){return dk(a)?void 0:a}function Ng(b,c,d,e,f,g){var h=d&p,i=b.length,j=c.length;if(i!=j&&!(h&&j>i))return!1;j=g.get(b);if(j&&g.get(c))return j==c;j=-1;var a=!0,k=d&q?new ae:void 0;g.set(b,c);g.set(c,b);while(++j<i){var l=b[j],m=c[j];if(e)var n=h?e(m,l,j,c,b,g):e(l,m,j,b,c,g);if(n!==void 0){if(n)continue;a=!1;break}if(k){if(!tc(c,function(a,b){if(!Mc(k,b)&&(l===a||f(l,a,d,e,g)))return k.push(b)})){a=!1;break}}else if(!(l===m||f(l,m,d,e,g))){a=!1;break}}g["delete"](b);g["delete"](c);return a}function Og(a,b,c,d,e,f,g){switch(c){case Ha:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer;b=b.buffer;case Ga:return a.byteLength!=b.byteLength||!f(new Kb(a),new Kb(b))?!1:!0;case pa:case qa:case va:return Ij(+a,+b);case sa:return a.name==b.name&&a.message==b.message;case za:case Ba:return a==b+"";case E:var h=Xc;case Aa:c=d&p;h||(h=$c);if(a.size!=b.size&&!c)return!1;c=g.get(a);if(c)return c==b;d|=q;g.set(a,b);c=Ng(h(a),h(b),d,e,f,g);g["delete"](a);return c;case Ca:if(Bd)return Bd.call(a)==Bd.call(b)}return!1}function Pg(a,b,c,d,e,f){var g=c&p,h=Rg(a),i=h.length,j=Rg(b);j=j.length;if(i!=j&&!g)return!1;j=i;while(j--){var k=h[j];if(!(g?k in b:J.call(b,k)))return!1}var l=f.get(a);if(l&&f.get(b))return l==b;l=!0;f.set(a,b);f.set(b,a);var m=g;while(++j<i){k=h[j];var n=a[k],o=b[k];if(d)var q=g?d(o,n,k,b,a,f):d(n,o,k,a,b,f);if(!(q===void 0?n===o||e(n,o,c,d,f):q)){l=!1;break}m||(m=k=="constructor")}if(l&&!m){n=a.constructor;o=b.constructor;n!=o&&"constructor"in a&&"constructor"in b&&!(typeof n=="function"&&n instanceof n&&typeof o=="function"&&o instanceof o)&&(l=!1)}f["delete"](a);f["delete"](b);return l}function Qg(a){return Eh(yh(a,void 0,Xh),a+"")}function Rg(a){return Oe(a,$,$g)}function Sg(a){return Oe(a,Gk,ah)}var Tg=ud?function(a){return ud.get(a)}:Rl;function Ug(b){var a=b.name+"",c=vd[a],d=J.call(vd,a)?c.length:0;while(d--){var e=c[d],f=e.func;if(f==null||f==b)return e.name}return a}function Vg(a){a=J.call(Q,"placeholder")?Q:a;return a.placeholder}function T(){var a=Q.iteratee||Kl;a=a===Kl?hf:a;return arguments.length?a(arguments[0],arguments[1]):a}function Wg(a,b){a=a.__data__;return nh(b)?a[typeof b=="string"?"string":"hash"]:a.map}function Xg(b){var a=$(b),c=a.length;while(c--){var d=a[c],e=b[d];a[c]=[d,e,sh(e)]}return a}function Yg(a,b){a=Tc(a,b);return df(a)?a:void 0}function Zg(b){var c=J.call(b,Ub),d=b[Ub];try{b[Ub]=void 0;var e=!0}catch(a){}var a=Gb.call(b);e&&(c?b[Ub]=d:delete b[Ub]);return a}var $g=bd?function(a){if(a==null)return[];a=G(a);return nc(bd(a),function(b){return Ob.call(a,b)})}:Yl,ah=bd?function(b){var a=[];while(b)qc(a,$g(b)),b=Mb(b);return a}:Yl,bh=Pe;(h&&bh(new h(new ArrayBuffer(1)))!=Ha||qd&&bh(new qd)!=E||rd&&bh(rd.resolve())!=F||sd&&bh(new sd)!=Aa||b&&bh(new b)!=Ea)&&(bh=function(b){var a=Pe(b);b=a==xa?b.constructor:void 0;b=b?Kh(b):"";if(b)switch(b){case wd:return Ha;case xd:return E;case yd:return F;case zd:return Aa;case Ad:return Ea}return a});function ch(b,c,d){var e=-1,f=d.length;while(++e<f){var g=d[e],a=g.size;switch(g.type){case"drop":b+=a;break;case"dropRight":c-=a;break;case"take":c=ld(c,b+a);break;case"takeRight":b=P(b,c-a);break}}return{start:b,end:c}}function dh(a){a=a.match(jb);return a?a[1].split(kb):[]}function eh(b,c,d){c=Wf(c,b);var e=-1,f=c.length,a=!1;while(++e<f){var g=Jh(c[e]);if(!(a=b!=null&&d(b,g)))break;b=b[g]}if(a||++e!=f)return a;f=b==null?0:b.length;return!!f&&Vj(f)&&kh(g,f)&&(U(b)||Jj(b))}function fh(b){var c=b.length,a=new b.constructor(c);c&&typeof b[0]=="string"&&J.call(b,"index")&&(a.index=b.index,a.input=b.input);return a}function gh(a){return typeof a.constructor=="function"&&!rh(a)?Dd(Mb(a)):{}}function hh(a,b,c){var d=a.constructor;switch(b){case Ga:return $f(a);case pa:case qa:return new d(+a);case Ha:return ag(a,c);case Ia:case Ja:case Ka:case La:case Ma:case Na:case Oa:case Pa:case Qa:return dg(a,c);case E:return new d;case va:case Ba:return new d(a);case za:return bg(a);case Aa:return new d;case Ca:return cg(a)}}function ih(a,b){var c=b.length;if(!c)return a;var d=c-1;b[d]=(c>1?"& ":"")+b[d];b=b.join(c>2?", ":" ");return a.replace(ib,"{\n/* [wrapped with "+b+"] */\n")}function jh(a){return U(a)||Jj(a)||!!(Qb&&a&&a[Qb])}function kh(a,b){var c=typeof a;b=b==null?ga:b;return!!b&&(c=="number"||c!="symbol"&&tb.test(a))&&a>-1&&a%1==0&&a<b}function lh(a,b,c){if(!W(c))return!1;var d=typeof b;return(d=="number"?Kj(c)&&kh(b,c.length):d=="string"&&b in c)?Ij(c[b],a):!1}function mh(a,b){if(U(a))return!1;var c=typeof a;return c=="number"||c=="symbol"||c=="boolean"||a==null||ik(a)?!0:bb.test(a)||!ab.test(a)||b!=null&&a in G(b)}function nh(a){var b=typeof a;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?a!=="__proto__":a===null}function oh(a){var b=Ug(a),c=Q[b];if(typeof c!="function"||!(b in R.prototype))return!1;if(a===c)return!0;b=Tg(c);return!!b&&a===b[0]}function ph(a){return!!Fb&&Fb in a}var qh=Cb?Tj:Zl;function rh(a){var b=a&&a.constructor;b=typeof b=="function"&&b.prototype||Bb;return a===b}function sh(a){return a===a&&!W(a)}function th(a,b){return function(c){return c==null?!1:c[a]===b&&(b!==void 0||a in G(c))}}function uh(a){a=sj(a,function(a){b.size===k&&b.clear();return a});var b=a.cache;return a}function vh(a,b){var c=a[1],d=b[1],e=c|d,f=e<(r|s|y),g=d==y&&c==u||d==y&&c==z&&a[7].length<=b[8]||d==(y|z)&&b[7].length<=b[8]&&c==u;if(!(f||g))return a;d&r&&(a[2]=b[2],e|=c&r?0:t);f=b[3];if(f){g=a[3];a[3]=g?gg(g,f,b[4]):f;a[4]=g?Zc(a[3],l):b[4]}f=b[5];f&&(g=a[5],a[5]=g?hg(g,f,b[6]):f,a[6]=g?Zc(a[5],l):b[6]);f=b[7];f&&(a[7]=f);d&y&&(a[8]=a[8]==null?b[8]:ld(a[8],b[8]));a[9]==null&&(a[9]=b[9]);a[0]=b[0];a[1]=e;return a}function wh(b){var a=[];if(b!=null)for(b in G(b))a.push(b);return a}function xh(a){return Gb.call(a)}function yh(b,c,a){c=P(c===void 0?b.length-1:c,0);return function(){var d=arguments,e=-1,f=P(d.length-c,0),h=g(f);while(++e<f)h[e]=d[c+e];e=-1;var i=g(c+1);while(++e<c)i[e]=d[e];i[c]=a(h);return ic(b,this,i)}}function zh(a,b){return b.length<2?a:Ne(a,Gf(b,0,-1))}function Ah(a,b){var c=a.length,d=ld(b.length,c),e=ig(a);while(d--){var f=b[d];a[d]=kh(f,c)?e[f]:void 0}return a}function Bh(a,b){if(b==="constructor"&&typeof a[b]==="function")return;if(b=="__proto__")return;return a[b]}var Ch=Gh(Ef),Dh=uc||function(a,b){return N.setTimeout(a,b)},Eh=Gh(K);function Fh(a,b,c){b=b+"";return Eh(a,ih(b,Lh(dh(b),c)))}function Gh(a){var b=0,c=0;return function(){var d=md(),e=ca-(d-c);c=d;if(e>0){if(++b>=ba)return arguments[0]}else b=0;return a.apply(void 0,arguments)}}function Hh(b,a){var c=-1,d=b.length,e=d-1;a=a===void 0?d:a;while(++c<a){d=yf(c,e);var f=b[d];b[d]=b[c];b[c]=f}b.length=a;return b}var Ih=uh(function(b){var a=[];b.charCodeAt(0)===46&&a.push("");b.replace(cb,function(b,c,d,e){a.push(d?e.replace(mb,"$1"):c||b)});return a});function Jh(b){if(typeof b=="string"||ik(b))return b;var a=b+"";return a=="0"&&1/b==-fa?"-0":a}function Kh(a){if(a!=null){try{return Db.call(a)}catch(a){}try{return a+""}catch(a){}}return""}function Lh(a,b){kc(la,function(c){var d="_."+c[0];b&c[1]&&!oc(a,d)&&a.push(d)});return a.sort()}function Mh(b){if(b instanceof R)return b.clone();var a=new Fd(b.__wrapped__,b.__chain__);a.__actions__=ig(b.__actions__);a.__index__=b.__index__;a.__values__=b.__values__;return a}function Nh(c,a,d){(d?lh(c,a,d):a===void 0)?a=1:a=P(Y(a),0);d=c==null?0:c.length;if(!d||a<1)return[];var e=0,f=0,b=g(vc(d/a));while(e<d)b[f++]=Gf(c,e,e+=a);return b}function Oh(b){var c=-1,d=b==null?0:b.length,e=0,a=[];while(++c<d){var f=b[c];f&&(a[e++]=f)}return a}function Ph(){var a=arguments.length;if(!a)return[];var b=g(a-1),c=arguments[0],d=a;while(d--)b[d-1]=arguments[d];return qc(U(c)?ig(c):[c],He(b,1))}Ld=S(function(b,a){return V(b)?Ae(b,He(a,1,V,!0)):[]});Md=S(function(c,a){var b=ei(a);V(b)&&(b=void 0);return V(c)?Ae(c,He(a,1,V,!0),T(b,2)):[]});Nd=S(function(b,a){var c=ei(a);V(c)&&(c=void 0);return V(b)?Ae(b,He(a,1,V,!0),void 0,c):[]});function Qh(a,b,c){var d=a==null?0:a.length;if(!d)return[];b=c||b===void 0?1:Y(b);return Gf(a,b<0?0:b,d)}function Rh(a,b,c){var d=a==null?0:a.length;if(!d)return[];b=c||b===void 0?1:Y(b);b=d-b;return Gf(a,0,b<0?0:b)}function Sh(a,b){return a&&a.length?Qf(a,T(b,3),!0,!0):[]}function Th(a,b){return a&&a.length?Qf(a,T(b,3),!0):[]}function Uh(a,b,c,d){var e=a==null?0:a.length;if(!e)return[];c&&typeof c!="number"&&lh(a,b,c)&&(c=0,d=e);return Fe(a,b,c,d)}function Vh(a,b,c){var d=a==null?0:a.length;if(!d)return-1;c=c==null?0:Y(c);c<0&&(c=P(d+c,0));return yc(a,T(b,3),c)}function Wh(a,b,c){var d=a==null?0:a.length;if(!d)return-1;var e=d-1;c!==void 0&&(e=Y(c),e=c<0?P(d+e,0):ld(e,d-1));return yc(a,T(b,3),e,!0)}function Xh(a){var b=a==null?0:a.length;return b?He(a,1):[]}function Yh(a){var b=a==null?0:a.length;return b?He(a,fa):[]}function Zh(a,b){var c=a==null?0:a.length;if(!c)return[];b=b===void 0?1:Y(b);return He(a,b)}function $h(b){var c=-1,d=b==null?0:b.length,a={};while(++c<d){var e=b[c];a[e[0]]=e[1]}return a}function ai(a){return a&&a.length?a[0]:void 0}function bi(a,b,c){var d=a==null?0:a.length;if(!d)return-1;c=c==null?0:Y(c);c<0&&(c=P(d+c,0));return zc(a,b,c)}function ci(a){var b=a==null?0:a.length;return b?Gf(a,0,-1):[]}Od=S(function(a){var b=O(a,Uf);return b.length&&b[0]===a[0]?Ue(b):[]});Qd=S(function(b){var a=ei(b),c=O(b,Uf);a===ei(c)?a=void 0:c.pop();return c.length&&c[0]===b[0]?Ue(c,T(a,2)):[]});Rd=S(function(a){var b=ei(a),c=O(a,Uf);b=typeof b=="function"?b:void 0;b&&c.pop();return c.length&&c[0]===a[0]?Ue(c,void 0,b):[]});function di(a,b){return a==null?"":hd.call(a,b)}function ei(a){var b=a==null?0:a.length;return b?a[b-1]:void 0}function fi(a,b,c){var d=a==null?0:a.length;if(!d)return-1;var e=d;c!==void 0&&(e=Y(c),e=e<0?P(d+e,0):ld(e,d-1));return b===b?cd(a,b,e):yc(a,Bc,e,!0)}function gi(a,b){return a&&a.length?rf(a,Y(b)):void 0}Sd=S(hi);function hi(b,a){return b&&b.length&&a&&a.length?wf(b,a):b}function ii(c,a,b){return c&&c.length&&a&&a.length?wf(c,a,T(b,2)):c}function ji(b,a,c){return b&&b.length&&a&&a.length?wf(b,a,void 0,c):b}Td=Qg(function(b,c){var d=b==null?0:b.length,a=ue(b,c);xf(b,O(c,function(a){return kh(a,d)?+a:a}).sort(eg));return a});function ki(b,c){var a=[];if(!(b&&b.length))return a;var d=-1,e=[],f=b.length;c=T(c,3);while(++d<f){var g=b[d];c(g,d,b)&&(a.push(g),e.push(d))}xf(b,e);return a}function li(a){return a==null?a:pd.call(a)}function mi(a,b,c){var d=a==null?0:a.length;if(!d)return[];c&&typeof c!="number"&&lh(a,b,c)?(b=0,c=d):(b=b==null?0:Y(b),c=c===void 0?d:Y(c));return Gf(a,b,c)}function ni(a,b){return If(a,b)}function oi(b,c,a){return Jf(b,c,T(a,2))}function pi(a,b){var c=a==null?0:a.length;if(c){var d=If(a,b);if(d<c&&Ij(a[d],b))return d}return-1}function qi(a,b){return If(a,b,!0)}function ri(b,c,a){return Jf(b,c,T(a,2),!0)}function si(a,b){var c=a==null?0:a.length;if(c){c=If(a,b,!0)-1;if(Ij(a[c],b))return c}return-1}function ti(a){return a&&a.length?Kf(a):[]}function ui(b,a){return b&&b.length?Kf(b,T(a,2)):[]}function vi(a){var b=a==null?0:a.length;return b?Gf(a,1,b):[]}function wi(a,b,c){if(!(a&&a.length))return[];b=c||b===void 0?1:Y(b);return Gf(a,0,b<0?0:b)}function xi(a,b,c){var d=a==null?0:a.length;if(!d)return[];b=c||b===void 0?1:Y(b);b=d-b;return Gf(a,b<0?0:b,d)}function yi(a,b){return a&&a.length?Qf(a,T(b,3),!1,!0):[]}function zi(a,b){return a&&a.length?Qf(a,T(b,3)):[]}Ud=S(function(a){return Nf(He(a,1,V,!0))});Wd=S(function(b){var a=ei(b);V(a)&&(a=void 0);return Nf(He(b,1,V,!0),T(a,2))});Xd=S(function(a){var b=ei(a);b=typeof b=="function"?b:void 0;return Nf(He(a,1,V,!0),void 0,b)});function Ai(a){return a&&a.length?Nf(a):[]}function Bi(b,a){return b&&b.length?Nf(b,T(a,2)):[]}function Ci(a,b){b=typeof b=="function"?b:void 0;return a&&a.length?Nf(a,void 0,b):[]}function Di(a){if(!(a&&a.length))return[];var b=0;a=nc(a,function(a){if(V(a)){b=P(a.length,b);return!0}});return Ic(b,function(b){return O(a,Dc(b))})}function Ei(b,a){if(!(b&&b.length))return[];b=Di(b);return a==null?b:O(b,function(b){return ic(a,void 0,b)})}Yd=S(function(b,a){return V(b)?Ae(b,a):[]});Zd=S(function(a){return Sf(nc(a,V))});$d=S(function(b){var a=ei(b);V(a)&&(a=void 0);return Sf(nc(b,V),T(a,2))});be=S(function(a){var b=ei(a);b=typeof b=="function"?b:void 0;return Sf(nc(a,V),void 0,b)});ce=S(Di);function Fi(b,a){return Tf(b||[],a||[],oe)}function Gi(b,a){return Tf(b||[],a||[],Df)}ee=S(function(a){var b=a.length;b=b>1?a[b-1]:void 0;b=typeof b=="function"?(a.pop(),b):void 0;return Ei(a,b)});function Hi(a){a=Q(a);a.__chain__=!0;return a}function Ii(a,b){b(a);return a}function Ji(a,b){return b(a)}fe=Qg(function(a){var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return ue(b,a)};if(b>1||this.__actions__.length||!(d instanceof R)||!kh(c))return this.thru(e);d=d.slice(c,+c+(b?1:0));d.__actions__.push({func:Ji,args:[e],thisArg:void 0});return new Fd(d,this.__chain__).thru(function(a){b&&!a.length&&a.push(void 0);return a})});function Ki(){return Hi(this)}function Li(){return new Fd(this.value(),this.__chain__)}function Mi(){this.__values__===void 0&&(this.__values__=nk(this.value()));var a=this.__index__>=this.__values__.length,b=a?void 0:this.__values__[this.__index__++];return{done:a,value:b}}function Ni(){return this}function Oi(d){var c,a=this;while(a instanceof Ed){var b=Mh(a);b.__index__=0;b.__values__=void 0;c?e.__wrapped__=b:c=b;var e=b;a=a.__wrapped__}e.__wrapped__=d;return c}function Pi(){var a=this.__wrapped__;if(a instanceof R){a=a;this.__actions__.length&&(a=new R(this));a=a.reverse();a.__actions__.push({func:Ji,args:[li],thisArg:void 0});return new Fd(a,this.__chain__)}return this.thru(li)}function Qi(){return Rf(this.__wrapped__,this.__actions__)}ge=mg(function(a,b,c){J.call(a,c)?++a[c]:te(a,c,1)});function Ri(a,b,c){var d=U(a)?mc:De;c&&lh(a,b,c)&&(b=void 0);return d(a,T(b,3))}function Si(a,b){var c=U(a)?nc:Ge;return c(a,T(b,3))}he=vg(Vh);ie=vg(Wh);function Ti(b,a){return He(Zi(b,a),1)}function Ui(b,a){return He(Zi(b,a),fa)}function Vi(b,a,c){c=c===void 0?1:Y(c);return He(Zi(b,a),c)}function Wi(b,a){var c=U(b)?kc:Be;return c(b,T(a,3))}function Xi(b,a){var c=U(b)?lc:Ce;return c(b,T(a,3))}og=mg(function(a,b,c){J.call(a,c)?a[c].push(b):te(a,c,[b])});function Yi(a,b,c,d){a=Kj(a)?a:Wk(a);c=c&&!d?Y(c):0;d=a.length;c<0&&(c=P(d+c,0));return hk(a)?c<=d&&a.indexOf(b,c)>-1:!!d&&zc(a,b,c)>-1}pg=S(function(b,c,d){var e=-1,f=typeof c=="function",a=Kj(b)?g(b.length):[];Be(b,function(b){a[++e]=f?ic(c,b,d):We(b,c,d)});return a});Wb=mg(function(a,b,c){te(a,c,b)});function Zi(b,a){var c=U(b)?O:mf;return c(b,T(a,3))}function $i(a,b,c,d){if(a==null)return[];U(b)||(b=b==null?[]:[b]);c=d?void 0:c;U(c)||(c=c==null?[]:[c]);return sf(a,b,c)}h=mg(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]});function aj(b,a,c){var d=U(b)?rc:Fc,e=arguments.length<3;return d(b,T(a,4),c,e,Be)}function bj(b,a,c){var d=U(b)?sc:Fc,e=arguments.length<3;return d(b,T(a,4),c,e,Ce)}function cj(a,b){var c=U(a)?nc:Ge;return c(a,tj(T(b,3)))}function dj(a){var b=U(a)?ke:Bf;return b(a)}function ej(a,b,c){(c?lh(a,b,c):b===void 0)?b=1:b=Y(b);c=U(a)?le:Cf;return c(a,b)}function fj(a){var b=U(a)?me:Ff;return b(a)}function gj(a){if(a==null)return 0;if(Kj(a))return hk(a)?dd(a):a.length;var b=bh(a);return b==E||b==Aa?a.size:jf(a).length}function hj(a,b,c){var d=U(a)?tc:Hf;c&&lh(a,b,c)&&(b=void 0);return d(a,T(b,3))}rd=S(function(a,b){if(a==null)return[];var c=b.length;c>1&&lh(a,b[0],b[1])?b=[]:c>2&&lh(b[0],b[1],b[2])&&(b=[b[0]]);return sf(a,He(b,1),[])});var ij=Zb||function(){return N.Date.now()};function jj(a,b){if(typeof b!="function")throw new I(f);a=Y(a);return function(){if(--a<1)return b.apply(this,arguments)}}function kj(a,b,c){b=c?void 0:b;b=a&&b==null?a.length:b;return Jg(a,y,void 0,void 0,void 0,void 0,b)}function lj(b,c){var a;if(typeof c!="function")throw new I(f);b=Y(b);return function(){--b>0&&(a=c.apply(this,arguments));b<=1&&(c=void 0);return a}}var mj=S(function(a,b,c){var d=r;if(c.length){var e=Zc(c,Vg(mj));d|=w}return Jg(a,d,b,c,e)}),nj=S(function(a,b,c){var d=r|s;if(c.length){var e=Zc(c,Vg(nj));d|=w}return Jg(b,d,a,c,e)});function oj(a,b,c){b=c?void 0:b;c=Jg(a,u,void 0,void 0,void 0,void 0,void 0,b);c.placeholder=oj.placeholder;return c}function pj(a,b,c){b=c?void 0:b;c=Jg(a,v,void 0,void 0,void 0,void 0,void 0,b);c.placeholder=pj.placeholder;return c}function qj(b,c,d){var e,g,h,a,i,j,k=0,l=!1,m=!1,n=!0;if(typeof b!="function")throw new I(f);c=qk(c)||0;W(d)&&(l=!!d.leading,m="maxWait"in d,h=m?P(qk(d.maxWait)||0,c):h,n="trailing"in d?!!d.trailing:n);function o(c){var d=e,f=g;e=g=void 0;k=c;a=b.apply(f,d);return a}function p(b){k=b;i=Dh(s,c);return l?o(b):a}function q(a){var b=a-j;a=a-k;b=c-b;return m?ld(b,h-a):b}function r(a){var b=a-j;a=a-k;return j===void 0||b>=c||b<0||m&&a>=h}function s(){var a=ij();if(r(a))return t(a);i=Dh(s,q(a))}function t(b){i=void 0;if(n&&e)return o(b);e=g=void 0;return a}function u(){i!==void 0&&Yf(i),k=0,e=j=g=i=void 0}function v(){return i===void 0?a:t(ij())}function w(){var b=ij(),d=r(b);e=arguments;g=this;j=b;if(d){if(i===void 0)return p(j);if(m){Yf(i);i=Dh(s,c);return o(j)}}i===void 0&&(i=Dh(s,c));return a}w.cancel=u;w.flush=v;return w}b=S(function(a,b){return ze(a,1,b)});uc=S(function(a,b,c){return ze(a,qk(b)||0,c)});function rj(a){return Jg(a,A)}function sj(a,b){if(typeof a!="function"||b!=null&&typeof b!="function")throw new I(f);var c=function(){var e=arguments,f=b?b.apply(this,e):e[0],g=c.cache;if(g.has(f))return g.get(f);var d=a.apply(this,e);c.cache=g.set(f,d)||g;return d};c.cache=new(sj.Cache||Vd);return c}sj.Cache=Vd;function tj(a){if(typeof a!="function")throw new I(f);return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}function uj(a){return lj(2,a)}Gh=Kd(function(a,b){b=b.length==1&&U(b[0])?O(b[0],Kc(T())):O(He(b,1),Kc(T()));var c=b.length;return S(function(d){var e=-1,f=ld(d.length,c);while(++e<f)d[e]=b[e].call(this,d[e]);return ic(a,this,d)})});var vj=S(function(a,b){var c=Zc(b,Vg(vj));return Jg(a,w,void 0,b,c)}),wj=S(function(a,b){var c=Zc(b,Vg(wj));return Jg(a,x,void 0,b,c)});K=Qg(function(a,b){return Jg(a,z,void 0,void 0,void 0,b)});function xj(a,b){if(typeof a!="function")throw new I(f);b=b===void 0?b:Y(b);return S(a,b)}function yj(a,b){if(typeof a!="function")throw new I(f);b=b==null?0:P(Y(b),0);return S(function(c){var d=c[b];c=Xf(c,0,b);d&&qc(c,d);return ic(a,this,c)})}function zj(a,b,c){var d=!0,e=!0;if(typeof a!="function")throw new I(f);W(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e);return qj(a,b,{leading:d,maxWait:b,trailing:e})}function Aj(a){return kj(a,1)}function Bj(a,b){return vj(Vf(b),a)}function Cj(){if(!arguments.length)return[];var a=arguments[0];return U(a)?a:[a]}function Dj(a){return we(a,o)}function Ej(a,b){b=typeof b=="function"?b:void 0;return we(a,o,b)}function Fj(a){return we(a,m|o)}function Gj(a,b){b=typeof b=="function"?b:void 0;return we(a,m|o,b)}function Hj(a,b){return b==null||ye(a,b,$(b))}function Ij(a,b){return a===b||a!==a&&b!==b}uh=Eg(Qe);vg=Eg(function(a,b){return a>=b});var Jj=Xe(function(){return arguments}())?Xe:function(a){return X(a)&&J.call(a,"callee")&&!Ob.call(a,"callee")},U=g.isArray;mg=cc?Kc(cc):Ye;function Kj(a){return a!=null&&Vj(a.length)&&!Tj(a)}function V(a){return X(a)&&Kj(a)}function Lj(a){return a===!0||a===!1||X(a)&&Pe(a)==pa}var Mj=Ab||Zl;Zb=dc?Kc(dc):Ze;function Nj(a){return X(a)&&a.nodeType===1&&!dk(a)}function Oj(a){if(a==null)return!0;if(Kj(a)&&(U(a)||typeof a=="string"||typeof a.splice=="function"||Mj(a)||jk(a)||Jj(a)))return!a.length;var b=bh(a);if(b==E||b==Aa)return!a.size;if(rh(a))return!jf(a).length;for(b in a)if(J.call(a,b))return!1;return!0}function Pj(a,b){return $e(a,b)}function Qj(b,c,d){d=typeof d=="function"?d:void 0;var a=d?d(b,c):void 0;return a===void 0?$e(b,c,void 0,d):!!a}function Rj(a){if(!X(a))return!1;var b=Pe(a);return b==sa||b==ra||typeof a.message=="string"&&typeof a.name=="string"&&!dk(a)}function Sj(a){return typeof a=="number"&&gd(a)}function Tj(a){if(!W(a))return!1;a=Pe(a);return a==ta||a==ua||a==oa||a==ya}function Uj(a){return typeof a=="number"&&a==Y(a)}function Vj(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=ga}function W(a){var b=typeof a;return a!=null&&(b=="object"||b=="function")}function X(a){return a!=null&&typeof a=="object"}var Wj=ec?Kc(ec):bf;function Xj(a,b){return a===b||cf(a,b,Xg(b))}function Yj(a,b,c){c=typeof c=="function"?c:void 0;return cf(a,b,Xg(b),c)}function Zj(a){return ck(a)&&a!=+a}function $j(a){if(qh(a))throw new i(e);return df(a)}function ak(a){return a===null}function bk(a){return a==null}function ck(a){return typeof a=="number"||X(a)&&Pe(a)==va}function dk(a){if(!X(a)||Pe(a)!=xa)return!1;a=Mb(a);if(a===null)return!0;a=J.call(a,"constructor")&&a.constructor;return typeof a=="function"&&a instanceof a&&Db.call(a)==Hb}var ek=fc?Kc(fc):ef;function fk(a){return Uj(a)&&a>=-ga&&a<=ga}var gk=gc?Kc(gc):ff;function hk(a){return typeof a=="string"||!U(a)&&X(a)&&Pe(a)==Ba}function ik(a){return typeof a=="symbol"||X(a)&&Pe(a)==Ca}var jk=hc?Kc(hc):gf;function kk(a){return a===void 0}function lk(a){return X(a)&&bh(a)==Ea}function mk(a){return X(a)&&Pe(a)==Fa}Kd=Eg(lf);Xe=Eg(function(a,b){return a<=b});function nk(a){if(!a)return[];if(Kj(a))return hk(a)?ed(a):ig(a);if(Tb&&a[Tb])return Wc(a[Tb]());var b=bh(a);b=b==E?Xc:b==Aa?$c:Wk;return b(a)}function ok(a){if(!a)return a===0?a:0;a=qk(a);if(a===fa||a===-fa){var b=a<0?-1:1;return b*ha}return a===a?a:0}function Y(a){a=ok(a);var b=a%1;return a===a?b?a-b:a:0}function pk(a){return a?ve(Y(a),0,D):0}function qk(a){if(typeof a=="number")return a;if(ik(a))return ia;if(W(a)){var b=typeof a.valueOf=="function"?a.valueOf():a;a=W(b)?b+"":b}if(typeof a!="string")return a===0?a:+a;a=a.replace(fb,"");b=qb.test(a);return b||sb.test(a)?ac(a.slice(2),b?2:8):pb.test(a)?ia:+a}function rk(a){return jg(a,Gk(a))}function sk(a){return a?ve(Y(a),-ga,ga):a===0?a:0}function Z(a){return a==null?"":Mf(a)}Ye=ng(function(a,b){if(rh(b)||Kj(b)){jg(b,$(b),a);return}for(var c in b)J.call(b,c)&&oe(a,c,b[c])});Ab=ng(function(a,b){jg(b,Gk(b),a)});var tk=ng(function(a,b,c,d){jg(b,Gk(b),a,d)});Ze=ng(function(a,b,c,d){jg(b,$(b),a,d)});bf=Qg(ue);function uk(a,b){a=Dd(a);return b==null?a:re(a,b)}ef=S(function(a,b){a=G(a);var c=-1,d=b.length,e=d>2?b[2]:void 0;e&&lh(b[0],b[1],e)&&(d=1);while(++c<d){e=b[c];var f=Gk(e),g=-1,h=f.length;while(++g<h){var i=f[g],j=a[i];(j===void 0||Ij(j,Bb[i])&&!J.call(a,i))&&(a[i]=e[i])}}return a});ff=S(function(a){a.push(void 0,Lg);return ic(Kk,void 0,a)});function vk(a,b){return xc(a,T(b,3),Ke)}function wk(a,b){return xc(a,T(b,3),Le)}function xk(b,a){return b==null?b:Ie(b,T(a,3),Gk)}function yk(b,a){return b==null?b:Je(b,T(a,3),Gk)}function zk(b,a){return b&&Ke(b,T(a,3))}function Ak(b,a){return b&&Le(b,T(a,3))}function Bk(a){return a==null?[]:Me(a,$(a))}function Ck(a){return a==null?[]:Me(a,Gk(a))}function Dk(a,b,c){a=a==null?void 0:Ne(a,b);return a===void 0?c:a}function Ek(a,b){return a!=null&&eh(a,b,Re)}function Fk(a,b){return a!=null&&eh(a,b,Se)}gf=yg(function(a,b,c){b!=null&&typeof b.toString!="function"&&(b=Gb.call(b)),a[b]=c},Gl(Jl));Eg=yg(function(a,b,c){b!=null&&typeof b.toString!="function"&&(b=Gb.call(b)),J.call(a,b)?a[b].push(c):a[b]=[c]},T);yg=S(We);function $(a){return Kj(a)?je(a):jf(a)}function Gk(a){return Kj(a)?je(a,!0):kf(a)}function Hk(c,b){var a={};b=T(b,3);Ke(c,function(d,e,c){te(a,b(d,e,c),d)});return a}function Ik(c,b){var a={};b=T(b,3);Ke(c,function(d,e,c){te(a,e,b(d,e,c))});return a}var Jk=ng(function(a,b,c){pf(a,b,c)}),Kk=ng(function(a,b,c,d){pf(a,b,c,d)});ng=Qg(function(b,c){var a={};if(b==null)return a;var d=!1;c=O(c,function(a){a=Wf(a,b);d||(d=a.length>1);return a});jg(b,Sg(b),a);d&&(a=we(a,m|n|o,Mg));var e=c.length;while(e--)Of(a,c[e]);return a});function Lk(a,b){return Nk(a,tj(T(b)))}var Mk=Qg(function(a,b){return a==null?{}:tf(a,b)});function Nk(a,b){if(a==null)return{};var c=O(Sg(a),function(a){return[a]});b=T(b);return uf(a,c,function(a,c){return b(a,c[0])})}function Ok(a,b,c){b=Wf(b,a);var d=-1,e=b.length;e||(e=1,a=void 0);while(++d<e){var f=a==null?void 0:a[Jh(b[d])];f===void 0&&(d=e,f=c);a=Tj(f)?f.call(a):f}return a}function Pk(a,b,c){return a==null?a:Df(a,b,c)}function Qk(a,b,c,d){d=typeof d=="function"?d:void 0;return a==null?a:Df(a,b,c,d)}var Rk=Ig($);Ig=Ig(Gk);function Sk(b,a,c){var d=U(b),e=d||Mj(b)||jk(b);a=T(a,4);if(c==null){var f=b&&b.constructor;e?c=d?new f:[]:W(b)?c=Tj(f)?Dd(Mb(b)):{}:c={}}(e?kc:Ke)(b,function(d,e,b){return a(c,d,e,b)});return c}function Tk(a,b){return a==null?!0:Of(a,b)}function Uk(a,b,c){return a==null?a:Pf(a,b,Vf(c))}function Vk(a,b,c,d){d=typeof d=="function"?d:void 0;return a==null?a:Pf(a,b,Vf(c),d)}function Wk(a){return a==null?[]:Lc(a,$(a))}function Xk(a){return a==null?[]:Lc(a,Gk(a))}function Yk(a,b,c){c===void 0&&(c=b,b=void 0);c!==void 0&&(c=qk(c),c=c===c?c:0);b!==void 0&&(b=qk(b),b=b===b?b:0);return ve(qk(a),b,c)}function Zk(a,b,c){b=ok(b);c===void 0?(c=b,b=0):c=ok(c);a=qk(a);return Te(a,b,c)}function $k(a,b,c){c&&typeof c!="boolean"&&lh(a,b,c)&&(b=c=void 0);c===void 0&&(typeof b=="boolean"?(c=b,b=void 0):typeof a=="boolean"&&(c=a,a=void 0));a===void 0&&b===void 0?(a=0,b=1):(a=ok(a),b===void 0?(b=a,a=0):b=ok(b));if(a>b){var d=a;a=b;b=d}if(c||a%1||b%1){d=od();return ld(a+d*(b-a+$b("1e-"+((d+"").length-1))),b)}return yf(a,b)}var al=sg(function(a,b,c){b=b.toLowerCase();return a+(c?bl(b):b)});function bl(a){return Bl(Z(a).toLowerCase())}function cl(a){a=Z(a);return a&&a.replace(ub,Qc).replace(Sb,"")}function dl(a,b,c){a=Z(a);b=Mf(b);var d=a.length;c=c===void 0?d:ve(Y(c),0,d);d=c;c-=b.length;return c>=0&&a.slice(c,d)==b}function el(a){a=Z(a);return a&&Xa.test(a)?a.replace(Va,Rc):a}function fl(a){a=Z(a);return a&&eb.test(a)?a.replace(db,"\\$&"):a}var gl=sg(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),hl=sg(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),il=rg("toLowerCase");function jl(a,b,c){a=Z(a);b=Y(b);var d=b?dd(a):0;if(!b||d>=b)return a;b=(b-d)/2;return Bg(Ec(b),c)+a+Bg(vc(b),c)}function kl(a,b,c){a=Z(a);b=Y(b);var d=b?dd(a):0;return b&&d<b?a+Bg(b-d,c):a}function ll(a,b,c){a=Z(a);b=Y(b);var d=b?dd(a):0;return b&&d<b?Bg(b-d,c)+a:a}function ml(a,b,c){c||b==null?b=0:b&&(b=+b);return nd(Z(a).replace(gb,""),b||0)}function nl(a,b,c){(c?lh(a,b,c):b===void 0)?b=1:b=Y(b);return Af(Z(a),b)}function ol(){var a=arguments,b=Z(a[0]);return a.length<3?b:b.replace(a[1],a[2])}var pl=sg(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()});function ql(a,b,c){c&&typeof c!="number"&&lh(a,b,c)&&(b=c=void 0);c=c===void 0?D:c>>>0;if(!c)return[];a=Z(a);if(a&&(typeof b=="string"||b!=null&&!ek(b))){b=Mf(b);if(!b&&Uc(a))return Xf(ed(a),0,c)}return a.split(b,c)}var rl=sg(function(a,b,c){return a+(c?" ":"")+Bl(b)});function sl(a,b,c){a=Z(a);c=c==null?0:ve(Y(c),0,a.length);b=Mf(b);return a.slice(c,c+b.length)==b}function tl(a,b,c){var d=Q.templateSettings;c&&lh(a,b,c)&&(b=void 0);a=Z(a);b=tk({},b,d,Kg);c=tk({},b.imports,d.imports,Kg);var e=$(c),f=Lc(c,e),g,h,i=0;d=b.interpolate||vb;var j="__p += '";c=H((b.escape||vb).source+"|"+d.source+"|"+(d===$a?nb:vb).source+"|"+(b.evaluate||vb).source+"|$","g");var k="//# sourceURL="+(J.call(b,"sourceURL")?(b.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Yb+"]")+"\n";a.replace(c,function(b,c,d,e,f,k){d||(d=e);j+=a.slice(i,k).replace(wb,Sc);c&&(g=!0,j+="' +\n__e("+c+") +\n'");f&&(h=!0,j+="';\n"+f+";\n__p += '");d&&(j+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");i=k+b.length;return b});j+="';\n";d=J.call(b,"variable")&&b.variable;d||(j="with (obj) {\n"+j+"\n}\n");j=(h?j.replace(Ra,""):j).replace(Sa,"$1").replace(Ta,"$1;");j="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(g?", __e = _.escape":"")+(h?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+j+"return __p\n}";c=Dl(function(){return lb(e,k+"return "+j).apply(void 0,f)});c.source=j;if(Rj(c))throw c;return c}function ul(a){return Z(a).toLowerCase()}function vl(a){return Z(a).toUpperCase()}function wl(a,b,c){a=Z(a);if(a&&(c||b===void 0))return a.replace(fb,"");if(!a||!(b=Mf(b)))return a;c=ed(a);a=ed(b);b=Nc(c,a);a=Oc(c,a)+1;return Xf(c,b,a).join("")}function xl(a,b,c){a=Z(a);if(a&&(c||b===void 0))return a.replace(hb,"");if(!a||!(b=Mf(b)))return a;c=ed(a);a=Oc(c,ed(b))+1;return Xf(c,0,a).join("")}function yl(a,b,c){a=Z(a);if(a&&(c||b===void 0))return a.replace(gb,"");if(!a||!(b=Mf(b)))return a;c=ed(a);a=Nc(c,ed(b));return Xf(c,a).join("")}function zl(a,b){var c=B,d=aa;if(W(b)){var e="separator"in b?b.separator:e;c="length"in b?Y(b.length):c;d="omission"in b?Mf(b.omission):d}a=Z(a);b=a.length;if(Uc(a)){var f=ed(a);b=f.length}if(c>=b)return a;b=c-dd(d);if(b<1)return d;c=f?Xf(f,0,b).join(""):a.slice(0,b);if(e===void 0)return c+d;f&&(b+=c.length-b);if(ek(e)){if(a.slice(b).search(e)){var g,h=c;e.global||(e=H(e.source,Z(ob.exec(e))+"g"));e.lastIndex=0;while(g=e.exec(h))var i=g.index;c=c.slice(0,i===void 0?b:i)}}else if(a.indexOf(Mf(e),b)!=b){g=c.lastIndexOf(e);g>-1&&(c=c.slice(0,g))}return c+d}function Al(a){a=Z(a);return a&&Wa.test(a)?a.replace(Ua,fd):a}sg=sg(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()});var Bl=rg("toUpperCase");function Cl(a,b,c){a=Z(a);b=c?void 0:b;return b===void 0?Vc(a)?id(a):wc(a):a.match(b)||[]}var Dl=S(function(a,b){try{return ic(a,void 0,b)}catch(a){return Rj(a)?a:new i(a)}});rg=Qg(function(a,b){kc(b,function(b){b=Jh(b),te(a,b,mj(a[b],a))});return a});function El(a){var b=a==null?0:a.length,c=T();a=b?O(a,function(a){if(typeof a[1]!="function")throw new I(f);return[c(a[0]),a[1]]}):[];return S(function(c){var d=-1;while(++d<b){var e=a[d];if(ic(e[0],this,c))return ic(e[1],this,c)}})}function Fl(a){return xe(we(a,m))}function Gl(a){return function(){return a}}function Hl(a,b){return a==null||a!==a?b:a}var Il=wg();wg=wg(!0);function Jl(a){return a}function Kl(a){return hf(typeof a=="function"?a:we(a,m))}function Ll(a){return nf(we(a,m))}function Ml(a,b){return of(a,we(b,m))}var Nl=S(function(a,b){return function(c){return We(c,a,b)}}),Ol=S(function(a,b){return function(c){return We(a,c,b)}});function Pl(b,c,d){var e=$(c),f=Me(c,e);d==null&&!(W(c)&&(f.length||!e.length))&&(d=c,c=b,b=this,f=Me(c,$(c)));var a=!(W(d)&&"chain"in d)||!!d.chain,g=Tj(b);kc(f,function(d){var e=c[d];b[d]=e;g&&(b.prototype[d]=function(){var d=this.__chain__;if(a||d){var c=b(this.__wrapped__),f=c.__actions__=ig(this.__actions__);f.push({func:e,args:arguments,thisArg:b});c.__chain__=d;return c}return e.apply(b,qc([this.value()],arguments))})});return b}function Ql(){N._===this&&(N._=Ib);return this}function Rl(){}function Sl(a){a=Y(a);return S(function(b){return rf(b,a)})}var Tl=Ag(O),Ul=Ag(mc);Ag=Ag(tc);function Vl(a){return mh(a)?Dc(Jh(a)):vf(a)}function Wl(a){return function(b){return a==null?void 0:Ne(a,b)}}var Xl=Dg();Dg=Dg(!0);function Yl(){return[]}function Zl(){return!1}function $l(){return{}}function am(){return""}function bm(){return!0}function cm(b,a){b=Y(b);if(b<1||b>ga)return[];var c=D,d=ld(b,D);a=T(a);b-=D;d=Ic(d,a);while(++c<b)a(c);return d}function dm(a){return U(a)?O(a,Jh):ik(a)?[a]:ig(Ih(Z(a)))}function em(a){var b=++Eb;return Z(a)+b}var fm=zg(function(a,b){return a+b},0),gm=Gg("ceil"),hm=zg(function(a,b){return a/b},1),im=Gg("floor");function jm(a){return a&&a.length?Ee(a,Jl,Qe):void 0}function km(b,a){return b&&b.length?Ee(b,T(a,2),Qe):void 0}function lm(a){return Cc(a,Jl)}function mm(b,a){return Cc(b,T(a,2))}function nm(a){return a&&a.length?Ee(a,Jl,lf):void 0}function om(b,a){return b&&b.length?Ee(b,T(a,2),lf):void 0}var pm=zg(function(a,b){return a*b},1);Gg=Gg("round");zg=zg(function(a,b){return a-b},0);function qm(a){return a&&a.length?Hc(a,Jl):0}function rm(b,a){return b&&b.length?Hc(b,T(a,2)):0}Q.after=jj;Q.ary=kj;Q.assign=Ye;Q.assignIn=Ab;Q.assignInWith=tk;Q.assignWith=Ze;Q.at=bf;Q.before=lj;Q.bind=mj;Q.bindAll=rg;Q.bindKey=nj;Q.castArray=Cj;Q.chain=Hi;Q.chunk=Nh;Q.compact=Oh;Q.concat=Ph;Q.cond=El;Q.conforms=Fl;Q.constant=Gl;Q.countBy=ge;Q.create=uk;Q.curry=oj;Q.curryRight=pj;Q.debounce=qj;Q.defaults=ef;Q.defaultsDeep=ff;Q.defer=b;Q.delay=uc;Q.difference=Ld;Q.differenceBy=Md;Q.differenceWith=Nd;Q.drop=Qh;Q.dropRight=Rh;Q.dropRightWhile=Sh;Q.dropWhile=Th;Q.fill=Uh;Q.filter=Si;Q.flatMap=Ti;Q.flatMapDeep=Ui;Q.flatMapDepth=Vi;Q.flatten=Xh;Q.flattenDeep=Yh;Q.flattenDepth=Zh;Q.flip=rj;Q.flow=Il;Q.flowRight=wg;Q.fromPairs=$h;Q.functions=Bk;Q.functionsIn=Ck;Q.groupBy=og;Q.initial=ci;Q.intersection=Od;Q.intersectionBy=Qd;Q.intersectionWith=Rd;Q.invert=gf;Q.invertBy=Eg;Q.invokeMap=pg;Q.iteratee=Kl;Q.keyBy=Wb;Q.keys=$;Q.keysIn=Gk;Q.map=Zi;Q.mapKeys=Hk;Q.mapValues=Ik;Q.matches=Ll;Q.matchesProperty=Ml;Q.memoize=sj;Q.merge=Jk;Q.mergeWith=Kk;Q.method=Nl;Q.methodOf=Ol;Q.mixin=Pl;Q.negate=tj;Q.nthArg=Sl;Q.omit=ng;Q.omitBy=Lk;Q.once=uj;Q.orderBy=$i;Q.over=Tl;Q.overArgs=Gh;Q.overEvery=Ul;Q.overSome=Ag;Q.partial=vj;Q.partialRight=wj;Q.partition=h;Q.pick=Mk;Q.pickBy=Nk;Q.property=Vl;Q.propertyOf=Wl;Q.pull=Sd;Q.pullAll=hi;Q.pullAllBy=ii;Q.pullAllWith=ji;Q.pullAt=Td;Q.range=Xl;Q.rangeRight=Dg;Q.rearg=K;Q.reject=cj;Q.remove=ki;Q.rest=xj;Q.reverse=li;Q.sampleSize=ej;Q.set=Pk;Q.setWith=Qk;Q.shuffle=fj;Q.slice=mi;Q.sortBy=rd;Q.sortedUniq=ti;Q.sortedUniqBy=ui;Q.split=ql;Q.spread=yj;Q.tail=vi;Q.take=wi;Q.takeRight=xi;Q.takeRightWhile=yi;Q.takeWhile=zi;Q.tap=Ii;Q.throttle=zj;Q.thru=Ji;Q.toArray=nk;Q.toPairs=Rk;Q.toPairsIn=Ig;Q.toPath=dm;Q.toPlainObject=rk;Q.transform=Sk;Q.unary=Aj;Q.union=Ud;Q.unionBy=Wd;Q.unionWith=Xd;Q.uniq=Ai;Q.uniqBy=Bi;Q.uniqWith=Ci;Q.unset=Tk;Q.unzip=Di;Q.unzipWith=Ei;Q.update=Uk;Q.updateWith=Vk;Q.values=Wk;Q.valuesIn=Xk;Q.without=Yd;Q.words=Cl;Q.wrap=Bj;Q.xor=Zd;Q.xorBy=$d;Q.xorWith=be;Q.zip=ce;Q.zipObject=Fi;Q.zipObjectDeep=Gi;Q.zipWith=ee;Q.entries=Rk;Q.entriesIn=Ig;Q.extend=Ab;Q.extendWith=tk;Pl(Q,Q);Q.add=fm;Q.attempt=Dl;Q.camelCase=al;Q.capitalize=bl;Q.ceil=gm;Q.clamp=Yk;Q.clone=Dj;Q.cloneDeep=Fj;Q.cloneDeepWith=Gj;Q.cloneWith=Ej;Q.conformsTo=Hj;Q.deburr=cl;Q.defaultTo=Hl;Q.divide=hm;Q.endsWith=dl;Q.eq=Ij;Q.escape=el;Q.escapeRegExp=fl;Q.every=Ri;Q.find=he;Q.findIndex=Vh;Q.findKey=vk;Q.findLast=ie;Q.findLastIndex=Wh;Q.findLastKey=wk;Q.floor=im;Q.forEach=Wi;Q.forEachRight=Xi;Q.forIn=xk;Q.forInRight=yk;Q.forOwn=zk;Q.forOwnRight=Ak;Q.get=Dk;Q.gt=uh;Q.gte=vg;Q.has=Ek;Q.hasIn=Fk;Q.head=ai;Q.identity=Jl;Q.includes=Yi;Q.indexOf=bi;Q.inRange=Zk;Q.invoke=yg;Q.isArguments=Jj;Q.isArray=U;Q.isArrayBuffer=mg;Q.isArrayLike=Kj;Q.isArrayLikeObject=V;Q.isBoolean=Lj;Q.isBuffer=Mj;Q.isDate=Zb;Q.isElement=Nj;Q.isEmpty=Oj;Q.isEqual=Pj;Q.isEqualWith=Qj;Q.isError=Rj;Q.isFinite=Sj;Q.isFunction=Tj;Q.isInteger=Uj;Q.isLength=Vj;Q.isMap=Wj;Q.isMatch=Xj;Q.isMatchWith=Yj;Q.isNaN=Zj;Q.isNative=$j;Q.isNil=bk;Q.isNull=ak;Q.isNumber=ck;Q.isObject=W;Q.isObjectLike=X;Q.isPlainObject=dk;Q.isRegExp=ek;Q.isSafeInteger=fk;Q.isSet=gk;Q.isString=hk;Q.isSymbol=ik;Q.isTypedArray=jk;Q.isUndefined=kk;Q.isWeakMap=lk;Q.isWeakSet=mk;Q.join=di;Q.kebabCase=gl;Q.last=ei;Q.lastIndexOf=fi;Q.lowerCase=hl;Q.lowerFirst=il;Q.lt=Kd;Q.lte=Xe;Q.max=jm;Q.maxBy=km;Q.mean=lm;Q.meanBy=mm;Q.min=nm;Q.minBy=om;Q.stubArray=Yl;Q.stubFalse=Zl;Q.stubObject=$l;Q.stubString=am;Q.stubTrue=bm;Q.multiply=pm;Q.nth=gi;Q.noConflict=Ql;Q.noop=Rl;Q.now=ij;Q.pad=jl;Q.padEnd=kl;Q.padStart=ll;Q.parseInt=ml;Q.random=$k;Q.reduce=aj;Q.reduceRight=bj;Q.repeat=nl;Q.replace=ol;Q.result=Ok;Q.round=Gg;Q.runInContext=a;Q.sample=dj;Q.size=gj;Q.snakeCase=pl;Q.some=hj;Q.sortedIndex=ni;Q.sortedIndexBy=oi;Q.sortedIndexOf=pi;Q.sortedLastIndex=qi;Q.sortedLastIndexBy=ri;Q.sortedLastIndexOf=si;Q.startCase=rl;Q.startsWith=sl;Q.subtract=zg;Q.sum=qm;Q.sumBy=rm;Q.template=tl;Q.times=cm;Q.toFinite=ok;Q.toInteger=Y;Q.toLength=pk;Q.toLower=ul;Q.toNumber=qk;Q.toSafeInteger=sk;Q.toString=Z;Q.toUpper=vl;Q.trim=wl;Q.trimEnd=xl;Q.trimStart=yl;Q.truncate=zl;Q.unescape=Al;Q.uniqueId=em;Q.upperCase=sg;Q.upperFirst=Bl;Q.each=Wi;Q.eachRight=Xi;Q.first=ai;Pl(Q,function(){var a={};Ke(Q,function(b,c){J.call(Q.prototype,c)||(a[c]=b)});return a}(),{chain:!1});Q.VERSION=c;kc(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){Q[a].placeholder=Q});kc(["drop","take"],function(a,b){R.prototype[a]=function(d){d=d===void 0?1:P(Y(d),0);var c=this.__filtered__&&!b?new R(this):this.clone();c.__filtered__?c.__takeCount__=ld(d,c.__takeCount__):c.__views__.push({size:ld(d,D),type:a+(c.__dir__<0?"Right":"")});return c},R.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}});kc(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c==da||c==C;R.prototype[a]=function(b){var a=this.clone();a.__iteratees__.push({iteratee:T(b,3),type:c});a.__filtered__=a.__filtered__||d;return a}});kc(["head","last"],function(a,b){var c="take"+(b?"Right":"");R.prototype[a]=function(){return this[c](1).value()[0]}});kc(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");R.prototype[a]=function(){return this.__filtered__?new R(this):this[c](1)}});R.prototype.compact=function(){return this.filter(Jl)};R.prototype.find=function(a){return this.filter(a).head()};R.prototype.findLast=function(a){return this.reverse().find(a)};R.prototype.invokeMap=S(function(a,b){return typeof a=="function"?new R(this):this.map(function(c){return We(c,a,b)})});R.prototype.reject=function(a){return this.filter(tj(T(a)))};R.prototype.slice=function(b,c){b=Y(b);var a=this;if(a.__filtered__&&(b>0||c<0))return new R(a);b<0?a=a.takeRight(-b):b&&(a=a.drop(b));c!==void 0&&(c=Y(c),a=c<0?a.dropRight(-c):a.take(c-b));return a};R.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()};R.prototype.toArray=function(){return this.take(D)};Ke(R.prototype,function(a,b){var c=/^(?:filter|find|map|reject)|While$/.test(b),d=/^(?:head|last)$/.test(b),e=Q[d?"take"+(b=="last"?"Right":""):b],f=d||/^find/.test(b);if(!e)return;Q.prototype[b]=function(){var h=this.__wrapped__,i=d?[1]:arguments,j=h instanceof R,g=i[0],k=j||U(h),l=function(a){a=e.apply(Q,qc([a],i));return d&&m?a[0]:a};k&&c&&typeof g=="function"&&g.length!=1&&(j=k=!1);var m=this.__chain__,n=!!this.__actions__.length,o=f&&!m,p=j&&!n;if(!f&&k){h=p?h:new R(this);var b=a.apply(h,i);b.__actions__.push({func:Ji,args:[l],thisArg:void 0});return new Fd(b,m)}if(o&&p)return a.apply(this,i);b=this.thru(l);return o?d?b.value()[0]:b.value():b}});kc(["pop","push","shift","sort","splice","unshift"],function(a){var b=zb[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|shift)$/.test(a);Q.prototype[a]=function(){var a=arguments;if(d&&!this.__chain__){var e=this.value();return b.apply(U(e)?e:[],a)}return this[c](function(c){return b.apply(U(c)?c:[],a)})}});Ke(R.prototype,function(a,b){a=Q[b];if(a){var c=a.name+"";J.call(vd,c)||(vd[c]=[]);vd[c].push({name:b,func:a})}});vd[xg(void 0,s).name]=[{name:"wrapper",func:void 0}];R.prototype.clone=Gd;R.prototype.reverse=Hd;R.prototype.value=Id;Q.prototype.at=fe;Q.prototype.chain=Ki;Q.prototype.commit=Li;Q.prototype.next=Mi;Q.prototype.plant=Oi;Q.prototype.reverse=Pi;Q.prototype.toJSON=Q.prototype.valueOf=Q.prototype.value=Qi;Q.prototype.first=Q.prototype.head;Tb&&(Q.prototype[Tb]=Ni);return Q};var jd=Ob();typeof i=="function"&&typeof i.amd=="object"&&i.amd?(N._=jd,i(function(){return jd})):J?((J.exports=jd)._=jd,zb._=jd):N._=jd}).call(this)}var k=!1;function l(){k||(k=!0,j());return h.exports}c={};var m={exports:c};function n(){var a=Array.isArray;m.exports=a}var o=!1;function p(){o||(o=!0,n());return m.exports}d={};var q={exports:d};function r(){var b=typeof a=="object"&&a&&a.Object===Object&&a;q.exports=b}var s=!1;function t(){s||(s=!0,r());return q.exports}f={};var u={exports:f};function v(){var a=t(),b=typeof self=="object"&&self&&self.Object===Object&&self;a=a||b||Function("return this")();u.exports=a}var w=!1;function x(){w||(w=!0,v());return u.exports}c={};var y={exports:c};function z(){var a=x();a=a.Symbol;y.exports=a}var A=!1;function B(){A||(A=!0,z());return y.exports}d={};var aa={exports:d};function ba(){var a=B(),b=Object.prototype,c=b.hasOwnProperty,d=b.toString,e=a?a.toStringTag:void 0;function f(a){var b=c.call(a,e),f=a[e];try{a[e]=void 0;var g=!0}catch(a){}var h=d.call(a);g&&(b?a[e]=f:delete a[e]);return h}aa.exports=f}var ca=!1;function da(){ca||(ca=!0,ba());return aa.exports}f={};var ea={exports:f};function C(){var a=Object.prototype,b=a.toString;function c(a){return b.call(a)}ea.exports=c}var fa=!1;function ga(){fa||(fa=!0,C());return ea.exports}c={};var ha={exports:c};function ia(){var a=B(),b=da(),c=ga(),d="[object Null]",e="[object Undefined]",f=a?a.toStringTag:void 0;function g(a){return a==null?a===void 0?e:d:f&&f in Object(a)?b(a):c(a)}ha.exports=g}var D=!1;function ja(){D||(D=!0,ia());return ha.exports}d={};var ka={exports:d};function la(){function a(a){return a!=null&&typeof a=="object"}ka.exports=a}var ma=!1;function na(){ma||(ma=!0,la());return ka.exports}f={};var oa={exports:f};function pa(){var a=ja(),b=na(),c="[object Symbol]";function d(d){return typeof d=="symbol"||b(d)&&a(d)==c}oa.exports=d}var qa=!1;function ra(){qa||(qa=!0,pa());return oa.exports}c={};var sa={exports:c};function ta(){var a=p(),b=ra(),c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/;function e(e,f){if(a(e))return!1;var g=typeof e;return g=="number"||g=="symbol"||g=="boolean"||e==null||b(e)?!0:d.test(e)||!c.test(e)||f!=null&&e in Object(f)}sa.exports=e}var ua=!1;function E(){ua||(ua=!0,ta());return sa.exports}d={};var va={exports:d};function wa(){function a(a){var b=typeof a;return a!=null&&(b=="object"||b=="function")}va.exports=a}var xa=!1;function F(){xa||(xa=!0,wa());return va.exports}f={};var ya={exports:f};function za(){var a=ja(),b=F(),c="[object AsyncFunction]",d="[object Function]",e="[object GeneratorFunction]",f="[object Proxy]";function g(g){if(!b(g))return!1;g=a(g);return g==d||g==e||g==c||g==f}ya.exports=g}var Aa=!1;function Ba(){Aa||(Aa=!0,za());return ya.exports}c={};var Ca={exports:c};function Da(){var a=x();a=a["__core-js_shared__"];Ca.exports=a}var Ea=!1;function Fa(){Ea||(Ea=!0,Da());return Ca.exports}d={};var Ga={exports:d};function Ha(){var a=Fa(),b=function(){var b=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""}();function c(a){return!!b&&b in a}Ga.exports=c}var Ia=!1;function Ja(){Ia||(Ia=!0,Ha());return Ga.exports}f={};var Ka={exports:f};function La(){var a=Function.prototype,b=a.toString;function c(a){if(a!=null){try{return b.call(a)}catch(a){}try{return a+""}catch(a){}}return""}Ka.exports=c}var Ma=!1;function Na(){Ma||(Ma=!0,La());return Ka.exports}c={};var Oa={exports:c};function Pa(){var a=Ba(),b=Ja(),c=F(),d=Na(),e=/[\\^$.*+?()[\]{}|]/g,f=/^\[object .+?Constructor\]$/,g=Function.prototype,h=Object.prototype;g=g.toString;h=h.hasOwnProperty;var i=RegExp("^"+g.call(h).replace(e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function j(e){if(!c(e)||b(e))return!1;var g=a(e)?i:f;return g.test(d(e))}Oa.exports=j}var Qa=!1;function Ra(){Qa||(Qa=!0,Pa());return Oa.exports}d={};var Sa={exports:d};function Ta(){function a(a,b){return a==null?void 0:a[b]}Sa.exports=a}var Ua=!1;function Va(){Ua||(Ua=!0,Ta());return Sa.exports}f={};var Wa={exports:f};function Xa(){var a=Ra(),b=Va();function c(c,d){c=b(c,d);return a(c)?c:void 0}Wa.exports=c}var Ya=!1;function Za(){Ya||(Ya=!0,Xa());return Wa.exports}c={};var $a={exports:c};function ab(){var a=Za();a=a(Object,"create");$a.exports=a}var bb=!1;function cb(){bb||(bb=!0,ab());return $a.exports}d={};var db={exports:d};function eb(){var a=cb();function b(){this.__data__=a?a(null):{},this.size=0}db.exports=b}var fb=!1;function gb(){fb||(fb=!0,eb());return db.exports}f={};var hb={exports:f};function ib(){function a(a){a=this.has(a)&&delete this.__data__[a];this.size-=a?1:0;return a}hb.exports=a}var jb=!1;function kb(){jb||(jb=!0,ib());return hb.exports}c={};var lb={exports:c};function mb(){var a=cb(),b="__lodash_hash_undefined__",c=Object.prototype,d=c.hasOwnProperty;function e(c){var e=this.__data__;if(a){var f=e[c];return f===b?void 0:f}return d.call(e,c)?e[c]:void 0}lb.exports=e}var nb=!1;function ob(){nb||(nb=!0,mb());return lb.exports}d={};var pb={exports:d};function qb(){var a=cb(),b=Object.prototype,c=b.hasOwnProperty;function d(b){var d=this.__data__;return a?d[b]!==void 0:c.call(d,b)}pb.exports=d}var rb=!1;function sb(){rb||(rb=!0,qb());return pb.exports}f={};var tb={exports:f};function ub(){var a=cb(),b="__lodash_hash_undefined__";function c(c,d){var e=this.__data__;this.size+=this.has(c)?0:1;e[c]=a&&d===void 0?b:d;return this}tb.exports=c}var vb=!1;function wb(){vb||(vb=!0,ub());return tb.exports}c={};var xb={exports:c};function G(){var a=gb(),b=kb(),c=ob(),d=sb(),e=wb();function f(a){var b=-1,c=a==null?0:a.length;this.clear();while(++b<c){var d=a[b];this.set(d[0],d[1])}}f.prototype.clear=a;f.prototype["delete"]=b;f.prototype.get=c;f.prototype.has=d;f.prototype.set=e;xb.exports=f}var H=!1;function yb(){H||(H=!0,G());return xb.exports}d={};var I={exports:d};function zb(){function a(){this.__data__=[],this.size=0}I.exports=a}var Ab=!1;function Bb(){Ab||(Ab=!0,zb());return I.exports}f={};var Cb={exports:f};function Db(){function a(a,b){return a===b||a!==a&&b!==b}Cb.exports=a}var J=!1;function Eb(){J||(J=!0,Db());return Cb.exports}c={};var Fb={exports:c};function Gb(){var a=Eb();function b(b,c){var d=b.length;while(d--)if(a(b[d][0],c))return d;return-1}Fb.exports=b}var Hb=!1;function Ib(){Hb||(Hb=!0,Gb());return Fb.exports}d={};var Jb={exports:d};function K(){var a=Ib(),b=Array.prototype,c=b.splice;function d(b){var d=this.__data__;b=a(d,b);if(b<0)return!1;var e=d.length-1;b==e?d.pop():c.call(d,b,1);--this.size;return!0}Jb.exports=d}var Kb=!1;function Lb(){Kb||(Kb=!0,K());return Jb.exports}f={};var Mb={exports:f};function Nb(){var a=Ib();function b(b){var c=this.__data__;b=a(c,b);return b<0?void 0:c[b][1]}Mb.exports=b}var Ob=!1;function Pb(){Ob||(Ob=!0,Nb());return Mb.exports}c={};var Qb={exports:c};function Rb(){var a=Ib();function b(b){return a(this.__data__,b)>-1}Qb.exports=b}var Sb=!1;function Tb(){Sb||(Sb=!0,Rb());return Qb.exports}d={};var Ub={exports:d};function Vb(){var a=Ib();function b(b,c){var d=this.__data__,e=a(d,b);e<0?(++this.size,d.push([b,c])):d[e][1]=c;return this}Ub.exports=b}var Wb=!1;function Xb(){Wb||(Wb=!0,Vb());return Ub.exports}f={};var Yb={exports:f};function L(){var a=Bb(),b=Lb(),c=Pb(),d=Tb(),e=Xb();function f(a){var b=-1,c=a==null?0:a.length;this.clear();while(++b<c){var d=a[b];this.set(d[0],d[1])}}f.prototype.clear=a;f.prototype["delete"]=b;f.prototype.get=c;f.prototype.has=d;f.prototype.set=e;Yb.exports=f}var M=!1;function Zb(){M||(M=!0,L());return Yb.exports}c={};var $b={exports:c};function ac(){var a=Za(),b=x();a=a(b,"Map");$b.exports=a}var N=!1;function bc(){N||(N=!0,ac());return $b.exports}d={};var cc={exports:d};function dc(){var a=yb(),b=Zb(),c=bc();function d(){this.size=0,this.__data__={hash:new a,map:new(c||b),string:new a}}cc.exports=d}var ec=!1;function fc(){ec||(ec=!0,dc());return cc.exports}f={};var gc={exports:f};function hc(){function a(a){var b=typeof a;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?a!=="__proto__":a===null}gc.exports=a}var ic=!1;function jc(){ic||(ic=!0,hc());return gc.exports}c={};var kc={exports:c};function lc(){var a=jc();function b(b,c){b=b.__data__;return a(c)?b[typeof c=="string"?"string":"hash"]:b.map}kc.exports=b}var mc=!1;function nc(){mc||(mc=!0,lc());return kc.exports}d={};var oc={exports:d};function pc(){var a=nc();function b(b){b=a(this,b)["delete"](b);this.size-=b?1:0;return b}oc.exports=b}var O=!1;function qc(){O||(O=!0,pc());return oc.exports}f={};var rc={exports:f};function sc(){var a=nc();function b(b){return a(this,b).get(b)}rc.exports=b}var tc=!1;function uc(){tc||(tc=!0,sc());return rc.exports}c={};var vc={exports:c};function wc(){var a=nc();function b(b){return a(this,b).has(b)}vc.exports=b}var xc=!1;function yc(){xc||(xc=!0,wc());return vc.exports}d={};var zc={exports:d};function Ac(){var a=nc();function b(b,c){var d=a(this,b),e=d.size;d.set(b,c);this.size+=d.size==e?0:1;return this}zc.exports=b}var Bc=!1;function Cc(){Bc||(Bc=!0,Ac());return zc.exports}f={};var Dc={exports:f};function Ec(){var a=fc(),b=qc(),c=uc(),d=yc(),e=Cc();function f(a){var b=-1,c=a==null?0:a.length;this.clear();while(++b<c){var d=a[b];this.set(d[0],d[1])}}f.prototype.clear=a;f.prototype["delete"]=b;f.prototype.get=c;f.prototype.has=d;f.prototype.set=e;Dc.exports=f}var Fc=!1;function Gc(){Fc||(Fc=!0,Ec());return Dc.exports}c={};var Hc={exports:c};function Ic(){var a=Gc(),b="Expected a function";function c(d,e){if(typeof d!="function"||e!=null&&typeof e!="function")throw new TypeError(b);var f=function(){var a=arguments,b=e?e.apply(this,a):a[0],c=f.cache;if(c.has(b))return c.get(b);var g=d.apply(this,a);f.cache=c.set(b,g)||c;return g};f.cache=new(c.Cache||a);return f}c.Cache=a;Hc.exports=c}var Jc=!1;function Kc(){Jc||(Jc=!0,Ic());return Hc.exports}d={};var Lc={exports:d};function Mc(){var a=Kc(),b=500;function c(c){c=a(c,function(a){d.size===b&&d.clear();return a});var d=c.cache;return c}Lc.exports=c}var Nc=!1;function Oc(){Nc||(Nc=!0,Mc());return Lc.exports}f={};var Pc={exports:f};function Qc(){var a=Oc(),b=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g;a=a(function(a){var d=[];a.charCodeAt(0)===46&&d.push("");a.replace(b,function(a,b,e,f){d.push(e?f.replace(c,"$1"):b||a)});return d});Pc.exports=a}var Rc=!1;function Sc(){Rc||(Rc=!0,Qc());return Pc.exports}c={};var Tc={exports:c};function Uc(){function a(a,b){var c=-1,d=a==null?0:a.length,e=Array(d);while(++c<d)e[c]=b(a[c],c,a);return e}Tc.exports=a}var Vc=!1;function Wc(){Vc||(Vc=!0,Uc());return Tc.exports}d={};var Xc={exports:d};function Yc(){var a=B(),b=Wc(),c=p(),d=ra(),e=1/0;a=a?a.prototype:void 0;var f=a?a.toString:void 0;function g(a){if(typeof a=="string")return a;if(c(a))return b(a,g)+"";if(d(a))return f?f.call(a):"";var h=a+"";return h=="0"&&1/a==-e?"-0":h}Xc.exports=g}var Zc=!1;function $c(){Zc||(Zc=!0,Yc());return Xc.exports}f={};var ad={exports:f};function bd(){var a=$c();function b(b){return b==null?"":a(b)}ad.exports=b}var cd=!1;function dd(){cd||(cd=!0,bd());return ad.exports}c={};var ed={exports:c};function fd(){var a=p(),b=E(),c=Sc(),d=dd();function e(e,f){return a(e)?e:b(e,f)?[e]:c(d(e))}ed.exports=e}var gd=!1;function hd(){gd||(gd=!0,fd());return ed.exports}d={};var id={exports:d};function jd(){var a=ra(),b=1/0;function c(c){if(typeof c=="string"||a(c))return c;var d=c+"";return d=="0"&&1/c==-b?"-0":d}id.exports=c}var kd=!1;function P(){kd||(kd=!0,jd());return id.exports}f={};var ld={exports:f};function md(){var a=hd(),b=P();function c(c,d){d=a(d,c);var e=0,f=d.length;while(c!=null&&e<f)c=c[b(d[e++])];return e&&e==f?c:void 0}ld.exports=c}var nd=!1;function od(){nd||(nd=!0,md());return ld.exports}c={};var pd={exports:c};function qd(){var a=od();function b(b,c,d){b=b==null?void 0:a(b,c);return b===void 0?d:b}pd.exports=b}var rd=!1;function sd(){rd||(rd=!0,qd());return pd.exports}d={};var td={exports:d};function ud(){var a=sd();function b(b,c){var d=-1,e=c.length,f=Array(e),g=b==null;while(++d<e)f[d]=g?void 0:a(b,c[d]);return f}td.exports=b}var vd=!1;function wd(){vd||(vd=!0,ud());return td.exports}f={};var xd={exports:f};function yd(){function a(a,b){var c=-1,d=b.length,e=a.length;while(++c<d)a[e+c]=b[c];return a}xd.exports=a}var zd=!1;function Ad(){zd||(zd=!0,yd());return xd.exports}c={};var Bd={exports:c};function Cd(){var a=ja(),b=na(),c="[object Arguments]";function d(d){return b(d)&&a(d)==c}Bd.exports=d}var Q=!1;function Dd(){Q||(Q=!0,Cd());return Bd.exports}d={};var Ed={exports:d};function Fd(){var a=Dd(),b=na(),c=Object.prototype,d=c.hasOwnProperty,e=c.propertyIsEnumerable;c=a(function(){return arguments}())?a:function(a){return b(a)&&d.call(a,"callee")&&!e.call(a,"callee")};Ed.exports=c}var R=!1;function Gd(){R||(R=!0,Fd());return Ed.exports}f={};var Hd={exports:f};function Id(){var a=B(),b=Gd(),c=p(),d=a?a.isConcatSpreadable:void 0;function e(a){return c(a)||b(a)||!!(d&&a&&a[d])}Hd.exports=e}var Jd=!1;function Kd(){Jd||(Jd=!0,Id());return Hd.exports}c={};var Ld={exports:c};function Md(){var a=Ad(),b=Kd();function c(d,e,f,g,h){var i=-1,j=d.length;f||(f=b);h||(h=[]);while(++i<j){var k=d[i];e>0&&f(k)?e>1?c(k,e-1,f,g,h):a(h,k):g||(h[h.length]=k)}return h}Ld.exports=c}var Nd=!1;function Od(){Nd||(Nd=!0,Md());return Ld.exports}d={};var Pd={exports:d};function Qd(){var a=Od();function b(b){var c=b==null?0:b.length;return c?a(b,1):[]}Pd.exports=b}var Rd=!1;function Sd(){Rd||(Rd=!0,Qd());return Pd.exports}f={};var Td={exports:f};function Ud(){function a(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}Td.exports=a}var Vd=!1;function Wd(){Vd||(Vd=!0,Ud());return Td.exports}c={};var Xd={exports:c};function Yd(){var a=Wd(),b=Math.max;function c(c,d,e){d=b(d===void 0?c.length-1:d,0);return function(){var f=arguments,g=-1,h=b(f.length-d,0),i=Array(h);while(++g<h)i[g]=f[d+g];g=-1;var j=Array(d+1);while(++g<d)j[g]=f[g];j[d]=e(i);return a(c,this,j)}}Xd.exports=c}var Zd=!1;function $d(){Zd||(Zd=!0,Yd());return Xd.exports}d={};var ae={exports:d};function be(){function a(a){return function(){return a}}ae.exports=a}var ce=!1;function de(){ce||(ce=!0,be());return ae.exports}f={};var ee={exports:f};function fe(){var a=Za(),b=function(){try{var b=a(Object,"defineProperty");b({},"",{});return b}catch(a){}}();ee.exports=b}var ge=!1;function he(){ge||(ge=!0,fe());return ee.exports}c={};var ie={exports:c};function je(){function a(a){return a}ie.exports=a}var ke=!1;function le(){ke||(ke=!0,je());return ie.exports}d={};var me={exports:d};function ne(){var a=de(),b=he(),c=le();c=b?function(c,d){return b(c,"toString",{configurable:!0,enumerable:!1,value:a(d),writable:!0})}:c;me.exports=c}var oe=!1;function pe(){oe||(oe=!0,ne());return me.exports}f={};var qe={exports:f};function re(){var a=800,b=16,c=Date.now;function d(d){var e=0,f=0;return function(){var g=c(),h=b-(g-f);f=g;if(h>0){if(++e>=a)return arguments[0]}else e=0;return d.apply(void 0,arguments)}}qe.exports=d}var se=!1;function te(){se||(se=!0,re());return qe.exports}c={};var ue={exports:c};function ve(){var a=pe(),b=te();b=b(a);ue.exports=b}var we=!1;function xe(){we||(we=!0,ve());return ue.exports}d={};var ye={exports:d};function ze(){var a=Sd(),b=$d(),c=xe();function d(d){return c(b(d,void 0,a),d+"")}ye.exports=d}var Ae=!1;function Be(){Ae||(Ae=!0,ze());return ye.exports}f={};var Ce={exports:f};function De(){var a=wd(),b=Be();b=b(a);Ce.exports=b}var Ee=!1;function Fe(){Ee||(Ee=!0,De());return Ce.exports}c={};var Ge={exports:c};function He(){function a(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b);c=c>e?e:c;c<0&&(c+=e);e=b>c?0:c-b>>>0;b>>>=0;c=Array(e);while(++d<e)c[d]=a[d+b];return c}Ge.exports=a}var Ie=!1;function Je(){Ie||(Ie=!0,He());return Ge.exports}d={};var Ke={exports:d};function Le(){var a=Je();function b(b,c,d){var e=b.length;d=d===void 0?e:d;return!c&&d>=e?b:a(b,c,d)}Ke.exports=b}var Me=!1;function Ne(){Me||(Me=!0,Le());return Ke.exports}f={};var Oe={exports:f};function Pe(){var a="\\ud800-\\udfff",b="\\u0300-\\u036f",c="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff";b=b+c+d;c="\\ufe0e\\ufe0f";d="\\u200d";var e=RegExp("["+d+a+b+c+"]");function f(a){return e.test(a)}Oe.exports=f}var Qe=!1;function Re(){Qe||(Qe=!0,Pe());return Oe.exports}c={};var Se={exports:c};function Te(){function a(a){return a.split("")}Se.exports=a}var Ue=!1;function Ve(){Ue||(Ue=!0,Te());return Se.exports}d={};var We={exports:d};function Xe(){var a="\\ud800-\\udfff",b="\\u0300-\\u036f",c="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff";b=b+c+d;c="\\ufe0e\\ufe0f";d="["+a+"]";b="["+b+"]";var e="\\ud83c[\\udffb-\\udfff]",f="(?:"+b+"|"+e+")";a="[^"+a+"]";var g="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",i="\\u200d";f=f+"?";c="["+c+"]?";i="(?:"+i+"(?:"+[a,g,h].join("|")+")"+c+f+")*";c=c+f+i;f="(?:"+[a+b+"?",b,g,h,d].join("|")+")";var j=RegExp(e+"(?="+e+")|"+f+c,"g");function k(a){return a.match(j)||[]}We.exports=k}var Ye=!1;function Ze(){Ye||(Ye=!0,Xe());return We.exports}f={};var $e={exports:f};function af(){var a=Ve(),b=Re(),c=Ze();function d(d){return b(d)?c(d):a(d)}$e.exports=d}var bf=!1;function cf(){bf||(bf=!0,af());return $e.exports}c={};var df={exports:c};function ef(){var a=Ne(),b=Re(),c=cf(),d=dd();function e(e){return function(f){f=d(f);var g=b(f)?c(f):void 0,h=g?g[0]:f.charAt(0);g=g?a(g,1).join(""):f.slice(1);return h[e]()+g}}df.exports=e}var ff=!1;function gf(){ff||(ff=!0,ef());return df.exports}d={};var hf={exports:d};function jf(){var a=gf();a=a("toUpperCase");hf.exports=a}var kf=!1;function lf(){kf||(kf=!0,jf());return hf.exports}f={};var mf={exports:f};function nf(){var a=dd(),b=lf();function c(c){return b(a(c).toLowerCase())}mf.exports=c}var of=!1;function pf(){of||(of=!0,nf());return mf.exports}c={};var qf={exports:c};function rf(){function a(a,b,c,d){var e=-1,f=a==null?0:a.length;d&&f&&(c=a[++e]);while(++e<f)c=b(c,a[e],e,a);return c}qf.exports=a}var sf=!1;function tf(){sf||(sf=!0,rf());return qf.exports}d={};var uf={exports:d};function vf(){function a(a){return function(b){return a==null?void 0:a[b]}}uf.exports=a}var wf=!1;function xf(){wf||(wf=!0,vf());return uf.exports}f={};var yf={exports:f};function zf(){var a=xf(),b={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"};a=a(b);yf.exports=a}var Af=!1;function S(){Af||(Af=!0,zf());return yf.exports}c={};var Bf={exports:c};function Cf(){var a=S(),b=dd(),c=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,d="\\u0300-\\u036f",e="\\ufe20-\\ufe2f",f="\\u20d0-\\u20ff";d=d+e+f;e="["+d+"]";var g=RegExp(e,"g");function h(d){d=b(d);return d&&d.replace(c,a).replace(g,"")}Bf.exports=h}var Df=!1;function Ef(){Df||(Df=!0,Cf());return Bf.exports}d={};var Ff={exports:d};function Gf(){var a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function b(b){return b.match(a)||[]}Ff.exports=b}var Hf=!1;function If(){Hf||(Hf=!0,Gf());return Ff.exports}f={};var Jf={exports:f};function Kf(){var a=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function b(b){return a.test(b)}Jf.exports=b}var Lf=!1;function Mf(){Lf||(Lf=!0,Kf());return Jf.exports}c={};var Nf={exports:c};function Of(){var a="\\ud800-\\udfff",b="\\u0300-\\u036f",c="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff";b=b+c+d;c="\\u2700-\\u27bf";d="a-z\\xdf-\\xf6\\xf8-\\xff";var e="\\xac\\xb1\\xd7\\xf7",f="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",g="\\u2000-\\u206f",h=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="A-Z\\xc0-\\xd6\\xd8-\\xde",j="\\ufe0e\\ufe0f";e=e+f+g+h;f="['\u2019]";g="["+e+"]";h="["+b+"]";b="\\d+";var k="["+c+"]",l="["+d+"]";e="[^"+a+e+b+c+d+i+"]";c="\\ud83c[\\udffb-\\udfff]";d="(?:"+h+"|"+c+")";h="[^"+a+"]";c="(?:\\ud83c[\\udde6-\\uddff]){2}";a="[\\ud800-\\udbff][\\udc00-\\udfff]";i="["+i+"]";var m="\\u200d",n="(?:"+l+"|"+e+")";e="(?:"+i+"|"+e+")";var o="(?:"+f+"(?:d|ll|m|re|s|t|ve))?";f="(?:"+f+"(?:D|LL|M|RE|S|T|VE))?";d=d+"?";j="["+j+"]?";m="(?:"+m+"(?:"+[h,c,a].join("|")+")"+j+d+")*";h="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])";var p="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])";j=j+d+m;d="(?:"+[k,c,a].join("|")+")"+j;var q=RegExp([i+"?"+l+"+"+o+"(?="+[g,i,"$"].join("|")+")",e+"+"+f+"(?="+[g,i+n,"$"].join("|")+")",i+"?"+n+"+"+o,i+"+"+f,p,h,b,d].join("|"),"g");function r(a){return a.match(q)||[]}Nf.exports=r}var Pf=!1;function Qf(){Pf||(Pf=!0,Of());return Nf.exports}d={};var Rf={exports:d};function Sf(){var a=If(),b=Mf(),c=dd(),d=Qf();function e(e,f,g){e=c(e);f=g?void 0:f;return f===void 0?b(e)?d(e):a(e):e.match(f)||[]}Rf.exports=e}var Tf=!1;function Uf(){Tf||(Tf=!0,Sf());return Rf.exports}f={};var Vf={exports:f};function Wf(){var a=tf(),b=Ef(),c=Uf(),d="['\u2019]",e=RegExp(d,"g");function f(d){return function(f){return a(c(b(f).replace(e,"")),d,"")}}Vf.exports=f}var Xf=!1;function Yf(){Xf||(Xf=!0,Wf());return Vf.exports}c={};var Zf={exports:c};function $f(){var a=pf(),b=Yf();b=b(function(b,c,d){c=c.toLowerCase();return b+(d?a(c):c)});Zf.exports=b}var ag=!1;function bg(){ag||(ag=!0,$f());return Zf.exports}d={};var cg={exports:d};function dg(){var a=9007199254740991;function b(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=a}cg.exports=b}var eg=!1;function fg(){eg||(eg=!0,dg());return cg.exports}f={};var gg={exports:f};function hg(){var a=Ba(),b=fg();function c(c){return c!=null&&b(c.length)&&!a(c)}gg.exports=c}var ig=!1;function jg(){ig||(ig=!0,hg());return gg.exports}c={};var kg={exports:c};function lg(){var a=9007199254740991,b=/^(?:0|[1-9]\d*)$/;function c(c,d){var e=typeof c;d=d==null?a:d;return!!d&&(e=="number"||e!="symbol"&&b.test(c))&&c>-1&&c%1==0&&c<d}kg.exports=c}var mg=!1;function ng(){mg||(mg=!0,lg());return kg.exports}d={};var og={exports:d};function pg(){var a=Eb(),b=jg(),c=ng(),d=F();function e(e,f,g){if(!d(g))return!1;var h=typeof f;return(h=="number"?b(g)&&c(f,g.length):h=="string"&&f in g)?a(g[f],e):!1}og.exports=e}var qg=!1;function rg(){qg||(qg=!0,pg());return og.exports}f={};var sg={exports:f};function tg(){var a=F(),b=ra(),c=0/0,d=/^\s+|\s+$/g,e=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,g=/^0o[0-7]+$/i,h=parseInt;function i(i){if(typeof i=="number")return i;if(b(i))return c;if(a(i)){var j=typeof i.valueOf=="function"?i.valueOf():i;i=a(j)?j+"":j}if(typeof i!="string")return i===0?i:+i;i=i.replace(d,"");j=f.test(i);return j||g.test(i)?h(i.slice(2),j?2:8):e.test(i)?c:+i}sg.exports=i}var ug=!1;function vg(){ug||(ug=!0,tg());return sg.exports}c={};var wg={exports:c};function xg(){var a=vg(),b=1/0,c=17976931348623157e292;function d(d){if(!d)return d===0?d:0;d=a(d);if(d===b||d===-b){var e=d<0?-1:1;return e*c}return d===d?d:0}wg.exports=d}var yg=!1;function zg(){yg||(yg=!0,xg());return wg.exports}d={};var Ag={exports:d};function Bg(){var a=zg();function b(b){b=a(b);var c=b%1;return b===b?c?b-c:b:0}Ag.exports=b}var Cg=!1;function Dg(){Cg||(Cg=!0,Bg());return Ag.exports}f={};var Eg={exports:f};function Fg(){var a=Je(),b=rg(),c=Dg(),d=Math.ceil,e=Math.max;function f(f,g,h){(h?b(f,g,h):g===void 0)?g=1:g=e(c(g),0);h=f==null?0:f.length;if(!h||g<1)return[];var i=0,j=0,k=Array(d(h/g));while(i<h)k[j++]=a(f,i,i+=g);return k}Eg.exports=f}var Gg=!1;function Hg(){Gg||(Gg=!0,Fg());return Eg.exports}c={};var Ig={exports:c};function Jg(){function a(a,b,c){a===a&&(c!==void 0&&(a=a<=c?a:c),b!==void 0&&(a=a>=b?a:b));return a}Ig.exports=a}var Kg=!1;function Lg(){Kg||(Kg=!0,Jg());return Ig.exports}d={};var Mg={exports:d};function Ng(){var a=Lg(),b=vg();function c(c,d,e){e===void 0&&(e=d,d=void 0);e!==void 0&&(e=b(e),e=e===e?e:0);d!==void 0&&(d=b(d),d=d===d?d:0);return a(b(c),d,e)}Mg.exports=c}var Og=!1;function Pg(){Og||(Og=!0,Ng());return Mg.exports}f={};var Qg={exports:f};function Rg(){var a=Zb();function b(){this.__data__=new a,this.size=0}Qg.exports=b}var Sg=!1;function Tg(){Sg||(Sg=!0,Rg());return Qg.exports}c={};var Ug={exports:c};function Vg(){function a(a){var b=this.__data__;a=b["delete"](a);this.size=b.size;return a}Ug.exports=a}var T=!1;function Wg(){T||(T=!0,Vg());return Ug.exports}d={};var Xg={exports:d};function Yg(){function a(a){return this.__data__.get(a)}Xg.exports=a}var Zg=!1;function $g(){Zg||(Zg=!0,Yg());return Xg.exports}f={};var ah={exports:f};function bh(){function a(a){return this.__data__.has(a)}ah.exports=a}var ch=!1;function dh(){ch||(ch=!0,bh());return ah.exports}c={};var eh={exports:c};function fh(){var a=Zb(),b=bc(),c=Gc(),d=200;function e(e,f){var g=this.__data__;if(g instanceof a){var h=g.__data__;if(!b||h.length<d-1){h.push([e,f]);this.size=++g.size;return this}g=this.__data__=new c(h)}g.set(e,f);this.size=g.size;return this}eh.exports=e}var gh=!1;function hh(){gh||(gh=!0,fh());return eh.exports}d={};var ih={exports:d};function jh(){var a=Zb(),b=Tg(),c=Wg(),d=$g(),e=dh(),f=hh();function g(b){b=this.__data__=new a(b);this.size=b.size}g.prototype.clear=b;g.prototype["delete"]=c;g.prototype.get=d;g.prototype.has=e;g.prototype.set=f;ih.exports=g}var kh=!1;function lh(){kh||(kh=!0,jh());return ih.exports}f={};var mh={exports:f};function nh(){function a(a,b){var c=-1,d=a==null?0:a.length;while(++c<d)if(b(a[c],c,a)===!1)break;return a}mh.exports=a}var oh=!1;function ph(){oh||(oh=!0,nh());return mh.exports}c={};var qh={exports:c};function rh(){var a=he();function b(b,c,d){c=="__proto__"&&a?a(b,c,{configurable:!0,enumerable:!0,value:d,writable:!0}):b[c]=d}qh.exports=b}var sh=!1;function th(){sh||(sh=!0,rh());return qh.exports}d={};var uh={exports:d};function vh(){var a=th(),b=Eb(),c=Object.prototype,d=c.hasOwnProperty;function e(c,e,f){var g=c[e];(!(d.call(c,e)&&b(g,f))||f===void 0&&!(e in c))&&a(c,e,f)}uh.exports=e}var wh=!1;function xh(){wh||(wh=!0,vh());return uh.exports}f={};var yh={exports:f};function zh(){var a=xh(),b=th();function c(c,d,e,f){var g=!e;e||(e={});var h=-1,i=d.length;while(++h<i){var j=d[h],k=f?f(e[j],c[j],j,e,c):void 0;k===void 0&&(k=c[j]);g?b(e,j,k):a(e,j,k)}return e}yh.exports=c}var Ah=!1;function Bh(){Ah||(Ah=!0,zh());return yh.exports}c={};var Ch={exports:c};function Dh(){function a(a,b){var c=-1,d=Array(a);while(++c<a)d[c]=b(c);return d}Ch.exports=a}var Eh=!1;function Fh(){Eh||(Eh=!0,Dh());return Ch.exports}d={};var Gh={exports:d};function Hh(){function a(){return!1}Gh.exports=a}var Ih=!1;function Jh(){Ih||(Ih=!0,Hh());return Gh.exports}var Kh={},Lh={exports:Kh};function Mh(){var a=x(),b=Jh(),c=typeof Kh=="object"&&Kh&&!Kh.nodeType&&Kh,d=c&&typeof Lh=="object"&&Lh&&!Lh.nodeType&&Lh;d=d&&d.exports===c;c=d?a.Buffer:void 0;d=c?c.isBuffer:void 0;a=d||b;Lh.exports=a}var Nh=!1;function Oh(){Nh||(Nh=!0,Mh());return Lh.exports}f={};var Ph={exports:f};function Qh(){var a=ja(),b=fg(),c=na(),d="[object Arguments]",e="[object Array]",f="[object Boolean]",g="[object Date]",h="[object Error]",i="[object Function]",j="[object Map]",k="[object Number]",l="[object Object]",m="[object RegExp]",n="[object Set]",o="[object String]",p="[object WeakMap]",q="[object ArrayBuffer]",r="[object DataView]",s="[object Float32Array]",t="[object Float64Array]",u="[object Int8Array]",v="[object Int16Array]",w="[object Int32Array]",x="[object Uint8Array]",y="[object Uint8ClampedArray]",z="[object Uint16Array]",A="[object Uint32Array]",B={};B[s]=B[t]=B[u]=B[v]=B[w]=B[x]=B[y]=B[z]=B[A]=!0;B[d]=B[e]=B[q]=B[f]=B[r]=B[g]=B[h]=B[i]=B[j]=B[k]=B[l]=B[m]=B[n]=B[o]=B[p]=!1;function aa(d){return c(d)&&b(d.length)&&!!B[a(d)]}Ph.exports=aa}var Rh=!1;function Sh(){Rh||(Rh=!0,Qh());return Ph.exports}c={};var Th={exports:c};function Uh(){function a(a){return function(b){return a(b)}}Th.exports=a}var Vh=!1;function Wh(){Vh||(Vh=!0,Uh());return Th.exports}var Xh={},Yh={exports:Xh};function Zh(){var a=t(),b=typeof Xh=="object"&&Xh&&!Xh.nodeType&&Xh,c=b&&typeof Yh=="object"&&Yh&&!Yh.nodeType&&Yh;c=c&&c.exports===b;c&&a.process;b=null;Yh.exports=b}var $h=!1;function ai(){$h||($h=!0,Zh());return Yh.exports}d={};var bi={exports:d};function ci(){var a=Sh(),b=Wh(),c=ai();c=c&&c.isTypedArray;b=c?b(c):a;bi.exports=b}var di=!1;function ei(){di||(di=!0,ci());return bi.exports}f={};var fi={exports:f};function gi(){var a=Fh(),b=Gd(),c=p(),d=Oh(),e=ng(),f=ei(),g=Object.prototype,h=g.hasOwnProperty;function i(g,i){var j=c(g),k=!j&&b(g),l=!j&&!k&&d(g),m=!j&&!k&&!l&&f(g);j=j||k||l||m;k=j?a(g.length,String):[];var n=k.length;for(var o in g)(i||h.call(g,o))&&!(j&&(o=="length"||l&&(o=="offset"||o=="parent")||m&&(o=="buffer"||o=="byteLength"||o=="byteOffset")||e(o,n)))&&k.push(o);return k}fi.exports=i}var hi=!1;function ii(){hi||(hi=!0,gi());return fi.exports}c={};var ji={exports:c};function ki(){var a=Object.prototype;function b(b){var c=b&&b.constructor;c=typeof c=="function"&&c.prototype||a;return b===c}ji.exports=b}var li=!1;function mi(){li||(li=!0,ki());return ji.exports}d={};var ni={exports:d};function oi(){function a(a,b){return function(c){return a(b(c))}}ni.exports=a}var pi=!1;function qi(){pi||(pi=!0,oi());return ni.exports}f={};var ri={exports:f};function si(){var a=qi();a=a(Object.keys,Object);ri.exports=a}var ti=!1;function ui(){ti||(ti=!0,si());return ri.exports}c={};var vi={exports:c};function wi(){var a=mi(),b=ui(),c=Object.prototype,d=c.hasOwnProperty;function e(c){if(!a(c))return b(c);var e=[];for(var f in Object(c))d.call(c,f)&&f!="constructor"&&e.push(f);return e}vi.exports=e}var xi=!1;function yi(){xi||(xi=!0,wi());return vi.exports}d={};var zi={exports:d};function Ai(){var a=ii(),b=yi(),c=jg();function d(d){return c(d)?a(d):b(d)}zi.exports=d}var Bi=!1;function Ci(){Bi||(Bi=!0,Ai());return zi.exports}f={};var Di={exports:f};function Ei(){var a=Bh(),b=Ci();function c(c,d){return c&&a(d,b(d),c)}Di.exports=c}var Fi=!1;function Gi(){Fi||(Fi=!0,Ei());return Di.exports}c={};var Hi={exports:c};function Ii(){function a(a){var b=[];if(a!=null)for(a in Object(a))b.push(a);return b}Hi.exports=a}var Ji=!1;function Ki(){Ji||(Ji=!0,Ii());return Hi.exports}d={};var Li={exports:d};function Mi(){var a=F(),b=mi(),c=Ki(),d=Object.prototype,e=d.hasOwnProperty;function f(d){if(!a(d))return c(d);var f=b(d),g=[];for(var h in d)h=="constructor"&&(f||!e.call(d,h))||g.push(h);return g}Li.exports=f}var Ni=!1;function Oi(){Ni||(Ni=!0,Mi());return Li.exports}f={};var Pi={exports:f};function Qi(){var a=ii(),b=Oi(),c=jg();function d(d){return c(d)?a(d,!0):b(d)}Pi.exports=d}var Ri=!1;function Si(){Ri||(Ri=!0,Qi());return Pi.exports}c={};var Ti={exports:c};function Ui(){var a=Bh(),b=Si();function c(c,d){return c&&a(d,b(d),c)}Ti.exports=c}var Vi=!1;function Wi(){Vi||(Vi=!0,Ui());return Ti.exports}var Xi={},Yi={exports:Xi};function Zi(){var a=x(),b=typeof Xi=="object"&&Xi&&!Xi.nodeType&&Xi,c=b&&typeof Yi=="object"&&Yi&&!Yi.nodeType&&Yi;c=c&&c.exports===b;b=c?a.Buffer:void 0;var d=b?b.allocUnsafe:void 0;function e(a,b){if(b)return a.slice();b=a.length;b=d?d(b):new a.constructor(b);a.copy(b);return b}Yi.exports=e}var $i=!1;function aj(){$i||($i=!0,Zi());return Yi.exports}d={};var bj={exports:d};function cj(){function a(a,b){var c=-1,d=a.length;b||(b=Array(d));while(++c<d)b[c]=a[c];return b}bj.exports=a}var dj=!1;function ej(){dj||(dj=!0,cj());return bj.exports}f={};var fj={exports:f};function gj(){function a(a,b){var c=-1,d=a==null?0:a.length,e=0,f=[];while(++c<d){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}fj.exports=a}var hj=!1;function ij(){hj||(hj=!0,gj());return fj.exports}c={};var jj={exports:c};function kj(){function a(){return[]}jj.exports=a}var lj=!1;function mj(){lj||(lj=!0,kj());return jj.exports}d={};var nj={exports:d};function oj(){var a=ij(),b=mj(),c=Object.prototype,d=c.propertyIsEnumerable,e=Object.getOwnPropertySymbols;c=e?function(b){if(b==null)return[];b=Object(b);return a(e(b),function(a){return d.call(b,a)})}:b;nj.exports=c}var pj=!1;function qj(){pj||(pj=!0,oj());return nj.exports}f={};var rj={exports:f};function sj(){var a=Bh(),b=qj();function c(c,d){return a(c,b(c),d)}rj.exports=c}var tj=!1;function uj(){tj||(tj=!0,sj());return rj.exports}c={};var vj={exports:c};function wj(){var a=qi();a=a(Object.getPrototypeOf,Object);vj.exports=a}var xj=!1;function yj(){xj||(xj=!0,wj());return vj.exports}d={};var zj={exports:d};function Aj(){var a=Ad(),b=yj(),c=qj(),d=mj(),e=Object.getOwnPropertySymbols;e=e?function(d){var e=[];while(d)a(e,c(d)),d=b(d);return e}:d;zj.exports=e}var Bj=!1;function Cj(){Bj||(Bj=!0,Aj());return zj.exports}f={};var Dj={exports:f};function Ej(){var a=Bh(),b=Cj();function c(c,d){return a(c,b(c),d)}Dj.exports=c}var Fj=!1;function Gj(){Fj||(Fj=!0,Ej());return Dj.exports}c={};var Hj={exports:c};function Ij(){var a=Ad(),b=p();function c(c,d,e){d=d(c);return b(c)?d:a(d,e(c))}Hj.exports=c}var Jj=!1;function U(){Jj||(Jj=!0,Ij());return Hj.exports}d={};var Kj={exports:d};function V(){var a=U(),b=qj(),c=Ci();function d(d){return a(d,c,b)}Kj.exports=d}var Lj=!1;function Mj(){Lj||(Lj=!0,V());return Kj.exports}f={};var Nj={exports:f};function Oj(){var a=U(),b=Cj(),c=Si();function d(d){return a(d,c,b)}Nj.exports=d}var Pj=!1;function Qj(){Pj||(Pj=!0,Oj());return Nj.exports}c={};var Rj={exports:c};function Sj(){var a=Za(),b=x();a=a(b,"DataView");Rj.exports=a}var Tj=!1;function Uj(){Tj||(Tj=!0,Sj());return Rj.exports}d={};var Vj={exports:d};function W(){var a=Za(),b=x();a=a(b,"Promise");Vj.exports=a}var X=!1;function Wj(){X||(X=!0,W());return Vj.exports}f={};var Xj={exports:f};function Yj(){var a=Za(),b=x();a=a(b,"Set");Xj.exports=a}var Zj=!1;function $j(){Zj||(Zj=!0,Yj());return Xj.exports}c={};var ak={exports:c};function bk(){var a=Za(),b=x();a=a(b,"WeakMap");ak.exports=a}var ck=!1;function dk(){ck||(ck=!0,bk());return ak.exports}d={};var ek={exports:d};function fk(){var a=Uj(),b=bc(),c=Wj(),d=$j(),e=dk(),f=ja(),g=Na(),h="[object Map]",i="[object Object]",j="[object Promise]",k="[object Set]",l="[object WeakMap]",m="[object DataView]",n=g(a),o=g(b),p=g(c),q=g(d),r=g(e),s=f;(a&&s(new a(new ArrayBuffer(1)))!=m||b&&s(new b)!=h||c&&s(c.resolve())!=j||d&&s(new d)!=k||e&&s(new e)!=l)&&(s=function(a){var b=f(a);a=b==i?a.constructor:void 0;a=a?g(a):"";if(a)switch(a){case n:return m;case o:return h;case p:return j;case q:return k;case r:return l}return b});ek.exports=s}var gk=!1;function hk(){gk||(gk=!0,fk());return ek.exports}f={};var ik={exports:f};function jk(){var a=Object.prototype,b=a.hasOwnProperty;function c(a){var c=a.length,d=new a.constructor(c);c&&typeof a[0]=="string"&&b.call(a,"index")&&(d.index=a.index,d.input=a.input);return d}ik.exports=c}var kk=!1;function lk(){kk||(kk=!0,jk());return ik.exports}c={};var mk={exports:c};function nk(){var a=x();a=a.Uint8Array;mk.exports=a}var ok=!1;function Y(){ok||(ok=!0,nk());return mk.exports}d={};var pk={exports:d};function qk(){var a=Y();function b(b){var c=new b.constructor(b.byteLength);new a(c).set(new a(b));return c}pk.exports=b}var rk=!1;function sk(){rk||(rk=!0,qk());return pk.exports}f={};var Z={exports:f};function tk(){var a=sk();function b(b,c){c=c?a(b.buffer):b.buffer;return new b.constructor(c,b.byteOffset,b.byteLength)}Z.exports=b}var uk=!1;function vk(){uk||(uk=!0,tk());return Z.exports}c={};var wk={exports:c};function xk(){var a=/\w*$/;function b(b){var c=new b.constructor(b.source,a.exec(b));c.lastIndex=b.lastIndex;return c}wk.exports=b}var yk=!1;function zk(){yk||(yk=!0,xk());return wk.exports}d={};var Ak={exports:d};function Bk(){var a=B();a=a?a.prototype:void 0;var b=a?a.valueOf:void 0;function c(a){return b?Object(b.call(a)):{}}Ak.exports=c}var Ck=!1;function Dk(){Ck||(Ck=!0,Bk());return Ak.exports}f={};var Ek={exports:f};function Fk(){var a=sk();function b(b,c){c=c?a(b.buffer):b.buffer;return new b.constructor(c,b.byteOffset,b.length)}Ek.exports=b}var $=!1;function Gk(){$||($=!0,Fk());return Ek.exports}c={};var Hk={exports:c};function Ik(){var a=sk(),b=vk(),c=zk(),d=Dk(),e=Gk(),f="[object Boolean]",g="[object Date]",h="[object Map]",i="[object Number]",j="[object RegExp]",k="[object Set]",l="[object String]",m="[object Symbol]",n="[object ArrayBuffer]",o="[object DataView]",p="[object Float32Array]",q="[object Float64Array]",r="[object Int8Array]",s="[object Int16Array]",t="[object Int32Array]",u="[object Uint8Array]",v="[object Uint8ClampedArray]",w="[object Uint16Array]",x="[object Uint32Array]";function y(y,z,A){var B=y.constructor;switch(z){case n:return a(y);case f:case g:return new B(+y);case o:return b(y,A);case p:case q:case r:case s:case t:case u:case v:case w:case x:return e(y,A);case h:return new B;case i:case l:return new B(y);case j:return c(y);case k:return new B;case m:return d(y)}}Hk.exports=y}var Jk=!1;function Kk(){Jk||(Jk=!0,Ik());return Hk.exports}d={};var Lk={exports:d};function Mk(){var a=F(),b=Object.create,c=function(){function c(){}return function(d){if(!a(d))return{};if(b)return b(d);c.prototype=d;d=new c;c.prototype=void 0;return d}}();Lk.exports=c}var Nk=!1;function Ok(){Nk||(Nk=!0,Mk());return Lk.exports}f={};var Pk={exports:f};function Qk(){var a=Ok(),b=yj(),c=mi();function d(d){return typeof d.constructor=="function"&&!c(d)?a(b(d)):{}}Pk.exports=d}var Rk=!1;function Sk(){Rk||(Rk=!0,Qk());return Pk.exports}c={};var Tk={exports:c};function Uk(){var a=hk(),b=na(),c="[object Map]";function d(d){return b(d)&&a(d)==c}Tk.exports=d}var Vk=!1;function Wk(){Vk||(Vk=!0,Uk());return Tk.exports}d={};var Xk={exports:d};function Yk(){var a=Wk(),b=Wh(),c=ai();c=c&&c.isMap;b=c?b(c):a;Xk.exports=b}var Zk=!1;function $k(){Zk||(Zk=!0,Yk());return Xk.exports}f={};var al={exports:f};function bl(){var a=hk(),b=na(),c="[object Set]";function d(d){return b(d)&&a(d)==c}al.exports=d}var cl=!1;function dl(){cl||(cl=!0,bl());return al.exports}c={};var el={exports:c};function fl(){var a=dl(),b=Wh(),c=ai();c=c&&c.isSet;b=c?b(c):a;el.exports=b}var gl=!1;function hl(){gl||(gl=!0,fl());return el.exports}d={};var il={exports:d};function jl(){var a=lh(),b=ph(),c=xh(),d=Gi(),e=Wi(),f=aj(),g=ej(),h=uj(),i=Gj(),j=Mj(),k=Qj(),l=hk(),m=lk(),n=Kk(),o=Sk(),q=p(),r=Oh(),s=$k(),t=F(),u=hl(),v=Ci(),w=1,x=2,y=4,z="[object Arguments]",A="[object Array]",B="[object Boolean]",aa="[object Date]",ba="[object Error]",ca="[object Function]",da="[object GeneratorFunction]",ea="[object Map]",C="[object Number]",fa="[object Object]",ga="[object RegExp]",ha="[object Set]",ia="[object String]",D="[object Symbol]",ja="[object WeakMap]",ka="[object ArrayBuffer]",la="[object DataView]",ma="[object Float32Array]",na="[object Float64Array]",oa="[object Int8Array]",pa="[object Int16Array]",qa="[object Int32Array]",ra="[object Uint8Array]",sa="[object Uint8ClampedArray]",ta="[object Uint16Array]",ua="[object Uint32Array]",E={};E[z]=E[A]=E[ka]=E[la]=E[B]=E[aa]=E[ma]=E[na]=E[oa]=E[pa]=E[qa]=E[ea]=E[C]=E[fa]=E[ga]=E[ha]=E[ia]=E[D]=E[ra]=E[sa]=E[ta]=E[ua]=!0;E[ba]=E[ca]=E[ja]=!1;function va(p,A,B,aa,ba,ea){var C,ga=A&w,ha=A&x,ia=A&y;B&&(C=ba?B(p,aa,ba,ea):B(p));if(C!==void 0)return C;if(!t(p))return p;aa=q(p);if(aa){C=m(p);if(!ga)return g(p,C)}else{var D=l(p),ja=D==ca||D==da;if(r(p))return f(p,ga);if(D==fa||D==z||ja&&!ba){C=ha||ja?{}:o(p);if(!ga)return ha?i(p,e(C,p)):h(p,d(C,p))}else{if(!E[D])return ba?p:{};C=n(p,D,ga)}}ea||(ea=new a);ja=ea.get(p);if(ja)return ja;ea.set(p,C);u(p)?p.forEach(function(a){C.add(va(a,A,B,a,p,ea))}):s(p)&&p.forEach(function(b,a){C.set(a,va(b,A,B,a,p,ea))});ba=ia?ha?k:j:ha?keysIn:v;var ka=aa?void 0:ba(p);b(ka||p,function(b,a){ka&&(a=b,b=p[a]),c(C,a,va(b,A,B,a,p,ea))});return C}il.exports=va}var kl=!1;function ll(){kl||(kl=!0,jl());return il.exports}f={};var ml={exports:f};function nl(){var a=ll(),b=4;function c(c){return a(c,b)}ml.exports=c}var ol=!1;function pl(){ol||(ol=!0,nl());return ml.exports}c={};var ql={exports:c};function rl(){var a=ll(),b=1,c=4;function d(d){return a(d,b|c)}ql.exports=d}var sl=!1;function tl(){sl||(sl=!0,rl());return ql.exports}d={};var ul={exports:d};function vl(){var a=x(),b=function(){return a.Date.now()};ul.exports=b}var wl=!1;function xl(){wl||(wl=!0,vl());return ul.exports}f={};var yl={exports:f};function zl(){var a=F(),b=xl(),c=vg(),d="Expected a function",e=Math.max,f=Math.min;function g(g,h,i){var j,k,l,m,n,o,p=0,q=!1,r=!1,s=!0;if(typeof g!="function")throw new TypeError(d);h=c(h)||0;a(i)&&(q=!!i.leading,r="maxWait"in i,l=r?e(c(i.maxWait)||0,h):l,s="trailing"in i?!!i.trailing:s);function t(a){var b=j,c=k;j=k=void 0;p=a;m=g.apply(c,b);return m}function u(a){p=a;n=setTimeout(x,h);return q?t(a):m}function v(a){var b=a-o;a=a-p;b=h-b;return r?f(b,l-a):b}function w(a){var b=a-o;a=a-p;return o===void 0||b>=h||b<0||r&&a>=l}function x(){var a=b();if(w(a))return y(a);n=setTimeout(x,v(a))}function y(a){n=void 0;if(s&&j)return t(a);j=k=void 0;return m}function z(){n!==void 0&&clearTimeout(n),p=0,j=o=k=n=void 0}function A(){return n===void 0?m:y(b())}function B(){var a=b(),c=w(a);j=arguments;k=this;o=a;if(c){if(n===void 0)return u(o);if(r){clearTimeout(n);n=setTimeout(x,h);return t(o)}}n===void 0&&(n=setTimeout(x,h));return m}B.cancel=z;B.flush=A;return B}yl.exports=g}var Al=!1;function Bl(){Al||(Al=!0,zl());return yl.exports}c={};var Cl={exports:c};function Dl(){var a=le(),b=$d(),c=xe();function d(d,e){return c(b(d,e,a),d+"")}Cl.exports=d}var El=!1;function Fl(){El||(El=!0,Dl());return Cl.exports}d={};var Gl={exports:d};function Hl(){var a=Fl(),b=Eb(),c=rg(),d=Si(),e=Object.prototype,f=e.hasOwnProperty;a=a(function(a,g){a=Object(a);var h=-1,i=g.length,j=i>2?g[2]:void 0;j&&c(g[0],g[1],j)&&(i=1);while(++h<i){j=g[h];var k=d(j),l=-1,m=k.length;while(++l<m){var n=k[l],o=a[n];(o===void 0||b(o,e[n])&&!f.call(a,n))&&(a[n]=j[n])}}return a});Gl.exports=a}var Il=!1;function Jl(){Il||(Il=!0,Hl());return Gl.exports}f={};var Kl={exports:f};function Ll(){var a="__lodash_hash_undefined__";function b(b){this.__data__.set(b,a);return this}Kl.exports=b}var Ml=!1;function Nl(){Ml||(Ml=!0,Ll());return Kl.exports}c={};var Ol={exports:c};function Pl(){function a(a){return this.__data__.has(a)}Ol.exports=a}var Ql=!1;function Rl(){Ql||(Ql=!0,Pl());return Ol.exports}d={};var Sl={exports:d};function Tl(){var a=Gc(),b=Nl(),c=Rl();function d(b){var c=-1,d=b==null?0:b.length;this.__data__=new a;while(++c<d)this.add(b[c])}d.prototype.add=d.prototype.push=b;d.prototype.has=c;Sl.exports=d}var Ul=!1;function Vl(){Ul||(Ul=!0,Tl());return Sl.exports}f={};var Wl={exports:f};function Xl(){function a(a,b,c,d){var e=a.length;c=c+(d?1:-1);while(d?c--:++c<e)if(b(a[c],c,a))return c;return-1}Wl.exports=a}var Yl=!1;function Zl(){Yl||(Yl=!0,Xl());return Wl.exports}c={};var $l={exports:c};function am(){function a(a){return a!==a}$l.exports=a}var bm=!1;function cm(){bm||(bm=!0,am());return $l.exports}d={};var dm={exports:d};function em(){function a(a,b,c){c=c-1;var d=a.length;while(++c<d)if(a[c]===b)return c;return-1}dm.exports=a}var fm=!1;function gm(){fm||(fm=!0,em());return dm.exports}f={};var hm={exports:f};function im(){var a=Zl(),b=cm(),c=gm();function d(d,e,f){return e===e?c(d,e,f):a(d,b,f)}hm.exports=d}var jm=!1;function km(){jm||(jm=!0,im());return hm.exports}c={};var lm={exports:c};function mm(){var a=km();function b(b,c){var d=b==null?0:b.length;return!!d&&a(b,c,0)>-1}lm.exports=b}var nm=!1;function om(){nm||(nm=!0,mm());return lm.exports}d={};var pm={exports:d};function qm(){function a(a,b,c){var d=-1,e=a==null?0:a.length;while(++d<e)if(c(b,a[d]))return!0;return!1}pm.exports=a}var rm=!1;function sm(){rm||(rm=!0,qm());return pm.exports}f={};var tm={exports:f};function um(){function a(a,b){return a.has(b)}tm.exports=a}var vm=!1;function wm(){vm||(vm=!0,um());return tm.exports}c={};var xm={exports:c};function ym(){var a=Vl(),b=om(),c=sm(),d=Wc(),e=Wh(),f=wm(),g=200;function h(h,i,j,k){var l=-1,m=b,n=!0,o=h.length,p=[],q=i.length;if(!o)return p;j&&(i=d(i,e(j)));k?(m=c,n=!1):i.length>=g&&(m=f,n=!1,i=new a(i));outer:while(++l<o){var r=h[l],s=j==null?r:j(r);r=k||r!==0?r:0;if(n&&s===s){var t=q;while(t--)if(i[t]===s)continue outer;p.push(r)}else m(i,s,k)||p.push(r)}return p}xm.exports=h}var zm=!1;function Am(){zm||(zm=!0,ym());return xm.exports}d={};var Bm={exports:d};function Cm(){var a=jg(),b=na();function c(c){return b(c)&&a(c)}Bm.exports=c}var Dm=!1;function Em(){Dm||(Dm=!0,Cm());return Bm.exports}f={};var Fm={exports:f};function Gm(){var a=Am(),b=Od(),c=Fl(),d=Em();c=c(function(c,e){return d(c)?a(c,b(e,1,d,!0)):[]});Fm.exports=c}var Hm=!1;function Im(){Hm||(Hm=!0,Gm());return Fm.exports}c={};var Jm={exports:c};function Km(){function a(a){return function(b,c,d){var e=-1,f=Object(b);d=d(b);var g=d.length;while(g--){var h=d[a?g:++e];if(c(f[h],h,f)===!1)break}return b}}Jm.exports=a}var Lm=!1;function Mm(){Lm||(Lm=!0,Km());return Jm.exports}d={};var Nm={exports:d};function Om(){var a=Mm();a=a();Nm.exports=a}var Pm=!1;function Qm(){Pm||(Pm=!0,Om());return Nm.exports}f={};var Rm={exports:f};function Sm(){var a=Qm(),b=Ci();function c(c,d){return c&&a(c,d,b)}Rm.exports=c}var Tm=!1;function Um(){Tm||(Tm=!0,Sm());return Rm.exports}c={};var Vm={exports:c};function Wm(){var a=jg();function b(b,c){return function(d,e){if(d==null)return d;if(!a(d))return b(d,e);var f=d.length,g=c?f:-1,h=Object(d);while(c?g--:++g<f)if(e(h[g],g,h)===!1)break;return d}}Vm.exports=b}var Xm=!1;function Ym(){Xm||(Xm=!0,Wm());return Vm.exports}d={};var Zm={exports:d};function $m(){var a=Um(),b=Ym();b=b(a);Zm.exports=b}var an=!1;function bn(){an||(an=!0,$m());return Zm.exports}f={};var cn={exports:f};function dn(){var a=le();function b(b){return typeof b=="function"?b:a}cn.exports=b}var en=!1;function fn(){en||(en=!0,dn());return cn.exports}c={};var gn={exports:c};function hn(){var a=ph(),b=bn(),c=fn(),d=p();function e(e,f){var g=d(e)?a:b;return g(e,c(f))}gn.exports=e}var jn=!1;function kn(){jn||(jn=!0,hn());return gn.exports}d={};var ln={exports:d};function mn(){ln.exports=kn()}var nn=!1;function on(){nn||(nn=!0,mn());return ln.exports}f={};var pn={exports:f};function qn(){function a(a,b){var c=-1,d=a==null?0:a.length;while(++c<d)if(!b(a[c],c,a))return!1;return!0}pn.exports=a}var rn=!1;function sn(){rn||(rn=!0,qn());return pn.exports}c={};var tn={exports:c};function un(){var a=bn();function b(b,c){var d=!0;a(b,function(b,e,a){d=!!c(b,e,a);return d});return d}tn.exports=b}var vn=!1;function wn(){vn||(vn=!0,un());return tn.exports}d={};var xn={exports:d};function yn(){function a(a,b){var c=-1,d=a==null?0:a.length;while(++c<d)if(b(a[c],c,a))return!0;return!1}xn.exports=a}var zn=!1;function An(){zn||(zn=!0,yn());return xn.exports}f={};var Bn={exports:f};function Cn(){var a=Vl(),b=An(),c=wm(),d=1,e=2;function f(f,g,h,i,j,k){var l=h&d,m=f.length,n=g.length;if(m!=n&&!(l&&n>m))return!1;n=k.get(f);if(n&&k.get(g))return n==g;n=-1;var o=!0,p=h&e?new a:void 0;k.set(f,g);k.set(g,f);while(++n<m){var q=f[n],r=g[n];if(i)var s=l?i(r,q,n,g,f,k):i(q,r,n,f,g,k);if(s!==void 0){if(s)continue;o=!1;break}if(p){if(!b(g,function(a,b){if(!c(p,b)&&(q===a||j(q,a,h,i,k)))return p.push(b)})){o=!1;break}}else if(!(q===r||j(q,r,h,i,k))){o=!1;break}}k["delete"](f);k["delete"](g);return o}Bn.exports=f}var Dn=!1;function En(){Dn||(Dn=!0,Cn());return Bn.exports}c={};var Fn={exports:c};function Gn(){function a(a){var b=-1,c=Array(a.size);a.forEach(function(a,d){c[++b]=[d,a]});return c}Fn.exports=a}var Hn=!1;function In(){Hn||(Hn=!0,Gn());return Fn.exports}d={};var Jn={exports:d};function Kn(){function a(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=a});return c}Jn.exports=a}var Ln=!1;function Mn(){Ln||(Ln=!0,Kn());return Jn.exports}f={};var Nn={exports:f};function On(){var a=B(),b=Y(),c=Eb(),d=En(),e=In(),f=Mn(),g=1,h=2,i="[object Boolean]",j="[object Date]",k="[object Error]",l="[object Map]",m="[object Number]",n="[object RegExp]",o="[object Set]",p="[object String]",q="[object Symbol]",r="[object ArrayBuffer]",s="[object DataView]";a=a?a.prototype:void 0;var t=a?a.valueOf:void 0;function u(a,u,v,w,x,y,z){switch(v){case s:if(a.byteLength!=u.byteLength||a.byteOffset!=u.byteOffset)return!1;a=a.buffer;u=u.buffer;case r:return a.byteLength!=u.byteLength||!y(new b(a),new b(u))?!1:!0;case i:case j:case m:return c(+a,+u);case k:return a.name==u.name&&a.message==u.message;case n:case p:return a==u+"";case l:var A=e;case o:v=w&g;A||(A=f);if(a.size!=u.size&&!v)return!1;v=z.get(a);if(v)return v==u;w|=h;z.set(a,u);v=d(A(a),A(u),w,x,y,z);z["delete"](a);return v;case q:if(t)return t.call(a)==t.call(u)}return!1}Nn.exports=u}var Pn=!1;function Qn(){Pn||(Pn=!0,On());return Nn.exports}c={};var Rn={exports:c};function Sn(){var a=Mj(),b=1,c=Object.prototype,d=c.hasOwnProperty;function e(c,e,f,g,h,i){var j=f&b,k=a(c),l=k.length,m=a(e);m=m.length;if(l!=m&&!j)return!1;m=l;while(m--){var n=k[m];if(!(j?n in e:d.call(e,n)))return!1}var o=i.get(c);if(o&&i.get(e))return o==e;o=!0;i.set(c,e);i.set(e,c);var p=j;while(++m<l){n=k[m];var q=c[n],r=e[n];if(g)var s=j?g(r,q,n,e,c,i):g(q,r,n,c,e,i);if(!(s===void 0?q===r||h(q,r,f,g,i):s)){o=!1;break}p||(p=n=="constructor")}if(o&&!p){q=c.constructor;r=e.constructor;q!=r&&"constructor"in c&&"constructor"in e&&!(typeof q=="function"&&q instanceof q&&typeof r=="function"&&r instanceof r)&&(o=!1)}i["delete"](c);i["delete"](e);return o}Rn.exports=e}var Tn=!1;function Un(){Tn||(Tn=!0,Sn());return Rn.exports}d={};var Vn={exports:d};function Wn(){var a=lh(),b=En(),c=Qn(),d=Un(),e=hk(),f=p(),g=Oh(),h=ei(),i=1,j="[object Arguments]",k="[object Array]",l="[object Object]",m=Object.prototype,n=m.hasOwnProperty;function o(m,o,p,q,r,s){var t=f(m),u=f(o),v=t?k:e(m);u=u?k:e(o);v=v==j?l:v;u=u==j?l:u;var w=v==l,x=u==l;u=v==u;if(u&&g(m)){if(!g(o))return!1;t=!0;w=!1}if(u&&!w){s||(s=new a);return t||h(m)?b(m,o,p,q,r,s):c(m,o,v,p,q,r,s)}if(!(p&i)){t=w&&n.call(m,"__wrapped__");v=x&&n.call(o,"__wrapped__");if(t||v){w=t?m.value():m;x=v?o.value():o;s||(s=new a);return r(w,x,p,q,s)}}if(!u)return!1;s||(s=new a);return d(m,o,p,q,r,s)}Vn.exports=o}var Xn=!1;function Yn(){Xn||(Xn=!0,Wn());return Vn.exports}f={};var Zn={exports:f};function $n(){var a=Yn(),b=na();function c(d,e,f,g,h){if(d===e)return!0;return d==null||e==null||!b(d)&&!b(e)?d!==d&&e!==e:a(d,e,f,g,c,h)}Zn.exports=c}var ao=!1;function bo(){ao||(ao=!0,$n());return Zn.exports}c={};var co={exports:c};function eo(){var a=lh(),b=bo(),c=1,d=2;function e(e,f,g,h){var i=g.length,j=i,k=!h;if(e==null)return!j;e=Object(e);while(i--){var l=g[i];if(k&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}while(++i<j){l=g[i];var m=l[0],n=e[m],o=l[1];if(k&&l[2]){if(n===void 0&&!(m in e))return!1}else{l=new a;if(h)var p=h(n,o,m,e,f,l);if(!(p===void 0?b(o,n,c|d,h,l):p))return!1}}return!0}co.exports=e}var fo=!1;function go(){fo||(fo=!0,eo());return co.exports}d={};var ho={exports:d};function io(){var a=F();function b(b){return b===b&&!a(b)}ho.exports=b}var jo=!1;function ko(){jo||(jo=!0,io());return ho.exports}f={};var lo={exports:f};function mo(){var a=ko(),b=Ci();function c(c){var d=b(c),e=d.length;while(e--){var f=d[e],g=c[f];d[e]=[f,g,a(g)]}return d}lo.exports=c}var no=!1;function oo(){no||(no=!0,mo());return lo.exports}c={};var po={exports:c};function qo(){function a(a,b){return function(c){return c==null?!1:c[a]===b&&(b!==void 0||a in Object(c))}}po.exports=a}var ro=!1;function so(){ro||(ro=!0,qo());return po.exports}d={};var to={exports:d};function uo(){var a=go(),b=oo(),c=so();function d(d){var e=b(d);return e.length==1&&e[0][2]?c(e[0][0],e[0][1]):function(b){return b===d||a(b,d,e)}}to.exports=d}var vo=!1;function wo(){vo||(vo=!0,uo());return to.exports}f={};var xo={exports:f};function yo(){function a(a,b){return a!=null&&b in Object(a)}xo.exports=a}var zo=!1;function Ao(){zo||(zo=!0,yo());return xo.exports}c={};var Bo={exports:c};function Co(){var a=hd(),b=Gd(),c=p(),d=ng(),e=fg(),f=P();function g(g,h,i){h=a(h,g);var j=-1,k=h.length,l=!1;while(++j<k){var m=f(h[j]);if(!(l=g!=null&&i(g,m)))break;g=g[m]}if(l||++j!=k)return l;k=g==null?0:g.length;return!!k&&e(k)&&d(m,k)&&(c(g)||b(g))}Bo.exports=g}var Do=!1;function Eo(){Do||(Do=!0,Co());return Bo.exports}d={};var Fo={exports:d};function Go(){var a=Ao(),b=Eo();function c(c,d){return c!=null&&b(c,d,a)}Fo.exports=c}var Ho=!1;function Io(){Ho||(Ho=!0,Go());return Fo.exports}f={};var Jo={exports:f};function Ko(){var a=bo(),b=sd(),c=Io(),d=E(),e=ko(),f=so(),g=P(),h=1,i=2;function j(j,k){return d(j)&&e(k)?f(g(j),k):function(d){var e=b(d,j);return e===void 0&&e===k?c(d,j):a(k,e,h|i)}}Jo.exports=j}var Lo=!1;function Mo(){Lo||(Lo=!0,Ko());return Jo.exports}c={};var No={exports:c};function Oo(){function a(a){return function(b){return b==null?void 0:b[a]}}No.exports=a}var Po=!1;function Qo(){Po||(Po=!0,Oo());return No.exports}d={};var Ro={exports:d};function So(){var a=od();function b(b){return function(c){return a(c,b)}}Ro.exports=b}var To=!1;function Uo(){To||(To=!0,So());return Ro.exports}f={};var Vo={exports:f};function Wo(){var a=Qo(),b=Uo(),c=E(),d=P();function e(e){return c(e)?a(d(e)):b(e)}Vo.exports=e}var Xo=!1;function Yo(){Xo||(Xo=!0,Wo());return Vo.exports}c={};var Zo={exports:c};function $o(){var a=wo(),b=Mo(),c=le(),d=p(),e=Yo();function f(f){if(typeof f=="function")return f;if(f==null)return c;return typeof f=="object"?d(f)?b(f[0],f[1]):a(f):e(f)}Zo.exports=f}var ap=!1;function bp(){ap||(ap=!0,$o());return Zo.exports}d={};var cp={exports:d};function dp(){var a=sn(),b=wn(),c=bp(),d=p(),e=rg();function f(f,g,h){var i=d(f)?a:b;h&&e(f,g,h)&&(g=void 0);return i(f,c(g,3))}cp.exports=f}var ep=!1;function fp(){ep||(ep=!0,dp());return cp.exports}f={};var gp={exports:f};function hp(){var a=bn();function b(b,c){var d=[];a(b,function(b,e,a){c(b,e,a)&&d.push(b)});return d}gp.exports=b}var ip=!1;function jp(){ip||(ip=!0,hp());return gp.exports}c={};var kp={exports:c};function lp(){var a=ij(),b=jp(),c=bp(),d=p();function e(e,f){var g=d(e)?a:b;return g(e,c(f,3))}kp.exports=e}var mp=!1;function np(){mp||(mp=!0,lp());return kp.exports}d={};var op={exports:d};function pp(){var a=bp(),b=jg(),c=Ci();function d(d){return function(e,f,g){var h=Object(e);if(!b(e)){var i=a(f,3);e=c(e);f=function(a){return i(h[a],a,h)}}f=d(e,f,g);return f>-1?h[i?e[f]:f]:void 0}}op.exports=d}var qp=!1;function rp(){qp||(qp=!0,pp());return op.exports}f={};var sp={exports:f};function tp(){var a=Zl(),b=bp(),c=Dg(),d=Math.max;function e(e,f,g){var h=e==null?0:e.length;if(!h)return-1;g=g==null?0:c(g);g<0&&(g=d(h+g,0));return a(e,b(f,3),g)}sp.exports=e}var up=!1;function vp(){up||(up=!0,tp());return sp.exports}c={};var wp={exports:c};function xp(){var a=rp(),b=vp();a=a(b);wp.exports=a}var yp=!1;function zp(){yp||(yp=!0,xp());return wp.exports}d={};var Ap={exports:d};function Bp(){var a=bn(),b=jg();function c(c,d){var e=-1,f=b(c)?Array(c.length):[];a(c,function(b,c,a){f[++e]=d(b,c,a)});return f}Ap.exports=c}var Cp=!1;function Dp(){Cp||(Cp=!0,Bp());return Ap.exports}f={};var Ep={exports:f};function Fp(){var a=Wc(),b=bp(),c=Dp(),d=p();function e(e,f){var g=d(e)?a:c;return g(e,b(f,3))}Ep.exports=e}var Gp=!1;function Hp(){Gp||(Gp=!0,Fp());return Ep.exports}c={};var Ip={exports:c};function Jp(){var a=Od(),b=Hp();function c(c,d){return a(b(c,d),1)}Ip.exports=c}var Kp=!1;function Lp(){Kp||(Kp=!0,Jp());return Ip.exports}d={};var Mp={exports:d};function Np(){var a=Qm(),b=fn(),c=Si();function d(d,e){return d==null?d:a(d,b(e),c)}Mp.exports=d}var Op=!1;function Pp(){Op||(Op=!0,Np());return Mp.exports}f={};var Qp={exports:f};function Rp(){var a=Object.prototype,b=a.hasOwnProperty;function c(a,c){return a!=null&&b.call(a,c)}Qp.exports=c}var Sp=!1;function Tp(){Sp||(Sp=!0,Rp());return Qp.exports}c={};var Up={exports:c};function Vp(){var a=Tp(),b=Eo();function c(c,d){return c!=null&&b(c,d,a)}Up.exports=c}var Wp=!1;function Xp(){Wp||(Wp=!0,Vp());return Up.exports}d={};var Yp={exports:d};function Zp(){var a=Math.max,b=Math.min;function c(c,d,e){return c>=b(d,e)&&c<a(d,e)}Yp.exports=c}var $p=!1;function aq(){$p||($p=!0,Zp());return Yp.exports}f={};var bq={exports:f};function cq(){var a=aq(),b=zg(),c=vg();function d(d,e,f){e=b(e);f===void 0?(f=e,e=0):f=b(f);d=c(d);return a(d,e,f)}bq.exports=d}var dq=!1;function eq(){dq||(dq=!0,cq());return bq.exports}c={};var fq={exports:c};function gq(){var a=Vl(),b=om(),c=sm(),d=Wc(),e=Wh(),f=wm(),g=Math.min;function h(h,i,j){var k=j?c:b,l=h[0].length,m=h.length,n=m,o=Array(m),p=Infinity,q=[];while(n--){var r=h[n];n&&i&&(r=d(r,e(i)));p=g(r.length,p);o[n]=!j&&(i||l>=120&&r.length>=120)?new a(n&&r):void 0}r=h[0];var s=-1,t=o[0];outer:while(++s<l&&q.length<p){var u=r[s],v=i?i(u):u;u=j||u!==0?u:0;if(!(t?f(t,v):k(q,v,j))){n=m;while(--n){var w=o[n];if(!(w?f(w,v):k(h[n],v,j)))continue outer}t&&t.push(v);q.push(u)}}return q}fq.exports=h}var hq=!1;function iq(){hq||(hq=!0,gq());return fq.exports}d={};var jq={exports:d};function kq(){var a=Em();function b(b){return a(b)?b:[]}jq.exports=b}var lq=!1;function mq(){lq||(lq=!0,kq());return jq.exports}f={};var nq={exports:f};function oq(){var a=Wc(),b=iq(),c=Fl(),d=mq();c=c(function(c){var e=a(c,d);return e.length&&e[0]===c[0]?b(e):[]});nq.exports=c}var pq=!1;function qq(){pq||(pq=!0,oq());return nq.exports}c={};var rq={exports:c};function sq(){var a=yi(),b=hk(),c=Gd(),d=p(),e=jg(),f=Oh(),g=mi(),h=ei(),i="[object Map]",j="[object Set]",k=Object.prototype,l=k.hasOwnProperty;function m(k){if(k==null)return!0;if(e(k)&&(d(k)||typeof k=="string"||typeof k.splice=="function"||f(k)||h(k)||c(k)))return!k.length;var m=b(k);if(m==i||m==j)return!k.size;if(g(k))return!a(k).length;for(m in k)if(l.call(k,m))return!1;return!0}rq.exports=m}var tq=!1;function uq(){tq||(tq=!0,sq());return rq.exports}d={};var vq={exports:d};function wq(){var a=bo();function b(b,c){return a(b,c)}vq.exports=b}var xq=!1;function yq(){xq||(xq=!0,wq());return vq.exports}f={};var zq={exports:f};function Aq(){var a=ja(),b=na(),c="[object Number]";function d(d){return typeof d=="number"||b(d)&&a(d)==c}zq.exports=d}var Bq=!1;function Cq(){Bq||(Bq=!0,Aq());return zq.exports}c={};var Dq={exports:c};function Eq(){var a=Cq();function b(b){return a(b)&&b!=+b}Dq.exports=b}var Fq=!1;function Gq(){Fq||(Fq=!0,Eq());return Dq.exports}d={};var Hq={exports:d};function Iq(){function a(a){return a==null}Hq.exports=a}var Jq=!1;function Kq(){Jq||(Jq=!0,Iq());return Hq.exports}f={};var Lq={exports:f};function Mq(){var a=ja(),b=yj(),c=na(),d="[object Object]",e=Function.prototype,f=Object.prototype,g=e.toString,h=f.hasOwnProperty,i=g.call(Object);function j(e){if(!c(e)||a(e)!=d)return!1;e=b(e);if(e===null)return!0;e=h.call(e,"constructor")&&e.constructor;return typeof e=="function"&&e instanceof e&&g.call(e)==i}Lq.exports=j}var Nq=!1;function Oq(){Nq||(Nq=!0,Mq());return Lq.exports}c={};var Pq={exports:c};function Qq(){var a=ja(),b=p(),c=na(),d="[object String]";function e(e){return typeof e=="string"||!b(e)&&c(e)&&a(e)==d}Pq.exports=e}var Rq=!1;function Sq(){Rq||(Rq=!0,Qq());return Pq.exports}d={};var Tq={exports:d};function Uq(){function a(a){return a===void 0}Tq.exports=a}var Vq=!1;function Wq(){Vq||(Vq=!0,Uq());return Tq.exports}f={};var Xq={exports:f};function Yq(){function a(a){var b=a==null?0:a.length;return b?a[b-1]:void 0}Xq.exports=a}var Zq=!1;function $q(){Zq||(Zq=!0,Yq());return Xq.exports}c={};var ar={exports:c};function br(){var a=th(),b=Um(),c=bp();function d(d,e){var f={};e=c(e,3);b(d,function(c,d,b){a(f,e(c,d,b),c)});return f}ar.exports=d}var cr=!1;function dr(){cr||(cr=!0,br());return ar.exports}d={};var er={exports:d};function fr(){var a=th(),b=Um(),c=bp();function d(d,e){var f={};e=c(e,3);b(d,function(c,d,b){a(f,d,e(c,d,b))});return f}er.exports=d}var gr=!1;function hr(){gr||(gr=!0,fr());return er.exports}f={};var ir={exports:f};function jr(){var a=ra();function b(b,c,d){var e=-1,f=b.length;while(++e<f){var g=b[e],h=c(g);if(h!=null&&(i===void 0?h===h&&!a(h):d(h,i)))var i=h,j=g}return j}ir.exports=b}var kr=!1;function lr(){kr||(kr=!0,jr());return ir.exports}c={};var mr={exports:c};function nr(){function a(a,b){return a>b}mr.exports=a}var or=!1;function pr(){or||(or=!0,nr());return mr.exports}d={};var qr={exports:d};function rr(){var a=lr(),b=pr(),c=le();function d(d){return d&&d.length?a(d,c,b):void 0}qr.exports=d}var sr=!1;function tr(){sr||(sr=!0,rr());return qr.exports}f={};var ur={exports:f};function vr(){var a=lr(),b=pr(),c=bp();function d(d,e){return d&&d.length?a(d,c(e,2),b):void 0}ur.exports=d}var wr=!1;function xr(){wr||(wr=!0,vr());return ur.exports}c={};var yr={exports:c};function zr(){var a=th(),b=Eb();function c(c,d,e){(e!==void 0&&!b(c[d],e)||e===void 0&&!(d in c))&&a(c,d,e)}yr.exports=c}var Ar=!1;function Br(){Ar||(Ar=!0,zr());return yr.exports}d={};var Cr={exports:d};function Dr(){function a(a,b){if(b==="constructor"&&typeof a[b]==="function")return;if(b=="__proto__")return;return a[b]}Cr.exports=a}var Er=!1;function Fr(){Er||(Er=!0,Dr());return Cr.exports}f={};var Gr={exports:f};function Hr(){var a=Bh(),b=Si();function c(c){return a(c,b(c))}Gr.exports=c}var Ir=!1;function Jr(){Ir||(Ir=!0,Hr());return Gr.exports}c={};var Kr={exports:c};function Lr(){var a=Br(),b=aj(),c=Gk(),d=ej(),e=Sk(),f=Gd(),g=p(),h=Em(),i=Oh(),j=Ba(),k=F(),l=Oq(),m=ei(),n=Fr(),o=Jr();function q(p,q,r,s,t,u,v){var w=n(p,r),x=n(q,r),y=v.get(x);if(y){a(p,r,y);return}y=u?u(w,x,r+"",p,q,v):void 0;q=y===void 0;if(q){var z=g(x),A=!z&&i(x),B=!z&&!A&&m(x);y=x;z||A||B?g(w)?y=w:h(w)?y=d(w):A?(q=!1,y=b(x,!0)):B?(q=!1,y=c(x,!0)):y=[]:l(x)||f(x)?(y=w,f(w)?y=o(w):(!k(w)||j(w))&&(y=e(x))):q=!1}q&&(v.set(x,y),t(y,x,s,u,v),v["delete"](x));a(p,r,y)}Kr.exports=q}var Mr=!1;function Nr(){Mr||(Mr=!0,Lr());return Kr.exports}d={};var Or={exports:d};function Pr(){var a=lh(),b=Br(),c=Qm(),d=Nr(),e=F(),f=Si(),g=Fr();function h(i,j,k,l,m){if(i===j)return;c(j,function(c,f){m||(m=new a);if(e(c))d(i,j,f,k,h,l,m);else{var n=l?l(g(i,f),c,f+"",i,j,m):void 0;n===void 0&&(n=c);b(i,f,n)}},f)}Or.exports=h}var Qr=!1;function Rr(){Qr||(Qr=!0,Pr());return Or.exports}f={};var Sr={exports:f};function Tr(){var a=Fl(),b=rg();function c(c){return a(function(a,d){var e=-1,f=d.length,g=f>1?d[f-1]:void 0,h=f>2?d[2]:void 0;g=c.length>3&&typeof g=="function"?(f--,g):void 0;h&&b(d[0],d[1],h)&&(g=f<3?void 0:g,f=1);a=Object(a);while(++e<f){h=d[e];h&&c(a,h,e,g)}return a})}Sr.exports=c}var Ur=!1;function Vr(){Ur||(Ur=!0,Tr());return Sr.exports}c={};var Wr={exports:c};function Xr(){var a=Rr(),b=Vr();b=b(function(b,c,d){a(b,c,d)});Wr.exports=b}var Yr=!1;function Zr(){Yr||(Yr=!0,Xr());return Wr.exports}d={};var $r={exports:d};function as(){function a(a,b){return a<b}$r.exports=a}var bs=!1;function cs(){bs||(bs=!0,as());return $r.exports}f={};var ds={exports:f};function es(){var a=lr(),b=cs(),c=le();function d(d){return d&&d.length?a(d,c,b):void 0}ds.exports=d}var fs=!1;function gs(){fs||(fs=!0,es());return ds.exports}c={};var hs={exports:c};function is(){var a=lr(),b=bp(),c=cs();function d(d,e){return d&&d.length?a(d,b(e,2),c):void 0}hs.exports=d}var js=!1;function ks(){js||(js=!0,is());return hs.exports}d={};var ls={exports:d};function ms(){var a=od(),b=Je();function c(c,d){return d.length<2?c:a(c,b(d,0,-1))}ls.exports=c}var ns=!1;function os(){ns||(ns=!0,ms());return ls.exports}f={};var ps={exports:f};function qs(){var a=hd(),b=$q(),c=os(),d=P();function e(e,f){f=a(f,e);e=c(e,f);return e==null||delete e[d(b(f))]}ps.exports=e}var rs=!1;function ss(){rs||(rs=!0,qs());return ps.exports}c={};var ts={exports:c};function us(){var a=Oq();function b(b){return a(b)?void 0:b}ts.exports=b}var vs=!1;function ws(){vs||(vs=!0,us());return ts.exports}d={};var xs={exports:d};function ys(){var a=Wc(),b=ll(),c=ss(),d=hd(),e=Bh(),f=ws(),g=Be(),h=Qj(),i=1,j=2,k=4;g=g(function(g,l){var m={};if(g==null)return m;var n=!1;l=a(l,function(a){a=d(a,g);n||(n=a.length>1);return a});e(g,h(g),m);n&&(m=b(m,i|j|k,f));var o=l.length;while(o--)c(m,l[o]);return m});xs.exports=g}var zs=!1;function As(){zs||(zs=!0,ys());return xs.exports}f={};var Bs={exports:f};function Cs(){var a=Dg(),b="Expected a function";function c(c,d){var e;if(typeof d!="function")throw new TypeError(b);c=a(c);return function(){--c>0&&(e=d.apply(this,arguments));c<=1&&(d=void 0);return e}}Bs.exports=c}var Ds=!1;function Es(){Ds||(Ds=!0,Cs());return Bs.exports}c={};var Fs={exports:c};function Gs(){var a=Es();function b(b){return a(2,b)}Fs.exports=b}var Hs=!1;function Is(){Hs||(Hs=!0,Gs());return Fs.exports}d={};var Js={exports:d};function Ks(){var a=9007199254740991,b=Math.floor;function c(c,d){var e="";if(!c||d<1||d>a)return e;do d%2&&(e+=c),d=b(d/2),d&&(c+=c);while(d);return e}Js.exports=c}var Ls=!1;function Ms(){Ls||(Ls=!0,Ks());return Js.exports}f={};var Ns={exports:f};function Os(){var a=Qo();a=a("length");Ns.exports=a}var Ps=!1;function Qs(){Ps||(Ps=!0,Os());return Ns.exports}c={};var Rs={exports:c};function Ss(){var a="\\ud800-\\udfff",b="\\u0300-\\u036f",c="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff";b=b+c+d;c="\\ufe0e\\ufe0f";d="["+a+"]";b="["+b+"]";var e="\\ud83c[\\udffb-\\udfff]",f="(?:"+b+"|"+e+")";a="[^"+a+"]";var g="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",i="\\u200d";f=f+"?";c="["+c+"]?";i="(?:"+i+"(?:"+[a,g,h].join("|")+")"+c+f+")*";c=c+f+i;f="(?:"+[a+b+"?",b,g,h,d].join("|")+")";var j=RegExp(e+"(?="+e+")|"+f+c,"g");function k(a){var b=j.lastIndex=0;while(j.test(a))++b;return b}Rs.exports=k}var Ts=!1;function Us(){Ts||(Ts=!0,Ss());return Rs.exports}d={};var Vs={exports:d};function Ws(){var a=Qs(),b=Re(),c=Us();function d(d){return b(d)?c(d):a(d)}Vs.exports=d}var Xs=!1;function Ys(){Xs||(Xs=!0,Ws());return Vs.exports}f={};var Zs={exports:f};function $s(){var a=Ms(),b=$c(),c=Ne(),d=Re(),e=Ys(),f=cf(),g=Math.ceil;function h(h,i){i=i===void 0?" ":b(i);var j=i.length;if(j<2)return j?a(i,h):i;j=a(i,g(h/e(i)));return d(i)?c(f(j),0,h).join(""):j.slice(0,h)}Zs.exports=h}var at=!1;function bt(){at||(at=!0,$s());return Zs.exports}c={};var ct={exports:c};function dt(){var a=bt(),b=Ys(),c=Dg(),d=dd();function e(e,f,g){e=d(e);f=c(f);var h=f?b(e):0;return f&&h<f?a(f-h,g)+e:e}ct.exports=e}var et=!1;function ft(){et||(et=!0,dt());return ct.exports}d={};var gt={exports:d};function ht(){var a=xh(),b=hd(),c=ng(),d=F(),e=P();function f(f,g,h,i){if(!d(f))return f;g=b(g,f);var j=-1,k=g.length,l=k-1,m=f;while(m!=null&&++j<k){var n=e(g[j]),o=h;if(j!=l){var p=m[n];o=i?i(p,n,m):void 0;o===void 0&&(o=d(p)?p:c(g[j+1])?[]:{})}a(m,n,o);m=m[n]}return f}gt.exports=f}var it=!1;function jt(){it||(it=!0,ht());return gt.exports}f={};var kt={exports:f};function lt(){var a=od(),b=jt(),c=hd();function d(d,e,f){var g=-1,h=e.length,i={};while(++g<h){var j=e[g],k=a(d,j);f(k,j)&&b(i,c(j,d),k)}return i}kt.exports=d}var mt=!1;function nt(){mt||(mt=!0,lt());return kt.exports}c={};var ot={exports:c};function pt(){var a=nt(),b=Io();function c(c,d){return a(c,d,function(a,d){return b(c,d)})}ot.exports=c}var qt=!1;function rt(){qt||(qt=!0,pt());return ot.exports}d={};var st={exports:d};function tt(){var a=rt(),b=Be();b=b(function(b,c){return b==null?{}:a(b,c)});st.exports=b}var ut=!1;function vt(){ut||(ut=!0,tt());return st.exports}f={};var wt={exports:f};function xt(){var a=Wc(),b=bp(),c=nt(),d=Qj();function e(e,f){if(e==null)return{};var g=a(d(e),function(a){return[a]});f=b(f);return c(e,g,function(a,b){return f(a,b[0])})}wt.exports=e}var yt=!1;function zt(){yt||(yt=!0,xt());return wt.exports}c={};var At={exports:c};function Bt(){var a=Math.ceil,b=Math.max;function c(c,d,e,f){var g=-1;d=b(a((d-c)/(e||1)),0);var h=Array(d);while(d--)h[f?d:++g]=c,c+=e;return h}At.exports=c}var Ct=!1;function Dt(){Ct||(Ct=!0,Bt());return At.exports}d={};var Et={exports:d};function Ft(){var a=Dt(),b=rg(),c=zg();function d(d){return function(e,f,g){g&&typeof g!="number"&&b(e,f,g)&&(f=g=void 0);e=c(e);f===void 0?(f=e,e=0):f=c(f);g=g===void 0?e<f?1:-1:c(g);return a(e,f,g,d)}}Et.exports=d}var Gt=!1;function Ht(){Gt||(Gt=!0,Ft());return Et.exports}f={};var It={exports:f};function Jt(){var a=Ht();a=a();It.exports=a}var Kt=!1;function Lt(){Kt||(Kt=!0,Jt());return It.exports}c={};var Mt={exports:c};function Nt(){function a(a,b,c,d,e){e(a,function(e,f,a){c=d?(d=!1,e):b(c,e,f,a)});return c}Mt.exports=a}var Ot=!1;function Pt(){Ot||(Ot=!0,Nt());return Mt.exports}d={};var Qt={exports:d};function Rt(){var a=tf(),b=bn(),c=bp(),d=Pt(),e=p();function f(f,g,h){var i=e(f)?a:d,j=arguments.length<3;return i(f,c(g,4),h,j,b)}Qt.exports=f}var St=!1;function Tt(){St||(St=!0,Rt());return Qt.exports}f={};var Ut={exports:f};function Vt(){var a=jt();function b(b,c,d){return b==null?b:a(b,c,d)}Ut.exports=b}var Wt=!1;function Xt(){Wt||(Wt=!0,Vt());return Ut.exports}c={};var Yt={exports:c};function Zt(){var a=jt();function b(b,c,d,e){e=typeof e=="function"?e:void 0;return b==null?b:a(b,c,d,e)}Yt.exports=b}var $t=!1;function au(){$t||($t=!0,Zt());return Yt.exports}d={};var bu={exports:d};function cu(){var a=yi(),b=hk(),c=jg(),d=Sq(),e=Ys(),f="[object Map]",g="[object Set]";function h(h){if(h==null)return 0;if(c(h))return d(h)?e(h):h.length;var i=b(h);return i==f||i==g?h.size:a(h).length}bu.exports=h}var du=!1;function eu(){du||(du=!0,cu());return bu.exports}f={};var fu={exports:f};function gu(){var a=Yf();a=a(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()});fu.exports=a}var hu=!1;function iu(){hu||(hu=!0,gu());return fu.exports}c={};var ju={exports:c};function ku(){var a=bn();function b(b,c){var d;a(b,function(b,e,a){d=c(b,e,a);return!d});return!!d}ju.exports=b}var lu=!1;function mu(){lu||(lu=!0,ku());return ju.exports}d={};var nu={exports:d};function ou(){var a=An(),b=bp(),c=mu(),d=p(),e=rg();function f(f,g,h){var i=d(f)?a:c;h&&e(f,g,h)&&(g=void 0);return i(f,b(g,3))}nu.exports=f}var pu=!1;function qu(){pu||(pu=!0,ou());return nu.exports}f={};var ru={exports:f};function su(){function a(a,b){var c=a.length;a.sort(b);while(c--)a[c]=a[c].value;return a}ru.exports=a}var tu=!1;function uu(){tu||(tu=!0,su());return ru.exports}c={};var vu={exports:c};function wu(){var a=ra();function b(b,c){if(b!==c){var d=b!==void 0,e=b===null,f=b===b,g=a(b),h=c!==void 0,i=c===null,j=c===c,k=a(c);if(!i&&!k&&!g&&b>c||g&&h&&j&&!i&&!k||e&&h&&j||!d&&j||!f)return 1;if(!e&&!g&&!k&&b<c||k&&d&&f&&!e&&!g||i&&d&&f||!h&&f||!j)return-1}return 0}vu.exports=b}var xu=!1;function yu(){xu||(xu=!0,wu());return vu.exports}d={};var zu={exports:d};function Au(){var a=yu();function b(b,c,d){var e=-1,f=b.criteria,g=c.criteria,h=f.length,i=d.length;while(++e<h){var j=a(f[e],g[e]);if(j){if(e>=i)return j;var k=d[e];return j*(k=="desc"?-1:1)}}return b.index-c.index}zu.exports=b}var Bu=!1;function Cu(){Bu||(Bu=!0,Au());return zu.exports}f={};var Du={exports:f};function Eu(){var a=Wc(),b=bp(),c=Dp(),d=uu(),e=Wh(),f=Cu(),g=le();function h(h,i,j){var k=-1;i=a(i.length?i:[g],e(b));h=c(h,function(c,d,b){d=a(i,function(a){return a(c)});return{criteria:d,index:++k,value:c}});return d(h,function(a,b){return f(a,b,j)})}Du.exports=h}var Fu=!1;function Gu(){Fu||(Fu=!0,Eu());return Du.exports}c={};var Hu={exports:c};function Iu(){var a=Od(),b=Gu(),c=Fl(),d=rg();c=c(function(c,e){if(c==null)return[];var f=e.length;f>1&&d(c,e[0],e[1])?e=[]:f>2&&d(e[0],e[1],e[2])&&(e=[e[0]]);return b(c,a(e,1),[])});Hu.exports=c}var Ju=!1;function Ku(){Ju||(Ju=!0,Iu());return Hu.exports}d={};var Lu={exports:d};function Mu(){var a=ja(),b=na(),c="[object RegExp]";function d(d){return b(d)&&a(d)==c}Lu.exports=d}var Nu=!1;function Ou(){Nu||(Nu=!0,Mu());return Lu.exports}f={};var Pu={exports:f};function Qu(){var a=Ou(),b=Wh(),c=ai();c=c&&c.isRegExp;b=c?b(c):a;Pu.exports=b}var Ru=!1;function Su(){Ru||(Ru=!0,Qu());return Pu.exports}c={};var Tu={exports:c};function Uu(){var a=$c(),b=Ne(),c=Re(),d=rg(),e=Su(),f=cf(),g=dd(),h=4294967295;function i(i,j,k){k&&typeof k!="number"&&d(i,j,k)&&(j=k=void 0);k=k===void 0?h:k>>>0;if(!k)return[];i=g(i);if(i&&(typeof j=="string"||j!=null&&!e(j))){j=a(j);if(!j&&c(i))return b(f(i),0,k)}return i.split(j,k)}Tu.exports=i}var Vu=!1;function Wu(){Vu||(Vu=!0,Uu());return Tu.exports}d={};var Xu={exports:d};function Yu(){function a(a,b){var c,d=-1,e=a.length;while(++d<e){var f=b(a[d]);f!==void 0&&(c=c===void 0?f:c+f)}return c}Xu.exports=a}var Zu=!1;function $u(){Zu||(Zu=!0,Yu());return Xu.exports}f={};var av={exports:f};function bv(){var a=bp(),b=$u();function c(c,d){return c&&c.length?b(c,a(d,2)):0}av.exports=c}var cv=!1;function dv(){cv||(cv=!0,bv());return av.exports}c={};var ev={exports:c};function fv(){var a=Bl(),b=F(),c="Expected a function";function d(d,e,f){var g=!0,h=!0;if(typeof d!="function")throw new TypeError(c);b(f)&&(g="leading"in f?!!f.leading:g,h="trailing"in f?!!f.trailing:h);return a(d,e,{leading:g,maxWait:e,trailing:h})}ev.exports=d}var gv=!1;function hv(){gv||(gv=!0,fv());return ev.exports}d={};var iv={exports:d};function jv(){var a=Fh(),b=fn(),c=Dg(),d=9007199254740991,e=4294967295,f=Math.min;function g(g,h){g=c(g);if(g<1||g>d)return[];var i=e,j=f(g,e);h=b(h);g-=e;j=a(j,h);while(++i<g)h(i);return j}iv.exports=g}var kv=!1;function lv(){kv||(kv=!0,jv());return iv.exports}f={};var mv={exports:f};function nv(){var a=Wc(),b=ej(),c=p(),d=ra(),e=Sc(),f=P(),g=dd();function h(h){return c(h)?a(h,f):d(h)?[h]:b(e(g(h)))}mv.exports=h}var ov=!1;function pv(){ov||(ov=!0,nv());return mv.exports}c={};var qv={exports:c};function rv(){var a=ph(),b=Ok(),c=Um(),d=bp(),e=yj(),f=p(),g=Oh(),h=Ba(),i=F(),j=ei();function k(k,l,m){var n=f(k),o=n||g(k)||j(k);l=d(l,4);if(m==null){var p=k&&k.constructor;o?m=n?new p:[]:i(k)?m=h(p)?b(e(k)):{}:m={}}(o?a:c)(k,function(b,c,a){return l(m,b,c,a)});return m}qv.exports=k}var sv=!1;function tv(){sv||(sv=!0,rv());return qv.exports}d={};var uv={exports:d};function vv(){var a=$c(),b=Ne(),c=Re(),d=F(),e=Su(),f=Ys(),g=cf(),h=Dg(),i=dd(),j=30,k="...",l=/\w*$/;function m(m,n){var o=j,p=k;if(d(n)){var q="separator"in n?n.separator:q;o="length"in n?h(n.length):o;p="omission"in n?a(n.omission):p}m=i(m);n=m.length;if(c(m)){var r=g(m);n=r.length}if(o>=n)return m;n=o-f(p);if(n<1)return p;o=r?b(r,0,n).join(""):m.slice(0,n);if(q===void 0)return o+p;r&&(n+=o.length-n);if(e(q)){if(m.slice(n).search(q)){var s,t=o;q.global||(q=RegExp(q.source,i(l.exec(q))+"g"));q.lastIndex=0;while(s=q.exec(t))var u=s.index;o=o.slice(0,u===void 0?n:u)}}else if(m.indexOf(a(q),n)!=n){s=o.lastIndexOf(q);s>-1&&(o=o.slice(0,s))}return o+p}uv.exports=m}var wv=!1;function xv(){wv||(wv=!0,vv());return uv.exports}f={};var yv={exports:f};function zv(){function a(){}yv.exports=a}var Av=!1;function Bv(){Av||(Av=!0,zv());return yv.exports}c={};var Cv={exports:c};function Dv(){var a=$j(),b=Bv(),c=Mn(),d=1/0;c=a&&1/c(new a([,-0]))[1]==d?function(b){return new a(b)}:b;Cv.exports=c}var Ev=!1;function Fv(){Ev||(Ev=!0,Dv());return Cv.exports}d={};var Gv={exports:d};function Hv(){var a=Vl(),b=om(),c=sm(),d=wm(),e=Fv(),f=Mn(),g=200;function h(h,i,j){var k=-1,l=b,m=h.length,n=!0,o=[],p=o;if(j)n=!1,l=c;else if(m>=g){var q=i?null:e(h);if(q)return f(q);n=!1;l=d;p=new a}else p=i?[]:o;outer:while(++k<m){q=h[k];var r=i?i(q):q;q=j||q!==0?q:0;if(n&&r===r){var s=p.length;while(s--)if(p[s]===r)continue outer;i&&p.push(r);o.push(q)}else l(p,r,j)||(p!==o&&p.push(r),o.push(q))}return o}Gv.exports=h}var Iv=!1;function Jv(){Iv||(Iv=!0,Hv());return Gv.exports}f={};var Kv={exports:f};function Lv(){var a=Od(),b=Fl(),c=Jv(),d=Em();b=b(function(b){return c(a(b,1,d,!0))});Kv.exports=b}var Mv=!1;function Nv(){Mv||(Mv=!0,Lv());return Kv.exports}c={};var Ov={exports:c};function Pv(){var a=Jv();function b(b){return b&&b.length?a(b):[]}Ov.exports=b}var Qv=!1;function Rv(){Qv||(Qv=!0,Pv());return Ov.exports}d={};var Sv={exports:d};function Tv(){var a=bp(),b=Jv();function c(c,d){return c&&c.length?b(c,a(d,2)):[]}Sv.exports=c}var Uv=!1;function Vv(){Uv||(Uv=!0,Tv());return Sv.exports}f={};var Wv={exports:f};function Xv(){var a=dd(),b=0;function c(c){var d=++b;return a(c)+d}Wv.exports=c}var Yv=!1;function Zv(){Yv||(Yv=!0,Xv());return Wv.exports}c={};var $v={exports:c};function aw(){var a=Wc();function b(b,c){return a(c,function(a){return b[a]})}$v.exports=b}var bw=!1;function cw(){bw||(bw=!0,aw());return $v.exports}d={};var dw={exports:d};function ew(){var a=cw(),b=Ci();function c(c){return c==null?[]:a(c,b(c))}dw.exports=c}var fw=!1;function gw(){fw||(fw=!0,ew());return dw.exports}f={};var hw={exports:f};function iw(){function a(a,b,c){var d=-1,e=a.length,f=b.length,g={};while(++d<e){var h=d<f?b[d]:void 0;c(g,a[d],h)}return g}hw.exports=a}var jw=!1;function kw(){jw||(jw=!0,iw());return hw.exports}c={};var lw={exports:c};function mw(){var a=xh(),b=kw();function c(c,d){return b(c||[],d||[],a)}lw.exports=c}var nw=!1;function ow(){nw||(nw=!0,mw());return lw.exports}function b(a){switch(a){case void 0:return l();case"/at":return Fe();case"/capitalize":return pf();case"/camelCase":return bg();case"/chunk":return Hg();case"/clamp":return Pg();case"/clone":return pl();case"/cloneDeep":return tl();case"/constant":return de();case"/debounce":return Bl();case"/defaults":return Jl();case"/difference":return Im();case"/each":return on();case"/every":return fp();case"/filter":return np();case"/find":return zp();case"/flatMap":return Lp();case"/flatten":return Sd();case"/forEach":return kn();case"/forIn":return Pp();case"/get":return sd();case"/has":return Xp();case"/inRange":return eq();case"/intersection":return qq();case"/isArray":return p();case"/isEmpty":return uq();case"/isEqual":return yq();case"/isFunction":return Ba();case"/isNaN":return Gq();case"/isNil":return Kq();case"/isNumber":return Cq();case"/isObject":return F();case"/isPlainObject":return Oq();case"/isString":return Sq();case"/isUndefined":return Wq();case"/keys":return Ci();case"/last":return $q();case"/map":return Hp();case"/mapKeys":return dr();case"/mapValues":return hr();case"/max":return tr();case"/maxBy":return xr();case"/memoize":return Kc();case"/merge":return Zr();case"/min":return gs();case"/minBy":return ks();case"/now":return xl();case"/omit":return As();case"/once":return Is();case"/padStart":return ft();case"/pick":return vt();case"/pickBy":return zt();case"/range":return Lt();case"/reduce":return Tt();case"/set":return Xt();case"/setWith":return au();case"/size":return eu();case"/snakeCase":return iu();case"/some":return qu();case"/sortBy":return Ku();case"/split":return Wu();case"/sumBy":return dv();case"/throttle":return hv();case"/times":return lv();case"/toPath":return pv();case"/transform":return tv();case"/truncate":return xv();case"/union":return Nv();case"/uniq":return Rv();case"/uniqBy":return Vv();case"/uniqueId":return Zv();case"/values":return gw();case"/zipObject":return ow();case"/at":return Fe();case"/capitalize":return pf();case"/chunk":return Hg();case"/clamp":return Pg();case"/cloneDeep":return tl();case"/debounce":return Bl();case"/difference":return Im();case"/get":return sd();case"/inRange":return eq();case"/isEmpty":return uq();case"/isEqual":return yq();case"/isObject":return F();case"/isPlainObject":return Oq();case"/isString":return Sq();case"/memoize":return Kc();case"/merge":return Zr();case"/once":return Is();case"/padStart":return ft();case"/pick":return vt();case"/pickBy":return zt();case"/range":return Lt();case"/set":return Xt();case"/setWith":return au();case"/split":return Wu();case"/throttle":return hv();case"/times":return lv();case"/truncate":return xv();case"/uniq":return Rv();case"/uniqueId":return Zv()}}e.exports=b}),null);
__d("lodash-memoize",["lodash-4.17.15"],(function(a,b,c,d,e,f){e.exports=b("lodash-4.17.15")("/memoize")}),null);/*FB_PKG_DELIM*/
__d("UFI2UserActivityIdleTimeout",[],(function(a,b,c,d,e,f){"use strict";a=3e4;f["default"]=a}),66);
__d("CometUserActivityMonitor",["ErrorGuard","ExecutionEnvironment","SubscriptionsHandler","UFI2UserActivityIdleTimeout","UserActivity","Visibility"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=[],k=!1,l=(h||(h=c("ExecutionEnvironment"))).canUseDOM&&c("UserActivity").isOnTab()&&c("UserActivity").isActive(c("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE",m=[],n;function o(a){k=!0;m.push.apply(m,j);var b=function(){var b=m.shift();(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b(a)},null,[],{name:"CometUserActivityMonitor"})};while(m.length)b();k=!1}function p(a){var b=l;l=a;b!==a&&o(a)}function a(){return l}d=function(){n==null&&(n=new(c("SubscriptionsHandler"))(),n.addSubscriptions(c("UserActivity").subscribe(function(a,b){a=b.event;if(/^mouse(enter|leave|move|over|out)$/.test(a.type)&&c("UserActivity").isOnTab()===!1)return;p("ACTIVE")}),function(){var a=function(){p("INACTIVE")};window.addEventListener("blur",a,{passive:!0});return{remove:function(){return window.removeEventListener(a,{passive:!0})}}}(),c("Visibility").addListener(c("Visibility").HIDDEN,function(){p("INACTIVE")})))};function b(a){j.push(a);k&&m.push(a);var b=!1;return{remove:function(){if(b)return;var c=j.indexOf(a);c!==-1&&j.splice(c,1);if(k){c=m.indexOf(a);c!==-1&&m.splice(c,1)}b=!0}}}(h||(h=c("ExecutionEnvironment"))).canUseDOM&&d();g.getActivityState=a;g.init=d;g.subscribe=b}),98);
__d("CometVPVDUserActivityMonitor",["CometUserActivityMonitor"],(function(a,b,c,d,e,f,g){"use strict";a={isUserActive:function(){return d("CometUserActivityMonitor").getActivityState()==="ACTIVE"},subscribe:function(a){var b=d("CometUserActivityMonitor").subscribe(function(b){b=b==="ACTIVE";a&&a(b)});return function(){b&&b.remove()}}};g["default"]=a}),98);
__d("DebugOwl",["cr:1801726"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){return void 0};c=(a=b("cr:1801726"))!=null?a:{burrow:h,flap:h,fly:h,hoot:h,listen:function(){return h},nest:h,peck:h,perch:h,swoop:h};d=c;g["default"]=d}),98);
__d("GHLMitigationsGating",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return c("justknobx")._("684")&&c("gkx")("23184")};b=function(){return c("justknobx")._("922")&&c("gkx")("23185")};d=function(){return c("justknobx")._("222")&&c("gkx")("23186")};e=function(){return c("justknobx")._("1028")&&c("gkx")("23187")};f=function(){return c("justknobx")._("669")&&c("gkx")("23188")};var h=function(){return c("justknobx")._("1051")&&c("gkx")("23189")},i=function(){return c("justknobx")._("706")&&c("gkx")("23190")},j=function(){return c("justknobx")._("1175")&&c("gkx")("23191")},k=function(){return c("justknobx")._("1211")&&c("gkx")("23192")},l=function(){return c("justknobx")._("1212")&&c("gkx")("23193")},m=function(){return c("justknobx")._("1301")&&c("gkx")("23194")},n=function(){return c("justknobx")._("794")&&c("gkx")("23195")},o=function(){return c("justknobx")._("843")&&c("gkx")("23196")},p=function(){return c("justknobx")._("1070")&&c("gkx")("23197")},q=function(){return!c("justknobx")._("182")&&c("gkx")("23198")},r=function(){return c("justknobx")._("1749")&&c("gkx")("23199")},s=function(){return c("justknobx")._("2217")&&c("gkx")("2750")},t=function(){return c("justknobx")._("1141")&&c("gkx")("23200")},u=function(){return c("justknobx")._("2382")&&c("gkx")("3356")};g.getIsGHLShimRandomizePlaceholderEnabled=a;g.getIsGHLRandomElementWrapperForLinksEnabled=b;g.getIsGHLRandomElementWrapperForStoryTitleEnabled=i;g.getIsGHLEmptyAElementEnabled=e;g.getIsGHLEmptyDivElementAfterH3Enabled=f;g.getIsGHLParentStyleRandomizationEnabled=s;g.getIsGHLSVGStyleMarginRightEnabled=d;g.getIsGHLSVGStyleMarginLeftEnabled=h;g.getIsGHLSVGStyleMarginRightWithDivEnabled=j;g.getIsGHLSVGStyleMarginLeftWithDivEnabled=k;g.getIsGHLSVGStyleWidthtWithDivEnabled=l;g.getIsGHLChunkerEnabled=m;g.getIsGHLSVGExtraLayerEnabled=n;g.getIsGHLSVGMultipleLayersEnabled=o;g.getIsGHLSVGTextSegmentsEnabled=p;g.getIsGHLSVGTextEnabled=q;g.getIsGHLCanvasTextEnabled=r;g.getIsGHLSVGTextUseTspanEnabled=t;g.getIsGHLMockFooterRelAttributeEnabled=u}),98);
__d("GHLRandomElementWrapper",["Random","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={noop:{boxSizing:"x9f619",display:"xt0psk2",fontFamily:"xjb2p0i",fontSize:"x1qlqyl8",lineHeight:"x15bjb6t",$$css:!0}},l=[[1,0],[1,1],[0,1],[0,2],[1,2],[2,2],[2,1],[1,1]],m=Math.floor(Date.now()/(1e3*60*60*24));b=function(a){var b;return(b={},b[a]=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(HTMLSpanElement)),b)[a]};e=function(){return String.fromCharCode(97+c("Random").random()*25)};d=m%10+5;var n=Array(d).fill().map(e).join("");d=Array(d).fill().map(e).join("");var o=n+"-"+d;window.customElements&&window.customElements.define(o,b(n),{"extends":"span"});function a(a){var b=a.children,d=a.elementTag,e=a.useClassStyles;e=e===void 0?!1:e;a=a.useInlineStyles;a=a===void 0?!1:a;b=b;var f=l[m%l.length],g=a?{display:"inline"}:null,i=(h||(h=c("stylex")))(e?k.noop:null);d==="div"&&!e&&!a&&(i="x9f619 xt0psk2 xjb2p0i x1qlqyl8 x15bjb6t");d==="randomSpan"?window.customElements?e=o:e="span":e=d;a=f[1];for(d=0;d<a;d++)b=j.jsx(e,{className:i,style:g,children:b});b=j.jsx(e,{children:b});d=f[0];for(a=0;a<d;a++)b=j.jsx(e,{className:i,style:g,children:b});return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GHLSVGTextUtils",["GHLMitigationsGating","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftEnabled()||d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftWithDivEnabled();b=d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightEnabled()||d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightWithDivEnabled();e=function(a){switch(a){case"14px":return 4;case"15px":return 6;default:return 0}};f=function(a){return!c("gkx")("23205")?null:a==="15px"?{extraHeight:1,paddingTop:1}:null};d=function(a){return!c("gkx")("23206")?null:a==="15px"?4:null};var h=function(a){switch(a){case"14px":case"15px":return!0;default:return!1}};g.anyMarginLeftStylingEnabled=a;g.anyMarginRightStylingEnabled=b;g.getCTAExtraWidth=e;g.getCTACenteringPadding=d;g.getCTAHeightAdjustment=f;g.getIsCTAText=h}),98);
__d("GHLSVGElementContainer.react",["GHLMitigationsGating","GHLSVGTextUtils","filterObject","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=[d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightEnabled(),d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightWithDivEnabled(),d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftEnabled(),d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftWithDivEnabled(),d("GHLMitigationsGating").getIsGHLSVGStyleWidthtWithDivEnabled()];var j=b[0],k=b[1],l=b[2],m=b[3],n=b[4];function a(a){var b=a.domID,e=a.fontSize,f=a.height,g=a.randomizedWidth,h=a.width,o=d("GHLSVGTextUtils").getCTAHeightAdjustment(e),p=d("GHLSVGTextUtils").getCTACenteringPadding(e);f=c("filterObject")({height:f+((f=o==null?void 0:o.extraHeight)!=null?f:0)+"px",overflow:"visible",paddingLeft:p==null?null:p+"px",paddingTop:o==null?null:o.paddingTop+"px"},Boolean);p={marginRight:"-"+(g-h)+"px",width:g+d("GHLSVGTextUtils").getCTAExtraWidth(e)+"px"};o={marginLeft:"-"+(g-h)+"px",width:h+(g-h)+d("GHLSVGTextUtils").getCTAExtraWidth(e)+"px"};g=j?[null,p]:k?[p,null]:l?[null,o]:m?[o,null]:n?[{width:h+d("GHLSVGTextUtils").getCTAExtraWidth(a.fontSize)+"px"},null]:[null,{width:h+d("GHLSVGTextUtils").getCTAExtraWidth(a.fontSize)+"px"}];e=g[0];p=g[1];o=i.jsx("svg",{style:babelHelpers["extends"]({},f,p),children:i.jsx("use",{xlinkHref:"#"+b,xmlnsXlink:"http://www.w3.org/1999/xlink"})});return e==null?o:i.jsx("div",{style:e,children:o})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GHLSVGText.react",["BasePortal.react","ExecutionEnvironment","GHLMitigationsGating","GHLRandomElementWrapper","GHLSVGElementContainer.react","GHLSVGTextUtils","Random","cr:6269","gkx","justknobx","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useLayoutEffect,l=e.useRef,m=e.useState,n=null,o=function(){(h||(h=c("ExecutionEnvironment"))).canUseDOM&&n===null&&(n=document.createElement("div"),n.setAttribute("style","position: absolute; top: -10000px;"),document.body&&document.body.appendChild(n));return n},p=1,q="SvgT";function a(a){var e=a.fontSize;a=a.text;var f=m(0),g=f[0],h=f[1];f=m(0);var i=f[0],n=f[1];f=c("useStable")(function(){return c("Random").intBetween(c("justknobx")._("2436"),c("justknobx")._("2437"))});var r=c("useStable")(function(){return q+p++}),s=c("useStable")(function(){return q+p++}),t=l(null);k(function(){var a;a=(a=t.current)==null?void 0:a.getBoundingClientRect();(a==null?void 0:a.height)!=null&&(a==null?void 0:a.width)!=null&&(h(a.height),n(a.width))},[e,a]);f=Math.max(i,100)+f;var u=c("gkx")("23201")?j.jsx(c("GHLRandomElementWrapper"),{elementTag:c("gkx")("23202")?"randomSpan":c("gkx")("23203")?"div":"span",children:j.jsx(c("GHLSVGElementContainer.react"),{domID:r,fontSize:e,height:g,randomizedWidth:f,width:i})}):j.jsx(c("GHLSVGElementContainer.react"),{domID:r,fontSize:e,height:g,randomizedWidth:f,width:i}),v=c("gkx")("23204"),w=""+(d("GHLMitigationsGating").getIsGHLSVGExtraLayerEnabled()?s:r);e={fill:"currentColor",fontSize:(e=e)!=null?e:v?"13px":"12px",overflow:"visible"};f={x:d("GHLSVGTextUtils").anyMarginLeftStylingEnabled&&!d("GHLSVGTextUtils").anyMarginRightStylingEnabled?f-i:void 0,y:v?g-2:g-3};return j.jsxs(j.Fragment,{children:[j.jsxs(c("BasePortal.react"),{target:o(),children:[d("GHLMitigationsGating").getIsGHLSVGExtraLayerEnabled()&&j.jsx("svg",{id:r,children:j.jsx("use",{xlinkHref:"#"+s,xmlnsXlink:"http://www.w3.org/1999/xlink"})}),j.jsx("svg",{style:{overflow:"visible"},children:d("GHLMitigationsGating").getIsGHLSVGTextUseTspanEnabled()&&b("cr:6269")?j.jsx(b("cr:6269"),{originalText:a,textElementID:w,textRef:t,textStyle:e,xPosition:f.x,yPosition:f.y}):j.jsx("text",{id:w,ref:t,style:e,x:f.x,y:f.y,children:a})})]}),u]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSInsightsPanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),d,e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("rect",{fill:"none",height:"9.091",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",width:"6.667",x:"2",y:"12.909"}),e=j.jsx("rect",{fill:"none",height:"14.545",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",width:"6.667",x:"15.333",y:"7.455"}),f=j.jsx("rect",{fill:"none",height:"20",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",width:"6.667",x:"8.667",y:"2"}),b[0]=d,b[1]=e,b[2]=f):(d=b[0],e=b[1],f=b[2]);b[3]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f]})),b[3]=a,b[4]=d):d=b[4];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSMailPanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(4),d,e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("rect",{fill:"none",height:"17.273",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",width:"20",x:"2",y:"3.364"}),e=j.jsx("polyline",{fill:"none",points:"2 7.155 12.002 13.81 22 7.157",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=d,b[1]=e):(d=b[0],e=b[1]);b[2]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e]})),b[2]=a,b[3]=d):d=b[3];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSVolumeNonePanoFilledIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M11.403 1.083a1.001 1.001 0 0 0-1.082.187L5.265 6H2a1 1 0 0 0-1 1v10.003a1 1 0 0 0 1 1h3.265l5.01 4.682.02.021a1 1 0 0 0 1.704-.814L12.005 2a1 1 0 0 0-.602-.917ZM20.704 12l1.94-1.94a1.5 1.5 0 0 0-2.122-2.12l-1.939 1.939-1.94-1.94a1.5 1.5 0 1 0-2.12 2.122L16.461 12l-1.94 1.94a1.5 1.5 0 1 0 2.122 2.12l1.939-1.939 1.94 1.94a1.5 1.5 0 0 0 2.12-2.122Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSVolumeOffFilledIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{clipRule:"evenodd",d:"M1.5 13.3c-.8 0-1.5.7-1.5 1.5v18.4c0 .8.7 1.5 1.5 1.5h8.7l12.9 12.9c.9.9 2.5.3 2.5-1v-9.8c0-.4-.2-.8-.4-1.1l-22-22c-.3-.3-.7-.4-1.1-.4h-.6zm46.8 31.4-5.5-5.5C44.9 36.6 48 31.4 48 24c0-11.4-7.2-17.4-7.2-17.4-.6-.6-1.6-.6-2.2 0L37.2 8c-.6.6-.6 1.6 0 2.2 0 0 5.7 5 5.7 13.8 0 5.4-2.1 9.3-3.8 11.6L35.5 32c1.1-1.7 2.3-4.4 2.3-8 0-6.8-4.1-10.3-4.1-10.3-.6-.6-1.6-.6-2.2 0l-1.4 1.4c-.6.6-.6 1.6 0 2.2 0 0 2.6 2 2.6 6.7 0 1.8-.4 3.2-.9 4.3L25.5 22V1.4c0-1.3-1.6-1.9-2.5-1L13.5 10 3.3-.3c-.6-.6-1.5-.6-2.1 0L-.2 1.1c-.6.6-.6 1.5 0 2.1L4 7.6l26.8 26.8 13.9 13.9c.6.6 1.5.6 2.1 0l1.4-1.4c.7-.6.7-1.6.1-2.2z",fillRule:"evenodd"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 48 48",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSVolumePanoFilledIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M16.636 7.028a1.5 1.5 0 1 0-2.395 1.807 5.365 5.365 0 0 1 1.103 3.17 5.378 5.378 0 0 1-1.105 3.176 1.5 1.5 0 1 0 2.395 1.806 8.396 8.396 0 0 0 1.71-4.981 8.39 8.39 0 0 0-1.708-4.978Zm3.73-2.332A1.5 1.5 0 1 0 18.04 6.59 8.823 8.823 0 0 1 20 12.007a8.798 8.798 0 0 1-1.96 5.415 1.5 1.5 0 0 0 2.326 1.894 11.672 11.672 0 0 0 2.635-7.31 11.682 11.682 0 0 0-2.635-7.31Zm-8.963-3.613a1.001 1.001 0 0 0-1.082.187L5.265 6H2a1 1 0 0 0-1 1v10.003a1 1 0 0 0 1 1h3.265l5.01 4.682.02.021a1 1 0 0 0 1.704-.814L12.005 2a1 1 0 0 0-.602-.917Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSWhatsappLogoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{clipRule:"evenodd",d:"M15.662.263A15.166 15.166 0 0 1 26.06 4.48a15.048 15.048 0 0 1 4.653 10.381 15.164 15.164 0 0 1-3.77 10.568 15.063 15.063 0 0 1-11.37 5.138c-2.273 0-4.526-.513-6.567-1.495l-7.93 1.764a.116.116 0 0 1-.138-.13l1.34-8.019a15.181 15.181 0 0 1-1.85-6.837A15.052 15.052 0 0 1 4.555 5.012 15.061 15.061 0 0 1 15.586.263h.075Zm-.085 2.629c-.12 0-.242.002-.364.005-6.902.198-12.356 5.975-12.158 12.877.06 2.107.654 4.176 1.717 5.982l.231.392-.993 5.441 5.385-1.271.407.212a12.527 12.527 0 0 0 6.13 1.402c6.901-.198 12.356-5.974 12.158-12.876-.195-6.78-5.773-12.164-12.513-12.164ZM10.34 8.095c.253.008.507.015.728.032.271.019.57.04.836.683.315.763.996 2.668 1.085 2.86.09.194.146.418.011.668-.134.25-.203.407-.4.623-.196.216-.414.484-.59.649-.197.184-.4.384-.19.771.21.388.934 1.657 2.033 2.7 1.413 1.34 2.546 1.783 2.996 1.993a.998.998 0 0 0 .415.112c.162 0 .292-.068.415-.193.237-.24.95-1.071 1.25-1.454.156-.2.299-.271.453-.271.123 0 .255.045.408.107.345.137 2.185 1.115 2.56 1.317.374.202.625.305.715.466.09.162.066.924-.278 1.803-.344.878-1.922 1.688-2.621 1.73-.205.012-.406.04-.668.04-.634 0-1.621-.166-3.865-1.133-3.817-1.643-6.136-5.683-6.318-5.942-.182-.26-1.489-2.111-1.432-3.983C7.94 9.8 8.951 8.91 9.311 8.54c.345-.355.74-.445.996-.445h.032Z",fill:"currentColor",fillRule:"evenodd"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 31 31",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSecureShareSheetHeader.react",["IGDSBox.react","IGDSDialogHeader.react","IGDSIconButton.react","IGDSText.react","IGDSXFilledIcon.react","PolarisDirectStrings","PolarisGenericStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5);a=a.onCloseClick;var e;b[0]!==a?(e=a?j.jsx(c("IGDSBox.react"),{padding:4,children:j.jsx(c("IGDSIconButton.react"),{onClick:a,children:j.jsx(c("IGDSXFilledIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,size:18})})}):void 0,b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("IGDSText.react").LabelEmphasized,{children:d("PolarisDirectStrings").SHARE_TITLE}),b[2]=a):a=b[2];b[3]!==e?(a=j.jsx(c("IGDSDialogHeader.react"),{endAdornment:e,truncateText:!0,children:a}),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("IGDSecureShareSheetDialogPlaceholder.react",["IGDSBox.react","IGDSDialogPlaceholder.react","IGDSListItemPlaceholder.react","IGDSecureShareSheetHeader.react","react","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={dialogContainer:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}};function a(a){var b=i(5);a=a.onClose;var d=c("useMatchMedia")("(max-width: 736px)");d=d?"fullscreen":"large";var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("IGDSecureShareSheetHeader.react"),{}),b[0]=e):e=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSBox.react"),{marginTop:4,children:Array(3).fill(null).map(function(a,b){return j.jsx(c("IGDSListItemPlaceholder.react"),{color:"elevatedHighlightBackground",fullWidth:!0,index:b,paddingX:6,paddingY:2,size:"medium"},"igd_secure_sharesheet_dialog_placeholder_"+b)})}),b[1]=f):f=b[1];b[2]!==a||b[3]!==d?(e=j.jsxs(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,fixedWidth:!0,innerContentXStyle:k.dialogContainer,onClose:a,size:d,children:[e,f]}),b[2]=a,b[3]=d,b[4]=e):e=b[4];return e}g["default"]=a}),98);
__d("IGDShareSheetOnSubmitFactory",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f,h,i){var j=e.instamadilloRecipients;e=e.openRecipients;e!=null&&e.size>0&&a(e,f,h,i);e=[];if(j!=null&&j.size>0)for(j of j.values()){var k=j.candidate;e.push(c(k.id,k.isDisappearingModeSettingOn,d(k),f,h,i))}yield (g||(g=b("Promise"))).allSettled(e)});return function(a,b,c,d){return e.apply(this,arguments)}}()}f["default"]=a}),66);
__d("IgBoostPlatformApiCallFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3989");b=d("FalcoLoggerInternal").create("ig_boost_platform_api_call",a);e=b;g["default"]=e}),98);
__d("InstagramAdActionMenuFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3374");b=d("FalcoLoggerInternal").create("instagram_ad_action_menu",a);e=b;g["default"]=e}),98);
__d("InstagramAdCommentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5516");b=d("FalcoLoggerInternal").create("instagram_ad_comment",a);e=b;g["default"]=e}),98);
__d("InstagramAdImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1282");b=d("FalcoLoggerInternal").create("instagram_ad_impression",a);e=b;g["default"]=e}),98);
__d("InstagramAdLikeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5064");b=d("FalcoLoggerInternal").create("instagram_ad_like",a);e=b;g["default"]=e}),98);
__d("InstagramAdSaveFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5533");b=d("FalcoLoggerInternal").create("instagram_ad_save",a);e=b;g["default"]=e}),98);
__d("InstagramAdSubImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1283");b=d("FalcoLoggerInternal").create("instagram_ad_sub_impression",a);e=b;g["default"]=e}),98);
__d("InstagramAdUnlikeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5517");b=d("FalcoLoggerInternal").create("instagram_ad_unlike",a);e=b;g["default"]=e}),98);
__d("InstagramAdUnsaveFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5534");b=d("FalcoLoggerInternal").create("instagram_ad_unsave",a);e=b;g["default"]=e}),98);
__d("InstagramMediaMetricsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2312");b=d("FalcoLoggerInternal").create("instagram_media_metrics",a);e=b;g["default"]=e}),98);
__d("InstagramOrganicCommentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("969");b=d("FalcoLoggerInternal").create("instagram_organic_comment",a);e=b;g["default"]=e}),98);
__d("InstagramOrganicImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1115");b=d("FalcoLoggerInternal").create("instagram_organic_impression",a);e=b;g["default"]=e}),98);
__d("InstagramOrganicLikeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("891");b=d("FalcoLoggerInternal").create("instagram_organic_like",a);e=b;g["default"]=e}),98);
__d("InstagramOrganicUnlikeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5481");b=d("FalcoLoggerInternal").create("instagram_organic_unlike",a);e=b;g["default"]=e}),98);
__d("InstagramUpcomingEventActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2258");b=d("FalcoLoggerInternal").create("instagram_upcoming_event_action",a);e=b;g["default"]=e}),98);
__d("InstagramVideoViewabilityChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4670");b=d("FalcoLoggerInternal").create("instagram_video_viewability_changed",a);e=b;g["default"]=e}),98);
__d("IpiCacheEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5768");b=d("FalcoLoggerInternal").create("ipi_cache_event",a);e=b;g["default"]=e}),98);
__d("PolarisAPICommentOnPost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){b={comment_text:b,replied_to_comment_id:c};return d("PolarisInstapi").apiPost("/api/v1/web/comments/{media_id}/add/",{body:b,path:{media_id:a}}).then(function(a){return a.data})}g.commentOnPost=a}),98);
__d("PolarisAPISetUpcomingEventReminder",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return c?d("PolarisInstapi").apiPost("/api/v1/upcoming_events/set_reminder/{event_id}/",{body:{media_pk:b},path:{event_id:a}}):d("PolarisInstapi").apiPost("/api/v1/upcoming_events/unset_reminder/{event_id}/",{path:{event_id:a}})}g.setUpcomingEventReminder=a}),98);
__d("PolarisAdBlockerMitigationGatingHelpers",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("25304")&&c("justknobx")._("931")}function b(){return c("justknobx")._("1118")}g.shouldUseSVGTextMitigation=a;g.shouldUseRandomElementWrapper=b}),98);
__d("PolarisAdsEngagementLogger",["InstagramAdCommentFalcoEvent","InstagramAdLikeFalcoEvent","InstagramAdSaveFalcoEvent","InstagramAdUnlikeFalcoEvent","InstagramAdUnsaveFalcoEvent","InstagramODS","PolarisContainerModuleUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("InstagramODS").incr("web.ads.feed.like"),c("InstagramAdLikeFalcoEvent").log(function(){return{ad_id:b.adId,inventory_source:a.source,m_pk:i(a),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(a.source),pk:b.viewerId,source_of_action:d("PolarisContainerModuleUtils").getContainerModule(a.source),source_of_like:a.sourceOfLike,tracking_token:b.adTrackingToken}})}function b(a,b){c("InstagramODS").incr("web.ads.feed.unlike"),c("InstagramAdUnlikeFalcoEvent").log(function(){return{ad_id:b.adId,inventory_source:a.source,m_pk:i(a),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(a.source),pk:b.viewerId,source_of_action:d("PolarisContainerModuleUtils").getContainerModule(a.source),source_of_like:a.sourceOfLike,tracking_token:b.adTrackingToken}})}function e(a,b){c("InstagramODS").incr("web.ads.feed.comment"),c("InstagramAdCommentFalcoEvent").log(function(){return{ad_id:b.adId,inventory_source:a.containerModule,m_pk:i(a),parent_c_pk:a.parentCommentId,pigeon_reserved_keyword_module:a.containerModule,pk:a.commentAuthorId,source_of_action:d("PolarisContainerModuleUtils").getContainerModule(a.containerModule),tracking_token:b.adTrackingToken}})}function f(a){c("InstagramODS").incr("web.ads.feed.save");var b=a.mediaPk,e=a.ownerId;if(b==null||e==null)return;c("InstagramAdSaveFalcoEvent").log(function(){return{a_pk:e,ad_id:a.adId,follow_status:a.followStatus,m_pk:b,m_t:a.mediaType.toString(),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(a.analyticsContext),pk:a.viewerId,source_of_action:d("PolarisContainerModuleUtils").getContainerModule(a.analyticsContext),tracking_token:a.adTrackingToken}})}function h(a){c("InstagramODS").incr("web.ads.feed.unsave"),c("InstagramAdUnsaveFalcoEvent").log(function(){return{a_pk:a.ownerId,ad_id:a.adId,follow_status:a.followStatus,m_pk:a.mediaPk,m_t:a.mediaType.toString(),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(a.analyticsContext),pk:a.viewerId,source_of_action:d("PolarisContainerModuleUtils").getContainerModule(a.analyticsContext),tracking_token:a.adTrackingToken}})}function i(a){return a.mediaAuthorId==null?a.mediaId:a.mediaId+"_"+a.mediaAuthorId}g.logAdLike=a;g.logAdUnlike=b;g.logAdComment=e;g.logAdSave=f;g.logAdUnsave=h}),98);
__d("PolarisBoostCanSkipPro2ProQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6844670978909501"}),null);
__d("PolarisBoostCanSkipPro2ProQuery.graphql",["PolarisBoostCanSkipPro2ProQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"entrypoint"},c={defaultValue:null,kind:"LocalArgument",name:"platform"},d=[{kind:"Variable",name:"entrypoint",variableName:"entrypoint"},{kind:"Variable",name:"platform",variableName:"platform"}],e={alias:null,args:null,kind:"ScalarField",name:"can_user_skip_pro_identity_setup",storageKey:null};return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"PolarisBoostCanSkipPro2ProQuery",selections:[{alias:null,args:d,concreteType:"IGProfessionalIdentityCacheGQL",kind:"LinkedField",name:"ig_professional_cache",plural:!1,selections:[e],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"PolarisBoostCanSkipPro2ProQuery",selections:[{alias:null,args:d,concreteType:"IGProfessionalIdentityCacheGQL",kind:"LinkedField",name:"ig_professional_cache",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("PolarisBoostCanSkipPro2ProQuery_instagramRelayOperation"),metadata:{},name:"PolarisBoostCanSkipPro2ProQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisBoostCanSkipPro2Pro",["CometRelay","PolarisBoostCanSkipPro2ProQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("PolarisBoostCanSkipPro2ProQuery.graphql");function a(a,b,c){return d("CometRelay").fetchQuery(a,i,{entrypoint:b,platform:"WEB"},{fetchPolicy:"network-only"}).toPromise().then(function(a){a=(a=a==null?void 0:(a=a.ig_professional_cache)==null?void 0:a.can_user_skip_pro_identity_setup)!=null?a:!1;c.logIpiCacheEvent(a?"client_should_skip_boost_onboarding":"client_should_not_skip_boost_onboarding_on_cache_fetch_success");return a})["catch"](function(a){c.logIpiCacheEvent("client_should_not_skip_boost_onboarding_on_cache_fetch_failure",a.message);return!1})}g.getCanSkipPro2Pro=a}),98);
__d("PromotedPostsActionErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3997");b=d("FalcoLoggerInternal").create("promoted_posts_action_error",a);e=b;g["default"]=e}),98);
__d("PromotedPostsCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3999");b=d("FalcoLoggerInternal").create("promoted_posts_cancel",a);e=b;g["default"]=e}),98);
__d("PromotedPostsEnterErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4000");b=d("FalcoLoggerInternal").create("promoted_posts_enter_error",a);e=b;g["default"]=e}),98);
__d("PromotedPostsEnterFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4001");b=d("FalcoLoggerInternal").create("promoted_posts_enter",a);e=b;g["default"]=e}),98);
__d("PromotedPostsFetchDataErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4002");b=d("FalcoLoggerInternal").create("promoted_posts_fetch_data_error",a);e=b;g["default"]=e}),98);
__d("PromotedPostsFetchDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4003");b=d("FalcoLoggerInternal").create("promoted_posts_fetch_data",a);e=b;g["default"]=e}),98);
__d("PromotedPostsFinishStepErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4004");b=d("FalcoLoggerInternal").create("promoted_posts_finish_step_error",a);e=b;g["default"]=e}),98);
__d("PromotedPostsFinishStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4005");b=d("FalcoLoggerInternal").create("promoted_posts_finish_step",a);e=b;g["default"]=e}),98);
__d("PromotedPostsStartStepErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4006");b=d("FalcoLoggerInternal").create("promoted_posts_start_step_error",a);e=b;g["default"]=e}),98);
__d("PromotedPostsStartStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4007");b=d("FalcoLoggerInternal").create("promoted_posts_start_step",a);e=b;g["default"]=e}),98);
__d("PromotedPostsSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4008");b=d("FalcoLoggerInternal").create("promoted_posts_submit_error",a);e=b;g["default"]=e}),98);
__d("PromotedPostsSubmitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4009");b=d("FalcoLoggerInternal").create("promoted_posts_submit",a);e=b;g["default"]=e}),98);
__d("PromotedPostsTapComponentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4010");b=d("FalcoLoggerInternal").create("promoted_posts_tap_component",a);e=b;g["default"]=e}),98);
__d("PromotedPostsTapEntryPointFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4011");b=d("FalcoLoggerInternal").create("promoted_posts_tap_entry_point",a);e=b;g["default"]=e}),98);
__d("PromotedPostsViewComponentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4012");b=d("FalcoLoggerInternal").create("promoted_posts_view_component",a);e=b;g["default"]=e}),98);
__d("PolarisPromotedPostsLogger",["$InternalEnum","IgBoostPlatformApiCallFalcoEvent","InstagramODS","IpiCacheEventFalcoEvent","PolarisBoostMediaPickerUtils","PolarisUA","PromotedPostsActionErrorFalcoEvent","PromotedPostsActionFalcoEvent","PromotedPostsCancelFalcoEvent","PromotedPostsEnterErrorFalcoEvent","PromotedPostsEnterFalcoEvent","PromotedPostsFetchDataErrorFalcoEvent","PromotedPostsFetchDataFalcoEvent","PromotedPostsFinishStepErrorFalcoEvent","PromotedPostsFinishStepFalcoEvent","PromotedPostsStartStepErrorFalcoEvent","PromotedPostsStartStepFalcoEvent","PromotedPostsSubmitErrorFalcoEvent","PromotedPostsSubmitFalcoEvent","PromotedPostsTapComponentFalcoEvent","PromotedPostsTapEntryPointFalcoEvent","PromotedPostsViewComponentFalcoEvent","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){if(c("gkx")("25340"))for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d]};e=b("$InternalEnum").Mirrored(["ERROR","FAILURE","SUCCESS"]);var i=d("PolarisUA").isMobile()?203:202;function a(a){switch(a){case"postPage":case"profilePage":case"profilePageModal":case"selfProfilePageModal":return"profile";case"feed":case"feedPage":case"feedPageModal":case"pastPostsFeedPage":case"favoritesFeedPage":case"followingFeedPage":return"feed_timeline";case"StoriesPage":return"reel_profile";case"afterparty_toast_post":return"afterparty_toast_post";case"mediaInsights":return"post_promotion_cta";case"DirectThreadPageModal":case"directThreadPageModal":return"direct_thread";case"locationPageModal":return"explore_location";case"tagPageModal":return"explore_tag";case"ClipsAudioPageModal":case"clipsAudioPageModal":return"explore_audio";case"AdTools":return"ads_manager";case"ads_manager_ab_testing":return"ads_manager_ab_testing";case"ads_manager_edit_promote":return"ads_manager_edit_promote";case"ads_manager_suggested_post":return"ads_manager_suggested_post";case"ads_manager_media_picker":return"ads_manager_media_picker";case"ads_manager_empty_state":return"ads_manager_empty_state";case"ads_manager_ad_creation":return"ads_manager_ad_creation";case"boost_on_web_iap_warning_campaign":return"boost_on_web_iap_warning_campaign";case"boost_on_web_iap_warning_holdout_campaign":return"boost_on_web_iap_warning_holdout_campaign";case"boost_on_web_iap_launch_campaign_email":return"boost_on_web_iap_launch_campaign_email";case"boost_on_web_iap_launch_campaign_megaphone":return"boost_on_web_iap_launch_campaign_megaphone";case"boost_on_web_iap_launch_holdout_campaign":return"boost_on_web_iap_launch_holdout_campaign";case"boost_on_web_iap_winback_campaign":return"boost_on_web_iap_winback_campaign";case"boost_on_web_iap_coupon_campaign":return"boost_on_web_iap_coupon_campaign";case"instagram_business":return"instagram_business";case"boost_success_dialog":return"boost_success_dialog";case"boost_exit_button":return"boost_exit_button";default:c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.boost.null_entry_point.context."+a);return a}}f=function(){function a(a){var b=c("qex")._("433")===!0;this.$2={bow_desktop_flow_type:b?"single_page_creation":"multi_page_creation",promote_flow_type:a.promote_flow_type?a.promote_flow_type:d("PolarisBoostMediaPickerUtils").isPolarisBoostMediaPickerEntryPoint(a.entry_point)?"media_picker":"original_promote"};this.$1={entry_point:a.entry_point,m_pk:a.m_pk,waterfall_id:a.waterfall_id}}var b=a.prototype;b.getEntryPoint=function(){return this.$1.entry_point};b.getFlowID=function(){return this.$1.waterfall_id};b.setPromoteFlowType=function(a){this.$2.promote_flow_type=a};b.getPromoteFlowType=function(){return this.$2.promote_flow_type};b.logActionError=function(a,b,d,e,f){var g=babelHelpers["extends"]({},this.$1,{action:a,configurations:babelHelpers["extends"]({},this.$2,f),error_identifier:b,error_message:d,step:e});h("logActionError",g);c("PromotedPostsActionErrorFalcoEvent").log(function(){return g})};b.logActionSuccess=function(a,b,d){var e=babelHelpers["extends"]({},this.$1,{action:a,configurations:babelHelpers["extends"]({},this.$2,d),step:b});h("logActionSuccess",e);c("PromotedPostsActionFalcoEvent").log(function(){return e})};b.logBoostPlatformApiCall=function(a,b,d){var e={api_path:a,flow_id:this.$1.waterfall_id,latency_ms:b.toString(10),result_type:d};h("logBoostPlatformApiCall",e);c("IgBoostPlatformApiCallFalcoEvent").log(function(){return e})};b.logCancel=function(a){var b=babelHelpers["extends"]({},this.$1,{configurations:this.$2,step:a});h("logCancel",b);c("PromotedPostsCancelFalcoEvent").log(function(){return b})};b.logEnterError=function(a,b,d){var e=babelHelpers["extends"]({},this.$1,{configurations:this.$2,error_identifier:a,error_message:b,step:d});h("logEnterError",e);c("PromotedPostsEnterErrorFalcoEvent").log(function(){return e})};b.logEnterSuccess=function(a,b){var d=babelHelpers["extends"]({},this.$1,{configurations:babelHelpers["extends"]({},this.$2,b),creation_platform_id:i,step:a});h("logEnterSuccess",d);c("PromotedPostsEnterFalcoEvent").log(function(){return d})};b.logFetchDataError=function(a,b,d,e,f){var g=babelHelpers["extends"]({},this.$1,{action:a,configurations:babelHelpers["extends"]({},this.$2,f),error_identifier:b,error_message:d,step:e});h("logFetchDataError",g);c("PromotedPostsFetchDataErrorFalcoEvent").log(function(){return g})};b.logFetchDataSuccess=function(a,b,d){var e=babelHelpers["extends"]({},this.$1,{action:a,configurations:babelHelpers["extends"]({},this.$2,d),step:b});h("logFetchDataSuccess",e);c("PromotedPostsFetchDataFalcoEvent").log(function(){return e})};b.logFinishStepError=function(a,b,d){var e=babelHelpers["extends"]({},this.$1,{configurations:babelHelpers["extends"]({},this.$2,d),error_message:a,step:b});h("logFinishStepError",e);c("PromotedPostsFinishStepErrorFalcoEvent").log(function(){return e})};b.logFinishStepSuccess=function(a,b,d){var e=babelHelpers["extends"]({},this.$1,{configurations:babelHelpers["extends"]({},this.$2,b),selected_values:d,step:a});h("logFinishStepSuccess",e);c("PromotedPostsFinishStepFalcoEvent").log(function(){return e})};b.logFinishStepSuccessWithAgeGender=function(a,b,c,d){var e={};b!==void 0&&c!==void 0&&(e=babelHelpers["extends"]({},e,{age:{max_age:b,min_age:c}}));a==="FEMALE"||a==="MALE"?e=babelHelpers["extends"]({},e,{gender:{0:a}}):a==="ALL"&&(e=babelHelpers["extends"]({},e,{gender:{0:"FEMALE",1:"MALE"}}));this.logFinishStepSuccess(d,void 0,e)};b.logFinishStepSuccessWithDestination=function(a,b,c,d,e){e={aymt_channel:e,destination:a,destination_recommendation_reason:b,recommended_destination:c};this.logFinishStepSuccess(d,void 0,e)};b.logFinishStepSuccessWithInterests=function(a,b){b=b.reduce(function(a,b,c){return babelHelpers["extends"]({},a,(a={},a[c]=b.id,a))},{});b={interests:b};this.logFinishStepSuccess(a,void 0,b)};b.logFinishStepSuccessWithLocations=function(a,b){b={city_keys:this.$3(b,"CITY"),countries:this.$3(b,"COUNTRY"),region_keys:this.$3(b,"REGION"),zip_keys:this.$3(b,"ZIP")};b={locations:b};this.logFinishStepSuccess(a,void 0,b)};b.logFinishStepSuccessWithMediaPicker=function(a,b,c,d,e,f,g){b={dark_post_media_contains_caption:b,dark_post_media_contains_edit:c,dark_post_media_contains_hashtag:d,dark_post_media_contains_location:e,media_grid_type:f,media_index:String(g)};this.logFinishStepSuccess(a,b,void 0)};b.logFinishStepSuccessWithMessagingApp=function(a,b){b={messaging_app:b};this.logFinishStepSuccess(a,void 0,b)};b.logFinishStepSuccessWithRequiredWizardName=function(a,b){b={required_wizard_name:b};this.logFinishStepSuccess(a,b,void 0)};b.logFinishStepErrorWithRequiredWizardName=function(a,b){b={required_wizard_name:b};this.logFinishStepError("User didn't complete billing required wizard",a,b)};b.logStartStepError=function(a,b,d){var e=babelHelpers["extends"]({},this.$1,{configurations:babelHelpers["extends"]({},this.$2,d),error_message:a,step:b});h("logStartStepError",e);c("PromotedPostsStartStepErrorFalcoEvent").log(function(){return e})};b.logStartStepSuccess=function(a,b){var d=babelHelpers["extends"]({},this.$1,{configurations:babelHelpers["extends"]({},this.$2,b),step:a});h("logStartStepSuccess",d);c("PromotedPostsStartStepFalcoEvent").log(function(){return d})};b.logStartStepSuccessWithPrefillAudience=function(a,b){a={prefill_audience:String(a)};this.logStartStepSuccess(b,a)};b.logStartStepSuccessWithPrefillBudgetDuration=function(a,b,c){a={default_daily_budget_with_offset:String(a),default_duration_in_days:String(b)};this.logStartStepSuccess(c,a)};b.logStartStepSuccessWithPrefillDestination=function(a,b,c,d,e,f,g){a={aymt_channel:a,destination_recommendation_reason:c,prefill_destination:b,prefill_website:f,prefill_website_cta:g,recommended_destination:d};this.logStartStepSuccess(e,a)};b.logStartStepSuccessWithRequiredWizardName=function(a,b){if(b){b={required_wizard_name:b};this.logStartStepSuccess(a,b)}else this.logStartStepSuccess(a)};b.logTapComponent=function(a,b,d){var e=babelHelpers["extends"]({},this.$1,{component:a,configurations:babelHelpers["extends"]({},this.$2,d),step:b});h("logTapComponent",e);c("PromotedPostsTapComponentFalcoEvent").log(function(){return e})};b.logTapComponentWithBudgetPackageOption=function(a,b,c,d,e,f){b===void 0&&(b=0);c===void 0&&(c=0);a={budget_package_option:a,budget_package_option_selected_index:String(b),budget_package_option_selected_value:String(c),run_continuously:e};this.logTapComponent(d,f,a)};b.logTapComponentWebsite=function(a,b,c,d){c={website:c,website_cta:d};this.logTapComponent(a,b,c)};b.logTapComponentRegulatedCategory=function(a,b,c){b={regulated_category_type:b};this.logTapComponent(a,c,b)};b.logTapComponentMessagingAppRadioButton=function(a,b,c){b={messaging_app:b};this.logTapComponent(a,c,b)};b.logSubmitError=function(a,b,d,e){var f=babelHelpers["extends"]({},this.$1,{configurations:babelHelpers["extends"]({},this.$2,e),error_identifier:a,error_message:b,step:d});h("logSubmitError",f);c("PromotedPostsSubmitErrorFalcoEvent").log(function(){return f})};b.logSubmitSuccess=function(a,b,d,e){a={destination:a,reach_estimate:{lower_bound:String(b.minReach),upper_bound:String(b.maxReach)}};var f=babelHelpers["extends"]({},this.$1,{configurations:babelHelpers["extends"]({},this.$2,e),creation_platform_id:i,selected_values:a,step:d});h("logSubmitSuccess",f);c("PromotedPostsSubmitFalcoEvent").log(function(){return f})};b.logTapEntryPoint=function(){var a=babelHelpers["extends"]({configurations:babelHelpers["extends"]({},this.$2)},this.$1);h("logTapEntryPoint",a);c("PromotedPostsTapEntryPointFalcoEvent").log(function(){return a})};b.logViewComponent=function(a,b,d){var e=babelHelpers["extends"]({},this.$1,{component:a,configurations:babelHelpers["extends"]({},this.$2,d),step:b});h("logViewComponent",e);c("PromotedPostsViewComponentFalcoEvent").log(function(){return e})};b.logViewCouponFailureComponent=function(a,b,c){c={coupon_enroll_failure_reason:c};this.logViewComponent(a,b,c)};b.logIpiCacheEvent=function(a,b){var d={entry_point:this.$1.entry_point,error_identifier:b,event:a,flow:"professional_identity_cache_client",flow_id:this.$1.waterfall_id};h("logIpiCacheEvent",d);c("IpiCacheEventFalcoEvent").log(function(){return d})};b.logViewDestinationComponent=function(a,b,c,d){c={destination_recommendation_reason:c,recommended_destination:d};this.logViewComponent(a,b,c)};b.logViewExistingPaymentComponent=function(a,b,c){c={payment_method_type:c.toString()};this.logViewComponent(a,b,c)};b.logViewTaxComponent=function(a,b,c,d,e){c={tax_budget:c,tax_estimate:d,tax_total_spend:e};this.logViewComponent(a,b,c)};b.$3=function(a,b){return a.filter(function(a){return a.location_type===b}).reduce(function(a,b,c){return babelHelpers["extends"]({},a,(a={},a[c]=b.key,a))},{})};return a}();g.BoostAPIResultType=e;g.getPolarisBoostEntryPointType=a;g.PolarisPromotedPostsLogger=f}),98);
__d("XPolarisBoostMediaPickerControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/b/media_picker/",Object.freeze({context:"ads_manager_media_picker",num_media:1}),void 0);b=a;g["default"]=b}),98);
__d("PolarisBoostMediaPickerUtils",["$InternalEnum","PolarisNavigationUtils","PolarisPromotedPostsLogger","XPolarisBoostMediaPickerControllerRouteBuilder","browserHistory_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({POST:"post",REEL:"reel",STORY:"story"}),i="ig_promote_post_grid",j="ig_promote_story_grid",k="ig_promote_reel_grid";function a(a){return a==="ads_manager_media_picker"}function e(a,b,e,f){e===void 0&&(e=1);f===void 0&&(f=!1);var g=new(d("PolarisPromotedPostsLogger").PolarisPromotedPostsLogger)({entry_point:d("PolarisPromotedPostsLogger").getPolarisBoostEntryPointType(a),m_pk:null,promote_flow_type:"media_picker",waterfall_id:b});g.logTapEntryPoint();g=c("XPolarisBoostMediaPickerControllerRouteBuilder").buildURL({context:a,flow_id:b,num_media:e,return_path:d("browserHistory_DO_NOT_USE").getURL(d("browserHistory_DO_NOT_USE").browserHistory)});f?d("PolarisNavigationUtils").openURLWithFullPageReload(g):d("PolarisNavigationUtils").openURL(g)}function f(a){switch(a){case h.POST:return i;case h.REEL:return k;case h.STORY:return j}}function l(a,b){return a.find(function(a){return a.id===b.id})!=null}function m(a,b){return a.filter(function(a){return a.id!==b.id})}function n(a,b){return a.findIndex(function(a){return a.id===b.id})}g.BoostMediaType=h;g.IG_PROMOTE_POST_GRID_TYPE=i;g.IG_PROMOTE_STORY_GRID_TYPE=j;g.IG_PROMOTE_REEL_GRID_TYPE=k;g.isPolarisBoostMediaPickerEntryPoint=a;g.handleMediaPickerButtonClickWithLogging=e;g.getMediaGridType=f;g.findMedia=l;g.filterMedia=m;g.indexOfMedia=n}),98);
__d("PolarisBoostOkDialog.react",["fbt","IGCoreDialog.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(7),c=a.body,e=a.onPress;a=a.title;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._("__JHASH__A3AENjyzsZ1__JHASH__"),b[0]=f):f=b[0];b[1]!==e?(f=k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{children:f,color:"ig-error-or-destructive",onClick:e}),b[1]=e,b[2]=f):f=b[2];b[3]!==c||b[4]!==a||b[5]!==f?(e=k.jsx(d("IGCoreDialog.react").IGCoreDialog,{body:c,title:a,children:f}),b[3]=c,b[4]=a,b[5]=f,b[6]=e):e=b[6];return e}g["default"]=a}),226);
__d("PolarisBoostQPLUtils",["QPLJoinUtils","QuickPerformanceLogger","qex","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=c("qpl")._(467537745,"2144");(h||(h=c("QuickPerformanceLogger"))).markerStart(b);d("QPLJoinUtils").setJoinId(h,b,a)}function b(a){var b=c("qpl")._(467537745,"2144"),e=c("qex")._("433")===!0;(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(b,{bool:{is_single_page_creation:e}});h.markerEnd(b,2);d("QPLJoinUtils").setJoinId(h,b,a)}g.markBoostEnterFlowStart=a;g.markBoostEnterFlowEnd=b}),98);
__d("PolarisClickEventLoggerProvider.react",["InstagramMediaMetricsFalcoEvent","InstagramWebAdEventsAuditFalcoEvent","PolarisClickEventLoggerContext.react","PolarisContainerModuleUtils","justknobx","polarisOnlyHandleSingleClick","qex","react","usePolarisAnalyticsContext","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c,k=d("polarisOnlyHandleSingleClick").onlyHandleSingleClick(function(a,b,c,d,e,f){l(a,b,c,d,e,f)});function l(a,b,d,e,f,g){var h={dest_uri:a,event_trace_id:(a=e)!=null?a:c("uuidv4")(),gesture_type:f,pigeon_reserved_keyword_module:g,tracking:d,tracking_nodes:b};if(c("justknobx")._("1564")){e=b.some(function(a){return a.type===10||a.type===69});if(e&&d.length>0&&d[0]!=null){if(g==="reel_feed_timeline"&&c("qex")._("1514")===!0)return;var i=JSON.parse(d[0]);c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:i.tracking_token,event:"media_metrics_profile"}})}}c("InstagramMediaMetricsFalcoEvent").logImmediately(function(){return h})}function a(a){var b=j(6),e=a.children;a=a.ignoreDoubleClick;var f=a===void 0?!1:a;a=c("usePolarisAnalyticsContext")();var g=d("PolarisContainerModuleUtils").getContainerModule(a);b[0]!==f||b[1]!==g?(a=function(a,b,c,d,e){f?k(a,b,c,d,e,g):l(a,b,c,d,e,g)},b[0]=f,b[1]=g,b[2]=a):a=b[2];a=a;var h;b[3]!==a||b[4]!==e?(h=i.jsx(c("PolarisClickEventLoggerContext.react").Provider,{value:a,children:e}),b[3]=a,b[4]=e,b[5]=h):h=b[5];return h}g["default"]=a}),98);
__d("PolarisStoriesStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";f=h._("__JHASH___j-DprdudOH__JHASH__");var i=h._("__JHASH___ztvnt9tTxg__JHASH__"),j=h._("__JHASH__8DAexP_HOx0__JHASH__");function a(a){return h._("__JHASH__8rWCPZozAZA__JHASH__",[h._param("story viewer username",a)])}function b(a){return h._("__JHASH__dKUhJZCDnYl__JHASH__",[h._param("story owner username",a)])}var k=h._("__JHASH__BpPRLSL4Bpb__JHASH__"),l=h._("__JHASH__dCJnEZ5Vr6J__JHASH__"),m=h._("__JHASH__lNOnxnFpKxw__JHASH__");function c(a){return h._("__JHASH__XmQtBTlfipU__JHASH__",[h._param("story owner username",a)])}function d(a){return h._("__JHASH__LhZDUxXvBgd__JHASH__",[h._param("story owner username",a)])}var n=h._("__JHASH__7ts6Xi8PVlb__JHASH__"),o=h._("__JHASH__XPEpRY13fLK__JHASH__");function e(a){return h._("__JHASH__3Jw1BgpFmKY__JHASH__",[h._param("story owner username",a)])}var p=h._("__JHASH__v5WZAKW-Me8__JHASH__"),q=h._("__JHASH__8ZZ20CthyT___JHASH__");g.YOUR_STORY_TEXT=f;g.STORIES_TEXT=i;g.TAP_TO_PLAY_TEXT=j;g.viewStoryTitleText=a;g.viewStorySubtitleText=b;g.VIEW_STORY=k;g.CLOSE_FRIENDS=l;g.CLOSE_FRIENDS_ONLY=m;g.CLOSE_FRIENDS_INFO_PHOTO=c;g.CLOSE_FRIENDS_INFO_VIDEO=d;g.EXCLUSIVE_STORY=n;g.EXCLUSIVE_STORY_ONLY=o;g.EXCLUSIVE_STORY_INFO=e;g.ALT_TEXT_CLOSE_ICON=p;g.STORY_EXPIRED_TEXT=q}),226);
__d("PolarisCloseFriendsLabel.react",["IGDSBox.react","IGDSStarPanoFilledIcon.react","IGDSText.react","PolarisIGCoreButton.react","PolarisStoriesStrings","PolarisWebStorage","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=b.useState,m=b.c,n="close_friends_expanded_count";function a(a){var b=m(25),e=a.onClick;a=a.textSize;a=a===void 0?"small":a;var f;if(b[0]===Symbol["for"]("react.memo_cache_sentinel")){var g;f=c("PolarisWebStorage").getLocalStorage();g=parseInt((g=(g=f)==null?void 0:g.getItem(n))!=null?g:0,10);b[0]=g;b[1]=f}else g=b[0],f=b[1];var h=g;g=l(!1);var o=g[0],p=g[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){return h<3},b[2]=g):g=b[2];g=l(g);var q=g[0],r=g[1],s=k(null);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){p(!0),r(!0),window.clearTimeout(s.current)},b[3]=g):g=b[3];g=g;var t;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(){p(!1)},b[4]=t):t=b[4];t=t;var u,v;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(u=function(){var a,b=h+1;(a=f)==null?void 0:a.setItem(n,String(b))},v=[h,f],b[5]=u,b[6]=v):(u=b[5],v=b[6]);j(u,v);b[7]!==o?(u=function(){s.current=window.setTimeout(function(){o||r(!1)},1500)},v=[o],b[7]=o,b[8]=u,b[9]=v):(u=b[8],v=b[9]);j(u,v);b[10]!==a?(u=a==="small"?i.jsx(c("IGDSText.react").Body2Emphasized,{color:"webAlwaysWhite",maxLines:1,children:d("PolarisStoriesStrings").CLOSE_FRIENDS}):i.jsx(c("IGDSText.react").BodyEmphasized,{color:"webAlwaysWhite",maxLines:1,children:d("PolarisStoriesStrings").CLOSE_FRIENDS}),b[10]=a,b[11]=u):u=b[11];v=u;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(a="x1wyv8x2 x1lcm9me x1yr5g0i xrt01vj x10y3i5r",b[12]=a):a=b[12];b[13]===Symbol["for"]("react.memo_cache_sentinel")?(u=i.jsx(c("IGDSStarPanoFilledIcon.react"),{alt:"Close Friends Icon",color:"web-always-white",size:12}),b[13]=u):u=b[13];var w;b[14]!==q||b[15]!==v?(w=q&&i.jsx("span",{className:"x12mruv9",children:v}),b[14]=q,b[15]=v,b[16]=w):w=b[16];b[17]!==w?(q=i.jsx("div",{className:a,children:i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",height:"100%",paddingX:2,paddingY:2,position:"relative",width:"100%",children:[u,w]})}),b[17]=w,b[18]=q):q=b[18];b[19]!==e||b[20]!==q?(v=i.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:e,children:q}),b[19]=e,b[20]=q,b[21]=v):v=b[21];b[22]!==g||b[23]!==v?(a=i.jsx("div",{onMouseEnter:g,onMouseLeave:t,children:v}),b[22]=g,b[23]=v,b[24]=a):a=b[24];return a}g["default"]=a}),98);
__d("PolarisDirectActionSendText",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d,e,f,h){return a!=null?a.sendTextMessage(c,d,e,f,h):(g||(g=b("Promise"))).reject(new Error("MQTT is not instantiated"))}f.sendText=a}),66);
__d("PolarisEligibleForCommissionUnit.react",["cx","fbt","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j;function a(a){var b=k(5);a=a.className;var d;b[0]!==a?(d=c("joinClasses")("_aare",a),b[0]=a,b[1]=d):d=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=i._("__JHASH__uyE_M_Juw1O__JHASH__"),b[2]=a):a=b[2];b[3]!==d?(a=l.jsx("span",{className:d,children:a}),b[3]=d,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("PolarisEngagementLogger",["InstagramOrganicCommentFalcoEvent","InstagramOrganicLikeFalcoEvent","InstagramOrganicUnlikeFalcoEvent","PolarisInteractionsLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(){}function b(a){var b=a.commentAuthorId,c=a.commentId,e=a.containerModule,f=a.isCovered,g=a.mediaAuthorId,h=a.mediaId;a=a.mediaType;d("PolarisInteractionsLogger").logInteractionAction({commentAuthorId:b,commentId:c,containerModule:e,eventName:"comment_impression",isCovered:f,mediaAuthorId:g,mediaId:h,mediaType:a})}function e(a){var b=a.commentAuthorId,d=a.commentId,e=a.mediaAuthorId,f=a.mediaId,g=a.mediaType,h=a.parentCommentAuthorId,i=a.parentCommentId;c("InstagramOrganicCommentFalcoEvent").log(function(){return{c_pk:d,ca_pk:b,canonical_attributed_notifications:"",feed_sticker_media_id:void 0,m_pk:f+"_"+e,m_t:g.toString(),parent_c_pk:i,parent_ca_pk:h}})}function f(a){d("PolarisInteractionsLogger").logInteractionAction(babelHelpers["extends"]({eventName:"instagram_organic_comment_like"},a))}function h(a){d("PolarisInteractionsLogger").logInteractionAction(babelHelpers["extends"]({eventName:"instagram_organic_comment_unlike"},a))}function i(a){c("InstagramOrganicLikeFalcoEvent").log(function(){return{canonical_attributed_notifications:"",inventory_source:a.source,m_pk:a.mediaAuthorId==null?a.mediaId:a.mediaId+"_"+a.mediaAuthorId,source_of_like:a.sourceOfLike,tracking_token:a.trackingToken}})}function j(a){c("InstagramOrganicUnlikeFalcoEvent").log(function(){return{inventory_source:a.source,m_pk:a.mediaAuthorId==null?a.mediaId:a.mediaId+"_"+a.mediaAuthorId,tracking_token:a.trackingToken}})}g.logOrganicBrandProfile=a;g.logCommentImpression=b;g.logOrganicComment=e;g.logOrganicCommentLike=f;g.logOrganicCommentUnlike=h;g.logOrganicLike=i;g.logOrganicUnlike=j}),98);
__d("PolarisFacepile.next.react",["CometPressable.react","IGDSBox.react","IGDSConstants","Locale","PolarisErrorBoundary.react","PolarisUserAvatar.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={avatar:{boxSizing:"x1afcbsf",$$css:!0},avatarContainer:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},opaqueBorder:{borderTopColor:"x1yhmmig",borderEndColor:"xeqyd3i",borderBottomColor:"xyb01ml",borderStartColor:"xdn568n",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",$$css:!0},overlapRight:{marginEnd:"x6zhf5e",marginLeft:null,marginRight:null,$$css:!0},transparentBorder:{backgroundColor:"x1k74hu9",borderTopColor:"x1v8p93f",borderEndColor:"xogb00i",borderBottomColor:"x16stqrj",borderStartColor:"x1ftr3km",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",$$css:!0}};function a(a){var b=i(12),d=a.avatarSize,e=a.border,f=a.onClick,g=a.userProfilePicUrls;a=d===void 0?"extraSmall":d;var h=e===void 0?"opaque":e;if(g.length===0)return null;var l=c("IGDSConstants").AVATAR_SIZES[a];if(b[0]!==g||b[1]!==l||b[2]!==f||b[3]!==h){b[5]!==l||b[6]!==g.length||b[7]!==f||b[8]!==h?(d=function(a,b){var d={height:l+"px",order:String(c("Locale").isRTL()?b+1:g.length-(b+1)),width:l+"px"};return j.jsx(c("CometPressable.react"),{onPress:f,style:d,xstyle:[k.avatarContainer,b>0&&k.overlapRight],children:j.jsx(c("PolarisErrorBoundary.react"),{errorRenderer:function(a){return null},children:j.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a,size:l,xstyle:[k.avatar,h==="opaque"&&k.opaqueBorder,h==="transparent"&&k.transparentBorder]})})},a)},b[5]=l,b[6]=g.length,b[7]=f,b[8]=h,b[9]=d):d=b[9];e=[].concat(g).reverse().map(d);b[0]=g;b[1]=l;b[2]=f;b[3]=h;b[4]=e}else e=b[4];b[10]!==e?(a=j.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"end",children:e}),b[10]=e,b[11]=a):a=b[11];return a}g["default"]=a}),98);
__d("PolarisFollowChainingListPlaceholder.react",["IGDSBox.react","IGDSGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={cardHeight:196,cardWidth:152},l=263,m={card:{backgroundColor:"xvbhtw8",borderTopColor:"x1yvgwvq",borderEndColor:"x1dqoszc",borderBottomColor:"x1ixjvfu",borderStartColor:"xhk4uv",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxSizing:"x9f619",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,$$css:!0},cardContainer:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",paddingTop:"x123j3cw",$$css:!0},cardGlimmer:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x1p19avt",width:"x1ozfbi4",$$css:!0},container:{paddingBottom:"xx6bls6",$$css:!0},seeAllGlimmer:{height:"x1qx5ct2",width:"x1247r65",$$css:!0},startingContainer:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",width:"xh8yej3",$$css:!0},titleGlimmer:{height:"x1qx5ct2",width:"xrostsh",$$css:!0}};function a(){var a=i(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:m.titleGlimmer}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsxs(c("IGDSBox.react"),{xstyle:m.startingContainer,children:[b,j.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:m.seeAllGlimmer})]}),a[1]=b):b=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsxs(c("IGDSBox.react"),{height:l,xstyle:m.container,children:[b,j.jsx(c("IGDSBox.react"),{xstyle:m.cardContainer,children:[2,3,4].map(function(a){return j.jsx(c("IGDSBox.react"),{alignItems:"center",height:k.cardHeight,position:"relative",width:k.cardWidth,xstyle:m.card,children:j.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:m.cardGlimmer})},a)})})]}),a[2]=b):b=a[2];return b}g.PolarisFollowChainingListPlaceholder=a}),98);
__d("PolarisHeroPageletLogger",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=b("$InternalEnum")({FEED:"feed",POST:"post"});function a(a,b){a=a;if(b!=null)if(b<2)return a+"_"+b;else return a+"_n";return a}f.PageletLogName=c;f.getHeroPageletLogName=a}),66);
__d("PolarisInsightsUtils",["PolarisBoostedStatusEnum","polarisGetPostFromGraphMediaInterface"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a!==c("PolarisBoostedStatusEnum").NOT_BOOSTED&&a!==c("PolarisBoostedStatusEnum").UNAVAILABLE?!0:!1}function i(a){return a!=null?{bloksAppId:h(a)?"com.instagram.insights.media_refresh.clips.ad_bottom_sheet.action":"com.instagram.insights.media_refresh.clips.bottom_sheet.action",hasViewInsights:!0}:{bloksAppId:"",hasViewInsights:!1}}function j(a){return a!=null?{bloksAppId:h(a)?"com.instagram.insights.media_refresh.videos.ad_bottom_sheet.action":"com.instagram.insights.media_refresh.videos.bottom_sheet.action",hasViewInsights:!0}:{bloksAppId:"com.instagram.insights.media.videos.bottom_sheet.action",hasViewInsights:!1}}function k(a){return a!=null?{bloksAppId:h(a)?"com.instagram.insights.media_refresh.posts.ad_bottom_sheet.action":"com.instagram.insights.media_refresh.posts.bottom_sheet.action",hasViewInsights:!0}:{bloksAppId:"com.instagram.insights.media.posts.bottom_sheet.action",hasViewInsights:!0}}function l(a){return a!=null?{bloksAppId:h(a)?"com.instagram.insights.media_refresh.stories.ad_bottom_sheet.action":"com.instagram.insights.media_refresh.stories.bottom_sheet.action",hasViewInsights:!0}:{bloksAppId:"com.instagram.insights.media.stories.bottom_sheet.action",hasViewInsights:!0}}function a(a,b,c,d,e){if(a==null||b==null||c==null)return{bloksAppId:"",hasViewInsights:!1};return a.id===b&&e||d?m(c.productType,c.boostedStatus):{bloksAppId:"",hasViewInsights:!1}}function m(a,b){if(d("polarisGetPostFromGraphMediaInterface").isClipsProductType(a))return i(b);if(a===d("polarisGetPostFromGraphMediaInterface").PRODUCT_TYPE_IGTV)return j(b);return a===d("polarisGetPostFromGraphMediaInterface").PRODUCT_TYPE_STORY?l(b):k(b)}g.showAdInsightsForMedia=h;g.getViewInsightsForClip=i;g.getViewInsightsForIGTV=j;g.getViewInsightsForPost=k;g.getViewInsightsForStory=l;g.getViewInsightsInfo=a;g.getViewInsightsInfoForMedia=m}),98);
__d("PolarisIsLoggedInDesktop",["PolarisConfig","PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";function a(){return!d("PolarisUA").isMobile()&&d("PolarisConfig").isLoggedIn()}g.isLoggedInDesktop=a}),98);
__d("PolarisLikeButton.react",["invariant","IGDSHeartFilledIcon.react","IGDSHeartPanoOutlineIcon.react","IGDSIconButton.react","PolarisInteractionsStrings","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={animation:{animationDuration:"x1ykxiw6",animationName:"x1ahuga",animationTimingFunction:"x4hg4is",transform:"x3oybdh",$$css:!0}};function m(a){var b=a.color;b=b===void 0?"ig-primary-icon":b;var e=a.handleClick,f=a.isHovered,g=a.isLiked,h=a.likeChangeCount,j=a.padding,m=a.setIsHovered,n=a.shadow;n=n===void 0?!1:n;a=a.size;return k.jsx(c("IGDSIconButton.react"),{hover:g?null:k.jsx(c("IGDSHeartPanoOutlineIcon.react"),{alt:d("PolarisInteractionsStrings").LIKE_TEXT,color:b==="ig-secondary-icon"?"ig-stroke":"ig-secondary-icon",shadow:n,size:a}),onClick:e,padding:j,children:k.jsx("span",{className:(i||(i=c("stylex")))(h>0&&l.animation),onMouseEnter:function(){m!=null&&m(!0)},onMouseLeave:function(){m!=null&&m(!1)},children:g?k.jsx(c("IGDSHeartFilledIcon.react"),{alt:d("PolarisInteractionsStrings").UNLIKE_TEXT,color:"ig-badge",shadow:n,size:a}):k.jsx(c("IGDSHeartPanoOutlineIcon.react"),{alt:d("PolarisInteractionsStrings").LIKE_TEXT,color:f===!0?"ig-secondary-icon":b,shadow:n,size:a})},h)})}m.displayName=m.name+" [from "+f.id+"]";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={likeChangeCount:-1,prevIsLiked:null},c.$2=function(a){a.preventDefault(),c.props.onChange(!c.props.isLiked)},b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromProps=function(a,b){return a.isLiked!==b.prevIsLiked?{likeChangeCount:b.likeChangeCount+1,prevIsLiked:a.isLiked}:null};var c=b.prototype;c.focus=function(){this.$1||h(0,51544),this.$1.focus()};c.render=function(){var a=this.props,b=a.className,c=a.color,d=a["data-testid"];d=a.isHovered;var e=a.isLiked,f=a.large,g=a.padding,h=a.setIsHovered;a=a.shadow;return k.jsx("span",{className:b,"data-testid":void 0,onMouseEnter:function(){h!=null&&h(!0)},onMouseLeave:function(){h!=null&&h(!1)},children:f?k.jsx(m,{color:c,handleClick:this.$2,isHovered:d,isLiked:e,likeChangeCount:this.state.likeChangeCount,padding:(b=g)!=null?b:8,shadow:a,size:24}):k.jsx("div",{className:"xjbqb8w x1ejq31n xd10rxx x1sy0etr x17r0tee x972fbf xcfux6l x1qhh985 xm0m39n x1ypdohk x15bjb6t x1a2a7pz xexx8yu x4uap5 x18d9i69 xkhd6sd",children:k.jsx(m,{color:c,handleClick:this.$2,isHovered:d,isLiked:e,likeChangeCount:this.state.likeChangeCount,padding:(f=g)!=null?f:0,shadow:a,size:12})})})};return b}(k.Component);a.defaultProps={large:!0};g["default"]=a}),98);
__d("PolarisLoadingSheet.react",["IGDSBox.react","IGDSSpinner.react","PolarisIGCoreSheetOrModal","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(){var a=i(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{children:j.jsx(c("IGDSBox.react"),{alignItems:"center",paddingY:8,position:"relative",children:j.jsx(c("IGDSSpinner.react"),{})})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("PolarisLocationLink.react",["PolarisFastLink.react","PolarisLinkBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.className;a=a.location;var e=(a==null?void 0:a.hasPublicPage)===!0&&!!a.id;return e?i.jsx(c("PolarisFastLink.react"),{className:b,href:d("PolarisLinkBuilder").buildLocationLink({id:(e=a.id)!=null?e:"",slug:a.slug}),children:(e=a.name)!=null?e:""}):i.jsx("span",{className:b,children:(e=a.name)!=null?e:""})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("isIntersectionObserverEntryVPVDVisible",["intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f,g){"use strict";var h=200,i={height:0};function a(a,b){b===void 0&&(b=h);var d=c("intersectionObserverEntryIsIntersecting")(a);if(d===!1)return!1;d=a.boundingClientRect;var e=a.intersectionRect,f=a.rootBounds;d=d||i;e=e||i;f=f||i;return e.height>=b||e.height>=f.height/2||e.height===d.height||a.intersectionRatio>.95}g["default"]=a}),98);
__d("isIntersectionObserverEntryVPVDVisiblePct",["intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f,g){"use strict";var h=.5,i={height:0};function a(a,b){b===void 0&&(b=h);var d=c("intersectionObserverEntryIsIntersecting")(a);if(d===!1)return!1;d=a.intersectionRect;var e=a.rootBounds,f=a.boundingClientRect;if(f==null||f.height===0)return!1;d=d||i;e=e||i;return d.height/f.height>=b||d.height>=e.height/2||a.intersectionRatio>.95}g["default"]=a}),98);
__d("vpvdConstants",[],(function(a,b,c,d,e,f){"use strict";a=250;b=200;f.DEFAULT_MIN_VISIBLE_TIME_MS=a;f.DEFAULT_MIN_VISIBLE_PX=b}),66);
__d("useVPVDImpression",["CometVPVDUserActivityMonitor","cr:921407","isIntersectionObserverEntryVPVDVisible","isIntersectionObserverEntryVPVDVisiblePct","react","useVisibilityObserver","vpvdConstants"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var e=a.isLite,f=a.minVisiblePct,g=a.minVisiblePx;g=g===void 0?d("vpvdConstants").DEFAULT_MIN_VISIBLE_PX:g;var h=a.minVisibleTimeMs,j=h===void 0?d("vpvdConstants").DEFAULT_MIN_VISIBLE_TIME_MS:h,k=a.onVPVDEnd;h=a.onVPVDStart;a=b("cr:921407")();var l=a[0];a=a[1];var m=i(function(a){if(a.visibleDuration<j)return;k(a)},[j,k]),n=e===!0?1:g;g=i(function(a){return f!=null?c("isIntersectionObserverEntryVPVDVisiblePct")(a,f):c("isIntersectionObserverEntryVPVDVisible")(a,n)},[n,f]);e=e===!0?null:{thresholdOverride:"EXPENSIVE"};g=babelHelpers["extends"]({activityMonitorOverride:c("CometVPVDUserActivityMonitor"),isEntryInViewport:g},e);e=c("useVisibilityObserver")({onHidden:m,onVisibilityDurationUpdated:a,onVisible:h,options:g});return[e,l]}g["default"]=a}),98);
__d("PolarisLoggedOutSidecarUpsell.react",["IGDSBox.react","PolarisIgLiteCarbonUpsellsUtils","PolarisLoggedOutAppUpsellInnerContent.react","PolarisLoggedOutCtaLogger","PolarisPreviewPhoto.react","emptyFunction","react","useVPVDImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function a(a){var b,e=j(13);a=a.upsellSidecarChild;var f=d("PolarisIgLiteCarbonUpsellsUtils").sideCardIsIgLiteCarbonUpsellsEligible(),g=f?"instagramlitecarbon":"app_upsell";e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"sidecar_item_upsell",ctaVersion:g,eventName:"impression"})},e[0]=f):f=e[0];f=f;f=c("useVPVDImpression")({onVPVDEnd:c("emptyFunction"),onVPVDStart:f});f=f[0];if(a.dimensions==null||a.owner==null||a.mediaPreview==null)throw new Error("Invalid SidecarChildItem for upsell");var h;e[1]!==a.dimensions||e[2]!==a.mediaPreview?(h=i.jsx(d("PolarisPreviewPhoto.react").PreviewPhoto,{dimensions:a.dimensions,previewData:a.mediaPreview}),e[1]=a.dimensions,e[2]=a.mediaPreview,e[3]=h):h=e[3];var k=a.dimensions.height<a.dimensions.width;b=(b=a.owner)==null?void 0:b.username;var l;e[4]!==k||e[5]!==b||e[6]!==a.owner.profilePictureUrl||e[7]!==a.owner.username?(l=i.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",alignSelf:"center",color:"alwaysWhite",direction:"column",flex:"shrink",justifyContent:"center",marginEnd:13,marginStart:13,maxWidth:"300px",overflow:"hidden",position:"absolute",shape:"extraRounded",children:i.jsx(c("PolarisLoggedOutAppUpsellInnerContent.react"),{ctaType:"sidecar_item_upsell",ctaTypeV2:"embedded_dialog",ctaVersion:g,intentSource:"post_sidecar_upsell",isSidecarPostLandscape:k,triggeringPageType:"post",triggeringUserDisplayName:b,triggeringUserPicUrl:a.owner.profilePictureUrl,triggeringUserUsername:a.owner.username})}),e[4]=k,e[5]=b,e[6]=a.owner.profilePictureUrl,e[7]=a.owner.username,e[8]=l):l=e[8];e[9]!==f||e[10]!==h||e[11]!==l?(k=i.jsxs(c("IGDSBox.react"),{containerRef:f,direction:"column",justifyContent:"center",position:"relative",children:[h,l]}),e[9]=f,e[10]=h,e[11]=l,e[12]=k):k=e[12];return k}g["default"]=a}),98);
__d("PolarisVideoVolumeControls.react",["fbt","IGDSBox.react","IGDSIconButton.react","IGDSVolumeNonePanoFilledIcon.react","IGDSVolumeOffFilledIcon.react","IGDSVolumePanoFilledIcon.react","PolarisIGCoreButton.react","PolarisIGCoreToast.react","PolarisVideoConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useState,l=b.c,m=1500,n="web-always-white",o=12,p=16,q={iconWrapperColor:{backgroundColor:"x1wunsqr",$$css:!0}},r=h._("__JHASH__sLFgHENJUFu__JHASH__");function s(a){var b=l(25),e=a.audioState,f=a.inPlayerControls,g=a.isStoryVideo;a=a.onClick;var i=g||f===!0?p:o,k;b[0]!==i?(k={color:n,size:i},b[0]=i,b[1]=k):k=b[1];i=k;var m;bb0:switch(e){case d("PolarisVideoConstants").AUDIO_STATES.on:b[2]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._("__JHASH__r6uAailfqgq__JHASH__"),b[2]=k):k=b[2];b[3]!==i?(e=j.jsx(c("IGDSVolumePanoFilledIcon.react"),babelHelpers["extends"]({alt:k},i,{"data-testid":void 0})),b[3]=i,b[4]=e):e=b[4];m=e;break bb0;case d("PolarisVideoConstants").AUDIO_STATES.off:b[5]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._("__JHASH__5mpM2KJQizt__JHASH__"),b[5]=k):k=b[5];b[6]!==i?(e=j.jsx(c("IGDSVolumeOffFilledIcon.react"),babelHelpers["extends"]({alt:k,"data-testid":void 0},i)),b[6]=i,b[7]=e):e=b[7];m=e;break bb0;case d("PolarisVideoConstants").AUDIO_STATES.none:b[8]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._("__JHASH__QVFOACG0yrg__JHASH__"),b[8]=k):k=b[8];b[9]!==i?(e=j.jsx(c("IGDSVolumeNonePanoFilledIcon.react"),babelHelpers["extends"]({alt:k,"data-testid":void 0},i)),b[9]=i,b[10]=e):e=b[10];m=e}if(m==null)return null;if(g===!0){b[11]!==a||b[12]!==m?(k=j.jsx(c("IGDSIconButton.react"),{"aria-label":r,onClick:a,children:m}),b[11]=a,b[12]=m,b[13]=k):k=b[13];return k}b[14]!==f?(i=f===!0?{color:"transparent",marginBottom:0,marginEnd:0,padding:0}:{marginBottom:4,marginEnd:4,padding:2,xstyle:q.iconWrapperColor},b[14]=f,b[15]=i):i=b[15];e=i;g=f===!0?"relative":"absolute";b[16]!==e||b[17]!==m?(k=j.jsx(c("IGDSBox.react"),babelHelpers["extends"]({},e,{shape:"circle",children:m})),b[16]=e,b[17]=m,b[18]=k):k=b[18];b[19]!==a||b[20]!==k?(i=j.jsx(c("PolarisIGCoreButton.react"),{"aria-label":r,borderless:!0,onClick:a,children:k}),b[19]=a,b[20]=k,b[21]=i):i=b[21];b[22]!==g||b[23]!==i?(f=j.jsx(c("IGDSBox.react"),{bottom:!0,position:g,right:!0,children:i}),b[22]=g,b[23]=i,b[24]=f):f=b[24];return f}function a(a){var b=l(16),e=a.absolutePositionToast,f=a.audioState,g=a.forceMuteReason,i=a.inPlayerControls,n=a.isStoryVideo,o=a.onClick;a=e===void 0?!0:e;e=k(!1);var p=e[0],q=e[1];e=!(g==null||g==="");n=(n=n)!=null?n:!1;var r;b[0]!==o||b[1]!==f?(r=function(a){o(a),f===d("PolarisVideoConstants").AUDIO_STATES.none&&q(!0)},b[0]=o,b[1]=f,b[2]=r):r=b[2];var t;b[3]!==f||b[4]!==i||b[5]!==n||b[6]!==r?(t=j.jsx(s,{audioState:f,inPlayerControls:i,isStoryVideo:n,onClick:r}),b[3]=f,b[4]=i,b[5]=n,b[6]=r,b[7]=t):t=b[7];b[8]!==p||b[9]!==e||b[10]!==g||b[11]!==a?(i=p&&j.jsx(c("PolarisIGCoreToast.react"),{absolutePosition:a,duration:m,onClose:function(){return q(!1)},wide:!0,children:e?String(g):h._("__JHASH__W75JnMJmjFS__JHASH__")}),b[8]=p,b[9]=e,b[10]=g,b[11]=a,b[12]=i):i=b[12];b[13]!==t||b[14]!==i?(n=j.jsxs(j.Fragment,{children:[t,i]}),b[13]=t,b[14]=i,b[15]=n):n=b[15];return n}g["default"]=a}),226);
__d("PolarisPostVideoPlaybackOverlay.react",["cx","PolarisPostVideoPlayerControls.react","VideoPlayerInteractionOverlay.react","react","usePolarisVideoPressInteraction","usePolarisVideoShowPlayButton"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(13),e=a.post,f=a.shouldShowOverlay;a=a.showVideoControls;var g=!a,h=c("usePolarisVideoShowPlayButton")()&&!f,i=c("usePolarisVideoPressInteraction")({playButtonShowing:h,shouldUnmuteOnPlay:!g}),l;b[0]!==h?(l=h&&k.jsx("div",{className:"xjq0wde xa2bojp x10l6tqk xtzzx4i xwa60dl",children:k.jsx("div",{className:"_9zwu"})}),b[0]=h,b[1]=l):l=b[1];b[2]!==i||b[3]!==l?(h=k.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{pressInteraction:i,children:l}),b[2]=i,b[3]=l,b[4]=h):h=b[4];b[5]!==f||b[6]!==e||b[7]!==g||b[8]!==a?(i=!f&&k.jsx(c("PolarisPostVideoPlayerControls.react"),{post:e,shouldUseVolumeControls:g,showVideoControls:a}),b[5]=f,b[6]=e,b[7]=g,b[8]=a,b[9]=i):i=b[9];b[10]!==h||b[11]!==i?(l=k.jsxs(k.Fragment,{children:[h,i]}),b[10]=h,b[11]=i,b[12]=l):l=b[12];return l}g["default"]=a}),98);
__d("PolarisUserTagIndicator.react",["cx","IGDSBox.react","IGDSUserPanoFilledIcon.react","PolarisGenericStrings","PolarisIGCoreButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(13),e=a.absolute,f=a.endAndornment,g=a.onClick;a=a.visible;e=e===void 0?!1:e;a=a===void 0?!0:a;var h;b[0]!==e||b[1]!==a?(h="_a9-5"+(e?" _a9-6":"")+(a?" _a9-7":""),b[0]=e,b[1]=a,b[2]=h):h=b[2];e=f!=null?3:2;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("IGDSUserPanoFilledIcon.react"),{alt:d("PolarisGenericStrings").TAG_TEXT,color:"web-always-white",size:12}),b[3]=a):a=b[3];b[4]!==e||b[5]!==f?(a=k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",paddingX:e,paddingY:2,position:"relative",children:[a,f]}),b[4]=e,b[5]=f,b[6]=a):a=b[6];b[7]!==g||b[8]!==a?(e=k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:g,children:a}),b[7]=g,b[8]=a,b[9]=e):e=b[9];b[10]!==h||b[11]!==e?(f=k.jsx("div",{className:h,children:e}),b[10]=h,b[11]=e,b[12]=f):f=b[12];return f}g["default"]=a}),98);
__d("PolarisUpcomingEventIndicator.react",["cx","IGDSBox.react","IGDSCalendarPanoFilledIcon.react","PolarisGenericStrings","PolarisIGCoreButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(4);a=a.onClick;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="_a9-2 _a9-3 _a9-4",b[0]=e):e=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",paddingX:2,paddingY:2,position:"relative",children:k.jsx(c("IGDSCalendarPanoFilledIcon.react"),{alt:d("PolarisGenericStrings").UPCOMING_EVENT_ICON_ALT,color:"web-always-white",size:12})}),b[1]=f):f=b[1];b[2]!==a?(e=k.jsx("div",{className:e,children:k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:a,children:f})}),b[2]=a,b[3]=e):e=b[3];return e}g["default"]=a}),98);
__d("PolarisPostActionSetUpcomingEventReminder",["InstagramUpcomingEventActionFalcoEvent","PolarisAPISetUpcomingEventReminder","PolarisContainerModuleUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e,f,g,h){c("InstagramUpcomingEventActionFalcoEvent").log(function(){return{action:"upcoming_event_reminder_on",pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(g),source_of_action:h,upcoming_event_id:a}});return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield d("PolarisAPISetUpcomingEventReminder").setUpcomingEventReminder(a,e,!0));c.status==="ok"&&(yield b({eventId:a,reminderEnabled:!0,type:"UPCOMING_EVENT_REMINDER_SET"}),f(!1))});return function(a){return c.apply(this,arguments)}}()}g.setUpcomingEventReminder=a}),98);
__d("PolarisPostActionUnsetUpcomingEventReminder",["InstagramUpcomingEventActionFalcoEvent","PolarisAPISetUpcomingEventReminder","PolarisContainerModuleUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e,f,g){c("InstagramUpcomingEventActionFalcoEvent").log(function(){return{action:"upcoming_event_reminder_off",pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(f),source_of_action:g,upcoming_event_id:a}});return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield d("PolarisAPISetUpcomingEventReminder").setUpcomingEventReminder(a,null,!1));c.status==="ok"&&(yield b({eventId:a,reminderEnabled:!1,type:"UPCOMING_EVENT_REMINDER_UNSET"}),e(!1))});return function(a){return c.apply(this,arguments)}}()}g.unsetUpcomingEventReminder=a}),98);
__d("PolarisUpcomingEventStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__6l0c6O_mEEs__JHASH__");b=h._("__JHASH__rV1x4VLA-xS__JHASH__");c=h._("__JHASH__wffskxZPcq7__JHASH__");d=h._("__JHASH__dmPXhvuUXZ2__JHASH__");e=h._("__JHASH__QEHopTzhoM2__JHASH__");f=h._("__JHASH__8VmaTNZNFR2__JHASH__");h=h._("__JHASH__tBYM5KMeEH4__JHASH__");g.IN_THIS_PHOTO_TITLE_TEXT=a;g.IN_THIS_VIDEO_TITLE_TEXT=b;g.UPCOMING_EVENT_TITLE_TEXT=c;g.ACCOUNTS_TITLE_TEXT=d;g.GET_REMINDER_TEXT=e;g.CANCEL_REMINDER_TEXT=f;g.UPCOMING_EVENT_NOTIFICATION_INFO_TEXT=h}),226);
__d("PolarisUpcomingEventContainerFooter.react",["IGDSBox.react","IGDSDivider.react","PolarisIGCoreButton.react","PolarisIGCoreText","PolarisPostActionSetUpcomingEventReminder","PolarisPostActionUnsetUpcomingEventReminder","PolarisReactRedux.react","PolarisUA","PolarisUpcomingEventStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useState,k=b.c;function a(a){var b=k(12),e=a.analyticsContext,f=a.eventId,g=a.mediaId,h=a.reminderEnabled;a=j(!1);var l=a[0],m=a[1],n=d("PolarisReactRedux.react").useDispatch();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("PolarisIGCoreText"),{color:"ig-secondary-text",size:"footnote",textAlign:d("PolarisUA").isDesktop()?"left":"center",weight:"light",children:d("PolarisUpcomingEventStrings").UPCOMING_EVENT_NOTIFICATION_INFO_TEXT}),b[0]=a):a=b[0];a=a;var o=h?"ig-secondary-button":"ig-primary-button",p=h?d("PolarisUpcomingEventStrings").CANCEL_REMINDER_TEXT:d("PolarisUpcomingEventStrings").GET_REMINDER_TEXT,q;b[1]!==h||b[2]!==n||b[3]!==f||b[4]!==e||b[5]!==g?(q=function(){m(!0),h?n(d("PolarisPostActionUnsetUpcomingEventReminder").unsetUpcomingEventReminder(f,m,e,"tag_indicator")):n(d("PolarisPostActionSetUpcomingEventReminder").setUpcomingEventReminder(f,g,m,e,"tag_indicator"))},b[1]=h,b[2]=n,b[3]=f,b[4]=e,b[5]=g,b[6]=q):q=b[6];q=q;b[7]!==p||b[8]!==o||b[9]!==l||b[10]!==q?(a=d("PolarisUA").isDesktop()?i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{marginBottom:6,marginTop:2,paddingX:3,position:"relative",children:a}),i.jsx(c("IGDSDivider.react"),{}),i.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,color:o,loading:l,onClick:q,children:i.jsx(c("IGDSBox.react"),{padding:4,position:"relative",children:p})})]}):i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{marginTop:1,paddingX:4,position:"relative",children:i.jsx(c("PolarisIGCoreButton.react"),{color:o,large:!0,loading:l,onClick:q,children:p})}),i.jsx(c("IGDSBox.react"),{marginBottom:4,marginTop:3,paddingX:5,position:"relative",children:a})]}),b[7]=p,b[8]=o,b[9]=l,b[10]=q,b[11]=a):a=b[11];return a}g["default"]=a}),98);
__d("PolarisUpcomingEventUtils",["fbt","PolarisLocales"],(function(a,b,c,d,e,f,g,h){"use strict";var i={day:"numeric",month:"short",weekday:"short"},j={hour:"numeric",minute:"2-digit"};function a(a){if(a==null)return"Unknown time";a=new Date(a*1e3);var b=c("PolarisLocales").locale.replace("_","-"),d=a.toLocaleDateString(b,i);a=a.toLocaleTimeString(b,j);return h._("__JHASH__U_fK7-Pg0rr__JHASH__",[h._param("dateString",d),h._param("timeString",a)])}function b(a){return a>Math.floor(Date.now()/1e3)}g.getUpcomingEventDateString=a;g.getUpcomingEventIsActive=b}),226);
__d("PolarisUpcomingEventContainer.react",["fbt","IGDSBox.react","IGDSText.react","InstagramUpcomingEventActionFalcoEvent","PolarisContainerModuleUtils","PolarisThumbnail.react","PolarisUpcomingEventContainerFooter.react","PolarisUpcomingEventUtils","PolarisViewpointReact.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useState,n=h._("__JHASH__LNT7mjfpcW-__JHASH__");function a(a){var b=a.analyticsContext,e=a.mediaId,f=a.upcomingEvent;a=a.upcomingEventThumbnailSrc;f=(f=f)!=null?f:{};var g=f.eventId,h=f.reminderEnabled,i=f.startTime;f=f.title;var o=m(d("PolarisUpcomingEventUtils").getUpcomingEventIsActive(i)),p=o[0],q=o[1];o=l(function(){return d("PolarisUpcomingEventUtils").getUpcomingEventDateString(i)},[i]);k(function(){var a=window.setInterval(function(){q(d("PolarisUpcomingEventUtils").getUpcomingEventIsActive(i))},15e3);return function(){return window.clearInterval(a)}},[]);var r=function(a){switch(a.state){case"exited":c("InstagramUpcomingEventActionFalcoEvent").log(function(){return{action:"upcoming_event_sheet_time_spent",event_sheet_time_spent:a.getTimeSpent()/1e3,pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(b),source_of_action:"tag_indicator",upcoming_event_id:g}});break}};r=d("PolarisViewpointReact.react").useViewpoint({action:r,id:e});return j.jsxs(c("IGDSBox.react"),{containerRef:r,position:"relative",children:[j.jsxs(c("IGDSBox.react"),{direction:"row",position:"relative",children:[j.jsx(c("IGDSBox.react"),{padding:4,position:"relative",children:j.jsx(c("PolarisThumbnail.react"),{alt:n,dimension:88,src:a})}),j.jsxs(c("IGDSBox.react"),{alignSelf:"center",flex:"grow",position:"relative",children:[j.jsx(c("IGDSText.react").Title,{children:f}),j.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",weight:"light",children:o})})]})]}),p&&j.jsx(c("PolarisUpcomingEventContainerFooter.react"),{analyticsContext:b,eventId:g,mediaId:e,reminderEnabled:h})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisUpcomingEventSheetOrModal.react",["fbt","PolarisIGCoreSheetOrModal","PolarisUA","PolarisUpcomingEventContainer.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=h._("__JHASH__Tnjj3OQWZIp__JHASH__");function a(a){var b=j(8),e=a.analyticsContext,f=a.mediaId,g=a.onClose,h=a.upcomingEvent;a=a.upcomingEventThumbnailSrc;var i;b[0]!==e||b[1]!==f||b[2]!==h||b[3]!==a?(i=k.jsx(c("PolarisUpcomingEventContainer.react"),{analyticsContext:e,mediaId:f,upcomingEvent:h,upcomingEventThumbnailSrc:a}),b[0]=e,b[1]=f,b[2]=h,b[3]=a,b[4]=i):i=b[4];b[5]!==g||b[6]!==i?(e=k.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:g,title:d("PolarisUA").isDesktop()?l:null,children:i}),b[5]=g,b[6]=i,b[7]=e):e=b[7];return e}g["default"]=a}),226);
__d("PolarisUpcomingEventWithUserTagsSheetOrModal.react",["PolarisIGCoreSheetOrModal","PolarisIGCoreTabV2.react","PolarisIGCoreTabsV2.react","PolarisUpcomingEventContainer.react","PolarisUpcomingEventStrings","PolarisUserTagSheet.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(15),e=a.analyticsContext,f=a.isVideo,g=a.mediaId,h=a.onClose,k=a.upcomingEvent,l=a.upcomingEventThumbnailSrc;a=a.usertags;f=f?d("PolarisUpcomingEventStrings").IN_THIS_VIDEO_TITLE_TEXT:d("PolarisUpcomingEventStrings").IN_THIS_PHOTO_TITLE_TEXT;var m;b[0]!==k||b[1]!==l||b[2]!==e||b[3]!==g?(m=k!=null&&l!=null&&j.jsx(c("PolarisIGCoreTabV2.react"),{node:j.jsx(c("PolarisUpcomingEventContainer.react"),{analyticsContext:e,mediaId:g,upcomingEvent:k,upcomingEventThumbnailSrc:l}),children:d("PolarisUpcomingEventStrings").UPCOMING_EVENT_TITLE_TEXT}),b[0]=k,b[1]=l,b[2]=e,b[3]=g,b[4]=m):m=b[4];b[5]!==a||b[6]!==g?(k=a!=null&&j.jsx(c("PolarisIGCoreTabV2.react"),{node:j.jsx(d("PolarisUserTagSheet.react").UserTagSheetItems,{mediaId:g,usertags:a}),children:d("PolarisUpcomingEventStrings").ACCOUNTS_TITLE_TEXT}),b[5]=a,b[6]=g,b[7]=k):k=b[7];b[8]!==m||b[9]!==k?(l=j.jsxs(c("PolarisIGCoreTabsV2.react"),{children:[m,k]}),b[8]=m,b[9]=k,b[10]=l):l=b[10];b[11]!==h||b[12]!==f||b[13]!==l?(e=j.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:h,title:f,children:l}),b[11]=h,b[12]=f,b[13]=l,b[14]=e):e=b[14];return e}g["default"]=a}),98);
__d("PolarisUpcomingEventIndicatorWithSheetOrModal.react",["InstagramUpcomingEventActionFalcoEvent","PolarisContainerModuleUtils","PolarisUpcomingEventIndicator.react","PolarisUpcomingEventSheetOrModal.react","PolarisUpcomingEventWithUserTagsSheetOrModal.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useState,k=b.c;function a(a){var b=k(17),e=a.analyticsContext,f=a.isVideo,g=a.mediaId,h=a.upcomingEvent,l=a.upcomingEventThumbnailSrc;a=a.usertags;var m=j(!1),n=m[0],o=m[1];m=a!=null&&a.length>0;var p;b[0]!==e||b[1]!==h.eventId?(p=function(){c("InstagramUpcomingEventActionFalcoEvent").log(function(){return{action:"upcoming_event_tag_indicator_click",pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(e),source_of_action:"tag_indicator",upcoming_event_id:h.eventId}}),o(!0)},b[0]=e,b[1]=h.eventId,b[2]=p):p=b[2];p=p;var q;b[3]!==p?(q=i.jsx(c("PolarisUpcomingEventIndicator.react"),{onClick:p}),b[3]=p,b[4]=q):q=b[4];b[5]!==n||b[6]!==m||b[7]!==e||b[8]!==f||b[9]!==g||b[10]!==h||b[11]!==l||b[12]!==a?(p=n&&(m?i.jsx(c("PolarisUpcomingEventWithUserTagsSheetOrModal.react"),{analyticsContext:e,isVideo:f,mediaId:g,onClose:function(){return o(!1)},upcomingEvent:h,upcomingEventThumbnailSrc:l,usertags:a}):i.jsx(c("PolarisUpcomingEventSheetOrModal.react"),{analyticsContext:e,mediaId:g,onClose:function(){return o(!1)},upcomingEvent:h,upcomingEventThumbnailSrc:l})),b[5]=n,b[6]=m,b[7]=e,b[8]=f,b[9]=g,b[10]=h,b[11]=l,b[12]=a,b[13]=p):p=b[13];b[14]!==q||b[15]!==p?(n=i.jsxs(i.Fragment,{children:[q,p]}),b[14]=q,b[15]=p,b[16]=n):n=b[16];return n}g["default"]=a}),98);
__d("VideoAudioDisabledFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4847");b=d("FalcoLoggerInternal").create("video_audio_disabled",a);e=b;g["default"]=e}),98);
__d("VideoAudioEnabledFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4848");b=d("FalcoLoggerInternal").create("video_audio_enabled",a);e=b;g["default"]=e}),98);
__d("VideoBufferingFinishedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4849");b=d("FalcoLoggerInternal").create("video_buffering_finished",a);e=b;g["default"]=e}),98);
__d("VideoBufferingStartedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4850");b=d("FalcoLoggerInternal").create("video_buffering_started",a);e=b;g["default"]=e}),98);
__d("VideoExitedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4672");b=d("FalcoLoggerInternal").create("video_exited",a);e=b;g["default"]=e}),98);
__d("VideoFullViewedTimeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4887");b=d("FalcoLoggerInternal").create("video_full_viewed_time",a);e=b;g["default"]=e}),98);
__d("VideoPausedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1206");b=d("FalcoLoggerInternal").create("video_paused",a);e=b;g["default"]=e}),98);
__d("VideoShouldStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1207");b=d("FalcoLoggerInternal").create("video_should_start",a);e=b;g["default"]=e}),98);
__d("VideoStartedPlayingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1208");b=d("FalcoLoggerInternal").create("video_started_playing",a);e=b;g["default"]=e}),98);
__d("VideoViewedTimeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4678");b=d("FalcoLoggerInternal").create("video_viewed_time",a);e=b;g["default"]=e}),98);
__d("PolarisVideoFalcoLogger",["InstagramVideoViewabilityChangedFalcoEvent","PolarisNavChain","PolarisVideoLogger","VideoAudioDisabledFalcoEvent","VideoAudioEnabledFalcoEvent","VideoBufferingFinishedFalcoEvent","VideoBufferingStartedFalcoEvent","VideoExitedFalcoEvent","VideoFullViewedTimeFalcoEvent","VideoPausedFalcoEvent","VideoShouldStartFalcoEvent","VideoStartedPlayingFalcoEvent","VideoViewedTimeFalcoEvent","polarisUnexpected"],(function(a,b,c,d,e,f,g){"use strict";e=[(b=d("PolarisVideoLogger")).VIDEO_EVENTS.shouldStart,b.VIDEO_EVENTS.paused,b.VIDEO_EVENTS.exited,b.VIDEO_EVENTS.audioEnabled,b.VIDEO_EVENTS.audioDisabled,b.VIDEO_EVENTS.bufferingStarted,b.VIDEO_EVENTS.bufferingFinished,b.VIDEO_EVENTS.startedPlaying,b.VIDEO_EVENTS.fullViewedTime,b.VIDEO_EVENTS.viewedTime,b.VIDEO_EVENTS.viewabilityChanged];function a(b,e,a){switch(b){case d("PolarisVideoLogger").VIDEO_EVENTS.shouldStart:h(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.paused:i(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.exited:j(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.audioEnabled:k(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.audioDisabled:l(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.bufferingStarted:m(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.bufferingFinished:n(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.startedPlaying:o(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.fullViewedTime:p(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.viewedTime:q(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.viewabilityChanged:r(e,a);break;default:c("polarisUnexpected")("Video: logging an unsupported video falco event using WWW Falco")}}function h(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.m_pk,i=b.pk,j=b.playback_format,k=b.reason,l=b.seq_num,m=b.time,n=b.time_spent_id;b=b.tracking_token;var o=babelHelpers["extends"]({reason:k,seq_num:l.toString(),time:m==null?null:Number(m)},s(g,h),{pk:i,a_i:d,a_pk:e,nav_chain:(k=c("PolarisNavChain").getInstance())==null?void 0:k.getNavChainForSend(),tracking_token:b,playback_format:j,time_spent_id:n,pigeon_reserved_keyword_module:a});c("VideoShouldStartFalcoEvent").log(function(){return o})}function i(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.lsp,l=b.m_pk,m=b.pk,n=b.playback_format,o=b.playing_audio,p=b.seq_num,q=b.time,r=b.time_spent_id,t=b.tracking_token;b=b.video_width;var u=babelHelpers["extends"]({seq_num:p.toString(),time:Number(q)},s(g,l),{pk:m,a_i:d,a_pk:e,nav_chain:(p=c("PolarisNavChain").getInstance())==null?void 0:p.getNavChainForSend(),tracking_token:t,playback_format:n,time_spent_id:r,pigeon_reserved_keyword_module:a,is_dash_eligible:Boolean(i),video_width:String(b),playing_audio:Boolean(o),loop_count:Number(j),lsp:Number(k),duration:Number(h)});c("VideoPausedFalcoEvent").log(function(){return u})}function j(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.lsp,l=b.m_pk,m=b.pk,n=b.playback_format,o=b.playing_audio,p=b.seq_num,q=b.time,r=b.time_spent_id,t=b.tracking_token;b=b.video_width;var u=babelHelpers["extends"]({seq_num:p.toString(),time:Number(q)},s(g,l),{pk:m,a_i:d,a_pk:e,nav_chain:(p=c("PolarisNavChain").getInstance())==null?void 0:p.getNavChainForSend(),tracking_token:t,playback_format:n,time_spent_id:r,pigeon_reserved_keyword_module:a,is_dash_eligible:String(i),video_width:String(b),playing_audio:String(o),loop_count:String(j),lsp:Number(k),duration:Number(h)});c("VideoExitedFalcoEvent").log(function(){return u})}function k(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.m_pk,l=b.pk,m=b.playback_format,n=b.seq_num,o=b.time,p=b.time_spent_id,q=b.tracking_token;b=b.video_width;var r=babelHelpers["extends"]({seq_num:n.toString(),time:Number(o)},s(g,k),{pk:l,a_i:d,a_pk:e,nav_chain:(n=c("PolarisNavChain").getInstance())==null?void 0:n.getNavChainForSend(),tracking_token:q,playback_format:m,time_spent_id:p,pigeon_reserved_keyword_module:a,is_dash_eligible:Boolean(i),video_width:String(b),loop_count:(o=j)!=null?o:0,duration:Number(h)});c("VideoAudioEnabledFalcoEvent").log(function(){return r})}function l(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.m_pk,l=b.pk,m=b.playback_format,n=b.seq_num,o=b.time,p=b.time_spent_id,q=b.tracking_token;b=b.video_width;var r=babelHelpers["extends"]({seq_num:n.toString(),time:Number(o)},s(g,k),{pk:l,a_i:d,a_pk:e,nav_chain:(n=c("PolarisNavChain").getInstance())==null?void 0:n.getNavChainForSend(),tracking_token:q,playback_format:m,time_spent_id:p,pigeon_reserved_keyword_module:a,is_dash_eligible:String(i),video_width:String(b),loop_count:(o=j)!=null?o:0,duration:Number(h)});c("VideoAudioDisabledFalcoEvent").log(function(){return r})}function m(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.follow_status,i=b.is_dash_eligible,j=b.loop_count,k=b.m_pk,l=b.m_ts,m=b.pk,n=b.playback_format,o=b.playing_audio,p=b.radio_type,q=b.seq_num,r=b.time_spent_id,t=b.timeAsPercent,u=b.tracking_token;b=b.video_width;if(o==null)return;var v=babelHelpers["extends"]({seq_num:q.toString()},s(g,k),{pk:m,a_i:d,a_pk:e,nav_chain:(q=c("PolarisNavChain").getInstance())==null?void 0:q.getNavChainForSend(),tracking_token:u,playback_format:n,time_spent_id:r,pigeon_reserved_keyword_module:a,is_dash_eligible:String(i),video_width:b==null?void 0:b.toString(),loop_count:(g=j)!=null?g:0,follow_status:(k=h)!=null?k:"not_following",m_ts:l==null?void 0:l.toString(),playing_audio:o.toString(),radio_type:p,timeAsPercent:(m=t)!=null?m:0});c("VideoBufferingStartedFalcoEvent").log(function(){return v})}function n(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.follow_status,i=b.is_dash_eligible,j=b.loop_count,k=b.lsp,l=b.m_pk,m=b.m_ts,n=b.pk,o=b.playback_format,p=b.playing_audio,q=b.radio_type,r=b.seq_num,t=b.time_spent_id,u=b.timeAsPercent,v=b.tracking_token;b=b.video_width;var w=babelHelpers["extends"]({seq_num:r.toString()},s(g,l),{pk:n,a_i:d,a_pk:e,nav_chain:(r=c("PolarisNavChain").getInstance())==null?void 0:r.getNavChainForSend(),tracking_token:v,playback_format:o,time_spent_id:t,pigeon_reserved_keyword_module:a,is_dash_eligible:String(i),video_width:String(b),lsp:Number((g=k)!=null?g:0),loop_count:(l=j)!=null?l:0,follow_status:(n=h)!=null?n:"not_following",m_ts:String(m),playing_audio:String(p),radio_type:q,timeAsPercent:(d=u)!=null?d:0});c("VideoBufferingFinishedFalcoEvent").log(function(){return w})}function o(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.dropped_frame_count,i=b.is_dash_eligible,j=b.m_pk,k=b.pk,l=b.playback_format,m=b.reason,n=b.seq_num,o=b.start_delay,p=b.time,q=b.time_spent_id,r=b.total_frame_count,t=b.tracking_token;b=b.video_width;if(m==null)return;h=r!=null&&h!=null?babelHelpers["extends"]({dropped_frame_count:h==null?void 0:h.toString(),total_frame_count:r==null?void 0:r.toString(),video_width:b==null?void 0:b.toString()},s(g,j)):babelHelpers["extends"]({video_width:b==null?void 0:b.toString()},s(g,j));var u=babelHelpers["extends"]({reason:m,start_delay:o==null?null:Number(o),seq_num:n.toString(),time:p==null?null:Number(p)},h,{pk:k,a_i:d,a_pk:e,nav_chain:(r=c("PolarisNavChain").getInstance())==null?void 0:r.getNavChainForSend(),tracking_token:t,is_dash_eligible:i===1,playback_format:l,time_spent_id:q,pigeon_reserved_keyword_module:a});c("VideoStartedPlayingFalcoEvent").log(function(){return u})}function p(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.lsp,l=b.m_pk,m=b.pk,n=b.playback_format,o=b.seq_num,p=b.time,q=b.time_spent_id,r=b.tracking_token;b=b.video_width;if(r==null||p==null)return;var t=babelHelpers["extends"]({duration:h==null?null:Number(h),lsp:Number((h=k)!=null?h:0),time:Number(p),loop_count:(k=j)!=null?k:0,seq_num:o.toString(),video_width:String(b)},s(g,l),{a_i:d,a_pk:e,nav_chain:(h=c("PolarisNavChain").getInstance())==null?void 0:h.getNavChainForSend(),pk:m,tracking_token:r,is_dash_eligible:String(i),playback_format:n,time_spent_id:q,pigeon_reserved_keyword_module:a});c("VideoFullViewedTimeFalcoEvent").log(function(){return t})}function q(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.lsp,l=b.m_pk,m=b.pk,n=b.playback_format,o=b.seq_num,p=b.time,q=b.time_spent_id,r=b.tracking_token;b=b.video_width;if(r==null||p==null)return;var t=babelHelpers["extends"]({duration:h==null?null:Number(h),lsp:Number((h=k)!=null?h:0),time:Number(p),loop_count:(k=j)!=null?k:0,seq_num:o.toString(),video_width:String(b)},s(g,l),{a_i:d,a_pk:e,nav_chain:(h=c("PolarisNavChain").getInstance())==null?void 0:h.getNavChainForSend(),pk:m,tracking_token:r,is_dash_eligible:String(i),playback_format:n,time_spent_id:q,pigeon_reserved_keyword_module:a});c("VideoViewedTimeFalcoEvent").log(function(){return t})}function r(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.current_viewability_percentage,i=b.is_dash_eligible,j=b.m_pk,k=b.pk,l=b.playback_format,m=b.seq_num,n=b.time,o=b.time_spent_id,p=b.tracking_token,q=b.video_time_position;b=b.video_width;if(h==null)return;var r=babelHelpers["extends"]({current_viewability_percentage:h.toString(),seq_num:m.toString(),time:n==null?null:Number(n),video_time_position:q},s(g,j),{pk:k,a_i:d,a_pk:e,nav_chain:(h=c("PolarisNavChain").getInstance())==null?void 0:h.getNavChainForSend(),tracking_token:p,playback_format:l,time_spent_id:o,pigeon_reserved_keyword_module:a,is_dash_eligible:i.toString(),video_width:b==null?void 0:b.toString()});c("InstagramVideoViewabilityChangedFalcoEvent").log(function(){return r})}function s(a,b){return a==null?{m_pk:b}:{carousel_media_id:a,m_pk:b}}g.SUPPORTED_FALCO_EVENT_TYPES=e;g.logVideoFalcoEvent=a}),98);
__d("PolarisVideoLogger",["InstagramODS","PolarisAdsGatingHelpers","PolarisConfig","PolarisLogger","PolarisNavChain","PolarisPigeonLogger","PolarisVideoFalcoLogger","pageID","polarisUnexpected","qex"],(function(a,b,c,d,e,f,g){"use strict";e={audioDisabled:"video_audio_disabled",audioEnabled:"video_audio_enabled",bufferingFinished:"video_buffering_finished",bufferingStarted:"video_buffering_started",exited:"video_exited",failedPlaying:"video_failed_playing",formatChanged:"video_format_changed",fullViewedTime:"video_full_viewed_time",paused:"video_paused",playingUpdate:"video_playing_update",seek:"video_seek",shouldStart:"video_should_start",startedPlaying:"video_started_playing",viewabilityChanged:"instagram_video_viewability_changed",viewed:"video_viewed",viewedTime:"video_viewed_time"};function h(a){var b=a.carouselParentId,e=a.id,f=a.isAd,g=a.isDashEligible,h=a.navChain,i=a.ownerId,j=a.playbackFormat,k=a.trackingToken,l=babelHelpers.objectWithoutPropertiesLoose(a,["carouselParentId","id","isAd","isDashEligible","navChain","ownerId","playbackFormat","trackingToken"]);a=d("PolarisLogger").getExtra(a);a=a.ig_userid;i=i||"";e=e||"";b=b!=null?{carousel_media_id:e+"_"+i,m_pk:b+"_"+i}:{m_pk:e+"_"+i};return babelHelpers["extends"]({},l,b,{a_i:f===!0?"ad":"organic",a_pk:i,is_dash_eligible:g,nav_chain:(e=h)!=null?e:(l=c("PolarisNavChain").getInstance())==null?void 0:l.getNavChainForSend(),pk:a,playback_format:j,time_spent_id:c("pageID"),tracking_token:k})}function a(a){return a!=null?Number(a.toFixed(2)):null}function b(b,e,a){if(!d("PolarisConfig").isLoggedIn())return;var g=h(e);if(g.tracking_token==null){c("polarisUnexpected")("Video: can't log event without a tracking token!");return}e.isAd===!0&&c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.ads."+a+"."+b);e=e.isAd===!0;e=(!e||d("PolarisAdsGatingHelpers").isWWWFalcoEnabledForVideoAds())&&d("PolarisVideoFalcoLogger").SUPPORTED_FALCO_EVENT_TYPES.includes(b)&&c("qex")._("645")===!0;e?d("PolarisVideoFalcoLogger").logVideoFalcoEvent(b,g,a):d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent(b,g,{module:a}))}g.VIDEO_EVENTS=e;g.normalizeVideoEvent=a;g.logVideoEvent=b}),98);
__d("PolarisOzConfigMobileDefault",[],(function(a,b,c,d,e,f){"use strict";a={abr_use_download_time:!1,allow_queueing_end_of_stream_when_update:!1,back_off_pdash_504_retry:!1,bandwidth_ignore_on_stream_write_samples:!1,bandwidth_use_response_time_adjustment:!1,buffer_when_waiting:!1,call_end_of_stream_in_quick_starter:!1,check_buffer_range_once_for_playhead_update:!1,cleanup_video_node_on_destroy:!1,clear_buffer_when_switch_representation_initiator_is_user:!1,clear_prepended_segments_count_on_append:!1,copy_new_manifest:!1,detach_media_source_manager:!1,disable_audio_scheduler:!1,enable_abr_for_first_request:!1,enable_adaptation:!0,enable_appends_on_wait_update_end_failure:!1,enable_network_manager_error:!1,enable_quickdashv2:!1,estimate_video_bandwidth_only:!1,exclude_prefetch_bandwidth_samples:!0,fallback_on_append_error:!1,fix_abr_default_representation:!1,fix_quick_starter_overhead:!0,fix_seek_performance:!1,fix_template_duration_artifact_in_manifest:!1,generate_mos_segment_appended_secs:!1,ignore_time_to_response_start:!1,lazy_parse_sidx:!1,live_audio_ibr:!0,live_catch_up_only_when_paused:!1,live_disable_mpd_updates_when_paused:!1,live_gracefully_handle_mpd_errors:!1,live_gracefully_handle_no_network:!1,live_no_segment_when_playhead_is_before_first_segment:!1,live_playhead_catch_up:!1,live_query_time_in_range:!1,log_appended_secs:!1,maybe_end_stream_if_prepended_segments:!1,no_new_loop_body_promise_when_stream_ongoing:!1,pausable_stream_throws_error_when_aborted:!1,pdash_continue_interrupt_from_error:!1,queue_data_with_error_handling:!1,reach_end_only_when_video_ended:!1,remove_src_attr_on_unload:!1,retry_fetch_on_prefetch_error:!1,sbm_recursively_waits_for_update_end:!1,sbm_waits_for_update_end:!0,seek_ahead_use_native_current_time:!1,seek_to_start_quick_starter:!1,set_source_buffer_append_window_end:!1,skip_videobuffer_gaps:!0,stop_manifest_update_when_static:!1,suppress_playing_event_while_buffering:!1,throw_network_error_during_stream:!1,throw_on_non_zero_r_d_mismatch:!1,touch_cb_key:!1,update_bandwidth_cache_on_sample:!1,update_duration_when_init_appended:!1,update_media_source_duration:!0,use_abr_for_missing_default_representation:!1,use_deferred_streaming_task:!1,use_loose_manifest_updates:!1,use_performance_entry_on_stream_close:!1,use_sc_timebased_segments:!1,use_scf_timebased_segments:!1,use_scheduler:!0,use_segment_request_cache:!1,use_stream_end_time_in_segment_locator:!1};b={abr_confidence_threshold:.9,abr_eval_buffer_threshold:0,abr_min_bandwidth_samples:0,abr_prevent_down_switch_buffer_threshold:11,abr_restrict_from_index:0,abr_restrict_to_index:0,append_byte_target_without_range:0,appends_per_segment:3,auto_seek_playhead_slack:0,bandwidth_boundary_standard_deviation_factor:1,bandwidth_estimator_half_life:6,bandwidth_estimator_outlier_exclusion_factor:50,bandwidth_estimator_std_dev_penalty_factor:0,bandwidth_estimator_variance_penalty_down_factor:0,bandwidth_estimator_variance_penalty_half_life:0,bandwidth_estimator_variance_penalty_up_factor:0,bandwidth_penalty_additional_video_start:0,bandwidth_penalty_per_additional_video:0,bandwidth_response_time_handicap:0,buffer_ahead_target:19,byte_count_per_sample:6e4,default_bandwidth_estimate:5e5,download_time_buffer_delta_penalty_factor:0,in_play_buffer_overflow_target:1,in_play_buffer_underflow_target:.1,initial_switch_interval:0,live_audio_ibr_bandwidth_percentage:.05,live_catch_up_fall_behind_threshold:20,live_catch_up_live_head_delta:6,live_max_try_attempts_on_404:1,live_numerical_error_epsilon:0,low_buffer_bandwidth_target_increase_factor:0,low_buffer_bandwidth_target_threshold:10,low_segment_stream_playhead_threshold:0,max_bandwidth_sample_count:30,maximum_bandwidth_sample_bandwidth:2e6,min_eval_interval:1e3,min_switch_interval:5e3,minimum_bandwidth_sample_duration:30,minimum_bytes_to_sample_on_close:25e3,minimum_download_additional_buffer_ms:0,network_seg_timeout_ms:0,paused_stream_segments_count:2,per_stream_duration_target:0,playhead_nudge_slack:0,pre_start_buffer_ahead_target:10,resolution_constraint_factor:2,seconds_to_stream:0,seconds_to_stream_near_bandwidth_boundary:0,seek_ahead_epsilon:0,segments_to_stream:5,segments_to_stream_near_bandwidth_boundary:5,segments_to_stream_under_playhead_threshold:0,start_buffer_underflow_target:.1,stream_interrupt_check_mpd_stale_count_threshold:0,time_to_first_byte_estimate_half_life_ms:500,timeline_offset_threshold:0};c={bandwidth_cache_key:"bandwidthEstimate",network_end_broadcasts_json:"[]",network_reload_mpd_json:"[]",network_retry_intervals_json:'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}',network_skip_json:"[]"};f.defaultBools=a;f.defaultNumbers=b;f.defaultStrings=c}),66);
__d("oz-player-polaris/configs/PolarisDummyOzConfig",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){a===void 0&&(a={}),this.$1=a}var b=a.prototype;b.getBool=function(a,b){return typeof this.$1[a]===typeof b?this.$1[a]:b};b.getNumber=function(a,b){return typeof this.$1[a]===typeof b?this.$1[a]:b};b.getString=function(a,b){return typeof this.$1[a]===typeof b?this.$1[a]:b};return a}();f["default"]=a}),66);
__d("oz-player-polaris/utils/PolarisOzError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b.description)||this;c.$PolarisOzError1=b;c.name=b.type;return c}var c=b.prototype;c.getExtra=function(){return this.$PolarisOzError1.extra||{}};c.getType=function(){return this.$PolarisOzError1.type};c.getDescription=function(){return this.$PolarisOzError1.description};return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("usePolarisOzPlayer",["InstagramODS","JSResourceForInteraction","PolarisMonitorErrors","PolarisOzConfigMobileDefault","PolarisUA","asyncToGeneratorRuntime","gkx","justknobx","once","oz-player-polaris/configs/PolarisDummyOzConfig","oz-player-polaris/utils/PolarisOzError","polarisManifestHasUnsupportedCodecs","react"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useEffect,j=f.useRef,k=f.useState;function a(a){if(!c("justknobx")._("90"))return!1;if(d("PolarisUA").isFirefox())return!1;a=a.dashInfo;if(a==null)return!1;var b=a.is_dash_eligible;a=a.video_dash_manifest;if(!b||a==null||!l())return!1;if(c("polarisManifestHasUnsupportedCodecs")(a)){c("InstagramODS").incr("web.video.unsupported.codec");return!1}return d("PolarisUA").isDesktop()}var l=c("once")(function(){var a=!0;c("InstagramODS").incr("web.video.oz_player_support_check");window.MediaSource||(a=!1,c("InstagramODS").incr("web.video.oz_player_media_source_failed"));(!window.fetch||!window.AbortController)&&(a=!1,c("InstagramODS").incr("web.video.oz_player_fetch_abort_failed"));var b=!!window.MediaKeys&&!!window.navigator&&!!window.navigator.requestMediaKeySystemAccess&&!!window.MediaKeySystemAccess&&!!window.MediaKeySystemAccess.prototype.getConfiguration;b||(a=!1,c("InstagramODS").incr("web.video.oz_player_drm_support_failed"));if(window.ReadableStream)try{new ReadableStream({})}catch(b){a=!1,c("InstagramODS").incr("web.video.oz_player_readable_stream_use_failed")}else a=!1,c("InstagramODS").incr("web.video.oz_player_readable_stream_failed");window.Headers||(a=!1,c("InstagramODS").incr("web.video.oz_player_headers_failed"));(!((b=window.URL)==null?void 0:b.createObjectURL)||!Blob)&&(a=!1,c("InstagramODS").incr("web.video.oz_player_blob_url_failed"));c("gkx")("25408")||(a=!1,c("InstagramODS").incr("web.video.oz_player_gk_failed"));a||c("InstagramODS").incr("web.video.oz_player_support_failed");return a}),m=c("once")(function(){var a=d("PolarisUA").isMobile()?Object.assign({},d("PolarisOzConfigMobileDefault").defaultBools,d("PolarisOzConfigMobileDefault").defaultNumbers,d("PolarisOzConfigMobileDefault").defaultStrings):{cleanup_video_node_on_destroy:!1};return new(c("oz-player-polaris/configs/PolarisDummyOzConfig"))(a)});function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){a===void 0&&(a=null);var e=(yield c("JSResourceForInteraction")("oz-player-polaris").__setRef("usePolarisOzPlayer").load()),f=m(),g={height:b.offsetHeight,width:b.offsetWidth};return a!=null?new e({config:f,customRepresentationParsers:d,dimensions:g,rawMpdXml:a,videoNodeOrQuickStarter:b}):new e({config:f,customRepresentationParsers:d,dimensions:g,videoNodeOrQuickStarter:b})});return o.apply(this,arguments)}function p(a){var b=["oz_player_error -"];b.push("name: "+a.name);b.push("message: "+a.message);a.description!=null&&a.description.length>0&&b.push("description: "+a.description);if(a instanceof c("oz-player-polaris/utils/PolarisOzError")){a=a.getExtra();a.code!=null&&b.push("code: "+a.code)}return b.join(" ")}function q(a,b,c){b!=null&&a.src!==b&&(a.src=b),c&&c()}function e(a,b,e,f,g){a===void 0&&(a=null);b===void 0&&(b=null);var h=k(!1),l=h[0],m=h[1],o=j(null),r=j(null),s=j(f);i(function(){if(e!=null&&o.current==null&&r.current==null){var f=s.current,h=f.customRepresentationParsers,i=f.onPlayerReady,j=f.onSwitchVideoRepresentation;f=n(b,e,h).then(function(b){o.current=b,b.onError(function(a){d("PolarisMonitorErrors").logError(new Error(p(a)))}),b.addListener("enter_buffering",function(){e.playbackRate=0}),b.addListener("leave_buffering",function(){e.playbackRate=1}),b.addListener("mpd_ready",function(){c("InstagramODS").incr("web.video.load_manifest_successful"),m(!0),i&&i()}),b.addListener("switchVideoRepresentation",function(){if(j!=null){var a=e.currentTime;a=b.getVideoRepresentationIDAtTime(a);a!=null&&j(a)}}),c("InstagramODS").incr("web.video.load_manifest_request"),b.load(a)})["catch"](function(){d("PolarisMonitorErrors").logError(new Error("oz_player_error: failed to create the oz player")),c("InstagramODS").incr("web.video.load_manifest_failed"),o.current!=null?o.current.destroy().then(function(){q(e,g,i)}):q(e,g,i)});r.current=f}return function(){r.current!=null&&(r.current=null),o.current!=null&&(o.current.destroy(),o.current=null)}},[g,a,b,e]);return{manifestLoaded:l,ozPlayer:o.current}}g.shouldUseOzForPostVideo=a;g.useOzPlayer=e}),98);
__d("polarisVideoUtils",["PolarisConfig","PolarisContainerModuleUtils","PolarisIsLoggedInDesktop","PolarisPanavisionQEHelpers","PolarisRelationshipTypes","PolarisUA","PolarisVideoConstants","PolarisVideoLogger","usePolarisOzPlayer"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(!o())return!1;a=h(c);return a!=null&&a>d("PolarisVideoConstants").VIDEO_PREVIEW_DURATION_SECONDS}function h(a){return a&&a.getCurrentTime()}function b(a){return d("usePolarisOzPlayer").shouldUseOzForPostVideo(a)?a.dashInfo:void 0}function c(a){return a?"metadata":"none"}function e(a){return(a==null?void 0:(a=a.followedByViewer)==null?void 0:a.state)===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING?"following":"not_following"}function f(a,b){if(a===d("PolarisVideoConstants").AUDIO_STATES.none)return!0;return b!==!0?!1:a!==d("PolarisVideoConstants").AUDIO_STATES.on}function i(a,b){a=a==null?void 0:a.getVideo();if(a===null)return!0;a=(a==null?void 0:a.muted)===!0||(a==null?void 0:a.volume)===0;return a&&b}function j(a){return n(a)&&d("PolarisIsLoggedInDesktop").isLoggedInDesktop()?!1:!0}function k(a){return a===d("PolarisVideoConstants").PLAYER_STATES.playing||a===d("PolarisVideoConstants").PLAYER_STATES.requestedPlay}function l(a){var b=h(a)||0;a=a&&a.getDuration();return a!=null&&a!==0?b/a:0}function m(a){return a&&a.getPauseTime()}function n(a){return a==="feed"||a==="feedPage"||a==="followingFeedPage"||a==="favoritesFeedPage"||a==="pastPostsFeedPage"}function o(){return!1}function p(a,b,c){d("PolarisConfig").isLoggedIn()&&d("PolarisVideoLogger").logVideoEvent(b,c,d("PolarisContainerModuleUtils").getContainerModule(a))}function q(a,b){if(o())return!0;b=n(a)&&!d("PolarisPanavisionQEHelpers").hasNoLetterboxing();return d("PolarisUA").isMobile()||b}function r(a,b){return o()}g.didReachEndOfIGTVPreview=a;g.getCurrentVideoTime=h;g.getDashInfo=b;g.getDeclarativeVideoPreload=c;g.getFollowingStatus=e;g.getShouldMuteAudio=f;g.getShouldStopVideoInBackground=i;g.getShouldStopVideoWhenNotVisible=j;g.getShouldVideoLoop=k;g.getTimeAsPercentage=l;g.getTimeAtVideoPause=m;g.isFeed=n;g.isIGTVFeedPreview=o;g.logVideoEventWrapper=p;g.shouldCenterCropPosterHeight_LEGACY=q;g.shouldCenterCropVideoHeight=r}),98);
__d("usePolarisShowVideoThumbnailAndOverlayLoggedOut",["PolarisLoggedOutUpsellExposure","PolarisUA","VideoPlayerHooks","qex","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useState,l=b.c;function a(a){var b=l(18),e=c("usePolarisAnalyticsContext")(),f=(i||(i=d("VideoPlayerHooks"))).useVideoPlaybackEnded(),g=i.usePlaying(),h=k(!1),m=h[0],n=h[1];h=k(!1);var o=h[0],p=h[1];h=k(!1);var q=h[0],r=h[1],s=i.useSeeking(),t;b[0]!==g?(h=function(){g&&n(!0)},t=[g],b[0]=g,b[1]=h,b[2]=t):(h=b[1],t=b[2]);j(h,t);b[3]!==s?(h=function(){s&&r(!0)},t=[s],b[3]=s,b[4]=h,b[5]=t):(h=b[4],t=b[5]);j(h,t);b[6]!==m||b[7]!==a?(h=function(){m&&!a&&p(!0)},t=[m,a],b[6]=m,b[7]=a,b[8]=h,b[9]=t):(h=b[8],t=b[9]);j(h,t);bb0:{if(e==="reelsTab"){h=c("PolarisLoggedOutUpsellExposure").mweb.show_reels_end_of_video;break bb0}if(e==="postPage"){h=!c("PolarisLoggedOutUpsellExposure").mweb.hide_end_of_video;break bb0}h=!0}t=h;bb1:{if(e==="postPage"){h=c("qex")._("215")!==!0;break bb1}h=!0}e=h;b[10]!==f||b[11]!==o||b[12]!==e||b[13]!==t?(h=d("PolarisUA").isMobile()&&(f||o&&e)&&t,b[10]=f,b[11]=o,b[12]=e,b[13]=t,b[14]=h):h=b[14];o=h;e=!m&&!q||f||o;b[15]!==o||b[16]!==e?(t=[o,e],b[15]=o,b[16]=e,b[17]=t):t=b[17];return t}g["default"]=a}),98);
__d("PolarisPostVideoPlayerLoggedOutSurface.react",["CometImage.react","PolarisPostVideoPlaybackOverlay.react","PolarisUA","PolarisVideoIndicatorIcon.react","VideoPlayerHooks","VideoPlayerSurface.react","cr:1816","cr:702","qex","react","usePolarisShouldCenterCropPosterHeight","usePolarisShowVideoThumbnailAndOverlayLoggedOut"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.useEffect,l=e.c,m={thumbnail:{height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}};function a(a){var b=l(24),e=a.analyticsContext,f=a.asSidecarChild,g=a.firstSidecarChildSrc,h=a.isVisible,o=a.post;a=a.upcomingEventMediaId;var p=(i||(i=d("VideoPlayerHooks"))).useController();h=c("usePolarisShowVideoThumbnailAndOverlayLoggedOut")(!!h);var q=h[0];h=h[1];var r=c("usePolarisShouldCenterCropPosterHeight")(e,o),s,t;b[0]!==q||b[1]!==p?(s=function(){q&&(p.pause("product_initiated"),p.freeze())},t=[q,p],b[0]=q,b[1]=p,b[2]=s,b[3]=t):(s=b[2],t=b[3]);k(s,t);b[4]!==h||b[5]!==o||b[6]!==r?(s=h&&o.src!=null&&j.jsx(c("CometImage.react"),{src:o.src,xstyle:r||d("PolarisUA").isDesktop()?m.thumbnail:void 0}),b[4]=h,b[5]=o,b[6]=r,b[7]=s):s=b[7];b[8]!==o||b[9]!==q?(t=j.jsx(c("PolarisPostVideoPlaybackOverlay.react"),{post:o,shouldShowOverlay:q,showVideoControls:!1}),b[8]=o,b[9]=q,b[10]=t):t=b[10];b[11]!==e||b[12]!==f||b[13]!==g||b[14]!==o||b[15]!==a?(h=j.jsx(c("PolarisVideoIndicatorIcon.react"),{analyticsContext:e,asSidecarChild:f,firstSidecarChildSrc:g,post:o,upcomingEventMediaId:a}),b[11]=e,b[12]=f,b[13]=g,b[14]=o,b[15]=a,b[16]=h):h=b[16];b[17]!==q?(r=j.jsx(n,{shouldShowOverlay:q}),b[17]=q,b[18]=r):r=b[18];b[19]!==s||b[20]!==t||b[21]!==h||b[22]!==r?(e=j.jsxs(c("VideoPlayerSurface.react"),{children:[s,t,h,r]}),b[19]=s,b[20]=t,b[21]=h,b[22]=r,b[23]=e):e=b[23];return e}function n(a){var d=l(3);a=a.shouldShowOverlay;if(!a)return null;d[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("qex")._("586"),d[0]=a):a=d[0];a=a;if(a===3&&b("cr:702")){var e;d[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(b("cr:702"),{}),d[1]=e):e=d[1];return e}if(b("cr:1816")){d[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(b("cr:1816"),{endOfTheVideoUpsellVariant:a}),d[2]=e):e=d[2];return e}return null}g["default"]=a}),98);
__d("PolarisLoggedOutVideo.react",["InstagramSEOCrawlBot","PolarisLoggedOutUpsellExposure","PolarisPostVideoPlayerLoggedOutSurface.react","PolarisPostVideoPlayerWrapper.react","PolarisVideo.react","PolarisVideoHelpers","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b,e,f=i(30),g,h,k,l;f[0]!==a?(k=a.analyticsContext,h=a.enableLookasideForVideoPosts,g=a.post,l=babelHelpers.objectWithoutPropertiesLoose(a,["analyticsContext","enableLookasideForVideoPosts","post"]),f[0]=a,f[1]=g,f[2]=h,f[3]=k,f[4]=l):(g=f[1],h=f[2],k=f[3],l=f[4]);if(f[5]!==g){a=(a=d("PolarisVideoHelpers").getSDVideoSrcFromPost(g))!=null?a:g.videoUrl;f[5]=g;f[6]=a}else a=f[6];a=a;var m=a,n;c("InstagramSEOCrawlBot").is_allowlisted_crawl_bot&&(h===!0&&(n=a,m=a!==null?String(a)+"&get_thumbnail=0":a));f[7]!==g?(h=d("PolarisVideoHelpers").getHDVideoSrcFromPost(g),f[7]=g,f[8]=h):h=f[8];a=h;h=k==="postPage"&&c("PolarisLoggedOutUpsellExposure").mweb.hide_end_of_video?-1:0;var o;f[9]!==g?(o=d("PolarisVideoHelpers").getDashInfoFromPost(g),f[9]=g,f[10]=o):o=f[10];b=(b=g.dimensions)==null?void 0:b.height;e=(e=g.dimensions)==null?void 0:e.width;var p;f[11]!==k||f[12]!==g||f[13]!==l?(p=j.jsx(c("PolarisPostVideoPlayerLoggedOutSurface.react"),babelHelpers["extends"]({analyticsContext:k,post:g},l)),f[11]=k,f[12]=g,f[13]=l,f[14]=p):p=f[14];f[15]!==g.accessibilityCaption||f[16]!==g.id||f[17]!==o||f[18]!==a||f[19]!==h||f[20]!==b||f[21]!==e||f[22]!==n||f[23]!==m||f[24]!==p?(l=j.jsx(c("PolarisVideo.react"),{alt:g.accessibilityCaption,autoplay:!0,dashInfo:o,hdSrc:a,loopCount:h,mediaId:g.id,originalHeight:b,originalWidth:e,poster:n,sdSrc:m,children:p}),f[15]=g.accessibilityCaption,f[16]=g.id,f[17]=o,f[18]=a,f[19]=h,f[20]=b,f[21]=e,f[22]=n,f[23]=m,f[24]=p,f[25]=l):l=f[25];f[26]!==k||f[27]!==g||f[28]!==l?(o=j.jsx(c("PolarisPostVideoPlayerWrapper.react"),{analyticsContext:k,post:g,children:l}),f[26]=k,f[27]=g,f[28]=l,f[29]=o):o=f[29];return o}g["default"]=a}),98);
__d("PolarisMorePostsLikeThisHeader.react",["fbt","IGDSBox.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=h._("__JHASH__b43n4KvPB6j__JHASH__");function a(){var a=j(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("IGDSBox.react"),{marginBottom:1,marginStart:4,marginTop:4,children:k.jsx(c("IGDSText.react"),{size:"label",weight:"bold",children:l})}),a[0]=b):b=a[0];return b}g["default"]=a}),226);
__d("PolarisPCManagerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("PolarisPendingCommentActions",["fbt","PolarisAPICommentOnPost","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisLogger","PolarisPendingCommentState","PolarisSentryFeedbackActions","QPLUserFlow","nullthrows","polarisPostSelectors","polarisUserSelectors","qpl"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,c,d,e,f){return{postId:a,repliedToCommentAuthorId:d,repliedToCommentId:c,repliedToCommentParentId:f,repliedToUsername:e,text:b,type:"CHANGE_PENDING_COMMENT"}}function b(a){return{postId:a,type:"CLEAR_PENDING_COMMENT"}}function i(a,b,e,f){return function(g,j){var k;g({postId:a,type:"COMMIT_PENDING_COMMENT_REQUESTED"});d("PolarisLogger").logAction("comment",{source:e});var l=j();k=(k=l.pendingComments[a])!=null?k:d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT;var m=k.repliedToCommentAuthorId,n=k.repliedToCommentId,o=k.text;k=l.posts.byId.get(a,{hasRankedComments:!1});var p=k.hasRankedComments,q=Boolean((k=d("polarisUserSelectors").getViewer__DEPRECATED(l))==null?void 0:k.isVerified);return d("PolarisAPICommentOnPost").commentOnPost(a,o,n).then(function(h){var i=c("nullthrows")(d("polarisUserSelectors").getViewer__DEPRECATED(j())).id;h=h.id;g({commentAuthorId:i,commentAuthorIsVerified:q,commentId:h,commentText:o,hasRankedComments:p,postedAt:Math.round(Date.now()/1e3),postId:a,repliedToCommentId:n,type:"COMMIT_PENDING_COMMENT_SUCCEEDED"});d("PolarisLogger").logAction("commentSuccess",{source:e});i={commentAuthorId:i,commentId:h,containerModule:e,mediaAuthorId:b,mediaId:a,mediaType:d("polarisPostSelectors").getMediaTypeById(l,a),parentCommentAuthorId:m,parentCommentId:n};f!=null?d("PolarisAdsEngagementLogger").logAdComment(i,f):d("PolarisEngagementLogger").logOrganicComment(i);c("QPLUserFlow").endSuccess(c("qpl")._(379194585,"1014"))},function(f){var j;j=((j=f.responseObject)==null?void 0:j.spam)||!1;if(j){var k,l,m,n,o;k=(k=f.responseObject)==null?void 0:k.feedback_title;l=(l=f.responseObject)==null?void 0:l.feedback_message;m=(m=f.responseObject)==null?void 0:m.feedback_url;n=(n=f.responseObject)==null?void 0:n.feedback_action;o=(o=f.responseObject)==null?void 0:o.feedback_appeal_label;f=(f=f.responseObject)==null?void 0:f.restriction_enrollment_data;g(d("PolarisSentryFeedbackActions").showSentryFeedback({action:n,feedback_appeal_label:o,message:l,restriction_enrollment_data:f,source:e,sourceOfAction:"commit_pending_comment",title:k,url:m}));c("QPLUserFlow").markError(c("qpl")._(379194585,"1014"),"api_request_marked_as_spam")}g({postId:a,toast:j?void 0:{actionHandler:function(){return g(i(a,b,e))},actionText:h._("__JHASH__Gv3607oUiQA__JHASH__"),text:h._("__JHASH__mRPuJ5IazmB__JHASH__")},type:"COMMIT_PENDING_COMMENT_FAILED"});d("PolarisLogger").logAction("commentFailure",{source:e});c("QPLUserFlow").endFailure(c("qpl")._(379194585,"1014"),"api_errored")})}}g.changePendingComment=a;g.clearPendingComment=b;g.commitPendingComment=i}),226);
__d("PolarisPostImpressionTrackingNode.react",["PolarisPCManagerContext.react","react","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.c,l=4;function m(a){return("0"+parseInt(a,16).toString()).slice(-2)}function n(a){if(a.charAt(0)==="#")return a;a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return a===null?null:"#"+m(a[1])+m(a[2])+m(a[3])}function a(a){var b=k(11),d=a.carouselInfo,e=a.children,f=a.childrenRef,g=a.componentType,h=a.elementId,m=a.numCarouselCards,o=a.trackingNode,p=j(c("PolarisPCManagerContext.react"));b[0]!==p||b[1]!==f.current||b[2]!==g||b[3]!==o||b[4]!==d||b[5]!==m||b[6]!==h?(a=function(){if(p==null||f.current==null)return;var a=f.current.getBoundingClientRect(),b=a.height,c=a.width,e=a.x;a=a.y;b={component_type:g,height:b,view_rendering_component_type:"react",view_tracking_node_name:o,width:c,x_pos:e,y_pos:a};if(g==="image"){e=(c=f.current)==null?void 0:c.querySelector("img");a=e==null?void 0:e.src;c=e==null?void 0:e.complete;d!=null&&(b=babelHelpers["extends"]({},b,d));b=babelHelpers["extends"]({},b,{has_fully_rendered:c,media_urls:a})}else if(g==="video"){c=(e=f.current)==null?void 0:e.querySelector("video");a=c==null?void 0:c.src;e=c==null?void 0:c.duration;c=(c==null?void 0:c.readyState)===l;d!=null&&(b=babelHelpers["extends"]({},b,d));b=babelHelpers["extends"]({},b,{has_fully_rendered:c,media_urls:a,video_duration_sec:e})}else if(g==="text"){c=window.getComputedStyle(f.current,null);a=parseInt(c.getPropertyValue("font-size"),10).toString();e=(e=f.current)==null?void 0:e.innerText;var i=parseInt(c.getPropertyValue("line-height"),10);c=n(c.getPropertyValue("color"));b=babelHelpers["extends"]({},b,{font_line_height:i,font_size:a,text_color:c,text_string:e})}else g==="carousel"&&(b=babelHelpers["extends"]({},b,{number_of_cards:String(m)}));p.setComponentData(o,h,b)},b[0]=p,b[1]=f.current,b[2]=g,b[3]=o,b[4]=d,b[5]=m,b[6]=h,b[7]=a):a=b[7];a=c("usePartialViewImpression")({onImpressionEnd:a});var q;b[8]!==a||b[9]!==e?(q=i.jsx("div",{ref:a,children:e}),b[8]=a,b[9]=e,b[10]=q):q=b[10];return q}g["default"]=a}),98);
__d("PolarisPostModalContextImpl_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostModalContextImpl_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostModalEntrypointLazy_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostModalEntrypointLazyComponent_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostModalEntrypointLazyComponent_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostFastAboutThisAccountModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastAdDebugToolModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastAdRemovedModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastAllowCommentsModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastCopyModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastDeleteModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastEmbedModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastHideAdModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastOptionsModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastReportModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastReportAdModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastShareSheet_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastTaggedModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastTagOptionsModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastUnfollowModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastViewAccountModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastWAISTModal_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostModalEntrypointLazy_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostModalEntrypointLazy_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastAboutThisAccountModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastAllowCommentsModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostModalEntrypointLazyComponent_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastCopyModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastDeleteModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastEmbedModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastOptionsModal_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostModalEntrypointLazy.react",["CometPlaceholder.react","CometRelay","FBLogger","IGRouter_DO_NOT_USE.react","JSResourceForInteraction","PolarisErrorBoundary.react","PolarisPostModalEntrypointLazyComponent_media.graphql","PolarisPostModalEntrypointLazy_media.graphql","hero-tracing","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).c,l=j;e=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastAboutThisAccountModal.react").__setRef("PolarisPostModalEntrypointLazy.react"));f=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastAboutThisAccountModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react"));var m=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastAllowCommentsModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastAdRemovalErrorModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastAdRemovedModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),p=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastAdRemovedModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),q=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastCopyModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastCopyModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastDeleteModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastDeleteModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),u=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastEmbedModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),v=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastEmbedModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),w=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFavoritesModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),x=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastHideAdModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),y=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastHideAdModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),z=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastLoadingModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),A=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastOptionsModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),B=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastOptionsModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),C=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastReportModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),D=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastReportModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),E=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastReportAdModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),F=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastReportAdModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),G=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastShareSheet.react").__setRef("PolarisPostModalEntrypointLazy.react")),H=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastShareSheet.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),I=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastTaggedModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),J=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastTaggedModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),K=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastTagOptionsModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),L=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastTagOptionsModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),M=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastUnfollowModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),N=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastUnfollowModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),O=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastViewAccountModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),P=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastViewAccountModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),Q=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastAdDebugToolModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),R=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastAdDebugToolModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),S=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastWAISTModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),T=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastWAISTModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),U=new Map([["aboutThisAccount",e],["copy",q],["delete",s],["embed",u],["hideAd",x],["options",A],["removeAd",o],["report",C],["reportAd",E],["share",G],["tagged",I],["tagOptions",K],["unfollow",M],["viewAccount",O],["viewAdDebugTool",Q],["whyAmISeeingThisAd",S]]),V=new Map([["aboutThisAccount",f],["allowComments",m],["copy",r],["delete",t],["embed",v],["hideAd",y],["optionsV2",B],["removeAd",p],["report",D],["reportAd",F],["share",H],["tagged",J],["tagOptions",L],["unfollow",N],["viewAccount",P],["viewAdDebugTool",R],["whyAmISeeingThisAd",T]]),W=new Map([["favorites",w],["loading",z],["removeAdError",n]]);function a(a){var e,f=k(13),g=a.interactionUUID,i=a.media,j=a.location,m=a.onClose,n=a.openModal;a=a.post;i=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostModalEntrypointLazy_media.graphql"),i);e=(e=i==null?void 0:i.pk)!=null?e:a==null?void 0:a.id;if(e==null)throw c("FBLogger")("instagram_web").mustfixThrow("Both media fragment and post cannot be null");var o="PostModalEntrypoint: Open "+n+" Modal";e=n+"-"+e;var p;f[0]!==j||f[1]!==i||f[2]!==m||f[3]!==n||f[4]!==a?(p=l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(X,{location:j,media:i,onClose:m,openModal:n,post:a})}),f[0]=j,f[1]=i,f[2]=m,f[3]=n,f[4]=a,f[5]=p):p=f[5];f[6]!==e||f[7]!==p?(j=l.jsx(c("PolarisErrorBoundary.react"),{children:p},e),f[6]=e,f[7]=p,f[8]=j):j=f[8];f[9]!==o||f[10]!==g||f[11]!==j?(i=l.jsx(d("hero-tracing").HeroInteraction,{interactionDesc:o,interactionUUID:g,children:j}),f[9]=o,f[10]=g,f[11]=j,f[12]=i):i=f[12];return i}function X(a){var e=k(18),f=a.media,g=a.location,h=a.onClose,j=a.openModal;a=a.post;f=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisPostModalEntrypointLazyComponent_media.graphql"),f);var m;e[0]!==j?(m=W.get(j),e[0]=j,e[1]=m):m=e[1];m=m;if(m){var n;e[2]!==m||e[3]!==h?(n=l.jsx(m,{onClose:h}),e[2]=m,e[3]=h,e[4]=n):n=e[4];return n}e[5]!==j?(m=V.get(j),e[5]=j,e[6]=m):m=e[6];n=m;if(n&&f){e[7]!==n||e[8]!==f||e[9]!==h?(m=l.jsx(n,{media:f,onClose:h}),e[7]=n,e[8]=f,e[9]=h,e[10]=m):m=e[10];return m}e[11]!==j?(n=U.get(j),e[11]=j,e[12]=n):n=e[12];f=n;if(!f||a==null)throw c("FBLogger")("instagram_web").mustfixThrow('Failed to find a modal for "%s"',j);e[13]!==f||e[14]!==g||e[15]!==h||e[16]!==a?(m=l.jsx(f,{location:g,onClose:h,post:a}),e[13]=f,e[14]=g,e[15]=h,e[16]=a,e[17]=m):m=e[17];return m}e=d("IGRouter_DO_NOT_USE.react").withIGRouter(a);g["default"]=e}),98);
__d("PolarisPostModalContext.react",["CometPlaceholder.react","CometRelay","InteractionTracing","PolarisLoadingModal.react","PolarisLoadingSheet.react","PolarisPostModalContextImpl_media.graphql","PolarisPostModalEntrypointLazy.react","PolarisUA","emptyFunction","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i,l=k.createContext,m=k.useContext;k.useMemo;var n=k.useState,o=k.c;function p(a){if(d("PolarisUA").isMobile())return null;switch(a){case"share":return j.jsx(c("PolarisLoadingSheet.react"),{});default:return j.jsx(c("PolarisLoadingModal.react"),{})}}var q=l({openModal:null,setOpenModal:null});function a(a){var e=o(12),f=a.children,g=a.media$key;a=a.post;g=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostModalContextImpl_media.graphql"),g);var i=n(null),k=i[0],l=i[1];i=n(null);var r=i[0],s=i[1];e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=function(a){a!=null&&l(c("InteractionTracing").startInteraction({interactionClass:"fluid",qplEvent:c("qpl")._(27465367,"758"),tracePolicy:"polaris.post_fast."+a.toLowerCase(),traceType:"INTERACTION"})),s(a)},e[0]=i):i=e[0];var t=i;e[1]!==r?(i={openModal:r,setOpenModal:t},e[1]=r,e[2]=i):i=e[2];i=i;i=i;var u=!!m(q).setOpenModal;if(u)return f;e[3]!==r||e[4]!==k||e[5]!==g||e[6]!==a?(u=r&&j.jsx(c("CometPlaceholder.react"),{fallback:p(r),children:j.jsx(c("PolarisPostModalEntrypointLazy.react"),{interactionUUID:k,media:g,onClose:function(){return t(null)},openModal:r,post:a})}),e[3]=r,e[4]=k,e[5]=g,e[6]=a,e[7]=u):u=e[7];e[8]!==i||e[9]!==f||e[10]!==u?(r=j.jsxs(q.Provider,{value:i,children:[f,u]}),e[8]=i,e[9]=f,e[10]=u,e[11]=r):r=e[11];return r}function e(){return m(q).setOpenModal||c("emptyFunction")}function f(){return m(q).openModal}g.PostModalContext=a;g.useSetPostModal=e;g.useCurrentlyOpenModal=f}),98);
__d("PolarisPostPageGatedContentAPIReasonFallback.react",["PolarisHttpGatedContentPage.react","PolarisHttpGatedContentPageWithShell.react","react","useGatedContentInfo","usePolarisGetQuery"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(8),d=a.error,e=a.fullpage;a=a.postId;e=e===void 0?!0:e;var f=c("usePolarisGetQuery")("/api/v1/web/get_ruling_for_content/",{query:{content_type:"MEDIA",target_id:a}});f=c("useGatedContentInfo")(f);if(f==null)throw d;d=e?c("PolarisHttpGatedContentPageWithShell.react"):c("PolarisHttpGatedContentPage.react");b[0]!==d||b[1]!==f.blocks_logging_data||b[2]!==f.description||b[3]!==f.geo_block_rule_type||b[4]!==f.session_id||b[5]!==f.title||b[6]!==a?(e=j.jsx(d,{blocksLoggingData:f.blocks_logging_data,description:f.description,entityId:a,geoBlockRuleType:f.geo_block_rule_type,sessionId:f.session_id,title:f.title}),b[0]=d,b[1]=f.blocks_logging_data,b[2]=f.description,b[3]=f.geo_block_rule_type,b[4]=f.session_id,b[5]=f.title,b[6]=a,b[7]=e):e=b[7];return e}g["default"]=a}),98);
__d("polarisGetXDTMediaDict",["igMapTypenameToRelayID"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=c("igMapTypenameToRelayID")("XDTMediaDict",b,null);return a.get(b)}g["default"]=a}),98);
__d("PolarisPostSuggestedHeader.react",["cx","fbt","IGDSBox.react","IGDSIconButton.react","IGDSText.react","IGDSXPanoOutlineIcon.react","InstagramODS","PolarisGenericStrings","PolarisPanavisionQEHelpers","PolarisPostActionHidePost","PolarisReactRedux.react","PolarisUA","polarisGetIGFormattedText","react","stylex","usePolarisHidePost"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;var m=b.useEffect,n=b.c,o={familiarFeedRoot:{borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",paddingTop:"xz9dl7a",paddingEnd:"x4uap5",paddingBottom:"xsag5q8",paddingStart:"xkhd6sd",$$css:!0},root:{alignItems:"x6s0dn4",borderBottomColor:"xd18jyu",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",display:"x78zum5",flexDirection:"x1q0g3np",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0}};function a(a){var b=n(20),e=a.postId,f=a.title;a=a.xstyle;var g=d("PolarisReactRedux.react").useDispatch(),h=d("usePolarisHidePost").usePolarisHidePost({inventorySource:"mixed_unconnected",postId:e}),k;b[0]!==h||b[1]!==g||b[2]!==e?(k=function(){d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp()?h():g(d("PolarisPostActionHidePost").hidePost__LEGACY({inventorySource:"mixed_unconnected",postId:e}))},b[0]=h,b[1]=g,b[2]=e,b[3]=k):k=b[3];k=k;var p;b[4]!==f?(p=f!=null?c("polarisGetIGFormattedText")(f,{className:"_agj9",removeAt:!0}):null,b[4]=f,b[5]=p):p=b[5];f=p;p=d("PolarisUA").isDesktop();var q,r;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){c("InstagramODS").incr("web.post.in_feed_recommendation_header")},r=[],b[6]=q,b[7]=r):(q=b[6],r=b[7]);m(q,r);q=(j||(j=c("stylex")))(o.root,p&&o.familiarFeedRoot,a);if(b[8]!==f){p=(r=f)!=null?r:i._("__JHASH__YgIXh21zMTk__JHASH__");b[8]=f;b[9]=p}else p=b[9];b[10]!==p?(a=l.jsx(c("IGDSBox.react"),{alignItems:"start",flex:"grow",justifyContent:"center",children:l.jsx(c("IGDSText.react"),{children:p})}),b[10]=p,b[11]=a):a=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(r="x1xfsgkm",b[12]=r):r=b[12];b[13]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsx(c("IGDSXPanoOutlineIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:12}),b[13]=f):f=b[13];b[14]!==k?(p=l.jsx("div",{className:r,children:l.jsx(c("IGDSIconButton.react"),{onClick:k,padding:0,children:f})}),b[14]=k,b[15]=p):p=b[15];b[16]!==q||b[17]!==a||b[18]!==p?(r=l.jsxs("div",{className:q,children:[a,p]}),b[16]=q,b[17]=a,b[18]=p,b[19]=r):r=b[19];return r}g["default"]=a}),226);
__d("PolarisPostToast.react",["CometPlaceholder.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=c("deferredLoadComponent")(c("requireDeferred")("PolarisPostToastImpl.react").__setRef("PolarisPostToast.react"));function a(a){var b=i(4),d=a.isFeedVariant,e=a.isModal;a=a.isSidecar;var f;b[0]!==d||b[1]!==e||b[2]!==a?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(k,{isFeedVariant:d,isModal:e,isSidecar:a})}),b[0]=d,b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}g["default"]=a}),98);
__d("PolarisPostTypeUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a.isVideo===!0)return"video";return a.sidecarChildren&&a.sidecarChildren.length>0?"sidecar":"photo"}f.getPostType=a}),66);
__d("PolarisProfileClickEventLoggerProvider.react",["PolarisProfileClickEventLoggerContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d=a.children;a=a.onProfileClick;var e;b[0]!==a||b[1]!==d?(e=j.jsx(c("PolarisProfileClickEventLoggerContext.react").Provider,{value:a,children:d}),b[0]=a,b[1]=d,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("PolarisRelatedMediaGridConstants",[],(function(a,b,c,d,e,f){"use strict";a=4;f.MINIMUM_POST_COUNT=a}),66);
__d("PolarisRelatedMediaUsernameHeader.react",["fbt","IGDSButton.react","PolarisIGCoreText","PolarisLinkBuilder","PolarisLogger","PolarisSEOEventsLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(5),e=a.analyticsContext;a=a.username;var f;b[0]!==e?(f=function(){d("PolarisLogger").logAction("relatedMediaUsernameClick"),d("PolarisSEOEventsLogger").logSEOEvent({containermodule:e,eventName:"relatedMediaUsernameClick"})},b[0]=e,b[1]=f):f=b[1];f=f;var g;b[2]!==a||b[3]!==f?(g=k.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:"ig-secondary-text",children:h._("__JHASH__Br1wiOT_wXn__JHASH__",[h._param("UserLink",k.jsx(c("IGDSButton.react"),{display:"block",href:d("PolarisLinkBuilder").buildUserLink(a),label:a,onClick:f,variant:"secondary_link"}))])}),b[2]=a,b[3]=f,b[4]=g):g=b[4];return g}g["default"]=a}),226);
__d("PolarisSponsoredLabel.react",["GHLRandomElementWrapper","GHLSVGText.react","PolarisAdBlockerMitigationGatingHelpers","PolarisAdsGatingHelpers","PolarisPostImpressionTrackingNode.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useRef,l=b.c,m={root:{color:"x5n08af",fontSize:"x1fhwpqd",lineHeight:"x132q4wb",$$css:!0}};function a(a){var b=l(16),e=a["data-testid"],f=a.label;a=a.xstyle;var g;b[0]!==f?(g=j.jsx(j.Fragment,{children:d("PolarisAdBlockerMitigationGatingHelpers").shouldUseSVGTextMitigation()===!0?j.jsx(c("GHLSVGText.react"),{fontSize:"12",text:f.toString()}):f}),b[0]=f,b[1]=g):g=b[1];f=g;g=k(null);var i;b[2]!==a?(i=(h||(h=c("stylex")))(m.root,a),b[2]=a,b[3]=i):i=b[3];e=(a=e)!=null?a:"sponsored-label";b[4]!==f?(a=d("PolarisAdBlockerMitigationGatingHelpers").shouldUseRandomElementWrapper()===!0?j.jsx(c("GHLRandomElementWrapper"),{elementTag:"randomSpan",children:f}):f,b[4]=f,b[5]=a):a=b[5];b[6]!==i||b[7]!==e||b[8]!==a?(f=j.jsx("span",{className:i,"data-testid":void 0,children:a}),b[6]=i,b[7]=e,b[8]=a,b[9]=f):f=b[9];i=f;if(d("PolarisAdsGatingHelpers").enableFeedPostImpressionLogging()){b[10]!==g||b[11]!==i?(e=j.jsx("div",{ref:g,children:i}),b[10]=g,b[11]=i,b[12]=e):e=b[12];b[13]!==g||b[14]!==e?(a=j.jsx(c("PolarisPostImpressionTrackingNode.react"),{childrenRef:g,componentType:"text",elementId:"sponsoredLabel",trackingNode:"SPONSORED_LABEL",children:e}),b[13]=g,b[14]=e,b[15]=a):a=b[15];return a}return i}g["default"]=a}),98);
__d("PolarisSponsorsUnit.react",["fbt","IGDSText.react","IgBrandedContentEventFalcoEvent","PolarisEngagementLogger","PolarisUserLink.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useEffect,m={white:{color:"x1mzvbuk",fontSize:"x1pg5gke",lineHeight:"x152skdk",":visited_color":"x1dorbz4",":visited_fontSize":"x1tb0csp",":visited_lineHeight":"x19wia3t",$$css:!0}};function a(a){var b=a.color,d=b===void 0?"primary":b,e=a.loggingData;b=a.maxLines;var f=a.size,g=f===void 0?"body":f,i=a.source,j=a.sponsors;f=j.map(function(a){return k.jsx(n,{color:d,loggingData:e,size:g,sponsor:a},a.id)});l(function(){c("IgBrandedContentEventFalcoEvent").log(function(){var a;return{event_name:"paid_partnership_label_impression",event_source:i,media_id:e==null?void 0:e.mediaId,sponsor_ig_id:(a=j[0])==null?void 0:a.id}})},[]);var m;switch(f.length){case 0:m=h._("__JHASH__VPqAlnaM-JA__JHASH__");break;case 1:m=h._("__JHASH__j3UmEJ9LLZf__JHASH__",[h._param("username of sponsor",f[0])]);break;case 2:default:m=h._("__JHASH__o5bPUTVBTId__JHASH__",[h._param("username of sponsor 1",f[0]),h._param("username of sponsor 2",f[1])]);break}return k.jsx(c("IGDSText.react"),{color:d==="white"?"textOnMedia":"primaryText",maxLines:b,size:g,testid:void 0,children:m})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=a.color,e=a.loggingData,f=a.size;a=a.sponsor;return k.jsx(c("PolarisUserLink.react"),{className:(i||(i=c("stylex")))(b==="white"&&m.white),color:b==="white"?"ig-text-on-media":void 0,onClick:e!=null?function(){return d("PolarisEngagementLogger").logOrganicBrandProfile()}:void 0,size:f,username:a.username})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisTagAvatar.react",["PolarisFastLink.react","PolarisLinkBuilder","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={root:{backgroundColor:"xnz67gz",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxSizing:"x9f619",display:"x1lliihq",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6","::after_borderTopColor":"x3fla8b","::after_borderEndColor":"x15xfwjs","::after_borderBottomColor":"x2lkfoj","::after_borderStartColor":"x17uspfg","::after_borderTopStartRadius":"x194ut8o","::after_borderTopEndRadius":"x1vzenxt","::after_borderBottomEndRadius":"xd7ygy7","::after_borderBottomStartRadius":"xt298gk","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"xoiy6we","::after_borderEndWidth":"x15xhmf9","::after_borderBottomWidth":"x1qj619r","::after_borderStartWidth":"x15tem40","::after_bottom":"x1xrz1ek","::after_content":"x1s928wv","::after_end":"x1n449xj","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_start":"x162n7g1","::after_top":"x1m1drc7",$$css:!0}};function a(a){var b=j(13),e=a.isLink,f=a.profilePictureUrl,g=a.size,i=a.tagName;a=a.xstyle;e=e===void 0?!0:e;g=g===void 0?30:g;var m;b[0]!==g?(m={height:g,width:g},b[0]=g,b[1]=m):m=b[1];g=m;b[2]!==a?(m=(h||(h=c("stylex"))).props(l.root,a),b[2]=a,b[3]=m):m=b[3];b[4]!==e||b[5]!==i||b[6]!==f||b[7]!==g?(a=e?k.jsx(c("PolarisFastLink.react"),{className:"x4gyw5p",href:d("PolarisLinkBuilder").buildTagLink(i),style_DEPRECATED:g,children:k.jsx("img",babelHelpers["extends"]({alt:""},{className:"x5yr21d x11njtxf xh8yej3"},{src:f}))}):k.jsx("img",babelHelpers["extends"]({alt:""},{className:"x5yr21d x11njtxf xh8yej3"},{src:f})),b[4]=e,b[5]=i,b[6]=f,b[7]=g,b[8]=a):a=b[8];b[9]!==m||b[10]!==g||b[11]!==a?(e=k.jsx("div",babelHelpers["extends"]({},m,{"data-testid":void 0,style:g,children:a})),b[9]=m,b[10]=g,b[11]=a,b[12]=e):e=b[12];return e}g["default"]=a}),98);
__d("PolarisTrackingCodeProvider.react",["PolarisTrackingCodeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;var k=b.c;function a(a){var b=k(10),d=a.children,e=a.isSponsored,f=a.m_pk;a=a.trackingToken;var g=j(c("PolarisTrackingCodeContext")),h;b[0]!==a||b[1]!==e||b[2]!==f?(h=a.length===0?null:{isSponsored:e,m_pk:f,trackingToken:a},b[0]=a,b[1]=e,b[2]=f,b[3]=h):h=b[3];a=h;b[4]!==a||b[5]!==g?(e=[a].concat(g),b[4]=a,b[5]=g,b[6]=e):e=b[6];f=e;h=f;b[7]!==h||b[8]!==d?(a=i.jsx(c("PolarisTrackingCodeContext").Provider,{value:h,children:d}),b[7]=h,b[8]=d,b[9]=a):a=b[9];return a}g["default"]=a}),98);
__d("ReactTextareaAutosizeWWWIG",["react-textarea-autosize"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("react-textarea-autosize")["default"]}),98);
__d("XPolarisBoostControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/b/{media_id}/",Object.freeze({context:"unknown"}),void 0);b=a;g["default"]=b}),98);
__d("cometGHLContentDisplayCheck",["cr:1824699"],(function(a,b,c,d,e,f,g){"use strict";var h=!0,i=!1;function a(a){var c=document.body;c=c==null||!c.contains(a);b("cr:1824699")&&b("cr:1824699").flap(a,{notMounted:c});if(c)return h;c=a.offsetHeight===0;b("cr:1824699")&&b("cr:1824699").flap(a,{zeroHeight:c});if(c)return i;c=Array.from(a.getElementsByTagName("img"));var d=c.length===0;b("cr:1824699")&&b("cr:1824699").flap(a,{noImages:d});if(c.length===0)return h;d=c.find(j)!=null;b("cr:1824699")&&b("cr:1824699").flap(a,{hasImageWithSize:d});if(d)return h;c=Array.from(a.getElementsByTagName("svg"));if(c.find(k)!=null)return h;d=Array.from(a.getElementsByTagName("i"));if(d.find(k)!=null)return h;b("cr:1824699")&&b("cr:1824699").flap(a,{noSuccessfulChecks:!0});return i}var j=function(a){return a.offsetHeight+a.offsetWidth>0},k=function(a){a=a.getBoundingClientRect();return a.height*a.width>0};g["default"]=a}),98);
__d("getPolarisTitleForPost",["fbt","PolarisStringUtils","polarisFormatDate"],(function(a,b,c,d,e,f,g,h){"use strict";var i="\u2026",j=140,k="M j, Y",l="g:i A",m=/,? +/;function a(a,b,e){var f,g=c("polarisFormatDate")(a.postedAt,k),n=c("polarisFormatDate")(a.postedAt,l);g=h._("__JHASH__rRZcs2l8iVf__JHASH__",[h._param("date",g),h._param("time",n)]);n=d("PolarisStringUtils").truncate((n=a.caption)!=null?n:"",{maxLength:j,omission:i,preferredCutoff:m});var o=b.fullName!=null&&b.fullName!=="";f=(f=b.fullName)!=null?f:b.username;if(n)return e===!0?h._("__JHASH__US1PO0wvjOt__JHASH__",[h._param("fullName or username",f),h._param("caption",n)]):h._("__JHASH__zc7s9tEMZNJ__JHASH__",[h._param("caption",n)]);else if(a.isVideo===!0&&o)return h._("__JHASH__ZMby4ogBxe1__JHASH__",[h._param("fullName",b.fullName),h._param("datetime",g)]);else if(o)return h._("__JHASH__7-NLTGJev2m__JHASH__",[h._param("fullName",b.fullName),h._param("datetime",g)]);else if(a.isVideo===!0)return h._("__JHASH__avazppxMEbH__JHASH__",[h._param("username",b.username),h._param("datetime",g)]);return h._("__JHASH__CVDEKuRzqhK__JHASH__",[h._param("username",b.username),h._param("datetime",g)])}g["default"]=a}),226);
__d("polarisAdsSelectors.react",["PolarisContainerModuleUtils","PolarisReactRedux.react","PolarisReportConstants","polarisCreateSelectorWithArg","polarisStorySelectors","react","usePolarisAnalyticsContext","usePolarisSponsoredStoryLoggingParams","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c,j=c("polarisCreateSelectorWithArg")(function(a){return a.ads.feed},function(a){return function(b){return a.get(b)}}),k=c("polarisCreateSelectorWithArg")(function(a){return a.ads.feed},function(a){return function(b){return a.findKey(function(a){return a.ad_id===b})}}),l=c("polarisCreateSelectorWithArg")(function(a){return a.ads.story},function(a){return function(b){return a.findKey(function(a){return a.ad_id===b})}});function a(a,b){var c=i(3),e;c[0]!==a||c[1]!==b?(e=function(c){if(a==null)return null;c=j(c,a);return b(c)},c[0]=a,c[1]=b,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function b(a,b){var c=i(3),e;c[0]!==a||c[1]!==b?(e=function(c){if(a==null)return null;c=m(c,a);return b(c)},c[0]=a,c[1]=b,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function e(a,b){var c=i(3),e;c[0]!==b||c[1]!==a?(e=function(c){return b(c.stories.currentTrayOrder.indexOf(a))},c[0]=b,c[1]=a,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}var m=c("polarisCreateSelectorWithArg")(function(a){return a.ads.story},function(a){return function(b){return a.get(b)}});function n(a,b){var c=i(3),e;c[0]!==b||c[1]!==a?(e=function(c){if(b===d("PolarisReportConstants").FRXLocation.FEED)return k(c,a);else if(b===d("PolarisReportConstants").FRXLocation.STORY)return l(c,a);return null},c[0]=b,c[1]=a,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function o(a,b,c){var e=i(4),f;e[0]!==a||e[1]!==b||e[2]!==c?(f=function(e){if(a==null)return null;var f=null;b===d("PolarisReportConstants").FRXLocation.FEED?f=j(e,a):b===d("PolarisReportConstants").FRXLocation.STORY&&(f=m(e,a));return c(f)},e[0]=a,e[1]=b,e[2]=c,e[3]=f):f=e[3];return d("PolarisReactRedux.react").useSelector(f)}function f(a,b){var e,f=i(16),g=(e=n(a,b))!=null?e:a;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){return a==null?void 0:a.tracking_token},f[0]=e):e=f[0];a=o(g,b,e);f[1]!==g?(e=function(a){return a.posts.byId.get(g)},f[1]=g,f[2]=e):e=f[2];e=d("PolarisReactRedux.react").useSelector(e);var h=d("PolarisReactRedux.react").useSelector(d("polarisStorySelectors").getCurrentReel);h=c("usePolarisSponsoredStoryLoggingParams")(h,e);e=h.adInsertedPosition;var j=h.mpk,k=h.reelId,l=h.sessionReelCounter,m=h.traySession;h=h.viewerSession;var p;f[3]===Symbol["for"]("react.memo_cache_sentinel")?(p={},f[3]=p):p=f[3];p=p;if(b===d("PolarisReportConstants").FRXLocation.STORY){f[4]!==e||f[5]!==k||f[6]!==l||f[7]!==m||f[8]!==h?(b={ad_inserted_position:e,reel_id:k,session_reel_counter:l,tray_session_id:m,viewer_session_id:h},f[4]=e,f[5]=k,f[6]=l,f[7]=m,f[8]=h,f[9]=b):b=f[9];p=b}e=c("usePolarisViewer")();k=c("usePolarisAnalyticsContext")();l=d("PolarisContainerModuleUtils").getContainerModule(k);m=e==null?void 0:e.id;f[10]!==j||f[11]!==l||f[12]!==m||f[13]!==a||f[14]!==p?(h=babelHelpers["extends"]({m_pk:j,pigeon_reserved_keyword_module:l,pk:m,source_of_action:l,tracking_token:a},p),f[10]=j,f[11]=l,f[12]=m,f[13]=a,f[14]=p,f[15]=h):h=f[15];return h}g.useFeedAdInfo=a;g.useStoryAdInfo=b;g.useStoryAdPosition=e;g.useAdPostIDFromAdIDForFRX=n;g.useAdInfoForFRX=o;g.useFRXReportAdLoggingParams=f}),98);
__d("usePolarisSponsoredStoryLoggingParams",["PolarisContainerModuleUtils","PolarisInteractionsLogger","PolarisStoriesLoggingUtils","PolarisViewpointActionUtils","polarisAdsSelectors.react","polarisRelationshipSelectors.react","polarisStorySelectors","react","usePolarisAnalyticsContext","usePolarisSelector","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a,b){var e,f,g=i(39),h;g[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(a){return a==null?void 0:a.ad_id},g[0]=h):h=g[0];h=d("polarisAdsSelectors.react").useStoryAdInfo(b==null?void 0:b.id,h);var j;g[1]!==a?(j=function(b){return b.stories.currentTrayOrder.indexOf(a==null?void 0:a.id)},g[1]=a,g[2]=j):j=g[2];j=c("usePolarisSelector")(j).toString();e=(e=a==null?void 0:a.isSponsored)!=null?e:!1;var k;g[3]===Symbol["for"]("react.memo_cache_sentinel")?(k=function(a){return a.ads.storyAdInjectionData},g[3]=k):k=g[3];k=c("usePolarisSelector")(k);var l=c("usePolarisAnalyticsContext")();l=d("PolarisContainerModuleUtils").getContainerModule(l);f=d("polarisRelationshipSelectors.react").useRelationship((f=b==null?void 0:b.ownerId)!=null?f:"");f=f!=null?d("PolarisViewpointActionUtils").getFollowStatus(f):null;var m;g[4]!==a?(m=function(b){return d("polarisStorySelectors").getGapToPreviousAd(b,a==null?void 0:a.id)},g[4]=a,g[5]=m):m=g[5];m=c("usePolarisSelector")(m);var n;g[6]!==b?(n=b!=null?d("PolarisInteractionsLogger").getMediaTypeFromPost(b).toString():null,g[6]=b,g[7]=n):n=g[7];n=n;if(g[8]!==b){var o;o=b!=null?d("PolarisViewpointActionUtils").getMPKForStoryMedia(b.id,(o=b.owner)==null?void 0:o.id):null;g[8]=b;g[9]=o}else o=g[9];o=o;var p=b==null?void 0:b.owner;p=p==null?void 0:p.id;if(g[10]!==b){var q;q=b==null?void 0:(q=b.postedAt)==null?void 0:q.toString();g[10]=b;g[11]=q}else q=g[11];q=q;var r=a==null?void 0:a.id;if(g[12]!==a){var s;s=a==null?void 0:(s=a.itemIds)==null?void 0:s.length.toString();g[12]=a;g[13]=s}else s=g[13];s=s;var t=a==null?void 0:a.type,u;g[14]!==t?(u=d("PolarisStoriesLoggingUtils").getTypeForLogging(t),g[14]=t,g[15]=u):u=g[15];t=u;var v;g[16]===Symbol["for"]("react.memo_cache_sentinel")?(u=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData(),v=u.reelCounter.toString(),g[16]=v,g[17]=u):(v=g[16],u=g[17]);v=v;var w;g[18]===Symbol["for"]("react.memo_cache_sentinel")?(w=function(a){return a==null?void 0:a.tracking_token},g[18]=w):w=g[18];b=d("polarisAdsSelectors.react").useStoryAdInfo(b==null?void 0:b.id,w);w=c("usePolarisSelector")(d("polarisStorySelectors").getStoriesContent);w=w.traySession;var x;g[19]===Symbol["for"]("react.memo_cache_sentinel")?(x=function(a){return a.stories.viewerSession},g[19]=x):x=g[19];x=c("usePolarisSelector")(x);var y=c("usePolarisViewer")();y=y==null?void 0:y.id;g[20]!==h||g[21]!==j||g[22]!==l||g[23]!==f||g[24]!==m||g[25]!==e||g[26]!==n||g[27]!==o||g[28]!==p||g[29]!==q||g[30]!==r||g[31]!==s||g[32]!==t||g[33]!==k||g[34]!==b||g[35]!==w||g[36]!==y||g[37]!==x?(u={adId:h,adInsertedPosition:j,containerModule:l,followStatus:f,gapToLastAd:m,isReelSponsored:e,loggingData:u,mediaType:n,mpk:o,ownerId:p,postedAt:q,reelId:r,reelSize:s,reelType:t,reelViewerPosition:j,sessionReelCounter:v,storyAdInjectionData:k,trackingToken:b,traySession:w,viewerId:y,viewerSession:x},g[20]=h,g[21]=j,g[22]=l,g[23]=f,g[24]=m,g[25]=e,g[26]=n,g[27]=o,g[28]=p,g[29]=q,g[30]=r,g[31]=s,g[32]=t,g[33]=k,g[34]=b,g[35]=w,g[36]=y,g[37]=x,g[38]=u):u=g[38];return u}g["default"]=a}),98);
__d("polarisVideoEventLogger",["InstagramODS","PolarisVideoLogger","polarisVideoUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.adTrackingToken,c=a.carouselParentId,d=a.dashInfo,e=a.extras,f=a.id,g=a.isAd,h=a.navChain,i=a.ownerId,j=a.streamingFormat,k=a.trackingToken;a=a.videoWidth;var l=(d==null?void 0:d.is_dash_eligible)?1:0;(d==null?void 0:d.video_dash_manifest)!=null;d=j==="dash"?"dash":"progressive";e=babelHelpers["extends"]({},e,{carouselParentId:c,id:f||"",isAd:!1,isDashEligible:l,navChain:h,ownerId:(j=i)!=null?j:"",playbackFormat:d,trackingToken:g===!0&&b!=null?b:k});a!=null&&a!==0&&(e.video_width=a);g===!0&&(e.isAd=g);return e}function a(a){return a==null?null:{adTrackingToken:a==null?void 0:a.tracking_token,isAd:!!a}}function b(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.currentVideoTime,g=a.dashInfo,i=a.duration,j=a.id,k=a.isAd,l=a.loopsCount,m=a.navChain,n=a.ownerId,o=a.sequenceNumber,p=a.streamingFormat,q=a.trackingToken;a=a.videoWidth;i={duration:d("PolarisVideoLogger").normalizeVideoEvent(i),loop_count:l,seq_num:o,time:d("PolarisVideoLogger").normalizeVideoEvent(f)};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.audioEnabled,h({adTrackingToken:b,carouselParentId:e,dashInfo:g,extras:i,id:j,isAd:k,navChain:m,ownerId:n,streamingFormat:p,trackingToken:q,videoWidth:a}))}function e(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.currentVideoTime,g=a.dashInfo,i=a.duration,j=a.id,k=a.isAd,l=a.loopsCount,m=a.navChain,n=a.ownerId,o=a.sequenceNumber,p=a.streamingFormat,q=a.trackingToken;a=a.videoWidth;i={duration:d("PolarisVideoLogger").normalizeVideoEvent(i),loop_count:l,seq_num:o,time:d("PolarisVideoLogger").normalizeVideoEvent(f)};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.audioDisabled,h({adTrackingToken:b,carouselParentId:e,dashInfo:g,extras:i,id:j,isAd:k,navChain:m,ownerId:n,streamingFormat:p,trackingToken:q,videoWidth:a}))}function f(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.dashInfo,g=a.followingStatus,i=a.id,j=a.isAd,k=a.lastStartPosition,l=a.loopsCount,m=a.navChain,n=a.ownerId,o=a.postedAt,p=a.sequenceNumber,q=a.streamingFormat,r=a.timeAsPercent,s=a.trackingToken;a=a.videoWidth;g={follow_status:(g=g)!=null?g:"not_following",loop_count:l,lsp:d("PolarisVideoLogger").normalizeVideoEvent(k),m_ts:o,playing_audio:1,radio_type:"none-none",seq_num:p,timeAsPercent:r};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.bufferingFinished,h({adTrackingToken:b,carouselParentId:e,dashInfo:f,extras:g,id:i,isAd:j,navChain:m,ownerId:n,streamingFormat:q,trackingToken:s,videoWidth:a}))}function i(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.dashInfo,g=a.followingStatus,i=a.id,j=a.isAd,k=a.loopsCount,l=a.navChain,m=a.ownerId,n=a.postedAt,o=a.sequenceNumber,p=a.streamingFormat,q=a.timeAsPercent,r=a.trackingToken;a=a.videoWidth;g={follow_status:(g=g)!=null?g:"not_following",loop_count:k,m_ts:n,playing_audio:1,radio_type:"none-none",seq_num:o,timeAsPercent:q};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.bufferingStarted,h({adTrackingToken:b,carouselParentId:e,dashInfo:f,extras:g,id:i,isAd:j,navChain:l,ownerId:m,streamingFormat:p,trackingToken:r,videoWidth:a}))}function j(a){var b=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.dashInfo,i=a.duration,j=a.exitTime,k=a.hasPlayedVideo,l=a.id,m=a.isAd,n=a.lastStartPosition,o=a.loopsCount,p=a.navChain,q=a.ownerId,r=a.sequenceNumber,s=a.streamingFormat,t=a.trackingToken;a=a.videoWidth;if(k){i={duration:(k=d("PolarisVideoLogger")).normalizeVideoEvent(i),loop_count:o,lsp:k.normalizeVideoEvent(n),playing_audio:1,seq_num:r,time:k.normalizeVideoEvent(j)};c("InstagramODS").incr("web.video.old.log_video_exited");d("polarisVideoUtils").logVideoEventWrapper(e,k.VIDEO_EVENTS.exited,h({adTrackingToken:b,carouselParentId:f,dashInfo:g,extras:i,id:l,isAd:m,navChain:p,ownerId:q,streamingFormat:s,trackingToken:t,videoWidth:a}))}}function k(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.currentVideoTime,g=a.dashInfo,i=a.droppedFrameCount,j=a.id,k=a.isAd,l=a.lastStartPosition,m=a.loopsCount,n=a.navChain,o=a.ownerId,p=a.representationId,q=a.sequenceNumber,r=a.streamingFormat,s=a.totalFrameCount,t=a.trackingToken;a=a.videoWidth;m={loop_count:m,lsp:d("PolarisVideoLogger").normalizeVideoEvent(l),playing_audio:1,representation_id:p,seq_num:q,time:d("PolarisVideoLogger").normalizeVideoEvent(f)};s!=null&&i!=null&&(m.total_frame_count=s,m.dropped_frame_count=i);d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.formatChanged,h({adTrackingToken:b,carouselParentId:e,dashInfo:g,extras:m,id:j,isAd:k,navChain:n,ownerId:o,streamingFormat:r,trackingToken:t,videoWidth:a}))}function l(a){var b=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.currentVideoTime,i=a.dashInfo,j=a.droppedFrameCount,k=a.duration,l=a.id,m=a.isAd,n=a.lastStartPosition,o=a.loopsCount,p=a.navChain,q=a.ownerId,r=a.playingAudio;r=r===void 0?1:r;var s=a.representationID,t=a.sequenceNumber,u=a.streamingFormat,v=a.totalFrameCount,w=a.trackingToken;a=a.videoWidth;k={duration:d("PolarisVideoLogger").normalizeVideoEvent(k),loop_count:o,lsp:d("PolarisVideoLogger").normalizeVideoEvent(n),playing_audio:r,seq_num:t,time:d("PolarisVideoLogger").normalizeVideoEvent(g)};v!=null&&j!=null&&(k.total_frame_count=v,k.dropped_frame_count=j);s!=null&&(k.representation_id=s);c("InstagramODS").incr("web.video.old.log_video_paused");d("polarisVideoUtils").logVideoEventWrapper(e,d("PolarisVideoLogger").VIDEO_EVENTS.paused,h({adTrackingToken:b,carouselParentId:f,dashInfo:i,extras:k,id:l,isAd:m,navChain:p,ownerId:q,streamingFormat:u,trackingToken:w,videoWidth:a}))}function m(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.dashInfo,g=a.fromTime,i=a.id,j=a.isAd,k=a.navChain,l=a.ownerId,m=a.sequenceNumber,n=a.streamingFormat,o=a.toTime,p=a.trackingToken;a=a.videoWidth;g={from_time:d("PolarisVideoLogger").normalizeVideoEvent(g),radio_type:"none-none",seq_num:m,to_time:d("PolarisVideoLogger").normalizeVideoEvent(o)};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.seek,h({adTrackingToken:b,carouselParentId:e,dashInfo:f,extras:g,id:i,isAd:j,navChain:k,ownerId:l,streamingFormat:n,trackingToken:p,videoWidth:a}))}function n(a){var b=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.currentVideoTime,i=a.dashInfo,j=a.id,k=a.isAd,l=a.navChain,m=a.ownerId,n=a.reason;n=n===void 0?"autoplay":n;var o=a.sequenceNumber,p=a.streamingFormat,q=a.trackingToken;a=a.videoWidth;n={reason:n,seq_num:o,time:d("PolarisVideoLogger").normalizeVideoEvent(g)};c("InstagramODS").incr("web.video.old.log_video_should_start");d("polarisVideoUtils").logVideoEventWrapper(e,d("PolarisVideoLogger").VIDEO_EVENTS.shouldStart,h({adTrackingToken:b,carouselParentId:f,dashInfo:i,extras:n,id:j,isAd:k,navChain:l,ownerId:m,streamingFormat:p,trackingToken:q,videoWidth:a}))}function o(a){var b=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.currentVideoTime,i=a.dashInfo,j=a.droppedFrameCount,k=a.id,l=a.isAd,m=a.lastShouldStartTime,n=a.navChain,o=a.ownerId,p=a.reason;p=p===void 0?"autoplay":p;var q=a.sequenceNumber,r=a.streamingFormat,s=a.totalFrameCount,t=a.trackingToken;a=a.videoWidth;m=m===0?0:d("PolarisVideoLogger").normalizeVideoEvent(Date.now()-m);p={reason:p,seq_num:q,start_delay:m,time:d("PolarisVideoLogger").normalizeVideoEvent(g)};s!=null&&j!=null&&(p.total_frame_count=s,p.dropped_frame_count=j);c("InstagramODS").incr("web.video.old.log_video_started_playing");d("polarisVideoUtils").logVideoEventWrapper(e,d("PolarisVideoLogger").VIDEO_EVENTS.startedPlaying,h({adTrackingToken:b,carouselParentId:f,dashInfo:i,extras:p,id:k,isAd:l,navChain:n,ownerId:o,streamingFormat:r,trackingToken:t,videoWidth:a}))}function p(a){var b,c=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.dashInfo,i=a.duration,j=a.id,k=a.isAd,l=a.lastStartPosition,m=a.loopCount,n=a.navChain,o=a.ownerId,p=a.sequenceNumber,q=a.streamingFormat,r=a.timeAtVideoPause,s=a.trackingToken;a=a.videoWidth;i={duration:(b=d("PolarisVideoLogger")).normalizeVideoEvent(i),loop_count:m,lsp:b.normalizeVideoEvent(l),seq_num:p,time:b.normalizeVideoEvent(r)};d("polarisVideoUtils").logVideoEventWrapper(e,b.VIDEO_EVENTS.fullViewedTime,h({adTrackingToken:c,carouselParentId:f,dashInfo:g,extras:i,id:j,isAd:k,navChain:n,ownerId:o,streamingFormat:q,trackingToken:s,videoWidth:a}))}function q(a){var b,c=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.dashInfo,i=a.duration,j=a.id,k=a.isAd,l=a.lastStartPosition,m=a.loopCount,n=a.navChain,o=a.ownerId,p=a.sequenceNumber,q=a.streamingFormat,r=a.timeAtVideoPause,s=a.trackingToken;a=a.videoWidth;i={duration:(b=d("PolarisVideoLogger")).normalizeVideoEvent(i),loop_count:m,lsp:b.normalizeVideoEvent(l),seq_num:p,time:b.normalizeVideoEvent(r)};d("polarisVideoUtils").logVideoEventWrapper(e,b.VIDEO_EVENTS.viewedTime,h({adTrackingToken:c,carouselParentId:f,dashInfo:g,extras:i,id:j,isAd:k,navChain:n,ownerId:o,streamingFormat:q,trackingToken:s,videoWidth:a}))}function r(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.currentVideoTime,g=a.currentViewabilityPercentage,i=a.dashInfo,j=a.id,k=a.isAd,l=a.navChain,m=a.ownerId,n=a.sequenceNumber,o=a.streamingFormat;a=a.trackingToken;g={current_viewability_percentage:g,seq_num:n,video_time_position:d("PolarisVideoLogger").normalizeVideoEvent(f)};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.viewabilityChanged,h({adTrackingToken:b,carouselParentId:e,dashInfo:i,extras:g,id:j,isAd:k,navChain:l,ownerId:m,streamingFormat:o,trackingToken:a}))}g.getAdLoggingParams=a;g.logAudioEnabled=b;g.logAudioDisabled=e;g.logVideoBufferingFinished=f;g.logVideoBufferingStarted=i;g.logVideoExitedEvent=j;g.logVideoFormatChanged=k;g.logVideoPausedEvent=l;g.logVideoSeekingEnded=m;g.logVideoShouldStart=n;g.logVideoStartedPlaying=o;g.logVideoFullViewedTime=p;g.logVideoViewedTime=q;g.logVideoViewabilityChanged=r}),98);
__d("useIGDSecureShareSheetInteractionLogger",["MessengerWebUXLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function j(a){var b=a.messageLength,c=a.recipientIDs,d=a.shareType;a=a.source;d={shareType:d,source:a};c!=null&&(d.recipientIDs=JSON.stringify(c));b!=null&&(d.messageLength=b.toString());return d}function a(a,b){return c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"igd_sharesheet_impression",extraData:j(a),flowInstanceId:a.flowInstanceId},b)}function b(){var a=i(2),b=c("MessengerWebUXLogger").useInteractionLogger(),d;a[0]!==b?(d=function(a,c){b==null?void 0:b({eventName:a,extraData:j(c),flowInstanceId:c.flowInstanceId})},a[0]=b,a[1]=d):d=a[1];return d}g.useLogShareSheetImpressionRef=a;g.useLogShareSheetInteraction=b}),98);
__d("useNoopDebuggingInfoComponent",[],(function(a,b,c,d,e,f){"use strict";var g=function(){};function a(){return[null,g]}f["default"]=a}),66);
__d("usePolarisBoostOpenBoostFlow",["CometRelay","JSResourceForInteraction","PolarisBoostCanSkipPro2Pro","PolarisBoostQPLUtils","PolarisBoostUtils.react","PolarisNavigationUtils","PolarisPromotedPostsLogger","XPolarisBoostControllerRouteBuilder","browserHistory_DO_NOT_USE","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c,j=c("JSResourceForInteraction")("IGDSPro2ProDialog.react").__setRef("usePolarisBoostOpenBoostFlow");function a(){var a=i(3),b=c("useIGDSLazyDialog")(j),e=b[0],f=d("CometRelay").useRelayEnvironment();a[0]!==e||a[1]!==f?(b=function(a){var b=a.abTestingMediaIds,g=a.analyticsContext,h=a.audioSpec,i=a.boostedStatus,j=a.flowID,k=a.mediaID,l=a.overrideReturnPath,m=a.returnPathOverride;a=a.shouldLogTapEntrypoint;l=l===void 0?!1:l;a=a===void 0?!0:a;d("PolarisBoostQPLUtils").markBoostEnterFlowStart(j);var n=d("PolarisPromotedPostsLogger").getPolarisBoostEntryPointType(g),o=new(d("PolarisPromotedPostsLogger").PolarisPromotedPostsLogger)({entry_point:n,m_pk:k,promote_flow_type:d("PolarisBoostUtils.react").getIGBoostFlowTypeFromBoostedStatus(i),waterfall_id:j});a&&o.logTapEntryPoint();i=l?m:d("browserHistory_DO_NOT_USE").getURL(d("browserHistory_DO_NOT_USE").browserHistory);var p=c("XPolarisBoostControllerRouteBuilder").buildURL({ab_test_media_ids:b,audio_asset_id:(a=h==null?void 0:h.audio_asset_id)!=null?a:void 0,audio_asset_start_time_in_ms:(l=h==null?void 0:h.audio_asset_start_time_in_ms)!=null?l:void 0,audio_cluster_id:(m=h==null?void 0:h.audio_cluster_id)!=null?m:void 0,context:g,flow_id:j,media_id:k,return_path:i}).toString(),q=function(){return e({boostUri:p,entryPoint:n,flowID:j})};d("PolarisBoostCanSkipPro2Pro").getCanSkipPro2Pro(f,n,o).then(function(a){a?(o.logIpiCacheEvent("pro_identity_boost_onboarding_complete"),d("PolarisNavigationUtils").openURL(p)):q()})["catch"](q)},a[0]=e,a[1]=f,a[2]=b):b=a[2];return b}g["default"]=a}),98);
__d("usePolarisTrackingDataURLParams",["PolarisTrackingCodeContext","PolarisTrackingConstants","PolarisTrackingNodesContext","encodeTrackingNode","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.c;function a(){var a=j(10),b=i(c("PolarisTrackingCodeContext")),e=i(c("PolarisTrackingNodesContext"));if(b.length===0||e.length===0){var f;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},a[0]=f):f=a[0];return f}if(a[1]!==e){a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a){return c("encodeTrackingNode")(a.type)},a[3]=f):f=a[3];f=e.map(f).join("");a[1]=e;a[2]=f}else f=a[2];e=f;if(a[4]!==b){a[6]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a){return(a=a==null?void 0:a.trackingToken)!=null?a:""},a[6]=f):f=a[6];f=b.map(f);a[4]=b;a[5]=f}else f=a[5];b=f;if(a[7]!==b||a[8]!==e){f=(f={},f[d("PolarisTrackingConstants").TRACKING_CODE_PARAM]=b,f[d("PolarisTrackingConstants").TRACKING_NODE_PARAM]=e,f);a[7]=b;a[8]=e;a[9]=f}else f=a[9];return f}g["default"]=a}),98);
__d("usePolarisOffsiteTrackingDataURLParams",["isPolarisAdLink","react","usePolarisTrackingDataURLParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a){var b=i(1),d=c("usePolarisTrackingDataURLParams")();if(a==null||!c("isPolarisAdLink")(a)){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];return a}return d}g["default"]=a}),98);
__d("usePolarisPost",["PolarisReactRedux.react","nullthrows","polarisPostSelectors","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a,b){var c=i(3),e;c[0]!==a||c[1]!==b?(e=function(c){c=d("polarisPostSelectors").getPostById(c,a);return b(c)},c[0]=a,c[1]=b,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function b(a,b){var e=i(3),f;e[0]!==a||e[1]!==b?(f=function(e){var f=d("polarisPostSelectors").getPostById(e,a);e=d("polarisUserSelectors").getUserByIdOrThrows(e,c("nullthrows")((e=f.owner)==null?void 0:e.id));return b(f,e)},e[0]=a,e[1]=b,e[2]=f):f=e[2];return d("PolarisReactRedux.react").useSelector(f)}g.usePost=a;g.usePostAndOwner=b}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("core-util-is-1.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){function a(a){return Array.isArray?Array.isArray(a):p(a)==="[object Array]"}g.isArray=a;function b(a){return typeof a==="boolean"}g.isBoolean=b;function c(a){return a===null}g.isNull=c;function d(a){return a==null}g.isNullOrUndefined=d;function e(a){return typeof a==="number"}g.isNumber=e;function f(a){return typeof a==="string"}g.isString=f;function h(a){return typeof a==="symbol"}g.isSymbol=h;function i(a){return a===void 0}g.isUndefined=i;function j(a){return p(a)==="[object RegExp]"}g.isRegExp=j;function k(a){return typeof a==="object"&&a!==null}g.isObject=k;function l(a){return p(a)==="[object Date]"}g.isDate=l;function m(a){return p(a)==="[object Error]"||a instanceof Error}g.isError=m;function n(a){return typeof a==="function"}g.isFunction=n;function o(a){return a===null||typeof a==="boolean"||typeof a==="number"||typeof a==="string"||typeof a==="symbol"||typeof a==="undefined"}g.isPrimitive=o;g.isBuffer=Buffer.isBuffer;function p(a){return Object.prototype.toString.call(a)}}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("immediate-3.0.6",[],(function(a,b,c,d,e,f){"use strict";c={};var g={exports:c};function h(){var b=a.MutationObserver||a.WebKitMutationObserver,c;if(process.browser)if(b){var d=0;b=new b(j);var e=a.document.createTextNode("");b.observe(e,{characterData:!0});c=function(){e.data=d=++d%2}}else if(!a.setImmediate&&typeof a.MessageChannel!=="undefined"){var f=new a.MessageChannel();f.port1.onmessage=j;c=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?c=function(){var b=a.document.createElement("script");b.onreadystatechange=function(){j(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null};a.document.documentElement.appendChild(b)}:c=function(){setTimeout(j,0)};else c=function(){process.nextTick(j)};var h,i=[];function j(){h=!0;var a,b,c=i.length;while(c){b=i;i=[];a=-1;while(++a<c)b[a]();c=i.length}h=!1}g.exports=k;function k(a){i.push(a)===1&&!h&&c()}}var i=!1;function j(){i||(i=!0,h());return g.exports}function b(a){switch(a){case void 0:return j()}}e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/Hnt8PzozZpk/
 */
__d("inherits-2.0.3",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){typeof Object.create==="function"?g.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:g.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype;a.prototype=new c();a.prototype.constructor=a}}var i=!1;function j(){i||(i=!0,h());return g.exports}c={};var k={exports:c};function l(){try{var a={};if(typeof a.inherits!=="function")throw"";k.exports=a.inherits}catch(a){k.exports=j()}}var m=!1;function n(){m||(m=!0,l());return k.exports}function a(a){switch(a){case void 0:return n()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("isarray-1.0.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a={}.toString;g.exports=Array.isArray||function(b){return a.call(b)=="[object Array]"}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("lie-3.3.0",["immediate-3.0.6"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("immediate-3.0.6"));d={};var h={exports:d};function i(){var a=g();function b(){}var c={},d=["REJECTED"],e=["FULFILLED"],f=["PENDING"];if(!process.browser)var i=["UNHANDLED"];h.exports=j;function j(a){if(typeof a!=="function")throw new TypeError("resolver must be a function");this.state=f;this.queue=[];this.outcome=void 0;process.browser||(this.handled=i);a!==b&&n(this,a)}j.prototype["finally"]=function(c){if(typeof c!=="function")return this;var d=this.constructor;return this.then(a,b);function a(a){function b(){return a}return d.resolve(c()).then(b)}function b(a){function b(){throw a}return d.resolve(c()).then(b)}};j.prototype["catch"]=function(a){return this.then(null,a)};j.prototype.then=function(a,c){if(typeof a!=="function"&&this.state===e||typeof c!=="function"&&this.state===d)return this;var g=new this.constructor(b);process.browser||this.handled===i&&(this.handled=null);if(this.state!==f){var h=this.state===e?a:c;l(g,h,this.outcome)}else this.queue.push(new k(g,a,c));return g};function k(a,b,c){this.promise=a,typeof b==="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof c==="function"&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}k.prototype.callFulfilled=function(a){c.resolve(this.promise,a)};k.prototype.otherCallFulfilled=function(a){l(this.promise,this.onFulfilled,a)};k.prototype.callRejected=function(a){c.reject(this.promise,a)};k.prototype.otherCallRejected=function(a){l(this.promise,this.onRejected,a)};function l(b,d,e){a(function(){var a;try{a=d(e)}catch(a){return c.reject(b,a)}a===b?c.reject(b,new TypeError("Cannot resolve promise with itself")):c.resolve(b,a)})}c.resolve=function(a,b){var d=o(m,b);if(d.status==="error")return c.reject(a,d.value);d=d.value;if(d)n(a,d);else{a.state=e;a.outcome=b;d=-1;var f=a.queue.length;while(++d<f)a.queue[d].callFulfilled(b)}return a};c.reject=function(b,c){b.state=d;b.outcome=c;process.browser||b.handled===i&&a(function(){b.handled===i&&process.emit("unhandledRejection",c,b)});var e=-1,f=b.queue.length;while(++e<f)b.queue[e].callRejected(c);return b};function m(a){var b=a&&a.then;if(a&&(typeof a==="object"||typeof a==="function")&&typeof b==="function")return function(){b.apply(a,arguments)}}function n(a,b){var d=!1;function e(b){if(d)return;d=!0;c.reject(a,b)}function f(b){if(d)return;d=!0;c.resolve(a,b)}function g(){b(f,e)}g=o(g);g.status==="error"&&e(g.value)}function o(a,b){var c={};try{c.value=a(b),c.status="success"}catch(a){c.status="error",c.value=a}return c}j.resolve=p;function p(a){return a instanceof this?a:c.resolve(new this(b),a)}j.reject=q;function q(a){var d=new this(b);return c.reject(d,a)}j.all=r;function r(a){var d=this;if(Object.prototype.toString.call(a)!=="[object Array]")return this.reject(new TypeError("must be an array"));var e=a.length,f=!1;if(!e)return this.resolve([]);var g=new Array(e),h=0,i=-1,j=new this(b);while(++i<e)k(a[i],i);return j;function k(b,a){d.resolve(b).then(i,function(a){f||(f=!0,c.reject(j,a))});function i(b){g[a]=b,++h===e&&!f&&(f=!0,c.resolve(j,g))}}}j.race=s;function s(a){var d=this;if(Object.prototype.toString.call(a)!=="[object Array]")return this.reject(new TypeError("must be an array"));var e=a.length,f=!1;if(!e)return this.resolve([]);var g=-1,h=new this(b);while(++g<e)i(a[g]);return h;function i(a){d.resolve(a).then(function(a){f||(f=!0,c.resolve(h,a))},function(a){f||(f=!0,c.reject(h,a))})}}}var j=!1;function k(){j||(j=!0,i());return h.exports}function c(a){switch(a){case void 0:return k()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("pako-1.0.8",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){var a=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";function b(a,b){return Object.prototype.hasOwnProperty.call(a,b)}g.assign=function(a){var c=Array.prototype.slice.call(arguments,1);while(c.length){var d=c.shift();if(!d)continue;if(typeof d!=="object")throw new TypeError(d+"must be non-object");for(var e in d)b(d,e)&&(a[e]=d[e])}return a};g.shrinkBuf=function(a,b){if(a.length===b)return a;if(a.subarray)return a.subarray(0,b);a.length=b;return a};var c={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray){a.set(b.subarray(c,c+d),e);return}for(var f=0;f<d;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f;d=0;for(b=0,c=a.length;b<c;b++)d+=a[b].length;d=new Uint8Array(d);e=0;for(b=0,c=a.length;b<c;b++)f=a[b],d.set(f,e),e+=f.length;return d}},d={arraySet:function(a,b,c,d,e){for(var f=0;f<d;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};g.setTyped=function(a){a?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,c)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,d))};g.setTyped(a)}var j=!1;function k(){j||(j=!0,i());return h.exports}var l={},m={exports:l};function n(){var a=k(),b=4,c=0,d=1,e=2;function f(a){var b=a.length;while(--b>=0)a[b]=0}var g=0,h=1,i=2,j=3,m=258,n=29,o=256,p=o+1+n,q=30,r=19,aa=2*p+1,s=15,t=16,u=7,v=256,w=16,x=17,y=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ba=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ca=512,C=new Array((p+2)*2);f(C);var da=new Array(q*2);f(da);var D=new Array(ca);f(D);var ea=new Array(m-j+1);f(ea);var fa=new Array(n);f(fa);var E=new Array(q);f(E);function ga(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length}var ha,F,G;function H(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b}function ia(a){return a<256?D[a]:D[256+(a>>>7)]}function ja(a,b){a.pending_buf[a.pending++]=b&255,a.pending_buf[a.pending++]=b>>>8&255}function I(a,b,c){a.bi_valid>t-c?(a.bi_buf|=b<<a.bi_valid&65535,ja(a,a.bi_buf),a.bi_buf=b>>t-a.bi_valid,a.bi_valid+=c-t):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function J(a,b,c){I(a,c[b*2],c[b*2+1])}function ka(a,b){var c=0;do c|=a&1,a>>>=1,c<<=1;while(--b>0);return c>>>1}function la(a){a.bi_valid===16?(ja(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)}function ma(a,b){var c=b.dyn_tree,d=b.max_code,e=b.stat_desc.static_tree,f=b.stat_desc.has_stree,g=b.stat_desc.extra_bits,h=b.stat_desc.extra_base;b=b.stat_desc.max_length;var i,j,k,l,m,n=0;for(k=0;k<=s;k++)a.bl_count[k]=0;c[a.heap[a.heap_max]*2+1]=0;for(i=a.heap_max+1;i<aa;i++){j=a.heap[i];k=c[c[j*2+1]*2+1]+1;k>b&&(k=b,n++);c[j*2+1]=k;if(j>d)continue;a.bl_count[k]++;l=0;j>=h&&(l=g[j-h]);m=c[j*2];a.opt_len+=m*(k+l);f&&(a.static_len+=m*(e[j*2+1]+l))}if(n===0)return;do{k=b-1;while(a.bl_count[k]===0)k--;a.bl_count[k]--;a.bl_count[k+1]+=2;a.bl_count[b]--;n-=2}while(n>0);for(k=b;k!==0;k--){j=a.bl_count[k];while(j!==0){m=a.heap[--i];if(m>d)continue;c[m*2+1]!==k&&(a.opt_len+=(k-c[m*2+1])*c[m*2],c[m*2+1]=k);j--}}}function na(a,b,c){var d=new Array(s+1),e=0,f;for(f=1;f<=s;f++)d[f]=e=e+c[f-1]<<1;for(f=0;f<=b;f++){c=a[f*2+1];if(c===0)continue;a[f*2]=ka(d[c]++,c)}}function K(){var a,b,c,d=new Array(s+1);b=0;for(c=0;c<n-1;c++){fa[c]=b;for(a=0;a<1<<z[c];a++)ea[b++]=c}ea[b-1]=c;b=0;for(c=0;c<16;c++){E[c]=b;for(a=0;a<1<<A[c];a++)D[b++]=c}b>>=7;for(;c<q;c++){E[c]=b<<7;for(a=0;a<1<<A[c]-7;a++)D[256+b++]=c}for(c=0;c<=s;c++)d[c]=0;a=0;while(a<=143)C[a*2+1]=8,a++,d[8]++;while(a<=255)C[a*2+1]=9,a++,d[9]++;while(a<=279)C[a*2+1]=7,a++,d[7]++;while(a<=287)C[a*2+1]=8,a++,d[8]++;na(C,p+1,d);for(a=0;a<q;a++)da[a*2+1]=5,da[a*2]=ka(a,5);ha=new ga(C,z,o+1,p,s);F=new ga(da,A,0,q,s);G=new ga(new Array(0),B,0,r,u)}function oa(a){var b;for(b=0;b<p;b++)a.dyn_ltree[b*2]=0;for(b=0;b<q;b++)a.dyn_dtree[b*2]=0;for(b=0;b<r;b++)a.bl_tree[b*2]=0;a.dyn_ltree[v*2]=1;a.opt_len=a.static_len=0;a.last_lit=a.matches=0}function L(a){a.bi_valid>8?ja(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function pa(b,c,d,e){L(b),e&&(ja(b,d),ja(b,~d)),a.arraySet(b.pending_buf,b.window,c,d,b.pending),b.pending+=d}function qa(a,b,c,d){var e=b*2,f=c*2;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function M(a,b,c){var d=a.heap[c],e=c<<1;while(e<=a.heap_len){e<a.heap_len&&qa(b,a.heap[e+1],a.heap[e],a.depth)&&e++;if(qa(b,d,a.heap[e],a.depth))break;a.heap[c]=a.heap[e];c=e;e<<=1}a.heap[c]=d}function ra(a,b,c){var d,e,f=0,g,h;if(a.last_lit!==0)do d=a.pending_buf[a.d_buf+f*2]<<8|a.pending_buf[a.d_buf+f*2+1],e=a.pending_buf[a.l_buf+f],f++,d===0?J(a,e,b):(g=ea[e],J(a,g+o+1,b),h=z[g],h!==0&&(e-=fa[g],I(a,e,h)),d--,g=ia(d),J(a,g,c),h=A[g],h!==0&&(d-=E[g],I(a,d,h)));while(f<a.last_lit);J(a,v,b)}function N(a,b){var c=b.dyn_tree,d=b.stat_desc.static_tree,e=b.stat_desc.has_stree,f=b.stat_desc.elems,g,h=-1,i;a.heap_len=0;a.heap_max=aa;for(g=0;g<f;g++)c[g*2]!==0?(a.heap[++a.heap_len]=h=g,a.depth[g]=0):c[g*2+1]=0;while(a.heap_len<2)i=a.heap[++a.heap_len]=h<2?++h:0,c[i*2]=1,a.depth[i]=0,a.opt_len--,e&&(a.static_len-=d[i*2+1]);b.max_code=h;for(g=a.heap_len>>1;g>=1;g--)M(a,c,g);i=f;do g=a.heap[1],a.heap[1]=a.heap[a.heap_len--],M(a,c,1),e=a.heap[1],a.heap[--a.heap_max]=g,a.heap[--a.heap_max]=e,c[i*2]=c[g*2]+c[e*2],a.depth[i]=(a.depth[g]>=a.depth[e]?a.depth[g]:a.depth[e])+1,c[g*2+1]=c[e*2+1]=i,a.heap[1]=i++,M(a,c,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1];ma(a,b);na(c,h,a.bl_count)}function O(a,b,c){var d,e=-1,f,g=b[0*2+1],h=0,i=7,j=4;g===0&&(i=138,j=3);b[(c+1)*2+1]=65535;for(d=0;d<=c;d++){f=g;g=b[(d+1)*2+1];if(++h<i&&f===g)continue;else h<j?a.bl_tree[f*2]+=h:f!==0?(f!==e&&a.bl_tree[f*2]++,a.bl_tree[w*2]++):h<=10?a.bl_tree[x*2]++:a.bl_tree[y*2]++;h=0;e=f;g===0?(i=138,j=3):f===g?(i=6,j=3):(i=7,j=4)}}function P(a,b,c){var d,e=-1,f,g=b[0*2+1],h=0,i=7,j=4;g===0&&(i=138,j=3);for(d=0;d<=c;d++){f=g;g=b[(d+1)*2+1];if(++h<i&&f===g)continue;else if(h<j)do J(a,f,a.bl_tree);while(--h!==0);else f!==0?(f!==e&&(J(a,f,a.bl_tree),h--),J(a,w,a.bl_tree),I(a,h-3,2)):h<=10?(J(a,x,a.bl_tree),I(a,h-3,3)):(J(a,y,a.bl_tree),I(a,h-11,7));h=0;e=f;g===0?(i=138,j=3):f===g?(i=6,j=3):(i=7,j=4)}}function Q(a){var b;O(a,a.dyn_ltree,a.l_desc.max_code);O(a,a.dyn_dtree,a.d_desc.max_code);N(a,a.bl_desc);for(b=r-1;b>=3;b--)if(a.bl_tree[ba[b]*2+1]!==0)break;a.opt_len+=3*(b+1)+5+5+4;return b}function sa(a,b,c,d){var e;I(a,b-257,5);I(a,c-1,5);I(a,d-4,4);for(e=0;e<d;e++)I(a,a.bl_tree[ba[e]*2+1],3);P(a,a.dyn_ltree,b-1);P(a,a.dyn_dtree,c-1)}function R(a){var b=4093624447,e;for(e=0;e<=31;e++,b>>>=1)if(b&1&&a.dyn_ltree[e*2]!==0)return c;if(a.dyn_ltree[9*2]!==0||a.dyn_ltree[10*2]!==0||a.dyn_ltree[13*2]!==0)return d;for(e=32;e<o;e++)if(a.dyn_ltree[e*2]!==0)return d;return c}var ta=!1;function S(a){ta||(K(),ta=!0),a.l_desc=new H(a.dyn_ltree,ha),a.d_desc=new H(a.dyn_dtree,F),a.bl_desc=new H(a.bl_tree,G),a.bi_buf=0,a.bi_valid=0,oa(a)}function T(a,b,c,d){I(a,(g<<1)+(d?1:0),3),pa(a,b,c,!0)}function U(a){I(a,h<<1,3),J(a,v,C),la(a)}function V(a,c,d,f){var g,j,k=0;a.level>0?(a.strm.data_type===e&&(a.strm.data_type=R(a)),N(a,a.l_desc),N(a,a.d_desc),k=Q(a),g=a.opt_len+3+7>>>3,j=a.static_len+3+7>>>3,j<=g&&(g=j)):g=j=d+5;d+4<=g&&c!==-1?T(a,c,d,f):a.strategy===b||j===g?(I(a,(h<<1)+(f?1:0),3),ra(a,C,da)):(I(a,(i<<1)+(f?1:0),3),sa(a,a.l_desc.max_code+1,a.d_desc.max_code+1,k+1),ra(a,a.dyn_ltree,a.dyn_dtree));oa(a);f&&L(a)}function W(a,b,c){a.pending_buf[a.d_buf+a.last_lit*2]=b>>>8&255;a.pending_buf[a.d_buf+a.last_lit*2+1]=b&255;a.pending_buf[a.l_buf+a.last_lit]=c&255;a.last_lit++;b===0?a.dyn_ltree[c*2]++:(a.matches++,b--,a.dyn_ltree[(ea[c]+o+1)*2]++,a.dyn_dtree[ia(b)*2]++);return a.last_lit===a.lit_bufsize-1}l._tr_init=S;l._tr_stored_block=T;l._tr_flush_block=V;l._tr_tally=W;l._tr_align=U}var o=!1;function p(){o||(o=!0,n());return m.exports}b={};var q={exports:b};function r(){function a(a,b,c,d){var e=a&65535|0;a=a>>>16&65535|0;var f;while(c!==0){f=c>2e3?2e3:c;c-=f;do e=e+b[d++]|0,a=a+e|0;while(--f);e%=65521;a%=65521}return e|a<<16|0}q.exports=a}var aa=!1;function s(){aa||(aa=!0,r());return q.exports}c={};var t={exports:c};function u(){function a(){var a,b=[];for(var c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=a&1?3988292384^a>>>1:a>>>1;b[c]=a}return b}var b=a();function c(a,c,d,e){var f=b;d=e+d;a^=-1;for(e=e;e<d;e++)a=a>>>8^f[(a^c[e])&255];return a^-1}t.exports=c}var v=!1;function w(){v||(v=!0,u());return t.exports}d={};var x={exports:d};function y(){x.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}}var z=!1;function A(){z||(z=!0,y());return x.exports}var B={},ba={exports:B};function ca(){var a=k(),b=p(),c=s(),d=w(),e=A(),f=0,g=1,h=3,i=4,j=5,l=0,m=1,n=-2,o=-3,q=-5,r=-1,aa=1,t=2,u=3,v=4,x=0,y=2,z=8,ba=9,ca=15,C=8,da=29,D=256,ea=D+1+da,fa=30,E=19,ga=2*ea+1,ha=15,F=3,G=258,H=G+F+1,ia=32,ja=42,I=69,J=73,ka=91,la=103,ma=113,na=666,K=1,oa=2,L=3,pa=4,qa=3;function M(a,b){a.msg=e[b];return b}function ra(a){return(a<<1)-(a>4?9:0)}function N(a){var b=a.length;while(--b>=0)a[b]=0}function O(b){var c=b.state,d=c.pending;d>b.avail_out&&(d=b.avail_out);if(d===0)return;a.arraySet(b.output,c.pending_buf,c.pending_out,d,b.next_out);b.next_out+=d;c.pending_out+=d;b.total_out+=d;b.avail_out-=d;c.pending-=d;c.pending===0&&(c.pending_out=0)}function P(a,c){b._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,c),a.block_start=a.strstart,O(a.strm)}function Q(a,b){a.pending_buf[a.pending++]=b}function sa(a,b){a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=b&255}function R(b,e,f,g){var h=b.avail_in;h>g&&(h=g);if(h===0)return 0;b.avail_in-=h;a.arraySet(e,b.input,b.next_in,h,f);b.state.wrap===1?b.adler=c(b.adler,e,h,f):b.state.wrap===2&&(b.adler=d(b.adler,e,h,f));b.next_in+=h;b.total_in+=h;return h}function ta(a,b){var c=a.max_chain_length,d=a.strstart,e,f=a.prev_length,g=a.nice_match,h=a.strstart>a.w_size-H?a.strstart-(a.w_size-H):0,i=a.window,j=a.w_mask,k=a.prev,l=a.strstart+G,m=i[d+f-1],n=i[d+f];a.prev_length>=a.good_match&&(c>>=2);g>a.lookahead&&(g=a.lookahead);do{e=b;if(i[e+f]!==n||i[e+f-1]!==m||i[e]!==i[d]||i[++e]!==i[d+1])continue;d+=2;e++;do;while(i[++d]===i[++e]&&i[++d]===i[++e]&&i[++d]===i[++e]&&i[++d]===i[++e]&&i[++d]===i[++e]&&i[++d]===i[++e]&&i[++d]===i[++e]&&i[++d]===i[++e]&&d<l);e=G-(l-d);d=l-G;if(e>f){a.match_start=b;f=e;if(e>=g)break;m=i[d+f-1];n=i[d+f]}}while((b=k[b&j])>h&&--c!==0);return f<=a.lookahead?f:a.lookahead}function S(b){var c=b.w_size,d,e,f,g;do{g=b.window_size-b.lookahead-b.strstart;if(b.strstart>=c+(c-H)){a.arraySet(b.window,b.window,c,c,0);b.match_start-=c;b.strstart-=c;b.block_start-=c;e=b.hash_size;d=e;do f=b.head[--d],b.head[d]=f>=c?f-c:0;while(--e);e=c;d=e;do f=b.prev[--d],b.prev[d]=f>=c?f-c:0;while(--e);g+=c}if(b.strm.avail_in===0)break;e=R(b.strm,b.window,b.strstart+b.lookahead,g);b.lookahead+=e;if(b.lookahead+b.insert>=F){f=b.strstart-b.insert;b.ins_h=b.window[f];b.ins_h=(b.ins_h<<b.hash_shift^b.window[f+1])&b.hash_mask;while(b.insert){b.ins_h=(b.ins_h<<b.hash_shift^b.window[f+F-1])&b.hash_mask;b.prev[f&b.w_mask]=b.head[b.ins_h];b.head[b.ins_h]=f;f++;b.insert--;if(b.lookahead+b.insert<F)break}}}while(b.lookahead<H&&b.strm.avail_in!==0)}function T(a,b){var c=65535;c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);for(;;){if(a.lookahead<=1){S(a);if(a.lookahead===0&&b===f)return K;if(a.lookahead===0)break}a.strstart+=a.lookahead;a.lookahead=0;var d=a.block_start+c;if(a.strstart===0||a.strstart>=d){a.lookahead=a.strstart-d;a.strstart=d;P(a,!1);if(a.strm.avail_out===0)return K}if(a.strstart-a.block_start>=a.w_size-H){P(a,!1);if(a.strm.avail_out===0)return K}}a.insert=0;if(b===i){P(a,!0);return a.strm.avail_out===0?L:pa}if(a.strstart>a.block_start){P(a,!1);if(a.strm.avail_out===0)return K}return K}function U(a,c){var d;for(;;){if(a.lookahead<H){S(a);if(a.lookahead<H&&c===f)return K;if(a.lookahead===0)break}d=0;a.lookahead>=F&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+F-1])&a.hash_mask,d=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);d!==0&&a.strstart-d<=a.w_size-H&&(a.match_length=ta(a,d));if(a.match_length>=F){d=b._tr_tally(a,a.strstart-a.match_start,a.match_length-F);a.lookahead-=a.match_length;if(a.match_length<=a.max_lazy_match&&a.lookahead>=F){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+F-1])&a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(--a.match_length!==0);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask}else d=b._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d){P(a,!1);if(a.strm.avail_out===0)return K}}a.insert=a.strstart<F-1?a.strstart:F-1;if(c===i){P(a,!0);return a.strm.avail_out===0?L:pa}if(a.last_lit){P(a,!1);if(a.strm.avail_out===0)return K}return oa}function V(a,c){var d,e;for(;;){if(a.lookahead<H){S(a);if(a.lookahead<H&&c===f)return K;if(a.lookahead===0)break}d=0;a.lookahead>=F&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+F-1])&a.hash_mask,d=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);a.prev_length=a.match_length;a.prev_match=a.match_start;a.match_length=F-1;d!==0&&a.prev_length<a.max_lazy_match&&a.strstart-d<=a.w_size-H&&(a.match_length=ta(a,d),a.match_length<=5&&(a.strategy===aa||a.match_length===F&&a.strstart-a.match_start>4096)&&(a.match_length=F-1));if(a.prev_length>=F&&a.match_length<=a.prev_length){d=a.strstart+a.lookahead-F;e=b._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-F);a.lookahead-=a.prev_length-1;a.prev_length-=2;do++a.strstart<=d&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+F-1])&a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(--a.prev_length!==0);a.match_available=0;a.match_length=F-1;a.strstart++;if(e){P(a,!1);if(a.strm.avail_out===0)return K}}else if(a.match_available){e=b._tr_tally(a,0,a.window[a.strstart-1]);e&&P(a,!1);a.strstart++;a.lookahead--;if(a.strm.avail_out===0)return K}else a.match_available=1,a.strstart++,a.lookahead--}a.match_available&&(b._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0);a.insert=a.strstart<F-1?a.strstart:F-1;if(c===i){P(a,!0);return a.strm.avail_out===0?L:pa}if(a.last_lit){P(a,!1);if(a.strm.avail_out===0)return K}return oa}function W(a,c){var d,e,g,h=a.window;for(;;){if(a.lookahead<=G){S(a);if(a.lookahead<=G&&c===f)return K;if(a.lookahead===0)break}a.match_length=0;if(a.lookahead>=F&&a.strstart>0){e=a.strstart-1;d=h[e];if(d===h[++e]&&d===h[++e]&&d===h[++e]){g=a.strstart+G;do;while(d===h[++e]&&d===h[++e]&&d===h[++e]&&d===h[++e]&&d===h[++e]&&d===h[++e]&&d===h[++e]&&d===h[++e]&&e<g);a.match_length=G-(g-e);a.match_length>a.lookahead&&(a.match_length=a.lookahead)}}a.match_length>=F?(d=b._tr_tally(a,1,a.match_length-F),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(d=b._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++);if(d){P(a,!1);if(a.strm.avail_out===0)return K}}a.insert=0;if(c===i){P(a,!0);return a.strm.avail_out===0?L:pa}if(a.last_lit){P(a,!1);if(a.strm.avail_out===0)return K}return oa}function X(a,c){var d;for(;;){if(a.lookahead===0){S(a);if(a.lookahead===0){if(c===f)return K;break}}a.match_length=0;d=b._tr_tally(a,0,a.window[a.strstart]);a.lookahead--;a.strstart++;if(d){P(a,!1);if(a.strm.avail_out===0)return K}}a.insert=0;if(c===i){P(a,!0);return a.strm.avail_out===0?L:pa}if(a.last_lit){P(a,!1);if(a.strm.avail_out===0)return K}return oa}function ua(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e}var va;va=[new ua(0,0,0,0,T),new ua(4,4,8,4,U),new ua(4,5,16,8,U),new ua(4,6,32,32,U),new ua(4,4,16,16,V),new ua(8,16,32,32,V),new ua(8,16,128,128,V),new ua(8,32,128,256,V),new ua(32,128,258,1024,V),new ua(32,258,258,4096,V)];function wa(a){a.window_size=2*a.w_size,N(a.head),a.max_lazy_match=va[a.level].max_lazy,a.good_match=va[a.level].good_length,a.nice_match=va[a.level].nice_length,a.max_chain_length=va[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=F-1,a.match_available=0,a.ins_h=0}function Y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(ga*2),this.dyn_dtree=new a.Buf16((2*fa+1)*2),this.bl_tree=new a.Buf16((2*E+1)*2),N(this.dyn_ltree),N(this.dyn_dtree),N(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(ha+1),this.heap=new a.Buf16(2*ea+1),N(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*ea+1),N(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xa(a){var c;if(!a||!a.state)return M(a,n);a.total_in=a.total_out=0;a.data_type=y;c=a.state;c.pending=0;c.pending_out=0;c.wrap<0&&(c.wrap=-c.wrap);c.status=c.wrap?ja:ma;a.adler=c.wrap===2?0:1;c.last_flush=f;b._tr_init(c);return l}function Z(a){var b=xa(a);b===l&&wa(a.state);return b}function $(a,b){if(!a||!a.state)return n;if(a.state.wrap!==2)return n;a.state.gzhead=b;return l}function ya(b,c,d,e,f,g){if(!b)return n;var h=1;c===r&&(c=6);e<0?(h=0,e=-e):e>15&&(h=2,e-=16);if(f<1||f>ba||d!==z||e<8||e>15||c<0||c>9||g<0||g>v)return M(b,n);e===8&&(e=9);var i=new Y();b.state=i;i.strm=b;i.wrap=h;i.gzhead=null;i.w_bits=e;i.w_size=1<<i.w_bits;i.w_mask=i.w_size-1;i.hash_bits=f+7;i.hash_size=1<<i.hash_bits;i.hash_mask=i.hash_size-1;i.hash_shift=~~((i.hash_bits+F-1)/F);i.window=new a.Buf8(i.w_size*2);i.head=new a.Buf16(i.hash_size);i.prev=new a.Buf16(i.w_size);i.lit_bufsize=1<<f+6;i.pending_buf_size=i.lit_bufsize*4;i.pending_buf=new a.Buf8(i.pending_buf_size);i.d_buf=1*i.lit_bufsize;i.l_buf=(1+2)*i.lit_bufsize;i.level=c;i.strategy=g;i.method=d;return Z(b)}function za(a,b){return ya(a,b,z,ca,C,x)}function Aa(a,c){var e,k;if(!a||!a.state||c>j||c<0)return a?M(a,n):n;k=a.state;if(!a.output||!a.input&&a.avail_in!==0||k.status===na&&c!==i)return M(a,a.avail_out===0?q:n);k.strm=a;e=k.last_flush;k.last_flush=c;if(k.status===ja)if(k.wrap===2)a.adler=0,Q(k,31),Q(k,139),Q(k,8),!k.gzhead?(Q(k,0),Q(k,0),Q(k,0),Q(k,0),Q(k,0),Q(k,k.level===9?2:k.strategy>=t||k.level<2?4:0),Q(k,qa),k.status=ma):(Q(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),Q(k,k.gzhead.time&255),Q(k,k.gzhead.time>>8&255),Q(k,k.gzhead.time>>16&255),Q(k,k.gzhead.time>>24&255),Q(k,k.level===9?2:k.strategy>=t||k.level<2?4:0),Q(k,k.gzhead.os&255),k.gzhead.extra&&k.gzhead.extra.length&&(Q(k,k.gzhead.extra.length&255),Q(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(a.adler=d(a.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=I);else{var o=z+(k.w_bits-8<<4)<<8,p;k.strategy>=t||k.level<2?p=0:k.level<6?p=1:k.level===6?p=2:p=3;o|=p<<6;k.strstart!==0&&(o|=ia);o+=31-o%31;k.status=ma;sa(k,o);k.strstart!==0&&(sa(k,a.adler>>>16),sa(k,a.adler&65535));a.adler=1}if(k.status===I)if(k.gzhead.extra){p=k.pending;while(k.gzindex<(k.gzhead.extra.length&65535)){if(k.pending===k.pending_buf_size){k.gzhead.hcrc&&k.pending>p&&(a.adler=d(a.adler,k.pending_buf,k.pending-p,p));O(a);p=k.pending;if(k.pending===k.pending_buf_size)break}Q(k,k.gzhead.extra[k.gzindex]&255);k.gzindex++}k.gzhead.hcrc&&k.pending>p&&(a.adler=d(a.adler,k.pending_buf,k.pending-p,p));k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=J)}else k.status=J;if(k.status===J)if(k.gzhead.name){p=k.pending;do{if(k.pending===k.pending_buf_size){k.gzhead.hcrc&&k.pending>p&&(a.adler=d(a.adler,k.pending_buf,k.pending-p,p));O(a);p=k.pending;if(k.pending===k.pending_buf_size){o=1;break}}k.gzindex<k.gzhead.name.length?o=k.gzhead.name.charCodeAt(k.gzindex++)&255:o=0;Q(k,o)}while(o!==0);k.gzhead.hcrc&&k.pending>p&&(a.adler=d(a.adler,k.pending_buf,k.pending-p,p));o===0&&(k.gzindex=0,k.status=ka)}else k.status=ka;if(k.status===ka)if(k.gzhead.comment){p=k.pending;do{if(k.pending===k.pending_buf_size){k.gzhead.hcrc&&k.pending>p&&(a.adler=d(a.adler,k.pending_buf,k.pending-p,p));O(a);p=k.pending;if(k.pending===k.pending_buf_size){o=1;break}}k.gzindex<k.gzhead.comment.length?o=k.gzhead.comment.charCodeAt(k.gzindex++)&255:o=0;Q(k,o)}while(o!==0);k.gzhead.hcrc&&k.pending>p&&(a.adler=d(a.adler,k.pending_buf,k.pending-p,p));o===0&&(k.status=la)}else k.status=la;k.status===la&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&O(a),k.pending+2<=k.pending_buf_size&&(Q(k,a.adler&255),Q(k,a.adler>>8&255),a.adler=0,k.status=ma)):k.status=ma);if(k.pending!==0){O(a);if(a.avail_out===0){k.last_flush=-1;return l}}else if(a.avail_in===0&&ra(c)<=ra(e)&&c!==i)return M(a,q);if(k.status===na&&a.avail_in!==0)return M(a,q);if(a.avail_in!==0||k.lookahead!==0||c!==f&&k.status!==na){p=k.strategy===t?X(k,c):k.strategy===u?W(k,c):va[k.level].func(k,c);(p===L||p===pa)&&(k.status=na);if(p===K||p===L){a.avail_out===0&&(k.last_flush=-1);return l}if(p===oa){c===g?b._tr_align(k):c!==j&&(b._tr_stored_block(k,0,0,!1),c===h&&(N(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0)));O(a);if(a.avail_out===0){k.last_flush=-1;return l}}}if(c!==i)return l;if(k.wrap<=0)return m;k.wrap===2?(Q(k,a.adler&255),Q(k,a.adler>>8&255),Q(k,a.adler>>16&255),Q(k,a.adler>>24&255),Q(k,a.total_in&255),Q(k,a.total_in>>8&255),Q(k,a.total_in>>16&255),Q(k,a.total_in>>24&255)):(sa(k,a.adler>>>16),sa(k,a.adler&65535));O(a);k.wrap>0&&(k.wrap=-k.wrap);return k.pending!==0?l:m}function Ba(a){var b;if(!a||!a.state)return n;b=a.state.status;if(b!==ja&&b!==I&&b!==J&&b!==ka&&b!==la&&b!==ma&&b!==na)return M(a,n);a.state=null;return b===ma?M(a,o):l}function Ca(b,d){var e=d.length,f,g,h,i,j;if(!b||!b.state)return n;f=b.state;g=f.wrap;if(g===2||g===1&&f.status!==ja||f.lookahead)return n;g===1&&(b.adler=c(b.adler,d,e,0));f.wrap=0;e>=f.w_size&&(g===0&&(N(f.head),f.strstart=0,f.block_start=0,f.insert=0),j=new a.Buf8(f.w_size),a.arraySet(j,d,e-f.w_size,f.w_size,0),d=j,e=f.w_size);j=b.avail_in;h=b.next_in;i=b.input;b.avail_in=e;b.next_in=0;b.input=d;S(f);while(f.lookahead>=F){e=f.strstart;d=f.lookahead-(F-1);do f.ins_h=(f.ins_h<<f.hash_shift^f.window[e+F-1])&f.hash_mask,f.prev[e&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=e,e++;while(--d);f.strstart=e;f.lookahead=F-1;S(f)}f.strstart+=f.lookahead;f.block_start=f.strstart;f.insert=f.lookahead;f.lookahead=0;f.match_length=f.prev_length=F-1;f.match_available=0;b.next_in=h;b.input=i;b.avail_in=j;f.wrap=g;return l}B.deflateInit=za;B.deflateInit2=ya;B.deflateReset=Z;B.deflateResetKeep=xa;B.deflateSetHeader=$;B.deflate=Aa;B.deflateEnd=Ba;B.deflateSetDictionary=Ca;B.deflateInfo="pako deflate (from Nodeca project)"}var C=!1;function da(){C||(C=!0,ca());return ba.exports}var D={},ea={exports:D};function fa(){var a=k(),b=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch(a){b=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){c=!1}var d=new a.Buf8(256);for(var e=0;e<256;e++)d[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;d[254]=d[254]=1;D.string2buf=function(b){var c,d,e,f,g,h=b.length,i=0;for(f=0;f<h;f++)d=b.charCodeAt(f),(d&64512)===55296&&f+1<h&&(e=b.charCodeAt(f+1),(e&64512)===56320&&(d=65536+(d-55296<<10)+(e-56320),f++)),i+=d<128?1:d<2048?2:d<65536?3:4;c=new a.Buf8(i);for(g=0,f=0;g<i;f++)d=b.charCodeAt(f),(d&64512)===55296&&f+1<h&&(e=b.charCodeAt(f+1),(e&64512)===56320&&(d=65536+(d-55296<<10)+(e-56320),f++)),d<128?c[g++]=d:d<2048?(c[g++]=192|d>>>6,c[g++]=128|d&63):d<65536?(c[g++]=224|d>>>12,c[g++]=128|d>>>6&63,c[g++]=128|d&63):(c[g++]=240|d>>>18,c[g++]=128|d>>>12&63,c[g++]=128|d>>>6&63,c[g++]=128|d&63);return c};function f(d,e){if(e<65534&&(d.subarray&&c||!d.subarray&&b))return String.fromCharCode.apply(null,a.shrinkBuf(d,e));var f="";for(var g=0;g<e;g++)f+=String.fromCharCode(d[g]);return f}D.buf2binstring=function(a){return f(a,a.length)};D.binstring2buf=function(b){var c=new a.Buf8(b.length);for(var d=0,e=c.length;d<e;d++)c[d]=b.charCodeAt(d);return c};D.buf2string=function(a,b){var c,e,g,h;b=b||a.length;var i=new Array(b*2);for(e=0,c=0;c<b;){g=a[c++];if(g<128){i[e++]=g;continue}h=d[g];if(h>4){i[e++]=65533;c+=h-1;continue}g&=h===2?31:h===3?15:7;while(h>1&&c<b)g=g<<6|a[c++]&63,h--;if(h>1){i[e++]=65533;continue}g<65536?i[e++]=g:(g-=65536,i[e++]=55296|g>>10&1023,i[e++]=56320|g&1023)}return f(i,e)};D.utf8border=function(a,b){var c;b=b||a.length;b>a.length&&(b=a.length);c=b-1;while(c>=0&&(a[c]&192)===128)c--;if(c<0)return b;return c===0?b:c+d[a[c]]>b?c:b}}var E=!1;function ga(){E||(E=!0,fa());return ea.exports}f={};var ha={exports:f};function F(){function a(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}ha.exports=a}var G=!1;function H(){G||(G=!0,F());return ha.exports}var ia={},ja={exports:ia};function I(){var a=da(),b=k(),c=ga(),d=A(),e=H(),f=Object.prototype.toString,g=0,h=4,i=0,j=1,l=2,m=-1,n=0,o=8;function p(g){if(!(this instanceof p))return new p(g);this.options=b.assign({level:m,method:o,chunkSize:16384,windowBits:15,memLevel:8,strategy:n,to:""},g||{});g=this.options;g.raw&&g.windowBits>0?g.windowBits=-g.windowBits:g.gzip&&g.windowBits>0&&g.windowBits<16&&(g.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new e();this.strm.avail_out=0;var h=a.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(h!==i)throw new Error(d[h]);g.header&&a.deflateSetHeader(this.strm,g.header);if(g.dictionary){var j;typeof g.dictionary==="string"?j=c.string2buf(g.dictionary):f.call(g.dictionary)==="[object ArrayBuffer]"?j=new Uint8Array(g.dictionary):j=g.dictionary;h=a.deflateSetDictionary(this.strm,j);if(h!==i)throw new Error(d[h]);this._dict_set=!0}}p.prototype.push=function(d,e){var k=this.strm,m=this.options.chunkSize;if(this.ended)return!1;e=e===~~e?e:e===!0?h:g;typeof d==="string"?k.input=c.string2buf(d):f.call(d)==="[object ArrayBuffer]"?k.input=new Uint8Array(d):k.input=d;k.next_in=0;k.avail_in=k.input.length;do{k.avail_out===0&&(k.output=new b.Buf8(m),k.next_out=0,k.avail_out=m);d=a.deflate(k,e);if(d!==j&&d!==i){this.onEnd(d);this.ended=!0;return!1}(k.avail_out===0||k.avail_in===0&&(e===h||e===l))&&(this.options.to==="string"?this.onData(c.buf2binstring(b.shrinkBuf(k.output,k.next_out))):this.onData(b.shrinkBuf(k.output,k.next_out)))}while((k.avail_in>0||k.avail_out===0)&&d!==j);if(e===h){d=a.deflateEnd(this.strm);this.onEnd(d);this.ended=!0;return d===i}if(e===l){this.onEnd(i);k.avail_out=0;return!0}return!0};p.prototype.onData=function(a){this.chunks.push(a)};p.prototype.onEnd=function(a){a===i&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};function q(a,b){b=new p(b);b.push(a,!0);if(b.err)throw b.msg||d[b.err];return b.result}function r(a,b){b=b||{};b.raw=!0;return q(a,b)}function aa(a,b){b=b||{};b.gzip=!0;return q(a,b)}ia.Deflate=p;ia.deflate=q;ia.deflateRaw=r;ia.gzip=aa}var J=!1;function ka(){J||(J=!0,I());return ja.exports}b={};var la={exports:b};function ma(){var a=30,b=12;la.exports=function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,aa,s,t,u,v,w,x,y,z,A;e=c.state;f=c.next_in;z=c.input;g=f+(c.avail_in-5);h=c.next_out;A=c.output;d=h-(d-c.avail_out);i=h+(c.avail_out-257);j=e.dmax;k=e.wsize;l=e.whave;m=e.wnext;n=e.window;o=e.hold;p=e.bits;q=e.lencode;r=e.distcode;aa=(1<<e.lenbits)-1;s=(1<<e.distbits)-1;top:do{p<15&&(o+=z[f++]<<p,p+=8,o+=z[f++]<<p,p+=8);t=q[o&aa];dolen:for(;;){u=t>>>24;o>>>=u;p-=u;u=t>>>16&255;if(u===0)A[h++]=t&65535;else if(u&16){v=t&65535;u&=15;u&&(p<u&&(o+=z[f++]<<p,p+=8),v+=o&(1<<u)-1,o>>>=u,p-=u);p<15&&(o+=z[f++]<<p,p+=8,o+=z[f++]<<p,p+=8);t=r[o&s];dodist:for(;;){u=t>>>24;o>>>=u;p-=u;u=t>>>16&255;if(u&16){w=t&65535;u&=15;p<u&&(o+=z[f++]<<p,p+=8,p<u&&(o+=z[f++]<<p,p+=8));w+=o&(1<<u)-1;if(w>j){c.msg="invalid distance too far back";e.mode=a;break top}o>>>=u;p-=u;u=h-d;if(w>u){u=w-u;if(u>l&&e.sane){c.msg="invalid distance too far back";e.mode=a;break top}x=0;y=n;if(m===0){x+=k-u;if(u<v){v-=u;do A[h++]=n[x++];while(--u);x=h-w;y=A}}else if(m<u){x+=k+m-u;u-=m;if(u<v){v-=u;do A[h++]=n[x++];while(--u);x=0;if(m<v){u=m;v-=u;do A[h++]=n[x++];while(--u);x=h-w;y=A}}}else{x+=m-u;if(u<v){v-=u;do A[h++]=n[x++];while(--u);x=h-w;y=A}}while(v>2)A[h++]=y[x++],A[h++]=y[x++],A[h++]=y[x++],v-=3;v&&(A[h++]=y[x++],v>1&&(A[h++]=y[x++]))}else{x=h-w;do A[h++]=A[x++],A[h++]=A[x++],A[h++]=A[x++],v-=3;while(v>2);v&&(A[h++]=A[x++],v>1&&(A[h++]=A[x++]))}}else if((u&64)===0){t=r[(t&65535)+(o&(1<<u)-1)];continue dodist}else{c.msg="invalid distance code";e.mode=a;break top}break}}else if((u&64)===0){t=q[(t&65535)+(o&(1<<u)-1)];continue dolen}else if(u&32){e.mode=b;break top}else{c.msg="invalid literal/length code";e.mode=a;break top}break}}while(f<g&&h<i);v=p>>3;f-=v;p-=v<<3;o&=(1<<p)-1;c.next_in=f;c.next_out=h;c.avail_in=f<g?5+(g-f):5-(f-g);c.avail_out=h<i?257+(i-h):257-(h-i);e.hold=o;e.bits=p;return}}var na=!1;function K(){na||(na=!0,ma());return la.exports}c={};var oa={exports:c};function L(){var a=k(),b=15,c=852,d=592,e=0,f=1,g=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];oa.exports=function(k,m,n,o,p,q,r,aa){var s=aa.bits,t,u,v,w,x,y,z,A,B,ba,ca,C,da,D,ea=0,fa,E=new a.Buf16(b+1),ga=new a.Buf16(b+1),ha=0,F,G,H;for(t=0;t<=b;t++)E[t]=0;for(u=0;u<o;u++)E[m[n+u]]++;s=s;for(w=b;w>=1;w--)if(E[w]!==0)break;s>w&&(s=w);if(w===0){p[q++]=1<<24|64<<16|0;p[q++]=1<<24|64<<16|0;aa.bits=1;return 0}for(v=1;v<w;v++)if(E[v]!==0)break;s<v&&(s=v);z=1;for(t=1;t<=b;t++){z<<=1;z-=E[t];if(z<0)return-1}if(z>0&&(k===e||w!==1))return-1;ga[1]=0;for(t=1;t<b;t++)ga[t+1]=ga[t]+E[t];for(u=0;u<o;u++)m[n+u]!==0&&(r[ga[m[n+u]]++]=u);k===e?(ga=o=r,fa=19):k===f?(ga=h,ea-=257,o=i,ha-=257,fa=256):(ga=j,o=l,fa=-1);B=0;u=0;t=v;D=q;x=s;y=0;C=-1;A=1<<s;da=A-1;if(k===f&&A>c||k===g&&A>d)return 1;for(;;){F=t-y;r[u]<fa?(G=0,H=r[u]):r[u]>fa?(G=o[ha+r[u]],H=ga[ea+r[u]]):(G=32+64,H=0);ba=1<<t-y;ca=1<<x;v=ca;do ca-=ba,p[D+(B>>y)+ca]=F<<24|G<<16|H|0;while(ca!==0);ba=1<<t-1;while(B&ba)ba>>=1;ba!==0?(B&=ba-1,B+=ba):B=0;u++;if(--E[t]===0){if(t===w)break;t=m[n+r[u]]}if(t>s&&(B&da)!==C){y===0&&(y=s);D+=v;x=t-y;z=1<<x;while(x+y<w){z-=E[x+y];if(z<=0)break;x++;z<<=1}A+=1<<x;if(k===f&&A>c||k===g&&A>d)return 1;C=B&da;p[C]=s<<24|x<<16|D-q|0}}B!==0&&(p[D+B]=t-y<<24|64<<16|0);aa.bits=s;return 0}}var pa=!1;function qa(){pa||(pa=!0,L());return oa.exports}var M={},ra={exports:M};function N(){var a=k(),b=s(),c=w(),d=K(),e=qa(),f=0,g=1,h=2,i=4,j=5,l=6,m=0,n=1,o=2,p=-2,q=-3,r=-4,aa=-5,t=8,u=1,v=2,x=3,y=4,z=5,A=6,B=7,ba=8,ca=9,C=10,da=11,D=12,ea=13,fa=14,E=15,ga=16,ha=17,F=18,G=19,H=20,ia=21,ja=22,I=23,J=24,ka=25,la=26,ma=27,na=28,oa=29,L=30,pa=31,ra=32,N=852,O=592,P=15,Q=P;function sa(a){return(a>>>24&255)+(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ta(b){var c;if(!b||!b.state)return p;c=b.state;b.total_in=b.total_out=c.total=0;b.msg="";c.wrap&&(b.adler=c.wrap&1);c.mode=u;c.last=0;c.havedict=0;c.dmax=32768;c.head=null;c.hold=0;c.bits=0;c.lencode=c.lendyn=new a.Buf32(N);c.distcode=c.distdyn=new a.Buf32(O);c.sane=1;c.back=-1;return m}function S(a){var b;if(!a||!a.state)return p;b=a.state;b.wsize=0;b.whave=0;b.wnext=0;return ta(a)}function T(a,b){var c,d;if(!a||!a.state)return p;d=a.state;b<0?(c=0,b=-b):(c=(b>>4)+1,b<48&&(b&=15));if(b&&(b<8||b>15))return p;d.window!==null&&d.wbits!==b&&(d.window=null);d.wrap=c;d.wbits=b;return S(a)}function U(a,b){var c;if(!a)return p;c=new R();a.state=c;c.window=null;c=T(a,b);c!==m&&(a.state=null);return c}function V(a){return U(a,Q)}var W=!0,X,ua;function va(b){if(W){var c;X=new a.Buf32(512);ua=new a.Buf32(32);c=0;while(c<144)b.lens[c++]=8;while(c<256)b.lens[c++]=9;while(c<280)b.lens[c++]=7;while(c<288)b.lens[c++]=8;e(g,b.lens,0,288,X,0,b.work,{bits:9});c=0;while(c<32)b.lens[c++]=5;e(h,b.lens,0,32,ua,0,b.work,{bits:5});W=!1}b.lencode=X;b.lenbits=9;b.distcode=ua;b.distbits=5}function wa(b,c,d,e){var f;b=b.state;b.window===null&&(b.wsize=1<<b.wbits,b.wnext=0,b.whave=0,b.window=new a.Buf8(b.wsize));e>=b.wsize?(a.arraySet(b.window,c,d-b.wsize,b.wsize,0),b.wnext=0,b.whave=b.wsize):(f=b.wsize-b.wnext,f>e&&(f=e),a.arraySet(b.window,c,d-e,f,b.wnext),e-=f,e?(a.arraySet(b.window,c,d-e,e,0),b.wnext=e,b.whave=b.wsize):(b.wnext+=f,b.wnext===b.wsize&&(b.wnext=0),b.whave<b.wsize&&(b.whave+=f)));return 0}function Y(k,s){var w,K,qa,M,N,O,P,Q,R,ta,S,T,U,V,W,X,ua,Y,xa,Z=new a.Buf8(4),$,ya,za=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return p;w=k.state;w.mode===D&&(w.mode=ea);N=k.next_out;qa=k.output;P=k.avail_out;M=k.next_in;K=k.input;O=k.avail_in;Q=w.hold;R=w.bits;ta=O;S=P;xa=m;inf_leave:for(;;)switch(w.mode){case u:if(w.wrap===0){w.mode=ea;break}while(R<16){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}if(w.wrap&2&&Q===35615){w.check=0;Z[0]=Q&255;Z[1]=Q>>>8&255;w.check=c(w.check,Z,2,0);Q=0;R=0;w.mode=v;break}w.flags=0;w.head&&(w.head.done=!1);if(!(w.wrap&1)||(((Q&255)<<8)+(Q>>8))%31){k.msg="incorrect header check";w.mode=L;break}if((Q&15)!==t){k.msg="unknown compression method";w.mode=L;break}Q>>>=4;R-=4;Y=(Q&15)+8;if(w.wbits===0)w.wbits=Y;else if(Y>w.wbits){k.msg="invalid window size";w.mode=L;break}w.dmax=1<<Y;k.adler=w.check=1;w.mode=Q&512?C:D;Q=0;R=0;break;case v:while(R<16){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.flags=Q;if((w.flags&255)!==t){k.msg="unknown compression method";w.mode=L;break}if(w.flags&57344){k.msg="unknown header flags set";w.mode=L;break}w.head&&(w.head.text=Q>>8&1);w.flags&512&&(Z[0]=Q&255,Z[1]=Q>>>8&255,w.check=c(w.check,Z,2,0));Q=0;R=0;w.mode=x;case x:while(R<32){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.head&&(w.head.time=Q);w.flags&512&&(Z[0]=Q&255,Z[1]=Q>>>8&255,Z[2]=Q>>>16&255,Z[3]=Q>>>24&255,w.check=c(w.check,Z,4,0));Q=0;R=0;w.mode=y;case y:while(R<16){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.head&&(w.head.xflags=Q&255,w.head.os=Q>>8);w.flags&512&&(Z[0]=Q&255,Z[1]=Q>>>8&255,w.check=c(w.check,Z,2,0));Q=0;R=0;w.mode=z;case z:if(w.flags&1024){while(R<16){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.length=Q;w.head&&(w.head.extra_len=Q);w.flags&512&&(Z[0]=Q&255,Z[1]=Q>>>8&255,w.check=c(w.check,Z,2,0));Q=0;R=0}else w.head&&(w.head.extra=null);w.mode=A;case A:if(w.flags&1024){T=w.length;T>O&&(T=O);T&&(w.head&&(Y=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),a.arraySet(w.head.extra,K,M,T,Y)),w.flags&512&&(w.check=c(w.check,K,T,M)),O-=T,M+=T,w.length-=T);if(w.length)break inf_leave}w.length=0;w.mode=B;case B:if(w.flags&2048){if(O===0)break inf_leave;T=0;do Y=K[M+T++],w.head&&Y&&w.length<65536&&(w.head.name+=String.fromCharCode(Y));while(Y&&T<O);w.flags&512&&(w.check=c(w.check,K,T,M));O-=T;M+=T;if(Y)break inf_leave}else w.head&&(w.head.name=null);w.length=0;w.mode=ba;case ba:if(w.flags&4096){if(O===0)break inf_leave;T=0;do Y=K[M+T++],w.head&&Y&&w.length<65536&&(w.head.comment+=String.fromCharCode(Y));while(Y&&T<O);w.flags&512&&(w.check=c(w.check,K,T,M));O-=T;M+=T;if(Y)break inf_leave}else w.head&&(w.head.comment=null);w.mode=ca;case ca:if(w.flags&512){while(R<16){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}if(Q!==(w.check&65535)){k.msg="header crc mismatch";w.mode=L;break}Q=0;R=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0);k.adler=w.check=0;w.mode=D;break;case C:while(R<32){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}k.adler=w.check=sa(Q);Q=0;R=0;w.mode=da;case da:if(w.havedict===0){k.next_out=N;k.avail_out=P;k.next_in=M;k.avail_in=O;w.hold=Q;w.bits=R;return o}k.adler=w.check=1;w.mode=D;case D:if(s===j||s===l)break inf_leave;case ea:if(w.last){Q>>>=R&7;R-=R&7;w.mode=ma;break}while(R<3){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.last=Q&1;Q>>>=1;R-=1;switch(Q&3){case 0:w.mode=fa;break;case 1:va(w);w.mode=H;if(s===l){Q>>>=2;R-=2;break inf_leave}break;case 2:w.mode=ha;break;case 3:k.msg="invalid block type",w.mode=L}Q>>>=2;R-=2;break;case fa:Q>>>=R&7;R-=R&7;while(R<32){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}if((Q&65535)!==(Q>>>16^65535)){k.msg="invalid stored block lengths";w.mode=L;break}w.length=Q&65535;Q=0;R=0;w.mode=E;if(s===l)break inf_leave;case E:w.mode=ga;case ga:T=w.length;if(T){T>O&&(T=O);T>P&&(T=P);if(T===0)break inf_leave;a.arraySet(qa,K,M,T,N);O-=T;M+=T;P-=T;N+=T;w.length-=T;break}w.mode=D;break;case ha:while(R<14){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.nlen=(Q&31)+257;Q>>>=5;R-=5;w.ndist=(Q&31)+1;Q>>>=5;R-=5;w.ncode=(Q&15)+4;Q>>>=4;R-=4;if(w.nlen>286||w.ndist>30){k.msg="too many length or distance symbols";w.mode=L;break}w.have=0;w.mode=F;case F:while(w.have<w.ncode){while(R<3){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.lens[za[w.have++]]=Q&7;Q>>>=3;R-=3}while(w.have<19)w.lens[za[w.have++]]=0;w.lencode=w.lendyn;w.lenbits=7;$={bits:w.lenbits};xa=e(f,w.lens,0,19,w.lencode,0,w.work,$);w.lenbits=$.bits;if(xa){k.msg="invalid code lengths set";w.mode=L;break}w.have=0;w.mode=G;case G:while(w.have<w.nlen+w.ndist){for(;;){U=w.lencode[Q&(1<<w.lenbits)-1];V=U>>>24;W=U>>>16&255;X=U&65535;if(V<=R)break;if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}if(X<16)Q>>>=V,R-=V,w.lens[w.have++]=X;else{if(X===16){ya=V+2;while(R<ya){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}Q>>>=V;R-=V;if(w.have===0){k.msg="invalid bit length repeat";w.mode=L;break}Y=w.lens[w.have-1];T=3+(Q&3);Q>>>=2;R-=2}else if(X===17){ya=V+3;while(R<ya){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}Q>>>=V;R-=V;Y=0;T=3+(Q&7);Q>>>=3;R-=3}else{ya=V+7;while(R<ya){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}Q>>>=V;R-=V;Y=0;T=11+(Q&127);Q>>>=7;R-=7}if(w.have+T>w.nlen+w.ndist){k.msg="invalid bit length repeat";w.mode=L;break}while(T--)w.lens[w.have++]=Y}}if(w.mode===L)break;if(w.lens[256]===0){k.msg="invalid code -- missing end-of-block";w.mode=L;break}w.lenbits=9;$={bits:w.lenbits};xa=e(g,w.lens,0,w.nlen,w.lencode,0,w.work,$);w.lenbits=$.bits;if(xa){k.msg="invalid literal/lengths set";w.mode=L;break}w.distbits=6;w.distcode=w.distdyn;$={bits:w.distbits};xa=e(h,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,$);w.distbits=$.bits;if(xa){k.msg="invalid distances set";w.mode=L;break}w.mode=H;if(s===l)break inf_leave;case H:w.mode=ia;case ia:if(O>=6&&P>=258){k.next_out=N;k.avail_out=P;k.next_in=M;k.avail_in=O;w.hold=Q;w.bits=R;d(k,S);N=k.next_out;qa=k.output;P=k.avail_out;M=k.next_in;K=k.input;O=k.avail_in;Q=w.hold;R=w.bits;w.mode===D&&(w.back=-1);break}w.back=0;for(;;){U=w.lencode[Q&(1<<w.lenbits)-1];V=U>>>24;W=U>>>16&255;X=U&65535;if(V<=R)break;if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}if(W&&(W&240)===0){Y=V;$=W;ua=X;for(;;){U=w.lencode[ua+((Q&(1<<Y+$)-1)>>Y)];V=U>>>24;W=U>>>16&255;X=U&65535;if(Y+V<=R)break;if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}Q>>>=Y;R-=Y;w.back+=Y}Q>>>=V;R-=V;w.back+=V;w.length=X;if(W===0){w.mode=la;break}if(W&32){w.back=-1;w.mode=D;break}if(W&64){k.msg="invalid literal/length code";w.mode=L;break}w.extra=W&15;w.mode=ja;case ja:if(w.extra){ya=w.extra;while(R<ya){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.length+=Q&(1<<w.extra)-1;Q>>>=w.extra;R-=w.extra;w.back+=w.extra}w.was=w.length;w.mode=I;case I:for(;;){U=w.distcode[Q&(1<<w.distbits)-1];V=U>>>24;W=U>>>16&255;X=U&65535;if(V<=R)break;if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}if((W&240)===0){Y=V;$=W;ua=X;for(;;){U=w.distcode[ua+((Q&(1<<Y+$)-1)>>Y)];V=U>>>24;W=U>>>16&255;X=U&65535;if(Y+V<=R)break;if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}Q>>>=Y;R-=Y;w.back+=Y}Q>>>=V;R-=V;w.back+=V;if(W&64){k.msg="invalid distance code";w.mode=L;break}w.offset=X;w.extra=W&15;w.mode=J;case J:if(w.extra){ya=w.extra;while(R<ya){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.offset+=Q&(1<<w.extra)-1;Q>>>=w.extra;R-=w.extra;w.back+=w.extra}if(w.offset>w.dmax){k.msg="invalid distance too far back";w.mode=L;break}w.mode=ka;case ka:if(P===0)break inf_leave;T=S-P;if(w.offset>T){T=w.offset-T;if(T>w.whave&&w.sane){k.msg="invalid distance too far back";w.mode=L;break}T>w.wnext?(T-=w.wnext,U=w.wsize-T):U=w.wnext-T;T>w.length&&(T=w.length);$=w.window}else $=qa,U=N-w.offset,T=w.length;T>P&&(T=P);P-=T;w.length-=T;do qa[N++]=$[U++];while(--T);w.length===0&&(w.mode=ia);break;case la:if(P===0)break inf_leave;qa[N++]=w.length;P--;w.mode=ia;break;case ma:if(w.wrap){while(R<32){if(O===0)break inf_leave;O--;Q|=K[M++]<<R;R+=8}S-=P;k.total_out+=S;w.total+=S;S&&(k.adler=w.check=w.flags?c(w.check,qa,S,N-S):b(w.check,qa,S,N-S));S=P;if((w.flags?Q:sa(Q))!==w.check){k.msg="incorrect data check";w.mode=L;break}Q=0;R=0}w.mode=na;case na:if(w.wrap&&w.flags){while(R<32){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}if(Q!==(w.total&4294967295)){k.msg="incorrect length check";w.mode=L;break}Q=0;R=0}w.mode=oa;case oa:xa=n;break inf_leave;case L:xa=q;break inf_leave;case pa:return r;case ra:default:return p}k.next_out=N;k.avail_out=P;k.next_in=M;k.avail_in=O;w.hold=Q;w.bits=R;if((w.wsize||S!==k.avail_out&&w.mode<L&&(w.mode<ma||s!==i))&&wa(k,k.output,k.next_out,S-k.avail_out)){w.mode=pa;return r}ta-=k.avail_in;S-=k.avail_out;k.total_in+=ta;k.total_out+=S;w.total+=S;w.wrap&&S&&(k.adler=w.check=w.flags?c(w.check,qa,S,k.next_out-S):b(w.check,qa,S,k.next_out-S));k.data_type=w.bits+(w.last?64:0)+(w.mode===D?128:0)+(w.mode===H||w.mode===E?256:0);(ta===0&&S===0||s===i)&&xa===m&&(xa=aa);return xa}function xa(a){if(!a||!a.state)return p;var b=a.state;b.window&&(b.window=null);a.state=null;return m}function Z(a,b){if(!a||!a.state)return p;a=a.state;if((a.wrap&2)===0)return p;a.head=b;b.done=!1;return m}function $(a,c){var d=c.length,e,f;if(!a||!a.state)return p;e=a.state;if(e.wrap!==0&&e.mode!==da)return p;if(e.mode===da){f=1;f=b(f,c,d,0);if(f!==e.check)return q}f=wa(a,c,d,d);if(f){e.mode=pa;return r}e.havedict=1;return m}M.inflateReset=S;M.inflateReset2=T;M.inflateResetKeep=ta;M.inflateInit=V;M.inflateInit2=U;M.inflate=Y;M.inflateEnd=xa;M.inflateGetHeader=Z;M.inflateSetDictionary=$;M.inflateInfo="pako inflate (from Nodeca project)"}var O=!1;function P(){O||(O=!0,N());return ra.exports}d={};var Q={exports:d};function sa(){Q.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}}var R=!1;function ta(){R||(R=!0,sa());return Q.exports}f={};var S={exports:f};function T(){function a(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}S.exports=a}var U=!1;function V(){U||(U=!0,T());return S.exports}var W={},X={exports:W};function ua(){var a=P(),b=k(),c=ga(),d=ta(),e=A(),f=H(),g=V(),h=Object.prototype.toString;function i(j){if(!(this instanceof i))return new i(j);this.options=b.assign({chunkSize:16384,windowBits:0,to:""},j||{});var k=this.options;k.raw&&k.windowBits>=0&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15));k.windowBits>=0&&k.windowBits<16&&!(j&&j.windowBits)&&(k.windowBits+=32);k.windowBits>15&&k.windowBits<48&&((k.windowBits&15)===0&&(k.windowBits|=15));this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new f();this.strm.avail_out=0;j=a.inflateInit2(this.strm,k.windowBits);if(j!==d.Z_OK)throw new Error(e[j]);this.header=new g();a.inflateGetHeader(this.strm,this.header);if(k.dictionary){typeof k.dictionary==="string"?k.dictionary=c.string2buf(k.dictionary):h.call(k.dictionary)==="[object ArrayBuffer]"&&(k.dictionary=new Uint8Array(k.dictionary));if(k.raw){j=a.inflateSetDictionary(this.strm,k.dictionary);if(j!==d.Z_OK)throw new Error(e[j])}}}i.prototype.push=function(e,f){var g=this.strm,i=this.options.chunkSize,j=this.options.dictionary,k,l,m,n=!1;if(this.ended)return!1;f=f===~~f?f:f===!0?d.Z_FINISH:d.Z_NO_FLUSH;typeof e==="string"?g.input=c.binstring2buf(e):h.call(e)==="[object ArrayBuffer]"?g.input=new Uint8Array(e):g.input=e;g.next_in=0;g.avail_in=g.input.length;do{g.avail_out===0&&(g.output=new b.Buf8(i),g.next_out=0,g.avail_out=i);e=a.inflate(g,d.Z_NO_FLUSH);e===d.Z_NEED_DICT&&j&&(e=a.inflateSetDictionary(this.strm,j));e===d.Z_BUF_ERROR&&n===!0&&(e=d.Z_OK,n=!1);if(e!==d.Z_STREAM_END&&e!==d.Z_OK){this.onEnd(e);this.ended=!0;return!1}g.next_out&&((g.avail_out===0||e===d.Z_STREAM_END||g.avail_in===0&&(f===d.Z_FINISH||f===d.Z_SYNC_FLUSH))&&(this.options.to==="string"?(k=c.utf8border(g.output,g.next_out),l=g.next_out-k,m=c.buf2string(g.output,k),g.next_out=l,g.avail_out=i-l,l&&b.arraySet(g.output,g.output,k,l,0),this.onData(m)):this.onData(b.shrinkBuf(g.output,g.next_out))));g.avail_in===0&&g.avail_out===0&&(n=!0)}while((g.avail_in>0||g.avail_out===0)&&e!==d.Z_STREAM_END);e===d.Z_STREAM_END&&(f=d.Z_FINISH);if(f===d.Z_FINISH){e=a.inflateEnd(this.strm);this.onEnd(e);this.ended=!0;return e===d.Z_OK}if(f===d.Z_SYNC_FLUSH){this.onEnd(d.Z_OK);g.avail_out=0;return!0}return!0};i.prototype.onData=function(a){this.chunks.push(a)};i.prototype.onEnd=function(a){a===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};function j(a,b){b=new i(b);b.push(a,!0);if(b.err)throw b.msg||e[b.err];return b.result}function l(a,b){b=b||{};b.raw=!0;return j(a,b)}W.Inflate=i;W.inflate=j;W.inflateRaw=l;W.ungzip=j}var va=!1;function wa(){va||(va=!0,ua());return X.exports}b={};var Y={exports:b};function xa(){var a=k().assign,b=ka(),c=wa(),d=ta(),e={};a(e,b,c,d);Y.exports=e}var Z=!1;function $(){Z||(Z=!0,xa());return Y.exports}function a(a){switch(a){case void 0:return $()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("process-nextick-args-2.0.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?g.exports={nextTick:a}:g.exports=process;function a(a,b,c,d){if(typeof a!=="function")throw new TypeError('"callback" argument must be a function');var e=arguments.length,f,g;switch(e){case 0:case 1:return process.nextTick(a);case 2:return process.nextTick(function(){a.call(null,b)});case 3:return process.nextTick(function(){a.call(null,b,c)});case 4:return process.nextTick(function(){a.call(null,b,c,d)});default:f=new Array(e-1);g=0;while(g<f.length)f[g++]=arguments[g];return process.nextTick(function(){a.apply(null,f)})}}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("safe-buffer-5.1.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){var a={},b=a.Buffer;function c(a,b){for(var c in a)b[c]=a[c]}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?h.exports=a:(c(a,g),g.Buffer=d);function d(a,c,d){return b(a,c,d)}c(b,d);d.from=function(a,c,d){if(typeof a==="number")throw new TypeError("Argument must not be a number");return b(a,c,d)};d.alloc=function(a,c,d){if(typeof a!=="number")throw new TypeError("Argument must be a number");a=b(a);c!==void 0?typeof d==="string"?a.fill(c,d):a.fill(c):a.fill(0);return a};d.allocUnsafe=function(a){if(typeof a!=="number")throw new TypeError("Argument must be a number");return b(a)};d.allocUnsafeSlow=function(b){if(typeof b!=="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(b)}}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("util-deprecate-1.0.2",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports={}.deprecate}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("readable-stream-2.3.6",["safe-buffer-5.1.2","process-nextick-args-2.0.0","core-util-is-1.0.2","inherits-2.0.3","util-deprecate-1.0.2","isarray-1.0.0"],(function(a,b,c,d,e,f){"use strict";function c(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=c(b("safe-buffer-5.1.2")),h=c(b("process-nextick-args-2.0.0")),i=c(b("core-util-is-1.0.2")),j=c(b("inherits-2.0.3")),k=c(b("util-deprecate-1.0.2")),l=c(b("isarray-1.0.0"));c={};var m={exports:c};function n(){m.exports={}}var o=!1;function p(){o||(o=!0,n());return m.exports}b={};var q={exports:b};function r(){function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=g().Buffer,c={};function d(a,b,c){a.copy(b,c)}q.exports=function(){function c(){a(this,c),this.head=null,this.tail=null,this.length=0}c.prototype.push=function(a){a={data:a,next:null};this.length>0?this.tail.next=a:this.head=a;this.tail=a;++this.length};c.prototype.unshift=function(a){a={data:a,next:this.head};this.length===0&&(this.tail=a);this.head=a;++this.length};c.prototype.shift=function(){if(this.length===0)return;var a=this.head.data;this.length===1?this.head=this.tail=null:this.head=this.head.next;--this.length;return a};c.prototype.clear=function(){this.head=this.tail=null,this.length=0};c.prototype.join=function(a){if(this.length===0)return"";var b=this.head,c=""+b.data;while(b=b.next)c+=a+b.data;return c};c.prototype.concat=function(a){if(this.length===0)return b.alloc(0);if(this.length===1)return this.head.data;a=b.allocUnsafe(a>>>0);var c=this.head,e=0;while(c)d(c.data,a,e),e+=c.data.length,c=c.next;return a};return c}();c&&c.inspect&&c.inspect.custom&&(q.exports.prototype[c.inspect.custom]=function(){var a=c.inspect({length:this.length});return this.constructor.name+" "+a})}var s=!1;function t(){s||(s=!0,r());return q.exports}c={};var u={exports:c};function v(){var a=h();function b(b,c){var e=this,f=this._readableState&&this._readableState.destroyed,g=this._writableState&&this._writableState.destroyed;if(f||g){c?c(b):b&&(!this._writableState||!this._writableState.errorEmitted)&&a.nextTick(d,this,b);return this}this._readableState&&(this._readableState.destroyed=!0);this._writableState&&(this._writableState.destroyed=!0);this._destroy(b||null,function(b){!c&&b?(a.nextTick(d,e,b),e._writableState&&(e._writableState.errorEmitted=!0)):c&&c(b)});return this}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(a,b){a.emit("error",b)}u.exports={destroy:b,undestroy:c}}var w=!1;function x(){w||(w=!0,v());return u.exports}b={};var y={exports:b};function z(){var b=h();y.exports=w;function c(a){var b=this;this.next=null;this.entry=null;this.finish=function(){Q(b,a)}}var d=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:b.nextTick,e;w.WritableState=u;var f=i();f.inherits=j();var l={deprecate:k()},m=p(),n=g().Buffer,o=a.Uint8Array||function(){};function q(a){return n.from(a)}function r(a){return n.isBuffer(a)||a instanceof o}var s=x();f.inherits(w,m);function t(){}function u(a,b){e=e||F();a=a||{};var d=b instanceof e;this.objectMode=!!a.objectMode;d&&(this.objectMode=this.objectMode||!!a.writableObjectMode);var f=a.highWaterMark,g=a.writableHighWaterMark,h=this.objectMode?16:16*1024;f||f===0?this.highWaterMark=f:d&&(g||g===0)?this.highWaterMark=g:this.highWaterMark=h;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=!1;this.needDrain=!1;this.ending=!1;this.ended=!1;this.finished=!1;this.destroyed=!1;f=a.decodeStrings===!1;this.decodeStrings=!f;this.defaultEncoding=a.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(a){H(b,a)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=!1;this.errorEmitted=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new c(this)}u.prototype.getBuffer=function(){var a=this.bufferedRequest,b=[];while(a)b.push(a),a=a.next;return b};(function(){try{Object.defineProperty(u.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(a){}})();var v;typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(a){if(v.call(this,a))return!0;return this!==w?!1:a&&a._writableState instanceof u}})):v=function(a){return a instanceof this};function w(a){e=e||F();if(!v.call(w,this)&&!(this instanceof e))return new w(a);this._writableState=new u(a,this);this.writable=!0;a&&(typeof a.write==="function"&&(this._write=a.write),typeof a.writev==="function"&&(this._writev=a.writev),typeof a.destroy==="function"&&(this._destroy=a.destroy),typeof a["final"]==="function"&&(this._final=a["final"]));m.call(this)}w.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function z(a,c){var d=new Error("write after end");a.emit("error",d);b.nextTick(c,d)}function A(a,c,d,e){var f=!0,g=!1;d===null?g=new TypeError("May not write null values to stream"):typeof d!=="string"&&d!==void 0&&!c.objectMode&&(g=new TypeError("Invalid non-string/buffer chunk"));g&&(a.emit("error",g),b.nextTick(e,g),f=!1);return f}w.prototype.write=function(a,b,c){var d=this._writableState,e=!1,f=!d.objectMode&&r(a);f&&!n.isBuffer(a)&&(a=q(a));typeof b==="function"&&(c=b,b=null);f?b="buffer":b||(b=d.defaultEncoding);typeof c!=="function"&&(c=t);d.ended?z(this,c):(f||A(this,d,a,c))&&(d.pendingcb++,e=C(this,d,f,a,b,c));return e};w.prototype.cork=function(){var a=this._writableState;a.corked++};w.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,!a.writing&&!a.corked&&!a.finished&&!a.bufferProcessing&&a.bufferedRequest&&K(this,a))};w.prototype.setDefaultEncoding=function(a){typeof a==="string"&&(a=a.toLowerCase());if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);this._writableState.defaultEncoding=a;return this};function B(a,b,c){!a.objectMode&&a.decodeStrings!==!1&&typeof b==="string"&&(b=n.from(b,c));return b}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function C(a,b,c,d,e,f){if(!c){var g=B(b,d,e);d!==g&&(c=!0,e="buffer",d=g)}g=b.objectMode?1:d.length;b.length+=g;var h=b.length<b.highWaterMark;h||(b.needDrain=!0);if(b.writing||b.corked){var i=b.lastBufferedRequest;b.lastBufferedRequest={chunk:d,encoding:e,isBuf:c,callback:f,next:null};i?i.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest;b.bufferedRequestCount+=1}else D(a,b,!1,g,d,e,f);return h}function D(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function E(a,c,d,e,f){--c.pendingcb,d?(b.nextTick(f,e),b.nextTick(O,a,c),a._writableState.errorEmitted=!0,a.emit("error",e)):(f(e),a._writableState.errorEmitted=!0,a.emit("error",e),O(a,c))}function G(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function H(a,b){var c=a._writableState,e=c.sync,f=c.writecb;G(c);if(b)E(a,c,e,b,f);else{b=L(c);!b&&!c.corked&&!c.bufferProcessing&&c.bufferedRequest&&K(a,c);e?d(I,a,c,b,f):I(a,c,b,f)}}function I(a,b,c,d){c||J(a,b),b.pendingcb--,d(),O(a,b)}function J(a,b){b.length===0&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function K(a,b){b.bufferProcessing=!0;var d=b.bufferedRequest;if(a._writev&&d&&d.next){var e=b.bufferedRequestCount;e=new Array(e);var f=b.corkedRequestsFree;f.entry=d;var g=0,h=!0;while(d)e[g]=d,d.isBuf||(h=!1),d=d.next,g+=1;e.allBuffers=h;D(a,b,!0,b.length,e,"",f.finish);b.pendingcb++;b.lastBufferedRequest=null;f.next?(b.corkedRequestsFree=f.next,f.next=null):b.corkedRequestsFree=new c(b);b.bufferedRequestCount=0}else{while(d){g=d.chunk;h=d.encoding;e=d.callback;f=b.objectMode?1:g.length;D(a,b,!1,f,g,h,e);d=d.next;b.bufferedRequestCount--;if(b.writing)break}d===null&&(b.lastBufferedRequest=null)}b.bufferedRequest=d;b.bufferProcessing=!1}w.prototype._write=function(a,b,c){c(new Error("_write() is not implemented"))};w.prototype._writev=null;w.prototype.end=function(a,b,c){var d=this._writableState;typeof a==="function"?(c=a,a=null,b=null):typeof b==="function"&&(c=b,b=null);a!==null&&a!==void 0&&this.write(a,b);d.corked&&(d.corked=1,this.uncork());!d.ending&&!d.finished&&P(this,d,c)};function L(a){return a.ending&&a.length===0&&a.bufferedRequest===null&&!a.finished&&!a.writing}function M(a,b){a._final(function(c){b.pendingcb--,c&&a.emit("error",c),b.prefinished=!0,a.emit("prefinish"),O(a,b)})}function N(a,c){!c.prefinished&&!c.finalCalled&&(typeof a._final==="function"?(c.pendingcb++,c.finalCalled=!0,b.nextTick(M,a,c)):(c.prefinished=!0,a.emit("prefinish")))}function O(a,b){var c=L(b);c&&(N(a,b),b.pendingcb===0&&(b.finished=!0,a.emit("finish")));return c}function P(a,c,d){c.ending=!0,O(a,c),d&&(c.finished?b.nextTick(d):a.once("finish",d)),c.ended=!0,a.writable=!1}function Q(a,b,c){var d=a.entry;a.entry=null;while(d){var e=d.callback;b.pendingcb--;e(c);d=d.next}b.corkedRequestsFree?b.corkedRequestsFree.next=a:b.corkedRequestsFree=a}Object.defineProperty(w.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(a){if(!this._writableState)return;this._writableState.destroyed=a}});w.prototype.destroy=s.destroy;w.prototype._undestroy=s.undestroy;w.prototype._destroy=function(a,b){this.end(),b(a)}}var A=!1;function B(){A||(A=!0,z());return y.exports}c={};var C={exports:c};function D(){var a=h(),b=Object.keys||function(a){var b=[];for(a in a)b.push(a);return b};C.exports=g;var c=i();c.inherits=j();var d=O(),e=B();c.inherits(g,d);c=b(e.prototype);for(b=0;b<c.length;b++){var f=c[b];g.prototype[f]||(g.prototype[f]=e.prototype[f])}function g(a){if(!(this instanceof g))return new g(a);d.call(this,a);e.call(this,a);a&&a.readable===!1&&(this.readable=!1);a&&a.writable===!1&&(this.writable=!1);this.allowHalfOpen=!0;a&&a.allowHalfOpen===!1&&(this.allowHalfOpen=!1);this.once("end",k)}Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function k(){if(this.allowHalfOpen||this._writableState.ended)return;a.nextTick(l,this)}function l(a){a.end()}Object.defineProperty(g.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(a){if(this._readableState===void 0||this._writableState===void 0)return;this._readableState.destroyed=a;this._writableState.destroyed=a}});g.prototype._destroy=function(b,c){this.push(null),this.end(),a.nextTick(c,b)}}var E=!1;function F(){E||(E=!0,D());return C.exports}var G={},H={exports:G};function I(){var a=g().Buffer,b=a.isEncoding||function(a){a=""+a;switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(a){if(!a)return"utf8";var b;while(!0)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(b)return;a=(""+a).toLowerCase();b=!0}}function d(d){var e=c(d);if(typeof e!=="string"&&(a.isEncoding===b||!b(d)))throw new Error("Unknown encoding: "+d);return e||d}G.StringDecoder=e;function e(b){this.encoding=d(b);var c;switch(this.encoding){case"utf16le":this.text=m;this.end=n;c=4;break;case"utf8":this.fillLast=j;c=4;break;case"base64":this.text=o;this.end=p;c=3;break;default:this.write=q;this.end=r;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=a.allocUnsafe(c)}e.prototype.write=function(a){if(a.length===0)return"";var b,c;if(this.lastNeed){b=this.fillLast(a);if(b===void 0)return"";c=this.lastNeed;this.lastNeed=0}else c=0;return c<a.length?b?b+this.text(a,c):this.text(a,c):b||""};e.prototype.end=l;e.prototype.text=k;e.prototype.fillLast=function(a){if(this.lastNeed<=a.length){a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length);this.lastNeed-=a.length};function f(a){if(a<=127)return 0;else if(a>>5===6)return 2;else if(a>>4===14)return 3;else if(a>>3===30)return 4;return a>>6===2?-1:-2}function h(a,b,c){var d=b.length-1;if(d<c)return 0;var e=f(b[d]);if(e>=0){e>0&&(a.lastNeed=e-1);return e}if(--d<c||e===-2)return 0;e=f(b[d]);if(e>=0){e>0&&(a.lastNeed=e-2);return e}if(--d<c||e===-2)return 0;e=f(b[d]);if(e>=0){e>0&&(e===2?e=0:a.lastNeed=e-3);return e}return 0}function i(a,b,c){if((b[0]&192)!==128){a.lastNeed=0;return"\ufffd"}if(a.lastNeed>1&&b.length>1){if((b[1]&192)!==128){a.lastNeed=1;return"\ufffd"}if(a.lastNeed>2&&b.length>2&&(b[2]&192)!==128){a.lastNeed=2;return"\ufffd"}}}function j(a){var b=this.lastTotal-this.lastNeed,c=i(this,a,b);if(c!==void 0)return c;if(this.lastNeed<=a.length){a.copy(this.lastChar,b,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}a.copy(this.lastChar,b,0,a.length);this.lastNeed-=a.length}function k(a,b){var c=h(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=c;c=a.length-(c-this.lastNeed);a.copy(this.lastChar,0,c);return a.toString("utf8",b,c)}function l(a){a=a&&a.length?this.write(a):"";return this.lastNeed?a+"\ufffd":a}function m(a,b){if((a.length-b)%2===0){var c=a.toString("utf16le",b);if(c){var d=c.charCodeAt(c.length-1);if(d>=55296&&d<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=a[a.length-2];this.lastChar[1]=a[a.length-1];return c.slice(0,-1)}}return c}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=a[a.length-1];return a.toString("utf16le",b,a.length-1)}function n(a){a=a&&a.length?this.write(a):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return a+this.lastChar.toString("utf16le",0,b)}return a}function o(a,b){var c=(a.length-b)%3;if(c===0)return a.toString("base64",b);this.lastNeed=3-c;this.lastTotal=3;c===1?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]);return a.toString("base64",b,a.length-c)}function p(a){a=a&&a.length?this.write(a):"";return this.lastNeed?a+this.lastChar.toString("base64",0,3-this.lastNeed):a}function q(a){return a.toString(this.encoding)}function r(a){return a&&a.length?this.write(a):""}}var J=!1;function K(){J||(J=!0,I());return H.exports}b={};var L={exports:b};function M(){var b=h();L.exports=A;var c=l(),d;A.ReadableState=z;var e=function(a,b){return a.listeners(b).length},f=p(),k=g().Buffer,m=a.Uint8Array||function(){};function n(a){return k.from(a)}function o(a){return k.isBuffer(a)||a instanceof m}var q=i();q.inherits=j();var r={},s=void 0;r&&r.debuglog?s=r.debuglog("stream"):s=function(){};var u=t();r=x();var v;q.inherits(A,f);var w=["error","close","destroy","pause","resume"];function y(a,b,d){if(typeof a.prependListener==="function")return a.prependListener(b,d);!a._events||!a._events[b]?a.on(b,d):c(a._events[b])?a._events[b].unshift(d):a._events[b]=[d,a._events[b]]}function z(a,b){d=d||F();a=a||{};b=b instanceof d;this.objectMode=!!a.objectMode;b&&(this.objectMode=this.objectMode||!!a.readableObjectMode);var c=a.highWaterMark,e=a.readableHighWaterMark,f=this.objectMode?16:16*1024;c||c===0?this.highWaterMark=c:b&&(e||e===0)?this.highWaterMark=e:this.highWaterMark=f;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new u();this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=!1;this.endEmitted=!1;this.reading=!1;this.sync=!0;this.needReadable=!1;this.emittedReadable=!1;this.readableListening=!1;this.resumeScheduled=!1;this.destroyed=!1;this.defaultEncoding=a.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=!1;this.decoder=null;this.encoding=null;a.encoding&&(v||(v=K("/").StringDecoder),this.decoder=new v(a.encoding),this.encoding=a.encoding)}function A(a){d=d||F();if(!(this instanceof A))return new A(a);this._readableState=new z(a,this);this.readable=!0;a&&(typeof a.read==="function"&&(this._read=a.read),typeof a.destroy==="function"&&(this._destroy=a.destroy));f.call(this)}Object.defineProperty(A.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(a){if(!this._readableState)return;this._readableState.destroyed=a}});A.prototype.destroy=r.destroy;A.prototype._undestroy=r.undestroy;A.prototype._destroy=function(a,b){this.push(null),b(a)};A.prototype.push=function(a,b){var c=this._readableState,d;!c.objectMode?typeof a==="string"&&(b=b||c.defaultEncoding,b!==c.encoding&&(a=k.from(a,b),b=""),d=!0):d=!0;return B(this,a,b,!1,d)};A.prototype.unshift=function(a){return B(this,a,null,!0,!1)};function B(a,b,c,d,e){var f=a._readableState;if(b===null)f.reading=!1,J(a,f);else{var g;e||(g=D(f,b));g?a.emit("error",g):f.objectMode||b&&b.length>0?(typeof b!=="string"&&!f.objectMode&&Object.getPrototypeOf(b)!==k.prototype&&(b=n(b)),d?f.endEmitted?a.emit("error",new Error("stream.unshift() after end event")):C(a,f,b,!0):f.ended?a.emit("error",new Error("stream.push() after EOF")):(f.reading=!1,f.decoder&&!c?(b=f.decoder.write(b),f.objectMode||b.length!==0?C(a,f,b,!1):O(a,f)):C(a,f,b,!1))):d||(f.reading=!1)}return E(f)}function C(a,b,c,d){b.flowing&&b.length===0&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&M(a)),O(a,b)}function D(a,b){var c;!o(b)&&typeof b!=="string"&&b!==void 0&&!a.objectMode&&(c=new TypeError("Invalid non-string/buffer chunk"));return c}function E(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||a.length===0)}A.prototype.isPaused=function(){return this._readableState.flowing===!1};A.prototype.setEncoding=function(a){v||(v=K("/").StringDecoder);this._readableState.decoder=new v(a);this._readableState.encoding=a;return this};var G=8388608;function H(a){a>=G?a=G:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++);return a}function I(a,b){if(a<=0||b.length===0&&b.ended)return 0;if(b.objectMode)return 1;if(a!==a)if(b.flowing&&b.length)return b.buffer.head.data.length;else return b.length;a>b.highWaterMark&&(b.highWaterMark=H(a));if(a<=b.length)return a;if(!b.ended){b.needReadable=!0;return 0}return b.length}A.prototype.read=function(a){s("read",a);a=parseInt(a,10);var b=this._readableState,c=a;a!==0&&(b.emittedReadable=!1);if(a===0&&b.needReadable&&(b.length>=b.highWaterMark||b.ended)){s("read: emitReadable",b.length,b.ended);b.length===0&&b.ended?Z(this):M(this);return null}a=I(a,b);if(a===0&&b.ended){b.length===0&&Z(this);return null}var d=b.needReadable;s("need readable",d);(b.length===0||b.length-a<b.highWaterMark)&&(d=!0,s("length less than watermark",d));b.ended||b.reading?(d=!1,s("reading or ended",d)):d&&(s("do read"),b.reading=!0,b.sync=!0,b.length===0&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=I(c,b)));a>0?d=V(a,b):d=null;d===null?(b.needReadable=!0,a=0):b.length-=a;b.length===0&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&Z(this));d!==null&&this.emit("data",d);return d};function J(a,b){if(b.ended)return;if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0;M(a)}function M(a){var c=a._readableState;c.needReadable=!1;c.emittedReadable||(s("emitReadable",c.flowing),c.emittedReadable=!0,c.sync?b.nextTick(N,a):N(a))}function N(a){s("emit readable"),a.emit("readable"),U(a)}function O(a,c){c.readingMore||(c.readingMore=!0,b.nextTick(P,a,c))}function P(a,b){var c=b.length;while(!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark){s("maybeReadMore read 0");a.read(0);if(c===b.length)break;else c=b.length}b.readingMore=!1}A.prototype._read=function(a){this.emit("error",new Error("_read() is not implemented"))};A.prototype.pipe=function(a,c){var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=a;break;case 1:f.pipes=[f.pipes,a];break;default:f.pipes.push(a);break}f.pipesCount+=1;s("pipe count=%d opts=%j",f.pipesCount,c);c=(!c||c.end!==!1)&&a!==process.stdout&&a!==process.stderr;c=c?h:q;f.endEmitted?b.nextTick(c):d.once("end",c);a.on("unpipe",g);function g(a,b){s("onunpipe"),a===d&&(b&&b.hasUnpiped===!1&&(b.hasUnpiped=!0,k()))}function h(){s("onend"),a.end()}var i=Q(d);a.on("drain",i);var j=!1;function k(){s("cleanup"),a.removeListener("close",o),a.removeListener("finish",p),a.removeListener("drain",i),a.removeListener("error",n),a.removeListener("unpipe",g),d.removeListener("end",h),d.removeListener("end",q),d.removeListener("data",m),j=!0,f.awaitDrain&&(!a._writableState||a._writableState.needDrain)&&i()}var l=!1;d.on("data",m);function m(b){s("ondata");l=!1;b=a.write(b);!1===b&&!l&&((f.pipesCount===1&&f.pipes===a||f.pipesCount>1&&aa(f.pipes,a)!==-1)&&!j&&(s("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,l=!0),d.pause())}function n(b){s("onerror",b),q(),a.removeListener("error",n),e(a,"error")===0&&a.emit("error",b)}y(a,"error",n);function o(){a.removeListener("finish",p),q()}a.once("close",o);function p(){s("onfinish"),a.removeListener("close",o),q()}a.once("finish",p);function q(){s("unpipe"),d.unpipe(a)}a.emit("pipe",d);f.flowing||(s("pipe resume"),d.resume());return a};function Q(a){return function(){var b=a._readableState;s("pipeOnDrain",b.awaitDrain);b.awaitDrain&&b.awaitDrain--;b.awaitDrain===0&&e(a,"data")&&(b.flowing=!0,U(a))}}A.prototype.unpipe=function(a){var b=this._readableState,c={hasUnpiped:!1};if(b.pipesCount===0)return this;if(b.pipesCount===1){if(a&&a!==b.pipes)return this;a||(a=b.pipes);b.pipes=null;b.pipesCount=0;b.flowing=!1;a&&a.emit("unpipe",this,c);return this}if(!a){var d=b.pipes,e=b.pipesCount;b.pipes=null;b.pipesCount=0;b.flowing=!1;for(var f=0;f<e;f++)d[f].emit("unpipe",this,c);return this}d=aa(b.pipes,a);if(d===-1)return this;b.pipes.splice(d,1);b.pipesCount-=1;b.pipesCount===1&&(b.pipes=b.pipes[0]);a.emit("unpipe",this,c);return this};A.prototype.on=function(a,c){c=f.prototype.on.call(this,a,c);if(a==="data")this._readableState.flowing!==!1&&this.resume();else if(a==="readable"){a=this._readableState;!a.endEmitted&&!a.readableListening&&(a.readableListening=a.needReadable=!0,a.emittedReadable=!1,!a.reading?b.nextTick(R,this):a.length&&M(this))}return c};A.prototype.addListener=A.prototype.on;function R(a){s("readable nexttick read 0"),a.read(0)}A.prototype.resume=function(){var a=this._readableState;a.flowing||(s("resume"),a.flowing=!0,S(this,a));return this};function S(a,c){c.resumeScheduled||(c.resumeScheduled=!0,b.nextTick(T,a,c))}function T(a,b){b.reading||(s("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),U(a),b.flowing&&!b.reading&&a.read(0)}A.prototype.pause=function(){s("call pause flowing=%j",this._readableState.flowing);!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause"));return this};function U(a){var b=a._readableState;s("flow",b.flowing);while(b.flowing&&a.read()!==null);}A.prototype.wrap=function(a){var b=this,c=this._readableState,d=!1;a.on("end",function(){s("wrapped end");if(c.decoder&&!c.ended){var a=c.decoder.end();a&&a.length&&b.push(a)}b.push(null)});a.on("data",function(e){s("wrapped data");c.decoder&&(e=c.decoder.write(e));if(c.objectMode&&(e===null||e===void 0))return;else if(!c.objectMode&&(!e||!e.length))return;e=b.push(e);e||(d=!0,a.pause())});for(var e in a)this[e]===void 0&&typeof a[e]==="function"&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));for(e=0;e<w.length;e++)a.on(w[e],this.emit.bind(this,w[e]));this._read=function(b){s("wrapped _read",b),d&&(d=!1,a.resume())};return this};Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});A._fromList=V;function V(a,b){if(b.length===0)return null;var c;b.objectMode?c=b.buffer.shift():!a||a>=b.length?(b.decoder?c=b.buffer.join(""):b.buffer.length===1?c=b.buffer.head.data:c=b.buffer.concat(b.length),b.buffer.clear()):c=W(a,b.buffer,b.decoder);return c}function W(a,b,c){var d;a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):a===b.head.data.length?d=b.shift():d=c?X(a,b):Y(a,b);return d}function X(a,b){var c=b.head,d=1,e=c.data;a-=e.length;while(c=c.next){var f=c.data,g=a>f.length?f.length:a;g===f.length?e+=f:e+=f.slice(0,a);a-=g;if(a===0){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}b.length-=d;return e}function Y(a,b){var c=k.allocUnsafe(a),d=b.head,e=1;d.data.copy(c);a-=d.data.length;while(d=d.next){var f=d.data,g=a>f.length?f.length:a;f.copy(c,c.length-a,0,g);a-=g;if(a===0){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}b.length-=e;return c}function Z(a){var c=a._readableState;if(c.length>0)throw new Error('"endReadable()" called on non-empty stream');c.endEmitted||(c.ended=!0,b.nextTick($,c,a))}function $(a,b){!a.endEmitted&&a.length===0&&(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function aa(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}}var N=!1;function O(){N||(N=!0,M());return L.exports}c={};var P={exports:c};function Q(){P.exports=d;var a=F(),b=i();b.inherits=j();b.inherits(d,a);function c(a,b){var c=this._transformState;c.transforming=!1;var d=c.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));c.writechunk=null;c.writecb=null;b!=null&&this.push(b);d(a);c=this._readableState;c.reading=!1;(c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}function d(b){if(!(this instanceof d))return new d(b);a.call(this,b);this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=!0;this._readableState.sync=!1;b&&(typeof b.transform==="function"&&(this._transform=b.transform),typeof b.flush==="function"&&(this._flush=b.flush));this.on("prefinish",e)}function e(){var a=this;typeof this._flush==="function"?this._flush(function(b,c){f(a,b,c)}):f(this,null,null)}d.prototype.push=function(b,c){this._transformState.needTransform=!1;return a.prototype.push.call(this,b,c)};d.prototype._transform=function(a,b,c){throw new Error("_transform() is not implemented")};d.prototype._write=function(a,b,c){var d=this._transformState;d.writecb=c;d.writechunk=a;d.writeencoding=b;if(!d.transforming){c=this._readableState;(d.needTransform||c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}};d.prototype._read=function(a){a=this._transformState;a.writechunk!==null&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0};d.prototype._destroy=function(b,c){var d=this;a.prototype._destroy.call(this,b,function(a){c(a),d.emit("close")})};function f(a,b,c){if(b)return a.emit("error",b);c!=null&&a.push(c);if(a._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(a._transformState.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}}var R=!1;function S(){R||(R=!0,Q());return P.exports}b={};var T={exports:b};function U(){T.exports=c;var a=S(),b=i();b.inherits=j();b.inherits(c,a);function c(b){if(!(this instanceof c))return new c(b);a.call(this,b)}c.prototype._transform=function(a,b,c){c(null,a)}}var V=!1;function W(){V||(V=!0,U());return T.exports}d={};var X={exports:d};function Y(){var a={};process.env.READABLE_STREAM==="disable"&&a?(X.exports=a,d=X.exports=a.Readable,d.Readable=a.Readable,d.Writable=a.Writable,d.Duplex=a.Duplex,d.Transform=a.Transform,d.PassThrough=a.PassThrough,d.Stream=a):(d=X.exports=O(),d.Stream=a||d,d.Readable=d,d.Writable=B(),d.Duplex=F(),d.Transform=S(),d.PassThrough=W())}var Z=!1;function $(){Z||(Z=!0,Y());return X.exports}function f(a){switch(a){case void 0:return $()}}e.exports=f}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("set-immediate-shim-1.0.1",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports=typeof setImmediate==="function"?setImmediate:function(){var a=[].slice.apply(arguments);a.splice(1,0,0);setTimeout.apply(null,a)}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("jszip-3.2.0",["readable-stream-2.3.6","set-immediate-shim-1.0.1","lie-3.3.0","pako-1.0.8"],(function(a,b,c,d,e,f){"use strict";var g=b("readable-stream-2.3.6"),h=b("set-immediate-shim-1.0.1"),i=b("lie-3.3.0"),j=b("pako-1.0.8"),k={},l={exports:k};function m(){k.base64=!0;k.array=!0;k.string=!0;k.arraybuffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined";k.nodebuffer=typeof Buffer!=="undefined";k.uint8array=typeof Uint8Array!=="undefined";if(typeof ArrayBuffer==="undefined")k.blob=!1;else{var a=new ArrayBuffer(0);try{k.blob=new Blob([a],{type:"application/zip"}).size===0}catch(c){try{var b=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;b=new b();b.append(a);k.blob=b.getBlob("application/zip").size===0}catch(a){k.blob=!1}}}try{k.nodestream=!!g().Readable}catch(a){k.nodestream=!1}}var n=!1;function o(){n||(n=!0,m());return l.exports}var p={},q={exports:p};function r(){var a=E(),b=o(),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";p.encode=function(b){var d=[],e,f,g,h,i=0,j=b.length,k=j,l=a.getTypeOf(b)!=="string";while(i<b.length)k=j-i,!l?(e=b.charCodeAt(i++),f=i<j?b.charCodeAt(i++):0,g=i<j?b.charCodeAt(i++):0):(e=b[i++],f=i<j?b[i++]:0,g=i<j?b[i++]:0),h=e>>2,e=(e&3)<<4|f>>4,f=k>1?(f&15)<<2|g>>6:64,g=k>2?g&63:64,d.push(c.charAt(h)+c.charAt(e)+c.charAt(f)+c.charAt(g));return d.join("")};p.decode=function(a){var d,e,f,g,h=0,i=0,j="data:";if(a.substr(0,j.length)===j)throw new Error("Invalid base64 input, it looks like a data url.");a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j=a.length*3/4;a.charAt(a.length-1)===c.charAt(64)&&j--;a.charAt(a.length-2)===c.charAt(64)&&j--;if(j%1!==0)throw new Error("Invalid base64 input, bad content length.");var k;b.uint8array?k=new Uint8Array(j|0):k=new Array(j|0);while(h<a.length)j=c.indexOf(a.charAt(h++)),e=c.indexOf(a.charAt(h++)),f=c.indexOf(a.charAt(h++)),g=c.indexOf(a.charAt(h++)),j=j<<2|e>>4,e=(e&15)<<4|f>>2,d=(f&3)<<6|g,k[i++]=j,f!==64&&(k[i++]=e),g!==64&&(k[i++]=d);return k}}var s=!1;function t(){s||(s=!0,r());return q.exports}c={};var u={exports:c};function v(){u.exports={isNode:typeof Buffer!=="undefined",newBufferFrom:function(a,b){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,b);else{if(typeof a==="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,b)}},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);else{a=new Buffer(a);a.fill(0);return a}},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on==="function"&&typeof a.pause==="function"&&typeof a.resume==="function"}}}var w=!1;function x(){w||(w=!0,v());return u.exports}d={};var y={exports:d};function z(){var a;typeof Promise!=="undefined"?a=Promise:a=i();y.exports={Promise:a}}var A=!1;function B(){A||(A=!0,z());return y.exports}var C={},aa={exports:C};function ba(){var a=o(),b=t(),c=x(),d=h(),e=B();function f(b){var c;a.uint8array?c=new Uint8Array(b.length):c=new Array(b.length);return i(b,c)}C.newBlob=function(a,b){C.checkSupport("blob");try{return new Blob([a],{type:b})}catch(d){try{var c=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;c=new c();c.append(a);return c.getBlob(b)}catch(a){throw new Error("Bug : can't construct the Blob.")}}};function g(a){return a}function i(a,b){for(var c=0;c<a.length;++c)b[c]=a.charCodeAt(c)&255;return b}var j={stringifyByChunk:function(a,b,c){var d=[],e=0,f=a.length;if(f<=c)return String.fromCharCode.apply(null,a);while(e<f)b==="array"||b==="nodebuffer"?d.push(String.fromCharCode.apply(null,a.slice(e,Math.min(e+c,f)))):d.push(String.fromCharCode.apply(null,a.subarray(e,Math.min(e+c,f)))),e+=c;return d.join("")},stringifyByChar:function(a){var b="";for(var c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(a){return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch(a){return!1}}()}};function k(a){var b=65536,c=C.getTypeOf(a),d=!0;c==="uint8array"?d=j.applyCanBeUsed.uint8array:c==="nodebuffer"&&(d=j.applyCanBeUsed.nodebuffer);if(d)while(b>1)try{return j.stringifyByChunk(a,c,b)}catch(a){b=Math.floor(b/2)}return j.stringifyByChar(a)}C.applyFromCharCode=k;function l(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b}var m={};m.string={string:g,array:function(a){return i(a,new Array(a.length))},arraybuffer:function(a){return m.string.uint8array(a).buffer},uint8array:function(a){return i(a,new Uint8Array(a.length))},nodebuffer:function(a){return i(a,c.allocBuffer(a.length))}};m.array={string:k,array:g,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return c.newBufferFrom(a)}};m.arraybuffer={string:function(a){return k(new Uint8Array(a))},array:function(a){return l(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:g,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return c.newBufferFrom(new Uint8Array(a))}};m.uint8array={string:k,array:function(a){return l(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:g,nodebuffer:function(a){return c.newBufferFrom(a)}};m.nodebuffer={string:k,array:function(a){return l(a,new Array(a.length))},arraybuffer:function(a){return m.nodebuffer.uint8array(a).buffer},uint8array:function(a){return l(a,new Uint8Array(a.length))},nodebuffer:g};C.transformTo=function(a,b){b||(b="");if(!a)return b;C.checkSupport(a);var c=C.getTypeOf(b);c=m[c][a](b);return c};C.getTypeOf=function(b){if(typeof b==="string")return"string";if(Object.prototype.toString.call(b)==="[object Array]")return"array";if(a.nodebuffer&&c.isBuffer(b))return"nodebuffer";if(a.uint8array&&b instanceof Uint8Array)return"uint8array";if(a.arraybuffer&&b instanceof ArrayBuffer)return"arraybuffer"};C.checkSupport=function(b){var c=a[b.toLowerCase()];if(!c)throw new Error(b+" is not supported by this platform")};C.MAX_VALUE_16BITS=65535;C.MAX_VALUE_32BITS=-1;C.pretty=function(a){var b="",c,d;for(d=0;d<(a||"").length;d++)c=a.charCodeAt(d),b+="\\x"+(c<16?"0":"")+c.toString(16).toUpperCase();return b};C.delay=function(a,b,c){d(function(){a.apply(c||null,b||[])})};C.inherits=function(a,b){var c=function(){};c.prototype=b.prototype;a.prototype=new c()};C.extend=function(){var a={},b,c;for(b=0;b<arguments.length;b++)for(c in arguments[b])arguments[b].hasOwnProperty(c)&&typeof a[c]==="undefined"&&(a[c]=arguments[b][c]);return a};C.prepareContent=function(c,d,g,h,i){d=e.Promise.resolve(d).then(function(b){var c=a.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1);if(c&&typeof FileReader!=="undefined")return new e.Promise(function(a,c){var d=new FileReader();d.onload=function(b){a(b.target.result)};d.onerror=function(a){c(a.target.error)};d.readAsArrayBuffer(b)});else return b});return d.then(function(a){var d=C.getTypeOf(a);if(!d)return e.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"));d==="arraybuffer"?a=C.transformTo("uint8array",a):d==="string"&&(i?a=b.decode(a):g&&(h!==!0&&(a=f(a))));return a})}}var D=!1;function E(){D||(D=!0,ba());return aa.exports}f={};var F={exports:f};function ca(){function a(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){if(this.isFinished)return!1;this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp());return!0},on:function(a,b){this._listeners[a].push(b);return this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,b){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,b)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo;this.mergeStreamInfo();this.previous=a;var b=this;a.on("data",function(a){b.processChunk(a)});a.on("end",function(){b.end()});a.on("error",function(a){b.error(a)});return this},pause:function(){if(this.isPaused||this.isFinished)return!1;this.isPaused=!0;this.previous&&this.previous.pause();return!0},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;this.generatedError&&(this.error(this.generatedError),a=!0);this.previous&&this.previous.resume();return!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,b){this.extraStreamInfo[a]=b;this.mergeStreamInfo();return this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo){if(!this.extraStreamInfo.hasOwnProperty(a))continue;this.streamInfo[a]=this.extraStreamInfo[a]}},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0;this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;if(this.previous)return this.previous+" -> "+a;else return a}};F.exports=a}var G=!1;function H(){G||(G=!0,ca());return F.exports}var I={},da={exports:I};function ea(){var a=E(),b=o(),c=x(),d=H(),e=new Array(256);for(var f=0;f<256;f++)e[f]=f>=252?6:f>=248?5:f>=240?4:f>=224?3:f>=192?2:1;e[254]=e[254]=1;var g=function(c){var d,e,f,g,a,h=c.length,i=0;for(g=0;g<h;g++)e=c.charCodeAt(g),(e&64512)===55296&&g+1<h&&(f=c.charCodeAt(g+1),(f&64512)===56320&&(e=65536+(e-55296<<10)+(f-56320),g++)),i+=e<128?1:e<2048?2:e<65536?3:4;b.uint8array?d=new Uint8Array(i):d=new Array(i);for(a=0,g=0;a<i;g++)e=c.charCodeAt(g),(e&64512)===55296&&g+1<h&&(f=c.charCodeAt(g+1),(f&64512)===56320&&(e=65536+(e-55296<<10)+(f-56320),g++)),e<128?d[a++]=e:e<2048?(d[a++]=192|e>>>6,d[a++]=128|e&63):e<65536?(d[a++]=224|e>>>12,d[a++]=128|e>>>6&63,d[a++]=128|e&63):(d[a++]=240|e>>>18,d[a++]=128|e>>>12&63,d[a++]=128|e>>>6&63,d[a++]=128|e&63);return d},h=function(a,b){var c;b=b||a.length;b>a.length&&(b=a.length);c=b-1;while(c>=0&&(a[c]&192)===128)c--;if(c<0)return b;return c===0?b:c+e[a[c]]>b?c:b},i=function(c){var b,d,f,g,h=c.length,i=new Array(h*2);for(d=0,b=0;b<h;){f=c[b++];if(f<128){i[d++]=f;continue}g=e[f];if(g>4){i[d++]=65533;b+=g-1;continue}f&=g===2?31:g===3?15:7;while(g>1&&b<h)f=f<<6|c[b++]&63,g--;if(g>1){i[d++]=65533;continue}f<65536?i[d++]=f:(f-=65536,i[d++]=55296|f>>10&1023,i[d++]=56320|f&1023)}i.length!==d&&(i.subarray?i=i.subarray(0,d):i.length=d);return a.applyFromCharCode(i)};I.utf8encode=function(a){return b.nodebuffer?c.newBufferFrom(a,"utf-8"):g(a)};I.utf8decode=function(c){if(b.nodebuffer)return a.transformTo("nodebuffer",c).toString("utf-8");c=a.transformTo(b.uint8array?"uint8array":"array",c);return i(c)};function j(){d.call(this,"utf-8 decode"),this.leftOver=null}a.inherits(j,d);j.prototype.processChunk=function(c){var d=a.transformTo(b.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(b.uint8array){var e=d;d=new Uint8Array(e.length+this.leftOver.length);d.set(this.leftOver,0);d.set(e,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}e=h(d);var f=d;e!==d.length&&(b.uint8array?(f=d.subarray(0,e),this.leftOver=d.subarray(e,d.length)):(f=d.slice(0,e),this.leftOver=d.slice(e,d.length)));this.push({data:I.utf8decode(f),meta:c.meta})};j.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:I.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)};I.Utf8DecodeWorker=j;function k(){d.call(this,"utf-8 encode")}a.inherits(k,d);k.prototype.processChunk=function(a){this.push({data:I.utf8encode(a.data),meta:a.meta})};I.Utf8EncodeWorker=k}var J=!1;function K(){J||(J=!0,ea());return da.exports}b={};var L={exports:b};function fa(){var a=H(),b=E();function c(b){a.call(this,"ConvertWorker to "+b),this.destType=b}b.inherits(c,a);c.prototype.processChunk=function(a){this.push({data:b.transformTo(this.destType,a.data),meta:a.meta})};L.exports=c}var M=!1;function ga(){M||(M=!0,fa());return L.exports}c={};var N={exports:c};function ha(){var a=g().Readable,b=E();b.inherits(c,a);function c(b,c,d){a.call(this,c);this._helper=b;var e=this;b.on("data",function(a,b){e.push(a)||e._helper.pause(),d&&d(b)}).on("error",function(a){e.emit("error",a)}).on("end",function(){e.push(null)})}c.prototype._read=function(){this._helper.resume()};N.exports=c}var O=!1;function ia(){O||(O=!0,ha());return N.exports}d={};var P={exports:d};function ja(){var a=E(),b=ga(),c=H(),d=t(),e=o(),f=B(),g=null;if(e.nodestream)try{g=ia()}catch(a){}function h(b,c,e){switch(b){case"blob":return a.newBlob(a.transformTo("arraybuffer",c),e);case"base64":return d.encode(c);default:return a.transformTo(b,c)}}function i(a,b){var c,d=0,e=null,f=0;for(c=0;c<b.length;c++)f+=b[c].length;switch(a){case"string":return b.join("");case"array":return Array.prototype.concat.apply([],b);case"uint8array":e=new Uint8Array(f);for(c=0;c<b.length;c++)e.set(b[c],d),d+=b[c].length;return e;case"nodebuffer":return Buffer.concat(b);default:throw new Error("concat : unsupported type '"+a+"'")}}function j(a,b){return new f.Promise(function(c,d){var e=[],f=a._internalType,g=a._outputType,j=a._mimeType;a.on("data",function(a,c){e.push(a),b&&b(c)}).on("error",function(a){e=[],d(a)}).on("end",function(){try{var a=h(g,i(f,e),j);c(a)}catch(a){d(a)}e=[]}).resume()})}function k(d,e,f){var g=e;switch(e){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string";break}try{this._internalType=g,this._outputType=e,this._mimeType=f,a.checkSupport(g),this._worker=d.pipe(new b(g)),d.lock()}catch(a){this._worker=new c("error"),this._worker.error(a)}}k.prototype={accumulate:function(a){return j(this,a)},on:function(b,c){var d=this;b==="data"?this._worker.on(b,function(a){c.call(d,a.data,a.meta)}):this._worker.on(b,function(){a.delay(c,arguments,d)});return this},resume:function(){a.delay(this._worker.resume,[],this._worker);return this},pause:function(){this._worker.pause();return this},toNodejsStream:function(b){a.checkSupport("nodestream");if(this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},b)}};P.exports=k}var Q=!1;function R(){Q||(Q=!0,ja());return P.exports}var S={},ka={exports:S};function la(){S.base64=!1,S.binary=!1,S.dir=!1,S.createFolders=!0,S.date=null,S.compression=null,S.compressionOptions=null,S.comment=null,S.unixPermissions=null,S.dosPermissions=null}var T=!1;function U(){T||(T=!0,la());return ka.exports}f={};var V={exports:f};function ma(){var a=E(),b=H(),c=16*1024;function d(c){b.call(this,"DataWorker");var d=this;this.dataIsReady=!1;this.index=0;this.max=0;this.data=null;this.type="";this._tickScheduled=!1;c.then(function(b){d.dataIsReady=!0,d.data=b,d.max=b&&b.length||0,d.type=a.getTypeOf(b),d.isPaused||d._tickAndRepeat()},function(a){d.error(a)})}a.inherits(d,b);d.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this.data=null};d.prototype.resume=function(){if(!b.prototype.resume.call(this))return!1;!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this));return!0};d.prototype._tickAndRepeat=function(){this._tickScheduled=!1;if(this.isPaused||this.isFinished)return;this._tick();this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0)};d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=c,b=null;a=Math.min(this.max,this.index+a);if(this.index>=this.max)return this.end();else{switch(this.type){case"string":b=this.data.substring(this.index,a);break;case"uint8array":b=this.data.subarray(this.index,a);break;case"array":case"nodebuffer":b=this.data.slice(this.index,a);break}this.index=a;return this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})}};V.exports=d}var na=!1;function oa(){na||(na=!0,ma());return V.exports}b={};var pa={exports:b};function qa(){var a=E(),b=H();function c(a){b.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}a.inherits(c,b);c.prototype.processChunk=function(a){if(a){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+a.data.length}b.prototype.processChunk.call(this,a)};pa.exports=c}var ra=!1;function sa(){ra||(ra=!0,qa());return pa.exports}c={};var ta={exports:c};function ua(){var a=E();function b(){var a,b=[];for(var c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=a&1?3988292384^a>>>1:a>>>1;b[c]=a}return b}var c=b();function d(a,b,d,e){var f=c;d=e+d;a=a^-1;for(e=e;e<d;e++)a=a>>>8^f[(a^b[e])&255];return a^-1}function e(a,b,d,e){var f=c;d=e+d;a=a^-1;for(e=e;e<d;e++)a=a>>>8^f[(a^b.charCodeAt(e))&255];return a^-1}ta.exports=function(b,c){if(typeof b==="undefined"||!b.length)return 0;var f=a.getTypeOf(b)!=="string";if(f)return d(c|0,b,b.length,0);else return e(c|0,b,b.length,0)}}var va=!1;function W(){va||(va=!0,ua());return ta.exports}d={};var wa={exports:d};function xa(){var a=H(),b=W(),c=E();function d(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}c.inherits(d,a);d.prototype.processChunk=function(a){this.streamInfo.crc32=b(a.data,this.streamInfo.crc32||0),this.push(a)};wa.exports=d}var ya=!1;function za(){ya||(ya=!0,xa());return wa.exports}f={};var Aa={exports:f};function Ba(){var a=B(),b=oa(),c=sa(),d=za(),c=sa();function e(a,b,c,d,e){this.compressedSize=a,this.uncompressedSize=b,this.crc32=c,this.compression=d,this.compressedContent=e}e.prototype={getContentWorker:function(){var d=new b(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),e=this;d.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")});return d},getCompressedWorker:function(){return new b(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};e.createWorkerFrom=function(a,b,e){return a.pipe(new d()).pipe(new c("uncompressedSize")).pipe(b.compressWorker(e)).pipe(new c("compressedSize")).withStreamInfo("compression",b)};Aa.exports=e}var Ca=!1;function X(){Ca||(Ca=!0,Ba());return Aa.exports}b={};var Da={exports:b};function Ea(){var a=R(),b=oa(),c=K(),d=X(),e=H(),f=function(a,b,c){this.name=a,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=b,this._dataBinary=c.binary,this.options={compression:c.compression,compressionOptions:c.compressionOptions}};f.prototype={internalStream:function(b){var d=null,f="string";try{if(!b)throw new Error("No output type specified.");f=b.toLowerCase();b=f==="string"||f==="text";(f==="binarystring"||f==="text")&&(f="string");d=this._decompressWorker();var g=!this._dataBinary;g&&!b&&(d=d.pipe(new c.Utf8EncodeWorker()));!g&&b&&(d=d.pipe(new c.Utf8DecodeWorker()))}catch(a){d=new e("error"),d.error(a)}return new a(d,f,"")},async:function(a,b){return this.internalStream(a).accumulate(b)},nodeStream:function(a,b){return this.internalStream(a||"nodebuffer").toNodejsStream(b)},_compressWorker:function(a,b){if(this._data instanceof d&&this._data.compression.magic===a.magic)return this._data.getCompressedWorker();else{var e=this._decompressWorker();this._dataBinary||(e=e.pipe(new c.Utf8EncodeWorker()));return d.createWorkerFrom(e,a,b)}},_decompressWorker:function(){if(this._data instanceof d)return this._data.getContentWorker();else if(this._data instanceof e)return this._data;else return new b(this._data)}};var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};for(var i=0;i<g.length;i++)f.prototype[g[i]]=h;Da.exports=f}var Fa=!1;function Ga(){Fa||(Fa=!0,Ea());return Da.exports}var Y={},Ha={exports:Y};function Ia(){var a=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Uint32Array!=="undefined",b=j(),c=E(),d=H(),e=a?"uint8array":"array";Y.magic="\b\0";function f(a,b){d.call(this,"FlateWorker/"+a),this._pako=null,this._pakoAction=a,this._pakoOptions=b,this.meta={}}c.inherits(f,d);f.prototype.processChunk=function(a){this.meta=a.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(e,a.data),!1)};f.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)};f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null};f.prototype._createPako=function(){this._pako=new b[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var a=this;this._pako.onData=function(b){a.push({data:b,meta:a.meta})}};Y.compressWorker=function(a){return new f("Deflate",a)};Y.uncompressWorker=function(){return new f("Inflate",{})}}var Ja=!1;function Ka(){Ja||(Ja=!0,Ia());return Ha.exports}var Z={},La={exports:Z};function Ma(){var a=H();Z.STORE={magic:"\0\0",compressWorker:function(b){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}};Z.DEFLATE=Ka()}var Na=!1;function Oa(){Na||(Na=!0,Ma());return La.exports}var $={},Pa={exports:$};function Qa(){$.LOCAL_FILE_HEADER="PK\x03\x04",$.CENTRAL_FILE_HEADER="PK\x01\x02",$.CENTRAL_DIRECTORY_END="PK\x05\x06",$.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",$.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",$.DATA_DESCRIPTOR="PK\x07\b"}var Ra=!1;function Sa(){Ra||(Ra=!0,Qa());return Pa.exports}c={};var Ta={exports:c};function Ua(){var a=E(),b=H(),c=K(),d=W(),e=Sa(),f=function(a,b){var c="",d;for(d=0;d<b;d++)c+=String.fromCharCode(a&255),a=a>>>8;return c},g=function(a,b){var c=a;a||(c=b?16893:33204);return(c&65535)<<16},h=function(a,b){return(a||0)&63},i=function(b,i,j,k,l,m){var n=b.file,o=b.compression,p=m!==c.utf8encode,q=a.transformTo("string",m(n.name)),r=a.transformTo("string",c.utf8encode(n.name)),s=n.comment;m=a.transformTo("string",m(s));var t=a.transformTo("string",c.utf8encode(s)),u=r.length!==n.name.length;s=t.length!==s.length;var v="",w="",x="",y=n.dir,z=n.date,A={crc32:0,compressedSize:0,uncompressedSize:0};(!i||j)&&(A.crc32=b.crc32,A.compressedSize=b.compressedSize,A.uncompressedSize=b.uncompressedSize);j=0;i&&(j|=8);!p&&(u||s)&&(j|=2048);b=0;i=0;y&&(b|=16);l==="UNIX"?(i=798,b|=g(n.unixPermissions,y)):(i=20,b|=h(n.dosPermissions));p=z.getUTCHours();p=p<<6;p=p|z.getUTCMinutes();p=p<<5;p=p|z.getUTCSeconds()/2;l=z.getUTCFullYear()-1980;l=l<<4;l=l|z.getUTCMonth()+1;l=l<<5;l=l|z.getUTCDate();u&&(w=f(1,1)+f(d(q),4)+r,v+="up"+f(w.length,2)+w);s&&(x=f(1,1)+f(d(m),4)+t,v+="uc"+f(x.length,2)+x);y="";y+="\n\0";y+=f(j,2);y+=o.magic;y+=f(p,2);y+=f(l,2);y+=f(A.crc32,4);y+=f(A.compressedSize,4);y+=f(A.uncompressedSize,4);y+=f(q.length,2);y+=f(v.length,2);n=e.LOCAL_FILE_HEADER+y+q+v;z=e.CENTRAL_FILE_HEADER+f(i,2)+y+f(m.length,2)+"\0\0\0\0"+f(b,4)+f(k,4)+q+v+m;return{fileRecord:n,dirRecord:z}},j=function(b,c,d,g,h){h=a.transformTo("string",h(g));g=e.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(b,2)+f(b,2)+f(c,4)+f(d,4)+f(h.length,2)+h;return g},k=function(a){a=e.DATA_DESCRIPTOR+f(a.crc32,4)+f(a.compressedSize,4)+f(a.uncompressedSize,4);return a};function l(a,c,d,e){b.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=c,this.zipPlatform=d,this.encodeFileName=e,this.streamFiles=a,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(l,b);l.prototype.push=function(a){var c=a.meta.percent||0,d=this.entriesCount,e=this._sources.length;this.accumulate?this.contentBuffer.push(a):(this.bytesWritten+=a.data.length,b.prototype.push.call(this,{data:a.data,meta:{currentFile:this.currentFile,percent:d?(c+100*(d-e-1))/d:100}}))};l.prototype.openedSource=function(a){this.currentSourceOffset=this.bytesWritten;this.currentFile=a.file.name;var b=this.streamFiles&&!a.file.dir;if(b){a=i(a,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:a.fileRecord,meta:{percent:0}})}else this.accumulate=!0};l.prototype.closedSource=function(a){this.accumulate=!1;var b=this.streamFiles&&!a.file.dir,c=i(a,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.dirRecords.push(c.dirRecord);if(b)this.push({data:k(a),meta:{percent:100}});else{this.push({data:c.fileRecord,meta:{percent:0}});while(this.contentBuffer.length)this.push(this.contentBuffer.shift())}this.currentFile=null};l.prototype.flush=function(){var a=this.bytesWritten;for(var b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});b=this.bytesWritten-a;b=j(this.dirRecords.length,b,a,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})};l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()};l.prototype.registerPrevious=function(a){this._sources.push(a);var b=this;a.on("data",function(a){b.processChunk(a)});a.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()});a.on("error",function(a){b.error(a)});return this};l.prototype.resume=function(){if(!b.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length){this.prepareNextSource();return!0}if(!this.previous&&!this._sources.length&&!this.generatedError){this.end();return!0}};l.prototype.error=function(a){var c=this._sources;if(!b.prototype.error.call(this,a))return!1;for(var d=0;d<c.length;d++)try{c[d].error(a)}catch(a){}return!0};l.prototype.lock=function(){b.prototype.lock.call(this);var a=this._sources;for(var c=0;c<a.length;c++)a[c].lock()};Ta.exports=l}var Va=!1;function Wa(){Va||(Va=!0,Ua());return Ta.exports}var Xa={},Ya={exports:Xa};function Za(){var a=Oa(),b=Wa(),c=function(b,c){b=b||c;c=a[b];if(!c)throw new Error(b+" is not a valid compression method !");return c};Xa.generateWorker=function(a,d,e){var f=new b(d.streamFiles,e,d.platform,d.encodeFileName),g=0;try{a.forEach(function(a,b){g++;var e=c(b.options.compression,d.compression),h=b.options.compressionOptions||d.compressionOptions||{},i=b.dir,j=b.date;b._compressWorker(e,h).withStreamInfo("file",{name:a,dir:i,date:j,comment:b.comment||"",unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions}).pipe(f)}),f.entriesCount=g}catch(a){f.error(a)}return f}}var $a=!1;function ab(){$a||($a=!0,Za());return Ya.exports}d={};var bb={exports:d};function cb(){var a=E(),b=H();function c(a,c){b.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(c)}a.inherits(c,b);c.prototype._bindStream=function(a){var b=this;this._stream=a;a.pause();a.on("data",function(a){b.push({data:a,meta:{percent:0}})}).on("error",function(a){b.isPaused?this.generatedError=a:b.error(a)}).on("end",function(){b.isPaused?b._upstreamEnded=!0:b.end()})};c.prototype.pause=function(){if(!b.prototype.pause.call(this))return!1;this._stream.pause();return!0};c.prototype.resume=function(){if(!b.prototype.resume.call(this))return!1;this._upstreamEnded?this.end():this._stream.resume();return!0};bb.exports=c}var db=!1;function eb(){db||(db=!0,cb());return bb.exports}f={};var fb={exports:f};function gb(){var a=K(),b=E(),c=H(),d=R(),e=U(),f=X(),g=Ga(),h=ab(),i=x(),j=eb(),k=function(a,d,h){var k=b.getTypeOf(d),o,p=b.extend(h||{},e);p.date=p.date||new Date();p.compression!==null&&(p.compression=p.compression.toUpperCase());typeof p.unixPermissions==="string"&&(p.unixPermissions=parseInt(p.unixPermissions,8));p.unixPermissions&&p.unixPermissions&16384&&(p.dir=!0);p.dosPermissions&&p.dosPermissions&16&&(p.dir=!0);p.dir&&(a=m(a));p.createFolders&&(o=l(a))&&n.call(this,o,!0);var q=k==="string"&&p.binary===!1&&p.base64===!1;(!h||typeof h.binary==="undefined")&&(p.binary=!q);h=d instanceof f&&d.uncompressedSize===0;(h||p.dir||!d||d.length===0)&&(p.base64=!1,p.binary=!0,d="",p.compression="STORE",k="string");d instanceof f||d instanceof c?q=d:i.isNode&&i.isStream(d)?q=new j(a,d):q=b.prepareContent(a,d,p.binary,p.optimizedBinaryString,p.base64);h=new g(a,q,p);this.files[a]=h},l=function(a){a.slice(-1)==="/"&&(a=a.substring(0,a.length-1));var b=a.lastIndexOf("/");return b>0?a.substring(0,b):""},m=function(a){a.slice(-1)!=="/"&&(a+="/");return a},n=function(a,b){b=typeof b!=="undefined"?b:e.createFolders;a=m(a);this.files[a]||k.call(this,a,null,{dir:!0,createFolders:b});return this.files[a]};function o(a){return Object.prototype.toString.call(a)==="[object RegExp]"}var p={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(a){var b,c,d;for(b in this.files){if(!this.files.hasOwnProperty(b))continue;d=this.files[b];c=b.slice(this.root.length,b.length);c&&b.slice(0,this.root.length)===this.root&&a(c,d)}},filter:function(a){var b=[];this.forEach(function(c,d){a(c,d)&&b.push(d)});return b},file:function(a,b,c){if(arguments.length===1)if(o(a)){var d=a;return this.filter(function(a,b){return!b.dir&&d.test(a)})}else{var e=this.files[this.root+a];if(e&&!e.dir)return e;else return null}else a=this.root+a,k.call(this,a,b,c);return this},folder:function(a){if(!a)return this;if(o(a))return this.filter(function(b,c){return c.dir&&a.test(b)});var b=this.root+a;b=n.call(this,b);var c=this.clone();c.root=b.name;return c},remove:function(a){a=this.root+a;var b=this.files[a];b||(a.slice(-1)!=="/"&&(a+="/"),b=this.files[a]);if(b&&!b.dir)delete this.files[a];else{b=this.filter(function(c,b){return b.name.slice(0,a.length)===a});for(var c=0;c<b.length;c++)delete this.files[b[c].name]}return this},generate:function(a){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var f,g={};try{g=b.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode});g.type=g.type.toLowerCase();g.compression=g.compression.toUpperCase();g.type==="binarystring"&&(g.type="string");if(!g.type)throw new Error("No output type specified.");b.checkSupport(g.type);(g.platform==="darwin"||g.platform==="freebsd"||g.platform==="linux"||g.platform==="sunos")&&(g.platform="UNIX");g.platform==="win32"&&(g.platform="DOS");e=g.comment||this.comment||"";f=h.generateWorker(this,g,e)}catch(a){f=new c("error"),f.error(a)}return new d(f,g.type||"string",g.mimeType)},generateAsync:function(a,b){return this.generateInternalStream(a).accumulate(b)},generateNodeStream:function(a,b){a=a||{};a.type||(a.type="nodebuffer");return this.generateInternalStream(a).toNodejsStream(b)}};fb.exports=p}var hb=!1;function ib(){hb||(hb=!0,gb());return fb.exports}b={};var jb={exports:b};function kb(){var a=E();function b(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}b.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(a){},readInt:function(a){var b=0,c;this.checkOffset(a);for(c=this.index+a-1;c>=this.index;c--)b=(b<<8)+this.byteAt(c);this.index+=a;return b},readString:function(b){return a.transformTo("string",this.readData(b))},readData:function(a){},lastIndexOfSignature:function(a){},readAndCheckSignature:function(a){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC((a>>25&127)+1980,(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(a&31)<<1))}};jb.exports=b}var lb=!1;function mb(){lb||(lb=!0,kb());return jb.exports}c={};var nb={exports:c};function ob(){var a=mb(),b=E();function c(b){a.call(this,b);for(var c=0;c<this.data.length;c++)b[c]=b[c]&255}b.inherits(c,a);c.prototype.byteAt=function(a){return this.data[this.zero+a]};c.prototype.lastIndexOfSignature=function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2);a=a.charCodeAt(3);for(var e=this.length-4;e>=0;--e)if(this.data[e]===b&&this.data[e+1]===c&&this.data[e+2]===d&&this.data[e+3]===a)return e-this.zero;return-1};c.prototype.readAndCheckSignature=function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2);a=a.charCodeAt(3);var e=this.readData(4);return b===e[0]&&c===e[1]&&d===e[2]&&a===e[3]};c.prototype.readData=function(a){this.checkOffset(a);if(a===0)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);this.index+=a;return b};nb.exports=c}var pb=!1;function qb(){pb||(pb=!0,ob());return nb.exports}d={};var rb={exports:d};function sb(){var a=mb(),b=E();function c(b){a.call(this,b)}b.inherits(c,a);c.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)};c.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero};c.prototype.readAndCheckSignature=function(a){var b=this.readData(4);return a===b};c.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);this.index+=a;return b};rb.exports=c}var tb=!1;function ub(){tb||(tb=!0,sb());return rb.exports}f={};var vb={exports:f};function wb(){var a=qb(),b=E();function c(b){a.call(this,b)}b.inherits(c,a);c.prototype.readData=function(a){this.checkOffset(a);if(a===0)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+a);this.index+=a;return b};vb.exports=c}var xb=!1;function yb(){xb||(xb=!0,wb());return vb.exports}b={};var zb={exports:b};function Ab(){var a=yb(),b=E();function c(b){a.call(this,b)}b.inherits(c,a);c.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);this.index+=a;return b};zb.exports=c}var Bb=!1;function Cb(){Bb||(Bb=!0,Ab());return zb.exports}c={};var Db={exports:c};function Eb(){var a=E(),b=o(),c=qb(),d=ub(),e=Cb(),f=yb();Db.exports=function(g){var h=a.getTypeOf(g);a.checkSupport(h);if(h==="string"&&!b.uint8array)return new d(g);if(h==="nodebuffer")return new e(g);return b.uint8array?new f(a.transformTo("uint8array",g)):new c(a.transformTo("array",g))}}var Fb=!1;function Gb(){Fb||(Fb=!0,Eb());return Db.exports}d={};var Hb={exports:d};function Ib(){var a=Gb(),b=E(),c=X(),d=W(),e=K(),f=Oa(),g=o(),h=0,i=3,j=function(a){for(var b in f){if(!f.hasOwnProperty(b))continue;if(f[b].magic===a)return f[b]}return null};function k(a,b){this.options=a,this.loadOptions=b}k.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(a){var d;a.skip(22);this.fileNameLength=a.readInt(2);d=a.readInt(2);this.fileName=a.readData(this.fileNameLength);a.skip(d);if(this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");d=j(this.compressionMethod);if(d===null)throw new Error("Corrupted zip : compression "+b.pretty(this.compressionMethod)+" unknown (inner file : "+b.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,d,a.readData(this.compressedSize))},readCentralPart:function(a){this.versionMadeBy=a.readInt(2);a.skip(2);this.bitFlag=a.readInt(2);this.compressionMethod=a.readString(2);this.date=a.readDate();this.crc32=a.readInt(4);this.compressedSize=a.readInt(4);this.uncompressedSize=a.readInt(4);var b=a.readInt(2);this.extraFieldsLength=a.readInt(2);this.fileCommentLength=a.readInt(2);this.diskNumberStart=a.readInt(2);this.internalFileAttributes=a.readInt(2);this.externalFileAttributes=a.readInt(4);this.localHeaderOffset=a.readInt(4);if(this.isEncrypted())throw new Error("Encrypted zip are not supported");a.skip(b);this.readExtraFields(a);this.parseZIP64ExtraField(a);this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null;this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=this.externalFileAttributes&16?!0:!1;a===h&&(this.dosPermissions=this.externalFileAttributes&63);a===i&&(this.unixPermissions=this.externalFileAttributes>>16&65535);!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(c){if(!this.extraFields[1])return;c=a(this.extraFields[1].value);this.uncompressedSize===b.MAX_VALUE_32BITS&&(this.uncompressedSize=c.readInt(8));this.compressedSize===b.MAX_VALUE_32BITS&&(this.compressedSize=c.readInt(8));this.localHeaderOffset===b.MAX_VALUE_32BITS&&(this.localHeaderOffset=c.readInt(8));this.diskNumberStart===b.MAX_VALUE_32BITS&&(this.diskNumberStart=c.readInt(4))},readExtraFields:function(a){var b=a.index+this.extraFieldsLength,c,d,e;this.extraFields||(this.extraFields={});while(a.index<b)c=a.readInt(2),d=a.readInt(2),e=a.readData(d),this.extraFields[c]={id:c,length:d,value:e}},handleUTF8:function(){var a=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=e.utf8decode(this.fileName),this.fileCommentStr=e.utf8decode(this.fileComment);else{var c=this.findExtraFieldUnicodePath();if(c!==null)this.fileNameStr=c;else{c=b.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}c=this.findExtraFieldUnicodeComment();if(c!==null)this.fileCommentStr=c;else{c=b.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var c=a(b.value);if(c.readInt(1)!==1)return null;return d(this.fileName)!==c.readInt(4)?null:e.utf8decode(c.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var c=a(b.value);if(c.readInt(1)!==1)return null;return d(this.fileComment)!==c.readInt(4)?null:e.utf8decode(c.readData(b.length-5))}return null}};Hb.exports=k}var Jb=!1;function Kb(){Jb||(Jb=!0,Ib());return Hb.exports}f={};var Lb={exports:f};function Mb(){var a=Gb(),b=E(),c=Sa(),d=Kb();K();var e=o();function f(a){this.files=[],this.loadOptions=a}f.prototype={checkSignature:function(a){if(!this.reader.readAndCheckSignature(a)){this.reader.index-=4;var c=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+b.pretty(c)+", expected "+b.pretty(a)+")")}},isSignature:function(a,b){var c=this.reader.index;this.reader.setIndex(a);a=this.reader.readString(4);a=a===b;this.reader.setIndex(c);return a},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);var a=this.reader.readData(this.zipCommentLength),c=e.uint8array?"uint8array":"array";c=b.transformTo(c,a);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.reader.skip(4);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};var a=this.zip64EndOfCentralSize-44,b=0,c,d,e;while(b<a)c=this.reader.readInt(2),d=this.reader.readInt(4),e=this.reader.readData(d),this.zip64ExtensibleData[c]={id:c,length:d,value:e}},readBlockZip64EndOfCentralLocator:function(){this.diskWithZip64CentralDirStart=this.reader.readInt(4);this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8);this.disksCount=this.reader.readInt(4);if(this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var a,b;for(a=0;a<this.files.length;a++)b=this.files[a],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var a;this.reader.setIndex(this.centralDirOffset);while(this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER))a=new d({zip64:this.zip64},this.loadOptions),a.readCentralPart(this.reader),this.files.push(a);if(this.centralDirRecords!==this.files.length&&(this.centralDirRecords!==0&&this.files.length===0))throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var a=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(a<0){var d=!this.isSignature(0,c.LOCAL_FILE_HEADER);if(d)throw new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");else throw new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(a);d=a;this.checkSignature(c.CENTRAL_DIRECTORY_END);this.readBlockEndOfCentral();if(this.diskNumber===b.MAX_VALUE_16BITS||this.diskWithCentralDirStart===b.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===b.MAX_VALUE_16BITS||this.centralDirRecords===b.MAX_VALUE_16BITS||this.centralDirSize===b.MAX_VALUE_32BITS||this.centralDirOffset===b.MAX_VALUE_32BITS){this.zip64=!0;a=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR);if(a<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");this.reader.setIndex(a);this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR);this.readBlockZip64EndOfCentralLocator();if(!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)){this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END);if(this.relativeOffsetEndOfZip64CentralDir<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory")}this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END);this.readBlockZip64EndOfCentral()}a=this.centralDirOffset+this.centralDirSize;this.zip64&&(a+=20,a+=12+this.zip64EndOfCentralSize);a=d-a;if(a>0)this.isSignature(d,c.CENTRAL_FILE_HEADER)||(this.reader.zero=a);else if(a<0)throw new Error("Corrupted zip: missing "+Math.abs(a)+" bytes.")},prepareReader:function(b){this.reader=a(b)},load:function(a){this.prepareReader(a),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};Lb.exports=f}var Nb=!1;function Ob(){Nb||(Nb=!0,Mb());return Lb.exports}b={};var Pb={exports:b};function Qb(){var a=E(),b=B(),c=K(),a=E(),d=Ob(),e=za(),f=x();function g(a){return new b.Promise(function(b,c){var d=a.decompressed.getContentWorker().pipe(new e());d.on("error",function(a){c(a)}).on("end",function(){d.streamInfo.crc32!==a.decompressed.crc32?c(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}Pb.exports=function(e,h){var i=this;h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode});return f.isNode&&f.isStream(e)?b.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",e,!0,h.optimizedBinaryString,h.base64).then(function(a){var b=new d(h);b.load(a);return b}).then(function(a){var c=[b.Promise.resolve(a)];a=a.files;if(h.checkCRC32)for(var d=0;d<a.length;d++)c.push(g(a[d]));return b.Promise.all(c)}).then(function(a){a=a.shift();var b=a.files;for(var c=0;c<b.length;c++){var d=b[c];i.file(d.fileNameStr,d.decompressed,{binary:!0,optimizedBinaryString:!0,date:d.date,dir:d.dir,comment:d.fileCommentStr.length?d.fileCommentStr:null,unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions,createFolders:h.createFolders})}a.zipComment.length&&(i.comment=a.zipComment);return i})}}var Rb=!1;function Sb(){Rb||(Rb=!0,Qb());return Pb.exports}c={};var Tb={exports:c};function Ub(){function a(){if(!(this instanceof a))return new a();if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={};this.comment=null;this.root="";this.clone=function(){var b=new a();for(var c in this)typeof this[c]!=="function"&&(b[c]=this[c]);return b}}a.prototype=ib();a.prototype.loadAsync=Sb();a.support=o();a.defaults=U();a.version="3.2.0";a.loadAsync=function(b,c){return new a().loadAsync(b,c)};a.external=B();Tb.exports=a}var Vb=!1;function Wb(){Vb||(Vb=!0,Ub());return Tb.exports}function a(a){switch(a){case void 0:return Wb()}}e.exports=a}),null);
__d("jszip",["jszip-3.2.0"],(function(a,b,c,d,e,f){e.exports=b("jszip-3.2.0")()}),null);
__d("lodash-cloneDeep",["lodash-4.17.15"],(function(a,b,c,d,e,f){e.exports=b("lodash-4.17.15")("/cloneDeep")}),null);/*FB_PKG_DELIM*/
__d("BusinessConversionCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("277");b=d("FalcoLoggerInternal").create("business_conversion_cancel",a);e=b;g["default"]=e}),98);
__d("BusinessConversionFetchDataErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4531");b=d("FalcoLoggerInternal").create("business_conversion_fetch_data_error",a);e=b;g["default"]=e}),98);
__d("BusinessConversionFetchDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4532");b=d("FalcoLoggerInternal").create("business_conversion_fetch_data",a);e=b;g["default"]=e}),98);
__d("BusinessConversionFinishStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5997");b=d("FalcoLoggerInternal").create("business_conversion_finish_step",a);e=b;g["default"]=e}),98);
__d("BusinessConversionSkipFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5998");b=d("FalcoLoggerInternal").create("business_conversion_skip",a);e=b;g["default"]=e}),98);
__d("BusinessConversionStartStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5999");b=d("FalcoLoggerInternal").create("business_conversion_start_step",a);e=b;g["default"]=e}),98);
__d("BusinessConversionSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6000");b=d("FalcoLoggerInternal").create("business_conversion_submit_error",a);e=b;g["default"]=e}),98);
__d("BusinessConversionSubmitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6001");b=d("FalcoLoggerInternal").create("business_conversion_submit",a);e=b;g["default"]=e}),98);
__d("BusinessConversionTapComponentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("541");b=d("FalcoLoggerInternal").create("business_conversion_tap_component",a);e=b;g["default"]=e}),98);
__d("CreatorConversionCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("497");b=d("FalcoLoggerInternal").create("creator_conversion_cancel",a);e=b;g["default"]=e}),98);
__d("CreatorConversionFetchDataErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6002");b=d("FalcoLoggerInternal").create("creator_conversion_fetch_data_error",a);e=b;g["default"]=e}),98);
__d("CreatorConversionFetchDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6003");b=d("FalcoLoggerInternal").create("creator_conversion_fetch_data",a);e=b;g["default"]=e}),98);
__d("CreatorConversionFinishStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6004");b=d("FalcoLoggerInternal").create("creator_conversion_finish_step",a);e=b;g["default"]=e}),98);
__d("CreatorConversionStartStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6005");b=d("FalcoLoggerInternal").create("creator_conversion_start_step",a);e=b;g["default"]=e}),98);
__d("CreatorConversionSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6006");b=d("FalcoLoggerInternal").create("creator_conversion_submit_error",a);e=b;g["default"]=e}),98);
__d("CreatorConversionSubmitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6007");b=d("FalcoLoggerInternal").create("creator_conversion_submit",a);e=b;g["default"]=e}),98);
__d("CreatorConversionTapComponentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("793");b=d("FalcoLoggerInternal").create("creator_conversion_tap_component",a);e=b;g["default"]=e}),98);
__d("EditProfileCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("498");b=d("FalcoLoggerInternal").create("edit_profile_cancel",a);e=b;g["default"]=e}),98);
__d("EditProfileFetchDataErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6008");b=d("FalcoLoggerInternal").create("edit_profile_fetch_data_error",a);e=b;g["default"]=e}),98);
__d("EditProfileFetchDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6009");b=d("FalcoLoggerInternal").create("edit_profile_fetch_data",a);e=b;g["default"]=e}),98);
__d("EditProfileFinishStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6010");b=d("FalcoLoggerInternal").create("edit_profile_finish_step",a);e=b;g["default"]=e}),98);
__d("EditProfileStartStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6011");b=d("FalcoLoggerInternal").create("edit_profile_start_step",a);e=b;g["default"]=e}),98);
__d("EditProfileSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6012");b=d("FalcoLoggerInternal").create("edit_profile_submit_error",a);e=b;g["default"]=e}),98);
__d("EditProfileSubmitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6013");b=d("FalcoLoggerInternal").create("edit_profile_submit",a);e=b;g["default"]=e}),98);
__d("EditProfileTapComponentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1055");b=d("FalcoLoggerInternal").create("edit_profile_tap_component",a);e=b;g["default"]=e}),98);
__d("IGDSAdsPanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(7),d,e,f,g,h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M3.712 9.664a2.327 2.327 0 0 0-1.629 2.86h0a2.327 2.327 0 0 0 2.86 1.628s6.964-1.91 13.146-.022l-3.06-11.154C10.677 7.754 3.713 9.664 3.713 9.664Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),e=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"20.952",x2:"22",y1:"7.348",y2:"7.061"}),f=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"18.988",x2:"19.752",y1:"4.404",y2:"3.631"}),g=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"20.765",x2:"21.816",y1:"10.882",y2:"11.157"}),h=j.jsx("path",{d:"M8.384 13.522a28.836 28.836 0 0 0 3.171 6.636l-3.107.866a28.343 28.343 0 0 1-3.255-6.93",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=d,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(d=b[0],e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f,g,h]})),b[5]=a,b[6]=d):d=b[6];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSBusinessPanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),d,e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M20.102 10.853v8.96a1.333 1.333 0 0 1-1.333 1.334H5.436a1.333 1.333 0 0 1-1.333-1.333v-8.961",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),e=j.jsx("path",{d:"M9.658 21.147V16.31a1.333 1.333 0 0 1 1.333-1.333h2.223a1.333 1.333 0 0 1 1.333 1.333v4.837M2.1 8.372a2.5 2.5 0 0 0 5 0m0 0a2.5 2.5 0 0 0 5 0m0 0a2.5 2.5 0 0 0 5 0",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),f=j.jsx("path",{d:"M17.1 8.372a2.5 2.5 0 0 0 5 0V6.158l-2.685-3.305H4.785L2.1 6.158v2.214",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=d,b[1]=e,b[2]=f):(d=b[0],e=b[1],f=b[2]);b[3]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f]})),b[3]=a,b[4]=d):d=b[4];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSDevicePhonePanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M17.749 2.465a2.668 2.668 0 0 0-1.1-1.102A3.635 3.635 0 0 0 14.771 1H9.23a3.63 3.63 0 0 0-1.877.363A2.676 2.676 0 0 0 6.25 2.465a3.591 3.591 0 0 0-.362 1.88v15.31a3.591 3.591 0 0 0 .362 1.88 2.675 2.675 0 0 0 1.1 1.102A3.63 3.63 0 0 0 9.229 23h5.542a3.591 3.591 0 0 0 1.88-.363 2.67 2.67 0 0 0 1.098-1.102 3.591 3.591 0 0 0 .362-1.88V4.345a3.591 3.591 0 0 0-.362-1.88Zm-1.638 17.19c0 .702-.067.827-.126.939a.666.666 0 0 1-.279.28c-.11.06-.235.126-.935.126H9.23c-.7 0-.824-.066-.934-.126a.663.663 0 0 1-.28-.28c-.059-.112-.126-.237-.126-.939V4.345c0-.701.067-.827.126-.938a.664.664 0 0 1 .28-.281C8.407 3.066 8.53 3 9.23 3h.155a1.104 1.104 0 0 0 .113.483 1.115 1.115 0 0 0 1.003.603v.01h3v-.01a1.099 1.099 0 0 0 .51-.11 1.113 1.113 0 0 0 .6-.976h.161c.699 0 .825.067.934.126a.667.667 0 0 1 .28.28c.059.112.126.238.126.94Z",fillRule:"evenodd"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSMediaAccountOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M32.2 25.5c5.3 0 9.7-4.3 9.7-9.7s-4.3-9.7-9.7-9.7c-5.3 0-9.7 4.3-9.7 9.7s4.4 9.7 9.7 9.7zm0-16.4a6.7 6.7 0 1 1 0 13.4 6.7 6.7 0 0 1 0-13.4zm5.6 19.5H26.6c-5.6 0-10.2 4.6-10.2 10.2v1.5c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-1.5c0-4 3.2-7.2 7.2-7.2h11.3c4 0 7.2 3.2 7.2 7.2v1.5c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-1.5c-.1-5.6-4.7-10.2-10.3-10.2zM14.6 24l3.6-2.9c.5-.4.8-1.1.5-1.8s-.8-1.1-1.5-1.2l-4.6-.3-1.6-4.2c-.3-.6-.9-1.1-1.6-1.1-.7 0-1.3.4-1.6 1.1l-1.7 4.3-4.6.3c-.7.1-1.3.5-1.5 1.2s0 1.4.5 1.8L4.2 24l-1.1 4.5c-.2.7.1 1.4.7 1.8.6.4 1.3.4 1.9 0l3.8-2.5 3.8 2.5c.3.2.6.3.9.3.3 0 .7-.1 1-.3.6-.4.8-1.1.7-1.8L14.6 24zm-3.3-1.1.8 3-2.6-1.7-2.6 1.7.8-3-2.4-2 3.1-.2 1.2-3 1.2 3 3.1.2-2.6 2z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 48 48",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IgWellbeingRestrictManageCommentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5703");b=d("FalcoLoggerInternal").create("ig_wellbeing_restrict_manage_comment",a);e=b;g["default"]=e}),98);
__d("InstagramWellbeingCommentCoverEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3719");b=d("FalcoLoggerInternal").create("instagram_wellbeing_comment_cover_event",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("500");b=d("FalcoLoggerInternal").create("interest_account_conversion_cancel",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionEnterFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6014");b=d("FalcoLoggerInternal").create("interest_account_conversion_enter",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionFetchDataErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6015");b=d("FalcoLoggerInternal").create("interest_account_conversion_fetch_data_error",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionFetchDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6016");b=d("FalcoLoggerInternal").create("interest_account_conversion_fetch_data",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionFinishStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6017");b=d("FalcoLoggerInternal").create("interest_account_conversion_finish_step",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionStartStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6018");b=d("FalcoLoggerInternal").create("interest_account_conversion_start_step",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6019");b=d("FalcoLoggerInternal").create("interest_account_conversion_submit_error",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionSubmitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6020");b=d("FalcoLoggerInternal").create("interest_account_conversion_submit",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionTapComponentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1056");b=d("FalcoLoggerInternal").create("interest_account_conversion_tap_component",a);e=b;g["default"]=e}),98);
__d("PolarisAPIApproveRestrictedComment",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/restrict_action/approve_restricted_comment/",{body:{comment_id:a}}).then(function(a){return a.data})}g.approveRestrictedComment=a}),98);
__d("PolarisAPIDeleteCommentOnPost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("PolarisInstapi").apiPost("/api/v1/web/comments/{media_id}/delete/{comment_id}/",{path:{comment_id:b,media_id:a}}).then(function(a){return a.data})}g.deleteCommentOnPost=a}),98);
__d("PolarisAPIEditCollection",["PolarisInstapi","emptyObject","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.collectionId,e=a.collectionName,f=a.postIdsToAdd;a=a.postIdsToRemove;a=babelHelpers["extends"]({added_media_ids:JSON.stringify((f=f)!=null?f:[]),removed_media_ids:JSON.stringify((f=a)!=null?f:[])},c("isStringNullOrEmpty")(e)?c("emptyObject"):{name:e});return d("PolarisInstapi").apiPost("/api/v1/collections/{collection_id}/edit/",{body:a,path:{collection_id:b}}).then(function(a){return a.data})}g.editCollection=a}),98);
__d("PolarisAPIGetChildComments",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/comments/{parent_comment_id}/child_comments/",{path:{media_id:a,parent_comment_id:b},query:babelHelpers["extends"]({},c!=null?{max_id:c}:{})}).then(function(a){return a.data})}g.getChildComments=a}),98);
__d("PolarisAPIGetInitialComments",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/comments/",{path:{media_id:a},query:{can_support_threading:!0,permalink_enabled:!!b,sort_order:c!=null?String(c):void 0,target_comment_id:b}}).then(function(a){return a.data})}g.getInitialComments=a}),98);
__d("PolarisAPIGetPaginationComments",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){c===void 0&&(c=!0);return d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/comments/",{path:{media_id:a},query:babelHelpers["extends"]({can_support_threading:!0},c===!0?{min_id:b}:{max_id:b},{sort_order:String(e)})}).then(function(a){return a.data})}g.getPaginationComments=a}),98);
__d("PolarisAPIHidePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.inventorySource,c=a.postId;a=a.reason;return d("PolarisInstapi").apiPost("/api/v1/discover/explore_report/",{body:{container_module:"feed_timeline",inventory_source:b,m_pk:c,selected_reason:a,sfplt_source:"sfplt_in_menu"}}).then(function(a){return a.data})}g.hidePost=a}),98);
__d("PolarisAPILikeComment",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/comments/like/{comment_id}/",{path:{comment_id:a}}).then(function(a){return a.data})}g.likeComment=a}),98);
__d("PolarisAPISetGender",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b={custom_gender:b,gender:Number(a)};return d("PolarisInstapi").apiPost("/api/v1/web/accounts/set_gender/",{body:b})}g.setGender=a}),98);
__d("PolarisAPIUnlikeComment",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/comments/unlike/{comment_id}/",{path:{comment_id:a}}).then(function(a){return a.data})}g.unlikeComment=a}),98);
__d("PolarisAdCTAViewabilityAction",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return function(c){c=c.state;switch(c){case"entered":case"updated":a||b(!0);break;case"exited":b(!1);break;default:break}}}f.makeAdCTAViewabilityAction=a}),66);
__d("getPolarisODSKeyWithSurfaceDimension",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if((b==null?void 0:b.isMobile)===!0)return a+".msite";else return a}f["default"]=a}),66);
__d("PolarisAdImpressionAction",["IgWebSwankFalcoEvent","InstagramAdImpressionFalcoEvent","InstagramAdSubImpressionFalcoEvent","InstagramODS","InstagramWebAdEventsAuditFalcoEvent","PolarisAdsGatingHelpers","PolarisContainerModuleUtils","PolarisLogger","PolarisNavChain","PolarisPanavisionQEHelpers","PolarisUA","PolarisViewpointActionUtils","cometGHLContentDisplayCheck","getPolarisODSKeyWithSurfaceDimension","memoizeStringOnly","qex","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qex")._("1229"),i=d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp()?"test":"control",j=2e3,k=5e3,l=6e4,m=c("memoizeStringOnly")(function(a){return new Map()}),n=c("memoizeStringOnly")(function(a){return new Map()}),o=new Set();function p(a,b,e,f,g,h,i){g===void 0&&(g=l);return function(l){var p=m(a||""),q=n(a||"");if(l.state!=="entered")return;if(o.has(b))return;o.add(b);var r=p.get(b),s=q.get(b),t=l.snapshotTime,u=function(a){var b=a.isSubImpression;return c("setTimeout")(function(){var a=!c("cometGHLContentDisplayCheck")(l.element);a?b?(c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.sub_impression.hidden.delayed",{isMobile:h})),d("PolarisLogger").logAction("adSubImpressionHiddenDelayed")):(c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.impression.hidden.delayed",{isMobile:h})),d("PolarisLogger").logAction("adImpressionHiddenDelayed")):c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(b?"web.ads.feed.sub_impression.delayed":"web.ads.feed.impression.delayed")},k-j)};c("setTimeout")(function(){var a=c("cometGHLContentDisplayCheck")(l.element);r==null?a?(e(),p.set(b,l.snapshotTime),u({isSubImpression:!1})):s==null&&(q.set(b,l.snapshotTime),c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.impression.hidden",{isMobile:h})),d("PolarisLogger").logAction("adImpressionHidden"),c("IgWebSwankFalcoEvent").log(function(){return{en:String(4),mt:String(0),sli:i.m_ix,tt:i.tracking_token}})):r!=null&&t-r>=g&&(a?(f(),p.set(b,l.snapshotTime),u({isSubImpression:!0})):(c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.sub_impression.hidden",{isMobile:h})),d("PolarisLogger").logAction("adSubImpressionHidden")));o["delete"](b)},j)}}function a(a,b,e,f){var g,j=d("PolarisViewpointActionUtils").getMPKForFeedMedia(a)||"",k=d("PolarisUA").isMobile(),m=babelHelpers["extends"]({brs_threshold:e==null?void 0:e.brs_threshold,m_pk:j,nav_chain:(g=c("PolarisNavChain").getInstance())==null?void 0:g.getNavChainForSend(),organic_brs_severity_after:e==null?void 0:e.organic_brs_severity_after,organic_brs_severity_before:e==null?void 0:e.organic_brs_severity_before,organic_media_id_after:e==null?void 0:e.organic_media_id_after,organic_media_id_before:e==null?void 0:e.organic_media_id_before,pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(b),source_of_action:d("PolarisContainerModuleUtils").getContainerModule(b)},e);g=function(){f&&c("InstagramODS").incr("web.ads.feed.impression.viewpoint"),a.isVideo===!0&&k&&c("InstagramODS").incr("web.ads.msite.feed.video_ads.impression"),c("InstagramODS").incr("web.ads.feed.impression"),c("InstagramAdImpressionFalcoEvent").logImmediately(function(){return m}),d("PolarisAdsGatingHelpers").enablebWebFeedAdsImpressionAuditSampling()===!0&&c("InstagramWebAdEventsAuditFalcoEvent").log(function(){var a;return{client_token:e.tracking_token,event:"ad_impression",social_context_type:(a=e.social_context)==null?void 0:a.social_context_type}}),h===!0&&d("PolarisAdsGatingHelpers").enablebWebFeedAdsImpressionAuditSampling()===!0&&c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:e.tracking_token,event:"impression_client",qe_infos:["ig_web_h1_2023_feed:has_relay_feed:"+i]}}),c("IgWebSwankFalcoEvent").log(function(){return{en:String(3),mt:String(0),sli:m.m_ix,tt:m.tracking_token}})};var n=function(){c("InstagramODS").incr("web.ads.feed.sub_impression"),c("InstagramAdSubImpressionFalcoEvent").logImmediately(function(){return m}),h===!0&&d("PolarisAdsGatingHelpers").enablebWebFeedAdsImpressionAuditSampling()===!0&&c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:e.tracking_token,event:"sub_impression_client",qe_infos:["ig_web_h1_2023_feed:has_relay_feed:"+i]}})};return p(b,j,g,n,l,k,m)}function b(a){return function(b){var d;if(b.state!=="entered")return;var e=m("");d=((d=a)!=null?d:"")+".cta_impression";var f=e.get(d);f==null&&(c("InstagramODS").incr("web.ads.feed.cta_impression"),e.set(d,b.snapshotTime))}}function e(a,b,d){var e=m("");a=a+".cta_impression";e=e.get(a);a=Date.now();var f=e!=null?a-e:null;c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:b,cta_dwell_time:f!=null?String(f):null,event:"cta_click",social_context_type:d}})}g.makePostAdImpressionAction=a;g.makeAdCTAImpressionAction=b;g.logCTAClickWithDwellTime=e}),98);
__d("PolarisCommentActions",["PolarisAPIApproveRestrictedComment","PolarisAPIDeleteCommentOnPost","PolarisAPILikeComment","PolarisAPIUnlikeComment","PolarisCommentActionConstants","PolarisEngagementLogger","PolarisInstapi","PolarisLegacyGraphQLPaginationUtils","PolarisLogger","PolarisMonitorErrors","PolarisSentryFeedbackActions","QPLUserFlow","asyncToGeneratorRuntime","nullthrows","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h="24896819273308298";function a(a,b,e){c("QPLUserFlow").start(c("qpl")._(379197659,"1208"),{annotations:{string:{source:e}}});return function(e){e({commentId:b,postId:a,type:"DELETE_COMMENT_REQUESTED"});d("PolarisLogger").logAction("deleteCommentAttempt");return d("PolarisAPIDeleteCommentOnPost").deleteCommentOnPost(a,b).then(function(){e({commentId:b,postId:a,type:"DELETE_COMMENT_SUCCEEDED"}),d("PolarisLogger").logAction("deleteCommentSuccess"),c("QPLUserFlow").endSuccess(c("qpl")._(379197659,"1208"))},function(){e({commentId:b,postId:a,type:"DELETE_COMMENT_FAILED"}),d("PolarisLogger").logAction("deleteCommentFailure"),c("QPLUserFlow").endFailure(c("qpl")._(379197659,"1208"),"api_errored")})}}function e(a){var b=a.commentId,e=a.userId;return function(f){c("QPLUserFlow").start(c("qpl")._(379199145,"1297"),{annotations:{string:{source:a.containerModule}}});f({commentId:b,type:"LIKE_COMMENT_REQUESTED",userId:e});return d("PolarisAPILikeComment").likeComment(b).then(function(){f({commentId:b,type:"LIKE_COMMENT_SUCCEEDED",userId:e}),d("PolarisEngagementLogger").logOrganicCommentLike(a),c("QPLUserFlow").endSuccess(c("qpl")._(379199145,"1297"))},function(g){var h;h=((h=g.responseObject)==null?void 0:h.spam)||!1;if(h){var i,j,k,l;h=(h=g.responseObject)==null?void 0:h.feedback_title;i=(i=g.responseObject)==null?void 0:i.feedback_message;j=(j=g.responseObject)==null?void 0:j.feedback_url;k=(k=g.responseObject)==null?void 0:k.feedback_action;l=(l=g.responseObject)==null?void 0:l.feedback_appeal_label;g=(g=g.responseObject)==null?void 0:g.restriction_enrollment_data;f(d("PolarisSentryFeedbackActions").showSentryFeedback({action:k,feedback_appeal_label:l,message:i,restriction_enrollment_data:g,source:a.containerModule,sourceOfAction:"like_comment",title:h,url:j}))}f({commentId:b,type:"LIKE_COMMENT_FAILED",userId:e});c("QPLUserFlow").endFailure(c("qpl")._(379199145,"1297"),"api_errored")})}}function f(a){var b=a.commentId,e=a.userId;return function(f){c("QPLUserFlow").start(c("qpl")._(379197191,"1298"),{annotations:{string:{source:a.containerModule}}});f({commentId:b,type:"UNLIKE_COMMENT_REQUESTED",userId:e});return d("PolarisAPIUnlikeComment").unlikeComment(b).then(function(){f({commentId:b,type:"UNLIKE_COMMENT_SUCCEEDED",userId:e}),d("PolarisEngagementLogger").logOrganicCommentUnlike(a),c("QPLUserFlow").endSuccess(c("qpl")._(379197191,"1298"))},function(){f({commentId:b,type:"UNLIKE_COMMENT_FAILED",userId:e}),c("QPLUserFlow").endFailure(c("qpl")._(379197191,"1298"),"api_errored")})}}function i(a){return function(b){b({commentId:a,type:"APPROVE_RESTRICTED_COMMENT_REQUESTED"});return d("PolarisAPIApproveRestrictedComment").approveRestrictedComment(a).then(function(){b({commentId:a,type:"APPROVE_RESTRICTED_COMMENT_SUCCEEDED"})},function(){b({commentId:a,type:"APPROVE_RESTRICTED_COMMENT_FAILED"})})}}h=d("PolarisLegacyGraphQLPaginationUtils").generatePaginationActionCreators({getState:function(a,b){return a.comments.byPostId.get(b).pagination},onError:function(a,b,c){return{fetch:b,postId:c,type:"COMMENT_REQUEST_FAILED"}},onUpdate:function(a,b,d){b=b&&c("nullthrows")(b.shortcode_media).edge_media_to_comment;return{comments:((b==null?void 0:b.edges)||[]).map(function(a){return a.node}),count:b==null?null:b.count,fetch:a,pageInfo:b==null?null:b.page_info,postId:d,type:"COMMENT_REQUEST_UPDATED"}},pageSize:d("PolarisCommentActionConstants").PAGE_SIZE,pagesToPreload:d("PolarisCommentActionConstants").PAGES_TO_PRELOAD,queryId:h,queryParams:function(a,b){return{shortcode:b}}});h=h.next;function j(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c={comment_ids:[a].join()};b({commentId:a,type:"TRANSLATE_COMMENT_REQUESTED"});d("PolarisLogger").logAction("translateCommentAttempt");try{c=(yield d("PolarisInstapi").apiGet("/api/v1/language/bulk_translate/",{query:c}));b({commentId:a,translation:c.data.comment_translations[0].translation,type:"TRANSLATE_COMMENT_SUCCEEDED"});d("PolarisLogger").logAction("translateCommentSuccess")}catch(c){d("PolarisMonitorErrors").logError(c),b({commentId:a,type:"TRANSLATE_COMMENT_FAILED"}),d("PolarisLogger").logAction("translateCommentFailure")}});return function(a){return c.apply(this,arguments)}}()}function k(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b({commentId:a,type:"SHOW_COMMENT_TRANSLATED_TEXT"})});return function(a){return c.apply(this,arguments)}}()}function l(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b({commentId:a,type:"SHOW_COMMENT_ORIGINAL_TEXT"})});return function(a){return c.apply(this,arguments)}}()}g.deleteComment=a;g.likeComment=e;g.unlikeComment=f;g.approveRestrictedComment=i;g.requestNextCommentPage=h;g.translateComment=j;g.showCommentTranslatedText=k;g.showCommentOriginalText=l}),98);
__d("PolarisIgWellbeingRestrictManageCommentFalcoEvent",["IgWellbeingRestrictManageCommentFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a={log:function(a){var b=a.action,d=a.actorIgUserid,e=a.commentId,f=a.commentThreadId,g=a.parentMediaId,h=a.step;c("IgWellbeingRestrictManageCommentFalcoEvent").log(function(){return{action:b,actor_ig_userid:d,comment_id:e,entrypoint:"comment",parent_comment_id:f===e?void 0:f,parent_media_id:g,step:h}})}};b=a;g["default"]=b}),98);
__d("PolarisApproveCommentDialog.react",["fbt","IGCoreDialog.react","PolarisCommentActions","PolarisGenericStrings","PolarisIgWellbeingRestrictManageCommentFalcoEvent","PolarisReactRedux.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__tcYuI406tjI__JHASH__"),l=h._("__JHASH__Xm8X8O_-34c__JHASH__");function m(a){return h._("__JHASH__jpni5sI8y-X__JHASH__",[h._param("username",a)])}b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props,b=a.commentId,e=a.commentOwnerId,f=a.commentThreadId;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:e,commentId:b,commentThreadId:f,parentMediaId:a,step:"approval_page_approve_this_comment"});d.props.onApproveClick();d.props.onClose()},d.$2=function(){var a=d.props,b=a.commentId,e=a.commentOwnerId,f=a.commentThreadId;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:e,commentId:b,commentThreadId:f,parentMediaId:a,step:"approval_page_cancel"});d.props.onClose()},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.render=function(){var a=this.props.commentOwnerUsername;return j.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:m(a),onModalClose:this.props.onClose,title:l,children:[j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$1,children:k}),j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.$2,children:d("PolarisGenericStrings").CANCEL_TEXT})]})};return b}(j.Component);function a(a,b){return{onApproveClick:function(){a(d("PolarisCommentActions").approveRestrictedComment(b.commentId))}}}e=d("PolarisReactRedux.react").connect(null,a)(b);g.APPROVE_COMMENT_CTA=k;g.ApproveCommentDialog=e}),226);
__d("usePolarisLocalStorageState",["PolarisMonitorErrors","PolarisWebStorage","keyMirror","react","useJSON"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;c("keyMirror")({covered_comments_nux_counter:0,feed_creation_discovery_tooltip_shown:null,ig_web_boost_continuous_ads_tooltip_shown:null,immersive_viewer_scroll_nux_tooltip_shown:null});function a(a,b){var e;e=(e=d("PolarisWebStorage").getLocalStorage())==null?void 0:e.getItem(a);e=c("useJSON")((e=e)!=null?e:null);e=j((e=e)!=null?e:b);var f=e[0];b=e[1];i(function(){var b=d("PolarisWebStorage").getLocalStorage();if(f!=null&&b!=null)try{b.setItem(a,(b=JSON.stringify(f))!=null?b:"")}catch(a){d("PolarisMonitorErrors").logError(a)}},[a,f]);return[f,b]}g.useLocalStorageState=a}),98);
__d("PolarisCommentCover.react",["fbt","BaseButton.react","IGDSBox.react","IGDSEyeOffOutlineIcon.react","IGDSText.react","InstagramWellbeingCommentCoverEventFalcoEvent","PolarisReactRedux.react","react","usePartialViewImpression","usePolarisLocalStorageState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect,l=b.useState,m=b.c,n={viewHiddenCommentsButton:{userSelect:"x87ps6o",":active_opacity":"x1d5wrs8",$$css:!0}};function o(a){var b=m(2),d;b[0]!==a?(d=function(){a()},b[0]=a,b[1]=d):d=b[1];b=d;return c("usePartialViewImpression")({onImpressionStart:b})}function a(a){var b=m(30),e=a.onClick,f=a.postId;a=a.xstyle;var g=d("PolarisReactRedux.react").useDispatch(),i=l(!1),p=i[0],q=i[1];i=l(!1);var r=i[0],s=i[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=function(){return s(!0)},b[0]=i):i=b[0];i=o(i);var t=d("usePolarisLocalStorageState").useLocalStorageState("covered_comments_nux_counter",0),u=t[0],v=t[1],w;b[1]!==u?(t=function(){u<=2&&q(!0)},w=[u],b[1]=u,b[2]=t,b[3]=w):(t=b[2],w=b[3]);k(t,w);b[4]!==r||b[5]!==v||b[6]!==f||b[7]!==p?(t=function(){r&&(v(function(a){return a+1}),c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"impression",media_id:f,step:"comment_cover_cta_impression"}}),p&&c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"impression",media_id:f,step:"comment_cover_nux_impression"}}))},b[4]=r,b[5]=v,b[6]=f,b[7]=p,b[8]=t):t=b[8];b[9]!==r||b[10]!==g||b[11]!==f||b[12]!==p||b[13]!==v?(w=[r,g,f,p,v],b[9]=r,b[10]=g,b[11]=f,b[12]=p,b[13]=v,b[14]=w):w=b[14];k(t,w);b[15]!==f||b[16]!==p||b[17]!==e?(g=function(){c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"click",media_id:f,step:p?"comment_cover_cta_with_nux_click":"comment_cover_cta_without_nux_click"}}),e()},b[15]=f,b[16]=p,b[17]=e,b[18]=g):g=b[18];t=g;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(w=j.jsx(c("IGDSEyeOffOutlineIcon.react"),{alt:h._("__JHASH__ajqT5_2IQub__JHASH__"),color:"ig-secondary-text",size:15}),b[19]=w):w=b[19];b[20]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"medium",children:h._("__JHASH__klfeVaNFXrI__JHASH__")}),b[20]=g):g=b[20];b[21]!==t?(w=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",marginBottom:4,children:[w,j.jsx(c("IGDSBox.react"),{marginStart:2,children:j.jsx(c("BaseButton.react"),{onClick:t,xstyle:n.viewHiddenCommentsButton,children:g})})]}),b[21]=t,b[22]=w):w=b[22];b[23]!==p?(g=p&&j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"light",children:h._("__JHASH__jw4oHGOmBxA__JHASH__")}),b[23]=p,b[24]=g):g=b[24];b[25]!==i||b[26]!==a||b[27]!==w||b[28]!==g?(t=j.jsxs(c("IGDSBox.react"),{containerRef:i,direction:"column",xstyle:a,children:[w,g]}),b[25]=i,b[26]=a,b[27]=w,b[28]=g,b[29]=t):t=b[29];return t}g["default"]=a}),226);
__d("PolarisCommentLikeListsActions",["PolarisCommentLikeListsState","PolarisLegacyGraphQLPaginationUtils","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h="17953756669066153",i=24,j=1;function a(){return d("PolarisLegacyGraphQLPaginationUtils").generatePaginationActionCreators({getState:function(a,b){return((a=a.commentLikeLists[b])!=null?a:d("PolarisCommentLikeListsState").EMPTY_LISTS).pagination},onError:function(a,b,c){return{commentId:c,fetch:b,type:"COMMENT_LIKE_LISTS__REQUEST_FAILED"}},onUpdate:function(a,b,d){b=b&&c("nullthrows")(b.comment).edge_liked_by;return{commentId:d,count:b==null?void 0:b.count,fetch:a,pageInfo:b==null?void 0:b.page_info,type:"COMMENT_LIKE_LISTS_REQUEST_UPDATED",users:((b==null?void 0:b.edges)||[]).map(function(a){return a.node})}},pageSize:i,pagesToPreload:j,queryId:h,queryParams:function(a){return{comment_id:a}}})}b=a();e=b;f=b.first;a=b.next;g._actionCreators=e;g.requestCommentLikes=f;g.requestNextCommentLikes=a}),98);
__d("PolarisCommentOptionsDialog.react",["fbt","IGCoreDialog.react","IGDSDialogBackwardsCompatibilityWrapper.react","PolarisConfig","PolarisFRXReportModal.react","PolarisGenericStrings","PolarisReportConstants","PolarisReportUnderLawDialogItem.react","react","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useState,l=b.c;function a(a){var b=l(33),e=a.canDeleteComment,f=a.canPinComment,g=a.commentId,i=a.commentOwnerAvatar,m=a.commentOwnerFbidV2,n=a.commentOwnerId,o=a.commentOwnerUsername,p=a.mediaOwnerId,q=a.onClose,r=a.onDelete;a=a.onPin;f=f===void 0?!1:f;var s=k(!1),t=s[0],u=s[1];s=n!==((s=c("usePolarisViewer")())==null?void 0:s.id);var v;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(v=function(){u(!0)},b[0]=v):v=b[0];v=v;var w;b[1]!==q?(w=function(){q(),u(!1)},b[1]=q,b[2]=w):w=b[2];w=w;var x;b[3]!==r||b[4]!==q?(x=function(){r(),q()},b[3]=r,b[4]=q,b[5]=x):x=b[5];x=x;if(t){b[6]!==m||b[7]!==n||b[8]!==i||b[9]!==o?(t={fbidV2:m,id:n,profilePicURL:i,username:o},b[6]=m,b[7]=n,b[8]=i,b[9]=o,b[10]=t):t=b[10];m=n===p;b[11]!==w||b[12]!==g||b[13]!==t||b[14]!==m?(i=j.jsx(c("IGDSDialogBackwardsCompatibilityWrapper.react"),{children:j.jsx(c("PolarisFRXReportModal.react"),{frxLocation:d("PolarisReportConstants").FRXLocation.COMMENTS,frxObjectType:d("PolarisReportConstants").FRXObjectType.COMMENT,onClose:w,reportedObjectID:g,reportedOwner:t,useSimpleBlockModalWithoutRefresh:m})}),b[11]=w,b[12]=g,b[13]=t,b[14]=m,b[15]=i):i=b[15];return i}b[16]!==g||b[17]!==o?(n=d("PolarisConfig").isLoggedIn()?j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:v,children:h._("__JHASH__67YjhX5VKnw__JHASH__")}):j.jsx(d("PolarisReportUnderLawDialogItem.react").ReportUnderLawDialogItem,{contentId:g,reportingType:d("PolarisReportUnderLawDialogItem.react").InstagramLegalReportingType.COMMENT,username:o}),b[16]=g,b[17]=o,b[18]=n):n=b[18];p=n;t=s&&p;b[19]!==f||b[20]!==a?(m=f&&j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-secondary-button",onClick:a,children:h._("__JHASH__sDIwOLrRvhV__JHASH__")}),b[19]=f,b[20]=a,b[21]=m):m=b[21];b[22]!==e||b[23]!==x?(i=e&&j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:x,children:h._("__JHASH__ZQcmJOKw3wW__JHASH__")}),b[22]=e,b[23]=x,b[24]=i):i=b[24];b[25]!==w?(v=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:w,children:d("PolarisGenericStrings").CANCEL_TEXT}),b[25]=w,b[26]=v):v=b[26];b[27]!==w||b[28]!==t||b[29]!==m||b[30]!==i||b[31]!==v?(g=j.jsxs(d("IGCoreDialog.react").IGCoreDialog,{onModalClose:w,children:[t,m,i,v]}),b[27]=w,b[28]=t,b[29]=m,b[30]=i,b[31]=v,b[32]=g):g=b[32];return g}g["default"]=a}),226);
__d("PolarisPostCommentPlaceholder.react",["IGDSBox.react","IGDSGlimmer.react","PolarisIGTheme.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={avatarGlimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x10w6t97",marginEnd:"x1emribx",marginLeft:null,marginRight:null,width:"x1td3qas",$$css:!0},darkModeBackgroundColor:{backgroundColor:"x1c9t90q",$$css:!0},subtextGlimmer:{height:"x1kpxq89",width:"x1exxlbk",$$css:!0},textGlimmer:{height:"x1kpxq89",marginBottom:"x12nagc",width:"x1oysuqx",$$css:!0}};function a(a){var b=i(22),e=a.index;a=a.marginTop;a=a===void 0?6:a;var f=d("PolarisIGTheme.react").useTheme().getTheme()===d("PolarisIGTheme.react").IGTheme.Dark,g=f&&k.darkModeBackgroundColor,h;b[0]!==g?(h=[k.avatarGlimmer,g],b[0]=g,b[1]=h):h=b[1];b[2]!==e||b[3]!==h?(g=j.jsx(c("IGDSGlimmer.react"),{index:e,xstyle:h}),b[2]=e,b[3]=h,b[4]=g):g=b[4];h=f&&k.darkModeBackgroundColor;var l;b[5]!==h?(l=[k.textGlimmer,h],b[5]=h,b[6]=l):l=b[6];b[7]!==e||b[8]!==l?(h=j.jsx(c("IGDSGlimmer.react"),{index:e,xstyle:l}),b[7]=e,b[8]=l,b[9]=h):h=b[9];l=f&&k.darkModeBackgroundColor;b[10]!==l?(f=[k.subtextGlimmer,l],b[10]=l,b[11]=f):f=b[11];b[12]!==e||b[13]!==f?(l=j.jsx(c("IGDSGlimmer.react"),{index:e,xstyle:f}),b[12]=e,b[13]=f,b[14]=l):l=b[14];b[15]!==h||b[16]!==l?(e=j.jsxs(c("IGDSBox.react"),{children:[h,l]}),b[15]=h,b[16]=l,b[17]=e):e=b[17];b[18]!==a||b[19]!==g||b[20]!==e?(f=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",marginTop:a,children:[g,e]}),b[18]=a,b[19]=g,b[20]=e,b[21]=f):f=b[21];return f}g["default"]=a}),98);
__d("PolarisCommentsContainerPlaceholder.react",["IGDSBox.react","PolarisPostCommentPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(10),d=a.indexOffset,e=a.marginTop,f=a.rowsCount;a=a.xStyle;d=d===void 0?0:d;e=e===void 0?6:e;f=f===void 0?7:f;var g;if(b[0]!==f||b[1]!==d){g=[];for(var h=1;h<=f;h++)g.push(j.jsx(c("PolarisPostCommentPlaceholder.react"),{index:d+h},h));b[0]=f;b[1]=d;b[2]=g}else g=b[2];h=d+0;b[3]!==h||b[4]!==e?(f=j.jsx(c("PolarisPostCommentPlaceholder.react"),{index:h,marginTop:e}),b[3]=h,b[4]=e,b[5]=f):f=b[5];b[6]!==a||b[7]!==f||b[8]!==g?(d=j.jsxs(c("IGDSBox.react"),{marginStart:2,xstyle:a,children:[f,g]}),b[6]=a,b[7]=f,b[8]=g,b[9]=d):d=b[9];return d}g["default"]=a}),98);
__d("PolarisCommentsSectionText.react",["IGDSBox.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(8),d=a.commentsDivider,e=a.marginStart;a=a.text;var f;b[0]!==a?(f=j.jsx(c("IGDSText.react"),{color:"secondaryText",children:a}),b[0]=a,b[1]=f):f=b[1];b[2]!==e||b[3]!==f?(a=j.jsx(c("IGDSBox.react"),{marginBottom:5,marginStart:e,marginTop:2,children:f}),b[2]=e,b[3]=f,b[4]=a):a=b[4];e=d!=null&&d;b[5]!==a||b[6]!==e?(f=j.jsxs(c("IGDSBox.react"),{marginBottom:1,children:[a,e]}),b[5]=a,b[6]=e,b[7]=f):f=b[7];return f}g["default"]=a}),98);
__d("PolarisCommentsSortContext.react",["PolarisSortCommentsUtil","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.c,k=i.createContext({commentsSortOrder:d("PolarisSortCommentsUtil").CommentsOptionValues.TOP,isImmersiveViewer:!1,setCommentsSortOrder:c("emptyFunction")});function a(a){var b=j(7),c=a.children,d=a.commentsSortOrder,e=a.isImmersiveViewer;a=a.setCommentsSortOrder;var f;b[0]!==d||b[1]!==e||b[2]!==a?(f={commentsSortOrder:d,isImmersiveViewer:e,setCommentsSortOrder:a},b[0]=d,b[1]=e,b[2]=a,b[3]=f):f=b[3];d=f;e=d;b[4]!==e||b[5]!==c?(a=i.jsx(k.Provider,{value:e,children:c}),b[4]=e,b[5]=c,b[6]=a):a=b[6];return a}g.PolarisCommentsSortContext=k;g.PolarisCommentsSortContextProvider=a}),98);
__d("PolarisCommentsStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__lslJteO7R3P__JHASH__");g.COVERED_COMMENTS=a}),226);
__d("PolarisGenderActions",["fbt","PolarisAPISetGender","PolarisGenericStrings"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){return function(c){c({customGender:b,gender:a,type:"GENDER_INFO_LOADED"})}}function i(a,b){return function(c){c({type:"GENDER_INFO_UPDATE_REQUESTED"});return d("PolarisAPISetGender").setGender(a,b).then(function(){c({customGender:b,gender:a,type:"GENDER_INFO_UPDATE_SUCCEEDED"})},function(e){c({toast:{actionHandler:function(){return c(i(a,b))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:e.message||h._("__JHASH__R3pc3xZiqMF__JHASH__")},type:"GENDER_INFO_UPDATE_FAILED"})})}}g.loadGenderInfo=a;g.updateGenderInfo=i}),226);
__d("PolarisNoCommentsPlaceholder.react",["fbt","IGDSBox.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(){var a=j(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__MYZn3VY5517__JHASH__"),a[0]=b):b=a[0];b=b;var d;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__ZnOaVd3FLUq__JHASH__"),a[1]=d):d=a[1];d=d;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("IGDSBox.react"),{marginBottom:2,children:k.jsx(c("IGDSText.react").Headline2,{textAlign:"center",children:b})}),a[2]=b):b=a[2];a[3]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsxs(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",children:[b,k.jsx(c("IGDSBox.react"),{marginTop:2,children:k.jsx(c("IGDSText.react").Body,{textAlign:"center",children:d})})]}),a[3]=b):b=a[3];return b}g["default"]=a}),226);
__d("PolarisPostActionAddPostToCollection",["InstagramODS","PolarisAPIEditCollection","nullthrows","polarisUserSelectors"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.collectionId,e=a.failureHandler,f=a.postIds,g=a.successHandler;return function(a,h){h=h();var i=c("nullthrows")(d("polarisUserSelectors").getViewer__DEPRECATED(h)).id;a({collectionId:b,postIds:f,type:"ADD_POST_TO_COLLECTION_REQUESTED"});c("InstagramODS").incr("web.saveToCollection.attempt");return d("PolarisAPIEditCollection").editCollection({collectionId:b,postIdsToAdd:[].concat(f)}).then(function(){a({collectionId:b,postIds:f,type:"ADD_POST_TO_COLLECTION_SUCCEEDED",userId:i}),c("InstagramODS").incr("web.saveToCollection.success"),g!=null&&g()})["catch"](function(){a({collectionId:b,postIds:f,type:"ADD_POST_TO_COLLECTION_FAILED"}),c("InstagramODS").incr("web.saveToCollection.failure"),e!=null&&e()})}}g.addPostToCollection=a}),98);
__d("PolarisPostActionHidePost",["InstagramODS","PolarisAPIHidePost","PolarisMonitorErrors","asyncToGeneratorRuntime","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.postId,f=a.reason,g=a.inventorySource;a=a.onSuccess;var h=a===void 0?c("emptyFunction"):a;return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield d("PolarisAPIHidePost").hidePost({inventorySource:g,postId:e,reason:f}),c("InstagramODS").incr("web.hide_post.succeeded"),a({postId:e,type:"HIDE_POST_SUCCEEDED"}),h()}catch(a){c("InstagramODS").incr("web.hide_post.failed"),d("PolarisMonitorErrors").logError(a)}});return function(b){return a.apply(this,arguments)}}()}g.hidePost__LEGACY=a}),98);
__d("PolarisPostActionLoadPostQueryInlineFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineFragment"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryInlineMediaFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineMediaFragment"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryInlineSharerFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineSharerFragment"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryLegacyQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"child_comment_count"},b={defaultValue:null,kind:"LocalArgument",name:"fetch_comment_count"},c={defaultValue:10,kind:"LocalArgument",name:"fetch_like_count"},d={defaultValue:2,kind:"LocalArgument",name:"fetch_preview_comment_count"},e={defaultValue:3,kind:"LocalArgument",name:"fetch_related_profile_media_count"},f={defaultValue:null,kind:"LocalArgument",name:"fetch_tagged_user_count"},g={defaultValue:!1,kind:"LocalArgument",name:"has_threaded_comments"},h={defaultValue:null,kind:"LocalArgument",name:"hoisted_comment_id"},i={defaultValue:null,kind:"LocalArgument",name:"hoisted_reply_id"},j={defaultValue:null,kind:"LocalArgument",name:"parent_comment_count"},k={defaultValue:null,kind:"LocalArgument",name:"shortcode"},aa=[{kind:"Variable",name:"shortcode",variableName:"shortcode"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"shortcode",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"thumbnail_src",storageKey:null},p={alias:null,args:null,concreteType:"XDTGraphMediaDimensions",kind:"LinkedField",name:"dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"buttons",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"gating_type",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"center_button",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"post_reveal_cta",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"time_gated",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"misinformation_type",storageKey:null},y={alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[q,r,s,t,u,v,w,x],storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"fact_check_overall_rating",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},C={alias:null,args:null,concreteType:"XDTGraphMediaFactCheck",kind:"LinkedField",name:"fact_check_information",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaFactCheckProvider",kind:"LinkedField",name:"provider",plural:!1,selections:[A,B,{alias:null,args:null,kind:"ScalarField",name:"appeal_email",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_directly_rated",storageKey:null}],storageKey:null},D={alias:null,args:null,concreteType:"XDTGraphMediaSensitivityFrictionInfo",kind:"LinkedField",name:"sensitivity_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sensitivity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_primary_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_secondary_button",storageKey:null}],storageKey:null},E={alias:null,args:null,concreteType:"XDTGraphMediaSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},H={alias:null,args:null,concreteType:"XDTGraphMediaOverlayIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},A,G],storageKey:null},I=[{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},F,{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},H,{alias:null,args:null,concreteType:"XDTGraphMediaOverlayTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null}];I={alias:null,args:null,concreteType:"XDTGraphMediaOverlayInfo",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:I,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:I,storageKey:null},r,H,x,{alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"bloks_data",storageKey:null}],storageKey:null};H={alias:null,args:null,kind:"ScalarField",name:"media_preview",storageKey:null};x={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null};G={alias:null,args:null,concreteType:"XDTGraphImageResource",kind:"LinkedField",name:"display_resources",plural:!0,selections:[G,{alias:null,args:null,kind:"ScalarField",name:"config_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"config_height",storageKey:null}],storageKey:null};var J={alias:null,args:null,kind:"ScalarField",name:"is_video",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},L={alias:null,args:null,concreteType:"XDTGraphUpcomingEventDict",kind:"LinkedField",name:"upcoming_event",plural:!1,selections:[m,t,{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reminder_enabled",storageKey:null}],storageKey:null},ba=[{kind:"Variable",name:"first",variableName:"fetch_tagged_user_count"}],M={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"followed_by_viewer",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},ca={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"user",plural:!1,selections:[M,N,m,O,B,P],storageKey:null},da={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},fa={alias:null,args:ba,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[ca,da,ea],storageKey:null}],storageKey:null}],storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},S=[R],T={alias:null,args:null,concreteType:"XDTgraphuser_edge_followed_by_connection",kind:"LinkedField",name:"edge_followed_by",plural:!1,selections:S,storageKey:null};N={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:[m,P,{alias:null,args:null,kind:"ScalarField",name:"has_onboarded_to_text_post_app",storageKey:null},O,B,{alias:null,args:null,kind:"ScalarField",name:"blocked_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_by_viewer",storageKey:null},N,M,{alias:null,args:null,kind:"ScalarField",name:"has_blocked_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},Q,{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requested_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pass_tiering_recommendation",storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:S,storageKey:null},T],storageKey:null};var ga=[{kind:"Literal",name:"first",value:1}],U={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},ha={alias:null,args:null,kind:"ScalarField",name:"can_see_insights_as_brand",storageKey:null},ia={alias:null,args:null,kind:"ScalarField",name:"caption_is_edited",storageKey:null},ja={alias:null,args:null,kind:"ScalarField",name:"has_ranked_comments",storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},la={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},ma={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},na={alias:null,args:null,kind:"ScalarField",name:"taken_at_timestamp",storageKey:null},V=[m,O,B,P],oa={alias:null,args:[{kind:"Variable",name:"first",variableName:"fetch_like_count"}],concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:[R,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:V,storageKey:null}],storageKey:null}],storageKey:null},W=[m,P],pa={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"sponsor",plural:!1,selections:W,storageKey:null},qa={alias:null,args:null,kind:"ScalarField",name:"is_affiliate",storageKey:null},ra={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null};A={alias:null,args:null,concreteType:"XDTGraphLocation",kind:"LinkedField",name:"location",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"has_public_page",storageKey:null},A,{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_json",storageKey:null}],storageKey:null};var sa={alias:null,args:null,concreteType:"XDTGraphNftAssetInfoType",kind:"LinkedField",name:"nft_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"asset_id",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"shimmer_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_igid",storageKey:null}],storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"viewer_has_liked",storageKey:null},ta={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved",storageKey:null},ua={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved_to_collection",storageKey:null},va={alias:null,args:null,kind:"ScalarField",name:"viewer_in_photo_of_you",storageKey:null},wa={alias:null,args:null,kind:"ScalarField",name:"viewer_can_reshare",storageKey:null},xa={alias:null,args:null,kind:"ScalarField",name:"is_ad",storageKey:null},ya={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"coauthor_producers",plural:!0,selections:V,storageKey:null},za={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"pinned_for_users",plural:!0,selections:V,storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},Z=[Y],$={kind:"InlineFragment",selections:Z,type:"XDTGraphImage",abstractKey:null};M={alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_related_profiles_connection",kind:"LinkedField",name:"edge_related_profiles",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_related_profiles",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:[m,M,Q,O,B,P,T,{alias:null,args:[{kind:"Variable",name:"first",variableName:"fetch_related_profile_media_count"}],concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:[R,{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,m,n,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:S,storageKey:null},{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:S,storageKey:null},o,{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:W,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[q,r,s,t,u,v,w],storageKey:null},E,I,J,$,{kind:"InlineFragment",selections:Z,type:"XDTGraphSidecar",abstractKey:null},{kind:"InlineFragment",selections:Z,type:"XDTGraphVideo",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};Q={alias:null,args:null,concreteType:"XDTGraphDashInfo",kind:"LinkedField",name:"dash_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null}],storageKey:null};O={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null};B={alias:null,args:null,kind:"ScalarField",name:"video_url",storageKey:null};P={alias:null,args:null,kind:"ScalarField",name:"video_view_count",storageKey:null};T={alias:null,args:null,kind:"ScalarField",name:"video_play_count",storageKey:null};W={kind:"InlineFragment",selections:[Y,Q,O,B,P,T,{alias:null,args:null,kind:"ScalarField",name:"encoding_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_published",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"video_duration",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphClipsMusicAttributionInfo",kind:"LinkedField",name:"clips_music_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"song_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uses_original_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_id",storageKey:null}],storageKey:null}],type:"XDTGraphVideo",abstractKey:null};q={kind:"InlineFragment",selections:[Y,Q,O,B,P,T],type:"XDTGraphVideo",abstractKey:null};r={alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null};s={alias:null,args:null,kind:"ScalarField",name:"did_report_as_spam",storageKey:null};u={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:V,storageKey:null};v={alias:null,args:null,concreteType:"XDTgraphcomment_edge_liked_by_connection",kind:"LinkedField",name:"edge_liked_by",plural:!1,selections:S,storageKey:null};w={alias:null,args:null,kind:"ScalarField",name:"is_restricted_pending",storageKey:null};Z=[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[m,F,U,s,u,X,v,w],storageKey:null}];t={condition:"has_threaded_comments",kind:"Condition",passingValue:!1,selections:[{alias:null,args:[{kind:"Variable",name:"first",variableName:"fetch_comment_count"}],concreteType:"XDTgraphmediainterface_edge_media_to_comment_connection",kind:"LinkedField",name:"edge_media_to_comment",plural:!1,selections:[R,r,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_comment",kind:"LinkedField",name:"edges",plural:!0,selections:Z,storageKey:null}],storageKey:null}]};Q={alias:null,args:[{kind:"Variable",name:"first",variableName:"child_comment_count"}],concreteType:"XDTgraphcomment_edge_threaded_comments_connection",kind:"LinkedField",name:"edge_threaded_comments",plural:!1,selections:[R,r,{alias:null,args:null,concreteType:"XDTgraphcomment_edge_threaded_comments",kind:"LinkedField",name:"edges",plural:!0,selections:Z,storageKey:null}],storageKey:null};O={condition:"has_threaded_comments",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"first",variableName:"parent_comment_count"}],concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment_connection",kind:"LinkedField",name:"edge_media_to_parent_comment",plural:!1,selections:[R,r,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[m,F,U,s,u,X,v,w,Q],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"hoisted_comment_id",variableName:"hoisted_comment_id"}],concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment_connection",kind:"LinkedField",name:"edge_media_to_hoisted_comment",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[m,F,U,s,u,X,v,w,{alias:null,args:[{kind:"Variable",name:"hoisted_reply_id",variableName:"hoisted_reply_id"}],concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply_connection",kind:"LinkedField",name:"edge_comment_to_hoisted_reply",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply",kind:"LinkedField",name:"edges",plural:!0,selections:Z,storageKey:null}],storageKey:null},Q],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"first",variableName:"fetch_preview_comment_count"}],concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:[R,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment",kind:"LinkedField",name:"edges",plural:!0,selections:Z,storageKey:null}],storageKey:null}]};B={alias:null,args:ba,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[ca,da,ea,m],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g,h,i,j,k],kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryLegacyQuery",selections:[{alias:null,args:aa,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineFragment",selections:[l,m,n,o,p,y,z,C,D,E,I,H,x,G,J,K,L,fa,N,{alias:null,args:ga,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[U,F],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},ha,ia,ja,ka,la,ma,na,oa,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[pa],storageKey:null}],storageKey:null}],storageKey:null},qa,ra,A,sa,X,ta,ua,va,wa,xa,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n,o],storageKey:null}],storageKey:null}],storageKey:null},ya,za,M,W,$,{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,m,n,p,y,z,C,D,E,I,H,x,G,q,$,J,K,L,fa],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null},t,O],args:null,argumentDefinitions:[{kind:"RootArgument",name:"child_comment_count"},{kind:"RootArgument",name:"fetch_comment_count"},{kind:"RootArgument",name:"fetch_like_count"},{kind:"RootArgument",name:"fetch_preview_comment_count"},{kind:"RootArgument",name:"fetch_related_profile_media_count"},{kind:"RootArgument",name:"fetch_tagged_user_count"},{kind:"RootArgument",name:"has_threaded_comments"},{kind:"RootArgument",name:"hoisted_comment_id"},{kind:"RootArgument",name:"hoisted_reply_id"},{kind:"RootArgument",name:"parent_comment_count"}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[k,b,e,j,a,c,f,d,g,h,i],kind:"Operation",name:"PolarisPostActionLoadPostQueryLegacyQuery",selections:[{alias:null,args:aa,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[l,{kind:"TypeDiscriminator",abstractKey:"__isXDTGraphMediaInterface"},m,n,o,p,y,z,C,D,E,I,H,x,G,J,K,L,B,N,{alias:null,args:ga,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[U,F,m],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},ha,ia,ja,ka,la,ma,na,oa,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[pa,m],storageKey:null}],storageKey:null}],storageKey:null},qa,ra,A,sa,X,ta,ua,va,wa,xa,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,n,o,m],storageKey:null}],storageKey:null}],storageKey:null},ya,za,M,W,$,{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,m,n,p,y,z,C,D,E,I,H,x,G,q,$,J,K,L,B],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null},t,O],storageKey:null}]},params:{id:"7341532402634560",metadata:{},name:"PolarisPostActionLoadPostQueryLegacyQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryMediaIdQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25429376213377766"}),null);
__d("PolarisPostActionLoadPostQueryMediaIdQuery.graphql",["PolarisPostActionLoadPostQueryMediaIdQuery_instagramRelayOperation"],(function(a,aa,b,c,d,e){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"mediaId"}],b=[{kind:"Variable",name:"media_id",variableName:"mediaId"}],c={alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"taken_at",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l={alias:null,args:null,concreteType:"XDTVideoVersion",kind:"LinkedField",name:"video_versions",plural:!0,selections:[i,j,k,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null};k={alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:[k,j,i],storageKey:null}],storageKey:null};j={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null};i={alias:null,args:null,kind:"ScalarField",name:"is_pending",storageKey:null};var r={alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"organic_tracking_token",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null},z={alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followed_by",storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"incoming_request",storageKey:null},u,{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_unconnected",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"outgoing_request",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscribed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_feed_favorite",storageKey:null}],storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"latest_reel_media",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},H={alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,G,n,m,x],storageKey:null}],storageKey:null}],storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},K={alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null},{alias:null,args:null,concreteType:"XDTIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},I,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},J,{alias:null,args:null,concreteType:"XDTTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"carousel_parent_id",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},P={alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[N,O],storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"preview",storageKey:null};I={alias:null,args:null,concreteType:"XDTLocationDict",kind:"LinkedField",name:"location",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"lat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lng",storageKey:null},I,m],storageKey:null};var R={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"audio_type",storageKey:null},T={alias:null,args:null,concreteType:"XDTClipsAchievementsInfo",kind:"LinkedField",name:"achievements_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_achievements",storageKey:null}],storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},W={alias:null,args:null,concreteType:"XDTMusicInfo",kind:"LinkedField",name:"music_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMusicConsumptionInfoDict",kind:"LinkedField",name:"music_consumption_info",plural:!1,selections:[U,V],storageKey:null},{alias:null,args:null,concreteType:"XDTTrackData",kind:"LinkedField",name:"music_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_cluster_id",storageKey:null}],storageKey:null}],storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"original_audio_title",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"audio_asset_id",storageKey:null};V={alias:null,args:null,concreteType:"XDTOriginalSoundConsumptionInfo",kind:"LinkedField",name:"consumption_info",plural:!1,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason_type",storageKey:null}],storageKey:null};var Z={alias:null,args:null,concreteType:"XDTClipsAppAttribution",kind:"LinkedField",name:"clips_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_app_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_app_name",storageKey:null},{alias:null,args:null,concreteType:"XDTClipsPivotPageHeader",kind:"LinkedField",name:"pivot_page_header",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"developer_app_logo_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_url",storageKey:null}],storageKey:null}],storageKey:null};J={alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[J],storageKey:null};y={alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[y],storageKey:null};var $={alias:null,args:null,kind:"ScalarField",name:"main_feed_carousel_starting_media_id",storageKey:null},ba={alias:null,args:null,kind:"ScalarField",name:"has_liked",storageKey:null},ca={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},da={alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"media_level_comment_controls",storageKey:null},fa={alias:null,args:null,kind:"ScalarField",name:"ig_media_sharing_disabled",storageKey:null},ga={alias:null,args:null,kind:"ScalarField",name:"audience",storageKey:null},ha={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},ia={alias:null,args:null,kind:"ScalarField",name:"photo_of_you",storageKey:null},ja={alias:null,args:null,kind:"ScalarField",name:"carousel_media_count",storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null},la={alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},ma={alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null};O={alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[O,N],storageKey:null};N={alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,G,n,m,x,e],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryMediaIdQuery",selections:[{alias:null,args:b,concreteType:"XDTMediaInfoListResponse",kind:"LinkedField",name:"xdt_api__v1__media__media_id_web_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineMediaFragment",selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[c,d,e,f,g,h,l,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"facepile_top_likers",plural:!0,selections:[m,d,n],storageKey:null},o,p,q,k,j,{alias:null,args:null,concreteType:"XDTSponsorTag",kind:"LinkedField",name:"sponsor_tags",plural:!0,selections:[i,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sponsor",plural:!1,selections:[d,n],storageKey:null}],storageKey:null},r,s,t,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,n,m,u,v,w,x,z,A],storageKey:null},B,C,D,E,F,H,K,{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[e,d,L,o,q,r,s,k,M,P,Q,t,l,K,H],storageKey:null},I,R,{alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[S,T,W,{alias:null,args:null,concreteType:"XDTOriginalSoundData",kind:"LinkedField",name:"original_sound_info",plural:!1,selections:[X,U,Y,V,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"ig_artist",plural:!1,selections:[n],storageKey:null}],storageKey:null}],storageKey:null},Z,J,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[d,n,G,m,u,w,y],storageKey:null},$,ba,ca,da,ea,fa,ga,ha,ia,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[d],storageKey:null},ja,ka,la,ma,O],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisPostActionLoadPostQueryMediaIdQuery",selections:[{alias:null,args:b,concreteType:"XDTMediaInfoListResponse",kind:"LinkedField",name:"xdt_api__v1__media__media_id_web_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[c,d,e,f,g,h,l,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"facepile_top_likers",plural:!0,selections:[m,d,n,e],storageKey:null},o,p,q,k,j,{alias:null,args:null,concreteType:"XDTSponsorTag",kind:"LinkedField",name:"sponsor_tags",plural:!0,selections:[i,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sponsor",plural:!1,selections:[d,n,e],storageKey:null}],storageKey:null},r,s,t,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,n,m,u,v,w,x,z,A,e],storageKey:null},B,C,D,E,F,N,K,{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[e,d,L,o,q,r,s,k,M,P,Q,t,l,K,N],storageKey:null},I,R,{alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[S,T,W,{alias:null,args:null,concreteType:"XDTOriginalSoundData",kind:"LinkedField",name:"original_sound_info",plural:!1,selections:[X,U,Y,V,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"ig_artist",plural:!1,selections:[n,e],storageKey:null}],storageKey:null}],storageKey:null},Z,J,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[d,n,G,m,u,w,y,e],storageKey:null},$,ba,ca,da,ea,fa,ga,ha,ia,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[d,e],storageKey:null},ja,ka,la,ma,O],storageKey:null}],storageKey:null}]},params:{id:aa("PolarisPostActionLoadPostQueryMediaIdQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostActionLoadPostQueryMediaIdQuery",operationKind:"query",text:null}}}();d.exports=a}),null);
__d("PolarisPostActionLoadPostQueryQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25531498899829322"}),null);
__d("PolarisPostActionLoadPostQueryQuery.graphql",["PolarisPostActionLoadPostQueryQuery_instagramRelayOperation"],(function(a,aa,b,c,d,e){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"child_comment_count"},b={defaultValue:null,kind:"LocalArgument",name:"fetch_comment_count"},c={defaultValue:10,kind:"LocalArgument",name:"fetch_like_count"},d={defaultValue:2,kind:"LocalArgument",name:"fetch_preview_comment_count"},e={defaultValue:null,kind:"LocalArgument",name:"fetch_tagged_user_count"},f={defaultValue:!1,kind:"LocalArgument",name:"has_threaded_comments"},g={defaultValue:null,kind:"LocalArgument",name:"hoisted_comment_id"},h={defaultValue:null,kind:"LocalArgument",name:"hoisted_reply_id"},i={defaultValue:null,kind:"LocalArgument",name:"parent_comment_count"},j={defaultValue:null,kind:"LocalArgument",name:"shortcode"},k=[{kind:"Variable",name:"shortcode",variableName:"shortcode"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"shortcode",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"thumbnail_src",storageKey:null},p={alias:null,args:null,concreteType:"XDTGraphMediaDimensions",kind:"LinkedField",name:"dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"misinformation_type",storageKey:null},t={alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"buttons",storageKey:null},q,{alias:null,args:null,kind:"ScalarField",name:"gating_type",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"center_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_reveal_cta",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_gated",storageKey:null},s],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"fact_check_overall_rating",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},x={alias:null,args:null,concreteType:"XDTGraphMediaFactCheck",kind:"LinkedField",name:"fact_check_information",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaFactCheckProvider",kind:"LinkedField",name:"provider",plural:!1,selections:[v,w,{alias:null,args:null,kind:"ScalarField",name:"appeal_email",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_directly_rated",storageKey:null}],storageKey:null},y={alias:null,args:null,concreteType:"XDTGraphMediaSensitivityFrictionInfo",kind:"LinkedField",name:"sensitivity_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sensitivity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_primary_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_secondary_button",storageKey:null}],storageKey:null},z={alias:null,args:null,concreteType:"XDTGraphMediaSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},C={alias:null,args:null,concreteType:"XDTGraphMediaOverlayIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},v,B],storageKey:null},D=[{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},A,{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},C,{alias:null,args:null,concreteType:"XDTGraphMediaOverlayTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null}];D={alias:null,args:null,concreteType:"XDTGraphMediaOverlayInfo",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:D,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:D,storageKey:null},q,C,s,{alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"bloks_data",storageKey:null}],storageKey:null};q={alias:null,args:null,kind:"ScalarField",name:"media_preview",storageKey:null};C={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null};s={alias:null,args:null,concreteType:"XDTGraphImageResource",kind:"LinkedField",name:"display_resources",plural:!0,selections:[B,{alias:null,args:null,kind:"ScalarField",name:"config_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"config_height",storageKey:null}],storageKey:null};B={alias:null,args:null,kind:"ScalarField",name:"is_video",storageKey:null};var E={alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},F={alias:null,args:null,concreteType:"XDTGraphUpcomingEventDict",kind:"LinkedField",name:"upcoming_event",plural:!1,selections:[m,r,{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reminder_enabled",storageKey:null}],storageKey:null},G=[{kind:"Variable",name:"first",variableName:"fetch_tagged_user_count"}],H={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"followed_by_viewer",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},L={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"user",plural:!1,selections:[H,I,m,J,w,K],storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},O={alias:null,args:G,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[L,M,N],storageKey:null}],storageKey:null}],storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},Q=[P];I={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:[m,K,J,w,{alias:null,args:null,kind:"ScalarField",name:"blocked_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_by_viewer",storageKey:null},I,H,{alias:null,args:null,kind:"ScalarField",name:"has_blocked_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requested_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pass_tiering_recommendation",storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:Q,storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_followed_by_connection",kind:"LinkedField",name:"edge_followed_by",plural:!1,selections:Q,storageKey:null}],storageKey:null};H=[{kind:"Literal",name:"first",value:1}];var R={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"can_see_insights_as_brand",storageKey:null},ba={alias:null,args:null,kind:"ScalarField",name:"caption_is_edited",storageKey:null},ca={alias:null,args:null,kind:"ScalarField",name:"has_ranked_comments",storageKey:null},da={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},fa={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},ga={alias:null,args:null,kind:"ScalarField",name:"taken_at_timestamp",storageKey:null};J=[m,J,w,K];w={alias:null,args:[{kind:"Variable",name:"first",variableName:"fetch_like_count"}],concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:[P,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:J,storageKey:null}],storageKey:null}],storageKey:null};K={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"sponsor",plural:!1,selections:[m,K],storageKey:null};var ha={alias:null,args:null,kind:"ScalarField",name:"is_affiliate",storageKey:null},ia={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null};v={alias:null,args:null,concreteType:"XDTGraphLocation",kind:"LinkedField",name:"location",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"has_public_page",storageKey:null},v,{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_json",storageKey:null}],storageKey:null};var ja={alias:null,args:null,concreteType:"XDTGraphNftAssetInfoType",kind:"LinkedField",name:"nft_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"asset_id",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"shimmer_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_igid",storageKey:null}],storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"viewer_has_liked",storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved",storageKey:null},la={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved_to_collection",storageKey:null},ma={alias:null,args:null,kind:"ScalarField",name:"viewer_in_photo_of_you",storageKey:null},na={alias:null,args:null,kind:"ScalarField",name:"viewer_can_reshare",storageKey:null},oa={alias:null,args:null,kind:"ScalarField",name:"is_ad",storageKey:null},pa={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"coauthor_producers",plural:!0,selections:J,storageKey:null},qa={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"pinned_for_users",plural:!0,selections:J,storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},V={alias:null,args:null,concreteType:"XDTGraphDashInfo",kind:"LinkedField",name:"dash_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null}],storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"video_url",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"video_view_count",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"video_play_count",storageKey:null};r={kind:"InlineFragment",selections:[U,V,W,X,Y,Z,{alias:null,args:null,kind:"ScalarField",name:"encoding_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_published",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"video_duration",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphClipsMusicAttributionInfo",kind:"LinkedField",name:"clips_music_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"song_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uses_original_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_id",storageKey:null}],storageKey:null}],type:"XDTGraphVideo",abstractKey:null};var $={kind:"InlineFragment",selections:[U],type:"XDTGraphImage",abstractKey:null};V={kind:"InlineFragment",selections:[U,V,W,X,Y,Z],type:"XDTGraphVideo",abstractKey:null};W={alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null};X={alias:null,args:null,kind:"ScalarField",name:"did_report_as_spam",storageKey:null};Y={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:J,storageKey:null};Z={alias:null,args:null,concreteType:"XDTgraphcomment_edge_liked_by_connection",kind:"LinkedField",name:"edge_liked_by",plural:!1,selections:Q,storageKey:null};J={alias:null,args:null,kind:"ScalarField",name:"is_restricted_pending",storageKey:null};Q=[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[m,A,R,X,Y,T,Z,J],storageKey:null}];var ra={condition:"has_threaded_comments",kind:"Condition",passingValue:!1,selections:[{alias:null,args:[{kind:"Variable",name:"first",variableName:"fetch_comment_count"}],concreteType:"XDTgraphmediainterface_edge_media_to_comment_connection",kind:"LinkedField",name:"edge_media_to_comment",plural:!1,selections:[P,W,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_comment",kind:"LinkedField",name:"edges",plural:!0,selections:Q,storageKey:null}],storageKey:null}]},sa={alias:null,args:[{kind:"Variable",name:"first",variableName:"child_comment_count"}],concreteType:"XDTgraphcomment_edge_threaded_comments_connection",kind:"LinkedField",name:"edge_threaded_comments",plural:!1,selections:[P,W,{alias:null,args:null,concreteType:"XDTgraphcomment_edge_threaded_comments",kind:"LinkedField",name:"edges",plural:!0,selections:Q,storageKey:null}],storageKey:null};W={condition:"has_threaded_comments",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"first",variableName:"parent_comment_count"}],concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment_connection",kind:"LinkedField",name:"edge_media_to_parent_comment",plural:!1,selections:[P,W,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[m,A,R,X,Y,T,Z,J,sa],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"hoisted_comment_id",variableName:"hoisted_comment_id"}],concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment_connection",kind:"LinkedField",name:"edge_media_to_hoisted_comment",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[m,A,R,X,Y,T,Z,J,{alias:null,args:[{kind:"Variable",name:"hoisted_reply_id",variableName:"hoisted_reply_id"}],concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply_connection",kind:"LinkedField",name:"edge_comment_to_hoisted_reply",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply",kind:"LinkedField",name:"edges",plural:!0,selections:Q,storageKey:null}],storageKey:null},sa],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"first",variableName:"fetch_preview_comment_count"}],concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:[P,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment",kind:"LinkedField",name:"edges",plural:!0,selections:Q,storageKey:null}],storageKey:null}]};X={alias:null,args:G,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[L,M,N,m],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g,h,i,j],kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryQuery",selections:[{alias:null,args:k,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles",selections:[l,m,n,o,p,t,u,x,y,z,D,q,C,s,B,E,F,O,I,{alias:null,args:H,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[R,A],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},S,ba,ca,da,ea,fa,ga,w,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[K],storageKey:null}],storageKey:null}],storageKey:null},ha,ia,v,ja,T,ka,la,ma,na,oa,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n,o],storageKey:null}],storageKey:null}],storageKey:null},pa,qa,r,$,{kind:"InlineFragment",selections:[U,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,m,n,p,t,u,x,y,z,D,q,C,s,V,$,B,E,F,O],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null},ra,W],args:null,argumentDefinitions:[{kind:"RootArgument",name:"child_comment_count"},{kind:"RootArgument",name:"fetch_comment_count"},{kind:"RootArgument",name:"fetch_like_count"},{kind:"RootArgument",name:"fetch_preview_comment_count"},{kind:"RootArgument",name:"fetch_tagged_user_count"},{kind:"RootArgument",name:"has_threaded_comments"},{kind:"RootArgument",name:"hoisted_comment_id"},{kind:"RootArgument",name:"hoisted_reply_id"},{kind:"RootArgument",name:"parent_comment_count"}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[j,b,i,a,c,e,d,f,g,h],kind:"Operation",name:"PolarisPostActionLoadPostQueryQuery",selections:[{alias:null,args:k,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[l,{kind:"TypeDiscriminator",abstractKey:"__isXDTGraphMediaInterface"},m,n,o,p,t,u,x,y,z,D,q,C,s,B,E,F,X,I,{alias:null,args:H,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[R,A,m],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},S,ba,ca,da,ea,fa,ga,w,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[K,m],storageKey:null}],storageKey:null}],storageKey:null},ha,ia,v,ja,T,ka,la,ma,na,oa,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,n,o,m],storageKey:null}],storageKey:null}],storageKey:null},pa,qa,r,$,{kind:"InlineFragment",selections:[U,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,m,n,p,t,u,x,y,z,D,q,C,s,V,$,B,E,F,X],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null},ra,W],storageKey:null}]},params:{id:aa("PolarisPostActionLoadPostQueryQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostActionLoadPostQueryQuery",operationKind:"query",text:null}}}();d.exports=a}),null);
__d("PolarisPostActionLoadPostQuerySharerQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25621259580853638"}),null);
__d("PolarisPostActionLoadPostQuerySharerQuery.graphql",["PolarisPostActionLoadPostQuerySharerQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"shid"}],c=[{kind:"Variable",name:"shid",variableName:"shid"}],d={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQuerySharerQuery",selections:[{alias:null,args:c,concreteType:"XDTShidUserResponse",kind:"LinkedField",name:"xdt_get_relationship_for_shid_logged_out",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineSharerFragment",selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sender",plural:!1,selections:[d,e,f],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisPostActionLoadPostQuerySharerQuery",selections:[{alias:null,args:c,concreteType:"XDTShidUserResponse",kind:"LinkedField",name:"xdt_get_relationship_for_shid_logged_out",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sender",plural:!1,selections:[d,e,f,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("PolarisPostActionLoadPostQuerySharerQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostActionLoadPostQuerySharerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisPostActionLoadPostQuery",["PolarisPostActionLoadPostQueryInlineFragment.graphql","PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles.graphql","PolarisPostActionLoadPostQueryInlineMediaFragment.graphql","PolarisPostActionLoadPostQueryInlineSharerFragment.graphql","PolarisPostActionLoadPostQueryLegacyQuery.graphql","PolarisPostActionLoadPostQueryMediaIdQuery.graphql","PolarisPostActionLoadPostQueryQuery.graphql","PolarisPostActionLoadPostQuerySharerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o;a=h!==void 0?h:h=b("PolarisPostActionLoadPostQueryInlineMediaFragment.graphql");c=i!==void 0?i:i=b("PolarisPostActionLoadPostQueryInlineFragment.graphql");d=j!==void 0?j:j=b("PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles.graphql");e=k!==void 0?k:k=b("PolarisPostActionLoadPostQueryInlineSharerFragment.graphql");f=l!==void 0?l:l=b("PolarisPostActionLoadPostQueryQuery.graphql");var p=m!==void 0?m:m=b("PolarisPostActionLoadPostQueryLegacyQuery.graphql"),q=n!==void 0?n:n=b("PolarisPostActionLoadPostQueryMediaIdQuery.graphql");b=o!==void 0?o:o=b("PolarisPostActionLoadPostQuerySharerQuery.graphql");g.MEDIA_INLINE_FRAGMENT=a;g.INLINE_FRAGMENT=c;g.INLINE_FRAGMENT_WITHOUT_RELATED_PROFILES=d;g.SHARER_INLINE_FRAGMENT=e;g.POST_QUERY=f;g.POST_QUERY_LEGACY=p;g.POST_QUERY_MEDIA_ID=q;g.POST_SHARER_INFORMATION=b}),98);
__d("PolarisPostActionPostPageLoaded",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{postData:c("nullthrows")(a.shortcode_media),type:"POST_PAGE_LOADED"}}g.postPageLoaded=a}),98);
__d("polarisTransformCommentEntities",["PolarisCommentModel","PolarisUserModel","polarisTransformEntities"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;return{comments:c("polarisTransformEntities")((b=a.commentDicts)!=null?b:{},function(a){return c("PolarisCommentModel").fromNativeResponse(a).toReduxStore()}),users:c("polarisTransformEntities")((b=a.userDicts)!=null?b:{},function(a){return c("PolarisUserModel").fromNativeResponse(a).toReduxStore()})}}g["default"]=a}),98);
__d("PolarisThreadedCommentActions",["PolarisAPIGetChildComments","PolarisAPIGetInitialComments","PolarisAPIGetPaginationComments","PolarisLegacyGraphQLPaginationUtils","PolarisPaginationUtils","PolarisThreadedCommentActionConstants","nullthrows","polarisNormalizeComments","polarisTransformCommentEntities"],(function(a,b,c,d,e,f,g){"use strict";var h,i="6544739342301107",j="6718530511526291";function a(a){return{commentPageData:c("nullthrows")(a.shortcode_media),type:"MOBILE_ALL_COMMENTS_PAGE_LOADED"}}function b(a){return{parentId:a,type:"HIDE_CHILD_COMMENTS"}}function e(a){return{parentId:a,type:"SHOW_CHILD_COMMENTS"}}function k(a,b){b=b.map(function(a){return a.pk});var c={};for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f!=null&&a[f]!=null&&(c[f]=a[f])}return c}i=d("PolarisLegacyGraphQLPaginationUtils").generatePaginationActionCreators({getState:function(a,b){return a.threadedComments.parentByPostId.get(b).pagination},onError:function(a,b,c){return{fetch:b,postId:c,type:"PARENT_COMMENT_REQUEST_FAILED"}},onUpdate:function(a,b,d,e){b=b==null?void 0:(b=b.shortcode_media)==null?void 0:b.edge_media_to_parent_comment;var f={};if(b!=null)for(var g=b.edges,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;var k=c("nullthrows")(j.node.edge_threaded_comments);k={comments:k.edges.map(function(a){return a.node}),count:k.count,pageInfo:k.page_info};f[j.node.id]=k}return{childComments:f,comments:b?b.edges.map(function(a){return a.node}):[],count:b&&b.count,fetch:a,hasRankedComments:e,pageInfo:b&&b.page_info,postId:d,type:"PARENT_COMMENT_REQUEST_UPDATED"}},pageSize:(h=d("PolarisThreadedCommentActionConstants")).PARENT_PAGE_SIZE,pagesToPreload:h.PAGES_TO_PRELOAD,queryId:i,queryParams:function(a,b,c){return{shortcode:c}}});h=d("PolarisLegacyGraphQLPaginationUtils").generatePaginationActionCreators({getState:function(a,b){return(a=a.threadedComments.childByParentId[b])==null?void 0:a.pagination},onError:function(a,b,c){return{fetch:b,parentId:c,type:"CHILD_COMMENT_REQUEST_FAILED"}},onUpdate:function(a,b,c){b=b==null?void 0:(b=b.comment)==null?void 0:b.edge_threaded_comments;return{comments:b&&b.edges?b.edges.map(function(a){return a.node}):[],count:b&&b.count,fetch:a,pageInfo:b&&b.page_info,parentId:c,type:"CHILD_COMMENT_REQUEST_UPDATED"}},pageSize:h.CHILD_PAGE_SIZE,pagesToPreload:h.PAGES_TO_PRELOAD,queryId:j,queryParams:function(a){return{comment_id:a}}});function l(a,b,e){var f,g=b.has_more_comments===!0||b.has_more_headload_comments===!0,h=b.has_more_headload_comments===!0,i=g?h?b.next_min_id:b.next_max_id:"";f=(f=b.comment_count)!=null?f:0;b=(b=b.comments)!=null?b:[];var j=c("polarisTransformCommentEntities")(d("polarisNormalizeComments").normalizeComments(b).entities);return{comments:k(j.comments,b),count:f,pagination:{end_cursor:i,has_next_page:g,has_previous_page:h},postId:a,sortOrder:e,type:"INITIAL_PARENT_COMMENT_REQUEST_LOADED",users:(b=j.users)!=null?b:{}}}function m(a){return{postId:a,type:"INITIAL_PARENT_COMMENT_REQUEST_FAILED"}}function n(a,b,c){return function(e,f){f=f();f=f.threadedComments;if(c!=null&&((f=f.parentByPostId[a])==null?void 0:f.sortOrder)===c)return;e({postId:a,type:"INITIAL_PARENT_COMMENT_REQUEST_LOADING"});return d("PolarisAPIGetInitialComments").getInitialComments(a,b,c).then(function(b){e(l(a,b,c))})["catch"](function(b){e(m(a))})}}function o(a,b){return function(e,f){var g;f=f();f=f.threadedComments;g=(g=(g=f.parentByPostId[a])==null?void 0:g.pagination)!=null?g:null;f=f.parentByPostId[a].sortOrder;if(g==null)return;var h=d("PolarisPaginationUtils").getEndCursor(g);if(h==null)return;e({postId:a,type:"PARENT_COMMENT_REQUEST_LOADING"});return d("PolarisAPIGetPaginationComments").getPaginationComments(a,h,d("PolarisPaginationUtils").hasPreviousPage(g)===!0,f).then(function(f){var g,h=f.has_more_comments===!0||f.has_more_headload_comments===!0,i=f.has_more_headload_comments===!0,j=h?i?f.next_min_id:f.next_max_id:"";g=(g=f.comment_count)!=null?g:0;f=(f=f.comments)!=null?f:[];var l=c("polarisTransformCommentEntities")(d("polarisNormalizeComments").normalizeComments(f).entities);e({comments:k(l.comments,f),count:g,hasRankedComments:(f=b)!=null?f:!1,pagination:{end_cursor:j,has_next_page:h,has_previous_page:i},postId:a,type:"PARENT_COMMENT_REQUEST_UPDATED_V2",users:(g=l.users)!=null?g:{}})})["catch"](function(){e({postId:a,type:"PARENT_COMMENT_REQUEST_FAILED_V2"})})}}function p(a,b){return function(e,f){e({parentId:b,type:"CHILD_COMMENT_REQUEST_LOADING"});f=f();f=f.threadedComments;f=(f=f.childByParentId[b])==null?void 0:f.pagination;var g;f!=null&&(g=d("PolarisPaginationUtils").getEndCursor(f));g=(f=g)!=null?f:null;return d("PolarisAPIGetChildComments").getChildComments(a,b,g).then(function(f){var g,h,i,j=f.has_more_head_child_comments===!0||f.has_more_tail_child_comments===!0;g=(g=f.next_max_child_cursor)!=null?g:"";h=(h=f.child_comment_count)!=null?h:0;f=(f=f.child_comments)!=null?f:[];f=c("polarisTransformCommentEntities")(d("polarisNormalizeComments").normalizeComments(f).entities);e({comments:(i=f.comments)!=null?i:{},count:h,pagination:{end_cursor:g,has_next_page:j},parentId:b,postId:a,type:"CHILD_COMMENT_REQUEST_UPDATED_V2",users:(i=f.users)!=null?i:{}})})["catch"](function(){e({parentId:b,type:"CHILD_COMMENT_REQUEST_FAILED_V2"})})}}j=i.next;function f(a,b){return function(c){return c(o(a,b))}}function q(a,b,c){return function(d){return d(n(a,b,c))}}i=h.next;function r(a,b){return function(c){return c(p(a,b))}}function s(a){return function(b){return function(c){c(l(a,b))}}}g.mobileAllCommentsPageLoaded=a;g.hideChildComments=b;g.showChildComments=e;g.initialCommentsError=m;g.requestNextParentCommentPage=j;g.requestNextParentCommentPageV2=f;g.requestInitialComments=q;g.requestNextChildCommentPage=i;g.requestNextChildCommentPageV2=r;g.setupPostComments=s}),98);
__d("PolarisPostActionLoadPost",["CometRelay","PolarisAdsActions","PolarisAdsGatingHelpers","PolarisConfig","PolarisInstapi","PolarisMonitorErrors","PolarisPostActionLoadPostQuery","PolarisPostActionPostLoadedV2","PolarisPostActionPostPageLoaded","PolarisRelayEnvironment","PolarisSenderNameOnReelsQEHelpers","PolarisThreadedCommentActions","asyncToGeneratorRuntime","err","getPolarisPostIdFromNativeId","isTruthy","nullthrows","polarisUnexpected"],(function(a,b,c,d,e,f,g){"use strict";var h=40,i=24,j=3;function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),d("PolarisPostActionLoadPostQuery").POST_SHARER_INFORMATION,{shid:a}).toPromise());if(a==null||a.xdt_get_relationship_for_shid_logged_out==null)return null;a=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").SHARER_INLINE_FRAGMENT,a.xdt_get_relationship_for_shid_logged_out);return a});return l.apply(this,arguments)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),d("PolarisPostActionLoadPostQuery").POST_QUERY_MEDIA_ID,{mediaId:a}).toPromise());if(a==null)throw c("err")("Post modal response is unexpectedly null");a=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").MEDIA_INLINE_FRAGMENT,a==null?void 0:a.xdt_api__v1__media__media_id_web_info);return a.items!=null?[].concat(a.items):null});return n.apply(this,arguments)}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/info/",{path:{media_id:a},query:{}}));a=a.data;return a.items!=null?[].concat(a.items):null});return p.apply(this,arguments)}function a(a,e,f,g,l){f===void 0&&(f=!1);return function(){var n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,n){b({shortcode:a,type:"POST_PAGE_LOADING"});if(e!=null&&d("PolarisConfig").isLoggedIn())try{b(d("PolarisThreadedCommentActions").requestInitialComments(c("getPolarisPostIdFromNativeId")(e)));var p=d("PolarisAdsGatingHelpers").enableFeedDPARendering()?yield m(e):yield o(e);if(p!=null){var q=p[0];n=new Set(n().ads.feed.keys());q!=null&&q.ad_id!=null?b(d("PolarisAdsActions").adMediaInfoLoaded(p[0],a)):b(d("PolarisPostActionPostLoadedV2").postLoadedV2(p,a,n))}}catch(a){d("PolarisMonitorErrors").logError(a)}else{q=f?d("PolarisPostActionLoadPostQuery").POST_QUERY:d("PolarisPostActionLoadPostQuery").POST_QUERY_LEGACY;try{if(l!=null&&d("PolarisSenderNameOnReelsQEHelpers").shouldShowSenderNameOnReels(!1)){p=(yield k(l));p!=null&&b({fullName:p.sender.full_name,profilePicUrl:p.sender.profile_pic_url,sharedPostId:e,type:"UPDATE_SHARER_INFORMATION",username:p.sender.username})}n=(yield d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),q,{child_comment_count:j,fetch_comment_count:h,has_threaded_comments:!0,parent_comment_count:i,shortcode:a}).toPromise());!f?p=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").INLINE_FRAGMENT,n==null?void 0:n.xdt_shortcode_media):p=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").INLINE_FRAGMENT_WITHOUT_RELATED_PROFILES,n==null?void 0:n.xdt_shortcode_media);q=p.accessibility_caption==null&&c("isTruthy")(g);q&&(p=babelHelpers["extends"]({},p,{accessibility_caption:g}));b(d("PolarisPostActionPostPageLoaded").postPageLoaded({shortcode_media:c("nullthrows")(p)}))}catch(a){c("polarisUnexpected")(a)}}});return function(a,b){return n.apply(this,arguments)}}()}g.loadPost=a}),98);
__d("PolarisPostConstants",["IGDSThemeConstantsHelpers"],(function(a,b,c,d,e,f,g){"use strict";a=30;b=40;c=d("IGDSThemeConstantsHelpers").getNumericValue("medium-screen-max");e=d("IGDSThemeConstantsHelpers").getNumericValue("medium-screen-min");f=56;g.AVATAR_SIZE_SMALL=a;g.AVATAR_SIZE_LARGE=b;g.MEDIUM_SCREEN_MAX=c;g.SIDEBAR_VARIANT_CUTOFF=e;g.POST_TOAST_HEIGHT=f}),98);
__d("PolarisProfessionalAccountTapComponentFalcoEvent",["BusinessConversionTapComponentFalcoEvent","CreatorConversionTapComponentFalcoEvent","EditProfileTapComponentFalcoEvent","InterestAccountConversionTapComponentFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a={log:function(a,b){switch(b){case"business_conversion":c("BusinessConversionTapComponentFalcoEvent").log(function(){return a()});break;case"creator_conversion":c("CreatorConversionTapComponentFalcoEvent").log(function(){return a()});break;case"edit_profile":c("EditProfileTapComponentFalcoEvent").log(function(){return a()});break;case"interest_account_conversion":c("InterestAccountConversionTapComponentFalcoEvent").log(function(){return a()});break}}};b=a;g["default"]=b}),98);
__d("PolarisProfessionalAccountLogger",["BusinessConversionCancelFalcoEvent","BusinessConversionFetchDataErrorFalcoEvent","BusinessConversionFetchDataFalcoEvent","BusinessConversionFinishStepFalcoEvent","BusinessConversionSkipFalcoEvent","BusinessConversionStartStepFalcoEvent","BusinessConversionSubmitErrorFalcoEvent","BusinessConversionSubmitFalcoEvent","CreatorConversionCancelFalcoEvent","CreatorConversionFetchDataErrorFalcoEvent","CreatorConversionFetchDataFalcoEvent","CreatorConversionFinishStepFalcoEvent","CreatorConversionStartStepFalcoEvent","CreatorConversionSubmitErrorFalcoEvent","CreatorConversionSubmitFalcoEvent","EditProfileCancelFalcoEvent","EditProfileFetchDataErrorFalcoEvent","EditProfileFetchDataFalcoEvent","EditProfileFinishStepFalcoEvent","EditProfileStartStepFalcoEvent","EditProfileSubmitErrorFalcoEvent","EditProfileSubmitFalcoEvent","InterestAccountConversionCancelFalcoEvent","InterestAccountConversionEnterFalcoEvent","InterestAccountConversionFetchDataErrorFalcoEvent","InterestAccountConversionFetchDataFalcoEvent","InterestAccountConversionFinishStepFalcoEvent","InterestAccountConversionStartStepFalcoEvent","InterestAccountConversionSubmitErrorFalcoEvent","InterestAccountConversionSubmitFalcoEvent","PolarisProfessionalAccountTapComponentFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g){this.$1={entry_point:c,fb_page_id:e,fb_user_id:f,is_business_login_request:g,pk:a,source_id:d,waterfall_id:b}}var b=a.prototype;b.logEnter=function(a,b){var d={entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,selected_values:b,step:a,waterfall_id:this.$1.waterfall_id};c("InterestAccountConversionEnterFalcoEvent").log(function(){return d})};b.logCancel=function(a,b){var d={entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,step:b,waterfall_id:this.$1.waterfall_id},e=babelHelpers["extends"]({},d,{is_business_login_request:this.$1.is_business_login_request});switch(a){case"business_conversion":c("BusinessConversionCancelFalcoEvent").log(function(){return e});break;case"creator_conversion":c("CreatorConversionCancelFalcoEvent").log(function(){return d});break;case"edit_profile":c("EditProfileCancelFalcoEvent").log(function(){return d});break;case"interest_account_conversion":c("InterestAccountConversionCancelFalcoEvent").log(function(){return d});break}};b.logFetchDataError=function(a,b,d,e,f,g){var h={component:d,entry_point:this.$1.entry_point,error_identifier:e,error_message:f,fb_page_id:this.$1.fb_page_id,selected_values:g,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionFetchDataErrorFalcoEvent").log(function(){return h});break;case"creator_conversion":c("CreatorConversionFetchDataErrorFalcoEvent").log(function(){return h});break;case"edit_profile":c("EditProfileFetchDataErrorFalcoEvent").log(function(){return h});break;case"interest_account_conversion":c("InterestAccountConversionFetchDataErrorFalcoEvent").log(function(){return h});break}};b.logFetchData=function(a,b,d,e,f){var g={available_options:e,component:d,entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,selected_values:f,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionFetchDataFalcoEvent").log(function(){return g});break;case"creator_conversion":c("CreatorConversionFetchDataFalcoEvent").log(function(){return g});break;case"edit_profile":c("EditProfileFetchDataFalcoEvent").log(function(){return g});break;case"interest_account_conversion":c("InterestAccountConversionFetchDataFalcoEvent").log(function(){return g});break}};b.logFinishStep=function(a,b,d,e){var f={default_values:d,entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,selected_values:e,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionFinishStepFalcoEvent").log(function(){return f});break;case"creator_conversion":c("CreatorConversionFinishStepFalcoEvent").log(function(){return f});break;case"edit_profile":c("EditProfileFinishStepFalcoEvent").log(function(){return f});break;case"interest_account_conversion":c("InterestAccountConversionFinishStepFalcoEvent").log(function(){return f});break}};b.logSkip=function(a,b){var d={entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,flow:a,step:b,waterfall_id:this.$1.waterfall_id};a==="business_conversion"&&c("BusinessConversionSkipFalcoEvent").log(function(){return d})};b.logStartStep=function(a,b,d){var e={default_values:d,entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionStartStepFalcoEvent").log(function(){return e});break;case"creator_conversion":c("CreatorConversionStartStepFalcoEvent").log(function(){return e});break;case"edit_profile":c("EditProfileStartStepFalcoEvent").log(function(){return e});break;case"interest_account_conversion":c("InterestAccountConversionStartStepFalcoEvent").log(function(){return e});break}};b.logSubmitError=function(a,b,d,e,f,g){var h={component:d,entry_point:this.$1.entry_point,error_identifier:e,error_message:f,fb_page_id:this.$1.fb_page_id,selected_values:g,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionSubmitErrorFalcoEvent").log(function(){return h});break;case"creator_conversion":c("CreatorConversionSubmitErrorFalcoEvent").log(function(){return h});break;case"edit_profile":c("EditProfileSubmitErrorFalcoEvent").log(function(){return h});break;case"interest_account_conversion":c("InterestAccountConversionSubmitErrorFalcoEvent").log(function(){return h});break}};b.logSubmit=function(a,b,d,e){var f={component:d,entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,selected_values:e,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},f)});break;case"creator_conversion":c("CreatorConversionSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},f)});break;case"edit_profile":c("EditProfileSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},f)});break;case"interest_account_conversion":c("InterestAccountConversionSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},f)});break}};b.logTapComponent=function(a,b,d,e){var f={component:d,entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,selected_values:e,step:b,waterfall_id:this.$1.waterfall_id};c("PolarisProfessionalAccountTapComponentFalcoEvent").log(function(){return f},a)};return a}();g.ProfessionalAccountLogger=a}),98);
__d("PolarisProfessionalConversionCardTypeConfigs.react",["fbt","ix","IGCoreImage.react","IGDSAdsPanoOutlineIcon.react","IGDSBox.react","IGDSBusinessPanoOutlineIcon.react","IGDSDeviceDesktopPanoOutlineIcon.react","IGDSDevicePhonePanoOutlineIcon.react","IGDSDirectPanoOutlineIcon.react","IGDSInsightsPanoOutlineIcon.react","IGDSMailPanoOutlineIcon.react","IGDSMediaAccountOutlineIcon.react","IGDSUserPanoOutlineIcon.react","IGDSWhatsappLogoOutlineIcon.react","PolarisFastLink.react","PolarisProfessionalConversionUtils","PolarisUserAvatar.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=64,m=40,n=24,o=100,p=4,q={subtitle:h._("__JHASH__3d8mpoGdWEj__JHASH__"),title:h._("__JHASH__JVPqMUis8ie__JHASH__")},r={subtitle:h._("__JHASH__ZlkAa6xmrVS__JHASH__"),title:h._("__JHASH__UWP_XnRo-xr__JHASH__")},s=h._("__JHASH__xlMxNxDcmh-__JHASH__");function t(a){return a!=null||a!==void 0?h._("__JHASH__M2ln-SymLyN__JHASH__",[h._param("username",a)]):h._("__JHASH__yVYc08zOlXx__JHASH__")}var u=h._("__JHASH__RyWCWi4E_O___JHASH__",[h._implicitParam("=m1",k.jsx(c("PolarisFastLink.react"),{href:"https://business.facebook.com",children:h._("__JHASH__cxoDDOluosm__JHASH__")}))]),v=h._("__JHASH__DE3WvDkUrmx__JHASH__",[h._implicitParam("=m1",k.jsx(c("PolarisFastLink.react"),{href:"https://business.facebook.com",children:h._("__JHASH__l_bSQBKMsDP__JHASH__")}))]),w={secondary_subtitle:h._("__JHASH___gyI2iQqm2V__JHASH__"),subtitle:s,title:h._("__JHASH__BMKX1c-cFAX__JHASH__")};s={secondary_subtitle:h._("__JHASH___gyI2iQqm2V__JHASH__"),subtitle:s,title:h._("__JHASH__M7y0V9c5Z91__JHASH__")};var x={subtitle:h._("__JHASH__g-hW5RvE0qV__JHASH__"),title:h._("__JHASH__MyxIa2meWWZ__JHASH__")},y={subtitle:h._("__JHASH__7sZkfXctAVF__JHASH__"),title:h._("__JHASH__MyxIa2meWWZ__JHASH__")},z={subtitle:h._("__JHASH__d8YytYrtNuw__JHASH__"),title:h._("__JHASH__e3Q99qQpyxt__JHASH__")},A={subtitle:h._("__JHASH__3d6Hqb5H9vI__JHASH__"),title:h._("__JHASH__BSz3hpGZ1b9__JHASH__")},B={icon:k.jsx(c("IGDSBox.react"),{alignItems:"center",border:!0,height:l,justifyContent:"center",position:"relative",shape:"circle",width:l,children:k.jsx(c("IGDSMediaAccountOutlineIcon.react"),{alt:h._("__JHASH__lv3MH7dLJrN__JHASH__"),size:n})}),subtitle:h._("__JHASH__uIfNcGvj6N9__JHASH__"),title:h._("__JHASH__3ozikGdB_fR__JHASH__")},C={icon:k.jsx(c("IGDSBox.react"),{alignItems:"center",border:!0,height:l,justifyContent:"center",position:"relative",shape:"circle",width:l,children:k.jsx(c("IGDSBusinessPanoOutlineIcon.react"),{alt:h._("__JHASH__kdylFmz3-HI__JHASH__"),size:n})}),subtitle:h._("__JHASH__kPZ6pIo4Q94__JHASH__"),title:h._("__JHASH__bFKn8vVV3XH__JHASH__")};function a(a){var b=(a==null?void 0:a.username)||"";a=(a=a==null?void 0:a.profilePictureUrlHd)!=null?a:"/images/instagram/xig/anonymousUser.jpg?__d=www";return{icon:k.jsx(c("IGDSBox.react"),{alignItems:"center",border:!0,height:l,justifyContent:"center",position:"relative",shape:"circle",width:l,children:k.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a,size:l,username:b})}),subtitle:h._("__JHASH__vjPNPR0HIb0__JHASH__"),title:h._("__JHASH__qooWaWtE30s__JHASH__")}}function b(a){switch(a){case d("PolarisProfessionalConversionUtils").InterestAccount.media_creator:return{subtitle:h._("__JHASH__LfAeXPvbNdQ__JHASH__"),title:h._("__JHASH__wlnBL429O55__JHASH__")};case d("PolarisProfessionalConversionUtils").InterestAccount.business:return{subtitle:h._("__JHASH__g3xTtq7Nnek__JHASH__"),title:h._("__JHASH__BhCsZwRqpwr__JHASH__")};default:return{subtitle:null,title:h._("__JHASH__1CmxolH4jnf__JHASH__")}}}var D=[{icon:k.jsx(c("IGDSUserPanoOutlineIcon.react"),{alt:h._("__JHASH__TFhpS_Mckyy__JHASH__"),size:n}),subtitle:h._("__JHASH__8rLYRZyuFAP__JHASH__"),title:h._("__JHASH__yRidqDwpoqw__JHASH__")},{icon:k.jsx(c("IGDSDirectPanoOutlineIcon.react"),{alt:h._("__JHASH__o6wMG72o1qN__JHASH__"),size:n}),subtitle:h._("__JHASH__UWaDc7cQeWS__JHASH__"),title:h._("__JHASH__s_3xuPA4p-F__JHASH__")},{icon:k.jsx(c("IGDSInsightsPanoOutlineIcon.react"),{alt:h._("__JHASH__pZDpw1Nhy-1__JHASH__"),size:n}),subtitle:h._("__JHASH__4g1Aj69u-HY__JHASH__"),title:h._("__JHASH__l0RVYUp8wDd__JHASH__")}];function e(a){return[{icon:k.jsx(c("IGDSInsightsPanoOutlineIcon.react"),{alt:h._("__JHASH__pZDpw1Nhy-1__JHASH__"),size:n}),subtitle:h._("__JHASH__aKveP0t3ohC__JHASH__"),title:h._("__JHASH__NYaPwzRLl0Y__JHASH__")},{icon:k.jsx(c("IGDSAdsPanoOutlineIcon.react"),{alt:h._("__JHASH__zYmBkefcgQ6__JHASH__"),size:n}),subtitle:a===d("PolarisProfessionalConversionUtils").InterestAccount.business?h._("__JHASH__DoCGpD7uAXI__JHASH__"):h._("__JHASH__aR7l-mOfcB6__JHASH__"),title:a===d("PolarisProfessionalConversionUtils").InterestAccount.business?h._("__JHASH__3k9O8OOznRQ__JHASH__"):h._("__JHASH__gWl5hq4-nSZ__JHASH__")},{icon:k.jsx(c("IGDSMailPanoOutlineIcon.react"),{alt:h._("__JHASH__sPGR3MGB139__JHASH__"),size:n}),subtitle:h._("__JHASH__HSHBtGAFVIw__JHASH__"),title:h._("__JHASH__aaepJk7EBx2__JHASH__")}]}function f(a,b){return[{icon:k.jsx(c("IGDSDevicePhonePanoOutlineIcon.react"),{alt:h._("__JHASH__mXLTK0zFv3X__JHASH__"),size:n}),subtitle:t(b)},{icon:k.jsx(c("IGDSDeviceDesktopPanoOutlineIcon.react"),{alt:h._("__JHASH__q06PxZ2GMkL__JHASH__"),size:n}),subtitle:a===d("PolarisProfessionalConversionUtils").InterestAccount.media_creator?v:u}]}var E=h._("__JHASH__U82QIF_N2Me__JHASH__"),F=h._("__JHASH__MXaeH_gFTyU__JHASH__"),G=h._("__JHASH__hJXZJfrMd_i__JHASH__");function H(a){return{icon:k.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:(a=a)!=null?a:"",size:o}),subtitle:h._("__JHASH__pz8_n9RaAB4__JHASH__"),title:h._("__JHASH___pTPW65jrXW__JHASH__")}}function I(){return{icon:k.jsx(k.Fragment,{}),subtitle:h._("__JHASH__hRP31lbY7sw__JHASH__"),title:h._("__JHASH__DVE1Kvps1pg__JHASH__")}}function J(){return{icon:k.jsx(k.Fragment,{}),subtitle:h._("__JHASH__V2hl6zGbmDl__JHASH__"),title:h._("__JHASH__vAXpOUYfpw9__JHASH__")}}var K=h._("__JHASH__2LLHfc3eVJF__JHASH__"),L=h._("__JHASH__BG3s1HbBQk7__JHASH__"),M=" \xb7 ";function N(a){return{icon:k.jsx(k.Fragment,{}),subtitle:h._("__JHASH__v2y_yhQAyy4__JHASH__",[h._param("whatsapp phone ",a)]),title:h._("__JHASH__A6qdVaQC8v-__JHASH__")}}function O(a,b){return{icon:k.jsx(c("IGDSWhatsappLogoOutlineIcon.react"),{alt:h._("__JHASH__sWVJExfmjO5__JHASH__"),size:m}),subtitle:h._("__JHASH__lLdxyfjOpIe__JHASH__",[h._param("whatsapp business name",a)]),title:h._("__JHASH__1ZwHChIbvvp__JHASH__",[h._param("whatsapp phone ",b)])}}function P(a,b,d){return{icon:k.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:(a=a)!=null?a:"",size:m,username:(a=b)!=null?a:""}),subtitle:h._("__JHASH__RmBALBX8t3i__JHASH__",[h._param("instagram business category",d)]),title:h._("__JHASH___ppouxT01rN__JHASH__",[h._param("instagram business name",b)])}}function Q(a){return{icon:k.jsx(c("IGCoreImage.react"),{alt:h._("__JHASH__vp4Xy0kwTJZ__JHASH__"),src:{light:i("162687")}}),subtitle:h._("__JHASH__e5S4PqQFdVq__JHASH__",[h._param("whatsapp business name",a)]),title:h._("__JHASH__eH8_POuhEU-__JHASH__")}}var R={icon:k.jsx(c("IGDSDevicePhonePanoOutlineIcon.react"),{alt:h._("__JHASH__mXLTK0zFv3X__JHASH__"),size:n}),subtitle:h._("__JHASH__QVJaSqpYRVV__JHASH__")};g.ICON_SIZE=n;g.DIVIDER_PADDING=p;g.CATEGORY_SELECTION_CARD_CONFIGS=q;g.CONTACT_INFO_CARD_CONFIGS=r;g.getConfirmationBody=t;g.CREATOR_CONFIRMATION_CARD_CONFIGS=w;g.BUSINESS_CONFIRMATION_CARD_CONFIGS=s;g.SWITCHBACK_PERSONAL_CARD_CONFIGS=x;g.SWITCHBACK_PERSONAL_CARD_FOR_MV4B_CONFIGS=y;g.CREATOR_PRIVACY_CARD_CONFIGS=z;g.BUSINESS_PRIVACY_CARD_CONFIGS=A;g.CREATOR_CARD_CONFIGS=B;g.BUSINESS_CARD_CONFIGS=C;g.getGenericCardConfigs=a;g.getAccountSelectionCardConfigs=b;g.CREATOR_VALUE_PROPS=D;g.getBusinessOrGenericValueProps=e;g.getConfirmationValueProps=f;g.CONVERSION_ERROR=E;g.CONVERSION_NO_CONTACT_INFO_ERROR=F;g.SWITCHED_TO_PERSONAL_ACCOUNT=G;g.getContextPageHeaderConfigs=H;g.getAddWhatsAppCategoryModalConfigs=I;g.getAddWhatsAppPageHeaderConfigs=J;g.INSTAGRAM=K;g.WHATSAPP=L;g.INTERPUNCT=M;g.getAddWhatsAppPagePrelinkedWhatsAppConfigs=N;g.getAddWhatsAppPageBodyWhatsAppConfigs=O;g.getAddWhatsAppPageBodyInstagramConfigs=P;g.getWhatsAppLinkCompletionHeaderConfigs=Q;g.WHATSAPP_LINK_COMPLETION_BODY_CONFIGS=R}),226);
__d("PolarisUserActionSetProfessionalAccountStatusForUser",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{isProfessionalAccount:a,type:"SET_PROFESSIONAL_ACCOUNT_STATUS_FOR_USER"}}f.setProfessionalAccountStatusForUser=a}),66);
__d("PolarisProfessionalConversionActions",["PolarisConfig","PolarisInstapi","PolarisProfessionalAccountLogger","PolarisProfessionalAccountLoggerUtils","PolarisProfessionalConversionCardTypeConfigs.react","PolarisProfessionalConversionUtils","PolarisToastActions","PolarisUserActionSetProfessionalAccountStatusForUser","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function h(){return d("PolarisInstapi").apiGet("/api/v1/business/account/get_suggested_categories/",{}).then(function(a){return a.data})}function i(){return d("PolarisInstapi").apiGet("/api/v1/business/account/get_professional_conversion_nux_configuration",{query:{is_professional_signup_flow:!1}}).then(function(a){return a.data})}function j(){return d("PolarisInstapi").apiPost("/api/v1/business/account/convert_account/",{body:{entry_point:d("PolarisProfessionalAccountLoggerUtils").EntryPoint.ig_web_settings,to_account_type:Number(d("PolarisProfessionalConversionUtils").encodeInterestAccountType(d("PolarisProfessionalConversionUtils").InterestAccount.personal))}},{options:{timeout:d("PolarisProfessionalConversionUtils").IGPCP_TIMEOUT}}).then(function(a){return a.data})}function k(a){return d("PolarisInstapi").apiPost("/api/v1/business/account/convert_account/",{body:{to_account_type:Number(d("PolarisProfessionalConversionUtils").encodeInterestAccountType(a))}},{options:{timeout:d("PolarisProfessionalConversionUtils").IGPCP_TIMEOUT}}).then(function(a){return a.data})}function l(a,b,c,e,f,g,h){e=e!==""?JSON.stringify({business_contact_method:"CALL",public_phone_number:e}):"";f=f+a+g!==""?JSON.stringify({address_street:f,city_id:a,zip:g}):"";a={business_address:f,entry_point:c,public_email:b,public_phone_contact:e,should_show_public_contacts:h===!0?1:0};return d("PolarisInstapi").apiPost("/api/v1/accounts/update_business_info/",{body:a}).then(function(a){return a.data})}function m(a){var b=d("PolarisProfessionalConversionUtils").encodeInterestAccountType(a.accountType);return d("PolarisInstapi").apiPost("/api/v1/business/account/convert_account/",{body:{category_id:a.categoryId,create_business_id:a.createBusinessManager,entry_point:a.entryPoint,preferred_business_id:a.preferredBusinessId,set_public:!0,should_bypass_contact_check:String(!0),should_show_category:a.shouldShowCategory===!0?1:0,to_account_type:Number(b)}},{options:{timeout:d("PolarisProfessionalConversionUtils").IGPCP_TIMEOUT}}).then(function(a){return a.data})}function n(){return{type:"GO_FORWARD"}}function a(){return{type:"GO_BACK"}}function b(){return{type:"RESET_CATEGORIES"}}function o(a){return function(b,c){c=c();c=c.professionalConversion;var e=c.conversionFlowOrder;e=e.filter(function(a){return a!==d("PolarisProfessionalConversionUtils").ConversionStep.edit_contact_info});var f=c.entryPoint===d("PolarisProfessionalAccountLoggerUtils").EntryPoint.ig_web_settings||c.entryPoint===d("PolarisProfessionalAccountLoggerUtils").EntryPoint.page_settings;f=a===d("PolarisProfessionalConversionUtils").InterestAccount.business&&Boolean(c.whatsappUserNonce)!==!0&&f&&c.professionalConversionNuxConfig.should_show_edit_contact_info_step;f&&e.splice(-1,0,d("PolarisProfessionalConversionUtils").ConversionStep.edit_contact_info);b({newConversionFlowOrder:e,type:"SET_NUX_CONTACT_INFO_ELIGIBILITY"})}}function p(a){return{creatorBusinessConversionRequestInFlight:a,type:"SET_CREATOR_BUSINESS_CONVERSION_REQUEST_IN_FLIGHT"}}function q(a){return{requestInFlight:a,type:"SET_REQUEST_IN_FLIGHT"}}function r(a){return{toastMessage:a,type:"SET_TOAST_MESSAGE"}}function e(){return r("")}function f(){return function(a,b){b=b();var c=b.professionalConversion,e=c.logger;return h().then(function(b){var f=[];b.categories.forEach(function(a){var b;f.push({category_account_type:(b=a.category_account_type)!=null?b:"",category_id:(b=a.category_id)!=null?b:"",category_name:(b=a.category_name)!=null?b:""})});a({categories:f,type:"CATEGORIES_LOADED"});b={data_count:String(f.length)};e&&c.accountType&&e.logFetchData(d("PolarisProfessionalConversionUtils").getLoggingFlow(c.accountType),d("PolarisProfessionalAccountLoggerUtils").Step.choose_category,d("PolarisProfessionalAccountLoggerUtils").Component.suggested_category,b)},function(a){var b;b=(b=(b=a.responseObject)==null?void 0:b.message)!=null?b:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;if(e){e.logFetchDataError(d("PolarisProfessionalConversionUtils").getLoggingFlow(c.accountType),d("PolarisProfessionalAccountLoggerUtils").Step.choose_category,d("PolarisProfessionalAccountLoggerUtils").Component.suggested_category,(a=a.responseObject)==null?void 0:a.error_identifier,b)}})["catch"](function(a){var b;b=(b=(b=a.responseObject)==null?void 0:b.message)!=null?b:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;if(e){e.logFetchDataError(d("PolarisProfessionalConversionUtils").getLoggingFlow(c.accountType),d("PolarisProfessionalAccountLoggerUtils").Step.choose_category,d("PolarisProfessionalAccountLoggerUtils").Component.suggested_category,(a=a.responseObject)==null?void 0:a.error_identifier,b)}})}}function s(a,b,c,e,f,g,h){return function(i,j){j=j();var k=j.professionalConversion,m=k.logger;return l(a,b,c,e,f,g,h).then(function(){i(q(!1));if(m&&k.accountType){var c=d("PolarisProfessionalConversionUtils").getLoggingFlow(k.accountType);m.logSubmit(c,d("PolarisProfessionalAccountLoggerUtils").Step.edit_contact_info,d("PolarisProfessionalAccountLoggerUtils").Component.save_info,{address:f,city:a,email:b,phone:e,should_show_public_contacts:h===!0?"true":"false",zip_code:g});m.logFinishStep(c,d("PolarisProfessionalAccountLoggerUtils").Step.edit_contact_info)}i(n())},function(c){var j;i(q(!1));j=((j=c.responseObject)==null?void 0:j.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;i(d("PolarisToastActions").showToast({text:j}));if(m&&k.accountType){m.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(k.accountType),d("PolarisProfessionalAccountLoggerUtils").Step.edit_contact_info,d("PolarisProfessionalAccountLoggerUtils").Component.save_info,(j=c.responseObject)==null?void 0:j.error_identifier,(j=c.responseObject)==null?void 0:j.message,{address:f,city:a,email:b,phone:e,should_show_public_contacts:h===!0?"true":"false",zip_code:g})}})["catch"](function(a){var b;i(q(!1));b=((b=a.responseObject)==null?void 0:b.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;i(d("PolarisToastActions").showToast({text:b}));if(m&&k.accountType){m.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(k.accountType),d("PolarisProfessionalAccountLoggerUtils").Step.edit_contact_info,d("PolarisProfessionalAccountLoggerUtils").Component.save_info,(b=a.responseObject)==null?void 0:b.error_identifier,(b=a.responseObject)==null?void 0:b.message)}})}}function t(a){return function(b,c){c=c();var e=c.professionalConversion,f=e.logger,g=e.isEligibleForATStoNUX?d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion:d("PolarisProfessionalConversionUtils").getLoggingFlow(a);c=e.professionalConversionNuxConfig.should_show_edit_contact_info_step;var h={should_show_edit_contact_info_step:c===!0?"true":"false"};return i().then(function(c){f&&f.logFetchData(g,e.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.nux_config,h),b({professionalConversionNuxConfig:{should_show_edit_contact_info_step:c.should_show_edit_contact_info_step},type:"SET_PROFESSIONAL_CONVERSION_NUX_CONFIG"}),b(o(a)),b(q(!1)),b(n())},function(c){b(o(a));if(f){var h;f.logFetchDataError(g,e.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.nux_config,(h=c.responseObject)==null?void 0:h.error_identifier,(h=c.responseObject)==null?void 0:h.message)}b(q(!1));b(n())})["catch"](function(c){b(o(a));if(f){var h;f.logFetchDataError(g,e.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.nux_config,(h=c.responseObject)==null?void 0:h.error_identifier,(h=c.responseObject)==null?void 0:h.message)}b(q(!1));b(n())})}}function u(a){return function(b,c){c=c();c=c.professionalConversion;var e=c.logger;return k(a).then(function(){b(t(a)),b(z(a)),e&&(e.logSubmit(d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion,d("PolarisProfessionalConversionUtils").ConversionStep.account_type_selection,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional),e.logFinishStep(d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion,d("PolarisProfessionalConversionUtils").ConversionStep.account_type_selection))},function(a){var c;b(q(!1));c=(c=(c=a.responseObject)==null?void 0:c.message)!=null?c:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;b(d("PolarisToastActions").showToast({text:c}));if(e){e.logSubmitError(d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion,d("PolarisProfessionalConversionUtils").ConversionStep.account_type_selection,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional,(c=a.responseObject)==null?void 0:c.error_identifier,(c=a.responseObject)==null?void 0:c.message)}})["catch"](function(a){var c;b(q(!1));c=(c=(c=a.responseObject)==null?void 0:c.message)!=null?c:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;b(d("PolarisToastActions").showToast({text:c}));if(e){e.logSubmitError(d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion,d("PolarisProfessionalConversionUtils").ConversionStep.account_type_selection,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional,(c=a.responseObject)==null?void 0:c.error_identifier,(c=a.responseObject)==null?void 0:c.message)}})}}function v(a,b,c){return function(e,f){f=f();f=f.professionalConversion;var g=f.logger;f=k(a).then(function(){e(z(a));b!=null&&e(d("PolarisToastActions").showToast({text:b}));if(g){var f;g.logSubmit((f=d("PolarisProfessionalAccountLoggerUtils")).Flow.business_conversion,f.Step.switch_professional_account_type,f.Component["continue"]);g.logFinishStep(f.Flow.business_conversion,f.Step.switch_professional_account_type)}c&&c()},function(a){var b;b=(b=(b=a.responseObject)==null?void 0:b.message)!=null?b:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;e(d("PolarisToastActions").showToast({text:b}));if(g){g.logSubmitError(d("PolarisProfessionalAccountLoggerUtils").Flow.business_conversion,d("PolarisProfessionalAccountLoggerUtils").Step.switch_professional_account_type,d("PolarisProfessionalAccountLoggerUtils").Component["continue"],(b=a.responseObject)==null?void 0:b.error_identifier,(b=a.responseObject)==null?void 0:b.message)}})["catch"](function(a){var b;b=(b=(b=a.responseObject)==null?void 0:b.message)!=null?b:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;e(d("PolarisToastActions").showToast({text:b}));if(g){g.logSubmitError(d("PolarisProfessionalAccountLoggerUtils").Flow.business_conversion,d("PolarisProfessionalAccountLoggerUtils").Step.switch_professional_account_type,d("PolarisProfessionalAccountLoggerUtils").Component["continue"],(b=a.responseObject)==null?void 0:b.error_identifier,(b=a.responseObject)==null?void 0:b.message)}});function h(){e(p(!1))}f.then(h,h)}}function w(){return function(a,b){b=b();var c=b.professionalConversion,e=c.logger,f=c.isEligibleForATStoNUX?d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion:d("PolarisProfessionalConversionUtils").getLoggingFlow(c.accountType);return m(c).then(function(b){e&&(e.logSubmit(f,c.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional),e.logFinishStep(f,c.conversionStep));b=d("PolarisProfessionalConversionUtils").decodeInterestAccountType(b.user.account_type);c.isEligibleForATStoNUX&&a(z(b));a(t(b))},function(b){var g;a(q(!1));g=((g=b.responseObject)==null?void 0:g.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;a(d("PolarisToastActions").showToast({text:g}));if(e&&c.accountType){e.logSubmitError(f,c.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional,(g=b.responseObject)==null?void 0:g.error_identifier,(g=b.responseObject)==null?void 0:g.message)}})["catch"](function(b){var g;a(q(!1));g=((g=b.responseObject)==null?void 0:g.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;a(d("PolarisToastActions").showToast({text:g}));if(e&&c.accountType){e.logSubmitError(f,c.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional,(g=b.responseObject)==null?void 0:g.error_identifier,(g=b.responseObject)==null?void 0:g.message)}})}}function x(a){var b=a.logger,c=a.onError,e=a.onSuccess;j().then(function(){b&&b.logSubmit(d("PolarisProfessionalConversionUtils").getLoggingFlow(d("PolarisProfessionalConversionUtils").InterestAccount.personal),d("PolarisProfessionalAccountLoggerUtils").Step.switch_back,d("PolarisProfessionalAccountLoggerUtils").Component.switch_back_button),e()},function(a){var e;e=((e=a.responseObject)==null?void 0:e.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;if(b){var f;b.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(d("PolarisProfessionalConversionUtils").InterestAccount.personal),d("PolarisProfessionalAccountLoggerUtils").Step.switch_back,d("PolarisProfessionalAccountLoggerUtils").Component.switch_back_button,(f=a.responseObject)==null?void 0:f.error_identifier,(f=a.responseObject)==null?void 0:f.message)}c(e)})["catch"](function(a){var e;e=((e=a.responseObject)==null?void 0:e.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;if(b){var f;b.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(d("PolarisProfessionalConversionUtils").InterestAccount.personal),d("PolarisProfessionalAccountLoggerUtils").Step.switch_back,d("PolarisProfessionalAccountLoggerUtils").Component.switch_back_button,(f=a.responseObject)==null?void 0:f.error_identifier,(f=a.responseObject)==null?void 0:f.message)}c(e)})}function y(){return function(a,b){b=b();b=b.professionalConversion;var c=b.logger;return j().then(function(){a(d("PolarisUserActionSetProfessionalAccountStatusForUser").setProfessionalAccountStatusForUser(!1)),a(q(!1)),a(r(d("PolarisProfessionalConversionCardTypeConfigs.react").SWITCHED_TO_PERSONAL_ACCOUNT)),c&&c.logSubmit(d("PolarisProfessionalConversionUtils").getLoggingFlow(d("PolarisProfessionalConversionUtils").InterestAccount.personal),d("PolarisProfessionalAccountLoggerUtils").Step.switch_back,d("PolarisProfessionalAccountLoggerUtils").Component.switch_back_button)},function(b){var e;a(q(!1));e=((e=b.responseObject)==null?void 0:e.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;a(d("PolarisToastActions").showToast({text:e}));if(c){c.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(d("PolarisProfessionalConversionUtils").InterestAccount.personal),d("PolarisProfessionalAccountLoggerUtils").Step.switch_back,d("PolarisProfessionalAccountLoggerUtils").Component.switch_back_button,(e=b.responseObject)==null?void 0:e.error_identifier,(e=b.responseObject)==null?void 0:e.message)}})["catch"](function(b){var e;a(q(!1));e=((e=b.responseObject)==null?void 0:e.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;a(d("PolarisToastActions").showToast({text:e}));if(c){c.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(d("PolarisProfessionalConversionUtils").InterestAccount.personal),d("PolarisProfessionalAccountLoggerUtils").Step.switch_back,d("PolarisProfessionalAccountLoggerUtils").Component.switch_back_button,(e=b.responseObject)==null?void 0:e.error_identifier,(e=b.responseObject)==null?void 0:e.message)}})}}function z(a){return function(b,c){c=c();c=c.professionalConversion;b({accountType:a,type:"SET_ACCOUNT_TYPE"});(a===d("PolarisProfessionalConversionUtils").InterestAccount.business||c.accountType===d("PolarisProfessionalConversionUtils").InterestAccount.business)&&b(o(a))}}function A(a){return{categoryId:a,type:"CATEGORY_CHOSEN"}}function B(a){return{shouldShowCategory:a,type:"SHOULD_SHOW_CATEGORY_CHOSEN"}}function C(a){return{shouldShowContact:a,type:"SHOULD_SHOW_CONTACT_INFO"}}function D(a,b,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s={account_type:a,app_id:i,category_id:e,collect_contact_info:f.toString(),create_business_manager:g.toString(),from:h,preferred_business_id:m,show_context_sceen:o.toString()};s=Object.entries(s).reduce(function(a,b){var c=b[0];b=b[1];b!=null&&(a[c]=b);return a},{});a=a!=null&&a in d("PolarisProfessionalConversionUtils").InterestAccount?d("PolarisProfessionalConversionUtils").InterestAccount[a]:d("PolarisProfessionalConversionUtils").InterestAccount.unknown;i=i===""?null:i;m=m===""?null:m;e=e===""?null:e;h=h==null||h===""?d("PolarisProfessionalAccountLoggerUtils").EntryPoint.ig_web_settings:h;k=k===""?null:k;j=j===""?null:j;n=n;var t=new(d("PolarisProfessionalAccountLogger").ProfessionalAccountLogger)(d("PolarisConfig").getViewerId(),c("uuidv4")(),h,i,j,k,n);t.logEnter(d("PolarisProfessionalAccountLoggerUtils").Step.init,s);s=[];o&&s.push(d("PolarisProfessionalConversionUtils").ConversionStep.context);n&&s.push(d("PolarisProfessionalConversionUtils").ConversionStep.business_login_info);(a===d("PolarisProfessionalConversionUtils").InterestAccount.unknown||a===d("PolarisProfessionalConversionUtils").InterestAccount.personal)&&s.push(d("PolarisProfessionalConversionUtils").ConversionStep.account_type_selection);s.push(d("PolarisProfessionalConversionUtils").ConversionStep.intro);e==null&&s.push(d("PolarisProfessionalConversionUtils").ConversionStep.choose_category);s.push(d("PolarisProfessionalConversionUtils").ConversionStep.confirmation);o=l===""?null:l;n=r===""?null:r;l=p===""?null:p;r=q===""?null:q;return{accountType:a,appDisplayName:b,categoryId:e,collectContactInfo:f,conversionFlowOrder:s,createBusinessManager:g,entryPoint:h,fbUserId:k,fbUserNonce:o,isEligibleForATStoNUX:!1,logger:t,pageId:j,preferredBusinessId:m,sourceAppId:i,type:"INIT_PROFESSIONAL_CONVERSION_FLOW",whatsappDeeplink:l,whatsappLinkRequestId:r,whatsappUserNonce:n}}g.goForward=n;g.goBack=a;g.resetCategories=b;g.setCreatorBusinessConversionRequestInFlight=p;g.setRequestInFlight=q;g.clearToastMessage=e;g.loadCategories=f;g.saveContactInfo=s;g.overrideAccountType=u;g.switchToAccountType=v;g.convertToProfessionalAccount=w;g.convertToPersonalAccountAction=x;g.convertToPersonalAccount_LEGACY=y;g.setAccountType=z;g.categoryChosen=A;g.shouldShowCategoryChosen=B;g.shouldShowContactInfo=C;g.initProfessionalConversionFlow=D}),98);
__d("PolarisSettingsActionLoadConfigForCommentFilteringPage",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.configResponse;a=a.keywords;return{commentFilteringConfig:!b.disabled,commentFilteringKeywords:a,type:"COMMENT_FILTERING_PAGE_LOADED"}}f.loadConfigForCommentFilteringPage=a}),66);
__d("PolarisSettingsActionLoadCookieSettingsPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a||h(0,65509);a={offsiteTrackingEnabled:a.offsite_tracking_enabled||!1,shouldShowConsentSettings:a.should_show_consent_settings||!1,thirdPartyCookiesEnabled:a.third_party_cookies_enabled||!1};return{formData:a,type:"COOKIE_SETTINGS_PAGE_LOADED"}}g.loadCookieSettingsPage=a}),98);
__d("PolarisSettingsActionLoadEmailsSentPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.data;a||h(0,51683);a={otherEmails:a.other_emails.emails,securityEmails:a.security_emails.emails};return{formData:a,type:"EMAILS_SENT_PAGE_LOADED"}}g.loadEmailsSentPage=a}),98);
__d("PolarisSettingsActionLoadKeywordsForCommentFilteringPage",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.config;a=a.keywordsResponse;a=[].concat(a.keywords).sort().join(", ");return{commentFilteringConfig:b,commentFilteringKeywords:a,type:"COMMENT_FILTERING_PAGE_LOADED"}}f.loadKeywordsForCommentFilteringPage=a}),66);
__d("PolarisSettingsActionLoadLoginActivityPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.data;a||h(0,51685);a={sessions:a.sessions.map(function(a){return babelHelpers["extends"]({},a,{isConfirmed:!1,isCurrent:a.is_current,loginTimestamp:a.login_timestamp,timeStamp:a.timestamp})}),suspiciousLogins:a.suspicious_logins.map(function(a){return babelHelpers["extends"]({},a,{isConfirmed:!1,isCurrent:a.is_current,loginId:a.id,loginTimestamp:a.login_timestamp,timeStamp:a.timestamp})})};return{formData:a,type:"LOGIN_ACTIVITY_PAGE_LOADED"}}g.loadLoginActivityPage=a}),98);
__d("PolarisSettingsActionLoadPrivacyAndSecurityPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b;a||h(0,51684);b={disallowStoryReshare:{loading:!1,value:a.disallow_story_reshare||!1},feedPostReshareDisabled:{loading:!1,value:a.feed_post_reshare_disabled||!1},isEligibleForSeoIndexing:{loading:!1,value:(b=a.is_eligible_for_seo_indexing)!=null?b:null},isEmbedsDisabled:{loading:!1,value:a.is_embeds_disabled||!1},isInterestTopicsEnabled:{loading:!1,value:a.is_interest_topics_enabled||!1},offsiteTrackingEnabled:{loading:!1,value:a.offsite_tracking_enabled||!1},presenceDisabled:{loading:!1,value:a.presence_disabled||!1},privateAccount:{loading:!1,value:a.private_account||!1},shouldHideTwoFactor:{loading:!1,value:a.should_hide_two_factor||!1},shouldShowConsentSettings:{loading:!1,value:a.should_show_consent_settings||!1},thirdPartyCookiesEnabled:{loading:!1,value:a.third_party_cookies_enabled||!1},twoFactorEnabled:{loading:!1,value:a.two_factor_enabled||!1},userCallSettings:{loading:!1,value:a.user_call_settings||"off"},usertagReviewEnabled:{loading:!1,value:a.usertag_review_enabled||!1}};return{formData:b,type:"PRIVACY_AND_SECURITY_PAGE_LOADED"}}g.loadPrivacyAndSecurityPage=a}),98);
__d("PolarisSettingsActionLoadProfileEditPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.form_data;a||h(0,51686);a={bio:a.biography||"",bioLinksForEditPage:a.bio_links_for_web_edit_only,birthday:a.birthday||null,businessAccount:a.business_account||!1,chainingEnabled:a.chaining_enabled||!1,email:a.email||"",fbBirthday:a.fb_birthday||null,fullName:a.first_name||"",gender:a.gender,isEmailConfirmed:a.is_email_confirmed||!1,isPhoneConfirmed:a.is_phone_confirmed||!1,nameAlternateCtaLink:a.name_alternate_cta_link||null,nameAlternateCtaMessage:a.name_alternate_cta_message||null,nameAlternateMessage:a.name_alternate_message||null,nameDisabled:a.name_disabled||null,phoneNumber:a.phone_number||"",profileEditParams:a.profile_edit_params||null,trustedDays:a.trust_days||14,trustedUsername:a.trusted_username||"",username:a.username,usernameAdditionalCtaLink:a.username_additional_cta_link||null,usernameAdditionalCtaMessage:a.username_additional_cta_message||null,usernameAdditionalMessage:a.username_additional_message||null,website:a.external_url||""};return{formData:a,type:"PROFILE_EDIT_PAGE_LOADED"}}g.loadProfileEditPage=a}),98);
__d("PolarisSettingsActionLoadTwoFactorAuthPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a||h(0,51687);return{phoneNumber:a.phone_number||"",showTrustedDevices:a.show_trusted_devices||!1,totpTwoFactorEnabled:a.eligible_for_totp_two_factor?a.totp_two_factor_enabled||!1:void 0,twoFactorEnabled:a.two_factor_enabled||!1,type:"TWO_FACTOR_AUTH_PAGE_LOADED"}}g.loadTwoFactorAuthPage=a}),98);
__d("PolarisReduxSettingsActions",["PolarisGenderActions","PolarisProfessionalConversionActions","PolarisSettingsActionLoadConfigForCommentFilteringPage","PolarisSettingsActionLoadCookieSettingsPage","PolarisSettingsActionLoadEmailsSentPage","PolarisSettingsActionLoadKeywordsForCommentFilteringPage","PolarisSettingsActionLoadLoginActivityPage","PolarisSettingsActionLoadPrivacyAndSecurityPage","PolarisSettingsActionLoadProfileEditPage","PolarisSettingsActionLoadTwoFactorAuthPage"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){b(d("PolarisSettingsActionLoadLoginActivityPage").loadLoginActivityPage({data:a}))}};b=function(a){return function(b){b(d("PolarisSettingsActionLoadProfileEditPage").loadProfileEditPage(a));b(d("PolarisGenderActions").loadGenderInfo(String(a.form_data.gender),(b=a.form_data.custom_gender)!=null?b:""))}};c=function(a){return function(b){b(d("PolarisSettingsActionLoadPrivacyAndSecurityPage").loadPrivacyAndSecurityPage(a))}};e=function(a){return function(b,c){b(d("PolarisSettingsActionLoadKeywordsForCommentFilteringPage").loadKeywordsForCommentFilteringPage({config:c().settings.commentFilteringConfig,keywordsResponse:a}))}};f=function(a){return function(b,c){b(d("PolarisSettingsActionLoadConfigForCommentFilteringPage").loadConfigForCommentFilteringPage({configResponse:a,keywords:c().settings.commentFilteringKeywords}))}};var h=function(a){return function(b){b(d("PolarisSettingsActionLoadEmailsSentPage").loadEmailsSentPage(a))}},i=function(a){return function(b){b(d("PolarisSettingsActionLoadCookieSettingsPage").loadCookieSettingsPage(a))}},j=function(a){return function(b){b(d("PolarisProfessionalConversionActions").initProfessionalConversionFlow(a.account_type,a.app_display_name,a.category_id,a.collect_contact_info||!1,a.create_business_manager||!1,a.entry_point,a.app_id,a.fb_user_id,a.fb_user_nonce,a.page_id,a.preferred_business_id,a.show_business_login_info_screen||!1,a.show_context_screen||!1,a.whatsapp_deeplink,a.whatsapp_link_request_id,a.whatsapp_user_nonce))}},k=function(a){return function(b){b(d("PolarisSettingsActionLoadTwoFactorAuthPage").loadTwoFactorAuthPage(a))}};g.setupLoginActivityPage=a;g.setupProfileEditPage=b;g.setupPrivacyAndSecurityPage=c;g.setupKeywordsForCommentFilteringPage=e;g.setupConfigForCommentFilteringPage=f;g.setupEmailsSentPage=h;g.setupCookieSettingsPage=i;g.setupConvertToProfessionalAccountPage=j;g.setupTwoFactorAuthPage=k}),98);
__d("PolarisPostGifComment.react",["IGDSBox.react","IGDSText.react","InstagramODS","PolarisExternalLink.react","PolarisFastLink.react","PolarisPostStrings","PolarisReactRedux.react","PolarisReduxSettingsActions","PolarisRoutes","react","usePolarisGetQuery","usePolarisGetQuerySetup"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l=b.c,m="https://help.instagram.com/cookie_settings";function n(){var a=l(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("IGDSText.react"),{color:"primaryButton",weight:"semibold",children:d("PolarisPostStrings").GIF_COMMENT_ALLOW_COOKIES_TEXT}),a[0]=b):b=a[0];return b}function o(a){var b=l(2),e=a.shouldShowConsentSettings;a=a.thirdPartyCookiesEnabled;if(e&&!a){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("PolarisFastLink.react"),{href:d("PolarisRoutes").COOKIE_SETTINGS_PATH,children:i.jsx(n,{})}),b[0]=e):e=b[0];return e}else{b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("PolarisExternalLink.react"),{href:m,children:i.jsx(n,{})}),b[1]=a):a=b[1];return a}}function p(){var a=l(5),b=c("usePolarisGetQuery")("/api/v1/accounts/cookie_settings/web_info/");c("usePolarisGetQuerySetup")(b,d("PolarisReduxSettingsActions").setupCookieSettingsPage);a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(a){return a.settings.privacyAndSecurityData.thirdPartyCookiesEnabled.value},a[0]=b):b=a[0];b=d("PolarisReactRedux.react").useSelector(b);var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){return a.settings.privacyAndSecurityData.shouldShowConsentSettings.value},a[1]=e):e=a[1];e=d("PolarisReactRedux.react").useSelector(e);if(!b){var f;a[2]!==e||a[3]!==b?(f=i.jsx(c("IGDSBox.react"),{marginTop:1,children:i.jsxs(c("IGDSText.react"),{color:"secondaryText",children:[d("PolarisPostStrings").GIF_COMMENT_ERROR_EXPLANATION," ",i.jsx(o,{shouldShowConsentSettings:e,thirdPartyCookiesEnabled:b})]})}),a[2]=e,a[3]=b,a[4]=f):f=a[4];return f}}function a(a){var b=l(12);a=a.gifSrc;var d=k(!1),e=d[0],f=d[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=function(){c("InstagramODS").incr("web.comments.gif_comment.view_impression")},b[0]=d):d=b[0];var g;b[1]!==a?(g=[a],b[1]=a,b[2]=g):g=b[2];j(d,g);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(d=function(){f(!0),c("InstagramODS").incr("web.comments.gif_comment.img_error")},b[3]=d):d=b[3];g=d;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(d="x107yiy2 xv8uw2v x1tfwpuw x2g32xy",b[4]=d):d=b[4];b[5]!==a?(d=i.jsx("img",{className:d,onError:g,src:a}),b[5]=a,b[6]=d):d=b[6];b[7]!==e?(g=e&&i.jsx(p,{}),b[7]=e,b[8]=g):g=b[8];b[9]!==d||b[10]!==g?(a=i.jsxs(c("IGDSBox.react"),{marginTop:2,children:[d,g]}),b[9]=d,b[10]=g,b[11]=a):a=b[11];return a}g["default"]=a}),98);
__d("PolarisPostVariants",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({feed:null,flexible:null,narrow:null,wide:null});g.VARIANTS=a}),98);
__d("PolarisSavedPostsActionEditCollection",["PolarisAPIEditCollection","PolarisGenericStrings","PolarisSavedPostsLogger","Promise","polarisNormalizeCollections"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=a.collectionId,e=a.collectionName,f=a.postIdsToAdd,g=a.postIdsToRemove,i=a.retryHandler,j=a.source,k=a.userId;return function(a){a({collectionId:c,type:"SAVED_COLLECTION_EDIT_PENDING",userId:k});d("PolarisSavedPostsLogger").logEditCollection("attempt",j);return d("PolarisAPIEditCollection").editCollection({collectionId:c,collectionName:e,postIdsToAdd:f,postIdsToRemove:g}).then(function(b){b=d("polarisNormalizeCollections").normalizeCollection(b);a({collection:b,postIdsToAdd:f,postIdsToRemove:g,type:"SAVED_COLLECTION_EDIT_SUCCESS",userId:k});d("PolarisSavedPostsLogger").logEditCollection("success",j)})["catch"](function(e){a({collectionId:c,toast:{actionHandler:i,actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE},type:"SAVED_COLLECTION_EDIT_ERRORED",userId:k});d("PolarisSavedPostsLogger").logEditCollection("failure",j);return(h||(h=b("Promise"))).reject(e)})}}g.editCollection=a}),98);
__d("PolarisVideoHeight",["PolarisSizing"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){Object.assign(e,{height:"100%",position:"absolute",width:"100%"});var f=null;a.dimensions!=null&&(f=d("PolarisSizing").getHeightPercent(a.dimensions));f!=null&&f!==100&&(b&&(f=Math.min(f,d("PolarisSizing").CAPPED_HEIGHT_PERCENT)),Object.assign(c,{paddingBottom:"calc("+f+"% - 1px)"}),Object.assign(e,{height:"calc(100% + 1px)"}))}g.setVideoHeightCompensation=a}),98);
__d("PolarisVideoPlayButton.react",["cx","fbt","PolarisGenericStrings","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j,m=i._("__JHASH__WT4Q1op-CT7__JHASH__");function a(a){var b=k(11),c=a.onClick;a=a.showPlayButton;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="_aakh",b[0]=e):e=b[0];var f;b[1]!==a?(f="_aaki _aakj"+(a?" _aakk":"")+" _9zwu",b[1]=a,b[2]=f):f=b[2];b[3]!==f?(a=l.jsx("div",{className:e,children:l.jsx("span",{"aria-label":d("PolarisGenericStrings").ASSISTIVE_TEXT_PLAY_BUTTON,className:f,role:"button"})}),b[3]=f,b[4]=a):a=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e="_aakl",b[5]=e):e=b[5];b[6]!==c?(f=l.jsx("div",{"aria-label":m,className:e,onClick:c,role:"button",tabIndex:"0"}),b[6]=c,b[7]=f):f=b[7];b[8]!==a||b[9]!==f?(e=l.jsxs(l.Fragment,{children:[a,f]}),b[8]=a,b[9]=f,b[10]=e):e=b[10];return e}g["default"]=a}),226);
__d("polarisPostModalHelpers",["fbt","justknobx","polarisUnexpected"],(function(a,b,c,d,e,f,g,h){"use strict";var i=1032,j=55,k=500,l=250,m=h._("__JHASH__l_M0CG6unzO__JHASH__");h=h._("__JHASH__wVnrOsb2lsR__JHASH__");var n=-1,o=1;function a(a){var b="";switch(a){case"profilePage":case"selfProfilePage":b="profilePageModal";break;case"locationPage":b="locationPageModal";break;case"tagPage":b="tagPageModal";break;case"exploreLandingPage":b="discoverMediaPageModal";break;case"DirectThreadPage":b="directThreadPageModal";break;case"ClipsAudioPage":b="clipsAudioPageModal";break;case"feedPage":b="feedPageModal";break;case"KeywordSearchExplorePage":b="keywordSearchExplorePageModal";break;case"adsActivityFeed":b="adActivityFeedModal";break;case"ExploreSERPPage":b="ExploreSERPPageModal";break;default:c("polarisUnexpected")("Unexpected analytics context: "+a)}return b}function b(a){a=a.match(new RegExp("^(.+/)(saved)/(.+)/(.+)/"));return a!=null?a[4]:null}function d(a){return!!a.match(new RegExp("/p/"))}function e(a){a=a.match(new RegExp("/([^/]+)/[^/]*$"));return a?a[1]:null}function p(a,b,c,d){if(a.height>a.width){var e=c/a.height;d.style.maxHeight=c;d.style.maxWidth=a.width*e;d.style.aspectRatio=a.width+" / "+a.height}else b&&(d.style.aspectRatio="1"),d.style.maxHeight=c,d.style.maxWidth=c;return d}function q(a,b,c,d){c.style.maxWidth=b;b=b/a.width;c.style.maxHeight=a.height*b+d;c.style.aspectRatio=a.width*b+" / "+(a.height*b+d);return c}function f(a){var b=a.dimensions,d=a.footerHeight;d=d===void 0?j:d;var e=a.viewportHeight,f=a.viewportWidth,g=a.hasSidebarInRedesign;a=a.hasFooter;a=a===void 0?!1:a;if(b==null||e===0||f===0)return null;var h={style:{maxHeight:0,maxWidth:0}},m=f-64*2-(g?k:0);if(b){var n=e>f&&a===!0?m:g?e-24*2:e-24*2-l;n>i&&c("justknobx")._("64")&&(n=i);if(a===!1)h=p(b,g,n,h);else{a=b.height;a=(n-d)/a;h.style.maxHeight=n;!g?h=q(b,n,h,d):b.height>=b.width?e>f?h=q(b,n,h,d):b.width*a>m?h=q(b,m,h,d):(h.style.maxHeight=n,h.style.aspectRatio=b.width*a+" / "+(b.height*a+d),h.style.maxWidth=b.width*a):(h.style.aspectRatio=b.width*a>b.height*a+d?"1":b.width*a+" / "+(b.height*a+d),h.style.maxWidth=e>f?n:b.width*a>b.height*a+d?n:b.width*a)}g&&(h.style.flexBasis=h.style.maxWidth)}return h}g.PREVIOUS_ARROW_TITLE=m;g.NEXT_ARROW_TITLE=h;g.LEFT_DELTA=n;g.RIGHT_DELTA=o;g.getModalPageIdFromAnalyticsContext=a;g.getCollectionIdFromPath=b;g.isPostUrl=d;g.getPostCodeFromPath=e;g.getMediaContainerProps=f}),226);
__d("useIGDShareSheetOnSubmitPost",["IGDShareSheetOnSubmitFactory","IGDThreadTTLCUtils","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisPostShareUtils.next.react","asyncToGeneratorRuntime","requireDeferred","useIGDShareSheetSendPostToOpenRecipients","useStableCallback"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("getSendPostToInstamadilloRecipient").__setRef("useIGDShareSheetOnSubmitPost");function a(a){var e=c("useIGDShareSheetSendPostToOpenRecipients")(a),f=d("PolarisInteractionsLogger").getMediaTypeFromPost(a),g=d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisPostShareUtils.next.react").getShareURL(f,(f=a.code)!=null?f:"");return c("useStableCallback")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,f;for(var i=arguments.length,j=new Array(i),k=0;k<i;k++)j[k]=arguments[k];var l=j,m=(yield h.load());return c("IGDShareSheetOnSubmitFactory")(e,m(a.id,(b=a.owner)==null?void 0:b.id,(f=a.owner)==null?void 0:f.username,g),function(b){return d("IGDThreadTTLCUtils").isIGDTTLCEnabledForIGDCandidate(b,a.productType)}).apply(void 0,l)}))}g["default"]=a}),98);
__d("usePolarisHidePostHideMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7790194804371102"}),null);
__d("usePolarisHidePostHideMutation.graphql",["usePolarisHidePostHideMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"inputData"}],c=[{alias:null,args:[{kind:"Variable",name:"request",variableName:"inputData"}],concreteType:"XDTExploreReportResponse",kind:"LinkedField",name:"xdt_api__v1__discover__explore_report",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisHidePostHideMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisHidePostHideMutation",selections:c},params:{id:b("usePolarisHidePostHideMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisHidePostHideMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisHidePostUnhideMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7981117125265622"}),null);
__d("usePolarisHidePostUnhideMutation.graphql",["usePolarisHidePostUnhideMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"inputData"}],c=[{alias:null,args:[{kind:"Variable",name:"request",variableName:"inputData"}],concreteType:"XDTExploreReportResponse",kind:"LinkedField",name:"xdt_api__v1__discover__explore_report_undo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisHidePostUnhideMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisHidePostUnhideMutation",selections:c},params:{id:b("usePolarisHidePostUnhideMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisHidePostUnhideMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisHidePost",["CometRelay","InstagramODS","PolarisMonitorErrors","polarisGetXDTMediaDict","react","usePolarisHidePostHideMutation.graphql","usePolarisHidePostUnhideMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;f=j||d("react");f.useCallback;var k=f.c;function a(a){return l(babelHelpers["extends"]({},a,{isHiding:!0}))}function e(a){return l(babelHelpers["extends"]({},a,{isHiding:!1}))}function l(a){var e=k(8),f=a.inventorySource,g=a.isHiding,j=a.onSuccess,l=a.postId,m=a.reason;a=d("CometRelay").useMutation(h!==void 0?h:h=b("usePolarisHidePostHideMutation.graphql"));var n=a[0];a=d("CometRelay").useMutation(i!==void 0?i:i=b("usePolarisHidePostUnhideMutation.graphql"));var o=a[0];e[0]!==f||e[1]!==l||e[2]!==m||e[3]!==g||e[4]!==n||e[5]!==j||e[6]!==o?(a=function(){var a={container_module:"feed_timeline",inventory_source:f,m_pk:l,selected_reason:m,sfplt_source:"sfplt_in_menu"};if(g){var b=function(a){a=c("polarisGetXDTMediaDict")(a,l);a==null?void 0:a.setValue(!0,"is_hidden")};n({onCompleted:function(){c("InstagramODS").incr("web.hide_post.succeeded"),j&&j()},onError:function(a){c("InstagramODS").incr("web.hide_post.failed"),d("PolarisMonitorErrors").logError(a)},optimisticUpdater:b,updater:b,variables:{inputData:a}})}else{b=function(a){a=c("polarisGetXDTMediaDict")(a,l);a==null?void 0:a.setValue(!1,"is_hidden")};o({onCompleted:function(){c("InstagramODS").incr("web.unhide_post.succeeded"),j==null?void 0:j()},onError:function(a){c("InstagramODS").incr("web.unhide_post.failed"),d("PolarisMonitorErrors").logError(a)},optimisticUpdater:b,updater:b,variables:{inputData:a}})}},e[0]=f,e[1]=l,e[2]=m,e[3]=g,e[4]=n,e[5]=j,e[6]=o,e[7]=a):a=e[7];return a}g.usePolarisHidePost=a;g.usePolarisUnhidePost=e}),98);
__d("usePolarisSponsoredPostCTAFooterDominantColor",["DateConsts","PolarisAdCTAViewabilityAction","PolarisAdImpressionAction","PolarisFeedCardProvider.react","PolarisUA","PolarisViewpointReact.react","polarisAdsSelectors.react","react","useDebounced"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=b.useRef,l=b.useState,m=b.c,n=4,o=8;function a(a){var b=m(20),e=a.isMediaRendered,f=a.mediaId;a=a.post;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){return a},b[0]=g):g=b[0];var h=d("polarisAdsSelectors.react").useFeedAdInfo(a.id,g);g=l(null);var p=g[0],q=g[1];g=l(!1);var r=g[0];g=g[1];var s=k(!1),t=a.isVideo,u=i(d("PolarisFeedCardProvider.react").PolarisFeedCardContext),v=u.isCaptionMoreClicked;u=(d("PolarisUA").isDesktop()?o:n)*d("DateConsts").MS_PER_SEC;var w=c("useDebounced")(q,u);b[1]!==f||b[2]!==e||b[3]!==t||b[4]!==h||b[5]!==v||b[6]!==r||b[7]!==w?(u=function(){var a;if(f==null||!e&&t===!1)return;a=h==null?void 0:(a=h.ctaItems)==null?void 0:a.get(f);if(a==null)return;if(v)return q(a.ctaDominantColor);if(r){if(w.isPending())return;s.current===!1?(s.current=!0,w(a.ctaDominantColor)):q(a.ctaDominantColor);return}r||(s.current=!1,w.isPending()?w.reset():q(null))},b[1]=f,b[2]=e,b[3]=t,b[4]=h,b[5]=v,b[6]=r,b[7]=w,b[8]=u):u=b[8];var x=h==null?void 0:h.ctaItems,y;b[9]!==r||b[10]!==w||b[11]!==f||b[12]!==x||b[13]!==e||b[14]!==t||b[15]!==v?(y=[r,w,f,x,e,t,v],b[9]=r,b[10]=w,b[11]=f,b[12]=x,b[13]=e,b[14]=t,b[15]=v,b[16]=y):y=b[16];j(u,y);x=d("PolarisViewpointReact.react").useViewpoint({action:[d("PolarisAdCTAViewabilityAction").makeAdCTAViewabilityAction(r,g),d("PolarisAdImpressionAction").makeAdCTAImpressionAction(f)],id:a.id});b[17]!==p||b[18]!==x?(u={ctaDominantColor:p,ctaFooterViewpointRef:x},b[17]=p,b[18]=x,b[19]=u):u=b[19];return u}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IWAAPI",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";b=1;function a(a){return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return d("WABridge").getBridge().sendAndReceive("backend","waapi",{type:a,args:c})}}g.version=b;g.makeBridgedApi=a}),98);
__d("LSCreateOfflineThreadingID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return c[0]=b.i64.random(),d[0]=b.i64.and_(b.i64.or_(b.i64.lsl_(a[0],b.i64.to_int32(b.i64.cast([0,22]))),b.i64.and_(c[0],b.i64.cast([0,4194303]))),b.i64.cast([2147483647,4294967295])),b.resolve(d)}e.exports=a}),null);
__d("LSDataTraceTag",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;e=4;var g=5,h=6,i=7,j=20,k=21,l=22,m=23,n=24,o=25,p=26,q=27,r=28,s=29,t=30,u=31,v=32,w=33,x=34,y=35,z=36,A=37,B=38,C=39,D=40,E=41,F=42;f.none=a;f.sticker=b;f.image=c;f.animatedImage=d;f.video=e;f.audio=g;f.file=h;f.xma=i;f.messageTypeNone=j;f.messageTypeText=k;f.messageTypeFutureproof=l;f.messageTypeCiphertext=m;f.messageTypeUnavailable=n;f.messageTypeImage=o;f.messageTypeVideo=p;f.messageTypePtt=q;f.messageTypeAdmin=r;f.messageTypeRevoked=s;f.messageTypeGif=t;f.messageTypeSticker=u;f.messageTypeExpiredEphemeral=v;f.messageTypeEphemeralSettingAdmin=w;f.messageTypeEphemeralSyncResponse=x;f.messageTypeEphemeralScreenshotAction=y;f.messageTypeDeleteForMe=z;f.messageTypeEphemeralSettingChangeFromCurrentDevice=A;f.messageTypeAlertICDC=B;f.messageTypeGroupInvite=C;f.messageTypeXMA=D;f.messageTypeReaction=E;f.messageTypeSenderKeyDistribution=F}),66);
__d("LSHotEmojiSize",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SMALL:1,MEDIUM:2,LARGE:3});f["default"]=a}),66);
__d("LSIssueNewError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(6).add({errorId:void 0,taskId:a[0],errorCode:a[1],errorTitleText:a[2],errorBodyText:a[3],issuedTimestampMs:c[0],errorExtraData:a[4],presentationStyle:a[5]})},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSMEBTaskCreationSource",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,TEST_ONLY:0,TAM:1,MEM:2,RETROACTIVE_BACKUP:3,TAM_WEB:4,ACT_MESSAGE_DELETE:5,ACT_THREAD_DELETE:6,ACT_UPDATE_ATTACHMENT:7,TAM_PERSISTENCE_TASK:8,TAM_XMA_TOMBSTONE:9,MEM_RECEIVE:10,MEM_SEND:11,MEM_PEER_SYNC:12,MEM_RECEIVE_PROTOBUF:13,MEM_SEND_PROTOBUF:14,MEM_PEER_SYNC_PROTOBUF:15,EB_ADD_DEVICE:21,OPTIMISTIC_THREAD_CREATE_VIA_SHIM:22,ACT_THREAD_INSERT_VIA_SHIM:23,MI_THREAD_INSERT_VIA_SHIM:24,POINT_QUERY_FROM_EB:25,MESSENGER_SEARCH:26,ACT_MESSAGE_RANGE_TASK_HANDLER:27,POINT_QUERY_ON_FULLY_LOADED_THREAD:28,THREAD_CUTOVER:29,HYBRID_THREAD_VERIFY_OR_CREATE_VIA_SHIM:30,BURNER_INTERNAL_LOAD_TESTING_FRAMEWORK:31,THREAD_GALLERY_RESTORE:32,ACT_SURROUNDING_QUERY:33,EB_SNAPSHOT_RESTORE:34,PROTOBUF_RESTORE:39,FTS_INDEX_EB_MESSAGES:40,INSTAMADILLO_DYI:41,MESSENGER_MESSAGE_LIST_PAGINATION:45,EB_RESTORE_REPLIED_MESSAGES_AFTER_RANGE_RESTORE:35,REPL_TESTING:36,EB_POINT_QUERY_IN_ACT:37,EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES:38,IGD_DYI:42,FTS_INDEX_EB_MESSAGES_WEB:43,BULK_QUERY_FOR_SEARCH_RESULT:44,MSGR_DYI:46});f["default"]=a}),66);
__d("MAWAckLevel",["LSIntEnum","LSMessageSendStatus"],(function(a,b,c,d,e,f,g){"use strict";var h,i={clock:0,contentGone:-3,contentTooBig:-4,contentUnuploadable:-5,expired:-2,failed:-1,inactiveReceived:-6,played:4,read:3,received:2,senderBackFillSent:-7,sent:1};function a(a){switch(a){case i.clock:return(h||(h=d("LSIntEnum"))).ofNumber(1);case i.sent:case i.received:case i.read:case i.played:return(h||(h=d("LSIntEnum"))).ofNumber(2);default:return(h||(h=d("LSIntEnum"))).ofNumber(4)}}function b(a){switch(a){case i.clock:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SENDING_TO_SERVER);case i.sent:case i.received:case i.read:case i.played:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SERVER_RECEIVED);default:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NON_RETRIABLE_ERROR)}}g.ACK=i;g.levelToMessagingSendStatusV2=a;g.levelToMessagingSendStatus=b}),98);
__d("MAWBridge",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("WABridge").getBridge()}g.getBridge=a}),98);
__d("MAWWorkerEvent",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set();function a(a,b){if(h.has(b))return;h.add(b);c("QPLUserFlow").start(c("qpl")._(1056842055,"807"),{annotations:{string:{event:a}},instanceKey:b})}function b(a){if(!h.has(a))return;h["delete"](a);c("QPLUserFlow").endSuccess(c("qpl")._(1056842055,"807"),{instanceKey:a})}function d(a,b){if(!h.has(a))return;h["delete"](a);c("QPLUserFlow").endFailure(c("qpl")._(1056842055,"807"),"fail",{annotations:{string:{error:b}},instanceKey:a})}function e(a){if(!h.has(a))return;h["delete"](a);c("QPLUserFlow").addPoint(c("qpl")._(1056842055,"807"),"timeout_logged");c("QPLUserFlow").endFailure(c("qpl")._(1056842055,"807"),"timeout",{instanceKey:a})}g.logStart=a;g.logSuccess=b;g.logFailure=d;g.logTimeout=e}),98);
__d("MAWBridgeLoggingUtils",["MAWWorkerEvent","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h,i=3185,j="armadillo_worker_runtime",k="getWorkerHeartbeat",l=10,m=new Array(l);function n(a,b,c){(h||(h=d("ODS"))).bumpEntityKey(i,j,a+"_"+b+"_"+c)}function a(a,b,c){n(a,b,"start");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_start");d("MAWWorkerEvent").logStart(b,c);m.length===l&&m.shift();m.push(a+"_"+b)}function o(a){m.filter(Boolean).forEach(function(b){(h||(h=d("ODS"))).bumpEntityKey(i,j,b+a)})}function b(a,b,c){n(a,b,"success");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_success");d("MAWWorkerEvent").logSuccess(c)}function c(a,b,c,e){n(a,b,"fail");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_fail");d("MAWWorkerEvent").logFailure(e,c)}function e(a,b,c){n(a,b,"timeout");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_timeout");d("MAWWorkerEvent").logTimeout(c)}function f(){o("_before_unresponsive"),m.fill(null)}g.CAT_ID=i;g.ENT=j;g.HEARTBEAT_ROUTE=k;g.RECENT_ROUTES_NUM=l;g.routeStart=a;g.logRecentRoutes=o;g.routeSuccess=b;g.routeFail=c;g.routeTimeout=e;g.logRecentBridgeEvents=f}),98);
__d("MAWODSProxy",["CurrentMessengerUser","ODS","WABridge","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!((b=c("gkx")("23949"))!=null?b:!1);function a(a,b){var c=a.amount,e=a.entity;a=a.key;b===void 0&&(b=!0);i?(h||(h=d("ODS"))).bumpEntityKey(3185,e,a+"."+(d("CurrentMessengerUser").getAppID()||"unknown"),c):d("WABridge").getBridge().fireAndForget("event","odsBumpEntityKey",{amount:c,entity:e,key:a},b)}g.odsBumpEntityKey=a}),98);
__d("WAOdsEnums",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({WA_CONNECTIVITY:"wa_connectivity",GET_DEVICES:"armadillo_get_devices",DECRYPTION:"armadillo_msg_decryption",DEVICE_REREG_CHECK:"armadillo_device_rereg_check",DEVICE_REGISTRATION:"armadillo_device_registration",DEVICE_REGISTRATION_NON_EMPLOYEE:"armadillo_device_registration_non_employee",PHASH_MISMATCH:"phash_mismatch",WEB_PLACEHOLDER:"armadillo_web_placeholder",PREKEY_UPLOAD:"armadillo_prekey_upload",PREKEY_DIGEST:"armadillo_prekey_digest",C2C_META_SYNC:"armadillo_c2c_meta_sync",ADMIN_MESSAGE:"armadillo_admin_message",PREVIEW_SNIPPET:"armadillo_snippet",TOTAL_INCOMING_MESSAGE:"armadillo_total_incoming_message",COMPARE_IDENTITY:"armadillo_compare_identity",GET_PREKEY:"armadillo_get_prekey",SECURITY_ALERT_FOR_CONTACT:"armadillo_security_alert_for_contact",SECURITY_ALERT_FOR_SELF:"armadillo_security_alert_for_self",MSG_SEND:"armadillo_message_send",RETRY_MISSING_MSG:"armadillo_retry_missing_msg",REGISTRATION_TYPE:"aramdillo_registration_type",CLOCK_SKEW_UPDATE:"clock_skew_update",STREAM_ERROR:"wajs_stream_error",ICDC:"wajs_icdc",LOAD_MORE_NO_ORIGINAL_MSG_IN_MAW:"load_more_no_original_msg_in_maw",POISON_QUEUE_ENTTITY:"armadillo_poison_queue_entity",PQ_MIGRATION:"wajs_pq_migration",WA_DISCONNECT:"armadillo_disconnect",GROUP_CREATE:"armadillo_group_create",GROUP_DELETE:"armadillo_group_delete",GROUP_ADD_PARTICIPANT:"armadillo_group_add_participant",GROUP_PROMOTE_PARTICIPANT:"armadillo_group_promote_participant",GROUP_DEMOTE_PARTICIPANT:"armadillo_group_demote_participant",GROUP_REMOVE_PARTICIPANT:"armadillo_group_remove_participant",GROUP_LEAVE_PARTICIPANT:"armadillo_group_leave_participant",SEND_READ_RECEIPTS:"armadillo_send_read_receipts",MESSAGE_MISSING_THREAD_JID:"MESSAGE_MISSING_THREAD_JID",MESSAGE_MISSING:"MESSAGE_MISSING",MAW_NON_TIMEOUT:"maw_non_timeout",MAW_TIMEOUT:"maw_timeout",MAW_WEBWORKER_LOG_TEST:"maw_webworker_log_test",PROTOCOL_QUEUE:"protocol_queue",WA_FAIL_STANZA_QUEUE_ITEM:"wa_fail_stanza_queue_item",WA_QUERY_GROUP:"wa_query_group",MAW_MISMATCH_PARTICIPANT:"maw_mismatch_participant",MAW_ONE_TO_ONE_THREAD_PARTICIPANT_CLEANUP:"maw_one_to_one_thread_participant_cleanup",MAW_THREADID_DEPRECATION:"maw_threadid_deprecation",MAW_THREADID_DEPRECATION_DETAILS:"maw_threadid_deprecation_details",MAW_DELETE_DANGLING_PARTICIPANTS:"maw_delete_dangling_participants",S2S_QPL_MISSING_INSTANCE_KEY:"s2s_qpl_missing_instance_key",MAW_MUTATION_VALIDATOR:"maw_mutation_validator",WA_NO_SIGNED_PRE_KEY:"wa_no_signed_pre_key",WA_LONG_SESSION_DROP:"wa_long_session_drop",MAW_ACTIVE_CHAT_DETECTION:"maw_active_chat_detection"});f.Entity=a}),66);
__d("WACustomError",[],(function(a,b,c,d,e,f){"use strict";var g=Object.create(Error.prototype,{constructor:{value:void 0,writable:!0,configurable:!0}});function a(a,b,c){b===void 0&&(b=!0);function d(c){var d=Error.call(this,c);this.message=c;d.name=a;this.name=a;b&&(this.stack=d.stack)}d.prototype=Object.create(c?c.prototype:g);d.prototype.constructor=d;return d}function h(a){if(a.length===0)return"No errors";return a.length===1?a[0].message:a.map(function(a){return"- "+a.message}).join("\n")}e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=c!=null&&c.length>0?c:h(b);c=a.call(this,c)||this;c.errors=b;return c}return b}(a("AggregateError",!0));var i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("TimeoutError",!1)),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.code=c;return a}return a}(a("HttpError",!1)),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("UnimplementedMethod")),l=!1;function b(a){if(a==null||a.name!=="QuotaExceededError")throw a;l=!0}function c(){return l}function d(a){return JSON.stringify(a,Object.getOwnPropertyNames(a))}var m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.inner=c;return a}return a}(babelHelpers.wrapNativeSuper(Error));f.customError=a;f.AggregateError=e;f.TimeoutError=i;f.HttpError=j;f.UnimplementedMethod=k;f.supressQuotaExceededError=b;f.hasSupressedQuotaExceededError=c;f.obtainErrorSummary=d;f.WrappedError=m}),66);
__d("WAAbortError",["WACustomError"],(function(a,b,c,d,e,f,g){"use strict";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(d("WACustomError").customError("AbortError"));var h="AbortError";function a(a){return function(b){if(b.name===h)return a(b);else throw b}}g.AbortError=b;g.ABORT_ERROR=h;g.catchAbort=a}),98);
__d("WAPromiseDelays",["Promise","WAAbortError"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){return new(h||(h=b("Promise")))(function(b,e){if(c==null?void 0:c.aborted)throw new(d("WAAbortError").AbortError)();var f=setTimeout(g,a);c==null?void 0:c.addEventListener("abort",h);function g(){c==null?void 0:c.removeEventListener("abort",h),b()}function h(){c==null?void 0:c.removeEventListener("abort",h),clearTimeout(f),e(new(d("WAAbortError").AbortError)())}})}function c(a,c,d){return new(h||(h=b("Promise")))(function(b,e){var f=setTimeout(function(){try{b(d())}catch(a){e(a)}},c);a.then(function(a){clearTimeout(f),b(a)},function(a){clearTimeout(f),e(a)})})}g.delayMs=a;g.withTimeout=c}),98);
__d("MAWMaybeWithTimeout",["MAWODSProxy","WAOdsEnums","WAPromiseDelays"],(function(a,b,c,d,e,f,g){"use strict";function h(){return!0}function a(a,b,c,e){return h()?d("WAPromiseDelays").withTimeout(a.then(function(a){var b;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_NON_TIMEOUT,key:(b=e)!=null?b:"unknown"});return a}),b,function(){var a;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TIMEOUT,key:(a=e)!=null?a:"unknown"});return c()}):a}g.maybeWithTimeout=a}),98);
__d("MAWWaitForBackendSetup",["Promise","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new(h||(h=b("Promise")))(function(a,b){i=a,j=b}),l=!1,m=!1,n=i,o=j;function p(a){return new(h||(h=b("Promise")))(function(b,d){k.then(b)["catch"](function(b){d(c("err")("'%s' rejected because backend setup failed: %s.",a,b.message))})})}function a(a,b){c("promiseDone")(p(b).then(function(){a()}))}function d(){k=new(h||(h=b("Promise")))(function(a,b){i=a,j=b}),l=!1,n=i,o=j,m=!0}function e(){l=!0,n==null?void 0:n()}function f(a){l=!1,o==null?void 0:o(a)}function q(){return l}function r(){return m}g.waitForBackendSetup=p;g.runAfterBackendSetup=a;g.resetBackendSetup=d;g.resolveBackendSetup=e;g.rejectBackendSetup=f;g.isBackendSetupSuccessful=q;g.wasBackendSetupReset=r}),98);
__d("MAWTimedBridge",["FBLogger","MAWBridgeLoggingUtils","MAWMaybeWithTimeout","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4;function a(a,b,e,f,g){g===void 0&&(g=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(e).then(function(){return a()}),g,function(){d("MAWBridgeLoggingUtils").routeTimeout(b,e,f);throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to complete bridge route %s in time",e)},e)}g.bridgeTimeout=a}),98);
__d("MAWBridgeSendAndReceive",["MAWBridge","MAWBridgeLoggingUtils","MAWTimedBridge"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function a(a,b,c,e){e=d("MAWTimedBridge").bridgeTimeout(function(){d("MAWBridgeLoggingUtils").routeStart(a,b,h);return d("MAWBridge").getBridge().sendAndReceive(a,b,c).then(function(c){d("MAWBridgeLoggingUtils").routeSuccess(a,b,h);return c})["catch"](function(c){d("MAWBridgeLoggingUtils").routeFail(a,b,c.message,h);throw c})},a,b,h,e);h++;return e}g.sendAndReceive=a}),98);
__d("MAWBridgeTrace",["WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g,h,i){var j=a.ack,k=a.externalId,l=a.ts;a=a.type;var m=d("WAJids").switchOnMsgrChatJidType(b,{group:function(a){return"Group"},user:function(a){return"User"}});return{ack:j,externalId:k,isFirstMsg:!!f,openMessageOtid:e,openMessageParticipantCount:g,participantCount:h,threadJid:b,threadKey:i,threadType:m,traceType:c,ts:l,type_:a}}function b(a,b,c){return{traceContext:c,traceId:b,traceType:a}}function c(a,b,c,d){return{errorMessage:d,event:b,externalIds:a,traceType:c}}function e(a,b,c,d,e,f){return{checkPointId:a,dataTraceId:b,errorMessage:c,shouldFlush:d,syncChannel:e,tags:f}}g.createBridgeStartTraceData=a;g.createBridgeStartTraceWithTraceIdData=b;g.createBridgeUpdateTraceData=c;g.createBridgeTraceRecordCheckpointData=e}),98);
__d("MAWBridgeTraceEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ReceivedReceipt","ReceivedSent","FlowEndForFailure","FlowEndForSuccess"]);c=a;f["default"]=c}),66);
__d("WADbContact",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;f.NON_CONTACT=a;f.ONE_WAY_CONTACT=b;f.REVERSED_ONE_WAY_CONTACT=c;f.TWO_WAY_CONTACT=d}),66);
__d("MAWContactRelationshipType",["I64","LSContactBitOffset","WADbContact"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("LSContactBitOffset").hasWithDefault(64,a,!0);a=(h||(h=d("I64"))).ge(a.contactViewerRelationship,h.of_string("2"));if(a&&b)return d("WADbContact").ONE_WAY_CONTACT;else if(!a&&!b)return d("WADbContact").REVERSED_ONE_WAY_CONTACT;else if(a&&!b)return d("WADbContact").TWO_WAY_CONTACT;return d("WADbContact").NON_CONTACT}g.getContactRelationshipType=a}),98);
__d("WAConcurrentIterate",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){var e=[],f=[],h=0,i=function(){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!(h<a)){e.next=8;break}d=h;h++;e.next=5;return b("regeneratorRuntime").awrap(c(d));case 5:f[d]=e.sent;e.next=0;break;case 8:case"end":return e.stop()}},null,this)};d=Math.min(a,d);for(var j=0;j<d;j++)e.push(i());return(g||(g=b("Promise"))).all(e).then(function(){return f})}f.concurrentIterate=a}),66);
__d("WATypedArraysCast",["WABase64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b instanceof a)return b;return typeof b==="string"?new a(d("WABase64").decodeB64(b)):new a(b)}g.castTypedArrays=a}),98);
__d("WACryptoHmac",["WACryptoDependencies","WATypedArraysCast"],(function(a,b,c,d,e,f,g){"use strict";var h=32,i=new Uint8Array(h),j={name:"HMAC",hash:"SHA-256"},k={name:"HMAC",hash:"SHA-512"},l={name:"HMAC",hash:"SHA-1"};function m(a,b){b=d("WATypedArraysCast").castTypedArrays(Uint8Array,b);return d("WACryptoDependencies").getCrypto().subtle.importKey("raw",b,a,!1,["sign"]).then(function(b){return{key:b,algo:a}})}function a(a){return m(j,a)}function n(a,b,c){var e=a.key;a=a.algo;return d("WACryptoDependencies").getCrypto().subtle.sign(a,e,b).then(function(a){return c!=null&&c!==0?a.slice(0,c):a})}function b(a,b){return m(j,a!=null?a:i).then(function(a){return n(a,b)})}function c(a,b,c){return m(j,a).then(function(a){return n(a,b,c)})}function e(a,b,c){return m(k,a).then(function(a){return n(a,b,c)})}function f(a,b,c){return m(l,a).then(function(a){return n(a,b,c)})}g.SHA256_BYTE_LENGTH=h;g.DEFAULT_SALT=i;g.encodeKeySha256=a;g.sign=n;g.extractSha256=b;g.hmacSha256=c;g.hmacSha512=e;g.hmacSha1=f}),98);
__d("WAMediaCryptoSidecar",["WAConcurrentIterate","WACryptoHmac"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a==="video"}function b(a){return a}var h=16,i=10,j=64*1024;function c(a,b,c){c===void 0&&(c=1);var e=b.buffer.byteLength;e=Math.ceil((e-h)/j);var f=new Uint8Array(i*e);return d("WAConcurrentIterate").concurrentIterate(e,function(c){var e=c*j,g=e+h+j;e=b.subarray(e,g);return d("WACryptoHmac").sign(a,e).then(function(a){a=new Uint8Array(a,0,i);f.set(a,c*i)})},c).then(function(){return f.buffer})}g.shouldHaveStreamingSidecar=a;g.castToStreamingSidecar=b;g.calculateStreamingSidecar=c}),98);
__d("WAProtoConst",[],(function(a,b,c,d,e,f){"use strict";a={REPEATED:1<<6,PACKED:1<<7,REQUIRED:1<<8};b=31;c={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17,MAP:18};d={VARINT:0,BIT64:1,BINARY:2,BIT32:5};e={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"};f.FLAGS=a;f.TYPE_MASK=b;f.TYPES=c;f.ENC=d;f.KEYS=e}),66);
__d("WAMediaEntryData.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};a.internalSpec={fileSha256:[1,(e=d("WAProtoConst")).TYPES.BYTES],mediaKey:[2,e.TYPES.BYTES],fileEncSha256:[3,e.TYPES.BYTES],directPath:[4,e.TYPES.STRING],mediaKeyTimestamp:[5,e.TYPES.INT64],serverMediaType:[6,e.TYPES.STRING],uploadToken:[7,e.TYPES.BYTES],validatedTimestamp:[8,e.TYPES.BYTES],sidecar:[9,e.TYPES.BYTES],objectId:[10,e.TYPES.STRING],fbid:[11,e.TYPES.STRING],downloadableThumbnail:[12,e.TYPES.MESSAGE,c],handle:[13,e.TYPES.STRING],filename:[14,e.TYPES.STRING],progressiveJpegDetails:[15,e.TYPES.MESSAGE,b],size:[16,e.TYPES.INT64]};b.internalSpec={scanLengths:[1,e.FLAGS.REPEATED|e.TYPES.UINT32],sidecar:[2,e.TYPES.BYTES]};c.internalSpec={fileSha256:[1,e.TYPES.BYTES],fileEncSha256:[2,e.TYPES.BYTES],directPath:[3,e.TYPES.STRING],mediaKey:[4,e.TYPES.BYTES],mediaKeyTimestamp:[5,e.TYPES.INT64],objectId:[6,e.TYPES.STRING]};g.MediaEntrySpec=a;g.MediaEntry$ProgressiveJpegDetailsSpec=b;g.MediaEntry$DownloadableThumbnailSpec=c}),98);
__d("WAProgressiveJpegMarkers",[],(function(a,b,c,d,e,f){"use strict";a=255;b=0;c={SOF0:192,SOF1:193,SOF2:194,SOF3:195,DHT:196,SOF5:197,SOF6:198,SOF7:199,JPG:200,SOF9:201,SOF10:202,SOF11:203,SOF13:205,SOF14:206,SOF15:207,RST0:208,RST1:209,RST2:210,RST3:211,RST4:212,RST5:213,RST6:214,RST7:215,SOI:216,EOI:217,SOS:218,DQT:219,DRI:221,APP0:224,APP1:225,APP2:226,APP3:227,APP4:228,APP5:229,APP6:230,APP7:231,APP8:232,APP9:233,APP10:234,APP11:235,APP12:236,APP13:237,APP14:238,APP15:239,COM:254,TEM:1};d=[b,c.RST0,c.RST1,c.RST2,c.RST3,c.RST4,c.RST5,c.RST6,c.RST7];f.MARKER_PREFIX=a;f.MARKER_ESCAPE_BYTE=b;f.MARKERS=c;f.SOS_STREAM=d}),66);
__d("WAProgressiveJpegGetScanOffsets",["WAProgressiveJpegMarkers","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Non-progressive JPEG marker found"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Ending marker found before end of image"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Scan found at offset ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Not a JPEG image"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["starting"]);l=function(){return a};return a}var m=d("WATagsLogger").TAGS(["media","progressiveJpegUtils"]);function a(a){m.DEV(l());if(!n(a)){m.DEV(k());return[]}var b=[],c=2,e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA",f=null,g=0,r=!1,s=!1,t=!1;function u(){t=!1,m.DEV(j(),c-1),b.push(c-1)}while(c<a.byteLength){f=a[c];if(r){m.ERROR(i());return[]}switch(e){case"READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA":f===d("WAProgressiveJpegMarkers").MARKER_PREFIX&&(e="READ_MARKER_SECOND_BYTE");break;case"READ_MARKER_SECOND_BYTE":if(f===d("WAProgressiveJpegMarkers").MARKER_PREFIX)e="READ_MARKER_SECOND_BYTE";else if(f===d("WAProgressiveJpegMarkers").MARKER_ESCAPE_BYTE)e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA";else if(f===d("WAProgressiveJpegMarkers").MARKERS.EOI)r=!0,t&&u();else if(!s&&p(f)){m.LOG(h());return[]}else o(f)?(s=!0,e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA"):(t&&u(),f===d("WAProgressiveJpegMarkers").MARKERS.SOS&&(t=!0),q(f)?e="READ_SIZE_FIRST_BYTE":e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA");break;case"READ_SIZE_FIRST_BYTE":e="READ_SIZE_SECOND_BYTE";break;case"READ_SIZE_SECOND_BYTE":c+=g*256;c+=f;c-=2;e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA";break}c+=1;g=f}return b}function n(a){if(a.byteLength<=2)return!1;if(a[0]!==d("WAProgressiveJpegMarkers").MARKER_PREFIX)return!1;return a[1]!==d("WAProgressiveJpegMarkers").MARKERS.SOF2&&a[1]!==d("WAProgressiveJpegMarkers").MARKERS.SOI?!1:!0}function o(a){return a===d("WAProgressiveJpegMarkers").MARKERS.SOF2||a===d("WAProgressiveJpegMarkers").MARKERS.SOF6||a===d("WAProgressiveJpegMarkers").MARKERS.SOF10||a===d("WAProgressiveJpegMarkers").MARKERS.SOF14}function p(a){return a===d("WAProgressiveJpegMarkers").MARKERS.SOF0||a===d("WAProgressiveJpegMarkers").MARKERS.SOF1||a===d("WAProgressiveJpegMarkers").MARKERS.SOF3||a===d("WAProgressiveJpegMarkers").MARKERS.SOF5||a===d("WAProgressiveJpegMarkers").MARKERS.SOF7||a===d("WAProgressiveJpegMarkers").MARKERS.JPG||a===d("WAProgressiveJpegMarkers").MARKERS.SOF9||a===d("WAProgressiveJpegMarkers").MARKERS.SOF11||a===d("WAProgressiveJpegMarkers").MARKERS.SOF13||a===d("WAProgressiveJpegMarkers").MARKERS.SOF15}function q(a){if(a===d("WAProgressiveJpegMarkers").MARKERS.TEM)return!1;return a>=d("WAProgressiveJpegMarkers").MARKERS.RST0&&a<=d("WAProgressiveJpegMarkers").MARKERS.RST7?!1:a!==d("WAProgressiveJpegMarkers").MARKERS.EOI&&a!==d("WAProgressiveJpegMarkers").MARKERS.SOI}g.getProgressiveJpegScanOffsets=a}),98);
__d("WAProgressiveJpegGetScanLengths",["WAProgressiveJpegGetScanOffsets"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("WAProgressiveJpegGetScanOffsets").getProgressiveJpegScanOffsets(a);return h(a)}function b(a){return a}function h(a){var b=[],c=0;for(var d=0;d<a.length;d++){var e=a[d];b.push(e-c);c=e}return b}g.getProgressiveJpegScanLengths=a;g.asProgressiveJpegScanLength=b}),98);
__d("WAServerMediaType",["WAAssertUnreachable"],(function(a,b,c,d,e,f,g){"use strict";d=["image","sticker","ptt","audio","document","video","gif","ppic","md-app-state","md-msg-hist","kyc-id","template","thumbnail-image","thumbnail-video","thumbnail-gif","thumbnail-document","thumbnail-link","payment-bg-image","novi-video","novi-image","product","product-catalog-image","xma-image","biz-cover-photo","preview","newsletter-audio","newsletter-document","newsletter-image","newsletter-gif","newsletter-ptt","newsletter-sticker","newsletter-thumbnail-link","newsletter-video"];function a(a){switch(a){case"image":case"sticker":case"ptt":case"audio":case"document":case"video":case"gif":case"ppic":case"md-app-state":case"md-msg-hist":case"kyc-id":case"thumbnail-image":case"thumbnail-video":case"thumbnail-gif":case"thumbnail-document":case"thumbnail-link":case"payment-bg-image":case"novi-video":case"novi-image":case"template":case"product":case"product-catalog-image":case"xma-image":case"biz-cover-photo":case"preview":case"newsletter-audio":case"newsletter-document":case"newsletter-image":case"newsletter-gif":case"newsletter-ptt":case"newsletter-sticker":case"newsletter-thumbnail-link":case"newsletter-video":return a;default:return null}}function b(a){switch(a){case"Image":return"image";case"Video":return"video";case"Ptt":return"ptt";case"Gif":return"gif";case"Sticker":return"sticker";case"DocumentFile":return"document";case"Text":case"Futureproof":case"Ciphertext":case"Unavailable":case"ExpiredEphemeral":case"Admin":case"Revoked":case"DeleteForMe":case"EphemeralSettingAdmin":case"EphemeralSyncResponse":case"EphemeralSettingChangeFromCurrentDevice":case"AlertICDC":case"GroupInvite":case"SenderKeyDistribution":case"Reaction":case"EditAction":return null;default:return c("WAAssertUnreachable")(a)}}g.SERVER_MEDIA=d;g.castToServerMediaType=a;g.getMediaType=b}),98);
__d("WABinary",["WAErr","WAHex"],(function(a,b,c,d,e,f,g){"use strict";var h=65533,i=10,j=new Uint8Array(i),k=new Uint8Array(0);a=function(){function a(b,c){var d=this;b===void 0&&(b=k);c===void 0&&(c=!1);this.$1=new Uint8Array(0);this.$2=0;this.$4=0;this.write=function(){for(var b=0;b<arguments.length;b++){var c=b<0||arguments.length<=b?void 0:arguments[b];typeof c==="string"?d.writeString(c):typeof c==="number"?d.writeUint8(c):c instanceof a?d.writeBinary(c):c instanceof ArrayBuffer?d.writeBuffer(c):c instanceof Uint8Array&&d.writeByteArray(c)}};b instanceof ArrayBuffer?(this.$1=new Uint8Array(b),this.$2=this.$4=b.byteLength):b instanceof Uint8Array&&(this.$1=b,this.$2=this.$4=b.length);this.$5=0;this.$6=this.$3=0;this.$7=null;this.$8=c;this.$9=0;this.$10=0}var b=a.prototype;b.size=function(){return this.$2-this.$3};b.peek=function(a,b){this.$9++;var c=this.$3,d=this.$5;try{return a(this,b)}finally{this.$9--,this.$3=c-(this.$5-d)}};b.advance=function(a){this.$11(a)};b.readWithViewParser=function(a,b,c,d){return b(this.$12(),this.$11(a),a,c,d)};b.readWithBytesParser=function(a,b,c,d){return b(this.$1,this.$11(a),a,c,d)};b.readUint8=function(){return p(this,1,r,!1)};b.readInt8=function(){return p(this,1,r,!0)};b.readUint16=function(a){a===void 0&&(a=this.$8);return p(this,2,s,a)};b.readInt32=function(a){a===void 0&&(a=this.$8);return p(this,4,t,a)};b.readUint32=function(a){a===void 0&&(a=this.$8);return p(this,4,u,a)};b.readInt64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,U,a)};b.readUint64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,V,a)};b.readLong=function(a,b){b===void 0&&(b=this.$8);return p(this,8,v,a,b)};b.readFloat32=function(a){a===void 0&&(a=this.$8);return p(this,4,w,a)};b.readFloat64=function(a){a===void 0&&(a=this.$8);return p(this,8,x,a)};b.readVarInt=function(a){var b=this.size();b=q(this,0,y,b);return q(this,b,z,a)};b.readBuffer=function(a){a===void 0&&(a=this.size());return a===0?new ArrayBuffer(0):q(this,a,A)};b.readByteArray=function(a){a===void 0&&(a=this.size());return a===0?new Uint8Array(0):q(this,a,B)};b.readBinary=function(b,c){b===void 0&&(b=this.size());c===void 0&&(c=this.$8);if(b===0)return new a(void 0,c);b=q(this,b,B);return new a(b,c)};b.indexOf=function(a){if(a.length===0)return 0;var b=this.$1,c=this.$2,d=this.$3,e=0,f=d;for(var g=d;g<c;g++)if(b[g]===a[e]){e===0&&(f=g);e++;if(e===a.byteLength)return g-d-a.byteLength+1}else e>0&&(e=0,g=f);return-1};b.readString=function(a){return q(this,a,C)};b.ensureCapacity=function(a){this.$13(this.$3+a)};b.ensureAdditionalCapacity=function(a){this.$13(this.$4+a)};b.writeToView=function(a,b,c,d){var e=this.$14(a);return b(this.$12(),e,a,c,d)};b.writeToBytes=function(a,b,c,d){var e=this.$14(a);return b(this.$1,e,a,c,d)};b.writeUint8=function(a){S(a,0,256,"uint8"),E(this,1,F,a,!1)};b.writeInt8=function(a){S(a,-128,128,"signed int8"),E(this,1,F,a,!0)};b.writeUint16=function(a,b){b===void 0&&(b=this.$8),S(a,0,65536,"uint16"),D(this,2,G,a,b)};b.writeInt16=function(a,b){b===void 0&&(b=this.$8),S(a,-32768,32768,"signed int16"),D(this,2,H,a,b)};b.writeUint32=function(a,b){b===void 0&&(b=this.$8),S(a,0,4294967296,"uint32"),D(this,4,I,a,b)};b.writeInt32=function(a,b){b===void 0&&(b=this.$8),S(a,-2147483648,2147483648,"signed int32"),D(this,4,J,a,b)};b.writeUint64=function(a,b){b===void 0&&(b=this.$8),S(a,0,18446744073709552e3,"uint64"),D(this,8,K,a,b)};b.writeInt64=function(a,b){b===void 0&&(b=this.$8),S(a,-9223372036854776e3,9223372036854776e3,"signed int64"),D(this,8,K,a,b)};b.writeFloat32=function(a,b){b===void 0&&(b=this.$8),D(this,4,L,a,b)};b.writeFloat64=function(a,b){b===void 0&&(b=this.$8),D(this,8,M,a,b)};b.writeVarInt=function(a){S(a,-9223372036854776e3,9223372036854776e3,"varint (signed int64)");var b=a<0;a=b?-a:a;var c=Math.floor(a/4294967296);a=a-c*4294967296;b&&(c=~c,a===0?c++:a=-a);b=R(c,a);E(this,b,N,c,a)};b.writeVarIntFromHexLong=function(a){var b=d("WAHex").hexLongIsNegative(a);a=b?d("WAHex").negateHexLong(a):a;a=d("WAHex").hexLongToHex(a);var c=0,e=0;for(var f=0;f<d("WAHex").NUM_HEX_IN_LONG;f++)c=c<<4|e>>>28,e=e<<4|d("WAHex").hexAt(a,f);b&&(c=~c,e===0?c++:e=-e);a=R(c,e);E(this,a,N,c,e)};b.writeBinary=function(a){a=a.peek(function(a){return a.readByteArray()});if(a.length){var b=this.$14(a.length);this.$1.set(a,b)}};b.writeBuffer=function(a){this.writeByteArray(new Uint8Array(a))};b.writeByteArray=function(a){var b=this.$14(a.length);this.$1.set(a,b)};b.writeBufferView=function(a){this.writeByteArray(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))};b.writeString=function(a){E(this,n(a),O,a)};b.writeHexLong=function(a,b){b===void 0&&(b=this.$8),D(this,8,P,a,b)};b.writeBytes=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];for(var d=0;d<b.length;d++)S(b[d],0,256,"byte");E(this,b.length,Q,b)};b.writeAtomically=function(a,b){this.$10++;var c=this.$4,d=this.$5;try{a=a(this,b);c=this.$4;d=this.$5;return a}finally{this.$10--,this.$4=c-(this.$5-d)}};b.writeWithVarIntLength=function(a,b){var c=this.$4;a=this.writeAtomically(a,b);b=this.$4;this.writeVarInt(b-c);var d=this.$4-b,e=this.$1;for(var f=0;f<d;f++)j[f]=e[b+f];for(f=b-1;f>=c;f--)e[f+d]=e[f];for(b=0;b<d;b++)e[c+b]=j[b];return a};a.build=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=0;for(var f=0;f<c.length;f++){var g=c[f];typeof g==="string"?e+=n(g):typeof g==="number"?e++:g instanceof a?e+=g.size():g instanceof ArrayBuffer?e+=g.byteLength:g instanceof Uint8Array&&(e+=g.length)}var h=new a();h.ensureCapacity(e);h.write.apply(h,arguments);return h};b.$12=function(){return this.$7||(this.$7=new DataView(this.$1.buffer,this.$1.byteOffset))};b.$11=function(a){if(a<0)throw c("WAErr")("ReadError: given negative number of bytes to read");var b=this.$3;a=b+a;if(a>this.$2)throw c("WAErr")(b===this.$2?"ReadError: tried to read from depleted binary":"ReadError: tried to read beyond end of binary");this.$3=a;this.$9||(this.$6=a);return b};b.$13=function(a){var b=this.$1;if(a<=b.length)return a;else{var c=this.$6;a=a-c;var d=Math.max(a,2*(b.length-c),64);d=new Uint8Array(d);c?(d.set(b.subarray(c)),this.$5+=c,this.$3-=c,this.$2-=c,this.$4-=c,this.$6=0):d.set(b);this.$1=d;this.$7=null;return a}};b.$14=function(a){a=this.$13(this.$4+a);var b=this.$4;this.$4=a;this.$10||(this.$2=a);return b};return a}();var l="",m=0;function n(a){if(a===l)return m;var b=a.length,c=0;for(var d=0;d<b;d++){var e=a.charCodeAt(d);if(e<128)c++;else if(e<2048)c+=2;else if(e<55296||57344<=e&&e<=65535)c+=3;else if(55296<=e&&e<56320&&d+1!==b){e=a.charCodeAt(d+1);56320<=e&&e<57344?(d++,c+=4):c+=3}else c+=3}l=a;return m=c}function o(a,b,c){var d=b>>21;if(!a)return d===0;else{a=b&2097151;b=Boolean(a||c);return d===0||d===-1&&b}}function p(a,b,c,d,e){return a.readWithViewParser(b,c,d,e)}function q(a,b,c,d,e){return a.readWithBytesParser(b,c,d,e)}function r(a,b,c,d){return d?a.getInt8(b):a.getUint8(b)}function s(a,b,c,d){return a.getUint16(b,d)}function t(a,b,c,d){return a.getInt32(b,d)}function u(a,b,c,d){return a.getUint32(b,d)}function v(a,b,c,d,e){c=a.getInt32(e?b+4:b,e);a=a.getInt32(e?b:b+4,e);return d(c,a)}function w(a,b,c,d){return a.getFloat32(b,d)}function x(a,b,c,d){return a.getFloat64(b,d)}function y(a,b,d,e){d=Math.min(e,i);e=0;var f=128;while(e<d&&f&128)f=a[b+e++];if(e===i&&f>1)throw c("WAErr")("ParseError: varint exceeds 64 bits");else if(f&128)return e+1;return e}function z(b,c,d,a){var e=0,f=0,g=d;d===i&&(g--,f=b[c+g]&1);for(d=g-1;d>=0;d--)e=e<<7|f>>>25,f=f<<7|b[c+d]&127;return a(e,f)}function A(a,b,c){b=b+a.byteOffset;a=a.buffer;return b===0&&c===a.byteLength?a:a.slice(b,b+c)}function B(a,b,c){return a.subarray(b,b+c)}function C(a,b,c){c=b+c;var d=[],e=null;for(b=b;b<c;b++){d.length>5e3&&(e||(e=[]),e.push(String.fromCharCode.apply(String,d)),d=[]);var f=a[b]|0;if((f&128)===0)d.push(f);else if((f&224)===192){var g=W(a,b+1,c);if(g){b++;g=(f&31)<<6|g&63;g>=128?d.push(g):d.push(h)}else d.push(h)}else if((f&240)===224){g=W(a,b+1,c);var i=W(a,b+2,c);if(g&&i){b+=2;i=(f&15)<<12|(g&63)<<6|i&63;i>=2048&&!(55296<=i&&i<57344)?d.push(i):d.push(h)}else g?(b++,d.push(h)):d.push(h)}else if((f&248)===240){i=W(a,b+1,c);g=W(a,b+2,c);var j=W(a,b+3,c);if(i&&g&&j){b+=3;f=(f&7)<<18|(i&63)<<12|(g&63)<<6|j&63;if(f>=65536&&f<=1114111){j=f-65536;d.push(55296|j>>10,56320|j&1023)}else d.push(h)}else i&&g?(b+=2,d.push(h)):i?(b++,d.push(h)):d.push(h)}else d.push(h)}f=String.fromCharCode.apply(String,d);if(e){e.push(f);return e.join("")}else return f}function D(a,b,c,d,e){return a.writeToView(b,c,d,e)}function E(a,b,c,d,e){return a.writeToBytes(b,c,d,e)}function F(a,b,c,d){a[b]=d}function G(a,b,c,d,e){a.setUint16(b,d,e)}function H(a,b,c,d,e){a.setInt16(b,d,e)}function I(a,b,c,d,e){a.setUint32(b,d,e)}function J(a,b,c,d,e){a.setInt32(b,d,e)}function K(a,b,c,d,e){c=d<0;d=c?-d:d;var f=Math.floor(d/4294967296);d=d-f*4294967296;c&&(f=~f,d===0?f++:d=-d);a.setUint32(e?b+4:b,f,e);a.setUint32(e?b:b+4,d,e)}function L(a,b,c,d,e){a.setFloat32(b,d,e)}function M(a,b,c,d,e){a.setFloat64(b,d,e)}function N(a,b,c,d,e){d=d;e=e;c=b+c-1;for(b=b;b<c;b++)a[b]=128|e&127,e=d<<25|e>>>7,d>>>=7;a[c]=e}function O(a,b,c,d){c=b;b=d.length;for(var e=0;e<b;e++){var f=d.charCodeAt(e);if(f<128)a[c++]=f;else if(f<2048)a[c++]=192|f>>6,a[c++]=128|f&63;else if(f<55296||57344<=f)a[c++]=224|f>>12,a[c++]=128|f>>6&63,a[c++]=128|f&63;else if(55296<=f&&f<56320&&e+1!==b){var g=d.charCodeAt(e+1);if(56320<=g&&g<57344){e++;f=65536+((f&1023)<<10|g&1023);a[c++]=240|f>>18;a[c++]=128|f>>12&63;a[c++]=128|f>>6&63;a[c++]=128|f&63}else a[c++]=239,a[c++]=191,a[c++]=189}else a[c++]=239,a[c++]=191,a[c++]=189}}function P(a,b,c,e,f){c=d("WAHex").hexLongIsNegative(e);e=d("WAHex").hexLongToHex(e);var g=0,h=0;for(var i=0;i<16;i++)g=g<<4|h>>>28,h=h<<4|d("WAHex").hexAt(e,i);c&&(g=~g,h===0?g++:h=-h);a.setUint32(f?b+4:b,g,f);a.setUint32(f?b:b+4,h,f)}function Q(a,b,c,d){for(var e=0;e<c;e++)a[b+e]=d[e]}function R(a,b){var c;a?(c=5,a=a>>>3):(c=1,a=b>>>7);while(a)c++,a>>>=7;return c}function S(a,b,d,e){if(typeof a!=="number"||a!==a||Math.floor(a)!==a||a<b||a>=d)throw c("WAErr")(typeof a==="string"?'TyperError WriteError: string "'+a+'" is not a valid '+e:"TypeError WriteError: "+String(a)+" is not a valid "+e)}function T(a,b,d){var e=o(a,b,d),f;b>=0?f=b:f=a?b:4294967296+b;a=d>=0?d:4294967296+d;b=f*4294967296+a;if(!e)throw c("WAErr")("ReadError: integer exceeded 53 bits ("+b+")");return b}function U(a,b){return T(!0,a,b)}function V(a,b){return T(!1,a,b)}function W(a,b,c){if(b>=c)return 0;c=a[b]|0;return(c&192)===128?c:0}g.Binary=a;g.numUtf8Bytes=n;g.longFitsInDouble=o;g.parseInt64OrThrow=U;g.parseUint64OrThrow=V}),98);
__d("WAHasProperty",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Object.prototype.hasOwnProperty.call(a,b)}f["default"]=a}),66);
__d("WAProtoCompile",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b,c,d,e,f,g,h,i){this.names=a,this.fields=b,this.types=c,this.defaults=d,this.meta=e,this.oneofToFields=f,this.fieldToOneof=g,this.reservedTags=h?h.reduce(function(a,b){a[b]=!0;return a},{}):{},this.reservedFields=i?i.reduce(function(a,b){a[b]=!0;return a},{}):{}};function a(a){if(a.internalCompiledSpec)return a.internalCompiledSpec;var b=a.internalSpec;if(!b)throw new Error("Message Class "+String(a)+" does not have internalSpec");var c=a.internalDefaults||{},e=Object.keys(b).filter(function(a){return a!==d("WAProtoConst").KEYS.ONEOF}),f=new Array(e.length),g=[],j=[],k=new Array(e.length),l=b[d("WAProtoConst").KEYS.ONEOF]||{};e.sort(function(a,c){a=i(b,a);c=i(b,c);return a[0]-c[0]});for(var m=0;m<e.length;m++){var n=e[m],o=i(b,n);k[m]=c[n];var p=o[1],q=o[0];g.push(q);j.push(p);if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE)f[m]=o[2];else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.ENUM){q=o[2];if(typeof q.cast==="function")f[m]=q;else{var r=!0,s=0;for(var t in q)r&&t!==s++&&(r=!1);t=void 0;if(r){t=[];for(r=0;r<s;r++)t.push(!0)}else{t={};for(r in q)t[q[r]]=!0}f[m]=t}}else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP){if(o.length!==3)throw new Error("Map field "+n+" should have exactly three elements in its internalSpec");f[m]=o[2]}else f[m]=null}var u={};s=function(a){l[a].forEach(function(b){u[b]||(u[b]=[]),u[b].push(a)})};for(r in l)s(r);q=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_TAGS];t=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_FIELDS];p=new h(e,g,j,k,f,l,u,q,t);a.internalCompiledSpec=p;return p}function i(a,b){a=a[b];if(a==null)throw new Error("fieldData of "+b+" is missing");return a}g.Spec=h;g.compileSpec=a}),98);
__d("WAProtoUtils",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a&d("WAProtoConst").FLAGS.PACKED)return d("WAProtoConst").ENC.BINARY;a=a&d("WAProtoConst").TYPE_MASK;if(a<=d("WAProtoConst").TYPES.ENUM)return d("WAProtoConst").ENC.VARINT;else if(a<=d("WAProtoConst").TYPES.DOUBLE)return d("WAProtoConst").ENC.BIT64;else if(a<=d("WAProtoConst").TYPES.MESSAGE)return d("WAProtoConst").ENC.BINARY;else if(a===d("WAProtoConst").TYPES.MAP)return d("WAProtoConst").ENC.BINARY;else return d("WAProtoConst").ENC.BIT32}g.typeToEncType=a}),98);
__d("WAProtoValidate",["WAHasProperty","WALogger","WAProtoCompile","WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not an array']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not ',""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is out of range']);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid int']);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid long']);l=function(){return a};return a}var m=Number.MAX_SAFE_INTEGER;function n(a,b){a=o(a,b);if(a){a.reverse();throw new TypeError("Message missing required value "+a.join("."))}}function a(a,b){n(a,b);b=u(b,a);if(b){b.path.reverse();throw new TypeError("Invalid value at "+b.path.join(".")+": "+b.error)}}function o(a,b){a=d("WAProtoCompile").compileSpec(a);var e=a.names,f=a.types;a=a.meta;var g=void 0;for(var h=0;h<f.length&&!g;h++){var i=f[h],j=e[h],k=c("WAHasProperty")(b,j)?b[j]:void 0;if(i&d("WAProtoConst").FLAGS.REQUIRED&&k==null)g=[j];else if((i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&i&d("WAProtoConst").FLAGS.REPEATED&&k!=null){var l=a[h],m=void 0;for(m=0;m<k.length&&!g;m++)g=o(l,k[m]);g&&g.push(j+"["+m+"]")}else(i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&k!=null&&(g=o(a[h],k),g&&g.push(j))}return g}function p(a,b,c){if(typeof a==="string")if(/^-?0x[0-9a-f]{16}$/i.test(a))return!1;else{d("WALogger").LOG(l(),s(a)).color("red");return{path:[],error:"value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long"}}else return q(a,b,c)}function q(a,b,c){if(typeof a!=="number"||a!==a||Math.floor(a)!==a){d("WALogger").LOG(k(),s(a)).color("red");return{path:[],error:"value must be an int"}}else if(a<b||a>=c){d("WALogger").LOG(j(),s(a)).color("red");return{path:[],error:"value is out of range"}}else return!1}function r(a,b,c){if(a)return void 0;else{d("WALogger").LOG(i(),s(c),b).color("red");return{path:[],error:"value is invalid"}}}function s(a){if(typeof a==="string")return'"'+a+'"';else if(Array.isArray(a))return"["+a.join(", ")+"]";else return""+a}var t=[void 0,function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return q(a,0,4294967296)},function(a){return p(a,0,m+1)},function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="boolean","boolean",a)},function(a,b){return r(typeof a==="number"&&(b[a]||b.cast(a)!==void 0),"in enum",a)},function(a){return p(a,0,m+1)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="number","number",a)},function(a){return r(typeof a==="string","string",a)},function(a){return r(a instanceof ArrayBuffer||a instanceof Uint8Array,"ArrayBuffer or Uint8Array",a)},u,function(a){return q(a,0,4294967296)},function(a){return q(a,-2147483648,2147483648)},function(a){return r(typeof a==="number","number",a)}];function u(a,b){b=d("WAProtoCompile").compileSpec(b);var c=b.names,e=b.fields,f=b.types,g=b.meta,i=b.oneofToFields,j=b.fieldToOneof,k=b.reservedTags,l=b.reservedFields,m=void 0;b=function(b){var n=c[b],o=f[b],p=a[n],q=o&d("WAProtoConst").TYPE_MASK,r=t[q],u=(o&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP;if(r===void 0&&!u)throw new Error("Can not find the validator for type "+q);if(o&(d("WAProtoConst").FLAGS.PACKED|d("WAProtoConst").FLAGS.REPEATED)&&p!=null)if(!Array.isArray(p))d("WALogger").LOG(h(),s(p)).color("red"),m={path:[n],error:"repeated field must be array"};else{q=g[b];for(o=0;o<p.length&&!m;o++)m=r(p[o],q),m&&m.path.push(n+"["+o+"]")}else if(u&&p!=null){o=g[b];q=o[0];u=o[1];o=t[q];var v=t[u];if(o===void 0||v===void 0)throw new Error("Can not find the validator for Map with key type "+q+", value type "+u);for(var w=p,x=Array.isArray(w),y=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var z;if(x){if(y>=w.length)break;z=w[y++]}else{y=w.next();if(y.done)break;z=y.value}z=z;var A=z[0];z=z[1];m=o(A,q);if(m){m.path.push(n+"'s key ["+A+"]");return{v:m}}m=v(z,u);if(m){m.path.push(n+"["+A+"]'s value");return{v:m}}}}else if(p!=null){m=r(p,g[b]);m&&m.path.push(n);z=j[n];z&&z.forEach(function(b){var c=i[b].filter(function(a){return a!==n});c.forEach(function(c){typeof a[c]!=="undefined"&&(m={path:[b],error:"oneof '"+b+"' has fields '"+n+"' and '"+c+"' set"})})});k[e[b]]&&(m={path:[n],error:"tag "+e[b]+" is reserved"});l[n]&&(m={path:[n],error:"field "+n+" is reserved"})}};for(var n=0;n<c.length&&!m;n++){var o=b(n);if(typeof o==="object")return o.v}return m}g.checkRequirements=n;g.checkValid=a}),98);
__d("decodeProtobuf",["WABinary","WAHasProperty","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!1);d("WAProtoValidate").checkRequirements(a,b);return b}function b(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!0);d("WAProtoValidate").checkRequirements(a,b);return b}function e(a){return c("WAHasProperty")(a,"$$unsafeUnknownFields")?a.$$unsafeUnknownFields:null}function h(a,b,c){if(a!==d("WAProtoUtils").typeToEncType(b))throw new Error("FormatError: "+c+" encoded with wire type "+a)}function i(a,b,c){switch(b){case d("WAProtoConst").TYPES.INT32:return j(c,-2147483648,2147483648,a,d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.INT64:return c.readVarInt(k);case d("WAProtoConst").TYPES.UINT32:return j(c,0,4294967296,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.UINT64:return c.readVarInt(l);case d("WAProtoConst").TYPES.SINT32:b=j(c,0,4294967296,a,d("WABinary").parseInt64OrThrow);return b&1?~(b>>>1):b>>>1;case d("WAProtoConst").TYPES.SINT64:return c.readVarInt(m);case d("WAProtoConst").TYPES.BOOL:return!!j(c,0,2,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.ENUM:return c.readVarInt(d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.FIXED64:return c.readLong(l,!0);case d("WAProtoConst").TYPES.SFIXED64:return c.readLong(k,!0);case d("WAProtoConst").TYPES.DOUBLE:return c.readFloat64(!0);case d("WAProtoConst").TYPES.STRING:return c.readString(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.BYTES:return c.readBuffer(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.FIXED32:return c.readUint32(!0);case d("WAProtoConst").TYPES.SFIXED32:return c.readInt32(!0);case d("WAProtoConst").TYPES.FLOAT:return c.readFloat32(!0)}}function j(a,b,c,d,e){a=a.readVarInt(e);if(a<b||a>=c)throw new Error("FormatError: "+d+" encoded with out-of-range value "+a);return a}function k(a,b){var c=d("WABinary").longFitsInDouble(!0,a,b);if(c){c=o(b);return a*4294967296+c}else{c=a<0;var e;c?e=b===0?-a:~a:e=a;a=c?-b:b;return d("WAHex").createHexLongFrom32Bits(e,a,c)}}function l(a,b){var c=d("WABinary").longFitsInDouble(!1,a,b);if(c){c=o(a);var e=o(b);return c*4294967296+e}else return d("WAHex").createHexLongFrom32Bits(a,b)}function m(a,b){var c=a>>>1;a=a<<31|b>>>1;b&1&&(c=~c,a=~a);return k(c,a)}function n(a,b,c,e){var f=d("WAProtoCompile").compileSpec(a),g=f.names,k=f.fields,l=f.types,m=f.meta,o=f.oneofToFields,p=f.fieldToOneof,q=f.reservedTags,r=f.reservedFields;f=a.internalDefaults;var s=c||babelHelpers["extends"]({},f)||{};s.$$unknownFieldCount=(a=c==null?void 0:c.$$unknownFieldCount)!=null?a:0;for(f=0;f<g.length;f++)l[f]&d("WAProtoConst").FLAGS.REPEATED?s[g[f]]=[]:l[f]===(d("WAProtoConst").TYPES.MAP&d("WAProtoConst").TYPE_MASK)&&(s[g[f]]=new Map());var t=0;c=k.length>0;a=k[0];while(b.size()){f=j(b,0,4294967296,"field and enc type",d("WABinary").parseInt64OrThrow);var u=f&7,v=f>>>3;if(c&&v!==a){f=t;do++t===k.length&&(t=0),a=k[t];while(v!==a&&t!==f)}if(c&&v===a)(function(){var a=g[t],c=l[t];h(u,c,a);var f=c&d("WAProtoConst").TYPE_MASK,k=m[t];if(c&d("WAProtoConst").FLAGS.PACKED){var w=b.readVarInt(d("WABinary").parseUint64OrThrow);w=b.readBinary(w);while(w.size()){var x=i(a,f,w);(f!==d("WAProtoConst").TYPES.ENUM||k[x]||(k.cast==null?void 0:k.cast(x))!==void 0)&&s[a].push(x)}}else if(f===d("WAProtoConst").TYPES.MESSAGE){x=b.readVarInt(d("WABinary").parseUint64OrThrow);w=b.readBinary(x);if(c&d("WAProtoConst").FLAGS.REPEATED)s[a].push(n(k,w,void 0,e));else{x=s[a];s[a]=n(k,w,x,e)}}else if(f===d("WAProtoConst").TYPES.MAP){w=b.readVarInt(d("WABinary").parseUint64OrThrow);x=b.readBinary(w);var y,z;for(w=0;w<m[t].length;w++){var A=j(x,0,4294967296,"map field and enc type",d("WABinary").parseInt64OrThrow),B=A&7;A=A>>>3;var C=void 0;switch(B){case d("WAProtoConst").ENC.VARINT:C=x.readVarInt(d("WABinary").parseInt64OrThrow);break;case d("WAProtoConst").ENC.BIT64:C=x.readBinary(8);break;case d("WAProtoConst").ENC.BINARY:B=k[w];if(B===d("WAProtoConst").TYPES.BYTES||B===d("WAProtoConst").TYPES.STRING)C=i(a,B,x);else{var D=x.readVarInt(d("WABinary").parseUint64OrThrow);D=x.readBinary(D);C=n(B,D,void 0,e)}break;case d("WAProtoConst").ENC.BIT32:C=x.readBinary(4);break}A===1?y=C:z=C}s[a].set(y,z)}else{B=i(a,f,b);(f!==d("WAProtoConst").TYPES.ENUM||k[B]||(k.cast==null?void 0:k.cast(B))!==void 0)&&(c&d("WAProtoConst").FLAGS.REPEATED?s[a].push(B):s[a]=B)}D=p[a];D&&typeof s[a]!=="undefined"&&D.forEach(function(b){b=o[b].filter(function(b){return b!==a});b.forEach(function(a){delete s[a]})});(q[v]||r[a])&&delete s[a]})();else{s.$$unknownFieldCount++;if(e){s.$$unsafeUnknownFields||(s.$$unsafeUnknownFields={});f=void 0;switch(u){case d("WAProtoConst").ENC.VARINT:f=b.readVarInt(d("WABinary").parseInt64OrThrow);break;case d("WAProtoConst").ENC.BIT64:f=b.readBinary(8);break;case d("WAProtoConst").ENC.BINARY:f=b.readBinary(b.readVarInt(d("WABinary").parseUint64OrThrow));break;case d("WAProtoConst").ENC.BIT32:f=b.readBinary(4);break}s.$$unsafeUnknownFields[v]=f}else u===d("WAProtoConst").ENC.VARINT?b.readVarInt(d("WABinary").parseInt64OrThrow):u===d("WAProtoConst").ENC.BIT64?b.advance(8):u===d("WAProtoConst").ENC.BINARY?b.advance(b.readVarInt(d("WABinary").parseUint64OrThrow)):u===d("WAProtoConst").ENC.BIT32&&b.advance(4)}}return s}function o(a){return a>=0?a:4294967296+a}g.decodeProtobuf=a;g.decodeProtobufWithUnknowns=b;g.getUnknownFields=e}),98);
__d("encodeProtobuf",["WABinary","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";var h=void 0,i=128;function a(a,b,c){c===void 0&&(c=new(d("WABinary").Binary)());d("WAProtoValidate").checkValid(a,b);o(c,b,a);h=void 0;return c}function b(){return h!==void 0?"Last encoded value for "+h:"No information known"}function c(a,b){a.writeVarInt(b)}function e(a,b){if(typeof b==="number"&&b<4503599627370496&&b>=-4503599627370496)a.writeVarInt(b>=0?2*b:2*-b-1);else{var c=new(d("WABinary").Binary)(),e;typeof b==="number"?(e=b<0,c.writeVarInt(e?-b:b)):(e=d("WAHex").hexLongIsNegative(b),c.writeVarIntFromHexLong(e?d("WAHex").negateHexLong(b):b));b=c.peek(function(){return c.readByteArray()});var f=b.byteLength;if(e){var g=0,h;do h=b[g],b[g]=h&i|(h&127)-1&127,g++;while(b[g-1]===255)}h=e?1:0;for(g=0;g<f;g++){e=b[g];var j=e&i|(e&63)<<1|h;h=(e&64)>>6;b[g]=j}h===1&&(b[f-1]|=i,c.writeInt8(1));a.writeBinary(c)}}function f(a,b){typeof b==="number"?a.writeVarInt(b):a.writeVarIntFromHexLong(b)}function j(a,b){a.writeVarInt(d("WABinary").numUtf8Bytes(b)),a.writeString(b)}function k(a,b){a.writeVarInt(b.byteLength),a.writeBuffer(b)}function l(a,b,c){a.writeWithVarIntLength(function(a,b){return o(a,b,c)},b)}var m=[void 0,c,f,c,f,e,e,function(a,b){a.writeVarInt(b?1:0)},c,function(a,b){typeof b==="number"?a.writeUint64(b,!0):a.writeHexLong(b,!0)},function(a,b){typeof b==="number"?a.writeInt64(b,!0):a.writeHexLong(b,!0)},function(a,b){a.writeFloat64(b,!0)},j,k,l,function(a,b){a.writeUint32(b,!0)},function(a,b){a.writeInt32(b,!0)},function(a,b){a.writeFloat32(b,!0)}];f=function(a){if(a==null)return void 0;var b=a;function c(a,c){for(var d=0;d<c.length;d++)b(a,c[d])}return function(a,b){a.writeWithVarIntLength(c,b)}};var n=m.map(f);function o(a,b,c){var e=d("WAProtoCompile").compileSpec(c),f=e.names,g=e.fields,i=e.types;e=e.meta;c=c.internalDefaults;for(var j=0;j<f.length;j++){var k=f[j],l=b[k];l==null&&c&&(l=c[k]);if(l!=null){h=k;k=g[j];var o=i[j],p=o&d("WAProtoConst").TYPE_MASK,q=e[j];k=k*8|d("WAProtoUtils").typeToEncType(o);if(o&d("WAProtoConst").FLAGS.PACKED){if(l.length>0){a.writeVarInt(k);var r=n[p];r(a,l,q)}}else if(o&d("WAProtoConst").FLAGS.REPEATED)for(r=0;r<l.length;r++){a.writeVarInt(k);o=m[p];o(a,l[r],q)}else{a.writeVarInt(k);o=m[p];o(a,l,q)}}}}g.encodeProtobuf=a;g.encodeErrorInfo=b}),98);
__d("WAMediaUtils",["Promise","WACryptoDependencies","WAErr","WALongInt","WAMediaCryptoSidecar","WAMediaEntryData.pb","WAProgressiveJpegGetScanLengths","WAServerMediaType","WATimeUtils","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=new Uint8Array(32);d("WACryptoDependencies").getCrypto().getRandomValues(a);return a.buffer}function j(a){return a}function a(){return i()}function k(a){return a}function e(a){return a}function f(a){return a}function l(a,b){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,b);b=a.fileSha256;var c=a.mediaKey,e=a.fileEncSha256,f=a.directPath,g=a.mediaKeyTimestamp,h=a.sidecar,i=a.objectId,j=a.fbid,k=a.serverMediaType,l=a.downloadableThumbnail,m=a.filename,n=a.progressiveJpegDetails;a=a.size;return{fileSha256:b,mediaKey:c,fileEncSha256:e,directPath:f,mediaKeyTimestamp:g==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(g)),sidecar:h&&d("WAMediaCryptoSidecar").castToStreamingSidecar(h),objectId:i,fbid:j,downloadableThumbnail:l&&s(l),serverMediaType:k,filename:m,progressiveJpegDetails:n&&t(n),size:a==null?void 0:d("WALongInt").numberOrThrowIfTooLarge(a)}}function m(a){var b=a.fileSha256,c=a.fileEncSha256,e=a.mediaKey,f=a.directPath,g=a.mediaKeyTimestamp,h=a.serverMediaType,i=a.objectId,j=a.fbid,k=a.downloadableThumbnail,l=a.filename,m=a.progressiveJpegDetails;a=a.size;b=d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,{fileSha256:b,fileEncSha256:c,mediaKey:e,directPath:f,mediaKeyTimestamp:g,serverMediaType:h,objectId:i,fbid:j,downloadableThumbnail:k,filename:l,progressiveJpegDetails:m,size:a});return b.readByteArray()}function n(a){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function o(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{directPath:b})).readByteArray()}function p(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{downloadableThumbnail:babelHelpers["extends"]({},a.downloadableThumbnail,{directPath:b})})).readByteArray()}function q(a,b){a=babelHelpers["extends"]({},a,{fbid:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function r(a,b){a=babelHelpers["extends"]({},a,{objectId:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function s(a){if(a==null)return null;a.$$unknownFieldCount;var b=babelHelpers.objectWithoutPropertiesLoose(a,["$$unknownFieldCount"]);return babelHelpers["extends"]({},b,{mediaKey:a.mediaKey&&j(a.mediaKey),mediaKeyTimestamp:a.mediaKeyTimestamp==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(a.mediaKeyTimestamp))})}function t(a){if(a==null)return null;return a.scanLengths==null||a.sidecar==null?null:{sidecar:a.sidecar,scanLengths:a.scanLengths.map(function(a){return d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength(d("WALongInt").numberOrThrowIfTooLarge(a))})}}function u(a){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a);var b=a.serverMediaType,c=a.mediaKey,e=a.mediaKeyTimestamp,f=a.uploadToken,g=a.downloadableThumbnail,h=a.progressiveJpegDetails,i=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["serverMediaType","mediaKey","mediaKeyTimestamp","uploadToken","downloadableThumbnail","progressiveJpegDetails","size"]);var l=null;h!=null&&h.scanLengths!=null&&h.sidecar!=null&&(l={sidecar:h.sidecar,scanLengths:h.scanLengths.map(function(a){return d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength(d("WALongInt").numberOrThrowIfTooLarge(a))})});return babelHelpers["extends"]({},a,{serverMediaType:b==null?null:d("WAServerMediaType").castToServerMediaType(b),mediaKey:c&&j(c),mediaKeyTimestamp:e==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(e)),uploadToken:f&&k(f),progressiveJpegDetails:l,downloadableThumbnail:g&&s(g),size:d("WALongInt").maybeNumberOrThrowIfTooLarge(i)})}function v(a){return"arrayBuffer"in a&&typeof a.arrayBuffer==="function"?a.arrayBuffer():new(h||(h=b("Promise")))(function(b,d){var e=new FileReader();e.onload=function(){var a=e.result;a instanceof ArrayBuffer?b(a):d(c("WAErr")("blobToArrayBuffer got error becaues result is not ArrayBuffer"))};e.onerror=function(){var a;a=((a=e.error)==null?void 0:a.name)||"unknown";d(c("WAErr")("blobToArrayBuffer got error got error "+a))};e.readAsArrayBuffer(a)})}function w(a){var b="image/jpeg";switch(a){case"image":b="image/jpeg";break;case"ptt":b="audio/wav";break;case"video":b="video/mp4";break;case"gif":b="image/gif";break;case"sticker":b="image/webp";break;case"preview":b="image/jpeg";break;case"document":b="application/pdf";break;case"xma-image":b="image/jpeg";break;default:throw c("WAErr")("Unsupported server media type: "+a)}return b}var x=function(){return"TransformStream"in self};g.createMediaKey=i;g.castToMediaKey=j;g.createUploadToken=a;g.castToUploadToken=k;g.stringToDeliveryObjectId=e;g.stringToBackupEntFbid=f;g.mediaEntryDataToRawData=l;g.rawDataToMediaEntry=m;g.encodeMediaEntryForUpload=n;g.encodeMediaEntryWithUpdatedPath=o;g.encodeMediaEntryDownloadableThumbnailWithUpdatedPath=p;g.encodeMediaEntryWithUpdatedFbid=q;g.encodeMediaEntryWithUpdatedObjectId=r;g.convertMediaDownloadableThumbnailToDownloadableThumbnail=s;g.decodeMediaEntryData=u;g.blobToArrayBuffer=v;g.getMimeTypeFromServerMediaType=w;g.isTransformStreamSupported=x}),98);
__d("MAWDbMedia",["I64","WAMediaUtils","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i="Image",j="Video",k="Ptt",l="Gif",m="Sticker",n="DocumentFile",o={DOCUMENT_FILE:n,GIF:l,IMAGE:i,PTT:k,STICKER:m,VIDEO:j};function a(a){return a}function b(a){return a}function c(a){return(h||(h=d("I64"))).of_float(a)}function e(a){return(h||(h=d("I64"))).to_float(a)}function f(a,b){a=a.mediaEntries.get(b);if(a==null)return d("WAResultOrError").makeError("missing-media-entry");b=d("WAMediaUtils").decodeMediaEntryData(a);a=b.serverMediaType;return a==null?d("WAResultOrError").makeError("missing-server-media-type"):d("WAResultOrError").makeResult(a)}g.IMAGE=i;g.VIDEO=j;g.PTT=k;g.GIF=l;g.STICKER=m;g.DOCUMENT_FILE=n;g.MEDIA_TYPE=o;g.convertNumberToMediaId=a;g.convertToMediaId64=b;g.convertMediaIdToMediaId64=c;g.convertMediaId64ToMediaId=e;g.getServerMediaType=f}),98);
__d("MAWHexUtils",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.toString(16);return(a.length-1).toString(16)+a}function b(a){for(var b=1;b<a.length;b++){var d=a.substring(0,b),e=a.substring(b);if(e.length-1===parseInt(d,16))return parseInt(e,16)}throw c("err")("Cannot convert the order-preserving-hex back to number")}g.orderPreservingHex=a;g.reverseOrderPreservingHex=b}),98);
__d("WAMsgType",[],(function(a,b,c,d,e,f){"use strict";a="Text";b="Futureproof";c="Ciphertext";d="Unavailable";e="Image";var g="Video",h="Ptt",i="Admin",j="Revoked",k="Gif",l="Sticker",m="DocumentFile",n="ExpiredEphemeral",o="EphemeralSettingAdmin",p="EphemeralSyncResponse",q="DeleteForMe",r="EphemeralSettingChangeFromCurrentDevice",s="AlertICDC",t="GroupInvite",u="NoteReply",v="Reaction",w="SenderKeyDistribution",x="EditAction",y={ADMIN:i,CIPHERTEXT:c,DELETE_FOR_ME:q,DOCUMENT_FILE:m,EDIT_ACTION:x,EPHEMERAL_SETTING_ADMIN:o,EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:r,EPHEMERAL_SYNC_RESPONSE:p,EXPIRED_EPHEMERAL:n,FUTUREPROOF:b,GIF:k,GROUP_INVITE:t,ICDC_ALERT:s,IMAGE:e,PTT:h,REACTION:v,REVOKED:j,SK_DISTRIBUTION:w,STICKER:l,TEXT:a,UNAVAILABLE:d,VIDEO:g};f.TEXT=a;f.FUTUREPROOF=b;f.CIPHERTEXT=c;f.UNAVAILABLE=d;f.IMAGE=e;f.VIDEO=g;f.PTT=h;f.ADMIN=i;f.REVOKED=j;f.GIF=k;f.STICKER=l;f.DOCUMENT_FILE=m;f.EXPIRED_EPHEMERAL=n;f.EPHEMERAL_SETTING_ADMIN=o;f.EPHEMERAL_SYNC_RESPONSE=p;f.DELETE_FOR_ME=q;f.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE=r;f.ICDC_ALERT=s;f.GROUP_INVITE=t;f.NOTE_REPLY=u;f.REACTION=v;f.SK_DISTRIBUTION=w;f.EDIT_ACTION=x;f.MSG_TYPE=y}),66);
__d("MAWMsgType",["WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return j.has(a)};b=function(a){return k.has(a)||j.has(a)};c="EphemeralScreenshotAction";e="Raven";f="RavenAction";var h="XMA",i="BumpExistingMessage";d=babelHelpers["extends"]({},d("WAMsgType").MSG_TYPE,{BUMP_EXISTING_MESSAGE:i,EPHEMERAL_SCREENSHOT_ACTION:c,RAVEN:e,RAVEN_ACTION:f,XMA:h});var j=new Set([d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.XMA,d.RAVEN,d.DOCUMENT_FILE]),k=new Set([d.TEXT,d.REVOKED,d.XMA,d.BUMP_EXISTING_MESSAGE]),l=new Set([d.TEXT,d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.DOCUMENT_FILE,d.UNAVAILABLE,d.EXPIRED_EPHEMERAL,d.REVOKED,d.XMA]);i=function(a){return l.has(a)};g.isMAWSupportedMediaType=a;g.isEBSupportedMsgType=b;g.EPHEMERAL_SCREENSHOT_ACTION=c;g.MSG_TYPE=d;g.mawSupportedMediaTypes=j;g.isQuotedMsgType=i}),98);
__d("WAMsg",["WAAssertUnreachable","WAErr","WAJids","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.chat,c=a.author;a=a.externalId;return b+"_"+a+"_"+c}function h(a){switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:return{externalId:a.id.externalId,author:a.id.author,ts:a.ts,sentTs:a.sentTs,serverTs:a.serverTs,expirationTs:a.expirationTs,deleteTs:a.deleteTs,ephemeralSetting:a.ephemeralSetting};case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:return{externalId:a.id.externalId,author:a.id.author,ts:a.ts,sentTs:a.sentTs};default:a.type;return null}}function b(a){var b=h(a);if(b==null)return null;switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.TEXT,msgContent:a.msgContent});case d("WAMsgType").MSG_TYPE.IMAGE:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.IMAGE,mediaId:a.mediaId});case d("WAMsgType").MSG_TYPE.VIDEO:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.VIDEO,mediaId:a.mediaId});case d("WAMsgType").MSG_TYPE.PTT:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.PTT,mediaId:a.mediaId});case d("WAMsgType").MSG_TYPE.STICKER:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.STICKER,mediaId:a.mediaId});case d("WAMsgType").MSG_TYPE.GIF:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.PTT,mediaId:a.mediaId});case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL});case d("WAMsgType").MSG_TYPE.UNAVAILABLE:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.UNAVAILABLE});case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.REACTION:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.DELETE_FOR_ME:case d("WAMsgType").MSG_TYPE.DOCUMENT_FILE:case d("WAMsgType").MSG_TYPE.EDIT_ACTION:return null;default:return c("WAAssertUnreachable")(a.type)}}function e(a){if(d("WAJids").isAuthorSystem(a.author))throw c("WAErr")("Cannot send @system messages");else return{author:a.author,chat:a.chat,externalId:a.externalId}}g.craftWAMsgIdString=a;g.asQuotedMsg=b;g.asProtocolMsgId=e}),98);
__d("MAWDbMsg",["FBLogger","I64","MAWDbChatId__UNSAFE_DO_NOT_USE","MAWHexUtils","MAWMsgType","WAMsg","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i=[(i=d("MAWMsgType")).MSG_TYPE.REVOKED,i.MSG_TYPE.EPHEMERAL_SYNC_RESPONSE,i.MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE,i.MSG_TYPE.GROUP_INVITE,i.MSG_TYPE.SK_DISTRIBUTION,i.MSG_TYPE.RAVEN_ACTION];var j=0,k=Number.MAX_SAFE_INTEGER;function a(a){return v(a)?a:null}function b(a){return a}function e(a){return a}var l="futureproof",m="futureproof_spam",n="spam",o="toBeRead",p="e2ee_admin_msg",q="cutover_admin_msg";function r(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_m"}function f(a,b,e){a=d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_m";return!c("justknobx")._("621")?a:a+"_"+e.externalId}function s(a,b){return!c("justknobx")._("1903")?r(a,b):d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_um"}function t(a,b){return!c("justknobx")._("1903")?r(a,b):d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_r"}function u(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_DEBUG_"+d("MAWHexUtils").orderPreservingHex(Math.floor(Math.random()*1e4))}function v(a){a=a.split("_");return a.length>=3&&a[0]!==""&&a[1]!==""&&a[2]==="m"}function w(a){return d("MAWDbChatId__UNSAFE_DO_NOT_USE").craftAltIndex__DEPRECATED(a,o)}function x(a){return d("MAWDbChatId__UNSAFE_DO_NOT_USE").craftAltIndex__DEPRECATED(a,p)}function y(a){return d("MAWDbChatId__UNSAFE_DO_NOT_USE").craftAltIndex__DEPRECATED(a,q)}function z(a){a=a.split("_");a=a[0];return d("MAWDbChatId__UNSAFE_DO_NOT_USE").unsafeCoerceToChatId__DEPRECATED(d("MAWHexUtils").reverseOrderPreservingHex(a))}function A(a){a=a.split("_");a[0];a=a[1];return d("MAWHexUtils").reverseOrderPreservingHex(a)}function B(a){return d("MAWHexUtils").orderPreservingHex(a)+"_"}function C(a){return d("MAWHexUtils").orderPreservingHex(a)+"_z"}function D(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.XMA:return!0;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isXMAMsg check: "%s"',a.type)}function E(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.RAVEN:return!0;case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isMediaMsg check: "%s"',a.type)}function F(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return!0;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:case d("MAWMsgType").MSG_TYPE.RAVEN_ACTION:case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isContentMsg check: "%s"',a.type)}function G(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return!0;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isMsgEligibleForTriggeringEphemeralSyncResponse check: "%s"',a.type)}function H(a){return J(a.type)}function I(a){return a.type===d("MAWMsgType").MSG_TYPE.ADMIN}function J(a){return a==="EphemeralSyncResponse"||a==="EphemeralSettingChangeFromCurrentDevice"||a==="GroupInvite"||a==="SenderKeyDistribution"||a==="RavenAction"||a==="EditAction"}function K(a){return a==="RavenAction"}function L(a){return a.originalTs!=null?a.originalTs:M(a)}function M(a){return a.serverTs!=null?a.serverTs:a.ts}function N(a){if(a.sortOrderMs!=null)return a.sortOrderMs;else return M(a)*1e3}function O(a,b){if(a.serverTs!=null)return Math.max(b+1,a.serverTs*1e3);else return b+1}function P(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:return a.msgContent;case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return a.editMsgContent;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for getMsgContent check: "%s"',a.type)}function Q(a){return d("WAMsg").craftWAMsgIdString({author:a.author,chat:a.threadJid,externalId:a.externalId})}function R(a){return(h||(h=d("I64"))).to_float(a)}g.NO_CONTENT_MESSAGE_TYPES_ALLOWLIST=i;g.MIN_MSG_SORT_ORDER=j;g.MAX_MSG_SORT_ORDER=k;g.toMsgId=a;g.stanzaIdToMsgId=b;g.instamadilloMsgIdToMsgId=e;g.FUTUREPROOF_ALT_INDEX=l;g.FUTUREPROOF_SPAM_ALT_INDEX=m;g.SPAM_ALT_INDEX=n;g.craftMsgId=r;g.craftMsgIdV2=f;g.craftUnrenderedMsgId=s;g.craftReactionId=t;g.craftDebugMsgId=u;g.isValidMsgId=v;g.craftToBeReadAltIndex=w;g.craftE2eeAdminMsgAltIndex=x;g.craftCutoverAdminMsgAltIndex=y;g.getThreadIdFromMsgId=z;g.getInChatMsgIdFromMsgId=A;g.msgIdsInChatLowerBound=B;g.msgIdsInChatUpperBound=C;g.isXMAMsg=D;g.isMediaMsg=E;g.isContentMsg=F;g.isMsgEligibleForTriggeringEphemeralSyncResponse=G;g.isUnrenderedMsg=H;g.isAdminMsg=I;g.isUnrenderedMsgType=J;g.isRavenActionMsgType=K;g.getOriginalTsFromMsg=L;g.getCanonicalTsFromMsg=M;g.getSortOrderWithFallback=N;g.getSortOrderFromPrevious=O;g.getMsgContent=P;g.getWAMsgId=Q;g.convertMsgRowId64=R}),98);
__d("MAWDbXMA",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a}function b(a){return a}function c(a){return(h||(h=d("I64"))).to_float(a)}g.convertNumbersToXMAIds=a;g.convertNumberToXMAId=b;g.convertXMAId64ToXMAId=c}),98);
__d("MAWErrorObject",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a instanceof Error)return a;else if(typeof a==="string")return c("err")(a);else return null}g.getErrorObject=a}),98);
__d("MAWImageUtils",["Promise","err","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="image/jpeg",j=100,k=c("justknobx")._("2338")*1024,l=c("justknobx")._("2340");function m(a,d){d===void 0&&(d=!0);var e;return new(h||(h=b("Promise")))(function(b,f){e=new Image();var g=/^(?:data|blob):/.test(a);d&&!g&&e.setAttribute("crossOrigin","anonymous");e.onload=b;e.onabort=function(){f(function(){throw c("err")("Error loading image from provided URL")})};e.onerror=function(){f(function(){throw c("err")("Wrong blob type")})};e.src=a}).then(function(){return e})}function n(a,d,e,f){e===void 0&&(e=!1);var g=40*1024,i=c("gkx")("2655");if(a.toBlob)return new(h||(h=b("Promise")))(function(b){var c=f==null?void 0:f/100;a.toBlob(b,d,c)}).then(function(c){var f=i?k:g,j=i?l/100:g/c.size;return e&&c.size>=f?new(h||(h=b("Promise")))(function(b){a.toBlob(b,d,j)}):c});else return(h||(h=b("Promise"))).resolve(window.dataURLtoBlob(a.toDataURL(d))).then(function(c){var f=i?k:g,j=i?l/100:g/c.size;return e&&c.size>=f?(h||(h=b("Promise"))).resolve(window.dataURLtoBlob(a.toDataURL(d,j))):c})}function a(a,d,e,f){return m(a).then(function(a){var b=document.createElement("canvas");b.width=a.naturalWidth;b.height=a.naturalHeight;var c=b.getContext("2d");f!==!0&&p(b);c.drawImage(a,0,0);return n(b,d,!1,e).then(function(b){return{blob:b,height:a.naturalHeight,width:a.naturalWidth}})})["catch"](function(a){return(h||(h=b("Promise"))).reject(function(){throw c("err")(a)})})}function d(a,b){return m(a).then(function(a){var c=document.createElement("canvas"),d=a.naturalWidth,e=a.naturalHeight,f=c.getContext("2d");e=q(e,d,b);c.width=e.width;c.height=e.height;var g=c.width,h=c.height;o(c);f.drawImage(a,0,0,g,h);return n(c,i,!0).then(function(a){return a.arrayBuffer().then(function(a){return{height:h,jpegThumbnail:a,width:g}})})})}function e(a,b){return m(a).then(function(a){a=q(a.naturalHeight,a.naturalWidth,b);return{height:a.height,width:a.width}})}function o(a){var b=a.getContext("2d");b.fillStyle="rgb(247,247,247)";b.fillRect(0,0,a.width,a.height)}function p(a){var b=a.getContext("2d");b.fillStyle="rgb(255,255,255)";b.fillRect(0,0,a.width,a.height)}function q(a,b,c){b=b!=null?b:c;a=a!=null?a:c;b>a?b>c&&(a*=c/b,b=c):a>c&&(b*=c/a,a=c);return{height:Math.round(Math.max(a,1)),width:Math.round(Math.max(b,1))}}function f(a){return m(a).then(function(a){return{height:a.naturalHeight,width:a.naturalWidth}})}g.TYPE_JPEG=i;g.IMG_THUMB_MAX_EDGE=j;g.canvasToBlob=n;g.urlToFile=a;g.urlToThumbnail=d;g.urlToThumbnailSpec=e;g.boundHeightWidth=q;g.urlToImageSpec=f}),98);
__d("MAWIndexedDbMetadata",[],(function(a,b,c,d,e,f){"use strict";var g="v1",h="v1",i="v1",j="v1",k="v1",l="v1",m="messenger_web_"+g,n="messenger_web_v3",o="messenger_web_encryption_"+h,p="messenger_web_signal_"+i,q="messenger_web_signal_v2",r="messenger_web_log_"+j,s="messenger_web_eb_lsdb_"+k,t="messenger_web_fts_"+l;function a(a){return m+"_"+a}function b(a){return t+"_"+a}function c(a){return n+"_"+a}function d(a){return o+"_"+a}function e(a){return p+"_"+a}function u(a){return q+"_"+a}function v(a){return r+"_"+a}function w(a){return s+"_"+a}f.dbName=a;f.ftsDbName=b;f.restoreDbName2=c;f.encryptionDbName=d;f.signalDbName=e;f.signalRestore=u;f.logDbName=v;f.ebLSDBName=w}),66);
__d("MAWIndexedDBDeletion",["CurrentMessengerUser","FBLogger","MAWIndexedDbMetadata","Promise","asyncToGeneratorRuntime","gkx","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,d){return indexedDB==null||a==null?(h||(h=b("Promise"))).resolve():new(h||(h=b("Promise")))(function(b,e){var f=indexedDB.deleteDatabase(a);f.onsuccess=function(){c("FBLogger")("mpf_web_foundations").warn("%s db was deleted",d),b()};f.onblocked=function(){c("recoverableViolation")("Cannot delete "+d+" db: blocked","messenger_e2ee_web"),b()};f.onerror=function(){c("recoverableViolation")("Cannot delete "+d+" db","messenger_e2ee_web"),e(f.error)}})}function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("CurrentMessengerUser").getID();yield (h||(h=b("Promise"))).all([i(d("MAWIndexedDbMetadata").dbName(a),"maw_v1"),i(d("MAWIndexedDbMetadata").restoreDbName2(a),"maw_v3"),i(d("MAWIndexedDbMetadata").signalDbName(a),"signal"),c("gkx")("2163")?i(d("MAWIndexedDbMetadata").signalRestore(a),"signalV2"):(h||(h=b("Promise"))).resolve(),i(d("MAWIndexedDbMetadata").logDbName(a),"logDb")])});return j.apply(this,arguments)}g.deleteDB=i;g.deleteMAWPersistence=a}),98);
__d("MAWJobDefinitions",["MAWExternalId"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(a){return a}e={acceptGroupInvite:function(a,b,c,d,e,f,g){g=i(g);return{args:{chatId:a,chatJid:b,inviteCode:e,invitedParticipantUserId:d,inviteExpirationTs:f,inviterUserId:c},scheduleConfig:(a=g)!=null?a:void 0,type:"acceptGroupInvite"}},addGroupParticipants:function(a,b,c){c=i(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"addGroupParticipants"}},deleteGroups:function(a,b){b=i(b);return{args:{groups:a},scheduleConfig:(a=b)!=null?a:void 0,type:"deleteGroups"}},deleteMsgsForMe:function(a,b){b=i(b);return{args:{msgIds:a},scheduleConfig:(a=b)!=null?a:void 0,type:"deleteMsgsForMe"}},demoteGroupParticipants:function(a,b,c){c=i(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"demoteGroupParticipants"}},downloadAndHandleMedia:function(a,b,c,d,e,f,g){e=i(g);return{args:{hash:b,metricInstanceKeys:f,msgType:d,protocolMsgId:a,qplEntryPoint:c},scheduleConfig:(g=e)!=null?g:void 0,type:"downloadAndHandleMedia"}},forwardMsg:function(a,b,c,e,f,g,h){g=i(g);return{args:{args:h,chatJid:a,ephemeralSetting:c,externalId:(h=e)!=null?h:d("MAWExternalId").generateExternalId(),isFirstMsg:f,protocolMsgId:b},scheduleConfig:(a=g)!=null?a:void 0,type:"forwardMsg"}},getSpams:function(a){a=i(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"getSpams"}},handleFutureproofMsg:function(a){a=i(a);return{args:{},scheduleConfig:(a=a)!=null?a:void 0,type:"handleFutureproofMsg"}},handleSpamMsg:function(a){a=i(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"handleSpamMsg"}},igdReportUserSpam:function(a,b){var c=a.chatJid,d=a.context,e=a.frxParams,f=a.frxTags,g=a.msgs,h=a.reportedMessageId,j=a.spamFlow;a=a.userJid;b=i(b);return{args:{chatJid:c,context:d,frxParams:e,frxTags:f,msgs:g,reportedMessageId:h,spamFlow:j,userJid:a},scheduleConfig:(c=b)!=null?c:void 0,type:"igdReportUserSpam"}},igdSendMsg:function(a,b){var c=a.actorID;a=a.taskID;b=i(b);return{args:{actorID:c,taskID:a},scheduleConfig:(c=b)!=null?c:void 0,type:"igdSendMsg"}},leaveGroups:function(a,b){b=i(b);return{args:{groups:a},scheduleConfig:(a=b)!=null?a:void 0,type:"leaveGroups"}},linkReactionsToMsgs:function(a,b){b=i(b);return{args:{externalIds:a},scheduleConfig:(a=b)!=null?a:void 0,type:"linkReactionsToMsgs"}},markThreadAsRead:function(a,b,c,d,e,f,g){g=i(g);return{args:{chatJid:a,isBlocked:c,isReadReceiptsDisabled:f,isRestricted:d,relationship:b,upTo:e},scheduleConfig:(a=g)!=null?a:void 0,type:"markThreadAsRead",uniqKey:e==null?void 0:e.externalId}},postBackupWriteCompletionHook:function(a){return{args:{traceIdArray:a},type:"postBackupWriteCompletionHook"}},promoteGroupParticipants:function(a,b,c){c=i(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"promoteGroupParticipants"}},removeGroupParticipants:function(a,b,c){c=i(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"removeGroupParticipants"}},reportUserSpam:function(a,b,c,d,e,f,g,h,j,k){j=i(j);return{args:{chatJid:c,context:f,frxParams:g,frxTags:e,isIgd:d,openMsgs:k,reportedMessageId:h,spamFlow:b,userJid:a},scheduleConfig:(c=j)!=null?c:void 0,type:"reportUserSpam"}},resendWrittenAppData:function(a,b){b=i(b);return{args:{appDataExternalId:a},scheduleConfig:(a=b)!=null?a:void 0,type:"resendWrittenAppData"}},restoreMessagesFromEncryptedBackups:function(a,b,c,d,e,f,g,h,j,k,l,m,n){n=i(n);return{args:{hasMoreAfter:e,hasMoreBefore:d,instanceKey:k,isPointQuery:f,messages:c,minMsgId:g,optimisticMsgs:l,startSortKey:j,taskSource:m,threadId:b,traceId:h,transportKey:a},scheduleConfig:(e=n)!=null?e:void 0,type:"restoreMessagesFromEncryptedBackups"}},restoreProtobufsFromEncryptedBackups:function(a,b,c,d,e,f,g,h,j,k,l,m,n){m=i(m);return{args:{echoMessages:a,hasMoreAfter:f,hasMoreBefore:e,instanceKey:l,isPointQuery:g,messages:d,minMsgId:h,referenceTimestamp:k,requestId:j,taskSource:n,threadId:c,transportKey:b},scheduleConfig:(a=m)!=null?a:void 0,type:"restoreProtobufsFromEncryptedBackups"}},revokeMsgs:function(a,b){b=i(b);return{args:{msgIds:a},scheduleConfig:(a=b)!=null?a:void 0,type:"revokeMsgs"}},sendAppData:function(a,b,c){c=i(c);return{args:{args:a,externalId:(a=b)!=null?a:d("MAWExternalId").generateExternalId()},scheduleConfig:(b=c)!=null?b:void 0,type:"sendAppData"}},sendEditMsg:function(a,b,c){c=i(c);return{args:{args:a,externalId:(a=b)!=null?a:d("MAWExternalId").generateExternalId()},scheduleConfig:(b=c)!=null?b:void 0,type:"sendEditMsg"}},sendEphemeralSettingMsg:function(a,b,c,e){e=i(e);return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:(a=e)!=null?a:void 0,type:"sendEphemeralSettingMsg"}},sendGroupInviteMsg:function(a,b,c){c=i(c);return{args:{args:a,externalId:(a=b)!=null?a:d("MAWExternalId").generateExternalId()},scheduleConfig:(b=c)!=null?b:void 0,type:"sendGroupInviteMsg"}},sendMediaMsg:function(a,b,c,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){r=i(r);return{args:{args:{duration:j,ephemeralSetting:l,filename:t,height:f,isFirstMsg:p,isForwarded:o,isPtt:k,jpegThumbnail:c,jpegThumbnailHeight:h,jpegThumbnailWidth:g,mediaGroupMetadata:x,offlineAttachmentId:u,openMessageOtid:n,quote:m,s2sInstanceKey:v,source:s,width:e},attachmentType:w,chatJid:a,externalId:(j=q)!=null?j:d("MAWExternalId").generateExternalId(),file:b},scheduleConfig:(l=r)!=null?l:void 0,type:"sendMediaMsg"}},sendMsg:function(a,b,c,e){e=i(e);return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:(a=e)!=null?a:void 0,type:"sendMsg"}},sendRavenActionMsg:function(a,b,c,e){e=i(e);return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:(a=e)!=null?a:void 0,type:"sendRavenActionMsg"}},sendReactionMsg:function(a,b,c,e,f,g,h){g=i(g);return{args:{args:{groupingKey:"",reaction:e,reactToAuthor:c,reactToProtocolMsgId:b,source:h},chatJid:a,externalId:(e=f)!=null?e:d("MAWExternalId").generateExternalId()},scheduleConfig:(c=g)!=null?c:void 0,type:"sendReactionMsg"}},sendWrittenAppData:function(a,b){b=i(b);return{args:{appDataExternalId:a},scheduleConfig:(a=b)!=null?a:void 0,type:"sendWrittenAppData"}},sendWrittenMsg:function(a,b,c,d){c===void 0&&(c="message");d=i(d);return{args:{protocolMsgId:a,s2sInstanceKey:b,type:c},scheduleConfig:(a=d)!=null?a:void 0,type:"sendWrittenMsg"}},sendXMAShareMsg:function(a,b,c,e,f,g,h,j,k,l){l=i(l);return{args:{args:g,associatedMsgContent:f,associatedMsgContentExternalId:(g=j)!=null?g:d("MAWExternalId").generateExternalId(),chatJid:a,faviconFile:e,headerFile:c,previewFile:b,xmaArgs:k,xmaMsgExternalId:(f=h)!=null?f:d("MAWExternalId").generateExternalId()},scheduleConfig:(j=l)!=null?j:void 0,type:"sendXMAShareMsg"}},setGroupSubject:function(a,b,c){c=i(c);return{args:{group:a,subject:b},scheduleConfig:(a=c)!=null?a:void 0,type:"setGroupSubject"}},startInstamadilloDYI:function(a,b){b=i(b);return{args:{qplInstanceKey:a},scheduleConfig:(a=b)!=null?a:void 0,type:"startInstamadilloDYI"}},updateBackupEntFbidForMedia:function(a,b,c,d){d=i(d);return{args:{backupEntFbid:b,deliveryObjectId:a,traceId:c},scheduleConfig:(b=d)!=null?b:void 0,type:"updateBackupEntFbidForMedia"}},uploadMessagesBackup:function(a,b,c,d,e,f,g,h,j){j=i(j);return{args:{messageIds:a,oldTraceIdMap:f,pendingStanzaIds:c,reactionIds:d,threadIds:b,uploadTrackingInstanceMap:g,xmaIds:e},scheduleConfig:(a=j)!=null?a:void 0,type:"uploadMessagesBackup",uniqKey:h}},uploadRetroactiveMessageBatch:function(a,b,c,d){return{args:{chatId:d,dbMsgArray:a,includeOffset:b,msgOffset:c},type:"uploadRetroactiveMessageBatch"}},uploadRetroactiveThreadsAndMessages:function(a){a=i(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"uploadRetroactiveThreadsAndMessages"}}};function c(a,b){return h(a,b)}function h(a,b){var c=b.scheduleConfig,e=babelHelpers.objectWithoutPropertiesLoose(b,["scheduleConfig"]);c={args:{},scheduleConfig:c,type:a};b.externalIdJob&&(c.args.externalId=d("MAWExternalId").generateExternalId());c.args=babelHelpers["extends"]({},c.args,e);b.uniqueJob&&(c.uniqKey=a);return c}function i(a){if(a==null)return;return{jobId:a.jobId,maxTimeoutMs:a.maxTimeoutMs,priority:a.priority}}g.toThreadJidPrimaryId=a;g.toEncodedEchoMessage=b;g.jobSerializers=e;g.createStartJobInfo=c;g.createStartJobInfoGeneric=h;g.serializeJobScheduledConfig=i}),98);
__d("MAWMainTraceUtils",["I64","LSRequestId","asyncToGeneratorRuntime","killswitch"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return c("LSRequestId").generate()}function e(a,b,c,d,e,f,g){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,i,j){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return;yield a.data_trace_meta.add({contextOne:g,contextThree:j,contextTwo:i,foregroundTimestampMs:(h||(h=d("I64"))).zero,initTimestampMs:b,predefinedId:void 0,shouldFlush:!1,traceId:e,traceType:f})});return i.apply(this,arguments)}g.createTraceId=a;g.startTraceWithTxn=e}),98);
__d("MAWMsg",["$InternalEnum","I64","LSIntEnum","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,c,e,f){if(a===d("MAWMsgType").MSG_TYPE.TEXT)if(b)return(i||(i=d("LSIntEnum"))).ofNumber(8192);else return(i||(i=d("LSIntEnum"))).ofNumber(1);else if(a===d("MAWMsgType").MSG_TYPE.IMAGE||a===d("MAWMsgType").MSG_TYPE.VIDEO||a===d("MAWMsgType").MSG_TYPE.RAVEN)return(i||(i=d("LSIntEnum"))).ofNumber(2);else if(a===d("MAWMsgType").MSG_TYPE.PTT)return(i||(i=d("LSIntEnum"))).ofNumber(4);else if(a===d("MAWMsgType").MSG_TYPE.FUTUREPROOF)return k(f);else if(a===d("MAWMsgType").MSG_TYPE.CIPHERTEXT)return(i||(i=d("LSIntEnum"))).ofNumber(65536);else if(a===d("MAWMsgType").MSG_TYPE.UNAVAILABLE)return(i||(i=d("LSIntEnum"))).ofNumber(262144);else if(a===d("MAWMsgType").MSG_TYPE.GIF)return(i||(i=d("LSIntEnum"))).ofNumber(16384);else if(a===d("MAWMsgType").MSG_TYPE.STICKER)return(i||(i=d("LSIntEnum"))).ofNumber(4096);else if(a===d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE)return(i||(i=d("LSIntEnum"))).ofNumber(64);else if(a===d("MAWMsgType").MSG_TYPE.XMA)if(c!=null&&c)return(i||(i=d("LSIntEnum"))).ofNumber(256);else return(i||(i=d("LSIntEnum"))).ofNumber(1024);else if(a===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE)if(!e)return(i||(i=d("LSIntEnum"))).ofNumber(33554432);else return(i||(i=d("LSIntEnum"))).ofNumber(1);else return(i||(i=d("LSIntEnum"))).ofNumber(1)}function k(a){switch(a){case"locationMessage":case"liveLocationMessage":return(i||(i=d("LSIntEnum"))).ofNumber(524288);case"pollCreationMessage":return(i||(i=d("LSIntEnum"))).ofNumber(1048576);case"contactShareMessage":return(i||(i=d("LSIntEnum"))).ofNumber(2097152);case"storyMentionMessage":return(i||(i=d("LSIntEnum"))).ofNumber(4194304);case"metaAiMessage":return(i||(i=d("LSIntEnum"))).ofNumber(8388608);case"bumpMessage":return(i||(i=d("LSIntEnum"))).ofNumber(16777216);default:return(i||(i=d("LSIntEnum"))).ofNumber(131072)}}function c(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16384))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(64))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4096))}function e(a){a=a.displayedContentTypes;if((j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(32)))return!0;else return!1}function f(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1024))}function l(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(65536))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(131072))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(524288))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1048576))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2097152))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4194304))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8388608))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16777216))?!0:(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(262144))}var m=b("$InternalEnum")({PLAYED:0,SCREENSHOTTED:1,FORCE_DISABLED:2}),n=b("$InternalEnum")({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4});b=b("$InternalEnum")({VIEW_ONCE:0,ALLOW_REPLAY:1,KEEP_IN_CHAT:2});g.text=(h=d("MAWMsgType")).MSG_TYPE.TEXT;g.image=h.MSG_TYPE.IMAGE;g.video=h.MSG_TYPE.VIDEO;g.ptt=h.MSG_TYPE.PTT;g.unsent=h.MSG_TYPE.REVOKED;g.gif=h.MSG_TYPE.GIF;g.bumpExistingMessage=h.MSG_TYPE.BUMP_EXISTING_MESSAGE;g.getDisplayedContentTypes=a;g.isMediaMsg=c;g.isAdminMsg=e;g.isXMAMsg=f;g.isPlaceholder=l;g.MAWRavenActionNotifType=m;g.MAWRavenMsgEphemeralMediaState=n;g.MAWRavenMsgEphemeralType=b}),98);
__d("MAWRestoreDbState",["Deferred","FBLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=!1,j=new(c("Deferred"))();function a(){j.isSettled()||c("FBLogger")("messenger_e2ee_web").mustfix("isUsingShim called before db initted");return i}function b(){return!j.isSettled()?void 0:i}function d(){return j.getPromise().then(function(){return i})}function e(a){i=a,j.resolve()}function f(a){if(!c("gkx")("1159"))return;if(a==null){h=null;return}h=a}function k(){return!c("gkx")("1159")?null:h}g.isUsingShim_UNSAFE=a;g.isUsingShim_LOGGING_ONLY=b;g.isUsingShim=d;g.setIsUsingShim=e;g.setTargetDbState=f;g.getTargetDbState=k}),98);
__d("MAWQplProxy",["MAWBridge","MAWRestoreDbState","MAWSendQplToServer","QPLEvent","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(c=c("gkx")("23949"))!=null?c:!1,j=new Set([25313175,25310776,1056839232,1056840931,521485625,521480745,521478596,521479468,521485815]),k=0;function l(){return Date.now()}function m(a,b,c,e){var f;e===void 0&&(e=!0);f=(f=c==null?void 0:c.timestamp)!=null?f:l();d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:b,type:"point"},annotations:c==null?void 0:c.annotations,event:a,instanceKey:c==null?void 0:c.instanceKey,timestamp:e?f:void 0},!0)}function a(a,b,c,e){var f;d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"annotations"},annotations:{bool:(f={},f[b]=c,f)},event:a,instanceKey:e},!0)}function e(a,b,c,e){var f;d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"annotations"},annotations:{string:(f={},f[b]=c,f)},event:a,instanceKey:e},!0)}function f(a,b,c,e){var f;d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"annotations"},annotations:{"int":(f={},f[b]=c,f)},event:a,instanceKey:e},!0)}function n(a,b,c){d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"annotations"},annotations:{"double":b},event:a,instanceKey:c},!0)}function o(a,b,c){d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"annotations"},annotations:b,event:a,instanceKey:c},!0)}function p(a,b,c,e){var f=l();d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:b,type:"failure"},annotations:c,event:a,instanceKey:e,timestamp:f},!0)}function q(a,b,c,e){e===void 0&&(e=!0);var f=l();d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"success"},annotations:b,event:a,instanceKey:c,timestamp:e?f:void 0},!0)}function r(a,b,c){var e=l();d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"cancel"},annotations:b,event:a,instanceKey:c,timestamp:e},!0)}function s(a,b,c){d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:b,type:"error"},debugInfo:c==null?void 0:c.debugInfo,error:c==null?void 0:c.error,event:a,instanceKey:c==null?void 0:c.instanceKey},!0)}function t(a,b,c,d,e){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e){m(a,b+"_start",{annotations:d,instanceKey:e});d=(yield c());m(a,b+"_end",{instanceKey:e});return d});return u.apply(this,arguments)}function v(a,b,c,e,f){f===void 0&&(f=!0);c==null&&k++;var g=(c=c)!=null?c:k;if(!w(a))return d("MAWSendQplToServer").startQplUserFlow(a,b,g,e);c=l();d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"start"},annotations:b!=null?babelHelpers["extends"]({},b,{bool:babelHelpers["extends"]({},b.bool,{isUsingShim:d("MAWRestoreDbState").isUsingShim_LOGGING_ONLY()})}):{bool:{isUsingShim:d("MAWRestoreDbState").isUsingShim_LOGGING_ONLY()}},event:a,instanceKey:g,timeoutInMs:e,timestamp:f?c:void 0},!0);return{addAnnotations:function(b){return o(a,b,g)},addPoint:function(b,c){return m(a,b,{annotations:c,instanceKey:g})},endFail:function(b,c){return p(a,b,c,g)},endSuccess:function(b){return q(a,b,g)},markError:function(b,c,d){return s(a,b,{debugInfo:c,error:d,instanceKey:g})},startTime:c}}function w(a){return i||j.has((h||(h=d("QPLEvent"))).getMarkerId(a))}g.performanceAbsoluteNow=l;g.sendQplPointThroughBridge=m;g.sendQPLBoolAnnotationThroughBridge=a;g.sendQPLStringAnnotationThroughBridge=e;g.sendQPLIntAnnotationThroughBridge=f;g.sendQPLDoubleAnnotationsThroughBridge=n;g.sendQPLAnnotationsThroughBridge=o;g.sendQPLFailThroughBridge=p;g.sendQPLSuccessThroughBridge=q;g.sendQPLCancelThroughBridge=r;g.sendQPLErrorThroughBridge=s;g.measurePerfInQPL=t;g.startQplUserFlow=v}),98);
__d("MAWSendQplToServer",["MAWCurrentUser","MAWEBSwitch","MAWQplProxy","MAWRestoreDbState","QPLUserFlow","WAExceededStorageQuota","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=d("MAWQplProxy").performanceAbsoluteNow();c("QPLUserFlow").start(a,{annotations:babelHelpers["extends"]({},b||{},{bool:babelHelpers["extends"]({},(b==null?void 0:b.bool)||{},{is_eb_enabled:c("MAWEBSwitch").isEnabled(),is_pdb:c("gkx")("24032"),isDev:0,isGifSearchEnbled:!0,isM1M2OverrideUser:c("gkx")("23951"),isRestoreDBEnabled:d("MAWRestoreDbState").isUsingShim_LOGGING_ONLY(),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),pqOnReStore:c("gkx")("2163"),processAcksInOneQueue:c("gkx")("23955"),useSharedWorker:"SharedWorkerGlobalScope"in self&&self instanceof self.SharedWorkerGlobalScope})}),instanceKey:e,timeoutInMs:f,timestamp:g});return{addAnnotations:function(b){c("QPLUserFlow").addAnnotations(a,b,{instanceKey:e})},addPoint:function(b,f){var g=d("MAWQplProxy").performanceAbsoluteNow();f&&c("QPLUserFlow").addAnnotations(a,f,{instanceKey:e});c("QPLUserFlow").addPoint(a,b,{instanceKey:e,timestamp:g})},endFail:function(b,f){var g,h=d("MAWQplProxy").performanceAbsoluteNow();c("QPLUserFlow").addAnnotations(a,babelHelpers["extends"]({},f,{bool:babelHelpers["extends"]({},f==null?void 0:f.bool,{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}),string:babelHelpers["extends"]({},f==null?void 0:f.string,{threadID:f==null?void 0:(g=f.string)==null?void 0:g.jid})}),{instanceKey:e});c("QPLUserFlow").endFailure(a,b,{annotations:f,instanceKey:e,timestamp:h})},endSuccess:function(b){var f=d("MAWQplProxy").performanceAbsoluteNow();c("QPLUserFlow").addAnnotations(a,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:e});c("QPLUserFlow").endSuccess(a,{annotations:b,instanceKey:e,timestamp:f})},markError:function(b,d,f){return c("QPLUserFlow").markError(a,b,{debugInfo:d,error:f,instanceKey:e})},startTime:g}}g.startQplUserFlow=a}),98);
__d("MAWReceiveToUploadUtils",["I64","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;b=c("justknobx")._("1693");e=100;var i=(h||(h=d("I64"))).of_int32(e*100),j=h.of_int32(e*b),k=new RegExp(/^[1-9]{1}[0-9]*$/);function a(a){if(a==null)return!1;if(!k.test(a))return!1;try{a=(h||(h=d("I64"))).of_string(a);return h.compare(h.mod_(a,i),j)<0}catch(a){return!1}}g.checkUploadEligbility=a}),98);
__d("MAWSharedAsBackupMessage",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){d={frankingTag:d==null?void 0:d.frankingTag,reportingTag:d==null?void 0:d.reportingTag};d={frankingMetadata:d,messageId:b,senderId:a,timestampMs:c};return{metadata:d,payload:e}}f.asBackupMessage=a}),66);
__d("MAWSharedMsgIdUtil",["FBLogger","WAJids","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return JSON.stringify([a.author,a.chat,a.externalId])}function b(a){a=JSON.parse(a);if(!Array.isArray(a))throw c("FBLogger")("labyrinth_web").mustfixThrow("Unable to parse msg id string as proper json");if(a.length!==3)throw c("FBLogger")("labyrinth_web").mustfixThrow("Parsed array should have 3 components");var b=d("WAJids").unsafeCoerceToUserJid(a[0]),e=d("WAJids").unsafeCoerceToChatJid(a[1]);a=d("WAStanzaUtils").toStanzaId(a[2]);return{author:b,chat:e,externalId:a}}g.convertWAMsgIdToStringId=a;g.convertStringIdToWAMsgId=b}),98);
__d("WAArmadilloBackupMessage.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};a.internalSpec={metadata:[1,(e=d("WAProtoConst")).TYPES.MESSAGE,b],payload:[2,e.TYPES.BYTES]};b.internalSpec={senderId:[1,e.TYPES.STRING],messageId:[2,e.TYPES.STRING],timestampMs:[3,e.TYPES.INT64],frankingMetadata:[4,e.TYPES.MESSAGE,c],payloadVersion:[5,e.TYPES.INT32],futureProofBehavior:[6,e.TYPES.INT32]};c.internalSpec={frankingTag:[3,e.TYPES.BYTES],reportingTag:[4,e.TYPES.BYTES]};g.BackupMessageSpec=a;g.BackupMessage$MetadataSpec=b;g.BackupMessage$Metadata$FrankingMetadataSpec=c}),98);
__d("MAWSharedEbUploadEntity",["$InternalEnum","MAWSharedAsBackupMessage","MAWSharedMsgIdUtil","WAArmadilloBackupMessage.pb","WAGlobals","WAJids","WATimeUtils","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum").Mirrored(["NEEDS_BACKUP","COMPLETED","NEEDS_BACKUP_RETRY","PERMANENT_FAILURE","EXPIRED","THREAD_DELETED","DELETION_PURGED","MESSAGE_DELETED","UPLOADING"]);function a(a){var b=a.messageApplication,c=a.msgId,e=a.reportingMeta;a=a.serverTs;var f=d("WAJids").authorToUserId(c.author,d("WAJids").extractUserId(d("WAGlobals").getMyUserJid()));return d("encodeProtobuf").encodeProtobuf(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,d("MAWSharedAsBackupMessage").asBackupMessage(f,c.externalId,a,(f=e)!=null?f:{frankingKey:null,frankingTag:null,frankingVersion:null,reportingContent:null,reportingTag:null},b)).readByteArray()}function c(a){return a.buffer.slice(a.byteOffset,a.byteLength+a.byteOffset)}function e(a){var b=a.attachmentContext,c=a.backupDirective,e=a.instamadilloItemId,f=a.isOpenEB;f=f===void 0?!1:f;var g=a.msgId,i=a.originalMsgProtocolId,j=a.protobuf,k=a.senderId,l=a.serverTs;a=a.tags;e={backupActionType:c.actionType,failAcks:0,failTsMs:d("WATimeUtils").castToMillisTime(0),instamadilloItemId:e,isOpenEB:f,msgId:g,msgIdKey:d("MAWSharedMsgIdUtil").convertWAMsgIdToStringId(g),msgType:"text",originalMsgProtocolId:i,protobuf:j,senderId:k,serverTs:l,supplementalKey:c.supplementalKey,tags:a,uploadStatus:h.NEEDS_BACKUP,uploadTsSec:d("WATimeUtils").unixTime()};return b!=null?babelHelpers["extends"]({},e,{attachmentContext:b,msgType:"media"}):e}g.EbUploadStatus=h;g.encodeBackupMessage=a;g.getEbBackupMessageBytesBuffer=c;g.asEBUploadEntity=e}),98);
__d("MAWSharedProtocolQueueConst",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Initializing:"initializing",Failed:"failed",Processing:"processing",Complete:"complete"});f.OfflineConsumerStatus=a}),66);
__d("WAJobOrchestratorTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({SKIP:"SKIP_PRIORITIZATION",UI_ACTION:"UI_ACTION",LOW:"LOW",HIGH:"HIGH",OFFLINE:"OFFLINE",HISTORY_SYNC:"HISTORY_SYNC",BEST_EFFORT:"BEST_EFFORT"});c=1;d=a.LOW;e=10*1e3;f.JOB_PRIORITY=a;f.DEFAULT_CONCURRENCY=c;f.DEFAULT_JOB_PRIORITY=d;f.DEFAULT_JOB_TIMEOUT_MS=e}),66);
__d("MAWUIJob",["MAWBridge","WAJobOrchestratorTypes"],(function(a,b,c,d,e,f,g){"use strict";var h={priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION};a={fireAndForget:function(a){d("MAWBridge").getBridge().fireAndForget("backend","runJobFireAndForget",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:h}))},waitUntilCompleted:function(a){a=d("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilCompleted",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:h}));return a},waitUntilPersisted:function(a){a=d("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilPersisted",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:h}));return a}};g.UIJobStarters=a}),98);
__d("MAWTimedJob",["FBLogger","MAWMaybeWithTimeout","MAWUIJob","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4;a={fireAndForget:function(a,b){b===void 0&&(b=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){return d("MAWUIJob").UIJobStarters.fireAndForget(a)}),b,function(){throw c("FBLogger")("mpf_web_foundations").mustfixThrow("Failed to complete execution of job %s in time",a.type)},a.type)},waitUntilCompleted:function(a,b){b===void 0&&(b=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){return d("MAWUIJob").UIJobStarters.waitUntilCompleted(a)}),b,function(){throw c("FBLogger")("mpf_web_foundations").mustfixThrow("Failed to complete execution of job %s in time",a.type)},a.type)},waitUntilPersisted:function(a,b){b===void 0&&(b=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){return d("MAWUIJob").UIJobStarters.waitUntilPersisted(a)}),b,function(){throw c("FBLogger")("mpf_web_foundations").mustfixThrow("Failed to complete execution of job %s in time",a.type)},a.type)}};g.DEFAULT_TIMEOUT_MS=h;g.TimedUIJobStarters=a}),98);
__d("MAWTraceUtils",["LSDataTraceCheckPoint","LSDataTraceTag","LSIntEnum","LSRequestId","MAWBridge","MAWBridgeTrace","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";var h,i="backup_upload",j="media_backup",k="vesta_registration",l="vesta_login";function m(){return c("LSRequestId").generate()}function a(a,b,c){c=(c=c)!=null?c:m();d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"StartTraceWithTraceId",value:d("MAWBridgeTrace").createBridgeStartTraceWithTraceIdData(a,c,b)}]},!0);return c}function n(a,b,c,e,f){if(a!=null){c=c.length>0?c.map(function(a){return a.toString()}).join(","):void 0;d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"TraceRecordCheckpoint",value:d("MAWBridgeTrace").createBridgeTraceRecordCheckpointData(b,a,f,e,-1,c)}]},!0)}}function b(a,b,e,f){n(a,b,e,!1),n(a,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE),e,!0,f)}function e(a,b,e){n(a,b,e,!1),n(a,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH),e,!0)}function f(a,b,e){n(a,b,e,!1),n(a,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH),e,!0)}function o(a){switch(a){case d("MAWMsgType").MSG_TYPE.TEXT:return d("LSDataTraceTag").messageTypeText;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:return d("LSDataTraceTag").messageTypeFutureproof;case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:return d("LSDataTraceTag").messageTypeCiphertext;case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:return d("LSDataTraceTag").messageTypeUnavailable;case d("MAWMsgType").MSG_TYPE.IMAGE:return d("LSDataTraceTag").messageTypeImage;case d("MAWMsgType").MSG_TYPE.VIDEO:return d("LSDataTraceTag").messageTypeVideo;case d("MAWMsgType").MSG_TYPE.PTT:return d("LSDataTraceTag").messageTypePtt;case d("MAWMsgType").MSG_TYPE.ADMIN:return d("LSDataTraceTag").messageTypeAdmin;case d("MAWMsgType").MSG_TYPE.REVOKED:return d("LSDataTraceTag").messageTypeRevoked;case d("MAWMsgType").MSG_TYPE.GIF:return d("LSDataTraceTag").messageTypeGif;case d("MAWMsgType").MSG_TYPE.STICKER:return d("LSDataTraceTag").messageTypeSticker;case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return d("LSDataTraceTag").messageTypeExpiredEphemeral;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:return d("LSDataTraceTag").messageTypeEphemeralSettingAdmin;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:return d("LSDataTraceTag").messageTypeEphemeralSyncResponse;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:return d("LSDataTraceTag").messageTypeEphemeralScreenshotAction;case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:return d("LSDataTraceTag").messageTypeDeleteForMe;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:return d("LSDataTraceTag").messageTypeEphemeralSettingChangeFromCurrentDevice;case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:return d("LSDataTraceTag").messageTypeAlertICDC;case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:return d("LSDataTraceTag").messageTypeGroupInvite;case d("MAWMsgType").MSG_TYPE.XMA:return d("LSDataTraceTag").messageTypeXMA;case d("MAWMsgType").MSG_TYPE.REACTION:return d("LSDataTraceTag").messageTypeReaction;case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:return d("LSDataTraceTag").messageTypeSenderKeyDistribution;default:return d("LSDataTraceTag").messageTypeNone}}g.CONTEXT_BACKUP_UPLOAD=i;g.CONTEXT_MEDIA_BACKUP=j;g.CONTEXT_VESTA_REGISTRATION=k;g.CONTEXT_VESTA_LOGIN=l;g.createTraceId=m;g.startNewTrace=a;g.recordCheckpointForTrace=n;g.recordFailureAndFlushForTraceId=b;g.recordSuccessAndFlushForTraceId=e;g.recordInvalidUploadRequestAndFlushTrace=f;g.getTagForMsgType=o}),98);
__d("MAWTransactionMode",[],(function(a,b,c,d,e,f){"use strict";a="r";b="rw";f.READONLY=a;f.READWRITE=b}),66);
__d("MWEBODSEntityName.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({MW_EB_PIN_RESTORE_AUTH:"mw_eb_pin_restore_auth",MW_EB_RC_RESTORE_AUTH:"mw_eb_rc_restore_auth",MW_EB_AUTO_RESTORE_AUTH:"mw_eb_auto_restore_auth",MW_EB_OTC_AUTH:"mw_eb_otc_auth",MW_EB_ONBOARDING_AUTH:"mw_eb_onboarding_auth",MW_EBSM_HYDRATION:"mw_ebsm_hydration",MW_EBSM_IDB:"mw_eb_ebsm_idb",MAW_EB_UPLOAD_TRACKING:"maw_eb_upload_tracking",MAW_EB_UPLOAD_COUNTER:"maw_eb_upload_counter"});c=a;f["default"]=c}),66);
__d("PolarisEncryptedBackupsQPLEvents",["qpl"],(function(a,b,c,d,e,f,g){"use strict";b=(a=c("qpl"))._(832770348,"1880");d=a._(741085455,"166");e=a._(741087294,"2028");f=a._(521479842,"2163");c=a._(521482969,"1519");g.RestoreBackupQplEvent=b;g.SetupBackupQplEvent=d;g.SettingsQplEvent=e;g.InstamadilloDYIQplEvent=f;g.InstamadilloMessageRestoreQplEvent=c}),98);
__d("WACommon.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={EVERYONE:1,SILENT:2,AI:3,AI_IMAGINE:4};b={PLACEHOLDER:0,NO_PLACEHOLDER:1,IGNORE:2};c={};e={};f={};var h={};c.internalSpec={remoteJid:[1,(d=d("WAProtoConst")).TYPES.STRING],fromMe:[2,d.TYPES.BOOL],id:[3,d.TYPES.STRING],participant:[4,d.TYPES.STRING]};e.internalSpec={commandType:[1,d.TYPES.ENUM,a],offset:[2,d.TYPES.UINT32],length:[3,d.TYPES.UINT32],validationToken:[4,d.TYPES.STRING]};f.internalSpec={text:[1,d.TYPES.STRING],mentionedJid:[2,d.FLAGS.REPEATED|d.TYPES.STRING],commands:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,e]};h.internalSpec={payload:[1,d.TYPES.BYTES],version:[2,d.TYPES.INT32]};g.COMMAND_COMMAND_TYPE=a;g.FUTURE_PROOF_BEHAVIOR=b;g.MessageKeySpec=c;g.CommandSpec=e;g.MessageTextSpec=f;g.SubProtocolSpec=h}),98);
__d("WAArmadilloXMA.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={INFO:0,EYE_OFF:1,NEWS_OFF:2,WARNING:3,PRIVATE:4,NONE:5,MEDIA_LABEL:6,POST_COVER:7,POST_LABEL:8,WARNING_SCREENS:9};b={OPEN_NATIVE:11};c={SINGLE:0,HSCROLL:1,PORTRAIT:3,STANDARD_DXMA:12,LIST_DXMA:15,GRID:16};e={IG_STORY_PHOTO_MENTION:4,IG_SINGLE_IMAGE_POST_SHARE:9,IG_MULTIPOST_SHARE:10,IG_SINGLE_VIDEO_POST_SHARE:11,IG_STORY_PHOTO_SHARE:12,IG_STORY_VIDEO_SHARE:13,IG_CLIPS_SHARE:14,IG_IGTV_SHARE:15,IG_SHOP_SHARE:16,IG_PROFILE_SHARE:19,IG_STORY_PHOTO_HIGHLIGHT_SHARE:20,IG_STORY_VIDEO_HIGHLIGHT_SHARE:21,IG_STORY_REPLY:22,IG_STORY_REACTION:23,IG_STORY_VIDEO_MENTION:24,IG_STORY_HIGHLIGHT_REPLY:25,IG_STORY_HIGHLIGHT_REACTION:26,IG_EXTERNAL_LINK:27,IG_RECEIVER_FETCH:28,FB_FEED_SHARE:1e3,FB_STORY_REPLY:1001,FB_STORY_SHARE:1002,FB_STORY_MENTION:1003,FB_FEED_VIDEO_SHARE:1004,FB_GAMING_CUSTOM_UPDATE:1005,FB_PRODUCER_STORY_REPLY:1006,FB_EVENT:1007,FB_FEED_POST_PRIVATE_REPLY:1008,FB_SHORT:1009,FB_COMMENT_MENTION_SHARE:1010,MSG_EXTERNAL_LINK_SHARE:2e3,MSG_P2P_PAYMENT:2001,MSG_LOCATION_SHARING:2002,MSG_LOCATION_SHARING_V2:2003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:2004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:2005,MSG_RECEIVER_FETCH:2006,MSG_IG_MEDIA_SHARE:2007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:2008,MSG_REELS_LIST:2009,MSG_CONTACT:2010,MSG_THREADS_POST_SHARE:2011,MSG_FILE:2012,MSG_AVATAR_DETAILS:2013,MSG_AI_CONTACT:2014,MSG_MEMORIES_SHARE:2015,MSG_SHARED_ALBUM_REPLY:2016,RTC_AUDIO_CALL:3e3,RTC_VIDEO_CALL:3001,RTC_MISSED_AUDIO_CALL:3002,RTC_MISSED_VIDEO_CALL:3003,RTC_GROUP_AUDIO_CALL:3004,RTC_GROUP_VIDEO_CALL:3005,RTC_MISSED_GROUP_AUDIO_CALL:3006,RTC_MISSED_GROUP_VIDEO_CALL:3007,DATACLASS_SENDER_COPY:4e3};f={};var i={};f.internalSpec={associatedMessage:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,(d=d("WACommon.pb")).SubProtocolSpec],targetType:[2,h.TYPES.ENUM,e],targetUsername:[3,h.TYPES.STRING],targetId:[4,h.TYPES.STRING],targetExpiringAtSec:[5,h.TYPES.INT64],xmaLayoutType:[6,h.TYPES.ENUM,c],ctas:[7,h.FLAGS.REPEATED|h.TYPES.MESSAGE,i],previews:[8,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.SubProtocolSpec],titleText:[9,h.TYPES.STRING],subtitleText:[10,h.TYPES.STRING],maxTitleNumOfLines:[11,h.TYPES.UINT32],maxSubtitleNumOfLines:[12,h.TYPES.UINT32],favicon:[13,h.TYPES.MESSAGE,d.SubProtocolSpec],headerImage:[14,h.TYPES.MESSAGE,d.SubProtocolSpec],headerTitle:[15,h.TYPES.STRING],overlayIconGlyph:[16,h.TYPES.ENUM,a],overlayTitle:[17,h.TYPES.STRING],overlayDescription:[18,h.TYPES.STRING],sentWithMessageId:[19,h.TYPES.STRING],messageText:[20,h.TYPES.STRING],headerSubtitle:[21,h.TYPES.STRING],xmaDataclass:[22,h.TYPES.STRING],contentRef:[23,h.TYPES.STRING]};i.internalSpec={buttonType:[1,h.TYPES.ENUM,b],title:[2,h.TYPES.STRING],actionUrl:[3,h.TYPES.STRING],nativeUrl:[4,h.TYPES.STRING],ctaType:[5,h.TYPES.STRING],actionContentBlob:[6,h.TYPES.STRING]};g.EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH=a;g.EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE=b;g.EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE=c;g.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE=e;g.ExtendedContentMessageSpec=f;g.ExtendedContentMessage$CTASpec=i}),98);
__d("WABridgedAPI",["IWAAPI"],(function(a,b,c,d,e,f,g){"use strict";b={queryGroups:(a=d("IWAAPI")).makeBridgedApi("queryGroups"),preEstablishSession:a.makeBridgedApi("preEstablishSession"),getDevices:a.makeBridgedApi("getDevices"),removeCurrentDevice:a.makeBridgedApi("removeCurrentDevice"),removeDevice:a.makeBridgedApi("removeDevice"),getCurrentUserDeviceList:a.makeBridgedApi("getCurrentUserDeviceList")};c=b;g["default"]=c}),98);
__d("WAHashStringToNumber",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=0;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b|=0}return Math.abs(b)}f.hashStringToNumber=a}),66);
__d("WAHashUtils",["WABase64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("WABase64").encodeB64UrlSafe(a,b)}function b(a,b){return d("WABase64").encodeB64UrlSafe(a,b)}function c(a){return a}function e(a){return a}g.toPlaintextHash=a;g.toCiphertextHash=b;g.stringToPlaintextHash=c;g.toHashedPlaintextHash=e}),98);
__d("WAWorkerGlobalScope",[],(function(a,b,c,d,e,f){"use strict";a=function(){if(typeof window!=="undefined")return window;return typeof globalThis!=="undefined"?globalThis:self}();f.workerGlobalScope=a}),66);
__d("isGroupInvitesEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("125")===!0}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IGDSMetaGenAiPanoFilled24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"m15.795 5.206 1.897.854c.11.05.199.138.248.248l.854 1.897a.5.5 0 0 0 .912 0l.854-1.897a.494.494 0 0 1 .248-.248l1.897-.854a.5.5 0 0 0 0-.912l-1.897-.854a.494.494 0 0 1-.248-.248l-.854-1.897a.5.5 0 0 0-.912 0l-.853 1.896a.5.5 0 0 1-.25.25l-1.896.853a.5.5 0 0 0 0 .912Zm7.643 5.596a1.504 1.504 0 0 0-1.644-1.34 1.5 1.5 0 0 0-1.34 1.644A8.8 8.8 0 0 1 20.5 12c0 4.687-3.813 8.5-8.5 8.5S3.5 16.687 3.5 12 7.313 3.5 12 3.5c.302 0 .6.016.895.046a1.5 1.5 0 0 0 .304-2.984C12.805.522 12.405.5 12 .5 5.66.5.5 5.66.5 12S5.66 23.5 12 23.5 23.5 18.34 23.5 12c0-.405-.021-.805-.062-1.198Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("PolarisAppAttributionText.react",["fbt","IGDSExternalLinkPanoOutline24Icon.react","IGDSText.react","PolarisFastLink.react","PolarisLinkBuilder","PolarisLogger","PolarisViewpointReact.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useMemo;var k=b.useRef,l=b.c,m=h._("__JHASH__mrLy4FGHzkL__JHASH__");function a(a){var b=l(15),e=a.appId,f=a.appName,g=a.mediaId;a=a.showIcon;var h=a===void 0?!1:a,i=k(!1);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=[function(a){a.percentVisible>=1&&!i.current&&(d("PolarisLogger").logAction("thirdPartyAppAttributionImpression"),i.current=!0)}],b[0]=a):a=b[0];a=a;a=a;var n;b[1]!==e||b[2]!==g?(n=d("PolarisLinkBuilder").buildClipsAppPageLink(e,g),b[1]=e,b[2]=g,b[3]=n):n=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){d("PolarisLogger").logAction("thirdPartyAppAttributionClick")},b[4]=g):g=b[4];var o;b[5]!==h||b[6]!==f?(o=function(a){return j.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np",ref:a,children:[h===!0&&j.jsx("div",{className:"xw3qccf",children:j.jsx(c("IGDSExternalLinkPanoOutline24Icon.react"),{alt:m,size:12})}),j.jsx(c("IGDSText.react").Body2,{breakWord:!0,zeroMargin:!0,children:j.jsx("div",{className:"x1lliihq x6ikm8r x10wlt62 xlyipyv xuxw1ft","data-testid":void 0,children:j.jsx("span",{children:f})})})]})},b[5]=h,b[6]=f,b[7]=o):o=b[7];var p;b[8]!==a||b[9]!==e||b[10]!==o?(p=j.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:a,id:e,children:o}),b[8]=a,b[9]=e,b[10]=o,b[11]=p):p=b[11];b[12]!==n||b[13]!==p?(a=j.jsx(c("PolarisFastLink.react"),{href:n,onClick:g,children:p}),b[12]=n,b[13]=p,b[14]=a):a=b[14];return a}g["default"]=a}),226);
__d("PolarisPostContextFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostContextFragment",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostModalContext_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostModalContext_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostModalContext_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{args:null,kind:"FragmentSpread",name:"PolarisPostModalContextImpl_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostModalContext.next.react",["CometRelay","PolarisPostModalContext.react","PolarisPostModalContext_media.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var c=j(3),e=a.children;a=a.queryReference;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostModalContext_media.graphql"),a);var f;c[0]!==a||c[1]!==e?(f=k.jsx(d("PolarisPostModalContext.react").PostModalContext,{media$key:a,children:e},a.pk),c[0]=a,c[1]=e,c[2]=f):f=c[2];return f}g["default"]=a}),98);
__d("usePolarisIsOnPostPage",["useCurrentRouteEntityKey"],(function(a,b,c,d,e,f,g){"use strict";var h="post";function a(){var a=c("useCurrentRouteEntityKey")();a=a==null?void 0:a.entity_type;return a===h}g["default"]=a}),98);
__d("PolarisPostContext.react",["CometRelay","PolarisPostContextFragment.graphql","PolarisPostModalContext.next.react","PolarisUA","react","usePolarisIsOnFeedPage","usePolarisIsOnPostPage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useMemo;var k=e.useState,l=e.c,m=j.createContext({analyticsContext:"postPage",availableAudioTracks:[],controller:null,setAvailableAudioTracks:function(a){},setController:function(a){},setTargetAudioTrack:function(a){},shouldCapHeight:!0,targetAudioTrack:null});function a(a){var e=l(17),f=a.analyticsContext,g=a.children,i=a.currentSidecarIndex;a=a.queryReference;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostContextFragment.graphql"),a);var n=c("usePolarisIsOnFeedPage")(),o=c("usePolarisIsOnPostPage")(),p;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=[],e[0]=p):p=e[0];p=k(p);var q=p[0];p=p[1];var r=k(null),s=r[0];r=r[1];var t=k(null),u=t[0];t=t[1];var v;e[1]!==n||e[2]!==o?(v=n||o&&d("PolarisUA").isMobile(),e[1]=n,e[2]=o,e[3]=v):v=e[3];e[4]!==f||e[5]!==q||e[6]!==u||e[7]!==i||e[8]!==v||e[9]!==s?(n={analyticsContext:f,availableAudioTracks:q,controller:u,currentSidecarIndex:i,setAvailableAudioTracks:p,setController:t,setTargetAudioTrack:r,shouldCapHeight:v,targetAudioTrack:s},e[4]=f,e[5]=q,e[6]=u,e[7]=i,e[8]=v,e[9]=s,e[10]=n):n=e[10];o=n;p=o;e[11]!==a||e[12]!==g?(t=j.jsx(c("PolarisPostModalContext.next.react"),{queryReference:a,children:g}),e[11]=a,e[12]=g,e[13]=t):t=e[13];e[14]!==p||e[15]!==t?(r=j.jsx(m.Provider,{value:p,children:t}),e[14]=p,e[15]=t,e[16]=r):r=e[16];return r}g.PolarisPostContext=m;g.PolarisPostContextProvider=a}),98);
__d("PolarisAudioAttributionText.react",["IGDSMetaGenAiPanoFilled24Icon.react","IGDSMiddleDot.react","IGDSText.react","JSResourceForInteraction","PolarisClipsConstants","PolarisClipsHelpers","PolarisFastLink.react","PolarisIGCorePressable.react","PolarisLinkBuilder","PolarisPostContext.react","gkx","isTruthy","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l=c("JSResourceForInteraction")("PolarisVideoVariantSelector.react").__setRef("PolarisAudioAttributionText.react");function a(a){var b=a.audioArtist,e=a.audioID,f=a.audioName,g=a.isMediaOwnerOriginalSound,h=a.isMutedAudio,m=a.isOverMedia;m=m===void 0?!1:m;var n=a.isOwnerPrivate,o=a.muteAudioReason,p=a.onDisabledClipsAudioAttributionClick;a=a.shouldRenderAudioNameAsH2;var q=j(d("PolarisPostContext.react").PolarisPostContext),r=q.availableAudioTracks,s=q.controller,t=q.targetAudioTrack,u=c("gkx")("2602")&&r.some(function(a){return a.lang!==null&&a.role==="dub"})&&s!=null;q=c("useCometLazyDialog")(l);var v=q[0],w=q[1];k(function(){u&&w()},[v,w,u]);if(!d("PolarisClipsHelpers").hasAudioAttributionText({audioArtist:b,audioName:f,isMediaOwnerOriginalSound:g}))return null;if(u&&s!=null){q="Dubbed with Meta AI";q=i.jsxs("div",{style:{alignItems:"center",display:"flex"},children:[g===!0?i.jsx("div",{style:{paddingRight:6},children:i.jsx(c("IGDSMetaGenAiPanoFilled24Icon.react"),{alt:q,size:12})}):null,i.jsx(c("IGDSText.react").Body2,{color:m?"textOnMedia":"primaryText",elementType:c("isTruthy")(a)?"h2":void 0,children:g===!0?i.jsx("span",{children:q}):i.jsxs("span",{children:[b,i.jsx(c("IGDSMiddleDot.react"),{color:m?"textOnMedia":"primaryText"}),q]})})]});var x=function(){v({availableAudioTracks:r,controller:s,targetAudioTrack:t})};return i.jsx(c("PolarisIGCorePressable.react"),{onPress:x,children:q})}x=i.jsx(c("IGDSText.react").Body2,{color:m?"textOnMedia":"primaryText",elementType:c("isTruthy")(a)?"h2":void 0,zeroMargin:!0,children:i.jsx("div",{className:"x78zum5 xh8yej3","data-testid":void 0,children:g===!0?i.jsx("span",{className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft",children:f}):i.jsxs("span",{className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft",children:[b,i.jsx(c("IGDSMiddleDot.react"),{color:m?"textOnMedia":"primaryText"}),f]})})});var y=g===!0&&n===!0;q=function(){p&&p(y?d("PolarisClipsConstants").AUDIO_PAGE_DOES_NOT_EXIST_PRIVATE_USER:String(o))};return e!=null&&c("gkx")("3610")?y||h?i.jsx(c("PolarisIGCorePressable.react"),{onPress:q,children:x}):i.jsx(c("PolarisFastLink.react"),{className:"xh8yej3",href:d("PolarisLinkBuilder").buildClipsAudioPageLink(e),children:x}):x}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCoauthorSheet.react",["IGDSBox.react","IGDSListItem.react","IGDSText.react","IGDSVerifiedBadge.react","PolarisFastLink.react","PolarisFollowButtonContainer.react","PolarisIGCoreConstants","PolarisIGCoreSheetOrModal","PolarisLinkBuilder","PolarisLogger","PolarisUA","PolarisUserAvatar.react","nullthrows","qex","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a){var b=i(4);a=a.user;var d;b[0]!==a.relationship||b[1]!==a.id||b[2]!==a.username?(d=j.jsx(c("PolarisFollowButtonContainer.react"),{analyticsContext:"UNKNOWN__POLARIS_USER_BUTTON_SECTION",borderless:!1,isFollowing:a.relationship,isInline:!0,userId:a.id,username:a.username,useSmallText:!1}),b[0]=a.relationship,b[1]=a.id,b[2]=a.username,b[3]=d):d=b[3];return d}function l(a){var b=i(9);a=a.user;var d=a.isVerified;a=a.username;if(a===void 0)return null;var e;b[0]!==a?(e=j.jsx(c("IGDSText.react").BodyEmphasized,{zeroMargin:!0,children:a}),b[0]=a,b[1]=e):e=b[1];b[2]!==d?(a=d&&j.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),b[2]=d,b[3]=a):a=b[3];b[4]!==a?(d=j.jsx(c("IGDSBox.react"),{marginStart:2,children:a}),b[4]=a,b[5]=d):d=b[5];b[6]!==e||b[7]!==d?(a=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[e,d]}),b[6]=e,b[7]=d,b[8]=a):a=b[8];return a}function m(a){var b=i(2);a=a.user;a=a.fullName;if(a==null)return null;var d;b[0]!==a?(d=j.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:j.jsx(c("IGDSText.react").Body,{color:"secondaryText",zeroMargin:!0,children:a})}),b[0]=a,b[1]=d):d=b[1];return d}function n(a){var b,e=i(28),f=a.onClick;a=a.user;var g=a.profilePictureUrl,h=a.username;b=((b=c("usePolarisViewer")())==null?void 0:b.id)===a.id;var n;e[0]!==b||e[1]!==a?(n=!b&&c("qex")._("384")?j.jsx(k,{user:a}):null,e[0]=b,e[1]=a,e[2]=n):n=e[2];e[3]!==g||e[4]!==h?(b=j.jsx(c("PolarisUserAvatar.react"),{isLink:!0,profilePictureUrl:g,size:c("PolarisIGCoreConstants").AVATAR_SIZES.medium,username:h}),e[3]=g,e[4]=h,e[5]=b):b=e[5];e[6]!==f?(g=function(){f()},e[6]=f,e[7]=g):g=e[7];var o;e[8]!==h?(o=d("PolarisLinkBuilder").buildUserLink(h),e[8]=h,e[9]=o):o=e[9];var p;e[10]!==a?(p=j.jsx(m,{user:a}),e[10]=a,e[11]=p):p=e[11];var q;e[12]!==o||e[13]!==p?(q=j.jsx(c("PolarisFastLink.react"),{href:o,children:p}),e[12]=o,e[13]=p,e[14]=q):q=e[14];e[15]!==h?(o=d("PolarisLinkBuilder").buildUserLink(h),e[15]=h,e[16]=o):o=e[16];e[17]!==a?(p=j.jsx(l,{user:a}),e[17]=a,e[18]=p):p=e[18];e[19]!==o||e[20]!==p?(h=j.jsx(c("PolarisFastLink.react"),{href:o,children:p}),e[19]=o,e[20]=p,e[21]=h):h=e[21];e[22]!==n||e[23]!==b||e[24]!==g||e[25]!==q||e[26]!==h?(a=j.jsx(c("IGDSListItem.react"),{addOnEnd:n,addOnStart:b,onPress:g,subtitle:q,testid:void 0,title:h}),e[22]=n,e[23]=b,e[24]=g,e[25]=q,e[26]=h,e[27]=a):a=e[27];return a}function o(a){var b=i(6),e=a.coauthors,f=a.mediaId;a=a.mediaOwner;var g;b[0]!==f?(g=function(){d("PolarisLogger").logAction("coauthorSheetItemClick",{mediaId:f,source:"CoauthorSheetItems"})},b[0]=f,b[1]=g):g=b[1];var h=g;if(b[2]!==e||b[3]!==a||b[4]!==h){g=[].concat(e);g.unshift(a);g=g.map(function(a){a=c("nullthrows")(a);a=a.user;return j.jsx(n,{onClick:h,user:a},a.id)});b[2]=e;b[3]=a;b[4]=h;b[5]=g}else g=b[5];return g}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){d("PolarisLogger").logAction("coauthorSheetImpression",{mediaId:this.props.mediaId,numCoauthors:this.props.coauthors.length,source:"CoauthorSheet"})};e.render=function(){var a=this.props,b=a.coauthors,e=a.mediaId,f=a.mediaOwner,g=a.onClose;a=a.title;return j.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:g,title:a,children:j.jsx(c("IGDSBox.react"),{flex:"grow",marginBottom:d("PolarisUA").isMobile()?6:void 0,overflow:"auto",children:j.jsx(o,{coauthors:b,mediaId:e,mediaOwner:f})})})};return b}(j.PureComponent);g.Username=l;g.CoauthorSheetItem=n;g.CoauthorSheetItems=o;g.CoauthorSheet=a}),98);
__d("PolarisCoauthorCountWithSheet.react",["fbt","IGDSText.react","PolarisCoauthorSheet.react","PolarisFastLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__knipFRoxAOv__JHASH__");function l(a){return h._("__JHASH__gVvWvw7eP27__JHASH__",[h._param("num_coauthors",a)])}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isCoauthorSheetOpen:!1},c.$1=function(){c.props.onClick!=null&&c.props.onClick(),c.props.disableSheet!==!0&&c.setState({isCoauthorSheetOpen:!0})},c.$2=function(){c.setState({isCoauthorSheetOpen:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){return j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisFastLink.react"),{onClick:this.$1,children:j.jsx(c("IGDSText.react").BodyEmphasized,{color:"primaryText",children:l(this.props.coauthors.length)})}),this.state.isCoauthorSheetOpen&&j.jsx(d("PolarisCoauthorSheet.react").CoauthorSheet,{coauthors:this.props.coauthors,mediaId:this.props.mediaId,mediaOwner:this.props.mediaOwner,onClose:this.$2,title:k})]})};return b}(j.PureComponent);g["default"]=a}),226);
__d("PolarisCommentButton.react",["fbt","IGDSCommentPanoOutlineIcon.react","IGDSIconButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=h._("__JHASH__DRKjP2-nYQr__JHASH__");function a(a){var b=j(10),d=a.className,e=a["data-testid"],f=a.onClick;b[0]!==f?(a=function(a){a.preventDefault(),f(a)},b[0]=f,b[1]=a):a=b[1];a=a;var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("IGDSCommentPanoOutlineIcon.react"),{alt:l,color:"ig-secondary-text",size:24}),b[2]=g):g=b[2];var h;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=k.jsx(c("IGDSCommentPanoOutlineIcon.react"),{alt:l,color:"ig-primary-text",size:24}),b[3]=h):h=b[3];b[4]!==a?(g=k.jsx(c("IGDSIconButton.react"),{hover:g,onClick:a,children:h}),b[4]=a,b[5]=g):g=b[5];b[6]!==d||b[7]!==e||b[8]!==g?(h=k.jsx("span",{className:d,"data-testid":void 0,children:g}),b[6]=d,b[7]=e,b[8]=g,b[9]=h):h=b[9];return h}g["default"]=a}),226);
__d("PolarisFeedCardProvider.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useState,k=b.c,l=i.createContext({isCaptionMoreClicked:!1,isCarouselCardVisible:!1,isMediaRendered:null,setIsCaptionMoreClicked:c("emptyFunction"),setIsCarouselCardVisible:c("emptyFunction"),setIsMediaRendered:null});function a(a){var b=k(7);a=a.children;var c=j(null),d=c[0];c=c[1];var e=j(!1),f=e[0];e=e[1];var g=j(!0),h=g[0];g=g[1];b[0]!==f||b[1]!==h||b[2]!==d?(e={isCaptionMoreClicked:f,isCarouselCardVisible:h,isMediaRendered:d,setIsCaptionMoreClicked:e,setIsCarouselCardVisible:g,setIsMediaRendered:c},b[0]=f,b[1]=h,b[2]=d,b[3]=e):e=b[3];g=e;c=g;b[4]!==c||b[5]!==a?(f=i.jsx(l.Provider,{value:c,children:a}),b[4]=c,b[5]=a,b[6]=f):f=b[6];return f}g.PolarisFeedCardContext=l;g.PolarisFeedCardProvider=a}),98);
__d("PolarisLikedByListActions",["PolarisInstapi","PolarisMonitorErrors","PolarisRelationshipActionGetRelationshipInfoForUserIds","PolarisUserModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return{searchInput:b,shortcode:a,type:"LIKED_BY_LIST_SEARCH_INPUT_SET"}}function e(a){return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){try{e=(yield d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/likers/",{path:{media_id:a}}));e=(e=(e=e.data.users)==null?void 0:e.map(function(a){return c("PolarisUserModel").fromNativeResponse(a).toReduxStore()}))!=null?e:[];var f=e.map(function(a){return a.id});yield b(d("PolarisRelationshipActionGetRelationshipInfoForUserIds").getRelationshipInfoForUserIds(f));b({mediaId:a,type:"LIKED_BY_LIST_NATIVE_REQUEST_UPDATED",users:e})}catch(a){d("PolarisMonitorErrors").logError(a)}});return function(a,b){return e.apply(this,arguments)}}()}g.setSearchInput=a;g.requestNativeLikedByList=e}),98);
__d("PolarisLikedByListButton.react",["IGDSText.react","PolarisFastLink.react","PolarisUA","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(10),e=a.children,f=a.code,g=a.inModal;a=a.onClick;var h=c("usePolarisViewer")();f="/p/"+f+"/liked_by/";var k;b[0]!==h||b[1]!==g?(k=!h&&g!==!0||d("PolarisUA").isDesktop(),b[0]=h,b[1]=g,b[2]=k):k=b[2];b[3]!==e?(h=j.jsx(c("IGDSText.react"),{weight:"semibold",zeroMargin:!0,children:e}),b[3]=e,b[4]=h):h=b[4];b[5]!==f||b[6]!==a||b[7]!==k||b[8]!==h?(g=j.jsx(c("PolarisFastLink.react"),{href:f,onClick:a,shouldOpenModal:k,children:h}),b[5]=f,b[6]=a,b[7]=k,b[8]=h,b[9]=g):g=b[9];return g}g["default"]=a}),98);
__d("PolarisLikedByText.react",["fbt","IGDSButton.react","IGDSText.react","PolarisBigNumber.react","PolarisFastLink.react","PolarisLikedByListButton.react","PolarisLinkBuilder","PolarisLogger","PolarisPostUtils","PolarisUserLink.react","PolarisUserLinkWithHoverCard.react","nullthrows","react","useCurrentRoute","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function l(a){var b=j(5);a=a.user;var d;b[0]!==a.username?(d=c("nullthrows")(a.username),b[0]=a.username,b[1]=d):d=b[1];var e;b[2]!==a.id||b[3]!==d?(e=k.jsx(c("PolarisUserLinkWithHoverCard.react"),{userId:a.id,username:d}),b[2]=a.id,b[3]=d,b[4]=e):e=b[4];return e}var m=function(){d("PolarisLogger").logAction("likeCountClick")};function a(a){var b=j(53),e=a.code,f=a.hideCounts,g=a.inModal,i=a.onClick,n=a.onLike,o=a.topLikers,p=a.totalCount;a=a.users;var q=c("usePolarisViewer")(),r=c("useCurrentRoute")();r=r==null?void 0:r.url;var s=d("PolarisPostUtils").getOrderedUsersForLikedByList(a,q);if(p===1){var t;b[0]!==p?(t=h._("__JHASH__zesVpNWdLc7__JHASH__",[h._param("count",p)]),b[0]=p,b[1]=t):t=b[1];t=t}else if(f){var u;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(u=h._("__JHASH__NVsWra1TrS4__JHASH__"),b[2]=u):u=b[2];t=u}else{b[3]!==p?(u=h._("__JHASH__yx6RcYfWPfd__JHASH__",[h._param("count",k.jsx(c("PolarisBigNumber.react"),{value:p}))]),b[3]=p,b[4]=u):u=b[4];t=u}u=p!==0&&a.length===0&&!f;if(u){b[5]!==e||b[6]!==g||b[7]!==i||b[8]!==t?(a=k.jsx(c("PolarisLikedByListButton.react"),{code:e,inModal:g,onClick:i,children:t}),b[5]=e,b[6]=g,b[7]=i,b[8]=t,b[9]=a):a=b[9];return a}else if(p===0){if(q){b[10]!==n?(u=h._("__JHASH__zPcIHFAljfW__JHASH__",[h._param("like this",k.jsx(c("IGDSButton.react"),{display:"block",label:h._("__JHASH__W_f8r2RdLZ8__JHASH__"),onClick:n,variant:"secondary_link"}))]),b[10]=n,b[11]=u):u=b[11];return u}b[12]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__rkOqXU3D6LE__JHASH__"),b[12]=a):a=b[12];q=k.jsx(c("PolarisFastLink.react"),{href:d("PolarisLinkBuilder").buildLoginLink(r,{source:"post_likers"}),children:a});return h._("__JHASH__VVvwm-KPzHp__JHASH__",[h._param("Log in",q)])}else if(p===1&&f){if(o!=null&&o.length===1){n=o[0];b[13]!==n?(u=k.jsx(c("IGDSText.react"),{weight:"semibold",children:n}),b[13]=n,b[14]=u):u=b[14];b[15]!==n||b[16]!==u?(r=k.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",username:n,children:u}),b[15]=n,b[16]=u,b[17]=r):r=b[17];a=r;b[18]!==a?(q=h._("__JHASH__q4wDyrHVOdd__JHASH__",[h._param("username",a)]),b[18]=a,b[19]=q):q=b[19];return q}else if(s.length===1){b[20]!==s?(n=h._("__JHASH__q4wDyrHVOdd__JHASH__",[h._param("username",k.jsx(l,{user:s[0]}))]),b[20]=s,b[21]=n):n=b[21];return n}}else if((s.length>=1||f&&o!=null&&o.length>=1)&&(p>=2||p===-1)){if(f)if(s.length===2&&p===2){u=s[0];b[22]!==u?(r=k.jsx(l,{user:u}),b[22]=u,b[23]=r):r=b[23];a=r;q=s[1];b[24]!==q?(n=k.jsx(l,{user:q}),b[24]=q,b[25]=n):n=b[25];u=n}else{b[26]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__qkGZoir7PES__JHASH__"),b[26]=r):r=b[26];q=r;b[27]!==e||b[28]!==g||b[29]!==i||b[30]!==q?(n=k.jsx(c("PolarisLikedByListButton.react"),{code:e,inModal:g,onClick:i,children:q}),b[27]=e,b[28]=g,b[29]=i,b[30]=q,b[31]=n):n=b[31];u=n;if(o!=null&&o.length>=1){r=o[0];b[32]!==r?(n=k.jsx(c("IGDSText.react"),{weight:"semibold",children:r}),b[32]=r,b[33]=n):n=b[33];b[34]!==r||b[35]!==n?(o=k.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",username:r,children:n}),b[34]=r,b[35]=n,b[36]=o):o=b[36];a=o}else{r=s[0];b[37]!==r?(n=k.jsx(l,{user:r}),b[37]=r,b[38]=n):n=b[38];a=n}}else{b[39]!==p?(o=p>2?h._("__JHASH__TqguRNzb8Vy__JHASH__",[h._param("count",k.jsx(c("PolarisBigNumber.react"),{value:p-1}))]):h._("__JHASH__FHgoDdBvGlx__JHASH__"),b[39]=p,b[40]=o):o=b[40];q=o;b[41]!==e||b[42]!==g||b[43]!==i||b[44]!==q?(r=k.jsx(c("PolarisLikedByListButton.react"),{code:e,inModal:g,onClick:i,children:q}),b[41]=e,b[42]=g,b[43]=i,b[44]=q,b[45]=r):r=b[45];u=r;n=s[0];b[46]!==n?(p=k.jsx(l,{user:n}),b[46]=n,b[47]=p):p=b[47];a=p}b[48]!==a||b[49]!==u?(o=h._("__JHASH__ULbzii5uqUI__JHASH__",[h._param("username",a),h._param("other users",u)]),b[48]=a,b[49]=u,b[50]=o):o=b[50];return o}if(f)return null;b[51]!==t?(e=k.jsx(c("IGDSButton.react"),{display:"block",label:t,onClick:m,variant:"secondary_link"}),b[51]=t,b[52]=e):e=b[52];return e}g["default"]=a}),226);
__d("PolarisLineClampText.react",["fbt","CometLineClamp.react","IGDSText.react","PolarisIGCorePressable.react","PolarisIGCoreText","PolarisUserText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useState,l=b.c,m=2,n=1e4;function a(a){var b=l(27),d,e,f,g,i;b[0]!==a?(d=a.lines,i=a.prependElement,f=a.color,g=a.value,e=babelHelpers.objectWithoutPropertiesLoose(a,["lines","prependElement","color","value"]),b[0]=a,b[1]=d,b[2]=e,b[3]=f,b[4]=g,b[5]=i):(d=b[1],e=b[2],f=b[3],g=b[4],i=b[5]);a=d===void 0?m:d;d=k(!1);var o=d[0],p=d[1];b[6]!==e||b[7]!==f||b[8]!==g?(d=j.jsx(c("PolarisUserText.react"),babelHelpers["extends"]({},e,{color:f,display:"inline",headlineTag:"h1",size:"body",value:g})),b[6]=e,b[7]=f,b[8]=g,b[9]=d):d=b[9];e=d;g=f==="ig-text-on-media"?"textOnMedia":"secondaryText";b[10]!==o?(d=function(){return p(!o)},b[10]=o,b[11]=d):d=b[11];var q;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(q={display:"inline"},b[12]=q):q=b[12];a=o?n:a;var r;b[13]!==a||b[14]!==i||b[15]!==e?(r=j.jsxs(c("CometLineClamp.react"),{lines:a,children:[i,e]}),b[13]=a,b[14]=i,b[15]=e,b[16]=r):r=b[16];b[17]!==o||b[18]!==g?(a=!o&&j.jsx(c("IGDSText.react"),{color:g,textAlign:"start",zeroMargin:!0,children:h._("__JHASH__o8KDH-tdLwt__JHASH__")}),b[17]=o,b[18]=g,b[19]=a):a=b[19];b[20]!==d||b[21]!==r||b[22]!==a?(i=j.jsxs(c("PolarisIGCorePressable.react"),{onPress:d,style:q,children:[r,a]}),b[20]=d,b[21]=r,b[22]=a,b[23]=i):i=b[23];b[24]!==f||b[25]!==i?(e=j.jsx(c("PolarisIGCoreText"),{color:f,display:"inline",zeroMargin:!0,children:i}),b[24]=f,b[25]=i,b[26]=e):e=b[26];return e}g["default"]=a}),226);
__d("PolarisLoggedOutUserTagIndicator.react",["PolarisConfig","PolarisLoggedOutCtaLogger","PolarisNavigationActions","PolarisReactRedux.react","PolarisUA","PolarisUserTagIndicator.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function a(a){var b=j(7),e=a.analyticsContext,f=a.defaultOnClick;a=a.visible;a=a===void 0?!0:a;var g=d("PolarisReactRedux.react").useDispatch(),h;b[0]!==e||b[1]!==g||b[2]!==f?(h=function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"user_action",ctaVersion:"",eventName:"tagged_icon_click",module:e||""}),d("PolarisUA").isDesktop()&&!d("PolarisConfig").isLoggedOutFRXEligible()?g(d("PolarisNavigationActions").openLoginModal("feature_wall",window.location.href,"post_tagged")):f!=null&&f()},b[0]=e,b[1]=g,b[2]=f,b[3]=h):h=b[3];h=h;var k;b[4]!==h||b[5]!==a?(k=i.jsx(c("PolarisUserTagIndicator.react"),{absolute:!0,onClick:h,visible:a}),b[4]=h,b[5]=a,b[6]=k):k=b[6];return k}g["default"]=a}),98);
__d("PolarisUserTagSheet.react",["IGDSBox.react","IGDSListItem.react","IGDSText.react","IGDSVerifiedBadge.react","PolarisIGCoreConstants","PolarisIGCoreSheetOrModal","PolarisLinkBuilder","PolarisLogger","PolarisUA","PolarisUserAvatar.react","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a){var b=i(9);a=a.user;var d=a.isVerified;a=a.username;if(a===void 0)return null;var e;b[0]!==a?(e=j.jsx(c("IGDSText.react").BodyEmphasized,{zeroMargin:!0,children:a}),b[0]=a,b[1]=e):e=b[1];b[2]!==d?(a=d&&j.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),b[2]=d,b[3]=a):a=b[3];b[4]!==a?(d=j.jsx(c("IGDSBox.react"),{marginStart:2,children:a}),b[4]=a,b[5]=d):d=b[5];b[6]!==e||b[7]!==d?(a=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[e,d]}),b[6]=e,b[7]=d,b[8]=a):a=b[8];return a}function l(a){var b=i(17),e=a.onClick;a=a.user;var f=a.fullName,g=a.profilePictureUrl,h=a.username,l;b[0]!==g||b[1]!==h?(l=j.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:g,size:c("PolarisIGCoreConstants").AVATAR_SIZES.medium,username:h}),b[0]=g,b[1]=h,b[2]=l):l=b[2];b[3]!==h?(g=d("PolarisLinkBuilder").buildUserLink(h),b[3]=h,b[4]=g):g=b[4];b[5]!==g?(h={url:g},b[5]=g,b[6]=h):h=b[6];b[7]!==e?(g=function(){e()},b[7]=e,b[8]=g):g=b[8];var m;b[9]!==a?(m=j.jsx(k,{user:a}),b[9]=a,b[10]=m):m=b[10];b[11]!==l||b[12]!==h||b[13]!==g||b[14]!==f||b[15]!==m?(a=j.jsx(c("IGDSListItem.react"),{addOnStart:l,linkProps:h,onPress:g,subtitle:f,testid:void 0,title:m}),b[11]=l,b[12]=h,b[13]=g,b[14]=f,b[15]=m,b[16]=a):a=b[16];return a}function m(a){var b=i(7),e=a.mediaId;a=a.usertags;var f;b[0]!==e?(f=function(){d("PolarisLogger").logAction("userTagSheetItemClick",{mediaId:e,source:"UserTagSheetItems"})},b[0]=e,b[1]=f):f=b[1];var g=f;if(b[2]!==g||b[3]!==a){b[5]!==g?(f=function(a){a=c("nullthrows")(a);a=a.user;return j.jsx(l,{onClick:g,user:a},a.id)},b[5]=g,b[6]=f):f=b[6];f=a.map(f);b[2]=g;b[3]=a;b[4]=f}else f=b[4];return f}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){d("PolarisLogger").logAction("userTagSheetImpression",{mediaId:this.props.mediaId,numUsertags:this.props.usertags.length,source:"UserTagSheet"})};e.render=function(){var a=this.props,b=a.mediaId,e=a.onClose,f=a.title;a=a.usertags;return j.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:e,title:f,children:j.jsx(c("IGDSBox.react"),{flex:"grow",marginBottom:d("PolarisUA").isMobile()?6:void 0,overflow:"auto",children:j.jsx(m,{mediaId:b,usertags:a})})})};return b}(j.PureComponent);g.Username=k;g.UserTagSheetItem=l;g.UserTagSheetItems=m;g.UserTagSheet=a}),98);
__d("PolarisUserTagIndicatorWithSheet.react",["fbt","PolarisUserTagIndicator.react","PolarisUserTagSheet.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__k2FQhmyaBWn__JHASH__");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$1=function(){c.props.onClick!=null&&c.props.onClick(),c.props.disableSheet!==!0&&c.setState({isUserTagSheetOpen:!0})};c.$2=function(){c.setState({isUserTagSheetOpen:!1})};c.state={isUserTagSheetOpen:!1};return c}var e=b.prototype;e.render=function(){return j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisUserTagIndicator.react"),{absolute:!0,onClick:this.$1}),this.state.isUserTagSheetOpen&&j.jsx(d("PolarisUserTagSheet.react").UserTagSheet,{mediaId:this.props.mediaId,onClose:this.$2,title:k,usertags:this.props.usertags})]})};return b}(j.PureComponent);g["default"]=a}),226);
__d("PolarisLoggedOutUserTagIndicatorWithSheet.react",["PolarisConfig","PolarisLoggedOutCtaLogger","PolarisNavigationActions","PolarisReactRedux.react","PolarisUA","PolarisUserTagIndicatorWithSheet.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function a(a){var b=j(10),e=a.analyticsContext,f=a.mediaId,g=a.post;a=a.usertags;var h=d("PolarisReactRedux.react").useDispatch(),k;b[0]!==e||b[1]!==h?(k=function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"user_action",ctaVersion:"",eventName:"tagged_icon_click",module:e||""}),d("PolarisUA").isDesktop()&&!d("PolarisConfig").isLoggedOutFRXEligible()&&h(d("PolarisNavigationActions").openLoginModal("feature_wall",window.location.href,"post_tagged"))},b[0]=e,b[1]=h,b[2]=k):k=b[2];k=k;var l;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("PolarisUA").isDesktop(),b[3]=l):l=b[3];b[4]!==e||b[5]!==f||b[6]!==k||b[7]!==g||b[8]!==a?(l=i.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{analyticsContext:e,disableSheet:l,mediaId:f,onClick:k,post:g,usertags:a}),b[4]=e,b[5]=f,b[6]=k,b[7]=g,b[8]=a,b[9]=l):l=b[9];return l}g["default"]=a}),98);
__d("PolarisMediaVideo.react",["cr:6866","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:6866")}),98);
__d("PolarisUserTagInner.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props,b=a.isPointingUp,c=a.pointerStyle;a=a.username;return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:(b?"_aa21":"")+(b?"":" _aa22")+" _aa23",style:c}),j.jsx("span",{className:"_aa24",children:a})]})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisUserTag.react",["cx","PolarisFastLink.react","PolarisUserTagInner.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function l(a){var b=j(28),d=a.action,e=a.className,f=a.forwardedRef,g=a.isPointingUp,h=a.isShowingTags,i=a.pointerStyle,l=a.style;a=a.user;var m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(a,b,d,e){return k.jsxs("span",{className:"_aa1p",children:[k.jsx(c("PolarisUserTagInner.react"),{isPointingUp:a,pointerStyle:b,username:d}),e]})},b[0]=m):m=b[0];m=m;a=a.username;if(d!=null){var n;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(n="_aa1q",b[1]=n):n=b[1];var o;b[2]!==g||b[3]!==i||b[4]!==a||b[5]!==d?(o=m(g,i,a,d),b[2]=g,b[3]=i,b[4]=a,b[5]=d,b[6]=o):o=b[6];b[7]!==o?(d=k.jsx("div",{className:n,children:o}),b[7]=o,b[8]=d):d=b[8];b[9]!==e||b[10]!==f||b[11]!==l||b[12]!==d?(n=k.jsx("div",{className:e,ref:f,style:l,children:d}),b[9]=e,b[10]=f,b[11]=l,b[12]=d,b[13]=n):n=b[13];return n}b[14]===Symbol["for"]("react.memo_cache_sentinel")?(o="_aa1q",b[14]=o):o=b[14];d="/"+a+"/";b[15]!==g||b[16]!==i||b[17]!==a?(n=m(g,i,a),b[15]=g,b[16]=i,b[17]=a,b[18]=n):n=b[18];b[19]!==h||b[20]!==d||b[21]!==n?(m=k.jsx(c("PolarisFastLink.react"),{canTabFocus:h,className:o,href:d,children:n}),b[19]=h,b[20]=d,b[21]=n,b[22]=m):m=b[22];b[23]!==e||b[24]!==f||b[25]!==l||b[26]!==m?(g=k.jsx("div",{className:e,ref:f,style:l,children:m}),b[23]=e,b[24]=f,b[25]=l,b[26]=m,b[27]=g):g=b[27];return g}a=k.forwardRef(function(a,b){var c=j(3),d;c[0]!==a||c[1]!==b?(d=k.jsx(l,babelHelpers["extends"]({},a,{forwardedRef:b})),c[0]=a,c[1]=b,c[2]=d):d=c[2];return d});g["default"]=a}),98);
__d("PolarisPhotoWithIndicator.react",["cx","PolarisBatchDOM","PolarisConfig","PolarisEventLoop","PolarisLoggedOutCtaLogger","PolarisLoggedOutUserTagIndicator.react","PolarisNavigationActions","PolarisPhoto.react","PolarisReactRedux.react","PolarisUA","PolarisUpcomingEventIndicatorWithSheetOrModal.react","PolarisUserTag.react","PolarisUserTagIndicator.react","joinClasses","polarisOnlyHandleSingleClick","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=.04,l=2e3,m=-50,n={horizontalOffset:m,isPointingUp:!0},o=.85,p=6;function q(a,b){b=b+k/2;var c=b>a,d=b>1-a;c=c||d;return c?d?m+(m-100*k)*(1-(1-a)/b):m-(m-100*k)*(1-a/b):m}b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state={isShowingIndicator:!0,isShowingTags:!1,tagAdjustments:new Map()},c.$3=new Map(),c.$11=function(){c.setState({isShowingIndicator:!1}),c.$8()},c.$7=d("polarisOnlyHandleSingleClick").onlyHandleSingleClick(function(){if(!d("PolarisConfig").isLoggedIn()&&d("PolarisUA").isDesktop()){c.$12();return}var a=c.props,b=a.alwaysShowIndicator;a=a.usertags;var e=c.state.isShowingTags;if(a&&a.length>0){a=!e;c.$8();c.setState({isShowingIndicator:a||b,isShowingTags:a})}}),b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidUpdate=function(a){a.isVisible&&!this.props.isVisible?this.$4():!a.isVisible&&this.props.isVisible&&this.$5()};e.componentDidMount=function(){this.$6()};e.componentWillUnmount=function(){this.$7.cancel(),this.$8()};e.$9=function(a){return{height:a.offsetHeight,left:a.offsetLeft,top:a.offsetTop,width:a.offsetWidth}};e.$6=function(){var a=this;d("PolarisBatchDOM").mutate(function(){if(!a.$2)return;var b=a.$9(a.$2),c=new Map();a.$3.forEach(function(d,e){d=a.$9(d);var f=d.top/b.height<=o,g=d.width/b.width/2;d=d.left/b.width;d=q(d,g);c.set(e,{horizontalOffset:d,isPointingUp:f})});a.setState({tagAdjustments:c})})};e.$10=function(){this.$1||(this.$1=c("PolarisEventLoop").setTimeout(this.$11,l))};e.$8=function(){this.$1&&(c("PolarisEventLoop").clearTimeout(this.$1),this.$1=null)};e.$12=function(){var a=this.props,b=a.analyticsContext;a=a.onLoggedOutIntentClickLoginModal;d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"user_action",ctaVersion:"",eventName:"tagged_icon_click",module:b||""});a("post_tagged")};e.$5=function(){!this.state.isShowingTags&&!this.props.alwaysShowIndicator&&this.$10()};e.$4=function(){this.state.isShowingTags||(this.$8(),this.setState({isShowingIndicator:!0}))};e.$13=function(){var a=this;return!this.props.usertags?null:this.props.usertags.map(function(b){var d=r(b),e=a.state.tagAdjustments.get(d)||n,f={left:b.x*100+"%",marginTop:(e.isPointingUp?p:-p)+"px",top:b.y*100+"%",transform:"translate(\n          "+e.horizontalOffset+"%,\n          "+(e.isPointingUp?0:-100)+"%\n        ) scale("+(a.state.isShowingTags?1:0)+")"},g={left:-e.horizontalOffset+"%"};return j.jsx(c("PolarisUserTag.react"),{className:"_aa1y",isPointingUp:e.isPointingUp,isShowingTags:a.state.isShowingTags,pointerStyle:g,ref:function(b){b!=null&&a.$3.set(d,b)},style:f,user:b.user},d)})};e.$14=function(){var a=this.props,b=a.analyticsContext,e=a.isFocused,f=a.upcomingEvent,g=a.upcomingEventMediaId,h=a.upcomingEventThumbnailSrc;a=a.usertags;var i=this.state.isShowingIndicator;return f?j.jsx(c("PolarisUpcomingEventIndicatorWithSheetOrModal.react"),{analyticsContext:b,isVideo:!1,mediaId:g,upcomingEvent:f,upcomingEventThumbnailSrc:h,usertags:a}):d("PolarisConfig").isLoggedIn()?j.jsx(c("PolarisUserTagIndicator.react"),{absolute:!0,onClick:this.$7,visible:i||e}):j.jsx(c("PolarisLoggedOutUserTagIndicator.react"),{analyticsContext:b,defaultOnClick:this.$7,visible:i||e})};e.render=function(){var a=this,b=this.props,d=b.accessibilityCaption,e=b.className,f=b.onPhotoRendered,g=b.rich,h=b.src;b=b.srcSet;var i=this.state,k=i.isShowingIndicator;i=i.isShowingTags;d={accessibilityCaption:d,dimensions:this.props.dimensions,imgXstyle:this.props.imgXstyle,likeEventCount:this.props.likeEventCount,postId:this.props.postId};return j.jsxs("div",{className:c("joinClasses")(e,"_aa1z"+(i?" _aa1-":"")+(k?" _aa1_":"")),ref:function(b){return a.$2=b},children:[j.jsx(c("PolarisPhoto.react"),babelHelpers["extends"]({},d,{className:c("joinClasses")("_aa20",e),onClick:this.$7,onPhotoRendered:f,rich:g,src:h,srcSet:b})),this.$14(),this.$13()]})};return b}(j.Component);b.defaultProps={alwaysShowIndicator:!1};function r(a){return"usertag-"+(a&&a.user&&a.user.username)}function a(a){return{onLoggedOutIntentClickLoginModal:function(b){a(d("PolarisNavigationActions").openLoginModal("feature_wall",window.location.href,b))}}}e=d("PolarisReactRedux.react").connect(null,a)(b);g.EDGE_THRESHOLD=k;g.TAG_ORIENTATION_CHANGE_POINT=o;g.TAG_POINTER_HEIGHT=p;g.getHorizontalOffset=q;g.PhotoWithIndicator=e}),98);
__d("PolarisPoliticalContextButton.react",["IGDSBox.react","PolarisIGCoreText","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(6),d=a.className,e=a.text;a=a.textColor;var f;b[0]!==a||b[1]!==e?(f=j.jsx(c("IGDSBox.react"),{position:"relative",children:j.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:a,display:"inline",zeroMargin:!0,children:e})}),b[0]=a,b[1]=e,b[2]=f):f=b[2];b[3]!==d||b[4]!==f?(a=j.jsx("div",{className:d,children:f}),b[3]=d,b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("PolarisPostBoostButton.react",["IGDSBox.react","IGDSButton.react","JSResourceForInteraction","PolarisBoostOkDialog.react","PolarisBoostUtils.react","PolarisBoostedStatusEnum","PolarisIGTheme.react","PolarisLoadingModal.react","PolarisPromotedPostsLogger","isStringNullOrWhitespaceOnly","qex","react","useIGDSLazyDialog","usePolarisBoostOpenBoostFlow","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useMemo,k=b.useState,l=c("JSResourceForInteraction")("PolarisBoostNotDeliveringDialog.react").__setRef("PolarisPostBoostButton.react"),m=c("JSResourceForInteraction")("PolarisBoostMusicErrorDialog.react").__setRef("PolarisPostBoostButton.react"),n=c("JSResourceForInteraction")("PolarisBoostMediaIneligibleErrorDialog.react").__setRef("PolarisPostBoostButton.react"),o={grayedOutButton:{opacity:"xbyyjgo",$$css:!0}};function a(a){var b=a.analyticsContext,e=a.boostedStatus,f=a.boostUnavailableIdentifier,g=a.boostUnavailableReason,h=a.fullWidth;h=h===void 0?!1:h;var p=a.isLink;p=p===void 0?!1:p;var q=a.isOrganicMediaArchived,r=a.mediaId,s=a.productType,t=a.refetch;a=k(!1);var u=a[0],v=a[1];a=c("useIGDSLazyDialog")(l,function(){return i.jsx(c("PolarisLoadingModal.react"),{})});var w=a[0];a=c("useIGDSLazyDialog")(m,function(){return i.jsx(c("PolarisLoadingModal.react"),{})});var x=a[0];a=c("useIGDSLazyDialog")(n,function(){return i.jsx(c("PolarisLoadingModal.react"),{})});var y=a[0];a=d("PolarisBoostUtils.react").getIsBoostButtonDisabledFromBoostedStatus(e);var z=!c("isStringNullOrWhitespaceOnly")(g),A=["carousel_or_image_has_non_copyright_music_eligible_by_removing","carousel_or_image_has_copyright_music_eligible_by_removing"],B=A.includes(f),C=f==="clips_has_music_with_copyright",D=function(){return B&&c("qex")._("685")===!0},E=function(){return C&&c("qex")._("1445")===!0},F=f==="low_resolution_video_eligible_for_sr",G=function(){return F&&c("qex")._("1448")===!0},H=d("PolarisPromotedPostsLogger").getPolarisBoostEntryPointType(b),I=c("uuidv4")(),J=j(function(){return new(d("PolarisPromotedPostsLogger").PolarisPromotedPostsLogger)({entry_point:H,m_pk:r,promote_flow_type:d("PolarisBoostUtils.react").getIGBoostFlowTypeFromBoostedStatus(e),waterfall_id:I})},[e,H,r,I]),K=e===c("PolarisBoostedStatusEnum").FINISHED,L=function(){x({analyticsContext:b,flowID:I,isBoostAgain:K,logger:J,musicFlow:"removeMusic",openBoostFlow:P})},M=function(){x({analyticsContext:b,flowID:I,isBoostAgain:K,logger:J,mediaId:r,musicFlow:"swapMusic",openBoostFlow:P})},N=function(){y({analyticsContext:b,boostUnavailableReason:g,flowID:I,logger:J,productType:s})},O=c("usePolarisBoostOpenBoostFlow")(),P=function(a){if(e===c("PolarisBoostedStatusEnum").NOT_APPROVED||e===c("PolarisBoostedStatusEnum").SCHEDULED||e===c("PolarisBoostedStatusEnum").PAUSED)d("PolarisBoostUtils.react").handleAdToolsButtonClickWithLogging(I,b);else if(e===c("PolarisBoostedStatusEnum").NOT_DELIVERING&&c("qex")._("393")===!0)w({analyticsContext:b,flowID:I,igID:r,logger:J,refetch:t});else{O({analyticsContext:b,audioSpec:(a=a)!=null?a:void 0,boostedStatus:e,flowID:I,mediaID:r})}};A=function(){if(z)if(D())L();else if(E())M();else if(G())P();else{var a;c("qex")._("334")===!0?N():v(!0);J.logEnterError((a=f)!=null?a:"",(a=g)!=null?a:"","no_permission")}else P()};var Q=z&&!B&&!C&&!F,R=d("PolarisIGTheme.react").useTheme().getTheme()===d("PolarisIGTheme.react").IGTheme.Dark;return i.jsxs(c("IGDSBox.react"),{alignItems:"end",direction:"column",width:h?"100%":void 0,children:[i.jsx(c("IGDSButton.react"),{"data-testid":void 0,fullWidth:h,isDisabled:a,label:d("PolarisBoostUtils.react").getBoostButtonCTAFromBoostedStatus(e,q,s),onClick:A,variant:d("PolarisBoostUtils.react").getBoostButtonVariantFromBoostedStatus(e,p,R),xstyle:Q?o.grayedOutButton:void 0}),u&&g!=null?i.jsx(c("PolarisBoostOkDialog.react"),{body:g,onPress:function(){v(!1)},title:d("PolarisBoostUtils.react").BOOST_UNAVAILABLE_TEXT}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostMoreButton",["fbt","IGDSText.react","PolarisIGCorePressable.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.handleMoreClick,d=a.isMoreButtonInline;d=d===void 0?!1:d;var e=a.moreTextColor;a=a.truncatedElem;return j.jsxs("span",{children:["...\xa0",j.jsx(c("PolarisIGCorePressable.react"),{onPress:b,style:{cursor:"pointer",display:d?"inline-block":"inline"},children:j.jsx(c("IGDSText.react"),{color:e,textAlign:"start",zeroMargin:!0,children:a==null?h._("__JHASH__o8KDH-tdLwt__JHASH__"):a})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisTruncatedText.react",["PolarisConfig","PolarisIGCorePressable.react","PolarisIGCoreText","PolarisNavigationActions","PolarisPostMoreButton","PolarisReactRedux.react","PolarisStringUtils","PolarisUserText.react","browserHistory_DO_NOT_USE","nullthrows","polarisMemoizeLast","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l=b.useState,m=120,n=/\r\n|[\r\n]/;function a(a){var b=a.analyticsContext,e=a.disableExpansion,f=a.hideAndShowTextOnClick;f=f===void 0?!1:f;var g=a.isCaption,h=a.isImmersiveViewer,o=a.limit,p=o===void 0?m:o,q=a.onMoreClick,r=a.onMoreClickWithoutExpansion;o=a.onTextClick;var s=a.truncatedElem,t=a.color,u=a.value;a=babelHelpers.objectWithoutPropertiesLoose(a,["analyticsContext","disableExpansion","hideAndShowTextOnClick","isCaption","isImmersiveViewer","limit","onMoreClick","onMoreClickWithoutExpansion","onTextClick","truncatedElem","color","value"]);var v=d("PolarisReactRedux.react").useDispatch(),w=l(!1),x=w[0],y=w[1],z=c("polarisMemoizeLast")(function(a){if(a==null||a==="")return"";var b=a.toString().search(n);b=b>0?Math.min(b,p):p;return d("PolarisStringUtils").truncate(a.toString(),{maxLength:b,omission:"",preferredCutoff:/[.\s]+/m})}),A=k(function(){return u==null||u===""?!1:z(u).length<u.toString().length},[u,z]),B=k(function(){return x||!A},[x,A]);w=k(function(){return B?u:z(c("nullthrows")(u))},[B,z,u]);var C=j(function(a){if(e===!0)return;a.preventDefault();if(!d("PolarisConfig").isLoggedIn()&&b==="postPage"){v(d("PolarisNavigationActions").openLoginModal("reminder_wall",d("browserHistory_DO_NOT_USE").browserHistory.location.pathname,"post_caption_see_more"));if(!d("PolarisConfig").isLoggedIn()&&g===!1)return}if(r){r();return}q&&q();y(!0)},[e,b,r,q,v,g]),D=t==="ig-text-on-media"?"textOnMedia":"secondaryText",E=h===!0||!B;a=i.jsx(c("PolarisUserText.react"),babelHelpers["extends"]({},a,{color:t,display:"inline",headlineTag:g===!0?"h1":void 0,size:"body",value:w}));return i.jsxs(c("PolarisIGCoreText"),{color:t,display:"inline",zeroMargin:!0,children:[f===!0?i.jsx(c("PolarisIGCorePressable.react"),{onPress:function(){return y(!x)},style:{display:h===!0?"inline":""},children:a}):i.jsx("div",{onClick:B?null:o,style:{display:"inline"},children:a}),!B&&i.jsx(c("PolarisPostMoreButton"),{handleMoreClick:C,isMoreButtonInline:E,moreTextColor:D,truncatedElem:s})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastCommentPrimitive.react",["IGDSBox.react","IGDSVerifiedBadge.react","PolarisConfig","PolarisIGCoreText","PolarisTruncatedText.react","PolarisUserLinkWithHoverCard.react","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(13),e=a.isAuthorUnpublished,f=a.isAuthorVerified,g=a.isCaption,h=a.onMoreClick,k=a.text,l=a.userId;a=a.username;e=e===void 0?!1:e;f=f===void 0?!1:f;g=g===void 0?!1:g;var m=c("usePolarisAnalyticsContext")(),n;b[0]!==e||b[1]!==l||b[2]!==a||b[3]!==f?(n=e===!0?null:j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisUserLinkWithHoverCard.react"),{color:"ig-primary-text",userId:l,username:a}),f&&j.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginStart:1,position:"relative",children:j.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),j.jsx(c("PolarisIGCoreText"),{display:"inline",zeroMargin:!0,children:"\xa0"})]}),b[0]=e,b[1]=l,b[2]=a,b[3]=f,b[4]=n):n=b[4];e=n;b[5]!==g||b[6]!==m||b[7]!==k||b[8]!==h?(l=!d("PolarisConfig").isLoggedIn()&&g===!1?j.jsx(c("PolarisTruncatedText.react"),{analyticsContext:m,isCaption:g,limit:40,value:k}):j.jsx(c("PolarisTruncatedText.react"),{analyticsContext:m,isCaption:g,onMoreClick:h,value:k}),b[5]=g,b[6]=m,b[7]=k,b[8]=h,b[9]=l):l=b[9];b[10]!==e||b[11]!==l?(a=j.jsxs(c("IGDSBox.react"),{"data-testid":void 0,display:"block",flex:"grow",position:"relative",children:[e,l]}),b[10]=e,b[11]=l,b[12]=a):a=b[12];return a}g["default"]=a}),98);
__d("PolarisPostFastCrawlerComment.react",["IGDSBox.react","IGDSVerifiedBadge.react","PolarisIGCoreText","PolarisLineClampText.react","PolarisUserLinkWithHoverCard.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(8),d=a.isAuthorUnpublished,e=a.isAuthorVerified,f=a.text,g=a.userId;a=a.username;d=d===void 0?!1:d;e=e===void 0?!1:e;var h;b[0]!==d||b[1]!==g||b[2]!==a||b[3]!==e?(h=d===!0?null:j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisUserLinkWithHoverCard.react"),{color:"ig-primary-text",userId:g,username:a}),e&&j.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginStart:1,position:"relative",children:j.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),j.jsx(c("PolarisIGCoreText"),{display:"inline",zeroMargin:!0,children:"\xa0"})]}),b[0]=d,b[1]=g,b[2]=a,b[3]=e,b[4]=h):h=b[4];d=h;b[5]!==d||b[6]!==f?(g=j.jsx(c("IGDSBox.react"),{"data-testid":void 0,display:"block",flex:"grow",position:"relative",children:j.jsx(c("PolarisLineClampText.react"),{prependElement:d,value:f})}),b[5]=d,b[6]=f,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("PolarisPostHeader.react",["cx","fbt","IGDSBox.react","IGDSMiddleDot.react","IGDSText.react","IGDSVerifiedBadge.react","PolarisAppAttributionText.react","PolarisAudioAttributionText.react","PolarisAvatarWithStoriesContainer.react","PolarisClickEventLoggerProvider.react","PolarisClipsHelpers","PolarisCloseFriendsLabel.react","PolarisCoauthorCountWithSheet.react","PolarisEligibleForCommissionUnit.react","PolarisFeedPageConstants","PolarisFollowButtonContainer.react","PolarisHashtagLink.react","PolarisIGCoreButton.react","PolarisIGCoreText","PolarisLinkBuilder","PolarisLocationLink.react","PolarisPanavisionQEHelpers","PolarisProfileClickEventLoggerProvider.react","PolarisSponsoredLabel.react","PolarisSponsoredPostContext.react","PolarisSponsorsUnit.react","PolarisTagAvatar.react","PolarisTimestamp.react","PolarisTrackingNodeProvider.react","PolarisTransparencyLabel.react","PolarisTransparencyUtils.react","PolarisUA","PolarisUserAvatar.react","PolarisUserAvatarWithStories.react","PolarisUserHoverCard.react","PolarisUserLink.react","URI","err","nullthrows","qex","react","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","usePolarisTrackingDataProfileURLParams"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;var m=b.useContext,n=b.useState,o=b.c,p=i._("__JHASH__OMxqSO8Gxcr__JHASH__");function q(a,b){a=a;var c=a==null?void 0:a.song_name,d=a==null?void 0:a.artist_name;b=(a==null?void 0:a.uses_original_audio)&&b===a.artist_name;return{audioArtist:d,audioName:c,isMediaOwnerOriginalSound:b}}function r(a){var b=o(5);a=a.owner;var e=d("usePolarisTrackingDataProfileURLParams").usePolarisTrackingDataProfileURLParams(m(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext).canUserSeePersistentCta);e=new(j||(j=c("URI")))(d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(a.username))).setQueryData(e).toString();var f;b[0]!==a.username?(f=c("nullthrows")(a.username),b[0]=a.username,b[1]=f):f=b[1];b[2]!==e||b[3]!==f?(a=l.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,color:"ig-secondary-button",href:e,children:f}),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}function s(a){var b=o(13),d=a.clipsAudioAttributionInfo,e=a.onDisabledClipsAudioAttributionClick,f=a.owner;a=a.shouldRenderAudioNameAsH2;d=d;var g;b[0]!==d||b[1]!==f.username?(g=q(d,f.username),b[0]=d,b[1]=f.username,b[2]=g):g=b[2];g=g;var h=g.audioArtist,i=g.audioName;g=g.isMediaOwnerOriginalSound;var j=d==null?void 0:d.audio_id;f=f.isPrivate===!0;var k=(d==null?void 0:d.should_mute_audio)===!0;d=d==null?void 0:d.should_mute_audio_reason;var m;b[3]!==h||b[4]!==j||b[5]!==i||b[6]!==g||b[7]!==k||b[8]!==f||b[9]!==d||b[10]!==e||b[11]!==a?(m=l.jsx(c("PolarisAudioAttributionText.react"),{audioArtist:h,audioID:j,audioName:i,isMediaOwnerOriginalSound:g,isMutedAudio:k,isOwnerPrivate:f,muteAudioReason:d,onDisabledClipsAudioAttributionClick:e,shouldRenderAudioNameAsH2:a}),b[3]=h,b[4]=j,b[5]=i,b[6]=g,b[7]=k,b[8]=f,b[9]=d,b[10]=e,b[11]=a,b[12]=m):m=b[12];return m}function t(a){var b=o(6),d=a.clipsAttributionInfo;a=a.mediaID;d=d;var e=d==null?void 0:d.attribution_app_name;d=d==null?void 0:d.attribution_app_id;if(e!=null&&d!=null){var f;b[0]!==d?(f=d.toString(),b[0]=d,b[1]=f):f=b[1];b[2]!==f||b[3]!==e||b[4]!==a?(d=l.jsx(c("PolarisAppAttributionText.react"),{appId:f,appName:e,mediaId:a}),b[2]=f,b[3]=e,b[4]=a,b[5]=d):d=b[5];return d}return null}function u(a){var b=o(57),e=a.audioAttributionText,f=a.clipsAttributionInfo,g=a.clipsAudioAttributionInfo,h=a.followHashtagInfo,i=a.isSponsored,j=a.location,k=a.mediaId,m=a.owner,n=a.showEligibleForCommissions,p=a.showSponsors,r=a.sponsoredLabel;a=a.sponsors;var s=c("usePolarisIsOnAdsActivityPage")(),u;b[0]!==m||b[1]!==k?(u=d("PolarisTransparencyUtils.react").shouldShowTransparencyLabel(m)&&l.jsx(c("PolarisTransparencyLabel.react"),{mediaId:k,screen:"feed",user:m}),b[0]=m,b[1]=k,b[2]=u):u=b[2];u=u;var v;b[3]!==p||b[4]!==k||b[5]!==a?(v=p&&l.jsx(c("PolarisSponsorsUnit.react"),{loggingData:{mediaId:k},source:"feed_timeline",sponsors:a||[]}),b[3]=p,b[4]=k,b[5]=a,b[6]=v):v=b[6];p=v;b[7]!==h||b[8]!==m?(a=h&&l.jsx(c("PolarisUserLink.react"),{className:"_adkn",username:c("nullthrows")(m.username)}),b[7]=h,b[8]=m,b[9]=a):a=b[9];v=a;b[10]!==n?(h=n&&l.jsx(c("PolarisEligibleForCommissionUnit.react"),{className:"_aaqi"}),b[10]=n,b[11]=h):h=b[11];a=h;b[12]!==j?(n=j&&l.jsx(c("PolarisIGCoreText").Body2,{color:"ig-secondary-text",display:"truncated",zeroMargin:!0,children:l.jsx(c("PolarisLocationLink.react"),{className:"_aaqk",location:c("nullthrows")(j)})}),b[12]=j,b[13]=n):n=b[13];h=n;var w;if(b[14]!==g||b[15]!==m.username||b[16]!==f||b[17]!==k||b[18]!==i||b[19]!==r||b[20]!==s||b[21]!==u||b[22]!==p||b[23]!==a||b[24]!==v||b[25]!==e||b[26]!==h){j=q(g,m.username);b[32]!==f||b[33]!==k?(n=l.jsx(t,{clipsAttributionInfo:f,mediaID:k}),b[32]=f,b[33]=k,b[34]=n):n=b[34];n=n;if(i===!0&&r==null&&!s)throw c("err")("Unexpected: a feed ad is being rendered without a sponsored label");b[35]===Symbol["for"]("react.memo_cache_sentinel")?(w="_aaql",b[35]=w):w=b[35];var x;b[36]===Symbol["for"]("react.memo_cache_sentinel")?(x="x78zum5 xdt5ytf",b[36]=x):x=b[36];var y;b[37]!==r?(y=r!=null&&l.jsx(c("PolarisSponsoredLabel.react"),{label:r}),b[37]=r,b[38]=y):y=b[38];b[39]!==u||b[40]!==p||b[41]!==y||b[42]!==a||b[43]!==v?(x=l.jsx(c("IGDSText.react").Body2,{zeroMargin:!0,children:l.jsxs("div",{className:x,children:[u,p,y,a,v]})}),b[39]=u,b[40]=p,b[41]=y,b[42]=a,b[43]=v,b[44]=x):x=b[44];b[45]===Symbol["for"]("react.memo_cache_sentinel")?(y="x78zum5",b[45]=y):y=b[45];j=d("PolarisClipsHelpers").hasAudioAttributionText(j)?e:l.jsx("div",{className:"_aaqm",children:h});b[14]=g;b[15]=m.username;b[16]=f;b[17]=k;b[18]=i;b[19]=r;b[20]=s;b[21]=u;b[22]=p;b[23]=a;b[24]=v;b[25]=e;b[26]=h;b[27]=y;b[28]=j;b[29]=n;b[30]=w;b[31]=x}else y=b[27],j=b[28],n=b[29],w=b[30],x=b[31];b[46]!==f?(g=f!=null&&l.jsx(c("IGDSMiddleDot.react"),{color:"primaryText"}),b[46]=f,b[47]=g):g=b[47];b[48]!==y||b[49]!==j||b[50]!==g||b[51]!==n?(m=l.jsxs("div",{className:y,children:[j,g,n]}),b[48]=y,b[49]=j,b[50]=g,b[51]=n,b[52]=m):m=b[52];b[53]!==w||b[54]!==x||b[55]!==m?(k=l.jsxs("div",{className:w,children:[x,m]}),b[53]=w,b[54]=x,b[55]=m,b[56]=k):k=b[56];return k}function v(a){var b=o(38),e=a.analyticsContext,f=a.coauthorProducers,g=a.followHashtagInfo,h=a.headerAvatarSize,i=a.isTagAvatarLink,j=a.onTagAvatarShowRing;a=a.owner;var k;b[0]!==e?(k=function(){return e===d("PolarisFeedPageConstants").FEED_PAGE_ANALYTICS_CONTEXT?"reel_feed_timeline_item_header":"reel_feed_timeline"},b[0]=e,b[1]=k):k=b[1];k=k;if(g){var m=g.name;g=g.profile_pic_url;var n;b[2]!==g||b[3]!==i||b[4]!==m?(n=g!=null&&g.length>0&&l.jsx(c("PolarisTagAvatar.react"),{isLink:i,profilePictureUrl:g,tagName:m}),b[2]=g,b[3]=i,b[4]=m,b[5]=n):n=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx("div",{className:"_aaqo",children:"#"}),b[6]=g):g=b[6];b[7]!==n?(i=l.jsxs(l.Fragment,{children:[n,g]}),b[7]=n,b[8]=i):i=b[8];b[9]!==j||b[10]!==m||b[11]!==i?(g=l.jsx(c("PolarisAvatarWithStoriesContainer.react"),{animateOnLoad:!0,entrypoint:"reel_feed_timeline",onShowRing:j,size:30,tagName:m,children:i}),b[9]=j,b[10]=m,b[11]=i,b[12]=g):g=b[12];return g}if(f==null?void 0:f.length){n=f[0];b[13]!==n.profilePictureUrl||b[14]!==n.username?(j=l.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:n.profilePictureUrl,size:24,username:n.username}),b[13]=n.profilePictureUrl,b[14]=n.username,b[15]=j):j=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(m="_aaqp",b[16]=m):m=b[16];b[17]!==a.profilePictureUrl||b[18]!==a.username?(i=l.jsx("div",{className:m,children:l.jsx(c("IGDSBox.react"),{alignItems:"end",direction:"row",justifyContent:"end",position:"relative",children:l.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a.profilePictureUrl,size:24,username:a.username})})}),b[17]=a.profilePictureUrl,b[18]=a.username,b[19]=i):i=b[19];b[20]!==j||b[21]!==i?(g=l.jsxs(c("IGDSBox.react"),{height:32,position:"relative",width:32,children:[j,i]}),b[20]=j,b[21]=i,b[22]=g):g=b[22];return g}f=!a.isUnpublished;m=(n=a.username)!=null?n:"";b[23]===Symbol["for"]("react.memo_cache_sentinel")?(j="_aaqq",b[23]=j):j=b[23];i=!a.isUnpublished;b[24]!==k?(g=k(),b[24]=k,b[25]=g):g=b[25];b[26]!==i||b[27]!==a.profilePictureUrl||b[28]!==a.id||b[29]!==a.username||b[30]!==h||b[31]!==g?(n=l.jsx(c("PolarisUserAvatarWithStories.react"),{className:j,isLink:i,profilePictureUrl:a.profilePictureUrl,showRingWhenSeen:!1,size:h,storyEntrypoint:g,userId:a.id,username:a.username}),b[26]=i,b[27]=a.profilePictureUrl,b[28]=a.id,b[29]=a.username,b[30]=h,b[31]=g,b[32]=n):n=b[32];b[33]!==f||b[34]!==a.id||b[35]!==m||b[36]!==n?(k=l.jsx(c("PolarisUserHoverCard.react"),{display:"block",isUserAvailable:f,userId:a.id,username:m,children:n}),b[33]=f,b[34]=a.id,b[35]=m,b[36]=n,b[37]=k):k=b[37];return k}function w(a){var b=o(57),d=a.adTitle,e=a.analyticsContext,f=a.coauthorProducers,g=a.displayFBPageName,h=a.followHashtagInfo,i=a.mediaId,j=a.owner;a=a.showVerifiedBadge;if(h){var k;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(k="_aaqr",b[0]=k):k=b[0];b[1]!==h.name?(k=l.jsx(c("IGDSText.react").Body,{zeroMargin:!0,children:l.jsx(c("PolarisHashtagLink.react"),{className:k,tag:h.name})}),b[1]=h.name,b[2]=k):k=b[2];return k}if(j.isUnpublished===!0){if(d!=null&&d.trim().length!==0){b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h="_aaqs",b[3]=h):h=b[3];b[4]!==d?(k=l.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",zeroMargin:!0,children:l.jsx("span",{className:h,children:d})}),b[4]=d,b[5]=k):k=b[5];return k}b[6]===Symbol["for"]("react.memo_cache_sentinel")?(h="_aaqs",b[6]=h):h=b[6];k=j.fullName!=null&&j.fullName!==""?j.fullName:j.username;b[7]!==k?(h=l.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",zeroMargin:!0,children:l.jsx("span",{className:h,children:k})}),b[7]=k,b[8]=h):h=b[8];return h}if(g===!0&&(d!=null&&d.trim().length!==0)){b[9]===Symbol["for"]("react.memo_cache_sentinel")?(k="_aaqs",b[9]=k):k=b[9];b[10]!==d?(h=l.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",zeroMargin:!0,children:l.jsx("span",{className:k,children:d})}),b[10]=d,b[11]=h):h=b[11];return h}if(f==null?void 0:f.length){var m;if(b[12]!==f){k=(g=f)!=null?g:[];b[12]=f;b[13]=k}else k=b[13];if(b[14]!==k){b[16]===Symbol["for"]("react.memo_cache_sentinel")?(d=function(a){var b;return{user:{fullName:(b=a.fullName)!=null?b:"",id:a.id,isVerified:(b=a.isVerified)!=null?b:!1,profilePictureUrl:(b=a.profilePictureUrl)!=null?b:"",username:(b=a.username)!=null?b:""}}},b[16]=d):d=b[16];h=k.map(d);b[14]=k;b[15]=h}else h=b[15];g=h;k=(d=j.fullName)!=null?d:"";d=(h=j.isVerified)!=null?h:!1;h=(h=j.profilePictureUrl)!=null?h:"";m=(m=j.username)!=null?m:"";var n;b[17]!==k||b[18]!==j.id||b[19]!==d||b[20]!==h||b[21]!==m?(n={user:{fullName:k,id:j.id,isVerified:d,profilePictureUrl:h,username:m}},b[17]=k,b[18]=j.id,b[19]=d,b[20]=h,b[21]=m,b[22]=n):n=b[22];k=n;d=f[0];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(h="_aaqt _aaqu",b[23]=h):h=b[23];m=!j.isUnpublished;n=(n=j.username)!=null?n:"";var q;b[24]!==j?(q=l.jsx(r,{owner:j}),b[24]=j,b[25]=q):q=b[25];var s;b[26]!==m||b[27]!==j.id||b[28]!==n||b[29]!==q?(s=l.jsx(c("PolarisUserHoverCard.react"),{display:"inline",isUserAvailable:m,userId:j.id,username:n,children:q}),b[26]=m,b[27]=j.id,b[28]=n,b[29]=q,b[30]=s):s=b[30];b[31]===Symbol["for"]("react.memo_cache_sentinel")?(m=l.jsx("span",{className:"_aaqv"}),b[31]=m):m=b[31];b[32]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsxs(c("IGDSText.react").Body,{children:[m,p,l.jsx("span",{className:"_aaqv"})]}),b[32]=n):n=b[32];if(b[33]!==f.length||b[34]!==e||b[35]!==g||b[36]!==i||b[37]!==k||b[38]!==d){m=f.length>1&&c("qex")._("280")?l.jsx(c("IGDSText.react").Body,{children:l.jsx(c("PolarisCoauthorCountWithSheet.react"),{analyticsContext:e,coauthors:g,mediaId:i,mediaOwner:k})}):l.jsx(c("PolarisUserHoverCard.react"),{display:"inline",isUserAvailable:!d.isUnpublished,userId:d.id,username:(q=d.username)!=null?q:"",children:l.jsx(r,{owner:d})});b[33]=f.length;b[34]=e;b[35]=g;b[36]=i;b[37]=k;b[38]=d;b[39]=m}else m=b[39];b[40]!==s||b[41]!==m?(q=l.jsx("div",{className:h,children:l.jsxs(c("IGDSText.react").BodyEmphasized,{textAlign:"start",zeroMargin:!0,children:[s,n,m]})}),b[40]=s,b[41]=m,b[42]=q):q=b[42];return q}b[43]===Symbol["for"]("react.memo_cache_sentinel")?(f="_aaqt",b[43]=f):f=b[43];e=!j.isUnpublished;i=(g=j.username)!=null?g:"";b[44]!==j?(k=l.jsx(r,{owner:j}),b[44]=j,b[45]=k):k=b[45];b[46]!==e||b[47]!==j.id||b[48]!==i||b[49]!==k?(d=l.jsx(c("IGDSText.react").BodyEmphasized,{zeroMargin:!0,children:l.jsx(c("PolarisUserHoverCard.react"),{display:"inline",isUserAvailable:e,userId:j.id,username:i,children:k})}),b[46]=e,b[47]=j.id,b[48]=i,b[49]=k,b[50]=d):d=b[50];b[51]!==a||b[52]!==j?(h=a===!0&&j.isVerified===!0&&l.jsx(c("IGDSBox.react"),{marginStart:1,position:"relative",children:l.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),b[51]=a,b[52]=j,b[53]=h):h=b[53];b[54]!==d||b[55]!==h?(n=l.jsx("div",{className:f,children:l.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",position:"relative",children:[d,h]})}),b[54]=d,b[55]=h,b[56]=n):n=b[56];return n}function a(a){var b=o(72),e=a.adTitle,f=a.analyticsContext,g=a.clipsAttributionInfo,h=a.clipsAudioAttributionInfo,i=a.coauthorProducers,j=a.displayFBPageName,k=a.followHashtagInfo,p=a.headerAvatarSize,q=a.inModal,r=a.isAffiliate,t=a.isPaidPartnership,x=a.isSharedToCloseFriends,y=a.isSponsored,z=a.location,A=a.mediaId,B=a.onDisabledClipsAudioAttributionClick,C=a.owner,D=a.postedAt,E=a.reducedAvatarMargin,F=a.shouldRenderAudioNameAsH2,G=a.shouldShowFollowButton,H=a.showVerifiedBadge,I=a.sidebarVariantOptionsButton,J=a.sponsoredLabel;a=a.sponsors;var K=n(!0),L=K[0],M=K[1];K=!k&&t;t=!k&&!t&&r;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(r=function(){M(!1)},b[0]=r):r=b[0];r=r;var N;b[1]!==h||b[2]!==B||b[3]!==C||b[4]!==F?(N=l.jsx(s,{clipsAudioAttributionInfo:h,onDisabledClipsAudioAttributionClick:B,owner:C,shouldRenderAudioNameAsH2:F}),b[1]=h,b[2]=B,b[3]=C,b[4]=F,b[5]=N):N=b[5];B=N;F=c("usePolarisIsOnFeedPage")();N=c("usePolarisIsOnAdsActivityPage")();F=(F||N)&&q!==!0&&d("PolarisUA").isDesktop();N=F;q=m(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext);q=q.onProfileClick;var O="_aaqw"+(F?" _aaqx":"")+(N?" _aggb":"")+(d("PolarisPanavisionQEHelpers").hasDenserMobileWebFeed()?" _ap5a":"");b[6]!==f||b[7]!==i||b[8]!==k||b[9]!==p||b[10]!==L||b[11]!==C?(r=l.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:69,children:l.jsx("div",{children:l.jsx(v,{analyticsContext:f,coauthorProducers:i,followHashtagInfo:k,headerAvatarSize:p,isTagAvatarLink:L,onTagAvatarShowRing:r,owner:C})})}),b[6]=f,b[7]=i,b[8]=k,b[9]=p,b[10]=L,b[11]=C,b[12]=r):r=b[12];p=I&&!F;L=I&&F;F=E===!0;b[13]!==p||b[14]!==L||b[15]!==F?(E="_aaqy"+(p?" _aaqz":"")+(L?" _aaq-":"")+(F?" _aaq_":"")+(d("PolarisPanavisionQEHelpers").hasDenserMobileWebFeed()?" _ap5c":""),b[13]=p,b[14]=L,b[15]=F,b[16]=E):E=b[16];b[17]!==G||b[18]!==I?(p="_aar0"+(G?" _ad95":"")+(I?" _aar1":""),b[17]=G,b[18]=I,b[19]=p):p=b[19];b[20]===Symbol["for"]("react.memo_cache_sentinel")?(L="x78zum5",b[20]=L):L=b[20];b[21]!==e||b[22]!==f||b[23]!==i||b[24]!==j||b[25]!==k||b[26]!==A||b[27]!==C||b[28]!==H?(F=l.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:10,children:l.jsx("div",{className:L,children:l.jsx(w,{adTitle:e,analyticsContext:f,coauthorProducers:i,displayFBPageName:j,followHashtagInfo:k,mediaId:A,owner:C,showVerifiedBadge:H})})}),b[21]=e,b[22]=f,b[23]=i,b[24]=j,b[25]=k,b[26]=A,b[27]=C,b[28]=H,b[29]=F):F=b[29];b[30]!==y||b[31]!==D||b[32]!==N?(I=!y&&D!=null&&N&&l.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",position:"relative",children:l.jsx("div",{className:"_ajqd",children:l.jsxs(c("IGDSText.react"),{color:"secondaryText",size:"body",zeroMargin:!0,children:[l.jsx(c("IGDSMiddleDot.react"),{color:"secondaryText"}),l.jsx(c("PolarisTimestamp.react"),{isLong:!1,value:D})]})})}),b[30]=y,b[31]=D,b[32]=N,b[33]=I):I=b[33];if(b[34]!==G||b[35]!==x||b[36]!==N||b[37]!==C||b[38]!==f){e=G&&!x&&l.jsxs("div",{className:"_aar2",children:[l.jsx("div",{className:"_aar3",children:l.jsx(c("IGDSMiddleDot.react"),{color:N?"secondaryText":void 0})}),l.jsx(c("PolarisFollowButtonContainer.react"),{analyticsContext:f,borderless:!0,"data-testid":void 0,isInline:!0,userId:C.id,username:(L=C.username)!=null?L:""})]});b[34]=G;b[35]=x;b[36]=N;b[37]=C;b[38]=f;b[39]=e}else e=b[39];b[40]!==p||b[41]!==F||b[42]!==I||b[43]!==e?(i=l.jsxs("div",{className:p,children:[F,I,e]}),b[40]=p,b[41]=F,b[42]=I,b[43]=e,b[44]=i):i=b[44];b[45]!==B||b[46]!==g||b[47]!==h||b[48]!==k||b[49]!==y||b[50]!==z||b[51]!==A||b[52]!==C||b[53]!==t||b[54]!==K||b[55]!==J||b[56]!==a?(j=l.jsx(u,{audioAttributionText:B,clipsAttributionInfo:g,clipsAudioAttributionInfo:h,followHashtagInfo:k,isSponsored:y,location:z,mediaId:A,owner:C,postId:A,showEligibleForCommissions:t,showSponsors:K,sponsoredLabel:J,sponsors:a}),b[45]=B,b[46]=g,b[47]=h,b[48]=k,b[49]=y,b[50]=z,b[51]=A,b[52]=C,b[53]=t,b[54]=K,b[55]=J,b[56]=a,b[57]=j):j=b[57];b[58]!==E||b[59]!==i||b[60]!==j?(H=l.jsxs("div",{className:E,children:[i,j]}),b[58]=E,b[59]=i,b[60]=j,b[61]=H):H=b[61];b[62]!==x?(D=x&&l.jsx(c("PolarisCloseFriendsLabel.react"),{onClick:function(){}}),b[62]=x,b[63]=D):D=b[63];b[64]!==O||b[65]!==r||b[66]!==H||b[67]!==D?(L=l.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:230,children:l.jsxs("header",{className:O,"data-testid":void 0,children:[r,H,D]})}),b[64]=O,b[65]=r,b[66]=H,b[67]=D,b[68]=L):L=b[68];b[69]!==q||b[70]!==L?(G=l.jsx(c("PolarisClickEventLoggerProvider.react"),{children:l.jsx(c("PolarisProfileClickEventLoggerProvider.react"),{onProfileClick:q,children:L})}),b[69]=q,b[70]=L,b[71]=G):G=b[71];return G}g["default"]=a}),226);
__d("PolarisPostTimestamp.react",["IGDSText.react","PolarisFastLink.react","PolarisIGCoreText","PolarisLinkBuilder","PolarisTimestamp.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(11),e=a.code,f=a.isVideo,g=a.mediaLinkBuilder;a=a.postedAt;var h;b[0]!==g||b[1]!==e||b[2]!==f?(h=g!=null?g(e,f):d("PolarisLinkBuilder").buildMediaLink(e),b[0]=g,b[1]=e,b[2]=f,b[3]=h):h=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g={navigation_source:"polaris_timestamp"},b[4]=g):g=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e="x1p4m5qa",b[5]=e):e=b[5];b[6]!==a?(f=j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:j.jsx(c("PolarisTimestamp.react"),{className:e,isLong:!0,value:a})}),b[6]=a,b[7]=f):f=b[7];b[8]!==h||b[9]!==f?(e=j.jsx(c("PolarisIGCoreText"),{display:"block",zeroMargin:!0,children:j.jsx(c("PolarisFastLink.react"),{"data-testid":void 0,href:h,traceParams:g,children:f})}),b[8]=h,b[9]=f,b[10]=e):e=b[10];return e}g["default"]=a}),98);
__d("VideoPlayerSliderNub.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={"default":{backgroundColor:"x14hiurz",borderTopColor:"x1g7gg9k",borderEndColor:"xenha5r",borderBottomColor:"x1eoefnw",borderStartColor:"x124h113",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",boxShadow:"x1nqv1ya",display:"x1s85apg",height:"xdk7pt",marginRight:"x1x862rh",marginTop:"x1rdy4ex",position:"x10l6tqk",right:"x3m8u43",width:"x1xc55vz",zIndex:"x1vjfegm",$$css:!0},visible:{display:"x1lliihq",$$css:!0}};function a(a){a=a.isVisible;return j.jsx("div",{className:(h||(h=c("stylex")))(k["default"],a&&k.visible),"data-testid":void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerScrubberBaseContentDefault.react",["CometVisualCompletionAttributes","VideoPlayerSliderNub.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={liveRewindTimePlayed:{backgroundColor:"xh1tjdi",$$css:!0},liveTimePlayed:{backgroundColor:"x1ciooss",$$css:!0},timelineBackground:{backgroundColor:"x1rwy58d",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",boxShadow:"xpdb0fs",height:"xuoj239",textShadow:"xd9u3wd",userSelect:"x87ps6o",$$css:!0},timelineBuffered:{height:"xuoj239",position:"x10l6tqk",$$css:!0},timelineBufferedBackground:{backgroundColor:"x17j41np",$$css:!0},timelinePlayed:{backgroundColor:"x1evw4sf",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",height:"xuoj239",position:"x10l6tqk",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.bufferedRatio;a.duration;a.hoveringPositionSec;a.isHovering;var d=a.isLive,e=a.isLiveRewindActive,f=a.isNubVisible,g=a.playedRatio,i=a.timelineBackgroundXStyle,l=a.timelineBufferedXStyle;a=a.timelinePlayedXStyle;return j.jsxs("div",{className:(h||(h=c("stylex")))(k.timelineBackground,i),children:[j.jsx("div",babelHelpers["extends"]({className:h(k.timelineBuffered,!d&&k.timelineBufferedBackground,l)},c("CometVisualCompletionAttributes").IGNORE,{style:{width:(100*b).toFixed(5)+"%"}})),j.jsx("div",babelHelpers["extends"]({className:h(k.timelinePlayed,d&&!e&&k.liveTimePlayed,d&&e&&k.liveRewindTimePlayed,a)},c("CometVisualCompletionAttributes").IGNORE,{style:{width:(100*g).toFixed(5)+"%"},children:j.jsx(c("VideoPlayerSliderNub.react"),{isVisible:f})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerUserInteractionCounter",["react","unrecoverableViolation","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useEffect,k=e.useRef,l=e.useState;function a(a,b,d){var e=k(a);j(function(){if(a!==e.current)throw c("unrecoverableViolation")("User interaction name should not change between renders ('"+e.current+"' -> '"+a+"').","comet_video_player")},[a]);var f=k(d);j(function(){f.current=d},[d]);var g=c("usePrevious")(b),h=k(!1);j(function(){var a=e.current,c=f.current;c&&((g===null||b!==g)&&(b?(h.current=!0,c({name:a,type:"started"})):g!==null&&(h.current=!1,c({name:a,type:"ended"}))))},[b,g]);j(function(){var a=e.current,b=f.current;return function(){b&&h.current&&b({name:a,type:"ended"})}},[])}function b(){var a=k(new Set()),b=l(0),c=b[0],d=b[1];b=i(function(b){var c=a.current;b.type==="started"||b.type==="happening"?(c.add(b.name),d(c.size)):b.type==="ended"&&(c["delete"](b.name),d(c.size))},[]);return{ongoingInteractionsCount:c,onUserInteraction:b}}g.useVideoPlayerUserInteraction=a;g.useVideoPlayerUserInteractionCounter=b}),98);
__d("VideoPlayerPointerDrag",["react","useResizeObserver","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useEffect,j=f.useRef,k=f.useState;function a(){var a=j(null),b=j(null),d=c("useResizeObserver")(function(c,d){a.current=d.getBoundingClientRect(),b.current=d}),e=c("useStable")(function(){return function(){var c=b.current;c?a.current=c.getBoundingClientRect():a.current=null}});return{invalidateRootRect:e,rootRectRef:a,rootSizeRefCallback:d}}function b(a,b){if(b==null)return null;var c=Math.max(0,Math.min(b.width,a.clientX-b.left));a=Math.max(0,Math.min(b.height,a.clientY-b.top));return{ratioX:b.width>0?c/b.width:0,ratioY:b.height>0?a/b.height:0}}function l(a,b){a=a.changedTouches;if(b==null||!a)return null;for(var c=0;c<a.length;++c){var d=a[c];if(d.identifier===b)return{clientX:d.clientX,clientY:d.clientY}}return null}function m(a,b){var c=a;switch(b.type){case"start":c=babelHelpers["extends"]({},a,{clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":a.lastEffect});break;case"move":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":"move"};break;case"end":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"end"};break;case"cancel":if(a.dragState!=="dragging")break;c={clientX:a.clientX,clientY:a.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"cancel"};break;default:break}return c.dragState!==a.dragState||c.lastEffect!==a.lastEffect||c.clientX!==a.clientX||c.clientY!==a.clientY?c:a}var n={clientX:0,clientY:0,dragState:"idle",lastEffect:null},o=function(){return window.navigator.userAgent.indexOf("MSIE")>=0};function p(a,b,c){var d=n,e=null,f=null,g=function(b){d=m(d,b),a(d)},h=function(a){g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null?void 0:a(d)},i=function(a){e&&e();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null?void 0:a(d)},j=function(){e&&e();g({type:"cancel"});var a=b.current.onDragCancelSync;a==null?void 0:a(d)},k=function(a){a=l(a,c.current);if(a==null)return;g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null?void 0:a(d)},p=function(a){a=l(a,c.current);if(a==null)return;f&&f();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null?void 0:a(d)},q=p;return{destroy:function(){e&&e(),f&&f()},onMouseDown:function(a){o()||a.preventDefault();g({clientX:a.clientX,clientY:a.clientY,type:"start"});a=b.current.onDragStartSync;a==null?void 0:a(d);e||(window.addEventListener("mousemove",h),window.addEventListener("mouseup",i),window.addEventListener("blur",j),window.addEventListener("mouseleave",j),e=function(){e=null,window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",i),window.removeEventListener("blur",j),window.removeEventListener("mouseleave",j)})},onTouchStart:function(a){a.preventDefault();var e=a.changedTouches[0];e!=null&&(c.current=e.identifier);e=l(a,c.current);if(e==null)return;g({clientX:e.clientX,clientY:e.clientY,type:"start"});a=b.current.onDragStartSync;a==null?void 0:a(d);f||(window.addEventListener("touchmove",k),window.addEventListener("touchend",p),window.addEventListener("touchcancel",q),window.addEventListener("blur",j),f=function(){f=null,window.removeEventListener("touchmove",k),window.removeEventListener("touchend",p),window.removeEventListener("touchcancel",q),window.removeEventListener("blur",j)})}}}function q(a,b){i(function(){var c=b.current,d=c.onDragCancel,e=c.onDragEnd,f=c.onDragMove;c=c.onDragStart;switch(a.lastEffect){case"start":c(a);return;case"move":f(a);return;case"end":e(a);return;case"cancel":d(a);return}},[a,b])}function r(a,b,d){var e=k(n),f=e[0],g=e[1];e=c("useStable")(function(){return p(g,a,b)});var h=e.destroy,j=e.onMouseDown;e=e.onTouchStart;i(function(){return h},[h]);return{dragState:f,rootProps:{onClick:function(a){a.stopPropagation(),a.preventDefault()},onMouseDown:j,onTouchStart:(d==null?void 0:d.hasTouchEvents)===!0?e:void 0}}}function e(a,b){var c=j(a),d=j(null);i(function(){c.current=a},[a]);d=r(c,d,b);b=d.dragState;d=d.rootProps;q(b,c);return{dragState:b,isDragging:b.dragState==="dragging",rootProps:d}}g.usePointerDragResizeObserver=a;g.computePointerOffsetRatio=b;g.usePointerDrag=e}),98);
__d("useVideoPlayerScrubberState",["VideoPlayerPointerDrag","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function k(a,b){return Math.min(a>0?b/a:0,1)}function a(a){var b=a.bufferEnd,e=a.currentTime,f=a.duration,g=a.onScrubCancel,h=a.onScrubEnd,l=a.onScrubStart;a=a.supportsTouch;var m=d("VideoPlayerPointerDrag").usePointerDragResizeObserver(),n=m.invalidateRootRect,o=m.rootRectRef;m=m.rootSizeRefCallback;var p=j(0),q=p[0],r=p[1];p=j(!1);var s=p[0],t=p[1],u=c("usePrevious")(e);i(function(){e!==u&&t(!1)},[e,u]);p=d("VideoPlayerPointerDrag").usePointerDrag({onDragCancel:function(a){g()},onDragEnd:function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,o.current);if(!a){g();return}r(a.ratioX);a=a.ratioX*f;h(a)},onDragEndSync:function(){t(!0)},onDragMove:function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,o.current);if(!a)return;r(a.ratioX)},onDragStart:function(a){n();a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,o.current);if(!a)return;r(a.ratioX);l()}},{hasTouchEvents:a===!0});a=p.isDragging;p=p.rootProps;b=k(f,b);var v=k(f,e);return{bufferedRatio:b,currentPlayedRatio:v,invalidateRootRect:n,isDragging:a,isWaitingForSeek:s,pointerOffsetRatio:q,rootProps:p,rootRectRef:o,rootSizeRefCallback:m}}g["default"]=a}),98);
__d("VideoPlayerScrubberBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerUserInteractionCounter","cr:2236","react","stylex","useVideoPlayerScrubberState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useMemo,n=e.useState,o={root:{cursor:"x1ypdohk",paddingTop:"x1y1aw1k",paddingEnd:"x4uap5",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",position:"x1n2onr6",userSelect:"x87ps6o",width:"xh8yej3",$$css:!0},rootWithReelsScrubber:{alignItems:"x6s0dn4",bottom:"xq6397w",cursor:"x1ypdohk",display:"x78zum5",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",position:"x1n2onr6",userSelect:"x87ps6o",width:"xh8yej3",$$css:!0},withoutVerticalPadding:{paddingBottom:"x18d9i69",paddingTop:"xexx8yu",$$css:!0}};function a(a){var e=a.bufferEnd,f=a.currentTime,g=a.disableKeyCommands,j=a.duration,p=a.hasReelsScrubber;p=p===void 0?!1:p;var q=a.hideNub;q=q===void 0?!1:q;var r=a.isLive,s=a.isLiveRewindActive,t=a.keyLeftDescription,u=a.keyRightDescription,v=a.onScrubCancel,w=a.onScrubEnd,x=a.onScrubStart,y=a.onUserInteraction,z=a.playFromBeginningImpl,A=a.renderScrubber,B=a.renderTooltip,C=a.skipBackwardImpl,D=a.skipForwardImpl,E=a.skipToEndImpl,F=a.supportsTouch,G=a.timelineBackgroundXStyle,H=a.timelineBufferedXStyle,I=a.timelinePlayedXStyle;a=a.withoutVerticalPadding;a=a===void 0?!1:a;var J=n(!1),K=J[0],L=J[1];J=n(0);var M=J[0],N=J[1];J=n(null);var O=J[0],P=J[1];J=c("useVideoPlayerScrubberState")({bufferEnd:e,currentTime:f,duration:j,onScrubCancel:v,onScrubEnd:w,onScrubStart:x,supportsTouch:F});e=J.bufferedRatio;v=J.currentPlayedRatio;var Q=J.invalidateRootRect;w=J.isDragging;x=J.isWaitingForSeek;F=J.pointerOffsetRatio;var R=J.rootProps,S=J.rootRectRef;J=J.rootSizeRefCallback;var T=l(function(){L(!0)},[]),U=l(function(){L(!1)},[]),V=l(function(a){Q();if(S.current!=null){var b=S.current.left,c=S.current.width,d=Math.max(0,Math.min(c,a.clientX-b));d=c>0?d/c:0;c=Number.isFinite(j)&&j>0?j*d:null;N(a.clientX-b);P(c)}},[j,Q,S]),W=K||w;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_scrubber",W,y);y=K||w||x;x=w||x?F:r&&!s?1:v;F=m(function(){return g===!0?[]:[{command:{key:c("CometKeys").RIGHT},description:u,handler:D},{command:{key:c("CometKeys").LEFT},description:t,handler:C},{command:{key:c("CometKeys").HOME},description:h._("__JHASH__3cUloDtyzSK__JHASH__"),handler:z},{command:{key:c("CometKeys").END},description:h._("__JHASH__jTksR1FMT97__JHASH__"),handler:E}]},[g,u,D,t,C,z,E]);v={bufferedRatio:e,duration:j,hoveringPositionSec:O,isHovering:K,isLive:r,isLiveRewindActive:s,isNubVisible:!q&&y,playedRatio:x,timelineBackgroundXStyle:G,timelineBufferedXStyle:H,timelinePlayedXStyle:I};return k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:F,children:k.jsxs("div",babelHelpers["extends"]({},R,{"aria-label":h._("__JHASH__69czi8qDKMx__JHASH__"),"aria-orientation":"horizontal","aria-valuemax":j,"aria-valuemin":"0","aria-valuenow":f,className:(i||(i=c("stylex")))(p&&b("cr:2236")?o.rootWithReelsScrubber:o.root,a&&o.withoutVerticalPadding),"data-testid":void 0,onMouseEnter:T,onMouseLeave:U,onMouseMove:V,ref:J,role:"slider",tabIndex:"0",children:[p&&b("cr:2236")?k.jsx(b("cr:2236"),{bufferedRatio:e,isDragging:w,isInteracting:W,playedRatio:x}):k.jsx(k.Fragment,{children:A!=null?A(v):k.jsx(c("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers["extends"]({},v))}),B!=null&&O!=null&&K&&k.jsx("div",{className:"xfqi8uc x10l6tqk",style:{left:M},children:B(O)})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisPostVideoPlayerScrubber.react",["VideoPlayerHooks","VideoPlayerScrubberBase.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;var k=b.c,l=5,m={timelineBackgroundXStyle:{backgroundColor:"x1o95745",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xqu0tyb",$$css:!0},timelineBuffered:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xqu0tyb",$$css:!0},timelinePlayed:{backgroundColor:"xz3rzyy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xqu0tyb",$$css:!0}};function n(){return(i||(i=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200)}function a(a){var b=k(24);a=a.hasReelsScrubber;a=a===void 0?!1:a;var e=n(),f=(i||(i=d("VideoPlayerHooks"))).useBufferEnd(),g=i.useDuration(),h=i.useController(),o;b[0]!==h?(o=function(){h.scrubEnd(null)},b[0]=h,b[1]=o):o=b[1];o=o;var p;b[2]!==h?(p=function(a){h.scrubEnd(a)},b[2]=h,b[3]=p):p=b[3];p=p;var q;b[4]!==h?(q=function(){h.scrubBegin()},b[4]=h,b[5]=q):q=b[5];q=q;var r;b[6]!==h?(r=function(){h.seek(0)},b[6]=h,b[7]=r):r=b[7];r=r;var s;b[8]!==h?(s=function(){var a=h.getPlayheadPosition()-l;a<0?h.seek(0):h.seek(a)},b[8]=h,b[9]=s):s=b[9];s=s;var t;b[10]!==h||b[11]!==g?(t=function(){var a=h.getPlayheadPosition()+l;a>=g?h.seek(g-.01):h.seek(a)},b[10]=h,b[11]=g,b[12]=t):t=b[12];t=t;var u=i.useLastPlayReason();if(!u)return null;b[13]!==f||b[14]!==e||b[15]!==g||b[16]!==a||b[17]!==o||b[18]!==p||b[19]!==q||b[20]!==r||b[21]!==s||b[22]!==t?(u=j.jsx(c("VideoPlayerScrubberBase.react"),{bufferEnd:f,currentTime:e,disableKeyCommands:!0,duration:g,hasReelsScrubber:a,isLive:!1,isLiveRewindActive:!1,keyLeftDescription:"",keyRightDescription:"",onScrubCancel:o,onScrubEnd:p,onScrubStart:q,playFromBeginningImpl:r,skipBackwardImpl:s,skipForwardImpl:t,skipToEndImpl:c("emptyFunction"),supportsTouch:!0,timelineBackgroundXStyle:m.timelineBackgroundXStyle,timelineBufferedXStyle:m.timelineBuffered,timelinePlayedXStyle:m.timelinePlayed}),b[13]=f,b[14]=e,b[15]=g,b[16]=a,b[17]=o,b[18]=p,b[19]=q,b[20]=r,b[21]=s,b[22]=t,b[23]=u):u=b[23];return u}g["default"]=a}),98);
__d("PolarisTimeConverter",["padNumber"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=Math.floor(a/6e4);a=Math.floor(a%6e4/1e3);a=a>9?a.toString():"0"+a;return b+":"+a}function a(a){var b=Math.floor(a/3600),d=Math.floor(a/60%60),e=Math.floor(a%60);if(b)return b+":"+c("padNumber")(d,2)+":"+c("padNumber")(e,2);else return h(a*1e3)}g.convertMillisecondsToMinutesAndSeconds=h;g.convertSecondsToHoursMinutesAndSeconds=a}),98);
__d("PolarisPostVideoPlayerTimestamp.react",["IGDSBox.react","IGDSText.react","PolarisTimeConverter","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h;function l(){return(i||(i=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200)}function a(){var a=j(2),b=l();b=d("PolarisTimeConverter").convertSecondsToHoursMinutesAndSeconds(Math.round(b));var e;a[0]!==b?(e=k.jsx(c("IGDSBox.react"),{alignItems:"center",display:"flex",marginEnd:2,marginStart:2,width:32,children:k.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"footnote",children:b})}),a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("usePolarisVideoVolumeControls",["PolarisVideoConstants","PolarisVolumeControlsManager.react","VideoPlayerHooks","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.c;function a(a){var b=k(13),e=a.enabled,f=(i||(i=d("VideoPlayerHooks"))).useController(),g=d("PolarisVolumeControlsManager.react").useVolumeControls(),h=i.usePaused(),l=i.useMuted(),m=c("usePrevious")(l),n=i.useLastMuteReason(),o;b[0]!==e||b[1]!==m||b[2]!==l||b[3]!==n||b[4]!==g?(a=function(){e&&m!=null&&m!==l&&n==="user_initiated"&&g.setAudioState(l?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on)},o=[e,l,n,m,g],b[0]=e,b[1]=m,b[2]=l,b[3]=n,b[4]=g,b[5]=a,b[6]=o):(a=b[5],o=b[6]);j(a,o);b[7]!==e||b[8]!==h||b[9]!==g.audioState||b[10]!==f?(a=function(){e&&!h&&g.audioState!==d("PolarisVideoConstants").AUDIO_STATES.none&&f.setMuted(g.audioState==="off","product_initiated")},o=[e,f,h,g.audioState],b[7]=e,b[8]=h,b[9]=g.audioState,b[10]=f,b[11]=a,b[12]=o):(a=b[11],o=b[12]);j(a,o);return g.audioState}g["default"]=a}),98);
__d("usePolarisVideoAudioState",["PolarisConfig","PolarisVideoConstants","VideoPlayerHooks","usePolarisVideoVolumeControls"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=a.noAudio;var b=(h||(h=d("VideoPlayerHooks"))).useMuted(),e=!d("PolarisConfig").isIOS(),f=c("usePolarisVideoVolumeControls")({enabled:e});if(a===!0)return d("PolarisVideoConstants").AUDIO_STATES.none;return!e?b?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on:f}g["default"]=a}),98);
__d("usePolarisPostVideoToggleAudio",["PolarisVideoConstants","VideoPlayerHooks","react","usePolarisVideoAudioState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");b.useCallback;var j=b.c;function a(a){var b=j(8),e=(i||(i=d("VideoPlayerHooks"))).useController(),f=a.clipsMusicAttributionInfo;a=a.hasAudio;var g=c("usePolarisVideoAudioState")({noAudio:a===!1||(f==null?void 0:f.should_mute_audio)===!0}),h;b[0]!==g||b[1]!==e?(h=function(){if(g!==d("PolarisVideoConstants").AUDIO_STATES.none){var a=e.getCurrentState();a=a.muted;e.setMuted(!a,"user_initiated")}},b[0]=g,b[1]=e,b[2]=h):h=b[2];h=h;var k;b[3]!==g||b[4]!==f||b[5]!==a||b[6]!==h?(k={audioState:g,clipsMusicAttributionInfo:f,hasAudio:a,toggleAudio:h},b[3]=g,b[4]=f,b[5]=a,b[6]=h,b[7]=k):k=b[7];return k}g["default"]=a}),98);
__d("PolarisPostVideoVolumeControls.react",["PolarisVideoConstants","PolarisVideoVolumeControls.react","react","usePolarisPostVideoToggleAudio"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),e=a.inPlayerControls;a=a.post;a=c("usePolarisPostVideoToggleAudio")(a);var f=a.audioState,g=a.clipsMusicAttributionInfo;a=a.toggleAudio;g=f===d("PolarisVideoConstants").AUDIO_STATES.none?g==null?void 0:g.should_mute_audio_reason:void 0;var h;b[0]!==f||b[1]!==g||b[2]!==e||b[3]!==a?(h=j.jsx(c("PolarisVideoVolumeControls.react"),{audioState:f,forceMuteReason:g,inPlayerControls:e,onClick:a}),b[0]=f,b[1]=g,b[2]=e,b[3]=a,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("VideoControlsContainerFocusedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("VideoPlayerControlsHiddenContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("VideoPlayerControlsContainerOverlay.react",["CometErrorBoundary.react","FocusWithinHandler.react","VideoControlsContainerFocusedContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsHiddenContext","VideoPlayerHooks","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useEffect,m=44,n={backgroundGradient:{backgroundImage:"x11v4dcs",bottom:"x1ey2m1c",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x8knxv4",$$css:!0},"default":{bottom:"x1ey2m1c",flexDirection:"x1q0g3np",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x11uqc5h",$$css:!0},firstRow:{alignItems:"x6s0dn4",direction:"xzt5al7",display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",visibility:"xlshs6z",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=a.children,e=a.height,f=a.initialBottomRowAddOn;f=f===void 0?null:f;var g=a.isBackgroundVisible,i=a.isVisible,o=a.xstyle,p=d("VideoPlayerControlsBottomRowAddOnContext").useVideoPlayerControlsBottomRowAddOn(f);a=(j||(j=d("VideoPlayerHooks"))).useVideoPlayerCaptionsReservationActions();var q=a.release,r=a.reserve,s=(f=e)!=null?f:m;l(function(){if(Boolean(i)||Boolean(g)){var a=r({location:"bottom",size:s});return function(){q(a)}}},[i,g,r,q,s]);var t=g===!1||i===!1,u=g===!0||i===!0;return k.jsx(c("FocusWithinHandler.react"),{children:function(a,d){return k.jsx(c("VideoControlsContainerFocusedContext").Provider,{value:d,children:k.jsxs("div",{className:(h||(h=c("stylex")))(n["default"],p==null&&n.firstRow,i===!1&&n.hidden,i===!0&&n.visible),"data-testid":void 0,children:[k.jsx("div",{className:h(n.backgroundGradient,t&&n.hidden,u&&n.visible,o),style:{height:s}}),k.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:t,children:p==null?b:k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"x6s0dn4 xzt5al7 x78zum5 x1q0g3np",children:b}),k.jsx(c("CometErrorBoundary.react"),{children:p})]})})]})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerControlsGroups.react",["VideoControlsContainerFocusedContext","VideoPlayerControlsHiddenContext","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={contracted:{paddingTop:"xexx8yu",paddingEnd:"x1mpkggp",paddingBottom:"x18d9i69",paddingStart:"x1t2a60a",$$css:!0},"default":{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"x2lah0s",flexWrap:"xozqiw3",$$css:!0},expanded:{flexGrow:"x1iyjqo2",$$css:!0},hidden:{opacity:"x1fmh03i",pointerEvents:"x47corl",$$css:!0},noPaddingEnd:{paddingEnd:"x4uap5",$$css:!0},noPaddingStart:{paddingStart:"xkhd6sd",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=a.children,d=a.isVisible;d=d===void 0?!0:d;var e=a.noPaddingEnd;e=e===void 0?!1:e;a=a.noPaddingStart;a=a===void 0?!1:a;var f=k(c("VideoControlsContainerFocusedContext"));d=d||f;f=k(c("VideoPlayerControlsHiddenContext"));return j.jsx("div",{className:(h||(h=c("stylex")))(l["default"],l.contracted,e&&l.noPaddingEnd,a&&l.noPaddingStart,d?l.visible:l.hidden),children:j.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:f||!d,children:b})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children,d=a.isVisible;d=d===void 0?!0:d;a.noPaddingEnd;a.noPaddingStart;a=k(c("VideoControlsContainerFocusedContext"));d=d||a;a=k(c("VideoPlayerControlsHiddenContext"));return j.jsx("div",{className:(h||(h=c("stylex")))(l["default"],l.expanded,d?l.visible:l.hidden),children:j.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:a||!d,children:b})})}b.displayName=b.name+" [from "+f.id+"]";g.Contracted=a;g.Expanded=b}),98);
__d("PolarisPostVideoPlayerControls.react",["IGDSBox.react","PolarisPostVideoPlayerScrubber.react","PolarisPostVideoPlayerTimestamp.react","PolarisPostVideoVolumeControls.react","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(8),e=a.post,f=a.shouldUseVolumeControls;a=a.showVideoControls;if(f===!0){b[0]!==e?(f=j.jsx(c("PolarisPostVideoVolumeControls.react"),{post:e}),b[0]=e,b[1]=f):f=b[1];return f}if(a===!0){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(d("VideoPlayerControlsGroups.react").Expanded,{isVisible:!0,children:j.jsx(c("PolarisPostVideoPlayerScrubber.react"),{})}),b[2]=f):f=b[2];a=f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,noPaddingStart:!0,children:j.jsx(c("PolarisPostVideoPlayerTimestamp.react"),{})}),b[3]=f):f=b[3];f=f;var g;b[4]!==e?(g=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,noPaddingStart:!0,children:j.jsx(c("PolarisPostVideoVolumeControls.react"),{inPlayerControls:!0,post:e})}),b[4]=e,b[5]=g):g=b[5];e=g;b[6]!==e?(g=j.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:!0,children:j.jsxs(c("IGDSBox.react"),{direction:"row",display:"flex",padding:4,width:"100%",children:[a,f,e]})}),b[6]=e,b[7]=g):g=b[7];return g}return null}g["default"]=a}),98);
__d("usePolarisShouldFeedMediaBeFullHeight",["PolarisClipsTabHelpers","PolarisDsaQEHelpers","PolarisFeedPageConstants","PolarisNavigationLayoutContext","PolarisPanavisionQEHelpers","react","usePolarisIsFeedMobileLayout","usePolarisIsOnFeedPage"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.c;function a(a){var b=j(3),e=a.analyticsContext,f=a.height;a=a.width;var g=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),h=i(c("PolarisNavigationLayoutContext"));h=h.navigationPosition;h=h==="bottom";h=d("PolarisClipsTabHelpers").getReelMediaContainerHeight(d("PolarisDsaQEHelpers").hasNonProfiledExperienceEnabled(),h);var k=c("usePolarisIsOnFeedPage")();if(!k||d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp()===!1||g)return!1;if(e==="feedPageModal")return!0;if(a!=null&&f!=null&&a!==0&&f!==0){k=d("PolarisFeedPageConstants").FAMILIAR_FEED_WIDTH/a*f;g=Math.min(h*.5625,d("PolarisFeedPageConstants").FAMILIAR_FEED_WIDTH);e=g*1.7777777777777777;b[0]!==e||b[1]!==k?(a=k>=e-1&&d("PolarisPanavisionQEHelpers").hasNoLetterboxing(),b[0]=e,b[1]=k,b[2]=a):a=b[2];return a}return!1}g["default"]=a}),98);
__d("usePolarisShouldCenterCropPosterHeight",["PolarisUA","polarisVideoUtils","react","usePolarisIsOnFeedPage","usePolarisShouldFeedMediaBeFullHeight"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a,b){var e=i(2),f=c("usePolarisIsOnFeedPage")();b=c("usePolarisShouldFeedMediaBeFullHeight")({analyticsContext:a,height:(a=b.dimensions)==null?void 0:a.height,width:(a=b.dimensions)==null?void 0:a.width});if(d("polarisVideoUtils").isIGTVFeedPreview())return!0;a=f&&!b;e[0]!==a?(f=d("PolarisUA").isMobile()||a,e[0]=a,e[1]=f):f=e[1];return f}g["default"]=a}),98);
__d("PolarisPostVideoPlayerWrapper.react",["PolarisVideoHelpers","react","usePolarisShouldCenterCropPosterHeight"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(9),e=a.analyticsContext,f=a.children;a=a.post;e=c("usePolarisShouldCenterCropPosterHeight")(e,a);a=d("PolarisVideoHelpers").getVideoPaddingPercentFromDimensions(a.dimensions,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="xg10s4p x1n2onr6 xh8yej3",b[0]=e):e=b[0];a=a+"%";var g;b[1]!==a?(g={paddingBottom:a},b[1]=a,b[2]=g):g=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a="xyzq4qe x5yr21d x10l6tqk xh8yej3",b[3]=a):a=b[3];b[4]!==f?(a=j.jsx("div",{className:a,children:f}),b[4]=f,b[5]=a):a=b[5];b[6]!==g||b[7]!==a?(f=j.jsx("div",{className:e,style:g,children:a}),b[6]=g,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("PolarisPostViewInsights.react",["fbt","CometPlaceholder.react","CometRouteParams","IGDSButton.react","JSResourceForInteraction","PolarisLinkBuilder","QuickPerformanceLogger","lazyLoadComponent","qex","qpl","react","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect;b.useMemo;var m=b.useState,n=b.c,o=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisPostViewInsights.react"));function p(a){switch(a){case"com.instagram.insights.media_refresh.videos.ad_bottom_sheet.action":(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39130588,"1610"),0);break;case"com.instagram.insights.media_refresh.videos.bottom_sheet.action":(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39130588,"1610"),0);break;case"com.instagram.insights.media_refresh.clips.ad_bottom_sheet.action":(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39137013,"1611"),0);break;case"com.instagram.insights.media_refresh.clips.bottom_sheet.action":(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39137013,"1611"),0);break;default:(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39124994,"1612"),0)}}function a(a){var b=n(20),e=a.bloksAppId,f=a.mediaId;a=d("CometRouteParams").useRouteParams();var g=a.show_insights;a=m(Boolean(g));var i=a[0],j=a[1],q=c("useCometRouterDispatcher")(),r;b[0]!==g?(a=function(){j(Boolean(g))},r=[g],b[0]=g,b[1]=a,b[2]=r):(a=b[1],r=b[2]);l(a,r);b[3]!==f?(a={media_id:f},b[3]=f,b[4]=a):a=b[4];r=a;a=r;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(r=function(){return j(!1)},b[5]=r):r=b[5];r=r;var s;b[6]!==q||b[7]!==f||b[8]!==e?(s=function(){var a;a=(a=c("qex")._("1542"))!=null?a:!1;a?q==null?void 0:q.go(d("PolarisLinkBuilder").buildImmersiveMediaInsightsLink(String(f)),{target:"self"}):(j(!0),p(e))},b[6]=q,b[7]=f,b[8]=e,b[9]=s):s=b[9];s=s;var t;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._("__JHASH__ibs5xsuNLiq__JHASH__"),b[10]=t):t=b[10];b[11]!==s?(t=k.jsx(c("IGDSButton.react"),{display:"block",label:t,onClick:s,variant:"primary_link"}),b[11]=s,b[12]=t):t=b[12];b[13]!==i||b[14]!==e||b[15]!==a?(s=i?k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(o,{appId:e,bridgeOverrides_DEPRECATED:{onResumeStoryPlayback:r},loadingFallback:k.jsx("div",{}),params:a})}):null,b[13]=i,b[14]=e,b[15]=a,b[16]=s):s=b[16];b[17]!==t||b[18]!==s?(r=k.jsxs("section",{children:[t,s]}),b[17]=t,b[18]=s,b[19]=r):r=b[19];return r}g["default"]=a}),226);
__d("PolarisPostViews.react",["cx","fbt","IGDSText.react","PolarisBigNumber.react","PolarisLogger","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useState,m=b.c;function n(a){return a===1?i._("__JHASH__-4rMdzmO7iR__JHASH__",[i._param("count",a)]):i._("__JHASH__bzQqcYCqjPQ__JHASH__",[i._param("count",k.jsx(c("PolarisBigNumber.react"),{value:a}))])}n.displayName=n.name+" [from "+f.id+"]";function o(a){return a===1?i._("__JHASH__gVA7T1ZCZwN__JHASH__",[i._param("count",a)]):i._("__JHASH__7IxnQp4Oj43__JHASH__",[i._param("count",k.jsx(c("PolarisBigNumber.react"),{value:a}))])}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=m(13),c=a.likeCount;a=a.onClose;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="_aaur",b[0]=d):d=b[0];b[1]!==a?(d=k.jsx("div",{className:d,onClick:a,role:"button",tabIndex:"0"}),b[1]=a,b[2]=d):d=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("div",{className:"_aaus"}),b[3]=a):a=b[3];var e;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx("div",{className:"_aaut"}),b[4]=e):e=b[4];var f;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(f="_aauu",b[5]=f):f=b[5];var g;b[6]!==c?(g=o(c),b[6]=c,b[7]=g):g=b[7];b[8]!==g?(c=k.jsx("div",{className:f,children:g}),b[8]=g,b[9]=c):c=b[9];b[10]!==d||b[11]!==c?(f=k.jsxs("div",{children:[d,a,e,c]}),b[10]=d,b[11]=c,b[12]=f):f=b[12];return f}function a(a){var b=m(19),e=a.analyticsContext,f=a.likeCount;a=a.viewCount;var g=l(!1),h=g[0],i=g[1];b[0]!==h||b[1]!==e?(g=function(){h||d("PolarisLogger").logAction("viewCountClick",{source:e}),i(!h)},b[0]=h,b[1]=e,b[2]=g):g=b[2];g=g;var j;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(j="_aauv",b[3]=j):j=b[3];var o;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(o="_aauw",b[4]=o):o=b[4];var q;b[5]!==a?(q=n(a),b[5]=a,b[6]=q):q=b[6];b[7]!==q?(a=k.jsx(c("IGDSText.react").BodyEmphasized,{zeroMargin:!0,children:q}),b[7]=q,b[8]=a):a=b[8];b[9]!==g||b[10]!==a?(q=k.jsx("span",{className:o,onClick:g,role:"button",tabIndex:"0",children:a}),b[9]=g,b[10]=a,b[11]=q):q=b[11];b[12]!==h||b[13]!==f||b[14]!==g?(o=h&&k.jsx(p,{likeCount:f,onClose:g}),b[12]=h,b[13]=f,b[14]=g,b[15]=o):o=b[15];b[16]!==q||b[17]!==o?(a=k.jsxs("div",{className:j,children:[q,o]}),b[16]=q,b[17]=o,b[18]=a):a=b[18];return a}g["default"]=a}),226);
__d("PolarisShareSheetV3RootQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7675195682564773"}),null);
__d("PolarisShareSheetV3RootQuery$Parameters",["PolarisShareSheetV3RootQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisShareSheetV3RootQuery_instagramRelayOperation"),metadata:{},name:"PolarisShareSheetV3RootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisShareSheetV3.entrypoint",["JSResourceForInteraction","PolarisShareSheetV3RootQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.searchText;return{queries:{queryReference:{parameters:c("PolarisShareSheetV3RootQuery$Parameters"),variables:{search_text:a}}}}},root:c("JSResourceForInteraction")("PolarisShareSheetV3Root.react").__setRef("PolarisShareSheetV3.entrypoint")};g["default"]=a}),98);
__d("PolarisStepIndicator.react",["cx","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l="horizontal",m="vertical",n="default",o="immersiveViewer",p="overlay",q="overlayShadow";function a(a){var b=j(16),d=a.className,e=a.direction,f=a.numSteps,g=a.selectedStep;a=a.style;e=e===void 0?l:e;a=a===void 0?n:a;var h=e===m;e=e===l;var i=a===n,r=a===p,s=a===q;a=a===o;var t;b[0]!==h||b[1]!==e||b[2]!==i||b[3]!==r||b[4]!==s||b[5]!==a||b[6]!==d?(t=c("joinClasses")(d,"_acvz"+(h?" _acnd":"")+(e?" _acnc":"")+(i?" _acne":"")+(r?" _acng":"")+(s?" _acnh":"")+(a?" _any_":"")),b[0]=h,b[1]=e,b[2]=i,b[3]=r,b[4]=s,b[5]=a,b[6]=d,b[7]=t):t=b[7];if(b[8]!==f||b[9]!==g){b[11]!==g?(h=function(a,b){return k.jsx("div",{className:"_acnb"+(b===g?" _acnf":"")},"step"+b)},b[11]=g,b[12]=h):h=b[12];e=new Array(f).fill(0).map(h);b[8]=f;b[9]=g;b[10]=e}else e=b[10];b[13]!==t||b[14]!==e?(i=k.jsx("div",{className:t,children:e}),b[13]=t,b[14]=e,b[15]=i):i=b[15];return i}g["default"]=a}),98);
__d("PolarisSidecar.react",["cx","IGDSBox.react","PolarisLogger","PolarisPagerButton.react","PolarisResponsiveBlock.react","PolarisSizing","PolarisStepIndicator.react","PolarisVirtualHSnapScroll.react","getPolarisKeyCommandConfig","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=400;a=1;var l=1,m=a+l,n={areaClick:null,pagerClick:"click",scroll:"scroll",swipe:null};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state={hoveredOver:!1,mediaWidth:c.props.initialMediaWidthGuess||0,sidecarChildIndex:c.props.initialCarouselIndex||0},c.$1=null,c.$2=!1,c.$3={},c.$4=function(a){var b=c.props,d=b.initialCarouselIndex;b=b.numSidecarChildren;c.$1=a;if(d!=null&&d>0&&d<b&&c.$2===!1){(a=c.$1)==null?void 0:a.snapToIndex(d);c.$2=!0}c.props.onSetScrollRef&&c.props.onSetScrollRef(c.$1)},c.$5=function(a){c.$2=a},c.$6=function(a){return Math.min(Math.pow(Math.abs(a),.75)*3,k)},c.$9=function(a){c.setState({mediaWidth:a})},c.$10=function(a){a=a.interactionType;a=n[a];a!=null&&!c.$3[a]&&(d("PolarisLogger").logAction("sidecarEngagement",{source:" hscroll",type:a}),c.$3[a]=!0);c.props.onInteract&&c.props.onInteract()},c.$11=function(){var a=c.props,b=a.numSidecarChildren,d=a.onChildIndexChange,e=c.state.sidecarChildIndex,f=(a=(a=c.$1)==null?void 0:a.getCurrentIndex())!=null?a:0;f!==e&&f>=0&&f<b&&c.setState({sidecarChildIndex:f},function(){d&&d(e,f,b)})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$7=function(){this.setState({hoveredOver:!0})};e.$8=function(){this.setState({hoveredOver:!1})};e.$12=function(){var a;return j.jsx(c("PolarisStepIndicator.react"),{className:"_aamj",numSteps:this.props.numSidecarChildren,selectedStep:this.state.sidecarChildIndex,style:(a=this.props.stepIndicatorStyle)!=null?a:"overlay"})};e.$13=function(){var a=this.props,b=a.dimensions;a=a.numSidecarChildren;if(a===0)return null;a=b.toSorted(function(a,b){a=a.width/a.height;b=b.width/b.height;return a-b})[0];if(!a)return null;b=d("PolarisSizing").getHeightPercent(a);a={paddingBottom:b+"%"};return j.jsx("div",{className:"_aami",style:a})};e.$14=function(a){var b=this;return a==="immersiveViewer"?[d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("mediaViewer","goToNextIndex",function(){var a;(a=b.$1)==null?void 0:a.snapToNext()}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("mediaViewer","goToPrevIndex",function(){var a;(a=b.$1)==null?void 0:a.snapToPrev()})]:[]};e.render=function(){var a=this,b=this.props,e=b.autoScrollOnFocus,f=b.initialCarouselIndex,g=b.mediaFooter;b=b.numSidecarChildren;var h=this.state.mediaWidth,i=this.$12(),k=!this.props.hoverTriggeredPager,n=this.$14(this.props.stepIndicatorStyle);return j.jsxs("div",{className:"_aamm",onMouseEnter:function(){a.$7()},onMouseLeave:function(){a.$8()},ref:this.props.containerRef,children:[j.jsxs(c("PolarisResponsiveBlock.react"),{className:"_aamn",onResize:this.$9,children:[this.$13(),h>0&&j.jsx(c("IGDSBox.react"),{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:j.jsx(c("PolarisVirtualHSnapScroll.react"),{animationDuration:this.$6,autoScrollOnFocus:e,initialIndex:(e=f)!=null?e:0,initialNextPagerVisibleGuess:f!=null&&f<b,initialPreviousPagerVisibleGuess:f!=null&&f>0,initialVisibleItemsGuess:m,itemWidth:h,navigationCommands:n,onInteract:this.$10,onVisibilityChange:this.$11,overscan:this.props.renderAllSidecarChildren===!0?b:l,pagerDisabled:!k&&!this.state.hoveredOver,pagerVariant:d("PolarisPagerButton.react").PAGER_BUTTON_VARIANTS.sidecar,scrollRef:this.$4,setScrollRefMounted:this.$5,children:this.props.renderSidecarChildren(this.state.mediaWidth,this.state.sidecarChildIndex)})})]}),g,i]})};return b}(j.PureComponent);e=b;g._Sidecar=b;g.Sidecar=e}),98);
__d("PolarisVideoIndicatorIcon.react",["PolarisConfig","PolarisLoggedOutUserTagIndicatorWithSheet.react","PolarisUpcomingEventIndicatorWithSheetOrModal.react","PolarisUserTagIndicatorWithSheet.react","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(15),e=a.analyticsContext,f=a.asSidecarChild,g=a.firstSidecarChildSrc,h=a.post;a=a.upcomingEventMediaId;var k=h.id,l=h.src,m=h.upcomingEvent,n=h.usertags;if(m){var o;b[0]!==a?(o=c("nullthrows")(a),b[0]=a,b[1]=o):o=b[1];a=f===!0?g:l;b[2]!==a?(f=c("nullthrows")(a),b[2]=a,b[3]=f):f=b[3];b[4]!==e||b[5]!==o||b[6]!==m||b[7]!==f||b[8]!==n?(g=j.jsx(c("PolarisUpcomingEventIndicatorWithSheetOrModal.react"),{analyticsContext:e,isVideo:!0,mediaId:o,upcomingEvent:m,upcomingEventThumbnailSrc:f,usertags:n}),b[4]=e,b[5]=o,b[6]=m,b[7]=f,b[8]=n,b[9]=g):g=b[9];return g}if(n!=null&&n.length>0&&e!=="reelsTab"){b[10]!==e||b[11]!==k||b[12]!==h||b[13]!==n?(l=d("PolarisConfig").isLoggedIn()?j.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{analyticsContext:e,mediaId:k,post:h,usertags:n}):j.jsx(c("PolarisLoggedOutUserTagIndicatorWithSheet.react"),{analyticsContext:e,mediaId:k,post:h,usertags:n}),b[10]=e,b[11]=k,b[12]=h,b[13]=n,b[14]=l):l=b[14];return l}return null}g["default"]=a}),98);
__d("XPolarisMobileAllCommentsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/p/{shortcode}/comments/",Object.freeze({enable_persistent_cta:!1}),void 0);b=a;g["default"]=b}),98);
__d("useURL",["react","useCounter"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef;function a(){var a=k(new URL(window.location.href)),b=c("useCounter")();b[0];var d=b[1].increment;j(function(){var b=o(function(b){b.href!==a.current.href&&(a.current=b,d())});return b},[d]);b=i(function(b,c){c=c===void 0?{}:c;var e=c.replace;e=e===void 0?!1:e;c=c.state;c=c===void 0?null:c;b=typeof b==="function"?b(a.current):b;if(a.current.href===b.href)return;a.current=b;d();var f=window.history;e?f.replaceState(c,"",b.toString()):f.pushState(c,"",b.toString());r()},[d]);return[a.current,b]}var l=new Set(),m=new URL(window.location.href),n;function o(a){l.add(a);var b=l.size===1;b&&p();return function(){l["delete"](a);var b=l.size===0;b&&q()}}function p(){window.addEventListener("hashchange",r,{passive:!0}),window.addEventListener("popstate",r,{passive:!0}),n=window.setInterval(r,250)}function q(){window.removeEventListener("hashchange",r),window.removeEventListener("popstate",r),window.clearInterval(n)}function r(){if(m.href===window.location.href)return;m=new URL(window.location.href);for(var a=l,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d(m)}}g["default"]=a}),98);
__d("useURLSearchParams",["react","useURL"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useURL")(),b=a[0],d=a[1];a=i(function(a,b){return d(function(b){var c=typeof a==="function"?a(b.searchParams):a;if(j(b.searchParams,c))return b;b=new URL(b.toString());b.search=c.toString();return b},b)},[d]);return[b.searchParams,a]}function j(a,b){return k(a).toString()===k(b).toString()}function k(a){a=new URLSearchParams(a);a.sort();return a}g.useURLSearchParams=a;g.areURLSearchParamsEqual=j}),98);
__d("usePolarisPostSetURLSidecarIndex",["react","useURLSearchParams"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c;function a(){var a=i(2),b=d("useURLSearchParams").useURLSearchParams(),c=b[0];a[0]!==c?(b=function(a){var b=new URLSearchParams(c);b.set("img_index",String(a));d("useURLSearchParams").areURLSearchParamsEqual(c,b)||window.history.replaceState(babelHelpers["extends"]({},history.state),"","?"+b.toString())},a[0]=c,a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("usePolarisPostShowSavedToastHandler",["fbt","PolarisLinkBuilder","PolarisPostToastProvider.react","PolarisSavedPostsTypes","react","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useCallback;function a(){var a=d("PolarisPostToastProvider.react").usePostToastContext(),b=c("usePolarisViewer")();return j(function(){var c;d("PolarisPostToastProvider.react").showPostToast(babelHelpers["extends"]({},a,{ActionText:h._("__JHASH__vD_V0nwq90r__JHASH__"),BodyText:h._("__JHASH__Ohp7zsmQCxJ__JHASH__"),actionHref:d("PolarisLinkBuilder").buildUserSavedCollectionLink((c=b==null?void 0:b.username)!=null?c:"",d("PolarisSavedPostsTypes").ALL_POSTS_SAVED_COLLECTION_PATH,d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION)}))},[a,b==null?void 0:b.username])}g["default"]=a}),226);
__d("usePolarisVideoPressInteraction",["fbt","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;b=i||d("react");b.useCallback;var k=b.c;function a(a){var b=k(12),c=a.playButtonShowing,e=a.shouldUnmuteOnPlay,f=(j||(j=d("VideoPlayerHooks"))).useController(),g=j.useLastMuteReason();b[0]!==f?(a=function(){f.pause("user_initiated")},b[0]=f,b[1]=a):a=b[1];a=a;var i;b[2]!==f||b[3]!==e||b[4]!==g?(i=function(){f.play("user_initiated"),e&&g!=="user_initiated"&&f.setMuted(!1,"product_initiated")},b[2]=f,b[3]=e,b[4]=g,b[5]=i):i=b[5];i=i;if(c){b[6]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._("__JHASH__JwOWQUoE3fU__JHASH__"),b[6]=c):c=b[6];b[7]!==i?(c={ariaLabel:c,handler:i,overlayLabel:""},b[7]=i,b[8]=c):c=b[8];return c}b[9]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._("__JHASH__9n2Yt6-FC2y__JHASH__"),b[9]=i):i=b[9];b[10]!==a?(c={ariaLabel:i,handler:a,overlayLabel:""},b[10]=a,b[11]=c):c=b[11];return c}g["default"]=a}),226);
__d("usePolarisVideoShowPlayButton",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=d("VideoPlayerHooks"))).usePlaying(),b=h.usePaused(),c=h.useIsTransitioningToNextLoop();return!a&&b&&!c}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("I64MigrationHelper",["I64","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return c("nullthrows")((h||(h=d("I64"))).cast(a))}g.cast=a}),98);
__d("LSClientSchemaType",[],(function(a,b,c,d,e,f){"use strict";a="maw";f.MAW_SCHEMA_NAME=a}),66);
__d("LSConstants",[],(function(a,b,c,d,e,f){"use strict";a="ls";f.LS_SCHEMA_NAME=a}),66);
__d("LSDbForeignKeys",[],(function(a,b,c,d,e,f){"use strict";a={attachments:[{indexName:"fk_attachments",tableName:"attachment_items"},{indexName:"fk_attachments",tableName:"attachment_ctas"}],community_chat_poll_options:[{tableName:"community_chat_poll_votes"}],community_chat_polls:[{tableName:"community_chat_poll_options"},{tableName:"community_chat_poll_votes"}],data_trace_meta:[{indexName:"traceIdAddonId",tableName:"data_trace_addon"}],messages:[{indexName:"fk_messages",tableName:"attachments"},{indexName:"fk_messages",tableName:"reactions"}],pending_tasks:[{tableName:"encrypted_backup_restore_task_payload_context"},{indexName:"fk_pending_tasks",tableName:"pending_backups_context_v2"},{indexName:"fk_pending_tasks",tableName:"secure_recovery_code_data"},{indexName:"fk_pending_tasks",tableName:"secure_encrypted_backups_message_thread_id_context"},{tableName:"messages_optimistic_context"}],rooms:[{tableName:"room_participants"}],secure_encrypted_backups_client_state:[{indexName:"fk_secure_encrypted_backups_client_state",tableName:"secure_encrypted_backups_epochs"}],secure_encrypted_backups_devices:[{indexName:"fk_secure_encrypted_backups_device_supported_versions_device_id",tableName:"secure_encrypted_backups_device_supported_versions"}],threads:[{indexName:"threadKeyCtaId",tableName:"thread_nullstate_ctas"},{tableName:"messages"},{tableName:"attachments"},{tableName:"thread_nullstate"},{tableName:"messages_ranges_v2__generated"},{tableName:"attachments_ranges_v2__generated"},{tableName:"participants"},{indexName:"fk_threads",tableName:"mi_act_mapping_table"},{tableName:"group_invites"}]};b=a;f["default"]=b}),66);
__d("MAWDbVersionList",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}b={V21:21,V22:22,V23:23,V24:24,V25:25,V26:26,V27:27,V28:28,V29:29,V30:30,V31:31,V32:32,V33:33,V34:34,V35:35,V36:36,V37:37,V38:38,V39:39,V40:40,V41:41,V42:42,V43:43,V44:44,V45:45,V46:46,V47:47,V48:48,V49:49,V50:50,V51:51,V52:52,V53:53,V54:54,V55:55,V56:56,V57:57,V58:58,V59:59,V60:60,V61:61,V62:62,V63:63,V64:64,V65:65,V66:66,V67:67,V68:68,V69:69,V70:70,V71:71,V72:72,V73:73,V74:74,V75:75,V76:76,V77:77,V78:78,V79:79,V80:80,V81:81,V82:82,V83:83,V84:84,V85:85,V86:86,V87:87,V88:88,V89:89,V90:90,V91:91,V92:92,V93:93,V94:94,V95:95,V96:96,V97:97,V98:98,V99:99,V100:100,V101:101,V102:102,V103:103,V104:104,V105:105,V106:106,V107:107};f.toVersion=a;f.VERSION=b}),66);
__d("MAWDbSchema",["MAWDbVersionList"],(function(a,b,c,d,e,f,g){"use strict";a=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"]}},name:"e2ee_appData",primaryKey:["appDataId"]},{autoIncrement:!1,indexes:{},name:"e2ee_meta",primaryKey:["key"]},{autoIncrement:!1,indexes:{},name:"e2ee_appMeta",primaryKey:["key"]},{autoIncrement:!1,indexes:{},name:"e2ee_prekey",primaryKey:["keyId"]},{autoIncrement:!1,indexes:{},name:"e2ee_prekeyGeneration",primaryKey:["generationId"]},{autoIncrement:!1,indexes:{},name:"e2ee_session",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_signedPrekey",primaryKey:["keyId"]},{autoIncrement:!1,indexes:{},name:"e2ee_tasks",primaryKey:["taskName"]},{autoIncrement:!1,indexes:{groupJid:{columns:["groupJid"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_senderKeySessions",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_personalSenderKeyStatuses",primaryKey:["groupJid"]},{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_contacts",primaryKey:["contactJid"]},{autoIncrement:!1,indexes:{},name:"e2ee_receipts",primaryKey:["msgId"]},{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_media",primaryKey:["mediaId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},reactionId:{columns:["reactionId"],unique:!1},reactToExternalId:{columns:["reactToExternalId"],unique:!1},reactToMsgId:{columns:["reactToMsgId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_reactions",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_chunk",primaryKey:["chunkId"]},{autoIncrement:!0,indexes:{jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]},{autoIncrement:!1,indexes:{},name:"e2ee_existingUsers",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_pendingReceipts",primaryKey:["id"]},{autoIncrement:!0,indexes:{version:{columns:["version"]}},name:"e2ee_browserEncryptionMeta",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]},{autoIncrement:!0,indexes:{uniqKey:{columns:["uniqKey"]}},name:"e2ee_jobs",primaryKey:["jobId"]},{autoIncrement:!1,indexes:{},name:"e2ee_identity",primaryKey:["deviceJid"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}];b=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];c=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];e=[{autoIncrement:!0,indexes:{},name:"e2ee_isDualSend",primaryKey:["rowId"]}];f=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeSecretKey",primaryKey:["key"]}];var h=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],i=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],j=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId"]}],k=[{autoIncrement:!0,indexes:{deleteTs:{columns:["deleteTs"],unique:!1},externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]}],l=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"]},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"]}},name:"e2ee_media",primaryKey:["mediaId"]}],m=[{autoIncrement:!0,indexes:{},name:"e2ee_dualSendMedia",primaryKey:["id"]}],n=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],o=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeData",primaryKey:["rowId"]}],p=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},externalId:{columns:["externalId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],q=[{autoIncrement:!0,indexes:{},name:"e2ee_dyiBatch",primaryKey:["batchId"]}],r=[{autoIncrement:!1,indexes:{correspondingOpenThreadKey:{columns:["correspondingOpenThreadKey"],unique:!1},threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],s=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"],removed:!0}],t=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],u=[{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],v=[{autoIncrement:!1,indexes:{"[modelId+modelType+actionState]":{columns:["modelId","modelType","actionState"],unique:!1},action:{columns:["action"],unique:!1},actionState:{columns:["actionState"],unique:!1},collection:{columns:["collection"],unique:!1},indexMac:{columns:["indexMac"],unique:!1}},name:"e2ee_syncActions",primaryKey:["index"]}],w=[{autoIncrement:!1,indexes:{},name:"e2ee_missingKeys",primaryKey:["keyHex"]}],x=[{autoIncrement:!0,indexes:{action:{columns:["action"],unique:!1},collection:{columns:["collection"],unique:!1},index:{columns:["index"],unique:!1}},name:"e2ee_pendingMutations",primaryKey:["id"]}],y=[{autoIncrement:!0,indexes:{collection:{columns:["collection"]}},name:"e2ee_collectionVersions",primaryKey:["id"]}],z=[{autoIncrement:!0,indexes:{keyEpoch:{columns:["keyEpoch"],unique:!1},keyId:{columns:["keyId"]}},name:"e2ee_syncKeys",primaryKey:["id"]}],A=[{autoIncrement:!1,indexes:{userJid:{columns:["userJid"],unique:!1}},name:"e2ee_identity",primaryKey:["deviceJid"]}],B=[{autoIncrement:!1,indexes:{externalId:{columns:["externalId"],unique:!1},lastRetryTs:{columns:["lastRetryTs"],unique:!1},traceId:{columns:["traceId"],unique:!1}},name:"e2ee_uploadRetryStatus",primaryKey:["externalId","lastRetryTs"]}],C=[{autoIncrement:!0,indexes:{jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],D=[{autoIncrement:!0,indexes:{},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]}],E=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"]}],F=[{autoIncrement:!0,indexes:{deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],G=[{autoIncrement:!0,indexes:{mediaId:{columns:["mediaId"],unique:!1},msgId:{columns:["msgId"],unique:!1},objectId:{columns:["objectId"]}},name:"e2ee_mediaBackup",primaryKey:["mediaBackupId"]}],H=[{autoIncrement:!0,indexes:{authoritativeThreadKey:{columns:["authoritativeThreadKey"]},deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],I=[{autoIncrement:!0,indexes:{"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],J=[{autoIncrement:!0,indexes:{originalMsgExternalId:{columns:["originalMsgExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],K=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"],removed:!0},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"],removed:!0},{autoIncrement:!0,indexes:{},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],L=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],M=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],N=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],O=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],P=[{autoIncrement:!0,indexes:{},name:"e2ee_jobs",primaryKey:[],removed:!0}],Q=[{autoIncrement:!0,indexes:{},name:"e2ee_danglingQueue",primaryKey:["queueId"]}],R=[{autoIncrement:!0,indexes:{dbVersion:{columns:["dbVersion"],unique:!1}},name:"e2ee_staleQueue",primaryKey:["staleQueueId"]}],S=[{autoIncrement:!0,indexes:{"[offlineThreadingId+backupActionType]":{columns:["offlineThreadingId","backupActionType"],unique:!1},"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},offlineThreadingId:{columns:["offlineThreadingId"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],T=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]}],U=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],V=[{autoIncrement:!0,indexes:{},name:"e2ee_pendingMessageStanzaQueue",primaryKey:["pendingMessageStanzaQueueId"]}],W=[{autoIncrement:!0,indexes:{author:{columns:["author"],unique:!1},chat:{columns:["chat"],unique:!1},externalId:{columns:["externalId"],unique:!1}},name:"e2ee_deletedMessages",primaryKey:["rowId"]}],X=[{autoIncrement:!0,indexes:{threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_ebMsgRanges",primaryKey:["rangeId"]}],Y=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1},threadJid:{columns:["threadJid","inviteeJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],Z=[{autoIncrement:!1,indexes:{waMsgId:{columns:["waMsgId"]}},name:"e2ee_receipts",primaryKey:["msgId"]}],$=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],aa=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ba=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ca=[{autoIncrement:!1,dexieOnly_primaryKeyUnique:!0,indexes:{ts:{columns:["ts"],unique:!1}},name:"e2ee_sentBytesCache",primaryKey:["waMsgId"]}],da=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ea=[{autoIncrement:!0,indexes:{"[originalMsgExternalId+threadJid]":{columns:["originalMsgExternalId","threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],fa=[{autoIncrement:!0,indexes:{deviceJid:{columns:["deviceJid"],unique:!1},displayOrder:{columns:["isArchived","ts"],unique:!1},isConfirmedActionTs:{columns:["isConfirmed","action","ts"],unique:!1},isNotifiedTs:{columns:["isNotified","ts"],unique:!1}},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],ga=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],ha=[{autoIncrement:!1,indexes:{},name:"e2ee_ephemeralSettings",primaryKey:["userJid"]}],ia=[{autoIncrement:!1,indexes:{ebClientRequired:{columns:["ebClientRequired","timestampMs"],unique:!1},restorable:{columns:["restorable","timestampMs"],unique:!1}},name:"e2ee_ebMessageRestoreTasks",primaryKey:["messageId"]}],ja=[{autoIncrement:!1,indexes:{},name:"e2ee_igMessageAuxiliaryInfo",primaryKey:["messageId"]}],ka=[{autoIncrement:!1,indexes:{plaintextHash:{columns:["plaintextHash"],unique:!1}},name:"e2ee_mediaKeys",primaryKey:["ciphertextHash"]}],la=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],ma=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],na=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInfo",primaryKey:["groupJid"]}];a=new Map([[(d=d("MAWDbVersionList")).VERSION.V21,a],[d.VERSION.V22,b],[d.VERSION.V23,c],[d.VERSION.V24,e],[d.VERSION.V25,f],[d.VERSION.V30,h],[d.VERSION.V31,i],[d.VERSION.V32,j],[d.VERSION.V33,k],[d.VERSION.V34,l],[d.VERSION.V35,m],[d.VERSION.V36,n],[d.VERSION.V37,o],[d.VERSION.V38,p],[d.VERSION.V39,q],[d.VERSION.V40,r],[d.VERSION.V41,s],[d.VERSION.V42,t],[d.VERSION.V45,u],[d.VERSION.V48,v],[d.VERSION.V49,w],[d.VERSION.V50,x],[d.VERSION.V51,y],[d.VERSION.V52,z],[d.VERSION.V57,A],[d.VERSION.V59,B],[d.VERSION.V61,C],[d.VERSION.V62,D],[d.VERSION.V63,E],[d.VERSION.V64,F],[d.VERSION.V65,G],[d.VERSION.V67,H],[d.VERSION.V69,I],[d.VERSION.V70,J],[d.VERSION.V73,K],[d.VERSION.V74,L],[d.VERSION.V75,M],[d.VERSION.V77,N],[d.VERSION.V78,O],[d.VERSION.V79,P],[d.VERSION.V80,Q],[d.VERSION.V81,R],[d.VERSION.V83,S],[d.VERSION.V84,T],[d.VERSION.V85,U],[d.VERSION.V86,V],[d.VERSION.V88,W],[d.VERSION.V89,X],[d.VERSION.V90,Y],[d.VERSION.V91,Z],[d.VERSION.V92,$],[d.VERSION.V93,aa],[d.VERSION.V94,ba],[d.VERSION.V95,ca],[d.VERSION.V96,da],[d.VERSION.V97,ea],[d.VERSION.V98,fa],[d.VERSION.V99,ga],[d.VERSION.V100,ha],[d.VERSION.V102,ia],[d.VERSION.V103,ja],[d.VERSION.V104,ka],[d.VERSION.V105,la],[d.VERSION.V106,ma],[d.VERSION.V107,na]]);b=["messages","unrenderedMessages","groupInfo","meta","identity","prekey","prekeyGeneration","session","signedPrekey","senderKeySessions","receipts","pendingReceipts","threads","contacts","participants","tasks","personalSenderKeyStatuses","appData","appMeta","chunk","mediaBackup","media","reactions","groupInvites","dyiBatch","syncActions","missingKeys","pendingMutations","collectionVersions","syncKeys","deviceChangeAlerts","xma","retroactiveBackupsState","editMsgHistory","deletedMessages","ebMsgRanges"];g.dbSchema=a;g.TABLES_TO_ENCRYPT=b}),98);
__d("MAWGetDbVersion",["MAWDbVersionList","justknobx","objectValues"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=Math.max(c("justknobx")._("2390"),c("justknobx")._("1716"));function a(){var a;return(a=h)!=null?a:d("MAWDbVersionList").toVersion(i)}function b(a){if(!c("justknobx")._("1495"))return;if(a==null){h=null;return}if(a==="current"){h=null;return}var b=Math.max.apply(Math,c("objectValues")(d("MAWDbVersionList").VERSION));if(a==="latest"){h=d("MAWDbVersionList").toVersion(b);return}if(!Number.isInteger(a))return;if(a<0){h=d("MAWDbVersionList").toVersion(b+a);return}h=d("MAWDbVersionList").toVersion(a)}g.getArmadilloDbVersion=a;g.setArmadilloDbVersionForTest=b}),98);
__d("sortBy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.map(function(a,c){return{index:c,sortValue:b(a),value:a}});a.sort(function(a,b){var c=a.sortValue,d=b.sortValue;if(c>d)return 1;return c<d?-1:a.index-b.index});return a.map(function(a){return a.value})}f["default"]=a}),66);
__d("MAWDbSchema.restore",["MAWDbSchema","MAWGetDbVersion","objectEntries","sortBy"],(function(a,b,c,d,e,f,g){"use strict";a={e2ee_appData:!0,e2ee_appMeta:!0,e2ee_chunk:!0,e2ee_collectionVersions:!0,e2ee_deletedMessages:!0,e2ee_deviceChangeAlerts:!0,e2ee_dyiBatch:!0,e2ee_ebMessageRestoreTasks:!0,e2ee_ebMsgRanges:!0,e2ee_ebRestoreQueue:!0,e2ee_ebUploadQueue:!0,e2ee_editMsgHistory:!0,e2ee_ephemeralSettings:!0,e2ee_existingUsers:!0,e2ee_ftsBackloggedMessages:!0,e2ee_ftsEncryptionMeta:!0,e2ee_ftsIndexV3:!0,e2ee_groupInfo:!0,e2ee_groupInvites:!0,e2ee_historySyncQRCodeData:!0,e2ee_historySyncQRCodeSecretKey:!0,e2ee_igMessageAuxiliaryInfo:!0,e2ee_isDualSend:!0,e2ee_media:!0,e2ee_mediaBackup:!0,e2ee_messages:!0,e2ee_missingKeys:!0,e2ee_participants:!0,e2ee_pendingMessageStanzaQueue:!0,e2ee_pendingMutations:!0,e2ee_pendingReceipts:!0,e2ee_pendingStanzas:!0,e2ee_reactions:!0,e2ee_retroactiveBackupsState:!0,e2ee_syncActions:!0,e2ee_syncKeys:!0,e2ee_threads:!0,e2ee_unrenderedMessages:!0,e2ee_uploadRetryStatus:!0,e2ee_xma:!0};function h(a){var b=Object.fromEntries(c("objectEntries")(a.indexes).filter(function(a){a=a[1];return a.multiEntry_DO_NOT_USE!==!0}).map(function(b){var c=b[0];b=b[1];return[c,{columns:[].concat(b.columns,b.unique!==!1?[]:a.primaryKey),predicate:b.predicate}]}));b={auto_increment:a.autoIncrement===!0,indexes:b,name:a.name,primary_key:a.primaryKey};return b}var i=c("sortBy")(Array.from(d("MAWDbSchema").dbSchema.entries()),function(a){a=a[0];return a}).map(function(a){var b=a[0];a=a[1];return{schema:a,version:b}});b=function(a){return Array.from(i.filter(function(b){return b.version<=a&&b.schema!=null}).reduce(function(a,b){(b=b.schema)==null?void 0:b.forEach(function(b){if(b.removed===!0){a["delete"](b.name);return}a.set(b.name,h(b))});return a},new Map()).values())};e=b(d("MAWGetDbVersion").getArmadilloDbVersion());g.msgrDbStores=a;g.getSchemaForVersion=b;g.clientSchema=e}),98);
__d("LSDbSchema",["MAWDbSchema.restore"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("MAWDbSchema.restore").clientSchema;f.clientSchema=a}),66);
__d("isArmadillo",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("135")===!0}g["default"]=a}),98);
__d("isOccamadilloResumeSyncEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("24091")&&c("gkx")("24158")&&c("gkx")("24149")}g["default"]=a}),98);
__d("LSE2EEMetadataSyncGroupUtils",["gkx","isArmadillo","isInstamadillo","isOccamadilloResumeSyncEnabled","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=c("isArmadillo")()||c("gkx")("23910")===!0&&!c("isInstamadillo")(),i=c("qex")._("923")===!0&&!c("isInstamadillo")();function a(){return h&&!c("isOccamadilloResumeSyncEnabled")()}function b(){return h?{groupId:95}:null}function d(){return i?{groupId:95}:null}g.shouldAlwaysResetE2EEMetadata=a;g.getE2EEMetadataSyncGroup=b;g.getE2EEMetadataSyncGroupForIGDSyncGroup=d}),98);
__d("LSTableDefaults",["I64MigrationHelper"],(function(a,b,c,d,e,f){e.exports={sync_groups:{syncStatus:(a=b("I64MigrationHelper")).cast([0,0]),sendSyncParams:!1,minTimeToSyncTimestampMs:a.cast([0,0]),canIgnoreTimestamp:!1,priority:a.cast([0,0]),lastSyncRequestTimestampMs:a.cast([0,0]),lastSyncCompletedTimestampMs:a.cast([0,0]),syncChannel:a.cast([0,1])},pending_tasks:{enqueueTimestampMs:a.cast([0,0]),firstExecutedTimestampMs:a.cast([0,0]),failureCount:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),pluginType:a.cast([0,0]),priority:a.cast([0,0]),taskDispatchPriority:a.cast([0,0])},pending_fire_and_forget_tasks:{enqueueTimestampMs:a.cast([0,0]),priority:a.cast([0,0])},contacts:{isMessengerUser:!1,isMemorialized:!1,blockedByViewerStatus:a.cast([0,0]),rank:0,contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),canViewerMessage:!0,gender:a.cast([0,0]),authorityLevel:a.cast([0,0]),optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0]),capabilities2:a.cast([0,0]),isEmployee:!1},ig_contact_info:{e2eeEligibility:a.cast([0,0])},bot_profile_info_v2:{hasEmbodiment:!1},reactions:{timestampMs:a.cast([0,0]),authorityLevel:a.cast([0,0]),reactionCreationTimestampMs:a.cast([0,0]),transportKey:"FBBroker"},threads:{lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),isAdminSnippet:!1,ongoingCallState:a.cast([0,0]),snippetHasEmoji:!1,hasPersistentMenu:!1,disableComposerInput:!1,capabilities:a.cast([0,0]),isCustomThreadPicture:!1,isDisappearingMode:!1,unreadDisappearingMessageCount:a.cast([0,0]),authorityLevel:a.cast([0,0]),capabilities2:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),unsendLimitMs:a.cast([0,0]),threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),capabilities3:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),isReadReceiptsDisabled:!1,readReceiptsDisabledV2:a.cast([0,0]),capabilities4:a.cast([0,0]),isHidden:!1},threads_ranges_v2__generated:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),maxLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},messages:{timestampMs:a.cast([0,0]),primarySortKey:a.cast([0,0]),secondarySortKey:a.cast([0,0]),isAdminMessage:!1,sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),isUnsent:!1,replyStatus:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),hasQuickReplies:!1,textHasLinks:!1,viewFlags:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),quickReplyType:a.cast([0,0]),authorityLevel:a.cast([0,0]),unsentTimestampMs:a.cast([0,0]),isCollapsed:!1,messageRenderingType:a.cast([0,0]),transportKey:"FBBroker",isExpired:!1},messages_ranges_v2__generated:{isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},participants:{readWatermarkTimestampMs:a.cast([0,0]),deliveredWatermarkTimestampMs:a.cast([0,0]),authorityLevel:a.cast([0,0]),readActionTimestampMs:a.cast([0,0]),groupParticipantJoinState:a.cast([0,0]),threadRoles:a.cast([0,0])},attachments:{timestampMs:a.cast([0,0]),attachmentType:a.cast([0,0]),hasMedia:!1,isSharable:!1,hasXma:!1,attachmentIndex:a.cast([0,0]),authorityLevel:a.cast([0,0]),transportKey:"FBBroker"},attachments_ranges_v2__generated:{mediaGroup:a.cast([0,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},attachment_items:{attachmentIndex:a.cast([0,0])},group_membership_approval_requests:{authorityLevel:a.cast([0,0])},admin_message_ctas:{timestampMs:a.cast([0,0]),showAdChoiceIcon:!1},thread_nullstate:{ctaType:a.cast([0,0]),privacyTextCtaType:a.cast([0,0])},messages_status:{timestampMs:a.cast([0,0])},polls:{pollType:a.cast([0,0])},poll_options_v2:{voteCount:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),sortKeyCreationTimestamp:a.cast([0,0])},filtered_threads_ranges_v3__generated:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),maxLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,folderName:"inbox",secondaryThreadRangeFilter:a.cast([0,0]),threadRangeFilterValue:""},community_folders:{capabilities:a.cast([0,0]),notificationMutedUntil:a.cast([0,0]),inviteStatus:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0])},community_members:{source:a.cast([0,0]),adminActions:a.cast([0,0]),contactCapabilities:a.cast([0,0]),channelBadges:a.cast([0,0]),threadRoles:a.cast([0,0]),requestId:""},ig_thread_info:{igDmSettingsMode:a.cast([0,0]),igDmSettingsTtlSec:a.cast([-1,4294967295])},edit_message_history:{sendStatus:a.cast([0,0])},ig_thread_labels:{labelTimestampMs:a.cast([0,0])},inbox_threads_ranges:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,hasMoreBefore:!1},community_direct_invites_presets:{fallbackUrl:"",pictureUrlExpirationTimestampMs1:a.cast([0,0]),pictureUrlExpirationTimestampMs2:a.cast([0,0]),presetTypeV2:"ALL_MEMBERS"},sync_group_threads_ranges:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,hasMoreBefore:!1},community_chat_polls:{pollType:a.cast([0,0])},community_chat_poll_options:{voteCount:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),sortKeyCreationTimestamp:a.cast([0,0])},reactions_v2:{viewerReactionTimestampMs:a.cast([0,0]),lastUpdatedTimestampMs:a.cast([0,0])},group_invitations_pending:{communityJoinRequestStatus:a.cast([0,0]),communityParticipationControlRequestStatus:a.cast([0,0]),communityParticipationControlSetting:a.cast([0,0])},thread_label_mappings:{sortKey:a.cast([0,0])},inbox_view_state:{value:""},inbox_view_state_v2:{value:""},discoverable_chat_participants:{source:a.cast([0,0])},roll_calls:{viewerHasContributed:!1,viewerCanEditPrompt:!1,isBlurred:!1,canViewWithoutContributing:!1},roll_call_contributions_v2:{contributorId:a.cast([0,0]),contributionSource:a.cast([0,0])},shared_albums:{lastActivityTimestampMs:a.cast([0,0]),contributionCount:a.cast([0,0])},shared_album_contributions:{creationTimestampMs:a.cast([0,0]),creatorId:a.cast([0,0])},search_queries:{surfaceType:a.cast([0,1])},universal_search_recent_searches:{lastAccessedTimestampMs:a.cast([0,0])},cm_search_nullstate_metadata:{score:0},ai_bot_search_metadata:{displayName:"",contactViewerRelationship:a.cast([0,0]),score:0},contact_upload_settings:{authorityLevel:a.cast([0,0])},presence_settings:{isActiveStatusViewable:!1,isActiveStatusViewableOnFb:!1,isActiveStatusViewableOnMessenger:!1,hasConvertedToViewSideSettings:!1},video_chat_links_joining:{canAnonymousUsersJoin:!1},notification_settings:{includeInSwitchAccountBadges:!1,mutePageAccountMessageReminder:!1},avatar_settings:{enableAvatarHotlike:!1},messaging_privacy_settings:{readReceiptsDisabled:a.cast([0,0]),e2eeXmaPreviewsDisabled:!1},rtc_call_events:{isProcessed:!1},custom_thread_commands:{isOpenPersistentMenu:!1},transaction_history:{timestampMs:a.cast([0,0])},thread_themes:{isDeprecated:!1,iconUrl:"",iconUrlFallback:"",backgroundUrl:""},ranking_scores:{score:0,scoreIndex:a.cast([0,0])},story_buckets:{pageNum:a.cast([0,0]),readState:a.cast([0,0])},stories:{authorityLevel:a.cast([0,0])},story_viewers:{interactionType:a.cast([0,1]),authorityLevel:a.cast([0,0])},story_reactions:{authorityLevel:a.cast([0,0])},story_ad_unit:{shouldShowAdChoice:!1},story_overlays:{authorityLevel:a.cast([0,0])},rooms:{notificationMutedUntilMs:a.cast([0,0])},media_staging:{progress:0},client_messages:{textSize:a.cast([0,0]),sendStatus:a.cast([0,0]),isHidden:!1,isTombstoned:!1,isReplyOnly:!1,messageContentType:a.cast([0,0]),messageContentSubtype:a.cast([0,0]),messageSource:a.cast([0,0]),messageCreationType:a.cast([0,0]),messageEphemeralityType:a.cast([0,0]),replyStatus:a.cast([0,0]),replyMessageTextSize:a.cast([0,0]),replyVicinityStatus:a.cast([0,0]),isForwarded:!1,isReadonly:!1,disabledActionsReason:a.cast([0,0]),shouldPersist:!1,shouldHideInSnippet:!1},client_participants:{isPending:!1,capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),readActionTsMs:a.cast([0,0])},client_threads:{isAdminSnippet:!1,isHotlikeSnippet:!1,groupMemberAddMode:a.cast([0,0]),capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),isHidden:!1,isTombstoned:!1,isPending:!1,isShadowThread:!1,pinnedMessagesCount:a.cast([0,0])},data_trace_meta:{initTimestampMs:a.cast([0,0]),foregroundTimestampMs:a.cast([0,0]),traceType:a.cast([0,0]),shouldFlush:!1},data_trace_addon:{timestampMs:a.cast([0,0])},pending_backups_context_v2:{isInstamadillo:!1},secure_encrypted_backups_client_state:{authorityLevel:a.cast([0,0]),encryptionVersion:a.cast([0,0]),revisionVersion:a.cast([0,0])},secure_encrypted_backups_epochs:{authorityLevel:a.cast([0,0])},encrypted_backups:{authorityLevel:a.cast([0,0]),hasOtcEligibleDevices:!1},secure_encrypted_backups_generated_recovery_code:{virtualDeviceType:a.cast([0,1])},encrypted_backups_virtual_devices:{virtualDeviceType:a.cast([0,1]),removalStatus:a.cast([0,1]),requiresHsmMigration:!1},encrypted_backups_metadata:{authorityLevel:a.cast([0,0])},cutover_threads:{isMigrated:!1,showOpenMessageHistory:!1},persistent_menu_ctas:{ctaType:"fallback"},anonymous_task_context:{failureCount:a.cast([0,0])},lightspeed_task_context:{requiresAuthentication:!1}}}),null);
__d("LSTableSchemas",[],(function(a,b,c,d,e,f){e.exports=[[{name:"sync_groups",id:1,primary_key:["groupId"]},{name:"pending_tasks",id:2,primary_key:["taskId"],indexes:{queueNameTaskId:{columns:["queueName","taskId"]}},auto_increment:!0},{name:"network_requests",id:3,primary_key:["taskQueueName","syncDatabaseId"]},{name:"_user_info",id:4,primary_key:["id"]},{name:"pending_fire_and_forget_tasks",id:5,primary_key:["taskId"],auto_increment:!0},{name:"user_visible_errors",id:6,primary_key:["errorId"],auto_increment:!0},{name:"mailbox_task_completion_notification_context",id:232,primary_key:["notificationScopeKey"]},{name:"mailbox_task_completion_api_tasks",id:233,primary_key:["taskId"]}],[{name:"contacts",id:7,primary_key:["id"],indexes:{blockedByViewerStatusId:{columns:["blockedByViewerStatus","id"]}}},{name:"ig_contact_info",id:176,primary_key:["contactId"]},{name:"work_contact_info",id:210,primary_key:["id"]},{name:"contextual_profile_v1",id:216,primary_key:["ownerId","associatedEntityId"],indexes:{associatedEntityIdAndOwner:{columns:["associatedEntityId","ownerId"]}}},{name:"profile_sheet_information",id:256,primary_key:["userId"]},{name:"fb_transport_contacts",id:240,primary_key:["pk"],auto_increment:!0},{name:"bot_profile_info_v2",id:299,primary_key:["botId"]},{name:"horizon_contact_info",id:323,primary_key:["contactId"]}],[{name:"reactions",id:8,primary_key:["threadKey","messageId","actorId"],indexes:{fk_messages:{columns:["threadKey","timestampMs","messageId","actorId"]}}},{name:"threads",id:9,primary_key:["threadKey"],indexes:{lastActivityTimestampMs:{columns:["lastActivityTimestampMs","threadKey"]},parentThreadKeyLastActivityTimestampMs:{columns:["parentThreadKey","lastActivityTimestampMs","threadKey"]},secondaryParentThreadKeyLastActivityTimestampMs:{columns:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignore_nulls:["secondaryParentThreadKey"]},clientThreadKey:{columns:["clientThreadKey","threadKey"],ignore_nulls:["clientThreadKey"]},threadTypeLastActivityTimestampMs:{columns:["threadType","lastActivityTimestampMs","threadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{columns:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"]}}},{name:"threads_ranges_v2__generated",id:10,primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"]},{name:"messages",id:12,primary_key:["threadKey","timestampMs","messageId"],indexes:{optimistic:{columns:["offlineThreadingId"]},messageDisplayOrder:{columns:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"]},messageId:{columns:["messageId"]},messageSubthreadKey:{columns:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignore_nulls:["subthreadKey"]},replySourceIdMessageID:{columns:["replySourceId","messageId"],ignore_nulls:["replySourceId"]},ephemeralExpirationTs:{columns:["ephemeralExpirationTs","messageId"],ignore_nulls:["ephemeralExpirationTs"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{columns:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignore_nulls:["botResponseId"]},messageGroupId:{columns:["groupId","messageId"],ignore_nulls:["groupId"]}}},{name:"messages_ranges_v2__generated",id:13,primary_key:["threadKey","minTimestampMs","minMessageId"]},{name:"participants",id:14,primary_key:["threadKey","contactId"],indexes:{threadKeyReadWatermarkTimestampMs:{columns:["threadKey","readWatermarkTimestampMs","contactId"]},threadKeyDeliveredWatermarkTimestampMs:{columns:["threadKey","deliveredWatermarkTimestampMs","contactId"]},contactIdThreadKey:{columns:["contactId","threadKey"]}}},{name:"ctas",id:15,primary_key:["ctaId"]},{name:"attachments",id:16,primary_key:["threadKey","messageId","attachmentFbid"],indexes:{fk_messages:{columns:["threadKey","timestampMs","messageId","attachmentFbid"]},idx_attachments_collapsible_id:{columns:["threadKey","collapsibleId","messageId","attachmentFbid"]}}},{name:"attachments_ranges_v2__generated",id:17,primary_key:["threadKey","mediaGroup","minTimestampMs"]},{name:"attachment_items",id:18,primary_key:["attachmentFbid","attachmentIndex"],indexes:{fk_attachments:{columns:["threadKey","messageId","attachmentFbid","attachmentIndex"]}}},{name:"attachment_ctas",id:19,primary_key:["ctaId"],indexes:{fk_attachments:{columns:["threadKey","messageId","attachmentFbid","ctaId"]}}},{name:"quick_reply_ctas",id:20,primary_key:["threadKey","messageId","ctaId"]},{name:"m_suggestions",id:21,primary_key:["threadKey","timestampMs","suggestionId"]},{name:"rtc_signals",id:22,primary_key:["timestampMs","type_"]},{name:"rtc_ongoing_calls_on_threads_v2",id:23,primary_key:["threadKey"]},{name:"rtc_multiway_call_initiation_conference_names",id:24,primary_key:["threadKey"]},{name:"mailbox_metadata",id:25,primary_key:["id"]},{name:"group_membership_approval_requests",id:26,primary_key:["threadKey","contactId"]},{name:"admin_message_ctas",id:27,primary_key:["threadKey","messageId","ctaId"],indexes:{ctaId:{columns:["ctaId"]}}},{name:"thread_nullstate",id:28,primary_key:["threadKey"]},{name:"thread_nullstate_ctas",id:29,primary_key:["ctaId"],indexes:{threadKeyCtaId:{columns:["threadKey","ctaId"]}}},{name:"focus_mode_ctas",id:30,primary_key:["threadKey","messageId","ctaId"]},{name:"messages_optimistic_context",id:31,primary_key:["taskId"]},{name:"threads_optimistic_context",id:32,primary_key:["taskId"]},{name:"messages_status",id:33,primary_key:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"]},{name:"message_requests",id:34,primary_key:["threadKey"]},{name:"folder_metadata",id:35,primary_key:["parentThreadKey"]},{name:"polls",id:38,primary_key:["pollId"]},{name:"poll_options_v2",id:39,primary_key:["pollId","optionId"]},{name:"poll_votes_v2",id:40,primary_key:["pollId","optionId","contactId"]},{name:"pinned_messages_v2",id:155,primary_key:["threadKey","messageId"]},{name:"filtered_threads_ranges_v3__generated",id:247,primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"]},{name:"community_folders",id:162,primary_key:["folderId"],indexes:{byFbGroupId:{columns:["fbGroupId","folderId"]}}},{name:"community_members",id:170,primary_key:["communityId","contactId","source","requestId"],indexes:{communitySource:{columns:["communityId","source","requestId","contactId","name"]},communityContact:{columns:["communityId","contactId","requestId","source","name"]}}},{name:"community_members_ranges_v2__generated",id:189,primary_key:["communityId","isAdmin","minName","source","requestId"]},{name:"attachment_conversion",id:164,primary_key:["attachmentFbid"]},{name:"saved_messages",id:165,primary_key:["threadKey","messageId"]},{name:"rtc_rooms_on_threads",id:181,primary_key:["threadKey"]},{name:"ig_thread_info",id:194,primary_key:["threadKey"],indexes:{igThreadID:{columns:["igThreadId"]}}},{name:"edit_message_history",id:322,primary_key:["pk"],indexes:{originalMsgPkEditTs:{columns:["originalMessagePk","serverAdjustedEditTsMs"]}},auto_increment:!0},{name:"ig_thread_labels",id:318,primary_key:["threadKey","labelType"]},{name:"group_invites",id:197,primary_key:["threadKey","inviterId","inviteeId"]},{name:"inbox_threads_ranges",id:198,primary_key:["syncGroup"]},{name:"community_direct_invites_presets",id:199,primary_key:["communityId","presetType","source"]},{name:"client_web_pinned_messages",id:328,primary_key:["threadKey","offlineThreadingId","pinnedTimestampMs"],indexes:{pinnedMessageDisplayOrder:{columns:["threadKey","pinnedTimestampMs","offlineThreadingId"]}}},{name:"msg_pinned_messages_v2",id:205,primary_key:["threadKey","messageId","pinnedTimestampMs"],indexes:{pinnedMessageDisplayOrder:{columns:["threadKey","pinnedTimestampMs","messageId"]}}},{name:"filtered_messages_ranges_v2__generated",id:211,primary_key:["threadKey","mailboxType","minTimestampMs","minMessageId","messageRangeFilter"]},{name:"taken_down_threads",id:212,primary_key:["threadKey"]},{name:"participant_list_queries",id:219,primary_key:["threadKey"]},{name:"sync_group_threads_ranges",id:220,primary_key:["syncGroup","parentThreadKey"]},{name:"community_chat_message_seen_count",id:221,primary_key:["threadKey","messageId"]},{name:"community_chat_polls",id:223,primary_key:["pollId"]},{name:"community_chat_poll_options",id:224,primary_key:["pollId","optionId"]},{name:"community_chat_poll_votes",id:225,primary_key:["pollId","optionId","contactId"]},{name:"reactions_v2",id:226,primary_key:["threadKey","messageId","reactionFbid","messageTimestamp"],indexes:{optimistic:{columns:["threadKey","messageId","reactionFbid"]}}},{name:"reactions_v2_details_users",id:227,primary_key:["reactorId","reactionFbid"]},{name:"reactions_v2_details_users_ranges_v2__generated",id:228,primary_key:["reactorId","reactionFbid","minTimestampMs"]},{name:"reaction_v2_types",id:229,primary_key:["reactionFbid"]},{name:"bots",id:230,primary_key:["threadKey","botId"]},{name:"business_comm_items",id:234,primary_key:["threadKey","entId"]},{name:"group_invitations_pending",id:235,primary_key:["linkHash"]},{name:"business_support_notification_settings",id:236,primary_key:["userId"]},{name:"thread_label_mappings",id:237,primary_key:["threadKey","labelId"]},{name:"inbox_view_state",id:277,primary_key:["interface_","configName"]},{name:"inbox_view_state_v2",id:281,primary_key:["configName"]},{name:"audio_channel_events",id:238,primary_key:["eventId","roomId"]},{name:"reactions_v2_details",id:239,primary_key:["threadId","messageId","reactorId","reactionFbid"]},{name:"reactions_v2_details_ranges_v2__generated",id:243,primary_key:["threadId","messageId","reactionFbid","minTimestampMs"]},{name:"community_chat_poll_votes_ranges_v2__generated",id:244,primary_key:["pollId","optionId","minTimestampMs"]},{name:"discoverable_chat_participants",id:248,primary_key:["threadId","contactId","source"]},{name:"discoverable_chat_participants_ranges_v2__generated",id:249,primary_key:["threadId","source","minName"]},{name:"roll_calls",id:250,primary_key:["rollCallId","threadKey"]},{name:"community_surface_ranges",id:253,primary_key:["surfaceType","communityKey"]},{name:"community_rules",id:254,primary_key:["communityId","ruleId"]},{name:"roll_call_contributions_v2",id:255,primary_key:["rollCallContributionId","rollCallId","messageId","messageTimestampMs","threadKey"],indexes:{optimistic:{columns:["rollCallContributionId","rollCallId","messageId","messageTimestampMs"]}}},{name:"business_thread_info",id:260,primary_key:["threadKey"]},{name:"thread_creation_status",id:278,primary_key:["taskId"]},{name:"shared_albums",id:279,primary_key:["sharedAlbumId","threadKey"]},{name:"shared_album_contributions",id:280,primary_key:["sharedAlbumId","sharedAlbumContributionId","threadKey","messageId"]},{name:"shared_albums_multimedia_upload_jobs",id:283,primary_key:["offlineThreadingId"]},{name:"shared_albums_multimedia_upload_subjobs_status",id:284,primary_key:["offlineThreadingId","jobId"]},{name:"thread_point_query_ttrc",id:286,primary_key:["threadKey"]},{name:"business_thread_suggestions",id:290,primary_key:["threadKey","suggestionType"]},{name:"community_chat_admin_assist_command_sequences",id:291,primary_key:["commandSequenceId"]},{name:"community_thread_sync_info",id:294,primary_key:["threadKey"]},{name:"thread_bans",id:297,primary_key:["threadKey","contactId"]},{name:"support_translations",id:300,primary_key:["messageId","targetLocale"]},{name:"threads_optimistic_metadata",id:312,primary_key:["threadKey"]},{name:"ai_bot_feedback_submission_status",id:315,primary_key:["botResponseId"]},{name:"igd_xma_receiver_fetch",id:316,primary_key:["messageId"]},{name:"thread_seen_heads_queries",id:325,primary_key:["threadKey"]},{name:"discoverable_chats_personal_inbox_info",id:326,primary_key:["threadKey"]},{name:"e2ee_composer_draft_link_preview",id:329,primary_key:["draftId"]}],[{name:"media_send_jobs",id:51,primary_key:["offlineAttachmentId"]}],[{name:"typing_indicator",id:52,primary_key:["threadKey","senderId"]}],[{name:"server_search_results",id:65,primary_key:["query","resultId","globalIndex"]},{name:"server_search_sections",id:66,primary_key:["query","globalIndex"]},{name:"search_queries",id:67,primary_key:["query","surfaceType"]},{name:"universal_search_recent_searches",id:68,primary_key:["resultId"]},{name:"message_search_results",id:69,primary_key:["type_","query","threadKey","globalIndex"]},{name:"message_search_queries",id:70,primary_key:["type_","query","threadKeyV2"]},{name:"participant_search_queries",id:214,primary_key:["query","threadKey"]}],[{name:"cm_search_nullstate_metadata",id:289,primary_key:["threadKey","scoreType"]}],[{name:"ai_bot_search_metadata",id:298,primary_key:["botId"]}],[{name:"contact_upload_settings",id:74,primary_key:["userid"]},{name:"gdpr_settings",id:75,primary_key:["userid"]},{name:"presence_settings",id:187,primary_key:["userId"]},{name:"persistent_menu_items",id:77,primary_key:["threadKey","ctaId"]},{name:"video_chat_links_joining",id:78,primary_key:["url","optimisticClientToken"],indexes:{optimistic:{columns:["optimisticClientToken"]}}},{name:"video_chat_links_attempted_joiners",id:79,primary_key:["userId","url"]},{name:"cowatch_sessions",id:80,primary_key:["cowatchSessionId"]},{name:"self_profile",id:81,primary_key:["userId"]},{name:"pinned_threads",id:82,primary_key:["threadKey"],indexes:{pinnedTimestamp:{columns:["pinnedTimestamp","threadKey"]}}},{name:"messaging_settings",id:83,primary_key:["id"]},{name:"reachability_settings",id:148,primary_key:["audience"]},{name:"feature_limits",id:150,primary_key:["type_"]},{name:"emoji_sets",id:151,primary_key:["categoryIdx","emojiIdx","type_"]},{name:"epd_cookie_settings",id:163,primary_key:[]},{name:"cm_community_list",id:166,primary_key:["communityId"]},{name:"cm_channel_list",id:167,primary_key:["communityId","threadId"],indexes:{threadIdCommunityId:{columns:["threadId","communityId"]}}},{name:"cm_category_list",id:182,primary_key:["communityId","categoryId"]},{name:"notification_settings",id:175,primary_key:["id"]},{name:"encrypted_backups_status_trigger",id:195,primary_key:["pk"],auto_increment:!0},{name:"fb_events",id:200,primary_key:["eventId"]},{name:"cm_channel_events",id:201,primary_key:["eventId","threadId"],indexes:{eventsInThread:{columns:["threadId","eventId"]}}},{name:"community_events",id:202,primary_key:["eventId","communityId"]},{name:"avatar_settings",id:209,primary_key:["threadId"]},{name:"thread_labels",id:215,primary_key:["labelId"]},{name:"thread_limits",id:287,primary_key:["threadKey"]},{name:"business_support_case_details",id:222,primary_key:["threadId"]},{name:"messaging_privacy_settings",id:288,primary_key:["userId"]},{name:"rtc_call_events",id:245,primary_key:["pk"],auto_increment:!0},{name:"custom_thread_commands",id:296,primary_key:["threadKey","commandId"],indexes:{rank:{columns:["threadKey","rank"]},commandId:{columns:["commandId"]}}},{name:"msgr_quiet_time",id:317,primary_key:["quietTimeId"],indexes:{quietTimeId:{columns:["quietTimeId"]}}}],[{name:"payment_type_paypal",id:85,primary_key:["paymentCredentialId"]},{name:"payment_type_card",id:86,primary_key:["paymentCredentialId"]},{name:"payment_type_bank_v2",id:88,primary_key:["paymentMethodId"]},{name:"payment_method",id:89,primary_key:["paymentMethodId"]},{name:"new_payment_credential_option",id:90,primary_key:["credentialType"]},{name:"paypal_funding_options",id:91,primary_key:["optionId"]},{name:"payments_eligibility",id:92,primary_key:["userId"]},{name:"payments_ofac_blacklisted_countries",id:93,primary_key:["isoCountryCode"]},{name:"p2m_invoice",id:94,primary_key:["orderId"]},{name:"p2m_invoice_attachment",id:95,primary_key:["orderId","productItemId"]},{name:"payment_price_list_item",id:96,primary_key:["orderId","id"]},{name:"p2m_charge",id:97,primary_key:["orderId"]},{name:"payment_p2p_risk_verification",id:98,primary_key:["requestId","transactionId"]},{name:"payment_transaction_v2",id:99,primary_key:["timestampMs","transactionId"],indexes:{optimistic:{columns:["optimisticTransactionId"]}}},{name:"p2p_request_v2",id:100,primary_key:["timestampMs","transactionId"],indexes:{optimistic:{columns:["optimisticTransactionId"]}}},{name:"p2p_transfer_v2",id:101,primary_key:["timestampMs","transactionId"],indexes:{optimistic:{columns:["optimisticTransactionId"]}}},{name:"transaction_history",id:102,primary_key:["transactionId"]},{name:"payments_transaction_details_core",id:103,primary_key:["transactionId"]},{name:"payments_transaction_details_ctas",id:104,primary_key:["transactionId","ctaId"]},{name:"payments_transaction_details_rows",id:105,primary_key:["transactionId","rowOrder"]},{name:"payment_user_auth",id:106,primary_key:["userId"]},{name:"payment_client_auth_token",id:107,primary_key:["userId","deviceId","appId"]},{name:"payment_auth_request_results",id:108,primary_key:["requestId"]},{name:"payment_server_request_results",id:109,primary_key:["requestId"]},{name:"payment_pin_verification_results",id:113,primary_key:["requestId"]}],[{name:"connectivity_status",id:114,primary_key:["statusId"],auto_increment:!0},{name:"user_visible_network_connectivity_error",id:115,primary_key:["statusId"],auto_increment:!0}],[{name:"thread_themes",id:116,primary_key:["fbid"]},{name:"gradient_colors",id:117,primary_key:["themeFbid","gradientIndex"]}],[{name:"in_thread_banner",id:118,primary_key:["threadKey","bannerId"]},{name:"in_thread_banner_ctas",id:119,primary_key:["bannerId","ctaId"]},{name:"in_thread_banner_overflow_menu",id:120,primary_key:["threadKey","bannerId"]}],[{name:"stickers",id:121,primary_key:["stickerId"],indexes:{stickerPackId:{columns:["stickerPackId","stickerId"]}}},{name:"sticker_packs",id:122,primary_key:["packId"]},{name:"sticker_search_results",id:123,primary_key:["resultIndex","query","type_"]},{name:"sticker_search_queries",id:124,primary_key:["query"]},{name:"sticker_search_featured_tags",id:125,primary_key:["tagIndex"]},{name:"sticker_to_collection",id:126,primary_key:["stickerId","collectionId"]},{name:"sticker_pack_details",id:127,primary_key:["packId"]},{name:"sticker_store_pack_indices",id:128,primary_key:["packId"]}],[{name:"forward_content",id:129,primary_key:["value","type_"]}],[{name:"linked_groups",id:130,primary_key:["id"],indexes:{threadKey:{columns:["threadKey"]}}}],[{name:"ranking_scores",id:134,primary_key:["contactId","scoreType"],indexes:{scoreTypeContactId:{columns:["scoreType","contactId"]}}},{name:"ranking_requests",id:135,primary_key:["scoreType"]},{name:"value_model_rules",id:136,primary_key:["product","ruleIndex"]},{name:"value_model_features",id:137,primary_key:["feature"]},{name:"value_model_output",id:138,primary_key:["product","contactId"]}],[{name:"story_buckets",id:53,primary_key:["bucketId"],indexes:{optimistic:{columns:["ownerId","bucketType"]}}},{name:"stories",id:54,primary_key:["storyId"],indexes:{optimistic:{columns:["optimisticClientId"]}}},{name:"story_viewers",id:55,primary_key:["storyId","viewerContactId","interactionType"]},{name:"story_reactions",id:56,primary_key:["reactionId"],indexes:{optimistic:{columns:["optimisticClientId"]}}},{name:"story_ad_unit",id:57,primary_key:["adPosition","clientToken"]},{name:"story_ad_card",id:58,primary_key:["adPosition","clientToken","cardId"]},{name:"story_ad_ctas",id:59,primary_key:["ctaId"]},{name:"story_overlays",id:60,primary_key:["storyId","storyOverlayId"]},{name:"story_buckets_paginated_queries",id:61,primary_key:["queryId"]},{name:"status",id:62,primary_key:["statusId"],indexes:{optimistic:{columns:["optimisticClientId"]}}},{name:"rooms",id:63,primary_key:["roomId"],indexes:{optimistic:{columns:["optimisticClientToken"]}}},{name:"room_participants",id:64,primary_key:["roomId","participantId","type_"],indexes:{optimistic:{columns:["roomId","participantId"]}}}],[{name:"live_location_sharers",id:149,primary_key:["threadKey","userId"]}],[{name:"mi_act_mapping_table",id:173,primary_key:["serverThreadKey","clientThreadPk","jid"],indexes:{fk_threads:{columns:["serverThreadKey"]},chat_id:{columns:["clientThreadPk"]},jid:{columns:["jid"]}}},{name:"media_staging",id:161,primary_key:["offlineAttachmentId"]},{name:"client_accounts",id:272,primary_key:["pk"],auto_increment:!0},{name:"client_messages",id:273,primary_key:["pk"],auto_increment:!0},{name:"client_participants",id:274,primary_key:["pk"],auto_increment:!0},{name:"client_threads",id:276,primary_key:["pk"],auto_increment:!0}],[{name:"data_trace_meta",id:153,primary_key:["traceId"],indexes:{shouldFlushInitTimestampMsTraceId:{columns:["shouldFlush","initTimestampMs","traceId"]}}},{name:"data_trace_addon",id:154,primary_key:["addonId"],indexes:{traceIdAddonId:{columns:["traceId","addonId"]}},auto_increment:!0}],[{name:"ad_context",id:160,primary_key:["adId"]}],[{name:"thread_proactive_warning_settings",id:183,primary_key:["threadKey"]},{name:"client_thread_proactive_warning_settings",id:241,primary_key:["threadPk"]}],[{name:"presence_states",id:186,primary_key:["contactId"],indexes:{statusContactId:{columns:["status","contactId"]}}}],[{name:"available_reactions",id:188,primary_key:["emojiIdx"]}],[{name:"pending_backups_context_v2",id:177,primary_key:["pk"],indexes:{fk_pending_tasks:{columns:["pendingBackupTaskId"]}},auto_increment:!0},{name:"secure_encrypted_backups_client_state",id:168,primary_key:["backupId"]},{name:"encrypted_backups_debug_metadata",id:206,primary_key:["backupId"]},{name:"encrypted_backups_epoch_debug_metadata",id:207,primary_key:["epochId"]},{name:"encrypted_backups_debug_metadata_v2",id:217,primary_key:["backupId"]},{name:"encrypted_backups_epoch_debug_metadata_v2",id:218,primary_key:["epochId"]},{name:"secure_encrypted_backups_epochs",id:169,primary_key:["epochId"],indexes:{fk_secure_encrypted_backups_client_state:{columns:["backupId","epochId"]}}},{name:"encrypted_backups",id:172,primary_key:["pk"],auto_increment:!0},{name:"secure_encrypted_backups_generated_recovery_code",id:174,primary_key:["pk"]},{name:"secure_encrypted_backups_recovery_code_status",id:178,primary_key:["pk"]},{name:"secure_recovery_code_data",id:179,primary_key:["taskId"],indexes:{fk_pending_tasks:{columns:["taskId"]}}},{name:"secure_encrypted_backups_message_thread_id_context",id:180,primary_key:["taskId","listId"],indexes:{fk_pending_tasks:{columns:["taskId"]}}},{name:"encrypted_backups_virtual_devices",id:184,primary_key:["pk"],auto_increment:!0},{name:"encrypted_backups_metadata",id:196,primary_key:["backupId"]},{name:"device_metadata",id:185,primary_key:["pk"],auto_increment:!0},{name:"encrypted_backup_restore_task_payload_context",id:190,primary_key:["taskId"]},{name:"encrypted_backups_dyi_backup_restore_status",id:208,primary_key:["pk"],auto_increment:!0},{name:"encrypted_backups_message_backup_status",id:213,primary_key:["messagePk"]},{name:"encrypted_backups_client_restore_status",id:231,primary_key:["threadId"]},{name:"third_party_id_store",id:242,primary_key:["platform"]},{name:"secure_get_secrets_context",id:259,primary_key:["deviceRegistrationId"]},{name:"encrypted_backups_otc_devices",id:261,primary_key:["deviceId"]},{name:"experiences_shared_state",id:282,primary_key:["stateKey"]},{name:"encrypted_backups_otc_notification_sending_status",id:285,primary_key:["pk"],auto_increment:!0},{name:"pending_protobuf_backups_context",id:305,primary_key:["pk"],auto_increment:!0}],[{name:"secure_encrypted_backups_devices",id:191,primary_key:["deviceId"]},{name:"secure_encrypted_backups_device_supported_versions",id:192,primary_key:["deviceId","supportedVersion"],indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:{columns:["deviceId","supportedVersion"]}}}],[{name:"e2ee_dummy_table_for_sync",id:171,primary_key:["placeholder"]},{name:"cutover_threads",id:193,primary_key:["openThreadId"]},{name:"occamadillo_most_recent_message_per_thread",id:292,primary_key:["threadKey"]},{name:"offline_queue_thread_status",id:295,primary_key:["threadJid"]},{name:"client_message_translation_info",id:324,primary_key:["pk"]}],[{name:"community_messaging_aggregated_user_presence_counts_for_community",id:203,primary_key:["folderId"]},{name:"community_messaging_aggregated_copresence_counts_for_chat",id:204,primary_key:["threadId"]}],[{name:"workrooms_co_presence_states",id:246,primary_key:["userId"],indexes:{userCoPresence:{columns:["userId","coPresenceObjectId"]}}}],[{name:"persistent_menu_ctas",id:251,primary_key:["threadKey","ctaId"]}],[{name:"workroom_creation_requests",id:252,primary_key:["creationId"]}],[{name:"pake_messages",id:258,primary_key:["sessionId"]}],[{name:"workroom_invites",id:257,primary_key:["inviteId"]}],[{name:"work_genai",id:293,primary_key:["threadKey","messageId"]}],[{name:"local_message_persistence_store",id:301,primary_key:["pk"],auto_increment:!0},{name:"local_message_persistence_store_supplemental",id:302,primary_key:["pk"],auto_increment:!0},{name:"local_message_persistence_store_deleted_messages",id:303,primary_key:["pk"],auto_increment:!0},{name:"local_message_persistence_store_tag_index",id:304,primary_key:["pk"],indexes:{offlineThreadingId:{columns:["offlineThreadingId","threadId"]}},auto_increment:!0}],[{name:"secure_acs_configurations",id:307,primary_key:["configId"]},{name:"secure_acs_blinded_tokens",id:308,primary_key:["tokenId"],auto_increment:!0},{name:"secure_acs_tokens",id:309,primary_key:["tokenId"]},{name:"acs_request_context",id:310,primary_key:["taskId"]},{name:"anonymous_task_context",id:311,primary_key:["taskId"]}],[{name:"lightspeed_task_context",id:306,primary_key:["taskId"]}],[{name:"ohai_gateway_key_configs",id:313,primary_key:["keyId"]}],[{name:"client_xmas",id:314,primary_key:["pk"],auto_increment:!0}],[{name:"supervision_edge",id:319,primary_key:["edgeId"]},{name:"supervision_metadata",id:320,primary_key:["supervisionMetadataId"]},{name:"screen_time",id:321,primary_key:["recordId"],auto_increment:!0}],[{name:"mwb_safety_interventions",id:327,primary_key:["interventionId","interventionEntId"]}]]}),null);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={c:"string",t:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed default values data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}if(typeof a.c!=="string"||typeof a.t!=="string")return null;e=[];f=a.t;try{e=JSON.parse(a.c);for(d=0;d<e.length;d++){b=e[d];if(typeof b!=="string")return null}}catch(a){return null}return{columns:e,tableName:f}}function b(a){return{c:JSON.stringify(a.columns),t:a.tableName}}d="_db_defaults_meta";e="_db_schema_meta";g.tryParseDefaultValuesData=a;g.defaultValuesColumnToValue=b;g.defaultValuesTableName=d;g.schemaVersionTableName=e}),98);
__d("ReStoreOperationLock",["isPromise","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;b=function(){function a(a){var b=this;this.waitFor=null;this.waitFor=a.then(function(a){return b.waitFor=null})}var b=a.prototype;b.chainPromiseOrValue=function(a){if(this.waitFor!=null)return this.waitFor.then(function(){return a("\ud83d\udd12")});else return a("\ud83d\udd12")};return a}();d=function(){function a(){this.$1=Promise.resolve()}var b=a.prototype;b.chainPromiseOrValue=function(a){var b=this;return new Promise(function(c,d){b.$1=b.$1.then(async function(){try{c(await a("\ud83d\udd12"))}catch(a){d(a)}})})};return a}();function i(a,b){function d(b){if(b.done)return b.value;if(!(h||(h=c("isPromise")))(b.value))throw c("unrecoverableViolation")("expected promise","messenger_web_product");return b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}function a(a,b){return{next:function(c){return b.chainPromiseOrValue(function(b){return i(a.next(b,c))})}}}g.WaitForPromiseLock=b;g.ReStoreOperationLock=d;g.lockIterator=a}),98);
__d("ReStoreIndex",["ReQLBounds","ReStoreOperationLock","ReStoreUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,c,e,f){var g=this;this.entries=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").entries(g.$5,a,g.$1,g.$3,b,c,g.$2),g.$4)};this.get=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$4.chainPromiseOrValue(function(a){return d("ReStoreUtils").getLocked(g.$5,new WeakMap(),g.$1.name,g.$3,b,a,g.$2)})};this.getKey=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$4.chainPromiseOrValue(function(a){return g.$6(g.$5,new WeakMap(),b,a)})};this.keys=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").keys(g.$5,a,g.$1,g.$3,b,c),g.$4)};this.$3=a;this.keyFields=b.indexes[a];this.$1=b;this.$2=c;this.$4=e;this.$5=f}var b=a.prototype;b.$6=async function(a,b,c,e){a=await d("ReStoreUtils").getLocked(a,b,this.$1.name,this.$3,c,e,this.$2);return a===void 0?void 0:d("ReStoreUtils").searchKey(this.$1,a)};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g,i){var j;j=a.call(this,b,c,e,f,g)||this;j.subscribe=function(a,b,c){return j.$ReStoreIndex$p_3.subscribeIndex(j.$ReStoreIndex$p_1.name,j.$ReStoreIndex$p_2,a,(h||(h=d("ReQLBounds"))).extendBounds(b,j.$ReStoreIndex$p_1.indexes[j.$ReStoreIndex$p_2].length),c)};j.$ReStoreIndex$p_2=b;j.$ReStoreIndex$p_1=c;j.$ReStoreIndex$p_3=i;return j}return b}(a);g.ReStoreTransactionIndex=b;g.ReStoreIndex=c}),98);
__d("ReStoreTable",["I64","PromiseOrValue","ReQLBounds","ReStoreIndex","ReStoreOperationLock","ReStoreUtils","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){a=(h||(h=d("I64"))).cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return h.to_float(a)}function l(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);a.set(b,[c==null?d:c[0],e])}a=function(a,b,e,f){var g=this;this.entries=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").entries(g.$4,a,g.$1,void 0,b,c,g.$2),g.$3)};this.get=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$3.chainPromiseOrValue(function(a){return d("ReStoreUtils").getLocked(g.$4,new WeakMap(),g.$1.name,void 0,b,a,g.$2)})};this.keys=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").keys(g.$4,a,g.$1,void 0,b,c),g.$3)};this.peekNextAutoIncrementId=function(){return Promise.resolve(g.$3.chainPromiseOrValue(async function(a){a=g.$1.autoIncrement;if(!a)throw c("unrecoverableViolation")("only supported for auto-incrementing tables","maw_db");a=await d("ReStoreUtils").gen(g.$4.table(g.$1.name).readSeed(new WeakMap()));if(a===void 0)throw c("unrecoverableViolation")("unexpected undefined autoIncrementSeed","maw_db");return(h||(h=d("I64"))).of_float(a)}))};this.keyFields=a.primaryKeyIds;this.$1=a;this.$2=b;this.$3=e;this.$4=f};b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g,h,j,k,l,m){var n;b=c.tableNames[b];n=a.call(this,b,e,f,g)||this;n.$ReStoreTransactionTable$p_1=new Map();n.$ReStoreTransactionTable$p_10=new Map();n.add=function(a){return Promise.resolve((i||(i=d("PromiseOrValue"))).map(i.map(n.$ReStoreTransactionTable$p_4.beforeAdd({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(a){return n.$ReStoreTransactionTable$p_12(function(b,c){var e;(e=n.$ReStoreTransactionTable$p_9)==null?void 0:e.recordLogicalWrite();return d("ReStoreUtils").gen(n.$ReStoreTransactionTable$p_13(n.$ReStoreTransactionTable$p_10,c,new WeakMap(),n.$ReStoreTransactionTable$p_3.name,a,b))})}),function(b){return(i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.afterAdd({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(){return b})}))};n.delete=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return Promise.resolve((i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.beforeDelete({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8}),function(a){return n.$ReStoreTransactionTable$p_12(function(b,c){var e=babelHelpers.assertThisInitialized(n);return d("ReStoreUtils").gen(function*(){var f;(f=e.$ReStoreTransactionTable$p_9)==null?void 0:f.recordLogicalWrite();yield* d("ReStoreUtils").deleteItemLocked(e.$ReStoreTransactionTable$p_2,e.$ReStoreTransactionTable$p_10,c,new WeakMap(),e.$ReStoreTransactionTable$p_3.name,a,b);yield* d("ReStoreUtils").cascadeKeyUpdatesLocked(e.$ReStoreTransactionTable$p_2,e.$ReStoreTransactionTable$p_10,c,new WeakMap(),e.$ReStoreTransactionTable$p_3.name,a,void 0,e.$ReStoreTransactionTable$p_4,b,e.$ReStoreTransactionTable$p_11)}())})}))};n.put=function(a){return Promise.resolve((i||(i=d("PromiseOrValue"))).map(i.map(n.$ReStoreTransactionTable$p_4.beforePut({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(a){return n.$ReStoreTransactionTable$p_12(function(b,c){var e;(e=n.$ReStoreTransactionTable$p_9)==null?void 0:e.recordLogicalWrite();return d("ReStoreUtils").gen(d("ReStoreUtils").putLocked(n.$ReStoreTransactionTable$p_2,n.$ReStoreTransactionTable$p_10,c,new WeakMap(),n.$ReStoreTransactionTable$p_3.name,a,n.$ReStoreTransactionTable$p_4,b,n.$ReStoreTransactionTable$p_11))})}),function(b){return(i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.afterPut({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(){return b})}))};n.upsert=function(a,b){return Promise.resolve((i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.beforeUpsert({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:b}),function(c){return n.$ReStoreTransactionTable$p_12(function(e,f){var g=babelHelpers.assertThisInitialized(n);return d("ReStoreUtils").gen(function*(){var h;(h=g.$ReStoreTransactionTable$p_9)==null?void 0:h.recordLogicalWrite();yield* d("ReStoreUtils").upsertLocked(g.$ReStoreTransactionTable$p_2,g.$ReStoreTransactionTable$p_10,f,new WeakMap(),g.$ReStoreTransactionTable$p_3.name,a,c,g.$ReStoreTransactionTable$p_4,e,g.$ReStoreTransactionTable$p_11);yield* d("ReStoreUtils").cascadeKeyUpdatesLocked(g.$ReStoreTransactionTable$p_2,g.$ReStoreTransactionTable$p_10,f,new WeakMap(),g.$ReStoreTransactionTable$p_3.name,a,d("ReStoreUtils").searchKey(g.$ReStoreTransactionTable$p_3,b),g.$ReStoreTransactionTable$p_4,e,g.$ReStoreTransactionTable$p_11)}())})}))};n.index=function(a){return d("ReStoreUtils").getOrCreate(n.$ReStoreTransactionTable$p_1,a,function(){return new(d("ReStoreIndex").ReStoreTransactionIndex)(a,n.$ReStoreTransactionTable$p_3,n.$ReStoreTransactionTable$p_4,n.$ReStoreTransactionTable$p_5,n.$ReStoreTransactionTable$p_6)})};n.$ReStoreTransactionTable$p_3=b;n.$ReStoreTransactionTable$p_2=c;n.$ReStoreTransactionTable$p_4=e;n.$ReStoreTransactionTable$p_5=f;n.$ReStoreTransactionTable$p_6=g;n.$ReStoreTransactionTable$p_7=h;n.$ReStoreTransactionTable$p_8=j;n.$ReStoreTransactionTable$p_9=k;n.$ReStoreTransactionTable$p_10=l;n.$ReStoreTransactionTable$p_11=m;return n}var c=b.prototype;c.$ReStoreTransactionTable$p_12=function(a){var b=this;return this.$ReStoreTransactionTable$p_5.chainPromiseOrValue(function(c){var e=b.$ReStoreTransactionTable$p_6.createNested(b.$ReStoreTransactionTable$p_9);return(i||(i=d("PromiseOrValue"))).map(a(c,e),function(a){e.flush();return a})})};c.$ReStoreTransactionTable$p_13=function*(a,b,c,e,f,g){var i=b.table(e),j=this.$ReStoreTransactionTable$p_2.tableNames[e];if(j.autoIncrement){var m=f[j.primaryKeyIds[0]];m=(h||(h=d("I64"))).of_float(yield* i.incrementSeed(c,m===void 0?m:k(m)));f[j.primaryKeyIds[0]]=m}m=d("ReStoreUtils").appendDefaultValues(f,j.name,this.$ReStoreTransactionTable$p_11);f=d("ReStoreUtils").searchKey(j,m);if(f==null)throw new Error("Evaluating the object store's key path did not yield a value");if((yield* i.tableGet(c,f))==null){j=d("ReStoreUtils").indicesWithKeyForValue(this.$ReStoreTransactionTable$p_3,Object.keys(j.indexes),m);yield* d("ReStoreUtils").deconflictIndicesLocked(this.$ReStoreTransactionTable$p_2,a,b,c,e,j,this.$ReStoreTransactionTable$p_4,g,this.$ReStoreTransactionTable$p_11);g=(yield* i.tableSet(c,f,m));i=g[0];yield* d("ReStoreUtils").addIdToIndices(b,c,e,i,j);l(a,e,f,void 0,m)}return f};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g){var h;h=a.call(this,b,c,e,f)||this;h.$ReStoreTable$p_1=new Map();h.index=function(a){return d("ReStoreUtils").getOrCreate(h.$ReStoreTable$p_1,a,function(){return new(d("ReStoreIndex").ReStoreIndex)(a,h.$ReStoreTable$p_2,h.$ReStoreTable$p_3,h.$ReStoreTable$p_4,h.$ReStoreTable$p_5,h.$ReStoreTable$p_6)})};h.subscribe=function(a,b,c){return h.$ReStoreTable$p_6.subscribeTable(h.$ReStoreTable$p_2.name,a,(j||(j=d("ReQLBounds"))).extendBounds(b,h.$ReStoreTable$p_2.primaryKeyIds.length),c)};h.$ReStoreTable$p_2=b;h.$ReStoreTable$p_3=c;h.$ReStoreTable$p_4=e;h.$ReStoreTable$p_5=f;h.$ReStoreTable$p_6=g;return h}return b}(a);g.ReStoreTransactionTable=b;g.ReStoreTable=e}),98);
__d("LSStorage",["ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return(h||(h=d("ReStoreKeyComparer"))).compareKey(a,b)===0}g.areKeysEqual=a}),98);
__d("ReStoreUtils",["I64","LSStorage","ReQLBounds","ReStoreKeyComparer","ReStoreOperationLock","ReStoreTable","isPromise","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=500;async function a(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function m(a,b,d){var e=a.indexes;a=a.primaryKeyIds;a=d==null?a:e[d];return a.map(function(a){if(b[a]!==void 0||d!=null)return b[a];throw c("unrecoverableViolation")("primary key must be defined on object","maw_db")})}function n(a,b,c){var d=c[b];return!d?a:Object.keys(d).reduce(function(a,b){Object.prototype.hasOwnProperty.call(a,b)||(a[b]=d[b]);return a},babelHelpers.extends({},a))}function o(a,b,c,e,f,g,h){function i(){var j=a.table(c.name),l=babelHelpers.extends({},(k||(k=d("ReQLBounds"))).extendBounds(g,(e===void 0?c.primaryKeyIds:c.indexes[e]).length),{dir:f}),m=e==null?j.tableEntries(b,l):j.indexEntries(b,e,l);return j={next:function*(a,b){a=(yield* m.next(b));if(a.done)return{done:!0};b=a.value[1];return{done:!1,value:[a.value[0],h==null?b:h.afterEntriesNext({tableName:c.name,value:b})]}}},j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=i,j}return i()}function b(a,b,c,e,f,g){function h(){var i=a.table(c.name),j=i.keys(b,e,babelHelpers.extends({},(k||(k=d("ReQLBounds"))).extendBounds(g,(e===void 0?c.primaryKeyIds:c.indexes[e]).length),{dir:f}));return i={next:function*(a,b){return yield* j.next(b)}},i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=h,i}return h()}function p(a,b){function d(b){if(b.done)return b.value;if(!(h||(h=c("isPromise")))(b.value))throw c("unrecoverableViolation")("expected promise","messenger_web_product");return b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}async function e(a,b,c,d,e,f,g){f=a.table(c);d!=null?a=await p(f.indexGet(b,d,e)):a=await p(f.tableGet(b,e));return a===void 0?void 0:g.afterGet({tableName:c,value:a})}function q(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function r(a){a=(i||(i=d("I64"))).cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return i.to_float(a)}function s(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);(c==null?d:c[0])==null&&e==null?a.delete(b):a.set(b,[c==null?d:c[0],e])}function* t(a,b,c,e,f,g,h,i,k,l){function n(a,b){return a.length>=b?a:[].concat(a,[(j||(j=d("ReStoreKeyComparer"))).MAX_KEY])}if(h!=null&&(j||(j=d("ReStoreKeyComparer"))).compareKey(g,h)===0)return;f=a.tableNames[f];var p=f.cascadeUpdates,q=f.primaryKeyIds;f=function*(d){var f=d.indexName;d=d.tableName;var j=a.tableNames[d],p=j.indexes,r=j.primaryKeyIds,s=f==null?r:p[f];r={gte:g,lte:n(g,s.length)};p=o(c,e,j,f,"asc",r);j=[];f=(yield* p.next(k));while(!f.done)j.push(f.value),f=(yield* p.next(k));for(r of j){r[0];p=r[1];f=m(a.tableNames[d],p);if(h===void 0)yield* w(a,b,c,e,d,f,k),yield* t(a,b,c,e,d,f,void 0,i,k,l);else{j=q.reduce(function(a,b,c){if(c>=h.length)return a;a[s[c]]=h[c];return a},babelHelpers.extends({},p));yield* v(a,b,c,e,d,f,j,i,k,l);yield* t(a,b,c,e,d,f,m(a.tableNames[d],j),i,k,l)}}};for(p of p)yield* f(p)}function* u(a,b,c,e,f,g,h,k,l){var o=c.table(f),p=a.tableNames[f];if(p.autoIncrement){var q=g[p.primaryKeyIds[0]];q=(i||(i=d("I64"))).of_float(yield* o.incrementSeed(e,q===void 0?q:r(q)));g[p.primaryKeyIds[0]]=q}q=m(p,g);var t={},u=(yield* o.tableGet(e,q)),v=g;u!==void 0?t=x(p,Object.keys(p.indexes),u):v=n(g,p.name,l);g=(yield* o.tableSet(e,q,v));var w=g[0];g=g[1];p=x(p,Object.keys(p.indexes),v);var A=babelHelpers.extends({},p);for(var B of Object.keys(A))t[B]!==void 0&&(j||(j=d("ReStoreKeyComparer"))).compareKey(t[B],A[B])===0&&(delete A[B],delete t[B]);yield* y(a,b,c,e,f,A,h,k,l);yield* z(c,e,f,w,g?p:A);for(B of Object.keys(t))yield* o.indexDelete(e,B,t[B]);s(b,f,q,u,v);return q}function* v(a,b,c,e,f,g,h,i,j,k){var l=m(a.tableNames[f],h);d("LSStorage").areKeysEqual(g,l)||(yield* w(a,b,c,e,f,g,j));yield* u(a,b,c,e,f,h,i,j,k)}function* w(a,b,c,d,e,f,g){g=c.table(e);c=a.tableNames[e];a=(yield* g.tableGet(d,f));if(a!==void 0){if(Object.keys(c.indexes).length)for(var h of Object.keys(c.indexes)){var i=m(c,a,h);i!=null&&(yield* g.indexDelete(d,h,i))}yield* g.tableDelete(d,f);s(b,e,f,a,void 0)}}function x(a,b,c){return b.reduce(function(b,d){var e;e=(e=a.indexPredicates)==null?void 0:e[d];if(e!=null&&!e(c))return b;e=m(a,c,d);b[d]=e;return b},{})}function* y(a,b,c,d,e,f,g,h,i){var j=c.table(e);for(var k of Object.keys(f)){var l=f[k];l=(yield* j.indexGet(d,k,l));if(l!=null){l=m(a.tableNames[e],l);yield* w(a,b,c,d,e,l,h);yield* t(a,b,c,d,e,l,void 0,g,h,i)}}}function* z(a,b,c,d,e){a=a.table(c);for(c of Object.keys(e)){var f=e[c];f===void 0?yield* a.indexDelete(b,c,f):yield* a.indexSet(b,c,f,d)}}function* f(a,b,d,e,f,g,h,i,j,k){var m=d.table(i),n=g.tableNames[i];for(var p of j)yield* m.clearIds(e,p);p=j.filter(function(a){return(n==null?void 0:n.indexes[a])!=null});if(p.length===0)return;j=o(d,e,n,void 0,"asc",void 0,f);var q=[],r=(yield* j.next(k));while(!r.done){while(!r.done&&q.length<=l)q.push(r.value),r=(yield* j.next(k));for(var s of q){var t=s[0],u=s[1];u=x(g.tableNames[i],p,u);yield* y(g,a,d,e,i,u,f,k,h);t=c("nullthrows")(yield* m.getId(e,t));yield* z(d,e,i,t,u)}q.length=0;b==null?void 0:b()}}function A(a,b,c,e,f,g,h){var i=new(d("ReStoreOperationLock").ReStoreOperationLock)(),j=h==null?void 0:h.qplFlow,k=new Map(),l=new Proxy({table:function(h){return new(d("ReStoreTable").ReStoreTransactionTable)(h,a,c,i,f,e,l,j,g,b)}},{get:function(h,m){return!Object.prototype.hasOwnProperty.call(a.tableNames,m)?Reflect.get.apply(Reflect,arguments):q(k,m,function(){return new(d("ReStoreTable").ReStoreTransactionTable)(m,a,c,i,f,e,l,j,g,b)})}});return l}function B(a){return a.types.includes("indexeddb")}g.collectIterator=a;g.searchKey=m;g.appendDefaultValues=n;g.entries=o;g.keys=b;g.gen=p;g.getLocked=e;g.getOrCreate=q;g.cascadeKeyUpdatesLocked=t;g.putLocked=u;g.upsertLocked=v;g.deleteItemLocked=w;g.indicesWithKeyForValue=x;g.deconflictIndicesLocked=y;g.addIdToIndices=z;g.rebuildIndicesLocked=f;g.createReStoreTransaction=A;g.isPDB=B}),98);
__d("ReStoreDefaultValueMigration",["LSPlatformLsInitLog","ReStoreDefaultValuesMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;b=d("ReStoreDefaultValuesMetadata").tryParseDefaultValuesData(e);if(b==null)continue;e=b.columns;b=b.tableName;c[b]=(f=c[b])!=null?f:new Set();for(f of e)c[b].add(f)}}return c});return i.apply(this,arguments)}function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){a=(yield h(a,b));b={};for(c in c.tableNames){var e=d[c];if(e!=null)for(var f in e){var g;g=(g=a[c])==null?void 0:g.has(f);if(!g){b[c]=(g=b[c])!=null?g:{};b[c][f]=e[f]}}}return b});return k.apply(this,arguments)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){for(b in b){var e=Object.keys(c[b]||{});e={columns:e,tableName:b};yield a[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].put(d("ReStoreDefaultValuesMetadata").defaultValuesColumnToValue(e))}});return m.apply(this,arguments)}function a(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=new WeakMap();d("LSPlatformLsInitLog").addPoint("default_values_update_start");var g=function(a,b){d("LSPlatformLsInitLog").addPoint("default_values_update_end_failure",{string:{default_values_update_failure_point:b,default_values_update_failure_reason:String(a)}})};try{b=(yield j(f,a,b,e));try{if(c===!1)for(c in b){var h=a[c].entries(f),i=(yield h.next());while(!i.done){var k=babelHelpers["extends"]({},i.value[1]);k=d("ReStoreUtils").appendDefaultValues(k,c,e);yield a[c].put(k);i=(yield h.next())}}yield l(a,b,e);d("LSPlatformLsInitLog").addPoint("default_values_update_end")}catch(a){g(a,"setDefaultValues")}}catch(a){g(a,"findDefaultValuesToUpdate")}});return n.apply(this,arguments)}g.runMigrationForTableDefaultValuesIfNeeded=a}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=typeof a==="string"?a:null;if(a==null)return null;try{a=JSON.parse(a);for(var b=a,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(typeof e!=="string")return null}return a}catch(a){return null}}function a(a){var b={indexName:"string",keyIds:"string","predicate?":"string",tableName:"string"};for(var d in b){var e=d.endsWith("?");if(e)e=a[d.slice(0,-1)];else{if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, missing key "%s"',d);return null}e=a[d]}var f=b[d],g=typeof e;if(e!=null&&g!==f){c("FBLogger")("messenger_web_product").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',d,g,f);return null}}e=h(a.keyIds);if(e==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, key IDs "%s" are invalid',typeof a.keyIds==="string"?a.keyIds:"<"+typeof a.keyIds+">");return null}return typeof a.indexName!=="string"||typeof a.tableName!=="string"||typeof a.predicate!=="string"&&a.predicate!=null?null:babelHelpers["extends"]({data:e,indexName:a.indexName,tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}function b(a,b){if(a[0]==null)return!0;if(a[0].length!==b[0].length)return!0;for(var c=0;c<a[0].length;c++)if(a[0][c]!==b[0][c])return!0;return a[1]!==b[1]?!0:!1}function d(a){return babelHelpers["extends"]({indexName:a.indexName,keyIds:JSON.stringify(a.data),tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}e="_db_indices_meta";g.tryParseIndexData=a;g.indicesDiffer=b;g.indexDataToValue=d;g.indicesTableName=e}),98);
__d("ReStoreIndicesMigration",["LSPlatformLsInitLog","ReStoreIndexMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b[d("ReStoreIndexMetadata").indicesTableName].entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;e=d("ReStoreIndexMetadata").tryParseIndexData(e);if(e==null)continue;var g=e.indexName,h=e.tableName;c[h]=(f=c[h])!=null?f:{};c[h][g]=babelHelpers["extends"]({index:e.data,key:b},e.predicate==null?{}:{predicate:e.predicate})}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield h(a,b));b={};for(var e in c.tableNames){var f=c.tableNames[e];for(var g in f.indexes){var i,j;i=[f.indexes[g],(i=f.indexPredicates)==null?void 0:(i=i[g])==null?void 0:i.toString()];j=(j=a[e])==null?void 0:j[g];if(d("ReStoreIndexMetadata").indicesDiffer([j==null?void 0:j.index,j==null?void 0:j.predicate],i)){b[e]=(j=b[e])!=null?j:{};b[e][g]=i}}}j={};for(i in c.tableNames)if(i in a){g=a[i];for(f in g){var k;e=g[f];k=(k=c.tableNames[i])==null?void 0:(k=k.indexes)==null?void 0:k[f];if(k==null){j[i]=(k=j[i])!=null?k:{};j[i][f]=e}}}return{toRemove:j,toUpdate:b}});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f],h=g[0];g=g[1];h=babelHelpers["extends"]({data:h,indexName:f,tableName:c},g==null?{}:{predicate:g});yield a[d("ReStoreIndexMetadata").indicesTableName].put(d("ReStoreIndexMetadata").indexDataToValue(h))}}});return m.apply(this,arguments)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g,h=e[f].key;yield (g=a[d("ReStoreIndexMetadata").indicesTableName])["delete"].apply(g,h)}}});return o.apply(this,arguments)}function a(a,c,e,f){var g=new WeakMap();d("LSPlatformLsInitLog").addPoint("index_migration_start");var h=function(a,b){d("LSPlatformLsInitLog").addPoint("index_migration_end_failure",{string:{index_migration_failure_point:b,index_migration_failure_reason:String(a)}})};return j(g,a,c).then(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g=b.toRemove;b=b.toUpdate;var h=Array.from(new Set([].concat(Object.keys(b),Object.keys(g))));d("LSPlatformLsInitLog").addAnnotations({"int":{index_migration_rebuild_tables_count:h.length}});if(e===!1)for(h of h)if(c.tableNames[h]!=null){var i;i=Array.from(new Set([].concat(Object.keys((i=b[h])!=null?i:{}),Object.keys((i=g[h])!=null?i:{}))));yield f(h,i)}yield l(a,b);yield n(a,g);d("LSPlatformLsInitLog").addPoint("index_migration_end")});return function(a){return g.apply(this,arguments)}}(),function(a){return h(a,"findIndicesToUpdateOrRemove")})["catch"](function(a){return h(a,"rebuildIndices")})}g.runMigrationForIndicesIfNeeded=a}),98);
__d("ReStoreMigrateUtil",["$InternalEnum","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;e=b("$InternalEnum").Mirrored(["EMPTY_DB","UPGRADE_COMPLETE","NO_UPGRADE_NEEDED"]);function a(a,b){b="V"+b;return b in a?b:null}function i(a,b){return j.apply(this,arguments)}function j(){j=babelHelpers.wrapAsyncGenerator(function*(a,b){a=a.iterator(new WeakMap());var c=[],d=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!d.done){var e=d.value;e[0];e=e[1];c.push(e);c.length===b&&(yield c,c=[]);d=(yield babelHelpers.awaitAsyncGenerator(a.next()))}c.length&&(yield c)});return j.apply(this,arguments)}function c(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){var g=!0,j=!1,k;try{for(var l=babelHelpers.asyncIterator(i(d("ReQL").fromTableAscending(a),100)),m,m;m=(yield l.next()),g=m.done,m=(yield m.value),!g;g=!0){m=m;yield (h||(h=b("Promise"))).all(m.map(function(b){return c(b,e).then(a.put)}));f==null?void 0:f()}}catch(a){j=!0,k=a}finally{try{!g&&l["return"]!=null&&(yield l["return"]())}finally{if(j)throw k}}});return k.apply(this,arguments)}g.ReStoreMigrateResult=e;g.getVersionFromNumber=a;g.fetchReQLBatch=i;g.upgradeAllEntries=c}),98);
__d("ReStorePersistenceIds",[],(function(a,b,c,d,e,f){"use strict";c="nextId";d="seed";function a(a){return a+"_schema_version"}function b(a){return a+"_default_value_version"}e="custom_migration_value_version";f.idForNextId=c;f.idForSeed=d;f.getIdForSchema=a;f.getIdForDefaultValue=b;f.idForCustomMigrationValue=e}),66);
__d("hashString",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=0;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b|=0}return b}f["default"]=a}),66);
__d("ReStoreHashMigration",["ReStoreDefaultValueMigration","ReStoreDefaultValuesMetadata","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStoreOperationLock","ReStorePersistenceIds","ReStoreUtils","asyncToGeneratorRuntime","hashString"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=Object.values(a.tableNames).map(function(a){return babelHelpers["extends"]({},a,{indexPredicates:Object.entries((a=a.indexPredicates)!=null?a:{}).map(function(a){var b=a[0];a=a[1];return[b,a.toString()]})})});return JSON.stringify(a)}function a(a,b,c,d){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g,i,j,k=f.changedKeys,l=f.clearCache,m=f.hooksManager,n=f.loggers,o=n.logHistory;n=n.userFlow;var p=f.storeTx;f=f.transaction;var q=c("hashString")(JSON.stringify(e)),r=c("hashString")(h(b));n==null?void 0:n.addAnnotations({"int":{defaultValuesVersion:q,schemaVersion:r}});var s=d("ReStorePersistenceIds").getIdForSchema(a);g=(g=(yield d("ReStoreUtils").gen(p.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).readData(new WeakMap(),s))))==null?void 0:g.schemaVersion;o==null?void 0:o.debug("storeSchemaVersion: "+((i=g)!=null?i:"null"));i=d("ReStorePersistenceIds").getIdForDefaultValue(a);a=(a=(yield d("ReStoreUtils").gen(p.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).readData(new WeakMap(),i))))==null?void 0:a.defaultValuesVersion;o==null?void 0:o.debug("storeDefaultValuesVersion: "+((j=g)!=null?j:"null"));g!=null&&(n==null?void 0:n.addAnnotations({"int":{storeDefaultValuesVersion:a,storeSchemaVersion:g}}));if(g===r&&a===q)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;j=g==null;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(f,b,j,e);o==null?void 0:o.debug("migration default values finished");yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(f,b,j,function(a,c){return new(d("ReStoreOperationLock").ReStoreOperationLock)().chainPromiseOrValue(function(f){return d("ReStoreUtils").gen(d("ReStoreUtils").rebuildIndicesLocked(k,l,p,new WeakMap(),m,b,e,a,c,f))})});o==null?void 0:o.debug("migration indices finished");p.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).writeData(new WeakMap(),s,{schemaVersion:r});p.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).writeData(new WeakMap(),i,{defaultValuesVersion:q});o==null?void 0:o.debug("version is written");o==null?void 0:o.debug("migration hash end");n==null?void 0:n.addPoint("migration_hash_end");if(j)return d("ReStoreMigrateUtil").ReStoreMigrateResult.EMPTY_DB;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});return i.apply(this,arguments)}g.runHashMigration=a}),98);
__d("ReStoreMetadata",["ReStoreDefaultValuesMetadata","ReStoreIndexMetadata"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return!0}function a(a){var b=a.reduce(function(a,b){return function(c){return c[b]!=null&&a(c)}},h);b.toString=function(){return"dynamic predicate on ["+a.join(",")+"]"};return b}function b(a){return function(b){var c={},d={};for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;for(var g=g,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j,k;if(h){if(i>=g.length)break;k=g[i++]}else{i=g.next();if(i.done)break;k=i.value}k=k;k.id!=null&&(c[k.id]=k.name);d[k.name]={autoIncrement:(j=k.auto_increment)!=null?j:!1,cascadeUpdates:(j=a[k.name])!=null?j:[],indexes:(j=Object.fromEntries(Object.entries((j=k.indexes)!=null?j:{}).map(function(a){var b=a[0];a=a[1].columns;return[b,a]})))!=null?j:{},indexPredicates:Object.fromEntries(Object.entries((j=k.indexes)!=null?j:{}).filter(function(a){a[0];a=a[1];return a.predicate}).map(function(a){var b=a[0];a=a[1];return[b,a.predicate]})),name:k.name,primaryKeyIds:k.primary_key}}}return{tableIds:c,tableNames:d}}}f=(c={},c[(e=d("ReStoreDefaultValuesMetadata")).defaultValuesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:e.defaultValuesTableName,primaryKeyIds:["t"]},c[d("ReStoreIndexMetadata").indicesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]},c[e.schemaVersionTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:e.schemaVersionTableName,primaryKeyIds:[]},c);g.createPredicate=a;g.getBuildTableData=b;g.RESTORE_METADATA_TABLES=f}),98);
__d("ReStoreHashSchemaProvider",["ReStoreHashMigration","ReStoreMetadata"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){var e=b.tableIds;b=b.tableNames;c===void 0&&(c={});this.$1=a;this.tableNames=babelHelpers["extends"]({},b,d("ReStoreMetadata").RESTORE_METADATA_TABLES);this.tableIds=e;this.defaults=(a=c)!=null?a:{}}var b=a.prototype;b.migrate=function(a){return d("ReStoreHashMigration").runHashMigration(this.$1,{tableIds:this.tableIds,tableNames:this.tableNames},this.defaults,a)};return a}();g["default"]=a}),98);
__d("LSHashSchemaProvider",["LSConstants","LSDbForeignKeys","LSTableDefaults","LSTableSchemas","ReStoreHashSchemaProvider","ReStoreMetadata","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new(c("ReStoreHashSchemaProvider"))(d("LSConstants").LS_SCHEMA_NAME,d("ReStoreMetadata").getBuildTableData(c("LSDbForeignKeys"))(a),c("LSTableDefaults"))}b=a(c("LSTableSchemas").map(function(a){return a.map(function(a){var b;return babelHelpers["extends"]({},a,{indexes:Object.fromEntries(Object.keys((b=a.indexes)!=null?b:{}).map(function(b){var e=c("nullthrows")(a.indexes)[b],f=e.ignore_nulls;e=babelHelpers.objectWithoutPropertiesLoose(e,["ignore_nulls"]);return[b,babelHelpers["extends"]({},e,{predicate:f?d("ReStoreMetadata").createPredicate(f):void 0})]}))})})}));g.buildSchemaProvider=a;g.LSHashSchemaProvider=b}),98);
__d("LSTransactionLogger",["cr:8879"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:8879")}),98);
__d("LSReStoreQplLogger",["LSTransactionLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{startTracking:function(b,d){var e=c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").startTracking(b,a,d);return{addAnnotations:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").addAnnotations(a,e,b)},end:function(){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").end(a,e)},fail:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").fail(a,e,b)},mark:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").mark(a,e,b)},recordLogicalWrite:function(){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").recordLogicalWrite(e)}}}}}g.createQplLogger=a}),98);
__d("ReStorePersistence",["FBLogger","ReStoreKeyComparer","ReStorePersistenceIds","ReStoreUtils","gkx","isPromise","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={},k={gt:[!1,0],gte:[!0,0],lt:[!0,1],lte:[!1,1]},l=new Set(["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","occamadillo_most_recent_message_per_thread"]),m=16,n=64,o=64,p=Math.floor(m/2),q=Math.floor(n/2),r=Math.floor(o/2);function s(b){if(b==null)return b;var c=Object.getOwnPropertyNames(b),a={},d,e;for(d=0;d<c.length;d++)e=b[c[d]],a[c[d]]=e;return a}function t(a,b){b===void 0&&(b=j);return a===b}function u(a,b,c){var e=0,f=a.length-1;while(e<=f){var g=e+f>>1;(c[0]?(i||(i=d("ReStoreKeyComparer"))).compareKey(a[g],b)<0:(i||(i=d("ReStoreKeyComparer"))).compareKey(a[g],b)<=0)?e=g+1:f=g-1}g=[e,f][c[1]];return g===a.length?-1:g}var v=function(){function a(a,b,c,d,e,f){this.$2=b,this.$3=c,this.$1=a,this.$4=d,this.$5=e,this.$6=f}var b=a.prototype;b.$7=function(a){return a==null?"root":"index("+a+")"};b.$8=function(a,b){return d("ReStoreUtils").getOrCreate(this.$1,b,function(){return{children:[].concat(a.children),isLeaf:!0,keys:[].concat(a.keys),nextId:a.nextId,prevId:a.prevId}})};b.$9=function(a,b){return d("ReStoreUtils").getOrCreate(this.$1,b,function(){return{children:[].concat(a.children),isLeaf:!1,keys:[].concat(a.keys)}})};b.$10=function(a,b){return d("ReStoreUtils").getOrCreate(this.$1,b,function(){return{headId:a.headId,rootId:a.rootId,tailId:a.tailId}})};b.$11=function(a,b){if(!a.length)return[0,0];var c=u(a,b,k.gte);if(c===-1)return[a.length,0];else if((i||(i=d("ReStoreKeyComparer"))).compareKey(a[c],b)===0)return[c,1];return[c,0]};b.$12=function*(a,b,c,d){var e=(yield* this.$13(a,b));e=e;b=b;var f=-1;while(!e.isLeaf)d==null?void 0:d.push([e,b,f]),f=u(e.keys,c,k.gt),f===-1&&(f=e.keys.length),b=e.children[f],e=(yield* this.$13(a,b));return[e,b,f]};b.$14=function*(a,b){this.$3();var d=this.$1.get(b);if(t(d))return void 0;if(d!==void 0)return d;d=this.$4.get(a,this.$2,b,this.$5);return(h||(h=c("isPromise")))(d)?yield d:d};b.$13=function*(a,b){a=(yield* this.$14(a,b));if(a===void 0){var d=this.$1.get(b);this.$4.logError==null?void 0:this.$4.logError(this.$2,this.$5,"dbCorruption",{deletedInThisTxn:t(d)?"true":"false",id:JSON.stringify(b)||""});throw c("unrecoverableViolation")("value not found","messenger_web_product")}return a};b.$15=function*(a,b){a=(a=(yield* this.$14(a,d("ReStorePersistenceIds").idForNextId)))!=null?a:0;this.$1.set("nextId",a+1);this.$1.set(a,b);return a};b.$16=function(a,b){this.$3(),this.$1.set(a,b)};b.incrementSeed=function*(a,b){a=(a=(yield* this.$14(a,"seed")))!=null?a:0;if(b===void 0){this.$1.set("seed",a+1);return a}b>=a&&this.$1.set("seed",b+1);return b};b.readData=function*(a,b){return yield* this.$14(a,b)};b.$17=function*(a,b,c){b=(yield* this.$14(a,this.$7(b)));if(b==null)return;a=(yield* this.$12(a,b.rootId,c));b=a[0];a=u(b.keys,c,k.gte);if(a===-1||(i||(i=d("ReStoreKeyComparer"))).compareKey(b.keys[a],c)!==0)return;return b.children[a]};b.tableGet=function*(a,b){b=(yield* this.$17(a,void 0,b));if(b===void 0)return;return yield* this.$18(a,b)};b.$18=function*(a,b){return Array.isArray(b)?b[0]:yield* this.$13(a,b)};b.$19=function*(a,b,d,e){if(Array.isArray(b)){var f=(yield* this.$17(a,void 0,b));if(f==null){c("gkx")("3570")&&this.$6(d,e,this.$2);throw c("FBLogger")("messenger_web_product").mustfixThrow("Encountered value in index %s but not found in table %s",d,this.$2)}return yield* this.$18(a,f)}return yield* this.$13(a,b)};b.indexGet=function*(a,b,c){var d=(yield* this.$17(a,b,c));if(d==null)return;return yield* this.$19(a,d,b,c)};b.getId=function*(a,b){a=(yield* this.$17(a,void 0,b));return Array.isArray(a)?b:a};b.tableSet=function*(a,b,c){var d,e=this.$4.shouldInline(this.$2,c),f=this.$7(),g=(yield* this.$14(a,f));if(g==null){var h;e||(d=(yield* this.$15(a,c)));h={children:[(h=d)!=null?h:[c]],isLeaf:!0,keys:[b]};h=(yield* this.$15(a,h));this.$16(f,{headId:h,rootId:h,tailId:h});return[(h=d)!=null?h:b,!1]}h=[];var i=(yield* this.$12(a,g.rootId,b,h)),k=i[0];i=i[1];var l=this.$11(k.keys,b),m=l[0];l=l[1];var n=!1;if(l===1){var o=k.children[m];if(!Array.isArray(o)){n=!0;if(!e){this.$16(o,c);return[o,!1]}else this.$1.set(o,j)}}o=this.$8(k,i);e||(d=(yield* this.$15(a,c)));l===0&&o.keys.splice(m,0,b);o.children.splice(m,l,(k=d)!=null?k:[c]);yield* this.$20(a,o,i,h,g,f,!0);return[(m=d)!=null?m:b,l===1&&!(e&&!n)]};b.indexSet=function*(a,b,c,d){b=this.$7(b);var e=(yield* this.$14(a,b));if(e==null){var f={children:[d],isLeaf:!0,keys:[c]};f=(yield* this.$15(a,f));this.$16(b,{headId:f,rootId:f,tailId:f});return}f=[];var g=(yield* this.$12(a,e.rootId,c,f)),h=g[0];g=g[1];var i=this.$11(h.keys,c),j=i[0];i=i[1];if(i===1&&h.children[j]===d)return;h=this.$8(h,g);h.keys.splice(j,i,c);h.children.splice(j,i,d);yield* this.$20(a,h,g,f,e,b,!1)};b.$20=function*(a,b,c,d,e,f,g){b=b;var h;c=c;for(;b.keys.length>=(b.isLeaf?g?m:n:o);b=h,c=i){var i;i=(i=d.pop())!=null?i:[];h=i[0];i=i[1];i!=null?h=this.$9(h,i):(h={children:[c],isLeaf:!1,keys:[]},this.$10(e,f).rootId=(yield* this.$15(a,h)));var j=Math.floor(b.keys.length/2),k=void 0;if(b.isLeaf){var l={children:b.children.slice(j),isLeaf:!0,keys:b.keys.slice(j),nextId:b.nextId,prevId:c},p=k=b.nextId=(yield* this.$15(a,l));l=l.nextId;l?this.$8(yield* this.$13(a,l),l).prevId=p:this.$10(e,f).tailId=k}else k=(yield* this.$15(a,{children:b.children.slice(j+1),isLeaf:!1,keys:b.keys.slice(j+1)}));l=this.$11(h.keys,b.keys[j]);p=l[0];l=l[1];h.keys.splice(p,l,b.keys[j]);h.children.splice(p+1,0,k);b.keys.length=j;b.children.length=j+(b.isLeaf?0:1)}};b.tableDelete=function*(a,b){a=(yield* this.$21(a,void 0,b));if(a==null)return!1;Array.isArray(a)||(this.$3(),this.$1.set(a,j));return!0};b.indexDelete=function*(a,b,c){return(yield* this.$21(a,b,c))!=null};b.$21=function*(a,b,e){var f=this.$7(b),g=(yield* this.$14(a,f));if(g==null)return;var h=[],m=(yield* this.$12(a,g.rootId,e,h)),n=m[0],o=m[1];m=m[2];var s=this.$8(n,o),t=u(n.keys,e,k.gte);if(t===-1||(i||(i=d("ReStoreKeyComparer"))).compareKey(n.keys[t],e)!==0)return;n=s.children[t];s.keys.splice(t,1);s.children.splice(t,1);e=s;t=o;s=m;var v;for(;e.keys.length<(e.isLeaf?b==null?p:q:r)&&h.length;x=[m,v,o],e=x[0],t=x[1],s=x[2],x){o=h.pop();m=o[0];v=o[1];o=o[2];m=this.$9(m,v);var w=[[{nodeId:m.children[s-1]},{node:e,nodeId:t},s-1],[{node:e,nodeId:t},{nodeId:m.children[s+1]},s]].filter(function(b){var a=b[0];b=b[1];return a.nodeId!==void 0&&b.nodeId!==void 0});for(var x of w){var y=x[0],z=x[1],A=x[2],B=y.node=y.node||(yield* this.$13(a,y.nodeId)),C=z.node=z.node||(yield* this.$13(a,z.nodeId)),D=e.isLeaf?b==null?p:q:r;if(B.keys.length+z.node.keys.length>=D*2){if(e.isLeaf){var E=this.$8(B,y.nodeId),F=this.$8(C,z.nodeId),G=[].concat(E.children,F.children),H=[].concat(B.keys,C.keys);E.children=(F.children=G).splice(0,D);E.keys=(F.keys=H).splice(0,D);m.keys[A]=H[0]}else{G=this.$9(B,y.nodeId);E=this.$9(C,z.nodeId);F=[].concat(G.children,E.children);H=[].concat(G.keys,[m.keys[A]],E.keys);G.children=(E.children=F).splice(0,D+1);m.keys[A]=H.splice(D,1)[0];G.keys=(E.keys=H).splice(0,D)}return n}}for(B of w){y=B[0];C=B[1];z=B[2];if(e.isLeaf){F=this.$8(y.node,y.nodeId);A=this.$8(C.node,C.nodeId);F.children=[].concat(F.children,A.children);F.keys=[].concat(F.keys,A.keys);A.keys.length=0;G=A.nextId;if(G){E=this.$8(yield* this.$13(a,G),G);E.prevId=y.nodeId}else this.$10(g,f).tailId=y.nodeId;F.nextId=A.nextId}else{H=this.$9(y.node,y.nodeId);D=this.$9(C.node,C.nodeId);H.children=[].concat(H.children,D.children);H.keys=[].concat(H.keys,[m.keys[z]],D.keys)}m.keys.splice(z,1);m.children.splice(z+1,1);this.$1.set(C.nodeId,j);break}}w=(yield* this.$13(a,g.rootId));if(!w.keys.length&&w.children.length){if(w.isLeaf){l.has(this.$2)&&(this.$4.logError==null?void 0:this.$4.logError(this.$2,this.$5,"dbCorruption",{}));throw c("unrecoverableViolation")("cannot be leaf","messenger_web_product")}this.$1.set(g.rootId,j);this.$10(g,f).rootId=w.children[0]}return n};b.btreeIterator=function(a,b,e){e=e===void 0?{}:e;var f=e.dir,g=f===void 0?"asc":f,h=babelHelpers.objectWithoutPropertiesLoose(e,["dir"]);function j(){if(g==="asc"){if(Object.prototype.hasOwnProperty.call(h,"gt"))return h.gt;else if(Object.prototype.hasOwnProperty.call(h,"gte"))return h.gte}else if(Object.prototype.hasOwnProperty.call(h,"lt"))return h.lt;else if(Object.prototype.hasOwnProperty.call(h,"lte"))return h.lte}function l(a){if(g==="asc")return Object.prototype.hasOwnProperty.call(h,"gt")?u(a.keys,h.gt,k.gt):Object.prototype.hasOwnProperty.call(h,"gte")?u(a.keys,h.gte,k.gte):0;else return Object.prototype.hasOwnProperty.call(h,"lt")?u(a.keys,h.lt,k.lt):Object.prototype.hasOwnProperty.call(h,"lte")?u(a.keys,h.lte,k.lte):a.keys.length-1}if(Object.prototype.hasOwnProperty.call(h,"gt")&&Object.prototype.hasOwnProperty.call(h,"gte"))throw c("unrecoverableViolation")("cannot specify both greater than and greater than or equal","maw_db");if(Object.prototype.hasOwnProperty.call(h,"lt")&&Object.prototype.hasOwnProperty.call(h,"lte"))throw c("unrecoverableViolation")("cannot specify both less than and less than or equal","maw_db");var m,n=this;return{next:function*(e){var f,o;if(m==null){var p=(yield* n.$14(a,n.$7(b)));if(p==null)return{done:!0};var q=j();if(q!==void 0){q=(yield* n.$12(a,p.rootId,q));f=q[0];q=q[1]}else if(g==="asc"){var r=[yield* n.$13(a,p.headId),p.headId];f=r[0];q=r[1]}else{r=[yield* n.$13(a,p.tailId),p.tailId];f=r[0];q=r[1]}p=l(f)}else{r=m;p=r.i;o=r.key;q=r.nodeId;f=(yield* n.$14(a,q));if(e!=null){if((i||(i=d("ReStoreKeyComparer"))).compareKey(e,o)===(g==="asc"?-1:1))throw c("unrecoverableViolation")("key must be ahead of current key","maw_db");if(f==null||(i||(i=d("ReStoreKeyComparer"))).compareKey(e,f.keys[0])<0||(i||(i=d("ReStoreKeyComparer"))).compareKey(e,f.keys[f.keys.length-1])>0){r=(yield* n.$14(a,n.$7(b)));if(r==null)return{done:!0};r=(yield* n.$12(a,r.rootId,e));f=r[0];q=r[1]}p=u(f.keys,e,k[g==="asc"?"gte":"lte"])}else{if(f==null||p<0||p>=f.keys.length||(i||(i=d("ReStoreKeyComparer"))).compareKey(f.keys[p],o)!==0){if(f==null||!f.keys.length||(i||(i=d("ReStoreKeyComparer"))).compareKey(o,f.keys[0])<0||(i||(i=d("ReStoreKeyComparer"))).compareKey(o,f.keys[f.keys.length-1])>0){r=(yield* n.$14(a,n.$7(b)));if(r==null)return{done:!0};e=(yield* n.$12(a,r.rootId,o));f=e[0];q=e[1]}p=u(f.keys,o,k[g==="asc"?"lte":"gte"])}p+=g==="asc"?1:-1}}if(p<0||p>=f.keys.length)if(g==="asc"){if(f.nextId===void 0)return{done:!0};q=f.nextId;f=(yield* n.$13(a,q));p=0}else{if(f.prevId===void 0)return{done:!0};q=f.prevId;f=(yield* n.$13(a,q));p=f.keys.length-1}o=f.keys[p];m={i:p,key:o,node:f,nodeId:q};if(p<0||p>=f.keys.length)return{done:!0};r=g==="asc"?Object.prototype.hasOwnProperty.call(h,"lt")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.lt)>=0||Object.prototype.hasOwnProperty.call(h,"lte")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.lte)>0:Object.prototype.hasOwnProperty.call(h,"gt")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.gt)<=0||Object.prototype.hasOwnProperty.call(h,"gte")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.gte)<0;return r?{done:!0}:{done:!1,value:[f.keys[p],f.children[p]]}}}};b.tableEntries=function(a,b){b===void 0&&(b={});var c=this.btreeIterator(a,void 0,b),d=this;return{next:function*(b){b=(yield* c.next(b));if(b.done)return b;b=b.value;var e=b[0];b=b[1];b=(yield* d.$18(a,b));return{done:!1,value:[e,b]}}}};b.indexEntries=function(a,b,c){c===void 0&&(c={});var d=this.btreeIterator(a,b,c),e=this;return{next:function*(c){c=(yield* d.next(c));if(c.done)return c;c=c.value;var f=c[0];c=c[1];c=(yield* e.$19(a,c,b,f));return{done:!1,value:[f,c]}}}};b.keys=function(a,b,c){c===void 0&&(c={});var d=this.btreeIterator(a,b,c);return{next:function*(a){a=(yield* d.next(a));if(a.done)return a;a=a.value;a=a[0];return{done:!1,value:a}}}};b.clearIds=function*(a,b){this.$3();b=this.$7(b);var c=(yield* this.$14(a,b));this.$3();if(c==null)return;var d=(yield* this.$13(a,c.rootId));c=[{id:c.rootId,node:d}];while(c.length>0){d=c.shift();var e=d.id;d=d.node;if(!d.isLeaf)for(d of d.children){var f=(yield* this.$14(a,d));f!=null&&c.push({id:d,node:f})}this.$1.set(e,j)}this.$1.set(b,j)};b.readSeed=function*(a){return(a=(yield* this.$14(a,d("ReStorePersistenceIds").idForSeed)))!=null?a:0};b.remove=function(a,b){this.$3(),this.$1.set(b,j)};b.writeData=function(a,b,c){this.$16(b,s(c))};b.writeNewData=function*(a,b){return yield* this.$15(a,s(b))};return a}(),w=function(){function a(a,b,e,f,g){var h=this;this.$2=new Map();this.$6=!1;this.$3=function(){if(h.$6){f==null?void 0:f.mark("transaction_closed");throw c("FBLogger")("messenger_web_product").mustfixThrow("Transaction has closed")}e()};this.$4=b;this.$1=a;this.$5={get:function(a,c,e){var f=d("ReStoreUtils").getOrCreate(h.$1,c,function(){return new Map()});f=f.get(e);if(t(f))return void 0;return f!==void 0?f:b.get(a,c,e,"readwrite")},logError:b.logError,shouldInline:b.shouldInline};this.$7=g}var b=a.prototype;b.flush=function(){for(var a of this.$2){var b=a[0],c=a[1];b=d("ReStoreUtils").getOrCreate(this.$1,b,function(){return new Map()});for(c of c){var e=c[0],f=c[1];b.set(e,f)}}this.$6=!0};b.table=function(a){return new v(d("ReStoreUtils").getOrCreate(this.$2,a,function(){return new Map()}),a,this.$3,this.$5,"readwrite",this.$7)};return a}(),x=function(){function a(a,b,d,e){var f=this;this.$1=new Map();this.$2=!1;this.$7=function(){if(f.$2)throw c("FBLogger")("messenger_web_product").mustfixThrow("Transaction has closed: %s",f.$5)};this.$3=a;this.$4=b;this.types=a.types;this.$5=d;this.$6=e}var b=a.prototype;b.close=function(){this.$2=!0};b.flush=async function(a){a===void 0&&(a={upgrade:!1}),await this.$3.flush(this.$1,a),this.$2=!0};b.table=function(a){return new v(d("ReStoreUtils").getOrCreate(this.$1,a,function(){return new Map()}),a,this.$7,this.$3,this.$4,this.$6)};b.createNested=function(a){return new w(this.$1,this.$3,this.$7,a,this.$6)};return a}();function a(a){function b(b,e,f){c("promiseDone")(async function(){await a.runExclusively(function(){return Promise.resolve([async function(){var c=new x(a,"readwrite",void 0,function(){});await d("ReStoreUtils").gen(c.table(f).indexDelete(new WeakMap(),b,e));await c.flush()},"readwrite"])})}())}return{clearCache:a.clearCache,close:a.close,createTransaction:function(c,d){return new x(a,c,d,b)},isClosed:a.isClosed||function(){return!1},isPersistenceSupported:a.isPersistenceSupported,logError:a.logError,runExclusively:a.runExclusively}}g.sentinelDeleted=j;g.isDeletedValue=t;g.ReStoreDbStoreTransaction=x;g.createDbStore=a}),98);
__d("setImmediate",["TimeSlice","TimerStorage","setImmediateAcrossTransitions"],(function(a,b,c,d,e,f,g){function a(a){var b,d=function(){c("TimerStorage").unset(c("TimerStorage").IMMEDIATE,b);for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];Function.prototype.apply.call(a,this,e)};c("TimeSlice").copyGuardForWrapper(a,d);for(var e=arguments.length,f=new Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];b=c("setImmediateAcrossTransitions").apply(void 0,[d].concat(f));c("TimerStorage").set(c("TimerStorage").IMMEDIATE,b);return b}g["default"]=a}),98);
__d("ReStoreVaulting",["cr:2075","cr:2151","cr:2203"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:2075")!=null?b("cr:2075").vault(a):a}function c(a){return b("cr:2075")!=null?b("cr:2075").unvault(a):a}function d(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").unvaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}function e(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").vaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}g.maybeVault=a;g.maybeUnvault=c;g.maybeUnvaultDbRow=d;g.maybeVaultDbRow=e}),98);
__d("MAWLSVaultingHooks",["ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";a={onAfterEntriesNext:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onAfterGet:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onBeforeAdd:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeNotify:function(a){var b=a.newValue,c=a.prevValue;a=a.tableName;return{newValue:d("ReStoreVaulting").maybeVaultDbRow(b,a),prevValue:d("ReStoreVaulting").maybeVaultDbRow(c,a)}},onBeforePut:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeUpsert:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)}};g["default"]=a}),98);
__d("createReStoreEphemeralPersistence",["FBLogger","Promise","ReStorePersistence","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a,e){var f=(h||(h=b("Promise"))).resolve(),g=new Map();function j(a){return i(g,a,function(){return new Map()})}return{flush:function(a){a.forEach(function(a,b){var c=j(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a)?c["delete"](b):c.set(b,a)})});return(h||(h=b("Promise"))).resolve()},get:function(a,b,c){a=j(b);return a.get(c)},logError:function(a,b,d,e){if(d==="dbCorruption"){throw c("FBLogger")("messenger_web_product").mustfixThrow("Got unexpected undefined in edb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",b,a,(d=e==null?void 0:e.id)!=null?d:"",(b=e==null?void 0:e.deletedInThisTxn)!=null?b:"")}},queueCommitWork:void 0,runExclusively:function(a,c){c===void 0&&(c=!1);var d=e==null?void 0:e.startTracking(c);d==null?void 0:d.addAnnotations({string:{source:"createReStoreEphemeralPersistence",type:"runExclusivelyPromiseChain"}});return new(h||(h=b("Promise")))(function(c,e){f=f.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield a()),f=b[0];b[1];try{c(yield f()),d==null?void 0:d.end()}catch(a){e(a),d==null?void 0:d.fail()}}))})},shouldApplySync:function(){return!1},shouldInline:function(a,b){return!0},shouldSync:function(){return!1},types:["ephemeral"],uniqueId:a}}g["default"]=a}),98);
__d("createLSReStoreEphemeralPersistence",["LSReStoreQplLogger","createReStoreEphemeralPersistence","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("createReStoreEphemeralPersistence")("LSEphemeral",d("LSReStoreQplLogger").createQplLogger(c("qpl")._(25303045,"817")))}g.createLSReStoreEphemeralPersistence=a}),98);
__d("LSJSInMemoryStorage",["LSPlatformLsInitLog","LSReStoreWrapper","MAWLSVaultingHooks","createLSReStoreEphemeralPersistence"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("LSReStoreWrapper").createLSReStore(d("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),a,[c("MAWLSVaultingHooks")],void 0,d("LSPlatformLsInitLog").lsInitLogger)}g["default"]=a}),98);
__d("LSMailboxInitialSyncCursor",["I64","LSPlatformMessengerSyncParams","LSPlatformWorkplaceSyncParams","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;a=c("gkx")("23433")||c("gkx")("23434");b=c("gkx")("20836")?c("LSPlatformWorkplaceSyncParams").mailbox:c("LSPlatformMessengerSyncParams").mailbox;e=(h||(h=d("I64"))).of_int32(a&&c("qex")._("422")===!0?3:1);f=h.of_int32(0);g.syncParams=b;g.syncChannel=e;g.lastSyncTimestampMs=f}),98);
__d("ReStoreSchemaProvider",["ReStoreMigrateUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return{defaults:babelHelpers["extends"]({},a.defaults,c.defaults),migrate:function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=(yield a.migrate(b));b=(yield c.migrate(b));if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE||b===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE;else if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.EMPTY_DB||b===d("ReStoreMigrateUtil").ReStoreMigrateResult.EMPTY_DB)return d("ReStoreMigrateUtil").ReStoreMigrateResult.EMPTY_DB;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED});function f(a){return e.apply(this,arguments)}return f}(),tableIds:babelHelpers["extends"]({},a.tableIds,c.tableIds),tableNames:babelHelpers["extends"]({},a.tableNames,c.tableNames)}}g.mergeSchemaProviders=a}),98);
__d("LSMetadata",["LSClientSchemaType","LSDbSchema","LSHashSchemaProvider","ReStoreHashSchemaProvider","ReStoreMetadata","ReStoreSchemaProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ReStoreSchemaProvider").mergeSchemaProviders(a,h)}var h=new(c("ReStoreHashSchemaProvider"))(d("LSClientSchemaType").MAW_SCHEMA_NAME,d("ReStoreMetadata").getBuildTableData({})([d("LSDbSchema").clientSchema]));b=a(d("LSHashSchemaProvider").LSHashSchemaProvider);g.buildSchema=a;g.schema=b}),98);
__d("XPlatReactEventEmitter",["BaseEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("BaseEventEmitter")}),98);
__d("LSPlatformErrorChannel",["FBLogger","ODS","XPlatReactEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h,i="onLSError",j=new(c("XPlatReactEventEmitter"))(),k=0,l=null;function a(a){l===null&&((h||(h=d("ODS"))).bumpEntityKey(3185,"lsplatform_error","first_error_emitted_to_"+k+"listeners"),k===0&&c("FBLogger")("messenger_web_product").mustfix("No listeners when emitting LS error %s",a.name)),l=a,j.emit(i,a)}function b(a){var b=j.addListener(i,a);k++;return function(){return b.remove()}}function e(){return l}function f(){j.removeAllListeners(i),l=null}f={TEST_ONLY_clear:f,emit:a,lastError:e,subscribe:b};g["default"]=f}),98);
__d("ReStoreDecryptionFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreDecryptionFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;b=b+" - Encrypted Restore was unable to decrypt an entity for table "+c;d=a.call(this,b)||this;d.message=b;d.name=g;d.tableName=c;return d}var c=b.prototype;c.getTableName=function(){return this.tableName};return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreDecryptionFailure=a}),66);
__d("ReStoreEARSetupFailure",[],(function(a,b,c,d,e,f){"use strict";var g="Encryption keychain could not be setup",h="ReStoreEARSetupFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;b=g+": "+b;c=a.call(this,b)||this;c.message=b;c.name=h;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_MESSAGE=g;f.ERROR_NAME=h;f.ReStoreEARSetupFailure=a}),66);
__d("ReStoreEvent",[],(function(a,b,c,d,e,f){"use strict";a=function(){};f["default"]=a}),66);
__d("ReStoreIndexedDbClosedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.idb=b;d.error=c;return d}var c=b.prototype;c.getError=function(){return this.error};return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("WALoggerTag",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["CryptoManager","MediaPreview","PrekeyGenerateAndUpload","SignedPrekey","SignedPrekeyRotation","OneTimePrekey"]);c=a;f["default"]=c}),66);/*FB_PKG_DELIM*/
__d("FXFetaAccountAutoMigrationDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("FXFetaAccountAutoMigrationDialog.react").__setRef("FXFetaAccountAutoMigrationDialog.entrypoint")};g["default"]=a}),98);
__d("IGDSAdPanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(4),d,e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M18.44 1H5.56A4.565 4.565 0 0 0 1 5.561v12.878A4.565 4.565 0 0 0 5.56 23h12.88A4.566 4.566 0 0 0 23 18.44V5.56A4.566 4.566 0 0 0 18.44 1ZM21 18.44A2.564 2.564 0 0 1 18.44 21H5.56A2.563 2.563 0 0 1 3 18.44V5.56A2.563 2.563 0 0 1 5.56 3h12.88A2.564 2.564 0 0 1 21 5.561Z"}),e=j.jsx("path",{d:"M12 16H6a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2Zm6-10H6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1Zm-1 6H7V8h10Zm1 4h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2Z"}),b[0]=d,b[1]=e):(d=b[0],e=b[1]);b[2]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e]})),b[2]=a,b[3]=d):d=b[3];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSLicensingPanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"m20.414 7-5.412-5.412A2.01 2.01 0 0 0 13.586 1H6a3.003 3.003 0 0 0-3 3v16a3.003 3.003 0 0 0 3 3h12a3.003 3.003 0 0 0 3-3V8.414A1.99 1.99 0 0 0 20.414 7ZM15 4.414 17.586 7H15ZM19 20a1.001 1.001 0 0 1-1 1H6a1.001 1.001 0 0 1-1-1V4a1.001 1.001 0 0 1 1-1h7v4a2.002 2.002 0 0 0 2 2h4ZM8 10h2a1 1 0 0 0 0-2H8a1 1 0 0 0 0 2Zm8 6H8a1 1 0 0 0 0 2h8a1 1 0 0 0 0-2Zm-9-3a1 1 0 0 0 1 1h8a1 1 0 0 0 0-2H8a1 1 0 0 0-1 1Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSMetaLogoPrimaryIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=5;function a(a){var b=i(7),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"b",x1:"125",x2:"160.217",y1:"97",y2:"57.435",children:[j.jsx("stop",{offset:".21",stopColor:"#0278F1"}),j.jsx("stop",{offset:".533",stopColor:"#0180FA"})]}),b[0]=d):d=b[0];var e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"c",x1:"44",x2:"0",y1:"5",y2:"64",children:[j.jsx("stop",{offset:".427",stopColor:"#0165E0"}),j.jsx("stop",{offset:".917",stopColor:"#0180FA"})]}),b[1]=e):e=b[1];var f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"d",x1:"28.5",x2:"135",y1:"29",y2:"72",children:[j.jsx("stop",{stopColor:"#0064E0"}),j.jsx("stop",{offset:".656",stopColor:"#0066E2"}),j.jsx("stop",{offset:"1",stopColor:"#0278F1"})]}),b[2]=f):f=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsxs("defs",{children:[d,e,f,j.jsx("clipPath",{id:"a",children:j.jsx("path",{d:"M0 0h496.236v100H0z",fill:"#fff"})})]}),b[3]=d):d=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsxs("g",{clipPath:"url(#a)",children:[j.jsx("path",{d:"M182.141 3.213h18.808l31.98 57.849 31.979-57.849h18.401V98.27h-15.345V25.416l-28.042 50.448h-14.394l-28.042-50.448V98.27h-15.345V3.213ZM332.804 99.967c-7.107 0-13.353-1.573-18.739-4.718-5.387-3.146-9.586-7.504-12.595-13.07-3.011-5.569-4.515-11.95-4.515-19.148 0-7.287 1.47-13.738 4.413-19.35 2.942-5.613 7.027-10.004 12.255-13.173 5.229-3.168 11.238-4.753 18.027-4.753 6.744 0 12.55 1.596 17.416 4.787 4.865 3.191 8.611 7.661 11.237 13.41 2.624 5.749 3.938 12.492 3.938 20.233v4.21h-52.077c.95 5.794 3.292 10.354 7.027 13.68 3.735 3.328 8.453 4.991 14.157 4.991 4.571 0 8.509-.679 11.814-2.037 3.303-1.358 6.404-3.417 9.302-6.178l8.147 9.98c-8.103 7.425-18.038 11.136-29.807 11.136Zm11.204-56.389c-3.215-3.281-7.425-4.923-12.629-4.923-5.07 0-9.314 1.676-12.731 5.025-3.418 3.35-5.58 7.854-6.484 13.512h37.343c-.453-5.794-2.286-10.331-5.499-13.614ZM382.846 40.014h-14.123V27.453h14.123V6.676h14.802v20.777h21.455v12.561h-21.455v31.844c0 5.295.905 9.075 2.716 11.338 1.809 2.264 4.911 3.395 9.302 3.395 1.945 0 3.598-.078 4.956-.237a92.35 92.35 0 0 0 4.481-.646v12.425c-1.675.498-3.564.906-5.669 1.223a44.63 44.63 0 0 1-6.62.475c-15.979 0-23.968-8.735-23.968-26.208V40.014ZM496.236 98.27h-14.53v-9.913c-2.58 3.712-5.862 6.575-9.845 8.588-3.983 2.014-8.51 3.022-13.579 3.022-6.247 0-11.78-1.596-16.601-4.787s-8.612-7.581-11.373-13.172c-2.761-5.59-4.142-11.983-4.142-19.18 0-7.243 1.403-13.648 4.21-19.216 2.806-5.567 6.688-9.935 11.645-13.104 4.956-3.168 10.648-4.753 17.075-4.753 4.844 0 9.189.94 13.037 2.818a25.768 25.768 0 0 1 9.573 7.978v-9.098h14.53V98.27Zm-14.801-46.035c-1.585-4.028-4.085-7.207-7.503-9.54-3.418-2.33-7.367-3.496-11.848-3.496-6.338 0-11.384 2.128-15.141 6.382-3.758 4.255-5.635 10.004-5.635 17.246 0 7.289 1.809 13.06 5.431 17.314 3.621 4.255 8.532 6.382 14.734 6.382 4.571 0 8.645-1.176 12.222-3.53 3.575-2.353 6.155-5.522 7.74-9.506V52.235Z",fill:"currentColor"}),j.jsx("path",{d:"M108 0C95.66 0 86.015 9.294 77.284 21.1 65.284 5.821 55.25 0 43.24 0 18.76 0 0 31.862 0 65.586 0 86.69 10.21 100 27.31 100c12.308 0 21.16-5.803 36.897-33.31 0 0 6.56-11.584 11.072-19.564 1.582 2.553 3.243 5.3 4.997 8.253l7.38 12.414C102.03 91.848 110.038 100 124.551 100c16.659 0 25.931-13.492 25.931-35.034C150.483 29.656 131.301 0 108 0ZM52.207 59.241c-12.759 20-17.172 24.483-24.276 24.483-7.31 0-11.655-6.418-11.655-17.862 0-24.483 12.207-49.517 26.759-49.517 7.88 0 14.465 4.55 24.552 18.991-9.578 14.691-15.38 23.905-15.38 23.905Zm48.153-2.517-8.823-14.715a301.425 301.425 0 0 0-6.884-10.723c7.952-12.274 14.511-18.39 22.313-18.39 16.206 0 29.172 23.863 29.172 53.173 0 11.172-3.659 17.655-11.241 17.655-7.268 0-10.739-4.8-24.537-27Z",fill:"#0180FA"}),j.jsx("path",{d:"M145.586 35H130.66c3.452 8.746 5.478 19.482 5.478 31.069 0 11.172-3.659 17.655-11.241 17.655-1.407 0-2.672-.18-3.897-.631V99.82c1.143.122 2.324.18 3.552.18 16.659 0 25.931-13.492 25.931-35.034 0-10.737-1.774-20.95-4.897-29.966Z",fill:"url(#b)"}),j.jsx("path",{d:"M43.241 0c.254 0 .507.003.759.008v16.36c-.32-.015-.642-.023-.965-.023-14.183 0-26.139 23.782-26.736 47.655H.014C.59 30.87 19.143 0 43.24 0Z",fill:"url(#c)"}),j.jsx("path",{d:"M43.241 0c11.152 0 20.601 5.02 31.502 17.971 3.065 3.828 6.761 8.805 10.716 14.557l.017.025.025-.003a311.041 311.041 0 0 1 6.036 9.459l8.823 14.715c13.798 22.2 17.269 27 24.537 27H125v16.273c-.149.002-.298.003-.448.003-14.513 0-22.522-8.152-36.897-32.207l-7.38-12.414a596.368 596.368 0 0 0-2.294-3.834L78 51.5c-5.5-9-9-14.5-12-18.5l-.05.038c-9.18-12.63-15.47-16.693-22.916-16.693H43V0L43.241 0Z",fill:"url(#d)"})]}),b[4]=e):e=b[4];b[5]!==a?(f=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{aspectRatio:k,viewBox:"0 0 500 100",children:[d,e]})),b[5]=a,b[6]=f):f=b[6];return f}b=j.memo(a);g["default"]=b}),98);
__d("IGDSPaymentsPanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsxs("g",{fill:"currentColor",children:[j.jsx("path",{d:"M1.4 5.3c-.3.8-.4 4.3-.2 7.8l.3 6.4h21v-15l-10.3-.3c-8-.2-10.4 0-10.8 1.1zM21 7c0 .6-3.7 1-9 1s-9-.4-9-1 3.7-1 9-1 9 .4 9 1zm0 7.5V18H3v-7h18v3.5z"}),j.jsx("path",{d:"M4 16c0 .5 1.1 1 2.5 1S9 16.5 9 16c0-.6-1.1-1-2.5-1S4 15.4 4 16zm6 0c0 .5 1.8 1 4 1s4-.5 4-1c0-.6-1.8-1-4-1s-4 .4-4 1z"})]}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSUserCirclePanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),d,e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("circle",{cx:"12.004",cy:"12.004",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),e=j.jsx("path",{d:"M18.793 20.014a6.08 6.08 0 0 0-1.778-2.447 3.991 3.991 0 0 0-2.386-.791H9.38a3.994 3.994 0 0 0-2.386.791 6.09 6.09 0 0 0-1.779 2.447",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),f=j.jsx("circle",{cx:"12.006",cy:"9.718",fill:"none",r:"4.109",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),b[0]=d,b[1]=e,b[2]=f):(d=b[0],e=b[1],f=b[2]);b[3]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f]})),b[3]=a,b[4]=d):d=b[4];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSUsersPanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),d,e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M12.931 4.132a3.5 3.5 0 1 1 2.575 5.871h-.06M22 17.546v-.688A3.858 3.858 0 0 0 18.143 13h-3.64",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),e=j.jsx("path",{d:"M12.004 9.502a3.5 3.5 0 1 1-3.501-3.5 3.501 3.501 0 0 1 3.5 3.5Z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2"}),f=j.jsx("path",{d:"M14.997 20.546v-.687A3.858 3.858 0 0 0 11.139 16H5.858A3.858 3.858 0 0 0 2 19.859v.687",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=d,b[1]=e,b[2]=f):(d=b[0],e=b[1],f=b[2]);b[3]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f]})),b[3]=a,b[4]=d):d=b[4];return d}b=j.memo(a);g["default"]=b}),98);
__d("PolarisAPIFetchBatchQuickPromotionsDirectQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7247503092024734"}),null);
__d("PolarisAPIFetchBatchQuickPromotionsDirectQuery.graphql",["PolarisAPIFetchBatchQuickPromotionsDirectQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"request_data"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d={defaultValue:null,kind:"LocalArgument",name:"surfaces_to_queries"},e={defaultValue:null,kind:"LocalArgument",name:"vc_policy"},f={defaultValue:null,kind:"LocalArgument",name:"version"},g=[{alias:null,args:[{kind:"Variable",name:"_request_data",variableName:"request_data"},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"surfaces_to_queries",variableName:"surfaces_to_queries"},{kind:"Variable",name:"vc_policy",variableName:"vc_policy"},{kind:"Variable",name:"version",variableName:"version"}],concreteType:"XDTBatchedQuickPromotionResponse",kind:"LinkedField",name:"xdt_qp_batch_fetch",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"qp_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_cache_ttl_in_sec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_status",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e,f],kind:"Fragment",metadata:null,name:"PolarisAPIFetchBatchQuickPromotionsDirectQuery",selections:g,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c,e,f],kind:"Operation",name:"PolarisAPIFetchBatchQuickPromotionsDirectQuery",selections:g},params:{id:b("PolarisAPIFetchBatchQuickPromotionsDirectQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisAPIFetchBatchQuickPromotionsDirectQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisAPIFetchBatchQuickPromotionsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"request_data"},b={defaultValue:null,kind:"LocalArgument",name:"scale"},c={defaultValue:null,kind:"LocalArgument",name:"surfaces_to_queries"},d={defaultValue:null,kind:"LocalArgument",name:"vc_policy"},e={defaultValue:null,kind:"LocalArgument",name:"version"},f=[{alias:null,args:[{kind:"Variable",name:"_request_data",variableName:"request_data"},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"surfaces_to_queries",variableName:"surfaces_to_queries"},{kind:"Variable",name:"vc_policy",variableName:"vc_policy"},{kind:"Variable",name:"version",variableName:"version"}],concreteType:"XDTBatchedQuickPromotionResponse",kind:"LinkedField",name:"xdt_qp_batch_fetch",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"qp_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_cache_ttl_in_sec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_status",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,b,c,d,e],kind:"Fragment",metadata:null,name:"PolarisAPIFetchBatchQuickPromotionsQuery",selections:f,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,b,d,e],kind:"Operation",name:"PolarisAPIFetchBatchQuickPromotionsQuery",selections:f},params:{id:"6806503629372013",metadata:{},name:"PolarisAPIFetchBatchQuickPromotionsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("QuickPromotionIGWebBatchFetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"surface_nux_ids"}],b=[{kind:"Variable",name:"surface_nux_ids",variableName:"surface_nux_ids"}],c={alias:null,args:null,kind:"ScalarField",name:"surface_nux_id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"client_ttl_seconds",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"is_holdout",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"log_eligibility_waterfall",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"promotion_id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"asset_url",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"client_side_dry_run",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"clause_type",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"filter_type",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"passes_if_not_supported",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"unknown_action",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},r={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bool_value",storageKey:null}],type:"XFBQPBooleanTemplateParameter",abstractKey:null},s={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"int_value",storageKey:null}],type:"XFBQPIntTemplateParameter",abstractKey:null},t=[{alias:null,args:null,kind:"ScalarField",name:"string_value",storageKey:null}],u={kind:"InlineFragment",selections:t,type:"XFBQPStringTemplateParameter",abstractKey:null},v=[k,q,r,s,u];v={alias:null,args:null,concreteType:"XFBQuickPromotionFilter",kind:"LinkedField",name:"filters",plural:!0,selections:[n,o,p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"value",plural:!1,selections:v,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extra_datas",plural:!0,selections:v,storageKey:null}],storageKey:null};var w={alias:null,args:null,concreteType:"XFBBloksRootComponent",kind:"LinkedField",name:"bloks_view_v2",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBloksComponent",kind:"LinkedField",name:"component",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBloksBundle",kind:"LinkedField",name:"bundle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bloks_bundle_tree",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},x=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],y={alias:null,args:null,concreteType:"XFBTextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:x,storageKey:null};x={alias:null,args:null,concreteType:"XFBTextWithEntities",kind:"LinkedField",name:"content",plural:!1,selections:x,storageKey:null};var z=[y,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dismiss_promotion",storageKey:null}],A={alias:null,args:null,concreteType:"XFBQuickPromotionAction",kind:"LinkedField",name:"primary_action",plural:!1,selections:z,storageKey:null},B={alias:null,args:null,concreteType:"XFBQuickPromotionAction",kind:"LinkedField",name:"secondary_action",plural:!1,selections:z,storageKey:null};z={alias:null,args:null,concreteType:"XFBQuickPromotionAction",kind:"LinkedField",name:"dismiss_action",plural:!1,selections:z,storageKey:null};var C=[{kind:"Variable",name:"scale",variableName:"scale"}],D=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],E={alias:null,args:C,concreteType:"XFBImage",kind:"LinkedField",name:"image",plural:!1,selections:D,storageKey:null};C={alias:null,args:C,concreteType:"XFBImage",kind:"LinkedField",name:"dark_mode_image",plural:!1,selections:D,storageKey:null};D={alias:null,args:null,concreteType:"XFBQPBulletListItem",kind:"LinkedField",name:"bullet_list",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:D,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"dark_icon",plural:!1,selections:D,storageKey:null}],storageKey:null};var F={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},G={alias:null,args:null,concreteType:"XFBQPDiglossiaData",kind:"LinkedField",name:"diglossia_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_diglossia_enabled",storageKey:null},{alias:null,args:null,concreteType:"XFBQPDiglossiaContentTranslations",kind:"LinkedField",name:"content_translations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},y,x,{alias:null,args:null,kind:"ScalarField",name:"primary_action_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secondary_action_title",storageKey:null}],storageKey:null}],storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"is_server_force_pass",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"is_uncancelable",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"encrypted_logging_data",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"max_impressions",storageKey:null};t={kind:"InlineFragment",selections:t,type:"XFBQPStringEnumTemplateParameter",abstractKey:null};var L={alias:null,args:null,kind:"ScalarField",name:"triggers",storageKey:null},M=[F,k,q,r,s,u];n={alias:null,args:null,concreteType:"XFBQuickPromotionFilter",kind:"LinkedField",name:"filters",plural:!0,selections:[n,o,p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"value",plural:!1,selections:M,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extra_datas",plural:!0,selections:M,storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"QuickPromotionIGWebBatchFetchQuery",selections:[{alias:null,args:b,concreteType:"XFBQuickPromotionBatchFetchSurface",kind:"LinkedField",name:"xfb_quick_promotion_batch_fetch_root",plural:!0,selections:[c,{alias:null,args:null,concreteType:"XFBQuickPromotionSurfaceEligiblePromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBQuickPromotionSurfaceEligiblePromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[d,e,f,{alias:null,args:null,concreteType:"XFBQuickPromotion",kind:"LinkedField",name:"node",plural:!1,selections:[g,h,{alias:null,args:null,concreteType:"XFBQuickPromotionAnimation",kind:"LinkedField",name:"animations",plural:!0,selections:[i,j,k],storageKey:null},l,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"contextual_filters",plural:!1,selections:[m,v,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[m,v,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[m,v],storageKey:null}],storageKey:null}],storageKey:null},w,{alias:null,args:null,concreteType:"XFBQuickPromotionCreative",kind:"LinkedField",name:"creatives",plural:!0,selections:[y,x,A,B,z,E,C,D,F],storageKey:null},G,H,I,J,K,{alias:null,args:null,concreteType:"XFBQuickPromotionTemplate",kind:"LinkedField",name:"template",plural:!1,selections:[k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"parameters",plural:!0,selections:[k,q,r,t,u,s],storageKey:null}],storageKey:null},L],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"QuickPromotionIGWebBatchFetchQuery",selections:[{alias:null,args:b,concreteType:"XFBQuickPromotionBatchFetchSurface",kind:"LinkedField",name:"xfb_quick_promotion_batch_fetch_root",plural:!0,selections:[c,{alias:null,args:null,concreteType:"XFBQuickPromotionSurfaceEligiblePromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBQuickPromotionSurfaceEligiblePromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[d,e,f,{alias:null,args:null,concreteType:"XFBQuickPromotion",kind:"LinkedField",name:"node",plural:!1,selections:[g,h,{alias:null,args:null,concreteType:"XFBQuickPromotionAnimation",kind:"LinkedField",name:"animations",plural:!0,selections:[i,j,k,g],storageKey:null},l,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"contextual_filters",plural:!1,selections:[m,n,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[m,n,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[m,n],storageKey:null}],storageKey:null}],storageKey:null},w,{alias:null,args:null,concreteType:"XFBQuickPromotionCreative",kind:"LinkedField",name:"creatives",plural:!0,selections:[y,x,A,B,z,E,C,D,F,g],storageKey:null},G,H,I,J,K,{alias:null,args:null,concreteType:"XFBQuickPromotionTemplate",kind:"LinkedField",name:"template",plural:!1,selections:[k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"parameters",plural:!0,selections:[F,k,q,r,t,u,s],storageKey:null}],storageKey:null},L],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"7315748781795368",metadata:{},name:"QuickPromotionIGWebBatchFetchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("QuickPromotionNuxID",[],(function(a,b,c,d,e,f){a=Object.freeze({ANDROID_DIVEBAR_QP_DEPRECATED:1824,ANDROID_MESSENGER_BANNER_QP_DEPRECATED:3062,ANDROID_MESSENGER_DEPRE_LOCK:4745,ANDROID_MESSENGER_DEPRE_PRELOCK:4744,ANDROID_MESSENGER_DEPRE_WARM_UP:4743,ANDROID_MESSENGER_THREADVIEW_QP_DEPRECATED:3346,DELTOID3_ANNOUNCEMENTS_QP_DEPRECATED:4077,DEPRECATED_0:0,FACEBOOK_FOR_ANDROID_ANDROID_DATING_THREAD_VIEW_HEADER_PROMPT_QP_DEPRECATED:8399,FACEBOOK_FOR_ANDROID_HEALTH_BD_HUB_UNIT_QP:6747,FACEBOOK_FOR_IOS_HEALTH_BD_HUB_UNIT_QP:6748,FACEBOOK_MSITE_IOS_BOTTOM_POPUP_QP:6323,FACEBOOK_MULTI_PLATFORM_HEALTH_BD_HUB_UNIT_QP:6735,FACEBOOK_MULTI_PLATFORM_NT_PAGE_QUICK_PROMOTION_SURFACE_QP:5985,FACEBOOK_MULTI_PLATFORM_PAGES_LAUNCHPOINT_QP:9550,FACEBOOK_MULTI_PLATFORM_PORTAL_BOOKMARK_DISCOVER_QP:7287,FACEBOOK_MULTI_PLATFORM_QP_NUX_MIGRATE_QP:10780,FACEBOOK_WORDMARK_FOR_IOS_OLD:8257,INSTAGRAM_IOS_FEED_TOOLTIP_DEPRECATED:5199,INSTAGRAM_IOS_PROFILE_TOOL_TIP_DEPRECATED:4904,INSTAGRAM_MULTI_PLATFORM_STOREFRONT_QP:9259,INSTAGRAM_PROFILE_PAGE_TOOL_TIP_DEPRECATED:4880,INTERN_ADS_DELIVERY_DEBUGGER_MEGAPHONE_DEPRECATED:3659,IOS_DIVEBAR_QP_DEPRECATED:1823,IOS_MESSENGER_BANNER_QP_DEPRECATED:3037,IOS_MESSENGER_DEPRE_PHASES_QP:4839,IOS_MESSENGER_THREAD_VIEW_QP:3413,IOS_SEARCH_MODULE_PROMOTIONS:4793,MESSENGER_FOR_ANDROID_LIGHTSPEED_THREAD_LIST_QP:7299,MESSENGER_FOR_ANDROID_LIGHTSPEED_THREAD_VIEW_QP:7300,MESSENGER_FOR_IOS_SEARCH_NULL_STATE_SURFACE_QP:7154,MESSENGER_LIGHTSPEED_FOR_IOS_BOTTOM_SHEET_QP_DEPRECATED:10933,MESSENGER_LIGHTSPEED_FOR_IOS_CC_THREAD_VIEW_BOTTOMSHEET_QP_DEPRECATED:10915,OCULUS_CREATOR_SITE_LOGIN_INTERSTITIAL_QP:11703,OCULUS_DEV_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11702,OCULUS_META_WWW_AUTH_LOGIN_INTERSTITIAL_QP:11748,PIRANHA_BLACKLISTED_JOB_ID_QP_DEPRECATED:4688,PORTAL_APP_PROMO_CARD_QP_DEPRECATED:8186,PORTAL_IN_CALL_SCREEN_QP:7189,PORTAL_MOBILE_APP_HOME_QP:7157,PORTAL_MOBILE_APP_PORTAL_BISHOP_DISCOVER_QP:7286,PORTAL_TV_DISCOVERY_ROW_QP:8163,SNAPTU_NEWSFEED_QP_DEPRECATED:5562,SUPERFRAME_FOR_PORTAL_CARD_INTERSTITIAL_QP:6813,WEARABLE_APP_ANDROID_HOME_CARD_ITEM_QP:12076,WEARABLE_APP_ANDROID_HOME_TAB_CARD_QP:12120,WEARABLE_APP_IOS_HOME_CARD_ITEM_QP:12075,WEARABLE_APP_MULTI_PLATFORM_HOME_CARD_ITEM_QP:12074,WEARABLE_APP_MULTI_PLATFORM_HOME_TAB_CARD_QP:12119,WEB_MESSENGER_BANNER_QP:3329,WORKPLACE_MSITE_JEWEL_INTERSTITIAL_QP:5270,WORKPLACE_WWW_JEWEL_BANNER_QP:5658,OCULUS_DEV_MULTI_PLATFORM_AUTH_META_INTERSTITIAL_QP:11841,OCULUS_DEV_MULTI_PLATFORM_BOTTOM_NAV_TOOLTIP_QP:11865,OCULUS_DEV_MULTI_PLATFORM_DEV_CENTER_ANNOUNCEMENTS_QP:11849,OCULUS_DEV_MULTI_PLATFORM_DEV_CENTER_CARD_QP:11908,OCULUS_DEV_MULTI_PLATFORM_DEV_ODH_PUSH_NOTIFICATION_QP:11847,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_FEATURED_VIDEO_QP:11842,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_INTERSTITIAL_QP:11910,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_PUSH_NOTIFICATION_QP:11850,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_TIP_CARD_QP:11844,OCULUS_DEV_MULTI_PLATFORM_DEVELOPER_ONBOARDING_QP:11907,OCULUS_DEV_MULTI_PLATFORM_DIALOG_QP:11853,OCULUS_DEV_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11900,OCULUS_DEV_MULTI_PLATFORM_FEATURED_PACKAGES_QP:11845,OCULUS_DEV_MULTI_PLATFORM_GDPR_INTERSTITIAL_QP:11912,OCULUS_DEV_MULTI_PLATFORM_GUIDE_BAR_QP:11892,OCULUS_DEV_MULTI_PLATFORM_GUIDED_ACTIONS_QP:11918,OCULUS_DEV_MULTI_PLATFORM_HOME_INTERSTITIAL_QP:11854,OCULUS_DEV_MULTI_PLATFORM_HOME_TOOLTIP_QP:11864,OCULUS_DEV_MULTI_PLATFORM_HORIZON_INTERSTITIAL_QP:11866,OCULUS_DEV_MULTI_PLATFORM_HORIZON_MEGAPHONE_QP:11867,OCULUS_DEV_MULTI_PLATFORM_LIBRARY_MEGAPHONE_TEST_QP:11901,OCULUS_DEV_MULTI_PLATFORM_LIVINGROOM_TOOLTIP_QP:11856,OCULUS_DEV_MULTI_PLATFORM_LVINGROOM_SNACKBAR_QP:11855,OCULUS_DEV_MULTI_PLATFORM_MEDIA_STUDIO_LIBRARY_QP:11905,OCULUS_DEV_MULTI_PLATFORM_MEGAPHONE_STICKER_QP:11840,OCULUS_DEV_MULTI_PLATFORM_MOBILE_STORE_SALE_QP:11877,OCULUS_DEV_MULTI_PLATFORM_MODALDIALOG_QP:11914,OCULUS_DEV_MULTI_PLATFORM_MQDH_RELEASE_NOTES_QP:11843,OCULUS_DEV_MULTI_PLATFORM_NEWS_HIGHLIGHT_QP:11846,OCULUS_DEV_MULTI_PLATFORM_OCULUS_EXPLORE_ARTICLES_FOR_QUEST_QP:11872,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_GO_SURVEY_QP:11869,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_GO_TIP_QP:11870,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_MOBILE_HERO_QP:11871,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_HERO_QP:11873,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_MEGAPHONE_QP:11858,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_NOTE_QP:11906,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_PREPENDED_STORY_QP:11860,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_TIP_QP:11874,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_GO_GEAR_BOOSTING_QP:11868,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_STORE_QUEST_HERO_UNITS_QP:11909,OCULUS_DEV_MULTI_PLATFORM_OCULUS_LOGIN_INTERSTITIAL_QP:11839,OCULUS_DEV_MULTI_PLATFORM_OCULUS_MOBILE_STORE_NEW_AND_UPDATED_QP:11876,OCULUS_DEV_MULTI_PLATFORM_OCULUS_MOBILE_STORE_SPOTLIGHT_QP:11913,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_QUEST_BUDGETED_FEED_QP:11857,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_TWILIGHT_GO_STORE_SPOTLIGHT_QP:11886,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_TWILIGHT_QUEST_BUDGETED_FEED_QP:11887,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_TWILIGHT_QUEST_STORE_SPOTLIGHT_QP:11890,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_HOME_MEDIA_TIP_QP:11859,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_STORE_NEW_AND_UPDATED_QP:11878,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_STORE_NEW_USER_SPOTLIGHT_QP:11911,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_STORE_SPOTLIGHT_QP:11880,OCULUS_DEV_MULTI_PLATFORM_OCULUS_RIFT_STORE_NEW_AND_UPDATED_QP:11881,OCULUS_DEV_MULTI_PLATFORM_OCULUS_RIFT_STORE_RIFT_PICKS_QP:11882,OCULUS_DEV_MULTI_PLATFORM_OCULUS_SKYLINE_LANDING_PAGE_CAROUSEL_QP:11919,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_FEED_RELEASE_NOTE_QP:11917,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_GO_FEED_PROMO_QP:11884,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_GO_FEED_TIP_QP:11885,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_NOTIFICATIONS_GO_PROMOTIONS_QP:11904,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_QUEST_FEED_PROMO_QP:11920,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_QUEST_FEED_TIP_QP:11889,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_RIFT_FEED_PROMO_QP:11891,OCULUS_DEV_MULTI_PLATFORM_PRODUCTIVITY_SECTION_TIP_QP:11861,OCULUS_DEV_MULTI_PLATFORM_PROMOTION_ENGINE_QUEST_NEW_USER_VR_FEED_HERO_QP:11875,OCULUS_DEV_MULTI_PLATFORM_QUEST_AUI_TOOLTIP_QP:11893,OCULUS_DEV_MULTI_PLATFORM_QUEST_NEW_USER_TWILIGHT_FEED_HERO_QP:11888,OCULUS_DEV_MULTI_PLATFORM_QUEST_NOTIFICATION_QP:11903,OCULUS_DEV_MULTI_PLATFORM_QUEST_STORE_SALE_QP:11879,OCULUS_DEV_MULTI_PLATFORM_RAPID_FEEDBACK_QP:11848,OCULUS_DEV_MULTI_PLATFORM_RECOMMENDATION_BANNER_QP:11851,OCULUS_DEV_MULTI_PLATFORM_RIFT_STORE_SALE_QP:11915,OCULUS_DEV_MULTI_PLATFORM_RIFT_STORE_SPOTLIGHT_QP:11883,OCULUS_DEV_MULTI_PLATFORM_SAVED_ROUTES_RECOMMENDATION_QP:11852,OCULUS_DEV_MULTI_PLATFORM_SECURE_OCULUS_WEB_SETTINGS_INTERSTITIAL_QP:11894,OCULUS_DEV_MULTI_PLATFORM_SNACKBAR_QP:11898,OCULUS_DEV_MULTI_PLATFORM_SURVEY_QP:11862,OCULUS_DEV_MULTI_PLATFORM_TEST_SURFACE_QP:11895,OCULUS_DEV_MULTI_PLATFORM_TOAST_QP:11863,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_INTERSTITIAL_QP:11896,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_MEGAPHONE_QP:11897,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_PUSH_NOTIFICATION_QP:11916,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_TOOLTIP_QP:11899,WRIST_DEVICE_MULTI_PLATFORM_PUSH_NOTIFICATION_QP:11902,OCULUS_HOME_QUEST_LOGIN_INTERSTITIAL_QP:12121,OCULUS_META_AUTH_WWW_FRLM_META_LOGIN_INTERSTITIAL_QP:12018,WHATSAPP_FOR_SMB_WEB_BUSINESS_HOME_CARD_QP:12015,OCULUS_META_ACCOUNTS_CENTER_WWW_META_LOGIN_INTERSTITIAL_QP:12014,OCULUS_META_QUEST_WWW_META_LOGIN_INTERSTITIAL_QP:12013,WHATSAPP_FOR_IOS_PAYMENTS_HOME_BANNERS_QP:11992,WHATSAPP_FOR_ANDROID_PAYMENTS_HOME_BANNERS_QP:11993,WHATSAPP_MULTI_PLATFORM_PAYMENTS_HOME_BANNERS_QP:11991,WHATSAPP_FOR_SMB_WEB_WHATSAPP_EDIT_PROFILE_BANNER_QP:11960,WHATSAPP_FOR_SMBA_WHATSAPP_EDIT_PROFILE_BANNER_QP:11962,WHATSAPP_FOR_SMBI_WHATSAPP_EDIT_PROFILE_BANNER_QP:11961,WHATSAPP_MULTI_PLATFORM_WHATSAPP_EDIT_PROFILE_BANNER_QP:11959,PAGES_MANAGER_FOR_ANDROID_TOOLTIP_QP:11939,PAGES_MANAGER_FOR_IOS_TOOLTIP_QP:11938,PAGES_MANAGER_MULTI_PLATFORM_TOOLTIP_QP:11940,OCULUS_META_WWW_OCULUS_SECURE_LOGIN_INTERSTITIAL_QP:11934,STORE_METAQUEST_INTERSTITIAL_QP:11932,STORE_METAQUEST_MULTI_PLATFORM_INTERSTITIAL_QP:11933,OCULUS_DEV_WWW_DEVELOPER_DASHBOARD_LEGAL_NOTICE_QP:11929,OCULUS_DEV_MULTI_PLATFORM_DEVELOPER_DASHBOARD_LEGAL_NOTICE_QP:11930,WEARABLE_APP_ANDROID_LOGIN_INTERSTITIAL_QP:11743,WEARABLE_APP_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11742,WEARABLE_APP_IOS_LOGIN_INTERSTITIAL_QP:11741,OCULUS_META_WWW_SPARK_LOGIN_INTERSTITIAL_QP:11750,OCULUS_META_WWW_HORIZON_LOGIN_INTERSTITIAL_QP:11749,OCULUS_TWILIGHT_IOS_LOGIN_INTERSTITIAL_QP:11739,OCULUS_MULTI_PLATFORM_TWILIGHT_LOGIN_INTERSTITIAL_QP:11736,OCULUS_TWILIGHT_ANDROID_LOGIN_INTERSTITIAL_QP:11735,WHATSAPP_MULTI_PLATFORM_NATIVE_ADS_LOADER_SCREEN_QP:11734,FACEBOOK_WWW_LIVE_PRODUCER_TOOLTIP_QP:12101,FACEBOOK_MULTI_PLATFORM_LIVE_PRODUCER_TOOLTIP_QP:12100,WHATSAPP_FOR_SMBA_NATIVE_ADS_LOADER_SCREEN_QP:11733,WHATSAPP_MULTI_PLATFORM_NATIVE_ADS_EXPLAINER_SCREEN_QP:11731,WHATSAPP_FOR_SMBA_NATIVE_ADS_EXPLAINER_SCREEN_QP:11732,OCULUS_DEV_WWW_LOGIN_INTERSTITIAL_QP:11727,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_NUX_SCREEN_QP:11722,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_NUX_SCREEN_QP:11723,WHATSAPP_FOR_SMBI_WHATSAPP_NATIVE_ADS_NUX_SCREEN_QP:12005,OCULUS_WWW_LOGIN_INTERSTITIAL_QP:11720,ADS_EVENTS_MANAGER_MULTI_PLATFORM_DATASET_OVERVIEW_PAGE_GUIDANCE_CARD_QP:11719,ADS_EVENTS_MANAGER_WWW_DATASET_OVERVIEW_PAGE_GUIDANCE_CARD_QP:11718,OCULUS_MULTI_PLATFORM_META_LOGIN_INTERSTITIAL_QP:11708,OCULUS_META_WWW_LOGIN_INTERSTITIAL_QP:11717,FACEBOOK_MULTI_PLATFORM_COMMENTING_TIP_QP:11694,FACEBOOK_WWW_COMMENTING_TIP_QP:11693,FACEBOOK_MULTI_PLATFORM_FUNDRAISERS_HUB_MEGAPHONE_QP:11535,FACEBOOK_WWW_FUNDRAISERS_HUB_MEGAPHONE_QP:11537,FACEBOOK_MULTI_PLATFORM_BIRTHDAY_CENTER_MEGAPHONE_QP:11532,FACEBOOK_WWW_BIRTHDAY_CENTER_MEGAPHONE_QP:11533,OCULUS_TWILIGHT_TWILIGHT_VR_EXPLORE_ANNOUNCEMENTS_QP:11521,WHATSAPP_FOR_WEB_GROUPSBANNER_QP:11525,WHATSAPP_FOR_WEB_PROFILEBANNER_QP:11522,WRIST_DEVICE_PUSH_NOTIFICATION_QP:11520,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_VR_EXPLORE_ANNOUNCEMENTS_QP:11519,OCULUS_HOME_TWILIGHT_VR_EXPLORE_ANNOUNCEMENTS_QP:11518,WHATSAPP_FOR_ANDROID_PROFILE_QP_BANNER_SURFACE_QP:11515,WHATSAPP_FOR_IOS_PROFILE_QP_BANNER_SURFACE_QP:11516,WHATSAPP_MULTI_PLATFORM_PROFILE_QP_BANNER_SURFACE_QP:11517,WHATSAPP_FOR_SMBI_BUSINESS_HOME_CARD_QP:11507,WHATSAPP_FOR_SMBA_BUSINESS_HOME_CARD_QP:11506,FBLITE_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11505,MESSENGER_FOR_ANDROID_GAME_RECOMMENDATION_CHAT_ENTITY_QP:11501,MESSENGER_FOR_IOS_GAME_RECOMMENDATION_CHAT_ENTITY_QP:11499,MESSENGER_MULTI_PLATFORM_GAME_RECOMMENDATION_CHAT_ENTITY_QP:11500,WHATSAPP_MULTI_PLATFORM_BUSINESS_HOME_CARD_QP:11503,FACEBOOK_FOR_ANDROID_MIB_INBOX_TOOLTIP_QP:11491,FACEBOOK_FOR_IOS_MIB_INBOX_TOOLTIP_QP:11492,FACEBOOK_MULTI_PLATFORM_MIB_INBOX_TOOLTIP_QP:11490,INSTAGRAM_FOR_ANDROID_LOGIN_INTERSTITIAL_QP:11483,INSTAGRAM_FOR_IOS_LOGIN_INTERSTITIAL_QP:11484,INSTAGRAM_CARBON_LOGIN_INTERSTITIAL_QP:11740,INSTAGRAM_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11482,MESSENGER_FOR_IOS_LOGIN_INTERSTITIAL_QP:11481,MESSENGER_FOR_ANDROID_LOGIN_INTERSTITIAL_QP:11480,MESSENGER_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11479,WHATSAPP_FOR_SMB_WEB_WHATSAPP_SMB_WEB_CHATLIST_BANNER_QP:11478,AD_LIBRARY_WWW_AD_LIBRARY_QP:11477,AD_LIBRARY_MULTI_PLATFORM_AD_LIBRARY_QP:11538,WEARABLE_APP_MULTI_PLATFORM_MODAL_QP:11455,WEARABLE_APP_ANDROID_MODAL_QP:11454,FACEBOOK_FOR_ANDROID_MARKETPLACE_COMPOSER_BOTTOM_SHEET_QP:11443,FACEBOOK_FOR_IOS_MARKETPLACE_COMPOSER_BOTTOM_SHEET_QP:11444,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_COMPOSER_BOTTOM_SHEET_QP:11442,FACEBOOK_FOR_ANDROID_CREATIVE_PLAYGROUND_UNIT_QP:11430,FACEBOOK_FOR_IOS_CREATIVE_PLAYGROUND_UNIT_QP:11431,FACEBOOK_MULTI_PLATFORM_CREATIVE_PLAYGROUND_UNIT_QP:11432,WHATSAPP_FOR_ANDROID_QPMULTIPLATFORMWHATSAPPGROUPSBANNERSURFACE_QP:11435,WHATSAPP_FOR_IOS_QPMULTIPLATFORMWHATSAPPGROUPSBANNERSURFACE_QP:11433,WHATSAPP_MULTI_PLATFORM_QPMULTIPLATFORMWHATSAPPGROUPSBANNERSURFACE_QP:11434,FACEBOOK_FOR_ANDROID_SELLING_ACTIVITY_FEED_UNIT_VIDEOS_UPSELL_QP:11440,FACEBOOK_FOR_IOS_SELLING_ACTIVITY_FEED_UNIT_VIDEOS_UPSELL_QP:11441,FACEBOOK_MULTI_PLATFORM_SELLING_ACTIVITY_FEED_UNIT_VIDEOS_UPSELL_QP:11439,WEARABLE_APP_MULTI_PLATFORM_MODAL_UPSELL_QP:11419,WEARABLE_APP_ANDROID_MODAL_UPSELL_QP:11418,FACEBOOK_FOR_ANDROID_REELS_VIEWER_FOOTER_QP:11415,FACEBOOK_FOR_IOS_REELS_VIEWER_FOOTER_QP:11416,FACEBOOK_MULTI_PLATFORM_REELS_VIEWER_FOOTER_QP:11417,FACEBOOK_FOR_ANDROID_ON_DEMAND_INTERSTITIAL_QP:11406,FACEBOOK_FOR_IOS_ON_DEMAND_INTERSTITIAL_QP:11407,FACEBOOK_MULTI_PLATFORM_ON_DEMAND_INTERSTITIAL_QP:11408,FACEBOOK_WWW_CONTEXTUAL_MESSAGE_QP:11366,FACEBOOK_FOR_IOS_COMMUNITY_MESSAGING_IN_BLUE_THREAD_VIEW_BANNER_QP:11367,MESSENGER_MULTI_PLATFORM_PRELOADS_DISCLAIMER_QP:11364,MESSENGER_FOR_ANDROID_PRELOADS_DISCLAIMER_QP:11365,COMMERCE_MANAGER_WWW_CATALOG_UI_QP:11320,FACEBOOK_WWW_COMMERCE_MANAGER_CATALOG_SETS_TAB_QP:11314,WEARABLE_APP_MULTI_PLATFORM_AR_BOTTOM_SHEET_QP:11305,WEARABLE_APP_IOS_AR_BOTTOM_SHEET_QP:11293,WEARABLE_APP_ANDROID_AR_BOTTOM_SHEET_QP:11294,OCULUS_DEV_MULTI_PLATFORM_MODAL_DIALOG_QP:11299,OCULUS_AUI_MODAL_DIALOG_QP:11300,MESSENGER_MULTI_PLATFORM_BUSINESS_CONVERSATION_THREAD_VIEW_QP:11297,MESSENGER_FOR_ANDROID_BUSINESS_CONVERSATION_THREAD_VIEW_QP:11298,MESSENGER_FOR_WEB_CM_CHANNEL_CHAT_TAB_THREAD_QP:11255,FACEBOOK_FOR_ANDROID_REELS_VDD_QP:11229,FACEBOOK_FOR_IOS_REELS_VDD_QP:11230,FACEBOOK_MULTI_PLATFORM_REELS_VDD_QP:11228,INSTAGRAM_MULTI_PLATFORM_BOTTOM_SHEET_QP:11223,INSTAGRAM_FOR_IOS_BOTTOM_SHEET_QP:11224,INSTAGRAM_FOR_ANDROID_BOTTOM_SHEET_QP:11383,FACEBOOK_MULTI_PLATFORM_FB4A_STORY_DUAL_CAMERA_DOT_QP:11173,FACEBOOK_FOR_ANDROID_FB4A_STORY_DUAL_CAMERA_DOT_QP:11172,FACEBOOK_FOR_ANDROID_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11213,FACEBOOK_FOR_IOS_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11214,FACEBOOK_MULTI_PLATFORM_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11186,FACEBOOK_FOR_IOS_FB_MESSENGER_INBOX_FOOTER_QP:12003,FACEBOOK_FOR_ANDROID_FB_MESSENGER_INBOX_FOOTER_QP:12002,FBLITE_FB_MESSENGER_INBOX_FOOTER_QP:12004,FACEBOOK_MULTI_PLATFORM_FB_MESSENGER_INBOX_FOOTER_QP:12001,FACEBOOK_MULTI_PLATFORM_PRELOADS_DISCLAIMER_DIALOG_QP:11163,FACEBOOK_FOR_ANDROID_PRELOADS_DISCLAIMER_DIALOG_QP:11164,FBLITE_NOTIFICATIONS_BANNER_QP:11119,FACEBOOK_FOR_ANDROID_GROUP_MALL_ENTITY_MENU_QP:11105,FACEBOOK_FOR_IOS_GROUP_MALL_ENTITY_MENU_QP:11107,FACEBOOK_MULTI_PLATFORM_GROUP_MALL_ENTITY_MENU_QP:11106,FACEBOOK_FOR_ANDROID_GROUP_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11091,FACEBOOK_FOR_IOS_GROUP_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11090,FACEBOOK_FOR_WWW_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11089,MESSENGER_LIGHTSPEED_FOR_IOS_UNIVERSAL_SEARCH_NULLSTATE_QP:11034,FACEBOOK_WWW_CM_TAB_TOUR_POPOVER_QP:11027,ADS_EVENTS_MANAGER_WWW_OVERVIEW_PAGE_FEATURE_ONBOARDING_QP:11033,ADS_EVENTS_MANAGER_WWW_CC_EM_RULE_REQUIRED_FOR_CE_NUX_QP:11363,ADS_EVENTS_MANAGER_WWW_OFFLINE_CONSOLIDATION_UPSELL_QP:11394,FACEBOOK_FOR_ANDROID_FB_COMMENT_DOUBLE_TAP_TOOLTIP_2_QP:12091,FACEBOOK_FOR_IOS_FB_COMMENT_DOUBLE_TAP_TOOLTIP_2_QP:12090,FBLITE_FB_COMMENT_DOUBLE_TAP_TOOLTIP_2_QP:12092,FACEBOOK_MULTI_PLATFORM_FB_COMMENT_DOUBLE_TAP_TOOLTIP_2_QP:12089,WORKPLACE_FOR_WWW_TOOLTIP_QP:11037,WORKPLACE_FOR_IOS_TOOLTIP_QP:11009,WORKPLACE_MULTI_PLATFORM_TOOLTIP_QP:11008,WORKPLACE_FOR_ANDROID_TOOLTIP_QP:11007,WORKPLACE_FOR_WWW_NOTES_QP:11025,FACEBOOK_MULTI_PLATFORM_STORY_SHARE_TO_FEED_COMPOSER_EDUCATION_QP:10954,FACEBOOK_FOR_IOS_STORY_SHARE_TO_FEED_COMPOSER_EDUCATION_QP:10953,MESSENGER_FOR_ANDROID_GUIDANCE_TEXT_QP:12115,MESSENGER_LIGHTSPEED_FOR_IOS_GUIDANCE_TEXT_QP:12116,MESSENGER_MULTI_PLATFORM_GUIDANCE_TEXT_QP:12114,FACEBOOK_FOR_ANDROID_WATCH_FEED_CHAINING_QP:10986,FACEBOOK_FOR_IOS_WATCH_FEED_CHAINING_QP:10985,FACEBOOK_MULTI_PLATFORM_WATCH_FEED_CHAINING_QP:10987,FACEBOOK_FOR_ANDROID_NEWSFEED_VIDEO_CHAINING_QP:10983,FACEBOOK_FOR_IOS_NEWSFEED_VIDEO_CHAINING_QP:10984,FACEBOOK_MULTI_PLATFORM_NEWSFEED_VIDEO_CHAINING_QP:10982,FACEBOOK_FOR_ANDROID_CONTEXTUAL_MESSAGE_QP:10936,FACEBOOK_FOR_IOS_CONTEXTUAL_MESSAGE_QP:10934,FACEBOOK_MULTI_PLATFORM_CONTEXTUAL_MESSAGE_QP:10935,MESSENGER_FOR_ANDROID_MESSENGER_GUIDE_CHAT_ENTITY_QP:10944,MESSENGER_FOR_IOS_MESSENGER_GUIDE_CHAT_ENTITY_QP:10943,MESSENGER_MULTI_PLATFORM_MESSENGER_GUIDE_CHAT_ENTITY_QP:10945,FACEBOOK_FOR_WWW_COMPOSER_SPROUT_QP:10949,FACEBOOK_FOR_ANDROID_COMPOSER_SPROUT_QP:10910,FACEBOOK_FOR_IOS_COMPOSER_SPROUT_QP:10911,FACEBOOK_MULTI_PLATFORM_COMPOSER_SPROUT_QP:10912,IOS_INTERSTITIAL_QP:1817,ANDROID_INTERSTITIAL_QP:1818,IOS_FOOTER_QP:1819,ANDROID_FOOTER_QP:1820,IOS_NEWSFEED_MEGAPHONE_QP:1821,IOS_NEWSFEED_MEGAPHONE_PAD_QP:3596,ANDROID_NEWSFEED_MEGAPHONE_QP:1822,ANDROID_MESSAGES_INTERSTITIAL_QP:1957,IOS_MESSAGES_INTERSTITIAL_QP:2015,IOS_MSGR_INTERSTITIAL_QP:2400,ANDROID_MSGR_INTERSTITIAL_QP:2415,IOS_WEBVIEW_BANNER_QP:2423,IOS_INTERSTITIAL_PAD_QP:2766,IOS_MSGR_INTERSTITIAL_PAD_QP:2776,IOS_NEWSFEED_QP:2796,ANDROID_NEWSFEED_QP:2798,FBLITE_NEWSFEED_QP:4347,IOS_PAGES_MANAGER_INTERSTITIAL_QP:2840,IOS_PAGES_MANAGER_MEGAPHONE_QP:2942,ANDROID_PAGES_MANAGER_INTERSTITIAL_QP:2897,IOS_SEARCH_NULL_STATE_MEGAPHONE_QP:2989,IOS_MESSENGER_NEW_THREAD_NUX:4219,ANDROID_MESSENGER_THREAD_LIST_QP:3543,ANDROID_MESSENGER_THREAD_VIEW_QP:3545,ANDROID_MESSENGER_CALL_TAB_QP:4828,MESSENGER_FOR_ANDROID_FRIENDS_TAB_MEGAPHONE_QP:7615,IOS_IPAD_SEARCH_NULL_STATE_MEGAPHONE_QP:3182,ANDROID_SEARCH_NULL_STATE_MEGAPHONE_QP:3191,ANDROID_SEARCH_BAR_TOOLTIP:3877,IOS_FEED_PYMK_QP:3221,ANDROID_FEED_PYMK_QP:3279,IOS_TOAST_FOOTER_QP:3225,ANDROID_TOAST_FOOTER_QP:3248,WORKPLACE_ANDROID_NEWSFEED_MEGAPHONE_QP:3332,IOS_MEDIA_SERP_MEGAPHONE_QP:3738,IOS_EVENTS_GUESTLIST_QP:3583,MESSENGER_FOR_ANDROID_ARMADILLO_THREAD_VIEW_QP:10438,MESSENGER_FOR_ANDROID_MSYS_THREAD_LIST_SURFACE_QP:11155,MESSENGER_FOR_ANDROID_MSYS_INTERSTITIAL_SURFACE_QP:11152,MESSENGER_FOR_ANDROID_MSYS_THREAD_VIEW_SURFACE_QP:11154,MESSENGER_FOR_ANDROID_ME_SETTINGS_BANNER_QP:10508,FACEBOOK_MULTI_PLATFORM_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10536,FACEBOOK_FOR_IOS_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10550,FACEBOOK_FOR_ANDROID_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10551,INSTAGRAM_MULTI_PLATFORM_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10538,INSTAGRAM_FOR_IOS_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10552,INSTAGRAM_FOR_ANDROID_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10553,MESSENGER_FOR_IOS_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10539,MESSENGER_FOR_ANDROID_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10540,FACEBOOK_MULTI_PLATFORM_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10670,FACEBOOK_FOR_IOS_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10679,FACEBOOK_FOR_ANDROID_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_ON_FB4A_QP:10680,INSTAGRAM_FOR_IOS_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10681,INSTAGRAM_FOR_ANDROID_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10682,INSTAGRAM_MULTI_PLATFORM_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10683,FACEBOOK_WWW_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10710,CROSS_PLATFORM_MEGAPHONE_QP:3231,CROSS_PLATFORM_NEWSFEED_QP:3337,CROSS_PLATFORM_FOOTER_QP:4937,CROSS_PLATFORM_INTERSTITIAL_QP:4938,WORKPLACE_IOS_MEGAPHONE_QP:3335,WORKPLACE_IOS_INTERSTITIAL:3321,WORKPLACE_IOS_NEWSFEED_UNIT_QP:5361,WORKPLACE_MULTI_PLATFORM_FEED_UNIT_QP:5471,WORKPLACE_WWW_FEED_UNIT_QP:5529,WORKPLACE_WWW_ONBOARDING_CARD_QP:7424,WORKPLACE_MSITE_FEED_UNIT_QP:5678,FACEBOOK_FOR_WINDOWS_MEGAPHONE_QP:3840,FACEBOOK_FOR_MAC_MEGAPHONE_QP:3841,FACEBOOK_FOR_WINDOWS_FEED_UNIT_QP:4210,FACEBOOK_FOR_MAC_FEED_UNIT_QP:4211,FACEBOOK_FOR_WINPHONE_NEWSFEED_MEGAPHONE_QP:6956,FACEBOOK_MULTI_PLATFORM_OCULUS_PERMALINK_QP:6864,FACEBOOK_FOR_ANDROID_OCULUS_PERMALINK_QP:6869,FACEBOOK_FOR_IOS_OCULUS_PERMALINK_QP:6870,FACEBOOK_WWW_OCULUS_PERMALINK_QP:6910,FACEBOOK_MULTI_PLATFORM_UNDER_STORY_AUTO_PIVOT_QP:8671,FACEBOOK_FOR_ANDROID_AUTO_PIVOT_QP:8721,FACEBOOK_FOR_IOS_AUTO_PIVOT_QP:8722,FACEBOOK_MULTI_PLATFORM_EVENTS_TAB_QP:9780,FACEBOOK_FOR_IOS_EVENTS_TAB_QP:9823,FACEBOOK_FOR_ANDROID_EVENTS_TAB_QP:9824,M_NEWSFEED_MEGAPHONE_QP:2201,M_LOGIN_BANNER_QP:2275,M_FULLPAGE_INTERSTITIAL_QP:2289,M_JEWEL_INTERSTITIAL_QP:3382,M_JEWEL_FOOTER_QP:2443,M_JEWEL_HEADER_QP:2764,M_FOOTER_QP:2762,M_NEWSFEED_QP:2797,M_PHOTO_OPEN_INTERSTITIAL_QP:2946,M_SEARCH_NULL_STATE_MEGAPHONE_QP:3052,FACEBOOK_MSITE_MODAL_DIALOG_QP:5669,FACEBOOK_MSITE_BROWSER_PERMISSION_QP:5783,FBLITE_MEGAPHONE_QP:3306,FBLITE_INTERSTITIAL_QP:4661,FBLITE_FOOTER_QP:5570,FBLITE_MESSENGER_MEGAPHONE_QP:10711,FBLITE_THREAD_VIEW_BANNER_QP:10923,MESSENGER_LITE_BURRITO_INBOX_QP_MEGAPHONE_QP:9537,WWW_NEWSFEED_MEGAPHONE_QP:2646,WWW_NEWSFEED_QP:3081,WWW_INTERSTITIAL_QP:3394,FACEBOOK_WWW_RHC_QP:6113,WORKPLACE_WWW_RHC_QP:6493,FACEBOOK_MULTI_PLATFORM_EGO_CUSTOM_SURFACE_QP:6452,FACEBOOK_WWW_CUSTOM_EGO_QP:6489,PP_MEGAPHONE_QP:2852,IORG_APP_MEGAPHONE_QP:3064,IORG_WEB_MEGAPHONE_QP:3075,IORG_WEB_INTERSITIAL:4890,INTERNET_ORG_WEB_FBSV2_MEGAPHONE_FOR_LOGGED_OUT_USERS_QP:7275,INTERN_QP_DASH_QP:3294,INTERN_INTERNAL_TOOL_QP:3957,MESSENGER_FOR_WEB_CALL_VIEW_QP:6846,FACEBOOK_WWW_INBOX_THREAD_LIST_BANNER_QP:8783,MESSENGER_FOR_WEB_BUSINESS_SUPPORT_FOLDER_THREAD_LIST_BANNER_QP:10951,FACEBOOK_WWW_PUBLIC_CHAT_NUX_QP:10975,MESSENGER_FOR_WEB_CM_CHANNEL_THREAD_VIEW_QP:10999,WWW_JEWEL_QP:3565,FACEBOOK_WWW_SIDEBAR_CONTACTS_BUCKET_QP:7834,WORKPLACE_WWW_MEGAPHONE_QP:3934,MSITE_BOOKMARKS:3969,FACEBOOK_FOR_IOS_BOOKMARK_QP:5424,FACEBOOK_FOR_ANDROID_BOOKMARK_QP:5429,FACEBOOK_MULTI_PLATFORM_BOOKMARK_QP:5431,FBLITE_BOOKMARK_PROMO_FBLITE_QP:7431,FACEBOOK_WWW_BOOKMARK_QP:8249,MSITE_QP_BANNER:4011,DAILY_DIALOGUE_LIGHTWEIGHT:4014,WWW_DAILY_DIALOGUE_LIGHTWEIGHT:4019,IOS_DAILY_DIALOGUE_LIGHTWEIGHT:4025,ANDROID_DAILY_DIALOGUE_LIGHTWEIGHT:4026,MSITE_DAILY_DIALOG_LIGHTWEIGHT:4121,FBLITE_LIGHTWEIGHT:4725,MSITE_DIODE_ROADBLOCK_QP:4061,WORKPLACE_ANDROID_INTERSTITIAL_QP:4090,WORKPLACE_ANDROID_TAB_INTERSTITIAL:4099,WORKPLACE_ANDROID_NEWSFEED_QP:4590,WORKPLACE_IOS_TAB_INTERSTITIAL_QP:4100,WORKPLACE_WWW_INTERSTITIAL_QP:4437,WORKPLACE_MSITE_MEGAPHONE_QP:4727,WORKPLACE_IOS_GROUP_FEED_FOOTER:4788,WORKPLACE_CROSS_PLATFORM_MEGAPHONE:5012,WORKPLACE_MSITE_INTERSTITIAL_QP:5261,WORKPLACE_MSITE_STICKY_HEADER_BANNER_QP:5272,WORKPLACE_ANDROID_PROFILE_QP:5422,WORKPLACE_WWW_GROUPS_TOP_OF_MALL_QP:7972,WORKPLACE_MULTI_PLATFORM_INTERSTITIAL_QP:8104,WORKPLACE_MULTI_PLATFORM_TOP_OF_GROUP_MALL_QP:7973,WORKPLACE_FOR_ANDROID_TOP_OF_GROUP_MALL_QP:7946,WORKPLACE_FOR_IOS_TOP_OF_GROUP_MALL_QP:7971,IOS_WORKCHAT_INTERSTITIAL_QP:4143,WORKCHAT_FOR_IOS_WORKSPEED_INBOX_BANNER_QP:7746,WORKPLACE_FOR_IOS_THREAD_LIST_CREATE_FOLDER_BUTTON_TOOLTIP_QP:11990,WORKPLACE_MULTI_PLATFORM_THREAD_LIST_CREATE_FOLDER_BUTTON_TOOLTIP_QP:11989,ANDROID_WORKCHAT_INTERSTITIAL_QP:4144,WORKCHAT_FOR_WWW_BANNER_QP:5497,WORKCHAT_FOR_WWW_THREAD_LIST_QP:8179,ANDROID_WORKCHAT_THREAD_LIST_QP:5411,ANDROID_WORKCHAT_CALL_LOG_SURFACE_QP:5579,PROFILE_TIMELINE_QP:4218,PROFILE_TIMELINE_IOS_QP:4221,PROFILE_TIMELINE_ANDROID_QP:4222,PROFILE_TIMELINE_DESKTOP_QP:4555,PROFILE_DISCOVERY_MULTI_PLATFORM_QP:5753,PROFILE_DISCOVERY_IOS_QP:5752,PROFILE_DISCOVERY_ANDROID_QP:5754,FACEBOOK_MULTI_PLATFORM_PROFILE_PROMPTS_QP:5770,FACEBOOK_FOR_IOS_PROFILE_PROMPTS_QP:5772,FACEBOOK_FOR_ANDROID_PROFILE_PROMPTS_QP:5773,FACEBOOK_FOR_ANDROID_GEMSTONE_QP:6820,FACEBOOK_FOR_IOS_GEMSTONE_QP:6821,FACEBOOK_MULTI_PLATFORM_GEMSTONE_QP:6822,FACEBOOK_FOR_ANDROID_DATING_MESSAGE_INBOX_QP:8417,FACEBOOK_FOR_ANDROID_DATING_MESSAGE_THREAD_QP:8441,FACEBOOK_FOR_IOS_DATING_MESSAGE_INBOX_QP:8474,FACEBOOK_FOR_IOS_DATING_MESSAGE_THREAD_QP:8730,FACEBOOK_FOR_IOS_MEET_NEW_FRIENDS_PROMPT_QP:7095,FACEBOOK_FOR_ANDROID_MEET_NEW_FRIENDS_PROMPT_QP:7097,FACEBOOK_MULTI_PLATFORM_MEET_NEW_FRIENDS_PROMPT_QP:7099,M_LOGGEDOUT_INTERSTITIAL:4247,WWW_TOPIC_FEEDS_MEGAPHONE_QP:4256,MSITE_QP_STICKY_HEADER:4383,MESSENGER_RECENT_THREAD_LIST_QP:4408,IOS_SEARCH_RESULT_MODULES_QP:4640,IOS_REACT_NATIVE_MEGAPHONE_QP:4682,ANDROID_REACT_NATIVE_MEGAPHONE_QP:4683,PAGES_MANAGER_FOR_IOS_REACT_NATIVE_MEGAPHONE_QP:5407,PAGES_MANAGER_FOR_ANDROID_REACT_NATIVE_MEGAPHONE_QP:5408,IOS_SAVE_DASHBOARD_MEGAPHONE_QP:4711,WWW_SAVE_DASHBOARD_MEGAPHONE_QP:4724,FB4A_SAVED_DASH_MEGAPHONE_QP:4726,OCULUS_TEST_SURFACE_QP:4867,OCULUS_PE_HOME_GO_EXPLORE_QP:6291,OCULUS_PE_TWILIGHT_GO_NOTIFICATIONS_QP:6706,OCULUS_PE_HOME_QUEST_STORE_HERO_QP:6731,OCULUS_PE_HOME_QUEST_EXPLORE_HERO_QP:6768,OCULUS_HOME_PE_QUEST_EXPLORE_MEGAPHONE_QP:7928,OCULUS_PE_HOME_QUEST_EXPLORE_TIP_QP:6782,OCULUS_PE_HOME_MOBILE_EXPLORE_HERO_QP:6944,OCULUS_PE_SKYLINE_LP_QP:6834,OCULUS_PE_TWILIGHT_QUEST_FEED_PROMO_QP:6893,OCULUS_PE_TWILIGHT_QUEST_FEED_TIP_QP:6894,OCULUS_PE_TWILIGHT_GO_STORE_SPOTLIGHT_QP:6953,OCULUS_PE_TWILIGHT_QUEST_STORE_SPOTLIGHT_QP:6965,OCULUS_PE_TWILIGHT_RIFT_FEED_PROMO_QP:6962,OCULUS_PE_TWILIGHT_GO_FEED_TIP_QP:6963,OCULUS_PE_HOME_GO_EXPLORE_TIP_QP:6964,OCULUS_PE_HOME_GO_EXPLORE_SURVEY_QP:7048,OCULUS_PE_TWILIGHT_GO_FEED_PROMO_QP:7119,OCULUS_PE_RIFT_STORE_SPOTLIGHT:7121,OCULUS_PE_QUEST_STORE_SPOTLIGHT:7122,OCULUS_PE_MOBILE_STORE_SPOTLIGHT:7123,OCULUS_PE_QUEST_STORE_NEW_AND_UPDATED:7402,OCULUS_PE_RIFT_STORE_NEW_AND_UPDATED:7407,OCULUS_PE_MOBILE_STORE_NEW_AND_UPDATED:7408,OCULUS_PE_RIFT_STORE_RIFT_PICKS:7409,OCULUS_PE_HOME_QUEST_EXPLORE_NOTE_QP:7276,OCULUS_PE_HOME_QUEST_EXPLORE_ARTICLES_QP:7353,OCULUS_PE_TWILIGHT_FEED_RELEASE_NOTE_QP:7404,OCULUS_PE_QUEST_STORE_SALE_QP:7492,OCULUS_PE_RIFT_STORE_SALE_QP:7493,OCULUS_PE_MOBILE_STORE_SALE_QP:7494,OCULUS_HOME_PE_QUEST_BUDGETED_FEED_QP:7395,OCULUS_PE_TWILIGHT_QUEST_BUDGETED_FEED_QP:7509,OCULUS_PE_HOME_QUEST_VR_FEED_HERO_NEW_USER_QP:7579,OCULUS_PE_HOME_QUEST_STORE_SPOTLIGHT_NEW_USER_QP:7580,OCULUS_PE_TWILIGHT_QUEST_FEED_HERO_NEW_USER_QP:7592,OCULUS_HOME_PE_QUEST_MEDIA_FEED_TIP_QP:8560,OCULUS_HOME_PRODUCTIVITY_SECTION_TIP_QP:9892,OCULUS_HOME_INTERSTITIAL_QP:5259,OCULUS_HOME_TOAST_QP:6386,OCULUS_HOME_TOOLTIP_QP:5628,OCULUS_HOME_GDPR_INTERSTITIAL_QP:5643,OCULUS_HOME_SURVEY_QP:6939,OCULUS_HOME_GUIDED_ACTIONS_QP:7777,OCULUS_HOME_PREPENDED_STORY_QP:8226,OCULUS_HORIZON_MEGAPHONE_QP:4916,OCULUS_HORIZON_BOTTOM_NAV_TOOLTIP_QP:5237,OCULUS_HORIZON_INTERSTITIAL_QP:5611,OCULUS_QUEST_AUI_TOOLTIP_QP:7790,OCULUS_QUEST_AUI_GUIDE_BAR:8529,OCULUS_AUI_LIBRARY_TEST_MEGAPHONE_QP:11036,OCULUS_CREATOR_SITE_MEDIA_STUDIO_LIBRARY_QP:8592,OCULUS_HOME_LIVINGROOM_TOOLTIP_QP:8646,OCULUS_HOME_LIVINGROOM_SNACKBAR_QP:8651,OCULUS_AUTH_META_WWW_INTERSTITIAL_QP:11390,OCULUS_SECURE_WWW_SETTINGS_INTERSTITIAL_QP:11391,OCULUS_TWILIGHT_PUSH_NOTIFICATION_QP:6927,OCULUS_WWW_OFFSITE_EMAIL_NOTIFICATION_QP:6836,OCULUS_AUI_QUEST_NOTIFICATION_QP:7988,OCULUS_TWILIGHT_MEGAPHONE_STICKER_QP:11445,OCULUS_TWILIGHT_MEGAPHONE_QP:7049,OCULUS_TWILIGHT_TOOLTIP_QP:7733,OCULUS_TWILIGHT_SNACKBAR_QP:8090,OCULUS_TWILIGHT_INTERSTITIAL_QP:8275,OCULUS_TWILIGHT_DIALOG_QP:8286,OCULUS_FITNESS_TRACKER_DIALOG_QP:10431,OCULUS_DEV_MULTI_PLATFORM_SEV_ALERT_QP:8867,OCULUS_DEV_ODH_SEV_ALERT_QP:8996,OCULUS_DEV_WWW_SEV_ALERT_QP:8998,OCULUS_DEV_MULTI_PLATFORM_TIP_CARD_QP:8892,OCULUS_DEV_MULTI_PLATFORM_ODH_RELEASE_NOTES_QP:8961,OCULUS_DEV_MULTI_PLATFORM_FEATURED_VIDEO_QP:8967,OCULUS_DEV_ODH_NEWS_HIGHLIGHT_QP:9103,OCULUS_DEV_WWW_PUSH_NOTIFICATION_QP:9201,OCULUS_DEV_ODH_PUSH_NOTIFICATION_QP:9210,OCULUS_DEV_WWW_DEV_CENTER_CARD_QP:9453,OCULUS_DEV_WWW_INTERSTITIAL_QP:9483,OCULUS_DEV_WWW_DEV_CENTER_ANNOUNCEMENTS_QP:9595,OCULUS_DEV_WWW_RECOMMENDATION_BANNER_QP:9622,OCULUS_DEV_ODH_RAPID_FEEDBACK_QP:9725,OCULUS_DEV_WWW_DEVELOPER_ROCKSTEADY_ONBOARDING_QP:9805,OCULUS_DEV_WWW_SAVED_ROUTES_RECOMMENDATION_QP:10068,OCULUS_DEV_ODH_FEATURED_PACKAGES_QP:10110,OCULUS_DEV_MULTI_PLATFORM_NUX_QP:10203,OCULUS_DEV_WWW_DEVELOPER_CENTER_NUX_QP:10197,OCULUS_DEV_ODH_ODH_NUX_QP:10204,OCULUS_DEV_ODH_DEVELOPER_AWARENESS_BANNER_QP:11988,OCULUS_DEV_MULTI_PLATFORM_DEVELOPER_AWARENESS_BANNER_QP:11987,INSTAGRAM_MULTI_PLATFORM_TOOLTIP_QP:5857,INSTAGRAM_FOR_IOS_TOOLTIP_QP:5829,INSTAGRAM_FOR_ANDROID_TOOLTIP_QP:5858,INSTAGRAM_FOR_WEB_TOOLTIP_QP:5906,INSTAGRAM_MULTI_PLATFORM_MEGAPHONE_QP:5805,INSTAGRAM_IOS_MEGAPHONE:4669,INSTAGRAM_ANDROID_MEGAPHONE:4715,INSTAGRAM_WEB_MEGAPHONE:5095,INSTAGRAM_LOGGED_OUT_WEB_MEGAPHONE_DEPRECATED:6428,INSTAGRAM_CARBON_MEGAPHONE_QP:8123,INSTAGRAM_MULTI_PLATFORM_INTERSTITIAL_QP:5806,INSTAGRAM_FOR_ANDROID_INTERSTITIAL_QP:5734,INSTAGRAM_FOR_IOS_INTERSTITIAL_QP:5736,INSTAGRAM_FOR_WEB_INTERSTITIAL_QP:5780,INSTAGRAM_CARBON_INTERSTITIAL_QP:8151,INSTAGRAM_FOR_ANDROID_PROMOTIONAL_DIALOG_V2_QP:12104,INSTAGRAM_FOR_IOS_PROMOTIONAL_DIALOG_V2_QP:12103,INSTAGRAM_MULTI_PLATFORM_PROMOTIONAL_DIALOG_V2_QP:12102,INSTAGRAM_FOR_WEB_DIRECT_INTERSTITIAL_QP:11459,INSTAGRAM_FOR_ANDROID_STORIES_QP:6319,INSTAGRAM_FOR_IOS_STORIES_QP:6320,INSTAGRAM_MULTI_PLATFORM_STORIES_QP:6321,INSTAGRAM_FOR_IOS_STORIES_ARCHIVE_QP:12129,INSTAGRAM_FOR_ANDROID_STORIES_ARCHIVE_QP:12128,INSTAGRAM_MULTI_PLATFORM_STORIES_ARCHIVE_QP:12127,INSTAGRAM_FOR_ANDROID_STORIES_EDIT_HIGHLIGHT_QP:12131,INSTAGRAM_FOR_IOS_STORIES_EDIT_HIGHLIGHT_QP:12132,INSTAGRAM_MULTI_PLATFORM_STORIES_EDIT_HIGHLIGHT_QP:12130,INSTAGRAM_FOR_IOS_NETEGO_FEED_UNIT:6787,INSTAGRAM_FOR_ANDROID_NETEGO_FEED_UNIT:6994,INSTAGRAM_MULTI_PLATFORM_NETEGO_FEED_UNIT:6995,INSTAGRAM_FOR_WEB_NETEGO_FEED_UNIT_QP:8637,INSTAGRAM_MULTI_PLATFORM_NETEGO_STORY_QP:7706,INSTAGRAM_FOR_IOS_NETEGO_STORY_ON_IOS_QP:7707,INSTAGRAM_FOR_ANDROID_NETEGO_STORY_ON_ANDROID_QP:7708,INSTAGRAM_MULTI_PLATFORM_REELS_UNIT_QP:11174,INSTAGRAM_FOR_IOS_REELS_UNIT_ON_IOS_QP:11179,INSTAGRAM_FOR_ANDROID_REELS_UNIT_ON_ANDROID_QP:11180,INSTAGRAM_FOR_IOS_MESSAGE_FOOTER_QP:8035,INSTAGRAM_FOR_ANDROID_MESSAGE_FOOTER_QP:8034,INSTAGRAM_MULTI_PLATFORM_MESSAGE_FOOTER_QP:8036,INSTAGRAM_MULTI_PLATFORM_SERVICE_STORE_FRONT_QP:9050,INSTAGRAM_FOR_IOS_SERVICE_STORE_FRONT_QP:9061,INSTAGRAM_FOR_ANDROID_SERVICE_STORE_FRONT_QP:9062,INSTAGRAM_FOR_ANDROID_CALL_END_QP:9282,INSTAGRAM_MULTI_PLATFORM_CALL_END_QP:9286,INSTAGRAM_FOR_IOS_CALL_END_QP:9287,INSTAGRAM_MULTI_PLATFORM_REELS_MIDCARD_QP:10656,INSTAGRAM_FOR_ANDROID_REELS_MIDCARD_QP:10671,BARCELONA_MULTI_PLATFORM_MEGAPHONE_QP:11450,BARCELONA_IOS_MEGAPHONE:11453,BARCELONA_ANDROID_MEGAPHONE:11451,BARCELONA_WEB_MEGAPHONE:11452,BARCELONA_FOR_ANDROID_PERMALINK_QP:12039,BARCELONA_FOR_IOS_PERMALINK_QP:12038,BARCELONA_MULTI_PLATFORM_PERMALINK_QP:12037,IOS_CAMERA_SYSTEM_QP:5079,ANDROID_CAMERA_SYSTEM_QP:5080,FBLITE_CAMERA_SYSTEM_QP:5808,CROSS_PLATFORM_CAMERA_SYSTEM_QP:5083,MESSENGER_FOR_ANDROID_STORY_PROMOTION_QP:6063,MESSENGER_FOR_IOS_STORY_PROMOTION_QP:6177,MESSENGER_FOR_IOS_THREAD_LIST_QP:7025,MESSENGER_FOR_IOS_THREAD_VIEW_QP:6985,MESSENGER_FOR_IOS_INTERSTITIAL_QP:8764,MESSENGER_FOR_IOS_ARMADILLO_THREAD_TOP_BANNER_QP:10152,MESSENGER_LIGHTSPEED_FOR_IOS_FRIENDS_TAB_HEADER_QP:7555,MESSENGER_FOR_WEB_INTERSTITIAL_LIGHTSPEED_QP:8879,MESSENGER_FOR_ANDROID_CHAT_ENTITY_QP:10694,MESSENGER_LIGHTSPEED_FOR_IOS_CHAT_ENTITY_QP:10660,MESSENGER_MULTI_PLATFORM_CHAT_ENTITY_QP:10693,FACEBOOK_WWW_MESSAGING_JEWEL_BANNER_QP:8439,FACEBOOK_WWW_FACEBOOK_CHAT_TAB_BANNER_QP:8888,FACEBOOK_WWW_END_CALL_INTERSTITIAL_QP:8603,FACEBOOK_MULTI_PLATFORM_NOTIFICATION_QP:5480,FACEBOOK_FOR_IOS_JEWEL_NOTIFICATION_QP:5481,FACEBOOK_FOR_ANDROID_JEWEL_NOTIFICATION_QP:5482,FACEBOOK_WWW_JEWEL_NOTIFICATION_QP:5483,FACEBOOK_MSITE_JEWEL_NOTIFICATION_QP:5484,FBLITE_JEWEL_NOTIFICATION_QP:6244,FACEBOOK_FOR_IOS_NOTIFICATIONS_BANNER_QP:9069,FACEBOOK_MULTI_PLATFORM_NOTIFICATIONS_TAB_MEGAPHONE_QP:9090,FACEBOOK_FOR_ANDROID_NOTIFICATIONS_BANNER_QP:10313,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_NOTIFICATION_QP_DEPRECATED:6226,FACEBOOK_FOR_IOS_MARKETPLACE_NOTIFICATION_QP_DEPRECATED:6227,FACEBOOK_WWW_OFFSITE_EMAIL_NOTIFICATION_QP:5674,FACEBOOK_WWW_OFFSITE_SMS_NOTIFICATION_QP:6395,WORKPLACE_MULTI_PLATFORM_NOTIFICATION_QP:6292,WORKPLACE_WWW_JEWEL_NOTIFICATION_QP:6293,WORKPLACE_FOR_ANDROID_JEWEL_NOTIFICATION_QP:6295,WORKPLACE_FOR_IOS_JEWEL_NOTIFICATION_QP:6296,WORKPLACE_MSITE_JEWEL_NOTIFICATION_QP:6297,WORKPLACE_WWW_EMAIL_NOTIFICATION_QP:6334,INSTAGRAM_MULTI_PLATFORM_PUSH_NOTIFICATION_QP:6751,INSTAGRAM_FOR_IOS_PUSH_NOTIFICATION_QP:6752,INSTAGRAM_FOR_ANDROID_PUSH_NOTIFICATION_QP:6753,INSTAGRAM_FOR_WEB_PUSH_NOTIFICATION_QP:6754,INSTAGRAM_OFFSITE_EMAIL_NOTIFICATION_QP:7039,INSTAGRAM_MULTI_PLATFORM_ACTIVITY_FEED_NOTIFICATION_QP:7356,INSTAGRAM_FOR_IOS_ACTIVITY_FEED_NOTIFICATION_QP:7357,INSTAGRAM_FOR_ANDROID_ACTIVITY_FEED_NOTIFICATION_QP:7358,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_INLINE_SURVEY_QP:7215,INSTAGRAM_FOR_ANDROID_INSTAGRAM_INLINE_SURVEY_QP:7256,INSTAGRAM_FOR_IOS_INSTAGRAM_INLINE_SURVEY_QP:7257,INSTAGRAM_MULTI_PLATFORM_IG_MULTI_PLATFORM_REELS_QUALITY_SURVEY_QP:8044,INSTAGRAM_FOR_IOS_IG_IOS_REELS_QUALITY_SURVEY_QP:8045,INSTAGRAM_FOR_ANDROID_IG_ANDROID_REELS_QUALITY_SURVEY_QP:8046,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_BOTTOM_SHEET_SURVEY_QP:8836,INSTAGRAM_FOR_IOS_INSTAGRAM_BOTTOM_SHEET_SURVEY_QP:8837,INSTAGRAM_FOR_ANDROID_INSTAGRAM_BOTTOM_SHEET_SURVEY_QP:8838,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_NOTIFICATION_SURVEY_QP:8989,INSTAGRAM_FOR_IOS_INSTAGRAM_NOTIFICATION_SURVEY_QP:8987,INSTAGRAM_FOR_ANDROID_INSTAGRAM_NOTIFICATION_SURVEY_QP:8988,FACEBOOK_MULTI_PLATFORM_GROUPS_MALL_QP_DEPRECATED:5541,FACEBOOK_FOR_ANDROID_GROUPS_MALL_QP:5542,FACEBOOK_FOR_IOS_GROUPS_MALL_QP:5543,FACEBOOK_WWW_GROUPS_MALL_QP:5544,FACEBOOK_MSITE_COMMENT_BREADCRUMB_QP:5653,FACEBOOK_MSITE_PHOTO_BREADCRUMB_QP:5599,FACEBOOK_MULTI_PLATFORM_GROUPS_TAB_V1_QP:6730,FACEBOOK_FOR_ANDROID_GROUPS_TAB_V1_QP:6726,FACEBOOK_FOR_IOS_GROUPS_TAB_V1_QP:6729,FACEBOOK_MULTI_PLATFORM_GROUPS_TAB_TOP_UNITS_QP:9732,FACEBOOK_FOR_IOS_GROUPS_TAB_TOP_UNITS_QP:9734,FACEBOOK_FOR_ANDROID_GROUPS_TAB_TOP_UNITS_QP:9735,FBLITE_GROUPS_TAB_TOP_UNITS_QP:10261,FACEBOOK_FOR_ANDROID_VIDEO_HOME_MEGAPHONE_QP:5764,FACEBOOK_FOR_ANDROID_WATCH_TAB_QP:9150,FACEBOOK_FOR_IOS_WATCH_TAB_QP:9154,FACEBOOK_MULTI_PLATFORM_WATCH_TAB_QP:9155,FACEBOOK_WWW_PAGE_ADMIN_HOME_QP:5869,FACEBOOK_MULTI_PLATFORM_FEED_UNIT_CTA_QP:5962,FACEBOOK_FOR_IOS_FEED_UNIT_CTA_QP:5966,FACEBOOK_FOR_ANDROID_FEED_UNIT_CTA_QP:5967,FBLITE_FEED_UNIT_CTA_QP:6123,FACEBOOK_MULTI_PLATFORM_PAGE_RECOMMENDATIONS_NUX_QP:6247,FACEBOOK_FOR_ANDROID_PAGE_RECOMMENDATIONS_NUX_QP:6259,FACEBOOK_FOR_IOS_PAGE_RECOMMENDATIONS_NUX_QP:6260,FACEBOOK_WWW_SURFACE_PAGE_RECOMMENDATIONS_NUX_QP:6285,FACEBOOK_FOR_ANDROID_STORY_BUCKET_QP:6254,FACEBOOK_FOR_IOS_STORY_BUCKET_QP:6255,FACEBOOK_WWW_STORY_BUCKET_QP:6256,FACEBOOK_MSITE_STORY_BUCKET_QP:6257,FACEBOOK_MULTI_PLATFORM_STORY_BUCKET_QP:6258,FBLITE_STORY_BUCKET_QP:8434,FACEBOOK_MULTI_PLATFORM_ADD_TO_STORY_BUCKET_QP:10529,FACEBOOK_FOR_ANDROID_ADD_TO_STORY_BUCKET_QP:10532,FACEBOOK_FOR_IOS_ADD_TO_STORY_BUCKET_QP:10533,FACEBOOK_MULTI_PLATFORM_NOTIF_AUTOPLAY_ADD_TO_STORY_QP:10559,FACEBOOK_FOR_IOS_NOTIF_AUTOPLAY_ADD_TO_STORY_QP:10560,FACEBOOK_FOR_ANDROID_NOTIF_AUTOPLAY_ADD_TO_STORY_QP:10561,FACEBOOK_MULTI_PLATFORM_STORIES_END_CARD_QP:8058,FACEBOOK_FOR_IOS_STORIES_END_CARD_QP:8059,FACEBOOK_FOR_ANDROID_STORIES_END_CARD_QP:8060,FACEBOOK_MULTI_PLATFORM_INTEREST_CATEGORY_NT_VIEW_FOOTER_QP_DEPRECATED:6245,FACEBOOK_FOR_ANDROID_INTEREST_CATEGORY_NT_VIEW_FOOTER_QP_DEPRECATED:6249,FACEBOOK_FOR_IOS_INTEREST_CATEGORY_NT_VIEW_FOOTER_QP_DEPRECATED:6250,FACEBOOK_FOR_IOS_PROFILE_CONTEXTUAL_QP:6288,FACEBOOK_FOR_IOS_MESSENGER_KIDS_PROFILE_QP:6444,FACEBOOK_FOR_ANDROID_MESSENGER_KIDS_PROFILE_QP:6445,FACEBOOK_FOR_ANDROID_WATCHLIST_MEGAPHONE_QP:6472,FACEBOOK_MSITE_KAIOS_FEED_UNIT_QP:6494,FACEBOOK_MSITE_KAIOS_MEGAPHONE_QP:6589,FACEBOOK_FOR_ANDROID_TAB_PROMOTION_QP:6737,FACEBOOK_FOR_IOS_TAB_PROMOTION_QP:6749,FACEBOOK_FOR_ANDROID_TAB_BAR_EXTENSION_QP:9054,PORTAL_HOME_CARD_QP:8202,PORTAL_MULTI_PLATFORM_HOME_CARD_QP:11931,PORTAL_PORTAL_DEVICE_DISCOVER_QP:7280,PROTAL_MULTI_PLATFORM_DEVICE_DISCOVER_QP:12046,FACEBOOK_FOR_ANDROID_TOMBSTONE_FOLLOWUP_UNIT_QP:6843,FACEBOOK_FOR_IOS_TOMBSTONE_FOLLOWUP_UNIT_QP:6844,FACEBOOK_MULTI_PLATFORM_TOMBSTONE_FOLLOWUP_UNIT_QP:6847,FACEBOOK_FOR_IOS_IN_CONTEXT_UNIT_OF_COMMENT_PERMALINK_QP:6971,FACEBOOK_FOR_ANDROID_IN_CONTEXT_UNIT_OF_COMMENT_PERMALINK_QP:6972,FACEBOOK_MULTI_PLATFORM_IN_CONTEXT_UNIT_OF_COMMENT_PERMALINK_QP:6973,MESSENGER_FOR_ANDROID_DISCOVER_TAB_QP:7004,MESSENGER_FOR_IOS_DISCOVER_TAB_QP:7023,MESSENGER_FOR_ANDROID_SEARCH_NULL_STATE_SURFACE_QP:7190,MESSENGER_FOR_ANDROID_NULL_STATE_SEARCH_HEADER_BANNER_QP:8978,FACEBOOK_FOR_ANDROID_END_OF_FEED:7252,FACEBOOK_FOR_ANDROID_SURVEY_BOTTOM_SHEET_QP:7057,FACEBOOK_WWW_GROUPS_RIGHT_HAND_COLUMN_QP:7242,FACEBOOK_MULTI_PLATFORM_GROUPS_TOP_OF_MALL_QP:7326,FACEBOOK_WWW_GROUPS_TOP_OF_MALL_QP:7340,FACEBOOK_IOS_GROUPS_TOP_OF_MALL_QP:7371,FACEBOOK_ANDROID_GROUPS_TOP_OF_MALL_QP:7383,FBLITE_GROUPS_TOP_OF_MALL_QP:7527,FACEBOOK_FOR_IOS_CREATION_HOMEBASE_QP:7450,FACEBOOK_MULTI_PLATFORM_CREATION_HOMEBASE_QP:11131,FACEBOOK_FOR_ANDROID_CREATION_HOMEBASE_QP:11130,FACEBOOK_MULTI_PLATFORM_PLAZA_QP:7479,FACEBOOK_FOR_ANDROID_PLAZA_QP:7507,FACEBOOK_FOR_IOS_PLAZA_QP:7508,FACEBOOK_FOR_ANDROID_FAN_SUBSCRIPTIONS_SUPPORTER_HUB_QP_QP:7571,FACEBOOK_FOR_IOS_FAN_SUBSCRIPTIONS_SUPPORTER_HUB_QP_QP:7572,FACEBOOK_MULTI_PLATFORM_FAN_SUBSCRIPTIONS_SUPPORTER_HUB_QP_QP:7573,FACEBOOK_FOR_ANDROID_NEARBYFRIENDS_QP:7602,FACEBOOK_MULTI_PLATFORM_NEARBY_FRIENDS_INLINE_SECTION_QP:7791,FACEBOOK_FOR_IOS_NEARBY_FRIENDS_INLINE_SECTION_QP:7786,FACEBOOK_FOR_ANDROID_NEARBY_FRIENDS_INLINE_SECTION_QP:7797,FACEBOOK_MULTI_PLATFORM_COMMUNITY_QP:7693,FACEBOOK_FOR_ANDROID_COMMUNITY_QP:7704,FACEBOOK_FOR_IOS_COMMUNITY_QP:7705,FBLITE_COMMUNITY_QP:7749,FACEBOOK_WWW_COMMUNITIES_QP:7923,FACEBOOK_MSITE_COMMUNITY_QP:7750,FACEBOOK_WWW_COMMUNITIES_TAB_IN_MESSENGER_JEWEL_QP:10713,FACEBOOK_MULTI_PLATFORM_GROUP_PENDING_POSTS_QUEUE_QP:11048,FACEBOOK_WWW_GROUP_PENDING_POSTS_QUEUE_QP:11068,FACEBOOK_MULTI_PLATFORM_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11062,FACEBOOK_FOR_ANDROID_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11063,FACEBOOK_FOR_IOS_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11064,FACEBOOK_WWW_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11070,FBLITE_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11071,FACEBOOK_MULTI_PLATFORM_PROFILE_PLUS_QP:9639,FACEBOOK_WWW_PROFILE_PLUS_QP:9641,FACEBOOK_FOR_IOS_PROFILE_PLUS_QP:9642,FACEBOOK_FOR_ANDROID_PROFILE_PLUS_QP:9644,FBLITE_PROFILE_PLUS_QP:9702,FACEBOOK_MULTI_PLATFORM_HASHTAG_DEEP_DIVE_QP:7930,FACEBOOK_FOR_IOS_HASHTAG_DEEP_DIVE_QP:7954,FACEBOOK_FOR_ANDROID_HASHTAG_DEEP_DIVE_QP:7955,FACEBOOK_WWW_HASHTAG_DEEP_DIVE_QP:8185,FACEBOOK_MULTI_PLATFORM_ROOMS_TRAY_CARD_QP:7998,FACEBOOK_FOR_IOS_ROOMS_TRAY_CARD_QP:7999,FACEBOOK_FOR_ANDROID_ROOMS_TRAY_CARD_QP:8e3,FACEBOOK_WWW_ROOMS_TRAY_CARD_QP:8001,FBLITE_ROOMS_TRAY_CARD_QP:8002,MESSENGER_DESKTOP_THREADS_LIST_QP:7703,FACEBOOK_MULTI_PLATFORM_MP_BILLBOARD_QP:10636,FACEBOOK_FOR_IOS_MP_BILLBOARD_FOR_IOS_QP:10651,FACEBOOK_FOR_ANDROID_MP_BILLBOARD_FOR_ANDROID_QP:10652,FACEBOOK_FOR_ANDROID_WORDMARK_QP:8421,FACEBOOK_FOR_IOS_WORDMARK_QP:8944,FACEBOOK_FOR_IOS_BIRTHDAY_STORY_SUNSET_QP:8332,FACEBOOK_FOR_ANDROID_BIRTHDAY_STORY_SUNSET_QP:8333,FACEBOOK_MULTI_PLATFORM_VOYAGER_NULLSTATE_QP:8378,FACEBOOK_FOR_IOS_VOYAGER_NULLSTATE_QP:8383,FACEBOOK_FOR_ANDROID_VOYAGER_NULLSTATE_QP:8384,FACEBOOK_FOR_IOS_COMPOSER_TOOLTIP_QP:8419,FACEBOOK_FOR_ANDROID_COMPOSER_TOOLTIP_QP:8435,FACEBOOK_MULTI_PLATFORM_COMPOSER_TOOLTIP_QP:8457,FACEBOOK_WWW_COMPOSER_TOOLTIP_QP:8951,FACEBOOK_FOR_IOS_FB_AI_GENEREATED_STICKERS_COMMENTS_NUX_BOTTOM_SHEET_QP:12e3,FACEBOOK_FOR_ANDROID_FB_AI_GENEREATED_STICKERS_COMMENTS_NUX_BOTTOM_SHEET_QP:11999,FACEBOOK_MULTI_PLATFORM_FB_AI_GENEREATED_STICKERS_COMMENTS_NUX_BOTTOM_SHEET_QP:11998,INSTAGRAM_MULTI_PLATFORM_NEW_REELS_QP:8481,INSTAGRAM_FOR_IOS_NEW_REELS_QP:8494,INSTAGRAM_FOR_ANDROID_NEW_REELS_QP:8495,MESSENGER_FOR_ANDROID_RTC_PEEK_PROMOTION_QP:8470,MESSENGER_LIGHTSPEED_FOR_IOS_RTC_PEEK_PROMOTION_QP:8502,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_EXPLORE_SURVEY_QP:8779,INSTAGRAM_FOR_IOS_INSTAGRAM_EXPLORE_SURVEY_QP:8780,INSTAGRAM_FOR_ANDROID_INSTAGRAM_EXPLORE_SURVEY_QP:8781,INSTAGRAM_FOR_ANDROID_CREATOR_EXPERIENCE_EDUCATION_NUX_QP:11983,INSTAGRAM_FOR_IOS_CREATOR_EXPERIENCE_EDUCATION_NUX_QP:11984,INSTAGRAM_MULTI_PLATFORM_CREATOR_EXPERIENCE_EDUCATION_NUX_QP:11982,WHATSAPP_FOR_IOS_STATUS_QP:9310,WHATSAPP_FOR_ANDROID_STATUS_QP:9311,WHATSAPP_FOR_WEB_STATUS_QP:9312,WHATSAPP_FOR_KAIOS_STATUS_QP:9313,WHATSAPP_MULTI_PLATFORM_STATUS_QP:9315,WHATSAPP_FOR_SMBA_STATUS_QP:10090,WHATSAPP_FOR_SMBI_STATUS_QP:10091,WHATSAPP_FOR_ANDROID_SURVEY_MESSAGE_QP:10418,WHATSAPP_FOR_IOS_SURVEY_MESSAGE_QP:10419,WHATSAPP_MULTI_PLATFORM_SURVEY_MESSAGE_QP:10420,WHATSAPP_FOR_SMBI_SURVEY_MESSAGE_QP:10661,WHATSAPP_FOR_SMBA_SURVEY_MESSAGE_QP:10662,WHATSAPP_FOR_IOS_CHAT_PSA_QP:10733,WHATSAPP_FOR_SMBI_CHAT_PSA_QP:10734,WHATSAPP_FOR_ANDROID_CHAT_PSA_QP:10735,WHATSAPP_FOR_SMBA_CHAT_PSA_QP:10736,WHATSAPP_MULTI_PLATFORM_CHAT_PSA_QP:10737,WHATSAPP_MULTI_PLATFORM_WA_INTRO_SHEETS_QP:11135,WHATSAPP_FOR_IOS_WA_INTRO_SHEETS_IOS_QP:11136,WHATSAPP_FOR_ANDROID_WA_INTRO_SHEETS_ANDROID_QP:11137,WHATSAPP_FOR_WEB_WA_INTRO_SHEETS_WEB_QP:11138,WHATSAPP_FOR_SMBA_WA_INTRO_SHEETS_SMBA_QP:11139,WHATSAPP_FOR_SMBI_WA_INTRO_SHEETS_SMBI_QP:11140,WHATSAPP_FOR_IOS_WA_BANNER_IOS_QP:11113,WHATSAPP_FOR_ANDROID_WA_BANNER_ANDROID_QP:11114,WHATSAPP_FOR_WEB_WA_BANNER_WEB_QP:11115,WHATSAPP_FOR_SMBA_WA_BANNER_SMBA_QP:11116,WHATSAPP_FOR_SMBI_WA_BANNER_SMBI_QP:11117,WHATSAPP_MULTI_PLATFORM_WA_BANNER_MULTIPLATFORM_QP:11118,WHATSAPP_FOR_ANDROID_CLIENT_PUSH_NOTIFICATION_QP:11389,WHATSAPP_FOR_IOS_CLIENT_PUSH_NOTIFICATION_QP:11387,WHATSAPP_MULTI_PLATFORM_CLIENT_PUSH_NOTIFICATION_QP:11388,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_FB_LOGGED_IN_CONSENT_SCREEN_QP:12026,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_FB_LOGGED_IN_CONSENT_SCREEN_QP:12025,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_FB_WEB_LOGIN_CONSENT_SCREEN_QP:12028,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_FB_WEB_LOGIN_CONSENT_SCREEN_QP:12027,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_WA_AD_ACCOUNT_EMAIL_SUBMIT_SCREEN_QP:12030,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_WA_AD_ACCOUNT_EMAIL_SUBMIT_SCREEN_QP:12029,WHATSAPP_FOR_SMBA_PUSH_NOTIFICATION_PSA_QP:11239,WHATSAPP_FOR_SMBI_PUSH_NOTIFICATION_PSA_QP:11240,WHATSAPP_FOR_ANDROID_PUSH_NOTIFICATION_PSA_QP:11231,WHATSAPP_FOR_IOS_PUSH_NOTIFICATION_PSA_QP:11233,WHATSAPP_MULTI_PLATFORM_PUSH_NOTIFICATION_PSA_QP:11232,WHATSAPP_MULTI_PLATFORM_SMB_BUSINESS_HOME_BANNER_QP:11250,WHATSAPP_FOR_SMBA_SMB_BUSINESS_HOME_BANNER_QP:11249,WHATSAPP_FOR_SMBI_SMB_BUSINESS_HOME_BANNER_QP:11251,WHATSAPP_FOR_SMBA_SMB_IN_CHAT_CARD_QP:12068,WHATSAPP_FOR_SMBI_SMB_IN_CHAT_CARD_QP:12066,WHATSAPP_FOR_SMB_WEB_SMB_IN_CHAT_CARD_QP:12067,WHATSAPP_MULTI_PLATFORM_SMB_IN_CHAT_CARD_QP:12065,FACEBOOK_MULTI_PLATFORM_TAB_RANKING_QP:8869,FACEBOOK_FOR_IOS_TAB_RANKING_QP:8895,FACEBOOK_FOR_ANDROID_TAB_RANKING_QP:8896,FBLITE_TAB_RANKING_QP:10227,FACEBOOK_WWW_TAB_RANKING_QP:10228,INSTAGRAM_FOR_IOS_FLOATING_BANNER_QP:8971,INSTAGRAM_FOR_ANDROID_FLOATING_BANNER_QP:8972,INSTAGRAM_MULTI_PLATFORM_FLOATING_BANNER_QP:8973,INSTAGRAM_FOR_IOS_EXPLORE_2X2_QP:9661,INSTAGRAM_FOR_ANDROID_EXPLORE_2X2_QP:9775,INSTAGRAM_MULTI_PLATFORM_EXPLORE_2X2_QP:9776,INSTAGRAM_MULTI_PLATFORM_RTC_PEEK_PROMOTION_QP:9650,INSTAGRAM_FOR_IOS_RTC_PEEK_PROMOTION_QP:9651,INSTAGRAM_FOR_ANDROID_RTC_PEEK_PROMOTION_QP:9643,FACEBOOK_MULTI_PLATFORM_SETTINGS_MEGAPHONE_QP:9265,FACEBOOK_FOR_IOS_SETTINGS_MEGAPHONE_QP:9318,FACEBOOK_FOR_ANDROID_SETTINGS_MEGAPHONE_QP:9319,FBLITE_SETTINGS_MEGAPHONE_QP:9320,FACEBOOK_MSITE_SETTINGS_MEGAPHONE_QP:9321,FACEBOOK_WWW_SETTINGS_MEGAPHONE_QP:10524,FACEBOOK_MULTI_PLATFORM_AP_PLUS_FEED_UNIT_QP:9575,FACEBOOK_FOR_IOS_AP_PLUS_FEED_UNIT_QP:9576,FACEBOOK_FOR_ANDROID_AP_PLUS_FEED_UNIT_QP:9577,FACEBOOK_WWW_AP_FEED_UNIT_QP:10500,INSTAGRAM_FOR_IOS_ACCOUNT_STATUS_HOME_QP:9698,INSTAGRAM_FOR_ANDROID_ACCOUNT_STATUS_HOME_QP:9699,INSTAGRAM_MULTI_PLATFORM_ACCOUNT_STATUS_HOME_QP:9700,MESSENGER_FOR_ANDROID_COMMUNITY_CHANNEL_LIST_BANNER_QP:9821,MESSENGER_FOR_IOS_COMMUNITY_CHANNEL_LIST_BANNER_QP:9829,MESSENGER_FOR_ANDROID_CM_CHANNEL_THREAD_VIEW_QP:10206,MESSENGER_LIGHTSPEED_FOR_IOS_CM_CHANNEL_THREAD_VIEW_QP:10226,MESSENGER_DESKTOP_COMMUNITY_MESSAGING_QP:10695,FACEBOOK_WWW_MESSENGER_COMMUNITY_MESSAGING_QP:10706,MESSENGER_FOR_ANDROID_BOTTOMSHEET_QP:10896,WEARABLE_APP_ANDROID_PUSH_NOTIFICATION_QP:10388,WEARABLE_APP_IOS_PUSH_NOTIFICATION_QP:10436,WEARABLE_APP_MULTI_PLATFORM_PUSH_NOTIFICATION_QP:10402,WEARABLE_APP_IOS_INTERNAL_TEST_MEGAPHONE_SURFACE_QP:10577,WEARABLE_APP_ANDROID_INTERNAL_TEST_INTERSTITIAL_SURFACE_QP:10582,WEARABLE_APP_ANDROID_MWA_HOME_BOTTOM_SHEET_QP:11981,WEARABLE_APP_IOS_MWA_HOME_BOTTOM_SHEET_QP:11980,WEARABLE_APP_MULTI_PLATFORM_MWA_HOME_BOTTOM_SHEET_QP:11979,WEARABLE_APP_IOS_AR_MWA_ALERT_HUB_IOS_QP:12022,WEARABLE_APP_MULTI_PLATFORM_AR_MWA_ALERT_HUB_IOS_QP:12021,WEARABLE_APP_ANDROID_AR_MWA_ALERT_HUB_IOS_QP:12061,WEARABLE_APP_ANDROID_MWA_HOME_CARD_QP:12126,WEARABLE_APP_IOS_MWA_HOME_CARD_QP:12125,WEARABLE_APP_MULTI_PLATFORM_MWA_HOME_CARD_QP:12124,FBLITE_SEARCH_GLYPH_QP:10375,FACEBOOK_MULTI_PLATFORM_TOOLTIP_NUX_QP:10628,FACEBOOK_FOR_IOS_TOOLTIP_QP:10495,FACEBOOK_FOR_ANDROID_TOOLTIP_NUX_QP:10502,FACEBOOK_WWW_TOOLTIP_QP:10707,FACEBOOK_MULTI_PLATFORM_BLOKS_TOOLTIP_QP:10643,FACEBOOK_FOR_IOS_BLOKS_TOOLTIP_QP:10642,FACEBOOK_FOR_ANDROID_BLOKS_TOOLTIP_QP:10641,FACEBOOK_FOR_IOS_REACT_NATIVE_TOOLTIP_QP:10721,FACEBOOK_FOR_ANDROID_REACT_NATIVE_TOOLTIP_QP:10722,FACEBOOK_MULTI_PLATFORM_REACT_NATIVE_TOOLTIP_QP:10724,FBLITE_TOOLTIP_QP:10653,FACEBOOK_FOR_ANDROID_DIALOG_QP:10492,FACEBOOK_FOR_IOS_DIALOG_QP:10487,FACEBOOK_FOR_ANDROID_BOTTOM_SHEET_QP:10548,FACEBOOK_FOR_IOS_BOTTOM_SHEET_QP:10664,FACEBOOK_MULTI_PLATFORM_BOTTOM_SHEET_QP:10665,FBLITE_BOTTOM_SHEET_QP:10690,WORKPLACE_FOR_IOS_BOTTOM_SHEET_QP:11060,WORKPLACE_MULTI_PLATFORM_BOTTOM_SHEET_QP:11061,FACEBOOK_MULTI_PLATFORM_AFFILIATE_CREATOR_SHOP_MANAGEMENT_POP_UP_DIALOG_QP:10543,FACEBOOK_MULTI_PLATFORM_ACSM_MEGAPHONE_QP:10547,FACEBOOK_WWW_ACSM_MEGAPHONE_QP:10554,FACEBOOK_WWW_AFFILIATE_CREATOR_SHOP_MANAGEMENT_POP_UP_DIALOG_QP:10556,FACEBOOK_FOR_ANDROID_MIB_INBOX_BANNER_QP:10555,FACEBOOK_FOR_IOS_INBOX_BANNER_QP:10557,FACEBOOK_FOR_ANDROID_MIB_THREAD_VIEW_BANNER_QP:10578,FACEBOOK_FOR_IOS_MIB_THREADVIEW_BANNER_QP:10576,FACEBOOK_FOR_IOS_MIB_INTERSTITIAL_QP:10962,FACEBOOK_FOR_ANDROID_MIB_INTERSTITIAL_QP:10991,FACEBOOK_WWW_COMMUNITY_MESSAGING_QP:10601,FACEBOOK_MULTI_PLATFORM_COMMUNITY_MESSAGING_QP:10606,FACEBOOK_FOR_ANDROID_COMMUNITY_MESSAGING_QP:10615,FACEBOOK_FOR_IOS_COMMUNITY_MESSAGING_QP:10616,FACEBOOK_MULTI_PLATFORM_GAMING_DESTINATION_WELCOME_MAT_QP:10645,FACEBOOK_FOR_IOS_GAMING_DESTINATION_WELCOME_MAT_IOS_QP:10657,FACEBOOK_FOR_ANDROID_GAMING_DESTINATION_WELCOME_MAT_ANDROID_QP:10658,FACEBOOK_MSITE_GAMING_DESTINATION_WELCOME_MAT_QP:10692,FACEBOOK_MULTI_PLATFORM_GAMING_IN_FEED_UNIT_QP:10676,FACEBOOK_FOR_ANDROID_GAMING_IN_FEED_UNIT_QP:10677,FACEBOOK_FOR_IOS_GAMING_IN_FEED_UNIT_QP:10678,FACEBOOK_MSITE_GAMING_IN_FEED_UNIT_QP:10714,FACEBOOK_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11041,FACEBOOK_FOR_ANDROID_LOGIN_INTERSTITIAL_QP:11042,FACEBOOK_FOR_IOS_LOGIN_INTERSTITIAL_QP:11043,FACEBOOK_WWW_LOGIN_INTERSTITIAL_QP:11493,FACEBOOK_MSITE_LOGIN_INTERSTITIAL_QP:11494,FBLITE_LOGIN_INTERSTITIAL_QP:11495,MESSENGER_DESKTOP_LOGIN_INTERSTITIAL_QP:11496,MESSENGER_FOR_WEB_LOGIN_INTERSTITIAL_QP:11498,INSTAGRAM_FOR_WEB_LOGIN_INTERSTITIAL_QP:11497,FACEBOOK_FOR_IOS_BOOKMARKS_SIDEPANEL_QP:12137,FACEBOOK_FOR_ANDROID_BOOKMARKS_SIDEPANEL_QP:12136,FACEBOOK_MULTI_PLATFORM_BOOKMARKS_SIDEPANEL_QP:12135,FACEBOOK_FOR_IOS_FEED_SUBNAV_QP:12052,FACEBOOK_FOR_ANDROID_FEED_SUBNAV_QP:12051,FACEBOOK_MULTI_PLATFORM_FEED_SUBNAV_QP:12050,QPSURFACE_FACEBOOK_FOR_IOS_NDX:10790,QPSURFACE_FACEBOOK_FOR_ANDROID_NDX:10836,FACEBOOK_WWW_CREATOR_STUDIO_BANNER_QP:10723,FACEBOOK_FOR_IOS_CONTEXTUAL_TRAY_UNIT_QP:10675,FACEBOOK_FOR_ANDROID_CONTEXTUAL_TRAY_UNIT_QP:10897,FACEBOOK_MULTI_PLATFORM_CONTEXTUAL_TRAY_UNIT_QP:10898,FACEBOOK_FOR_IOS_CREATORCOMPOSERSHAREBROADCASTCHANNELSETTINGNUX_QP:12049,FACEBOOK_FOR_ANDROID_CREATORCOMPOSERSHAREBROADCASTCHANNELSETTINGNUX_QP:12048,FACEBOOK_MULTI_PLATFORM_CREATORCOMPOSERSHAREBROADCASTCHANNELSETTINGNUX_QP:12047,FACEBOOK_FOR_ANDROID_AB_TESTING_NUX_BOTTOM_SHEET_QP:12070,FACEBOOK_FOR_IOS_AB_TESTING_NUX_BOTTOM_SHEET_QP:12071,FACEBOOK_MULTI_PLATFORM_AB_TESTING_NUX_BOTTOM_SHEET_QP:12069,FACEBOOK_FOR_ANDROID_SERVERDRIVENPROMPT_QP:11227,FACEBOOK_FOR_IOS_SERVERDRIVENPROMPT_QP:11225,FACEBOOK_MULTI_PLATFORM_SERVERDRIVENPROMPT_QP:11226,FACEBOOK_WWW_SERVER_DRIVEN_PROMPT_QP:11264,FBLITE_SERVER_DRIVEN_PROMPT_QP:11265,FACEBOOK_MSITE_SERVER_DRIVEN_PROMPT_QP:11266,WORKPLACE_FOR_ANDROID_SERVER_DRIVEN_PROMPT_QP:11267,WORKPLACE_FOR_IOS_SERVER_DRIVEN_PROMPT_QP:11268,WORKPLACE_MULTI_PLATFORM_SERVER_DRIVEN_PROMPT_QP:11269,MESSENGER_MULTI_PLATFORM_SERVER_DRIVEN_PROMPT_QP:11270,MESSENGER_FOR_ANDROID_SERVER_DRIVEN_PROMPT_QP:11271,MESSENGER_LIGHTSPEED_FOR_IOS_SERVER_DRIVEN_PROMPT_QP:11272,ADS_EVENTS_MANAGER_MULTI_PLATFORM_CC_EM_RULE_REQUIRED_FOR_CE_NUX_QP:11560,ADS_EVENTS_MANAGER_MULTI_PLATFORM_OFFLINE_CONSOLIDATION_UPSELL_QP:11561,ADS_EVENTS_MANAGER_MULTI_PLATFORM_OVERVIEW_PAGE_FEATURE_ONBOARDING_QP:11565,FACEBOOK_MULTI_PLATFORM_SEARCH_BAR_TOOLTIP:11564,FACEBOOK_MULTI_PLATFORM_WATCHLIST_MEGAPHONE_QP:11577,FACEBOOK_MULTI_PLATFORM_VIDEO_HOME_MEGAPHONE_QP:11572,FACEBOOK_MULTI_PLATFORM_TAB_BAR_EXTENSION_QP:11573,FACEBOOK_MULTI_PLATFORM_SURVEY_BOTTOM_SHEET_QP:11574,FACEBOOK_MULTI_PLATFORM_END_OF_FEED:11576,FACEBOOK_MULTI_PLATFORM_NEARBYFRIENDS_QP:11575,FACEBOOK_MULTI_PLATFORM_COMMUNITY_MESSAGING_IN_BLUE_THREAD_VIEW_BANNER_QP:11585,FACEBOOK_MULTI_PLATFORM_PROFILE_CONTEXTUAL_QP:11587,FACEBOOK_MULTI_PLATFORM_CREATOR_STUDIO_BANNER_QP:11586,FACEBOOK_MULTI_PLATFORM_COMMUNITIES_TAB_IN_MESSENGER_JEWEL_QP:11578,FACEBOOK_MULTI_PLATFORM_COMMERCE_MANAGER_CATALOG_SETS_TAB_QP:11579,FACEBOOK_MULTI_PLATFORM_CM_TAB_TOUR_POPOVER_QP:11580,FACEBOOK_MULTI_PLATFORM_PHOTO_BREADCRUMB_QP:11581,FACEBOOK_MULTI_PLATFORM_MODAL_DIALOG_QP:11582,FACEBOOK_MULTI_PLATFORM_COMMENT_BREADCRUMB_QP:11583,FACEBOOK_MULTI_PLATFORM_BROWSER_PERMISSION_QP:11584,FACEBOOK_MULTI_PLATFORM_END_CALL_INTERSTITIAL_QP:11589,FACEBOOK_MULTI_PLATFORM_BOOKMARKS:11599,FACEBOOK_MULTI_PLATFORM_MESSENGER_CALL_VIEW_QP:11588,FACEBOOK_MULTI_PLATFORM_WEBVIEW_BANNER_QP:11607,FACEBOOK_MULTI_PLATFORM_SEARCH_RESULT_MODULES_QP:11598,FACEBOOK_MULTI_PLATFORM_MEDIA_SERP_MEGAPHONE_QP:11597,FACEBOOK_MULTI_PLATFORM_EVENTS_GUESTLIST_QP:11596,FACEBOOK_MULTI_PLATFORM_THREAD_VIEW_BANNER_QP:11595,FACEBOOK_MULTI_PLATFORM_SEARCH_GLYPH_QP:11606,FACEBOOK_MULTI_PLATFORM_MESSENGER_MEGAPHONE_QP:11594,FACEBOOK_MULTI_PLATFORM_SIDEBAR_CONTACTS_BUCKET_QP:11593,FACEBOOK_MULTI_PLATFORM_RHC_QP:11604,FACEBOOK_MULTI_PLATFORM_PUBLIC_CHAT_NUX_QP:11603,FACEBOOK_MULTI_PLATFORM_PAGE_ADMIN_HOME_QP:11592,FACEBOOK_MULTI_PLATFORM_SMS_NOTIFICATION_QP:11591,FACEBOOK_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11602,FACEBOOK_MULTI_PLATFORM_MESSAGING_JEWEL_BANNER_QP:11601,FACEBOOK_MULTI_PLATFORM_GROUPS_RIGHT_HAND_COLUMN_QP:11600,FACEBOOK_MULTI_PLATFORM_CHAT_TAB_BANNER_QP:11590,FACEBOOK_MULTI_PLATFORM_DIODE_ROADBLOCK_QP:11625,FACEBOOK_MULTI_PLATFORM_QP_BANNER:11624,FACEBOOK_MULTI_PLATFORM_QP_STICKY_HEADER:11622,FACEBOOK_MULTI_PLATFORM_JEWEL_HEADER_QP:11621,FACEBOOK_MULTI_PLATFORM_JEWEL_INTERSTITIAL_QP:11620,FACEBOOK_MULTI_PLATFORM_LOGGEDOUT_INTERSTITIAL:11619,FACEBOOK_MULTI_PLATFORM_LOGIN_BANNER_QP:11618,FACEBOOK_MULTI_PLATFORM_PHOTO_OPEN_INTERSTITIAL_QP:11617,FACEBOOK_MULTI_PLATFORM_PP_MEGAPHONE_QP:11616,FACEBOOK_MULTI_PLATFORM_JEWEL_QP:11615,FACEBOOK_MULTI_PLATFORM_TOPIC_FEEDS_MEGAPHONE_QP:11614,MESSENGER_MULTI_PLATFORM_CALL_TAB_QP:11613,MESSENGER_MULTI_PLATFORM_ARMADILLO_THREAD_TOP_BANNER_QP:11612,MESSENGER_MULTI_PLATFORM_MSYS_THREAD_VIEW_SURFACE_QP:11610,MESSENGER_MULTI_PLATFORM_NEW_THREAD_NUX:11609,MESSENGER_MULTI_PLATFORM_MSYS_INTERSTITIAL_SURFACE_QP:11608,MESSENGER_MULTI_PLATFORM_BOTTOMSHEET_QP:11626,MESSENGER_MULTI_PLATFORM_CM_CHANNEL_CHAT_TAB_THREAD_QP:11623,MESSENGER_MULTI_PLATFORM_BUSINESS_SUPPORT_FOLDER_THREAD_LIST_BANNER_QP:11627,MESSENGER_MULTI_PLATFORM_MSYS_THREAD_LIST_SURFACE_QP:11630,MESSENGER_MULTI_PLATFORM_RECENT_THREAD_LIST_QP:11631,MESSENGER_MULTI_PLATFORM_INBOX_THREAD_LIST_BANNER_QP:11641,MESSENGER_MULTI_PLATFORM_ME_SETTINGS_BANNER_QP:11632,MESSENGER_MULTI_PLATFORM_NULL_STATE_SEARCH_HEADER_BANNER_QP:11633,PAGES_MANAGER_MULTI_PLATFORM_MEGAPHONE_QP:11642,WORKCHAT_MULTI_PLATFORM_CALL_LOG_SURFACE_QP:11634,WORKCHAT_MULTI_PLATFORM_WORKSPEED_INBOX_BANNER_QP:11643,WORKCHAT_MULTI_PLATFORM_BANNER_QP:11635,COMMERCE_MANAGER_MULTI_PLATFORM_CATALOG_UI_QP:11636,INTERNAL_TOOL_MULTI_PLATFORM_QP:11637,INTERNAL_TOOL_MULTI_PLATFORM_QP_DASH_QP:11638,INSTAGRAM_MULTI_PLATFORM_DIRECT_INTERSTITIAL_QP:11647,INSTAGRAM_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11644,INTERNET_ORG_MULTI_PLATFORM_FBSV2_MEGAPHONE_FOR_LOGGED_OUT_USERS_QP:11639,FACEBOOK_MULTI_PLATFORM_FEED_PYMK_QP:11648,FACEBOOK_MULTI_PLATFORM_MESSAGES_INTERSTITIAL_QP:11649,FACEBOOK_MULTI_PLATFORM_SEARCH_NULL_STATE_MEGAPHONE_QP:11650,FACEBOOK_MULTI_PLATFORM_BIRTHDAY_STORY_SUNSET_QP:11651,FACEBOOK_MULTI_PLATFORM_DATING_MESSAGE_INBOX_QP:11652,FACEBOOK_MULTI_PLATFORM_DATING_MESSAGE_THREAD_QP:11653,FACEBOOK_MULTI_PLATFORM_DIALOG_QP:11654,FACEBOOK_MULTI_PLATFORM_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11655,FACEBOOK_MULTI_PLATFORM_INBOX_BANNER_QP:11656,FACEBOOK_MULTI_PLATFORM_MIB_INTERSTITIAL_QP:11657,FACEBOOK_MULTI_PLATFORM_MIB_THREADVIEW_BANNER_QP:11658,FACEBOOK_MULTI_PLATFORM_TAB_PROMOTION_QP:11659,FACEBOOK_MULTI_PLATFORM_WORDMARK_QP:11660,FACEBOOK_MULTI_PLATFORM_SAVE_DASHBOARD_MEGAPHONE_QP:11661,MESSENGER_MULTI_PLATFORM_THREAD_VIEW_QP:11662,MESSENGER_MULTI_PLATFORM_COMMUNITY_MESSAGING_QP:11663,MESSENGER_MULTI_PLATFORM_INTERSTITIAL_QP:11664,WORKPLACE_MULTI_PLATFORM_GROUP_FEED_FOOTER:11646,INTERNET_ORG_MULTI_PLATFORM_WEB_INTERSITIAL:11645,WORKPLACE_MULTI_PLATFORM_NOTES_QP:11629,WORKPLACE_MULTI_PLATFORM_PROFILE_QP:11640,MESSENGER_MULTI_PLATFORM_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:11668,MESSENGER_MULTI_PLATFORM_CM_CHANNEL_THREAD_VIEW_QP:11669,MESSENGER_MULTI_PLATFORM_COMMUNITY_CHANNEL_LIST_BANNER_QP:11670,MESSENGER_MULTI_PLATFORM_DISCOVER_TAB_QP:11671,MESSENGER_MULTI_PLATFORM_FRIENDS_TAB_MEGAPHONE_QP:11672,MESSENGER_MULTI_PLATFORM_THREAD_LIST_QP:11673,MESSENGER_MULTI_PLATFORM_RTC_PEEK_PROMOTION_QP:11674,MESSENGER_MULTI_PLATFORM_SEARCH_NULL_STATE_SURFACE_QP:11675,PAGES_MANAGER_MULTI_PLATFORM_INTERSTITIAL_QP:11676,PAGES_MANAGER_MULTI_PLATFORM_REACT_NATIVE_MEGAPHONE_QP:11677,WORKCHAT_MULTI_PLATFORM_INTERSTITIAL_QP:11678,WORKCHAT_MULTI_PLATFORM_THREAD_LIST_QP:11679,INTERNET_ORG_MULTI_PLATFORM_MEGAPHONE_QP:11680,WORKPLACE_MULTI_PLATFORM_TAB_INTERSTITIAL_QP:11682,WORKPLACE_MULTI_PLATFORM_STICKY_HEADER_BANNER_QP:11628,WORKPLACE_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11665,WORKPLACE_MULTI_PLATFORM_RHC_QP:11666,WORKPLACE_MULTI_PLATFORM_ONBOARDING_CARD_QP:11667,WEARABLE_APP_MULTI_PLATFORM_INTERNAL_TEST_INTERSTITIAL_SURFACE_QP:11681,WEARABLE_APP_MULTI_PLATFORM_INTERNAL_TEST_MEGAPHONE_SURFACE_QP:11683,FACEBOOK_MULTI_PLATFORM_QPSURFACE_NDX:11690,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:10466,FACEBOOK_FOR_IOS_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:11705,FACEBOOK_FOR_ANDROID_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:11706,FACEBOOK_FOR_WWW_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:11707,FACEBOOK_FOR_IOS_UXU_PLAYER_EDUCATION_NUX_QP:11986,FACEBOOK_MULTI_PLATFORM_UXU_PLAYER_EDUCATION_NUX_QP:11985,FACEBOOK_FOR_ANDROID_UXU_PLAYER_EDUCATION_NUX_ANDROID_QP:12007,FACEBOOK_MULTI_PLATFORM_UXU_PLAYER_EDUCATION_NUX_ANDROID_QP:12006,FACEBOOK_FOR_IOS_UXU_PLAYER_EDUCATION_RESHARE_NUX_QP:12020,FACEBOOK_MULTI_PLATFORM_UXU_PLAYER_EDUCATION_RESHARE_NUX_QP:12019,MESSENGER_MULTI_PLATFORM_AVATAR_STICKER_TRAY_QP:12055,MESSENGER_LIGHTSPEED_FOR_IOS_AVATAR_STICKER_TRAY_QP:12056,MESSENGER_FOR_ANDROID_AVATAR_STICKER_TRAY_QP:12057,FACEBOOK_FOR_ANDROID_EXPLORE_MEGAPHONE_QP:12098,FACEBOOK_FOR_IOS_EXPLORE_MEGAPHONE_QP:12097,FACEBOOK_MULTI_PLATFORM_EXPLORE_MEGAPHONE_QP:12096,FACEBOOK_FOR_IOS_MARKETPLACE_PROMOTIONAL_UNIT_QP:12113,FACEBOOK_FOR_ANDROID_MARKETPLACE_PROMOTIONAL_UNIT_QP:12112,FBLITE_MARKETPLACE_PROMOTIONAL_UNIT_QP:12111,FACEBOOK_WWW_MARKETPLACE_PROMOTIONAL_UNIT_QP:12110,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_PROMOTIONAL_UNIT_QP:12109,FACEBOOK_WWW_LWI_ADS_CREATION_TOOLTIP_QP:12134,FACEBOOK_MULTI_PLATFORM_LWI_ADS_CREATION_TOOLTIP_QP:12133});f["default"]=a}),66);
__d("enumUtils",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return Object.values(b).find(function(b){return b===a})}function a(a,b){return a==null?null:h(a,b)}function i(a,b){if(a!=null){b=Object.keys(b);for(var c=0;c<b.length;c++){var d=b[c];if(d===a)return d}}return null}function j(a,b){return c("nullthrows")(h(a,b))}function b(a,b){return c("nullthrows")(i(a,b))}function d(a,b){var c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.push(j(f,b))}return c}function k(a,b){return(b=b[a])!=null?b:null}function l(a,b){return c("nullthrows")(k(a,b))}function e(a,b){var c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.push(l(f,b))}return c}function m(a,b){var c;Object.keys(b).forEach(function(d){b[d]===a&&(c=d)});return c}function f(a,b){return c("nullthrows")(m(a,b))}g.coerce=h;g.coerceNullable=a;g.coerceKey=i;g.assert=j;g.assertKey=b;g.assertIterable=d;g.coerceFromKey=k;g.assertFromKey=l;g.assertIterableFromKey=e;g.enumValueToKey=m;g.enumValueToKeyEnforcing=f}),98);
__d("QuickPromotionIGWebBatchFetch",["CometRelay","PolarisRelayEnvironment","QuickPromotionIGWebBatchFetchQuery.graphql","QuickPromotionNuxID","enumUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=h!==void 0?h:h=b("QuickPromotionIGWebBatchFetchQuery.graphql");a=Object.keys(a).map(function(a){return d("enumUtils").enumValueToKey(Number(a),c("QuickPromotionNuxID"))}).filter(Boolean);return d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),e,{scale:window.devicePixelRatio,surface_nux_ids:a}).toPromise().then(function(a){var b=[];a==null?void 0:a.xfb_quick_promotion_batch_fetch_root.forEach(function(a){var d;b.push({data:{viewer:(d=a)!=null?d:{}},surface:c("QuickPromotionNuxID")[String(a.surface_nux_id)]})});a=JSON.parse(JSON.stringify(b));a={client_cache_ttl_in_sec:7200,qp_data:a,request_status:"SUCCESS"};return a})}g.fetchBatchQuickPromotionsIGWWWMigration=a}),98);
__d("PolarisAPIFetchBatchQuickPromotions",["CometRelay","PolarisAPIFetchBatchQuickPromotionsDirectQuery.graphql","PolarisAPIFetchBatchQuickPromotionsQuery.graphql","PolarisIGBloksVersioning","PolarisInstapi","PolarisRelayEnvironment","QuickPromotionIGWebBatchFetch","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f){f===void 0&&(f=!1);if(f)return d("QuickPromotionIGWebBatchFetch").fetchBatchQuickPromotionsIGWWWMigration(a);return c("justknobx")._("696")?d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),c("gkx")("1746")?h!==void 0?h:h=b("PolarisAPIFetchBatchQuickPromotionsDirectQuery.graphql"):i!==void 0?i:i=b("PolarisAPIFetchBatchQuickPromotionsQuery.graphql"),{request_data:{bloks_versioning_id:d("PolarisIGBloksVersioning").BLOKS_VERSIONING_ID},scale:window.devicePixelRatio.toString(),surfaces_to_queries:JSON.stringify(a),vc_policy:"default",version:"1"}).toPromise().then(function(a){var b,c;a=a==null?void 0:a.xdt_qp_batch_fetch;b=JSON.parse(JSON.stringify((b=a==null?void 0:a.qp_data)!=null?b:{}));return{client_cache_ttl_in_sec:(c=a==null?void 0:a.client_cache_ttl_in_sec)!=null?c:0,qp_data:b,request_status:(c=a==null?void 0:a.request_status)!=null?c:""}}):d("PolarisInstapi").apiPost("/api/v1/web/qp/batch_fetch_web/",{body:{bloks_versioning_id:d("PolarisIGBloksVersioning").BLOKS_VERSIONING_ID,scale:window.devicePixelRatio,surfaces_to_queries:JSON.stringify(a),vc_policy:"default",version:"1"}},{before:e}).then(function(a){return a.data})}g.fetchBatchQuickPromotions=a}),98);
__d("PolarisFXAccountCenterStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__buI4XBgPKRM__JHASH__");b=h._("__JHASH__IhG6IEDvRHF__JHASH__");c=h._("__JHASH__j6RcJiR64m2__JHASH__");d=h._("__JHASH__XymQ6kfGzPB__JHASH__");e=h._("__JHASH__N0LG57sTHmM__JHASH__");f=h._("__JHASH__JxIeqdqANEr__JHASH__");var i=h._("__JHASH__EL0axImkaaX__JHASH__"),j=h._("__JHASH___zWiNawsGSc__JHASH__"),k=h._("__JHASH__wwdRalwJS8u__JHASH__"),l=h._("__JHASH__W5CnltWagSo__JHASH__"),m=h._("__JHASH__4MURzWo1mfx__JHASH__"),n=h._("__JHASH__1PENo_IyZJr__JHASH__"),o=h._("__JHASH__uHixieV-FQL__JHASH__"),p=h._("__JHASH__2Qm7AiPyePC__JHASH__");h=h._("__JHASH__oXgFN78Xuce__JHASH__");g.ACCOUNT_CENTER_DIALOG_TITLE=a;g.WATERMARK_FAMILY_APPS_LOGO_ALT=b;g.ACCOUNT_CENTER_DESCRIPTION=c;g.DISCLOSURE_PAGE_TITLE=d;g.ACCOUNT_CENTER_ALT_TEXT_LOCK=e;g.ACCOUNT_CENTER_ALT_TEXT_SHIELD=f;g.ACCOUNT_CENTER_ALT_TEXT_ADS=i;g.ACCOUNT_CENTER_ALT_TEXT_ADS_PAYMENTS=j;g.ACCOUNT_CENTER_DESCRIPTION_NEW_APP_IA=k;g.ACCOUNT_CENTER_SEE_MORE_TEXT=l;g.ACCOUNT_CENTER_PERSONAL_DETAILS_TEXT=m;g.ACCOUNT_CENTER_PASSWORD_AND_SECURITY_TEXT=n;g.ACCOUNT_CENTER_AD_PREFERENCES_TEXT=o;g.ACCOUNT_CENTER_AD_PREFERENCES_WITH_AFS_TEXT=p;g.ACCOUNT_CENTER_ADS_PAYMENTS_TEXT=h}),226);
__d("polarisQPFbql",[],(function(a,b,c,d,e,f){"use strict";a="viewer() {\n    eligible_promotions.ig_parameters(<ig_parameters>).surface_nux_id(<surface>).external_gating_permitted_qps(<external_gating_permitted_qps>) {\n      edges {\n        priority,\n        time_range {\n          start,\n          end\n        },\n        node {\n          id,\n          promotion_id,\n          max_impressions,\n          triggers,\n          logging_data,\n          template {\n            name,\n            parameters {\n              name,\n              string_value\n            }\n          },\n          creatives {\n            title {\n              text\n            },\n            content {\n              text\n            },\n            footer {\n              text\n            },\n            social_context {\n              text\n            },\n            primary_action{\n              title {\n                text\n              },\n              url,\n              limit,\n              dismiss_promotion\n            },\n            secondary_action{\n              title {\n                text\n              },\n              url,\n              limit,\n              dismiss_promotion\n            },\n            dismiss_action{\n              title {\n                text\n              },\n              url,\n              limit,\n              dismiss_promotion\n            },\n            bullet_list{\n              title,\n              subtitle,\n              icon {\n                uri,\n                width,\n                scale\n              }\n            },\n            image {\n              uri\n            }\n          }\n        }\n      }\n    }\n\n}";f["default"]=a}),66);
__d("PolarisQPActions",["PolarisAPIFetchBatchQuickPromotions","PolarisInstajax","PolarisMonitorErrors","PolarisQPConstants","gkx","nullthrows","polarisQPFbql"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b;(b=h)==null?void 0:b.abort==null?void 0:b.abort();h=a}function a(a){return function(b){var e=a.reduce(function(a,b){a[b]=c("polarisQPFbql");return a},{});b({surfaceParams:a,type:"FETCH_QP_REQUESTED"});var f=c("gkx")("1891");return d("PolarisAPIFetchBatchQuickPromotions").fetchBatchQuickPromotions(e,i,f).then(function(e){if(!e||!e.qp_data){b({surfaceParams:a,type:"FETCH_QP_FAILED"});return}var g={};f?e.qp_data.forEach(function(a){var b=a.data;g[a.surface]=b?c("nullthrows")(b.viewer.eligible_promotions.edges.filter(function(b){return a.surface===parseInt(d("PolarisQPConstants").SURFACES.PAGE_TOP,10)?b.node.bloks_view_v2!==null:!0}).map(function(b){b.node.bloks_view_v2&&(b.node.bloks_view_v2.component.bundle.bloks_bundle_tree=JSON.parse(b.node.bloks_view_v2.component.bundle.bloks_bundle_tree));var c=b.node.logging_data;c=c?JSON.parse(c):void 0;return babelHelpers["extends"]({},b.node,{logging_data:c,surface_id:a.surface})})):[]}):e.qp_data.forEach(function(a){var b=a.data;g[a.surface]=b?c("nullthrows")(b.viewer.eligible_promotions.edges.map(function(b){var c=b.node.logging_data;c=c?JSON.parse(c):void 0;return babelHelpers["extends"]({},b.node,{logging_data:c,surface_id:a.surface})})):[]});b({promotions:g,type:"FETCH_QP_SUCCEEDED"})},function(c){b({surfaceParams:a,type:"FETCH_QP_FAILED"}),c instanceof d("PolarisInstajax").AjaxError||d("PolarisMonitorErrors").logError(c)})}}function b(a){return function(b){b({feedFilter:a,type:"SET_FEED_QP_FILTERS"})}}function e(){return{type:"SET_QP_DISMISSED"}}g.fetchBatchQuickPromotionAction=a;g.setFeedPageFilter=b;g.dismissQP=e}),98);
__d("PolarisQPContainer.react",["PolarisLogger","PolarisQPConstants","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$4=function(){c.$3(d("PolarisQPConstants").OBJECT_IDS.primary)},c.$5=function(){c.$3(d("PolarisQPConstants").OBJECT_IDS.secondary)},c.$6=function(){c.$3(d("PolarisQPConstants").OBJECT_IDS.dismiss)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$1=function(){var a=this.props,b=a.promotionId;a=a.surfaceId;return{nux_id:c("nullthrows")(a),promotion_id:b}};e.componentDidMount=function(){this.props.component&&this.$2()};e.$3=function(a){var b=this.$1();d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.click,babelHelpers["extends"]({object_id:a},b))};e.$2=function(){d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.view,this.$1())};e.render=function(){var a=this.props.component,b=this.props,c=b.body,d=b.bulletList,e=b.dismissAction,f=b.image,g=b.imageSize,h=b.parameters,j=b.primaryAction,k=b.refetchPromotions,l=b.secondaryAction;b=b.title;return a!=null&&i.jsx(a,{body:c,bulletList:d,dismissAction:e,image:f,imageSize:g,onDismissButtonClick:this.$6,onPrimaryButtonClick:this.$4,onSecondaryButtonClick:this.$5,parameters:h,primaryAction:j,refetchPromotions:k,secondaryAction:l,title:b})};return b}(i.PureComponent);g["default"]=a}),98);
__d("PolarisQPFetaAccountAutoMigrationDialog.react",["FXFetaAccountAutoMigrationDialog.entrypoint","react","useIGDSEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c;b=i;var k=h||(h=c("react")),l=b.useEffect,m=b.useRef;function a(){var a=j(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){return k.jsx("div",{})},a[0]=b):b=a[0];b=c("useIGDSEntryPointDialog")(c("FXFetaAccountAutoMigrationDialog.entrypoint"),{},void 0,b);var d=b[0],e=m(!1),f;a[1]!==d?(b=function(){e.current===!1&&(e.current=!0,d({}))},f=[d],a[1]=d,a[2]=b,a[3]=f):(b=a[2],f=a[3]);l(b,f);return null}g["default"]=a}),98);
__d("PolarisQPStandardMegaphone.react",["cx","IGDSBox.react","InstagramODS","PolarisIGCoreButton.react","PolarisQPHelperModule.react","PolarisReactRedux.react","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function l(a){var b=j(13),d=a.action,e=a.isPrimary;a=a.onClick;var f=e?2:3,g=!e,h=!e,i;b[0]!==e||b[1]!==h?(i=(e?"_a9_v":"")+(h?" _a9_w":""),b[0]=e,b[1]=h,b[2]=i):i=b[2];b[3]!==i?(e={__className:i},b[3]=i,b[4]=e):e=b[4];b[5]!==g||b[6]!==e||b[7]!==a||b[8]!==d.title.text?(h=k.jsx(c("PolarisIGCoreButton.react"),{borderless:g,dangerouslySetClassName:e,fullWidth:!0,onClick:a,children:d.title.text}),b[5]=g,b[6]=e,b[7]=a,b[8]=d.title.text,b[9]=h):h=b[9];b[10]!==f||b[11]!==h?(i=k.jsx(c("IGDSBox.react"),{marginTop:f,position:"relative",children:h}),b[10]=f,b[11]=h,b[12]=i):i=b[12];return i}b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hideMegaphone:!1},c.$1=function(a,b,d){b===void 0&&(b=!0),b&&c.setState({hideMegaphone:!0}),a&&a(d)},c.$2=function(a){a.preventDefault(),c.$1(c.props.onDismissButtonClick,!0,a)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){c("InstagramODS").incr("web.notifications.react_qp_render")};e.render=function(){if(this.props.showCookieModal===!0||this.state.hideMegaphone)return null;var a=this.props,b=a.body,e=a.dismissAction,f=a.image,g=a.title;a=a.type;return k.jsx(c("IGDSBox.react"),{marginBottom:d("PolarisUA").isMobile()?0:8,position:"relative",children:k.jsx("section",{className:"_a9_x"+(a==="loggedOut"?" _a9_y":"")+(a==="loggedInHalfSheet"?" _a9_z":""),children:k.jsxs("div",{className:"_a9_-",children:[k.jsx(d("PolarisQPHelperModule.react").QPDismiss,{className:"_a9__",dismissAction:e,onClick:this.$2}),k.jsxs("div",{className:"_aa00",children:[k.jsx(d("PolarisQPHelperModule.react").QPImage,{className:"_aa01",image:f,size:this.props.imageSize}),k.jsxs("span",{className:"_aa02",children:[k.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_aa03",text:g}),k.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_aa04",text:b})]}),k.jsxs("span",{className:"_aa05",children:[k.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:l,callback:this.$1,onPrimaryButtonClick:this.props.onPrimaryButtonClick,primaryAction:this.props.primaryAction,type:"primary"}),k.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:l,callback:this.$1,onSecondaryButtonClick:this.props.onSecondaryButtonClick,secondaryAction:this.props.secondaryAction,type:"secondary"})]})]})]})})})};return b}(k.Component);b.defaultProps={type:"default"};function a(a){return{showCookieModal:a.cookieModal.visible}}e=d("PolarisReactRedux.react").connect(a)(b);g._QPStandardMegaphone=b;g.QPStandardMegaphone=e}),98);
__d("PolarisQPFooterBanner.react",["PolarisQPStandardMegaphone.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(11),c=a.body,e=a.dismissAction,f=a.image,g=a.imageSize,h=a.onDismissButtonClick,k=a.onPrimaryButtonClick,l=a.onSecondaryButtonClick,m=a.primaryAction,n=a.secondaryAction;a=a.title;var o;b[0]!==c||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==h||b[5]!==k||b[6]!==l||b[7]!==m||b[8]!==n||b[9]!==a?(o=j.jsx(d("PolarisQPStandardMegaphone.react").QPStandardMegaphone,{body:c,dismissAction:e,image:f,imageSize:g,onDismissButtonClick:h,onPrimaryButtonClick:k,onSecondaryButtonClick:l,primaryAction:m,secondaryAction:n,title:a,type:"loggedOut"}),b[0]=c,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=a,b[10]=o):o=b[10];return o}g["default"]=a}),98);
__d("PolarisQPFullscreenBulletListInterstitial.react",["cx","fbt","IGDSAdPanoOutline24Icon.react","IGDSIconButton.react","IGDSLicensingPanoOutline24Icon.react","IGDSMetaLogoPrimaryIcon.react","IGDSPaymentsPanoOutline24Icon.react","IGDSShieldPanoOutlineIcon.react","IGDSUserCirclePanoOutlineIcon.react","IGDSUsersPanoOutline24Icon.react","IGDSXPanoOutlineIcon.react","PolarisFXAccountCenterStrings","PolarisFastLink.react","PolarisGenericStrings","PolarisQPHelperModule.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hideInterstitial:!1},c.$2=function(a){a.preventDefault(),c.$1(c.props.onDismissButtonClick,!0,a)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$1=function(a,b,c){b===void 0&&(b=!0),b&&(this.setState({hideInterstitial:!0}),this.props.refetchPromotions!=null&&this.props.refetchPromotions()),a&&a(c)};e.render=function(){var a;if(this.state.hideInterstitial)return null;var b=this.props.bulletList,e=[k.jsx(c("IGDSUserCirclePanoOutlineIcon.react"),{alt:i._("__JHASH__y2HYsl1GNm7__JHASH__"),color:"ig-primary-text",size:24},"user-circle-pano"),k.jsx(c("IGDSUsersPanoOutline24Icon.react"),{alt:i._("__JHASH__5GiTGGdhiYp__JHASH__"),color:"ig-primary-text",size:24},"users-pano"),k.jsx(c("IGDSShieldPanoOutlineIcon.react"),{alt:i._("__JHASH__Qw9kmMLG_Gv__JHASH__"),color:"ig-primary-text",size:24},"shield-pano"),k.jsx(c("IGDSLicensingPanoOutline24Icon.react"),{alt:i._("__JHASH__d33W1S_cGn-__JHASH__"),color:"ig-primary-text",size:24},"licensing-pano"),k.jsx(c("IGDSAdPanoOutline24Icon.react"),{alt:i._("__JHASH__Pj6SzNnXKmq__JHASH__"),color:"ig-primary-text",size:24},"ad-pano"),k.jsx(c("IGDSPaymentsPanoOutline24Icon.react"),{alt:i._("__JHASH__JQIo63LcK61__JHASH__"),color:"ig-primary-text",size:24},"payments-pano")];return k.jsx("div",{className:"_a9-g",children:k.jsxs("div",{className:"_a9-h",children:[k.jsx("div",{className:"_a9-i",children:k.jsx(c("IGDSIconButton.react"),{onClick:this.$2,padding:0,children:k.jsx(c("IGDSXPanoOutlineIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:16})})}),k.jsx("div",{className:"_a9-j",children:k.jsx(c("IGDSMetaLogoPrimaryIcon.react"),{alt:d("PolarisFXAccountCenterStrings").WATERMARK_FAMILY_APPS_LOGO_ALT,color:"ig-primary-text",size:60})}),k.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9-k",text:this.props.title}),k.jsx("div",{className:"_a9-l",children:k.jsxs("p",{className:"_a9-m",children:[(a=this.props.body)==null?void 0:a.text," ",k.jsx(c("PolarisFastLink.react"),{className:"_a9-n",href:(a=this.props.secondaryAction)==null?void 0:a.url,target:"_blank",children:(a=this.props.secondaryAction)==null?void 0:a.title.text})]})}),b!=null?k.jsx("ul",{children:b.map(function(a,b){return k.jsxs("li",{className:"_a9-o",children:[e[b],k.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9-p",text:{text:a.title}})]},a.title)})}):null]})})};return b}(k.Component);g["default"]=a}),226);
__d("PolarisQPFullscreenInterstitial.react",["cx","IGDSBox.react","IGDSIconButton.react","IGDSXPanoOutlineIcon.react","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisQPHelperModule.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));a=i;a.useCallback;var k=a.c;function l(a){var b=k(6),d=a.action,e=a.isPrimary,f=a.onClick;b[0]!==f?(a=function(a){f(),a.preventDefault()},b[0]=f,b[1]=a):a=b[1];a=a;e=!e;var g;b[2]!==e||b[3]!==a||b[4]!==d.title.text?(g=j.jsx(c("PolarisIGCoreButton.react"),{borderless:e,fullWidth:!0,onClick:a,children:d.title.text}),b[2]=e,b[3]=a,b[4]=d.title.text,b[5]=g):g=b[5];return g}b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hideInterstitial:!1},c.$1=function(a,b,d){b===void 0&&(b=!0),b&&c.setState({hideInterstitial:!0}),a&&a(d)},c.$2=function(a){a.preventDefault(),c.$1(c.props.onDismissButtonClick,!0,a)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){return this.state.hideInterstitial?null:j.jsx("div",{className:"_a9_4",children:j.jsxs("div",{className:"_a9_5",children:[j.jsx("div",{className:"_aqt-",children:j.jsx(c("IGDSIconButton.react"),{onClick:this.$2,padding:0,children:j.jsx(c("IGDSXPanoOutlineIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:16})})}),j.jsx(d("PolarisQPHelperModule.react").QPImage,{className:"_a9_6",image:this.props.image,size:this.props.imageSize}),j.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9_7",text:this.props.title}),j.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9_8",text:this.props.body}),j.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:l,callback:this.$1,onPrimaryButtonClick:this.props.onPrimaryButtonClick,primaryAction:this.props.primaryAction,type:"primary"}),j.jsx(c("IGDSBox.react"),{margin:2,position:"relative",children:j.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:l,callback:this.$1,onSecondaryButtonClick:this.props.onSecondaryButtonClick,secondaryAction:this.props.secondaryAction,type:"secondary"})})]})})};return b}(j.Component);g["default"]=b}),98);
__d("PolarisQPHelpers",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(!a)return null;a=a.find(function(a){return a.name===b});return a==null?void 0:a.string_value}function b(a,b){if(!a)return null;a=a.find(function(a){return a.name===b});switch(a==null?void 0:a.string_value){case"top":return"top";default:return null}}f.getQPParameter=a;f.getQPArrowPositionParameter=b}),66);
__d("PolarisQPManager.react",["cr:4467"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:4467")}),98);
__d("PolarisQPStandardDialog.react",["IGCoreDialog.react","IGRouter_DO_NOT_USE.react","PolarisIGCoreDialogCircleMedia","PolarisQPHelperModule.react","browserHistory_DO_NOT_USE","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hideDialog:!1},c.$3=function(a){c.props.primaryAction&&(c.$2(c.props.primaryAction),c.props.onPrimaryButtonClick&&c.props.onPrimaryButtonClick(a))},c.$4=function(a){c.props.secondaryAction&&(c.$2(c.props.secondaryAction),c.props.onSecondaryButtonClick&&c.props.onSecondaryButtonClick(a))},c.$5=function(){c.props.dismissAction&&(c.$1(),c.props.onDismissButtonClick&&c.props.onDismissButtonClick())},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$1=function(){this.setState({hideDialog:!0})};e.$2=function(a){a.dismiss_promotion&&this.$1();if(a.url){var b=d("PolarisQPHelperModule.react").getQPDeepLinkUrl(a.url);!c("isStringNullOrEmpty")(b)?this.props.history.push(b):d("browserHistory_DO_NOT_USE").redirect(a.url)}};e.render=function(){if(this.state.hideDialog)return null;var a=this.props,b=a.body,e=a.image,f=a.imageSize,g=a.primaryAction,h=a.secondaryAction;a=a.title;e=i.jsx(c("PolarisIGCoreDialogCircleMedia"),{icon:i.jsx(d("PolarisQPHelperModule.react").QPImage,{image:e,size:f})});return i.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:b==null?void 0:b.text,media:e,onModalClose:this.$5,title:a==null?void 0:a.text,children:[g&&i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$3,children:(f=g.title)==null?void 0:f.text}),h&&i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.$4,children:(b=h.title)==null?void 0:b.text})]})};return b}(i.Component);b=d("IGRouter_DO_NOT_USE.react").withIGRouter(a);g["default"]=b}),98);
__d("PolarisQPTooltipComponent.react",["IGDSBox.react","IGDSText.react","PolarisDisappearingTooltip.react","PolarisIGCoreConstants","PolarisNavigationHelpers","PolarisNavigationLayoutContext","PolarisQPActions","PolarisQPConstants","PolarisQPHelpers","PolarisReactRedux.react","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.c,l=300;function a(a){var b=k(17),e=a.parameters;a=a.title;var f=d("PolarisReactRedux.react").useDispatch(),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){return a.qp.qpDismissed},b[0]=g):g=b[0];g=d("PolarisReactRedux.react").useSelector(g);a=a==null?void 0:a.text;var h=d("PolarisQPHelpers").getQPParameter(e,d("PolarisQPConstants").QP_TOOLTIP_PARAMETERS.tooltip_duration),m;b[1]!==e?(m=d("PolarisQPHelpers").getQPArrowPositionParameter(e,d("PolarisQPConstants").QP_TOOLTIP_PARAMETERS.tooltip_arrow_position),b[1]=e,b[2]=m):m=b[2];m=m;e=(e=d("PolarisQPHelpers").getQPParameter(e,d("PolarisQPConstants").QP_TOOLTIP_PARAMETERS.max_width))!=null?e:l;h=Number(h)*1e3;h=h||c("PolarisIGCoreConstants").TOOLTIP.AUTO_HIDE_MS;var n;b[3]!==f?(n=function(){return f(d("PolarisQPActions").dismissQP())},b[3]=f,b[4]=n):n=b[4];n=n;var o=j(c("PolarisNavigationLayoutContext"));o=o.navigationPosition;var p=d("PolarisUA").isDesktop();e=d("PolarisUA").isDesktop()?"min("+e+"px, min(80vw, "+(p?d("PolarisNavigationHelpers").TOOLTIP_MAX_WIDTH:l)+"px))":"80vw";b[5]!==a?(p=i.jsx(c("IGDSText.react"),{breakWord:!0,color:"primaryText",textAlign:"center",weight:"semibold",zeroMargin:!0,children:a}),b[5]=a,b[6]=p):p=b[6];var q;b[7]!==e||b[8]!==p?(q=i.jsx(c("IGDSBox.react"),{maxWidth:e,position:"relative",children:p}),b[7]=e,b[8]=p,b[9]=q):q=b[9];e=q;q=(p=m)!=null?p:o;b[10]!==a||b[11]!==g||b[12]!==q||b[13]!==e||b[14]!==h||b[15]!==n?(m=a!=null&&g!==!0?i.jsx(c("PolarisDisappearingTooltip.react"),{autoHideAfter:h,color:"primary",disableTooltipHideOnDismount:!0,onTooltipHide:n,position:q==="bottom"?"above":q==="top"?"below":"start",tooltip:i.jsx("div",{className:"x1kuktng",children:i.jsx(c("IGDSText.react"),{color:"primaryText",size:"body",textAlign:"start",zeroMargin:!0,children:e})}),children:i.jsx("div",{})}):null,b[10]=a,b[11]=g,b[12]=q,b[13]=e,b[14]=h,b[15]=n,b[16]=m):m=b[16];return m}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("$",["fb-error-lite"],(function(a,b,c,d,e,f,g){function a(a){return h(a,typeof a==="string"?document.getElementById(a):a)}function b(a){return h(a,typeof a==="string"?document.getElementById(a):a)}function h(a,b){if(!b){a=c("fb-error-lite").err('Tried to get element with id of "%s" but it is not present on the page',String(a));a.taalOpcodes=a.taalOpcodes||[];a.taalOpcodes=[c("fb-error-lite").TAALOpcode.PREVIOUS_FILE];throw a}return b}a.fromIDOrElement=b;g["default"]=a}),98);
__d("ArbiterMixin",["Arbiter","guid"],(function(a,b,c,d,e,f,g){var h="arbiter$"+c("guid")(),i=Object.prototype.hasOwnProperty;a={_getArbiterInstance:function(){return i.call(this,h)?this[h]:this[h]=new(c("Arbiter"))()},inform:function(a,b,c){return this._getArbiterInstance().inform(a,b,c)},subscribe:function(a,b,c){return this._getArbiterInstance().subscribe(a,b,c)},subscribeOnce:function(a,b,c){return this._getArbiterInstance().subscribeOnce(a,b,c)},unsubscribe:function(a){this._getArbiterInstance().unsubscribe(a)},unsubscribeCurrentSubscription:function(){this._getArbiterInstance().unsubscribeCurrentSubscription()},releaseCurrentPersistentEvent:function(){this._getArbiterInstance().releaseCurrentPersistentEvent()},registerCallback:function(a,b){return this._getArbiterInstance().registerCallback(a,b)},query:function(a){return this._getArbiterInstance().query(a)}};b=a;g["default"]=b}),98);
__d("CSS",["$","CSSCore"],(function(a,b,c,d,e,f,g){var h=typeof window!="undefined"?window.CSS:null,i="hidden_elem";h=h&&h.supports.bind(h);function a(a,b){c("$").fromIDOrElement(a).className=b||"";return a}function j(a,b){return a instanceof Document||a instanceof Text?!1:d("CSSCore").hasClass(c("$").fromIDOrElement(a),b)}function b(a,b){return a instanceof Document||a instanceof Text?!1:d("CSSCore").matchesSelector(c("$").fromIDOrElement(a),b)}function k(a,b){return d("CSSCore").addClass(c("$").fromIDOrElement(a),b)}function l(a,b){return d("CSSCore").removeClass(c("$").fromIDOrElement(a),b)}function m(a,b,e){return d("CSSCore").conditionClass(c("$").fromIDOrElement(a),b,!!e)}function n(a,b){return m(a,b,!j(a,b))}function e(a){return!j(a,i)}function f(a){return k(a,i)}function o(a){return l(a,i)}function p(a){return n(a,i)}function q(a,b){return m(a,i,!b)}g.supports=h;g.setClass=a;g.hasClass=j;g.matchesSelector=b;g.addClass=k;g.removeClass=l;g.conditionClass=m;g.toggleClass=n;g.shown=e;g.hide=f;g.show=o;g.toggle=p;g.conditionShow=q}),98);
__d("createArrayFromMixed",["invariant"],(function(a,b,c,d,e,f,g,h){function i(a){var b=a.length;!Array.isArray(a)&&(typeof a==="object"||typeof a==="function")||h(0,3914);typeof b==="number"||h(0,3915);b===0||b-1 in a||h(0,3916);typeof a.callee!=="function"||h(0,3917);if(a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(a){}var c=Array(b);for(var d=0;d<b;d++)c[d]=a[d];return c}function j(a){return!!a&&(typeof a==="object"||typeof a==="function")&&"length"in a&&!("setInterval"in a)&&typeof a.nodeType!=="number"&&(Array.isArray(a)||"callee"in a||"item"in a)}function a(a){if(!j(a))return[a];else if(Array.isArray(a))return a.slice();else return i(a)}g["default"]=a}),98);
__d("createObjectFrom",[],(function(a,b,c,d,e,f){function g(a,b){if(b===void 0)return g(a,!0);var c={};if(Array.isArray(b))for(var d=a.length-1;d>=0;d--)c[a[d]]=b[d];else for(d=a.length-1;d>=0;d--)c[a[d]]=b;return c}f["default"]=g}),66);
__d("isElementNode",["isNode"],(function(a,b,c,d,e,f){function a(a){return b("isNode")(a)&&a.nodeType==1}e.exports=a}),null);
__d("DOMQuery",["CSS","FBLogger","containsNode","createArrayFromMixed","createObjectFrom","ge","ifRequired","isElementNode","isNode"],(function(a,b,c,d,e,f,g){var h=/^\.-?[_a-zA-Z]+[\w-]*$/;function i(a,b){return a.hasAttribute?a.hasAttribute(b):a.getAttribute(b)!==null}function a(a,b){a=j(a,b);return a[0]}function b(a,b,c){b=j(a,b);a=j(a,c);b.length===1&&a.length===1&&b[0]===a[0]?c=b:c=b.concat(a);return c[0]}function j(a,b){if(!a||!a.getElementsByTagName)return[];b=b.split(" ");var e=[a];for(var f=0;f<b.length;f++){if(e.length===0)break;if(b[f]==="")continue;var g=b[f],j=b[f],k=[],l=!1;if(g.charAt(0)=="^")if(f===0)l=!0,g=g.slice(1);else return[];g=g.replace(/\[(?:[^=\]]*=(?:\"[^\"]*\"|\'[^\']*\'))?|[.#]/g," $&");g=g.split(" ");var m=g[0]||"*",n=m=="*",o=g[1]&&g[1].charAt(0)=="#";if(o){o=c("ge")(g[1].slice(1),a,m);if(o&&(n||o.tagName.toLowerCase()==m))for(var p=0;p<e.length;p++)if(l&&c("containsNode")(o,e[p])){k=[o];break}else if(document==e[p]||c("containsNode")(e[p],o)&&e[p]!==o){k=[o];break}}else{o=[];p=e.length;var q,r=!l&&j.indexOf("[")<0&&document.querySelectorAll;for(var s=0;s<p;s++){if(l){q=[];var t=e[s].parentNode;while(c("isElementNode")(t))(n||t.tagName.toLowerCase()==m)&&q.push(t),t=t.parentNode}else r?h.test(j)?q=e[s].getElementsByClassName(j.substring(1)):q=e[s].querySelectorAll(j):q=e[s].getElementsByTagName(m);t=q.length;for(var u=0;u<t;u++)o.push(q[u])}if(!r)for(q=1;q<g.length;q++){t=g[q];u=t.charAt(0)==".";n=t.substring(1);for(s=0;s<o.length;s++){p=o[s];if(!p||p.nodeType!==1)continue;if(u){d("CSS").hasClass(p,n)||delete o[s];continue}else{j=t.slice(1,t.length-1);m=j.indexOf("=");if(m<0){if(!i(p,j)){delete o[s];continue}}else{r=j.substr(0,m);j=j.substr(m+1);j=j.slice(1,j.length-1);if(p.getAttribute(r)!=j){delete o[s];continue}}}}}for(s=0;s<o.length;s++)if(o[s]){k.push(o[s]);if(l)break}}e=k}return e}function e(){var a=window.getSelection;if(a)return a()+"";else{a=document.selection;if(a)return a.createRange().text}return null}function f(a,b){(typeof a==="string"||typeof b==="string")&&c("FBLogger")("dom_query").info("Support for node IDs is deprecated. Use containsNode(ge(<id1>), ge(<id2>)) instead");return c("containsNode")(c("ge")(a),c("ge")(b))}function k(){var a=c("ifRequired")("Quickling",function(a){return a.isActive()?c("ge")("content"):null});return a||document.body}function l(a,b){b=c("createArrayFromMixed")(b).join("|").toUpperCase().split("|");b=c("createObjectFrom")(b);return c("isNode")(a)&&a.nodeName in b}function m(a){return l(a,["input","textarea"])||a.contentEditable==="true"}g.find=a;g.findPushSafe=b;g.scry=j;g.getSelection=e;g.contains=f;g.getRootElement=k;g.isNodeOfType=l;g.isInputNode=m}),98);
__d("DOMEvent",["invariant"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.event=a||window.event,typeof this.event.srcElement!=="unknown"||h(0,5798),this.target=this.event.target||this.event.srcElement}var b=a.prototype;b.preventDefault=function(){var a=this.event;a.preventDefault?(a.preventDefault(),"defaultPrevented"in a||(a.defaultPrevented=!0)):a.returnValue=!1;return this};b.isDefaultPrevented=function(){var a=this.event;return"defaultPrevented"in a?a.defaultPrevented:a.returnValue===!1};b.stopPropagation=function(){var a=this.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return this};b.kill=function(){this.stopPropagation().preventDefault();return this};a.killThenCall=function(b){return function(c){new a(c).kill();return b()}};return a}();g["default"]=a}),98);
__d("dedupString",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;return Object.keys((b={},b[a]=0,b))[0]}f["default"]=a}),66);
__d("wrapFunction",[],(function(a,b,c,d,e,f){var g={};function a(a,b,c){var d=b in g?g[b](a,c):a;return function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return d.apply(this,b)}}a.setWrapper=function(a,b){g[b]=a};f["default"]=a}),66);
__d("DOMEventListener",["invariant","dedupString","emptyFunction","passiveEventListenerUtil","wrapFunction"],(function(a,b,c,d,e,f,g){var h=b("passiveEventListenerUtil").isPassiveEventListenerSupported,i,j;window.addEventListener?(i=function(a,c,d,e){e===void 0&&(e=!1),d.wrapper=b("wrapFunction")(d,"entry",b("dedupString")("DOMEventListener.add "+c)),a.addEventListener(c,d.wrapper,h?e:!1)},j=function(a,b,c,d){d===void 0&&(d=!1),a.removeEventListener(b,c.wrapper,h?d:!1)}):window.attachEvent?(i=function(a,c,d,e){e===void 0,d.wrapper=b("wrapFunction")(d,"entry","DOMEventListener.add "+c),a.attachEvent||g(0,2798),a.attachEvent("on"+c,d.wrapper)},j=function(a,b,c,d){d===void 0,a.detachEvent||g(0,2799),a.detachEvent("on"+b,c.wrapper)}):j=i=b("emptyFunction");a={add:function(a,b,c,d){d===void 0&&(d=!1);i(a,b,c,d);return{remove:function(){j(a,b,c,d)}}},remove:j};e.exports=a}),null);
__d("EventProfiler",["cr:708886"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:708886")}),98);
__d("Scroll",[],(function(a,b,c,d,e,f){function g(a,b){return!!b&&(a===b.documentElement||a===b.body)}function a(a){var b;if(a==null)return 0;var c=a.ownerDocument;return g(a,c)?(c==null?void 0:(b=c.body)==null?void 0:b.scrollTop)||(c==null?void 0:(b=c.documentElement)==null?void 0:b.scrollTop)||0:a.scrollTop||0}function b(a,b){if(a==null)return;var c=a.ownerDocument;g(a,c)?((c==null?void 0:c.body)&&(c.body.scrollTop=b||0),(c==null?void 0:c.documentElement)&&(c.documentElement.scrollTop=b||0)):a.scrollTop=b||0}function c(a){var b,c=a.ownerDocument;return g(a,c)?(c==null?void 0:(b=c.body)==null?void 0:b.scrollLeft)||(c==null?void 0:(b=c.documentElement)==null?void 0:b.scrollLeft)||0:a.scrollLeft||0}function d(a,b){var c=a.ownerDocument;g(a,c)?((c==null?void 0:c.body)&&(c.body.scrollLeft=b||0),(c==null?void 0:c.documentElement)&&(c.documentElement.scrollLeft=b||0)):a.scrollLeft=b||0}f.getTop=a;f.setTop=b;f.getLeft=c;f.setLeft=d}),66);
__d("FlowMigrationUtilsForLegacyFiles",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="flow_typing_for_legacy_code";function a(a){c("FBLogger")(h).blameToPreviousFile().event(h+".bad_call").mustfix(a);return new Error("["+h+"] "+a)}g.invariantViolation=a}),98);
__d("getDocumentScrollElement",["FlowMigrationUtilsForLegacyFiles"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof navigator!=="undefined"&&navigator.userAgent.indexOf("AppleWebKit")>-1;function a(a){a=a||document;if(a.scrollingElement)return a.scrollingElement;a=!h&&a.compatMode==="CSS1Compat"?a.documentElement:a.body;a||d("FlowMigrationUtilsForLegacyFiles").invariantViolation("null result in getDocumentScrollElement");return a}g["default"]=a}),98);
__d("getObjectValues",[],(function(a,b,c,d,e,f){function a(a){var b=[];for(var c in a)b.push(a[c]);return b}f["default"]=a}),66);
__d("Event",["$","Arbiter","DOMEvent","DOMEventListener","DOMQuery","DataStore","ErrorGuard","EventProfiler","ExecutionEnvironment","FBLogger","Parent","Scroll","TimeSlice","UserAgent","dedupString","fb-error","getDocumentScrollElement","getObjectValues"],(function(a,b,c,d,e,f){var g,h,i=b("fb-error").TAAL,j="Event.listeners";Event.prototype||(Event.prototype={});function k(a){(a.type==="click"||a.type==="mouseover"||a.type==="keydown")&&b("Arbiter").inform("Event/stop",{event:a})}var l=function(){"use strict";function a(a,b,c){this.cancelBubble=!1,this.target=a,this.type=b,this.data=c}var c=a.prototype;c.getData=function(){this.data=this.data||{};return this.data};c.stop=function(){return Event.stop(this)};c.prevent=function(){return Event.prevent(this)};c.isDefaultPrevented=function(){return Event.isDefaultPrevented(this)};c.kill=function(){return Event.kill(this)};c.getTarget=function(){return new(b("DOMEvent"))(this).target||null};return a}();function m(a){if(a instanceof l)return a;a||(!window.addEventListener&&document.createEventObject?a=window.event?document.createEventObject(window.event):{}:a={});if(!a._inherits_from_prototype)for(var b in Event.prototype)try{a[b]=Event.prototype[b]}catch(a){}return a}Object.assign(Event.prototype,{_inherits_from_prototype:!0,getRelatedTarget:function(){var a=this.relatedTarget||(this.fromElement===this.srcElement?this.toElement:this.fromElement);return a&&a.nodeType?a:null},getModifiers:function(){var a={control:!!this.ctrlKey,shift:!!this.shiftKey,alt:!!this.altKey,meta:!!this.metaKey};a.access=b("UserAgent").isPlatform("Mac OS X")?a.control:a.alt;a.any=a.control||a.shift||a.alt||a.meta;return a},isRightClick:function(){return this.which?this.which===3:this.button&&this.button===2},isMiddleClick:function(){return this.which?this.which===2:this.button&&this.button===4},isDefaultRequested:function(){return this.getModifiers().any||this.isMiddleClick()||this.isRightClick()}},l.prototype);c={listen:function(a,c,d,e,f){typeof d==="function"&&(d=b("TimeSlice").guard(d,b("dedupString")("Event.js "+c+" handler")));!f||typeof f==="boolean"?f={passive:!1}:f={passive:f.passive||!1};if(!(g||(g=b("ExecutionEnvironment"))).canUseDOM)return new u(a,d,null,c,e,null,f);typeof a==="string"&&(a=b("$")(a));typeof e==="undefined"&&(e=Event.Priority.NORMAL);if(typeof c==="object"){var h={};for(var k in c)h[k]=Event.listen(a,k,c[k],e,f);return h}if(c.match(/^on/i))throw new TypeError("Bad event name `"+c+"': use `click', not `onclick'.");if(!a){k=i.blameToPreviousFrame(new Error("Cannot listen to an undefined element."));b("FBLogger")("event").catching(k).mustfix("Tried to listen to element of type %s",c);throw k}if(a.nodeName=="LABEL"&&c=="click"){h=a.getElementsByTagName("input");a=h.length==1?h[0]:a}else if(a===window&&c==="scroll"){k=b("getDocumentScrollElement")();k!==document.documentElement&&k!==document.body&&(a=k)}h=b("DataStore").get(a,j,{});k=o[c];k&&(c=k.base,k.wrap&&(d=k.wrap(d)));q(a,h,c,f);k=h[c];e in k||(k[e]=[]);var l=k[e].length;d=new u(a,d,h,c,e,l,f);k[e][l]=d;k.numHandlers++;f.passive||(k.numNonPassiveHandlers++,p(a,h[c],c));return d},stop:function(a){var c=new(b("DOMEvent"))(a).stopPropagation();k(c.event);return a},prevent:function(a){new(b("DOMEvent"))(a).preventDefault();return a},isDefaultPrevented:function(a){return new(b("DOMEvent"))(a).isDefaultPrevented(a)},kill:function(a){a=new(b("DOMEvent"))(a).kill();k(a.event);return!1},getKeyCode:function(a){a=new(b("DOMEvent"))(a).event;if(!a)return!1;switch(a.keyCode){case 63232:return 38;case 63233:return 40;case 63234:return 37;case 63235:return 39;case 63272:case 63273:case 63275:return null;case 63276:return 33;case 63277:return 34}if(a.shiftKey)switch(a.keyCode){case 33:case 34:case 37:case 38:case 39:case 40:return null}return a.keyCode},getPriorities:function(){if(!n){var a=b("getObjectValues")(Event.Priority);a.sort(function(a,b){return a-b});n=a}return n},fire:function(a,b,c){c=new l(a,b,c);var d;do{var e=Event.__getHandler(a,b);e&&(d=e(c));a=a.parentNode}while(a&&d!==!1&&!c.cancelBubble);return d!==!1},__fire:function(a,b,c){a=Event.__getHandler(a,b);if(a)return a(m(c))},__getHandler:function(a,c){var d=b("DataStore").get(a,j);return d&&d[c]?d[c].domHandler:a["on"+c]},getPosition:function(a){a=new(b("DOMEvent"))(a).event;var c=b("getDocumentScrollElement")(),d=a.clientX+b("Scroll").getLeft(c);a=a.clientY+b("Scroll").getTop(c);return{x:d,y:a}}};Object.assign(Event,c);var n=null;d=function(a){return function(c){if(!b("DOMQuery").contains(this,c.getRelatedTarget()))return a.call(this,c)}};var o;!window.navigator.msPointerEnabled?o={mouseenter:{base:"mouseover",wrap:d},mouseleave:{base:"mouseout",wrap:d}}:o={mousedown:{base:"MSPointerDown"},mousemove:{base:"MSPointerMove"},mouseup:{base:"MSPointerUp"},mouseover:{base:"MSPointerOver"},mouseout:{base:"MSPointerOut"},mouseenter:{base:"MSPointerOver",wrap:d},mouseleave:{base:"MSPointerOut",wrap:d}};if(b("UserAgent").isBrowser("Firefox < 52")){f=function(a,b){b=m(b);var c=b.getTarget();while(c)Event.__fire(c,a,b),c=c.parentNode};document.documentElement.addEventListener("focus",f.bind(null,"focusin"),!0);document.documentElement.addEventListener("blur",f.bind(null,"focusout"),!0)}var p=function(a,c,d){var e=c.numNonPassiveHandlers==0;e!=c.options.passive&&(c.domHandlerRemover.remove(),c.options.passive=e,c.domHandlerRemover=b("DOMEventListener").add(a,d,c.domHandler,{passive:e}))},q=function(a,c,d,e){if(d in c)return;var f=b("TimeSlice").guard(t.bind(a,d),b("dedupString")("Event listenHandler "+d));c[d]={numHandlers:0,numNonPassiveHandlers:0,domHandlerRemover:b("DOMEventListener").add(a,d,f,e),domHandler:f,options:e};c="on"+d;if(a[c]){f=a===document.documentElement?Event.Priority._BUBBLE:Event.Priority.TRADITIONAL;var g=a[c];a[c]=null;Event.listen(a,d,g,f,e)}};function r(a){return!a.href.endsWith("#")?!1:a.href===document.location.href||a.href===document.location.href+"#"}function s(a,b){return a.nodeName==="INPUT"&&a.type===b}var t=b("EventProfiler").__wrapEventListenHandler(function(a,c){c=m(c);if(!b("DataStore").get(this,j))throw new Error("Bad listenHandler context.");var d=b("DataStore").get(this,j)[a];if(!d)throw new Error("No registered handlers for `"+a+"'.");if(a=="click"||a=="contextmenu"||a=="mousedown"&&c.which==2){a=c.getTarget();var e=b("Parent").byTag(a,"a");e instanceof HTMLAnchorElement&&e.href&&r(e)&&!s(a,"file")&&!s(a,"submit")&&c.prevent()}e=Event.getPriorities();for(a=0;a<e.length;a++){var f=e[a];if(f in d){f=d[f];for(var g=0;g<f.length;g++){if(!f[g])continue;var h=f[g].fire(this,c);if(h===!1)return c.kill();else c.cancelBubble&&c.stop()}}}return c.returnValue});Event.Priority={URGENT:-20,TRADITIONAL:-10,NORMAL:0,_BUBBLE:1e3};var u=function(){"use strict";function a(a,b,c,d,e,f,g){this.$1=a,this.$2=b,this.$3=c,this.$7=d,this.$6=e,this.$4=f,this.$5=g}var c=a.prototype;c.isRemoved=function(){return!this.$3};c.remove=function(){if((g||(g=b("ExecutionEnvironment"))).canUseDOM){if(this.isRemoved()){b("FBLogger")("Event").warn("Event handler has already been removed");return}var a=this.$3[this.$7];a.numHandlers<=1?(a.domHandlerRemover.remove(),delete this.$3[this.$7]):(delete a[this.$6][this.$4],a.numHandlers--,this.$5.passive||(a.numNonPassiveHandlers--,p(this.$1,this.$3[this.$7],this.$7)));this.$3=null}};c.fire=function(a,c){return(g||(g=b("ExecutionEnvironment"))).canUseDOM?(h||(h=b("ErrorGuard"))).applyWithGuard(this.$2,a,[c],{name:"eventhandler:"+c.type+":"+(typeof a.name=="string"?a.name:a.id)}):!0};return a}();a.$E=Event.$E=m;e.exports=Event}),null);
__d("TrustedTypesLinkTagHTMLPolicy",["TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";a={createHTML:function(a){if(a==="<link />")return a;throw c("err")("Violating Trusted Type policies. Only works for '<link />' strings.")}};b=c("TrustedTypes").createPolicy("link-tag-html",a);d=b;g["default"]=d}),98);
__d("getMarkupWrap",["invariant","ExecutionEnvironment","TrustedTypesLinkTagHTMLPolicy"],(function(a,b,c,d,e,f,g,h){var i,j=(i||c("ExecutionEnvironment")).canUseDOM?document.createElement("div"):null,k={};b=[1,'<select multiple="true">',"</select>"];d=[1,"<table>","</table>"];e=[3,"<table><tbody><tr>","</tr></tbody></table>"];var l=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],m={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:b,option:b,caption:d,colgroup:d,tbody:d,tfoot:d,thead:d,td:e,th:e};f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(a){m[a]=l,k[a]=!0});function a(a){a=a;!j&&h(0,144);Object.prototype.hasOwnProperty.call(m,a)||(a="*");Object.prototype.hasOwnProperty.call(k,a)||(a==="*"?j.innerHTML=c("TrustedTypesLinkTagHTMLPolicy").createHTML("<link />"):j.innerHTML="<"+a+"></"+a+">",k[a]=!j.firstChild);return k[a]?m[a]:null}g["default"]=a}),98);
__d("createNodesFromMarkup",["invariant","ExecutionEnvironment","TrustedTypesNoOpPolicy_DO_NOT_USE","getMarkupWrap"],(function(a,b,c,d,e,f,g,h){var i,j=(i||c("ExecutionEnvironment")).canUseDOM?document.createElement("div"):null,k=/^\s*<(\w+)/;function l(a){a=a.match(k);return a&&a[1].toLowerCase()}function a(a,b){var d=j;!j&&h(0,5001);var e=l(a);e=e&&c("getMarkupWrap")(e);if(e){d.innerHTML=e[1]+a+e[2];e=e[0];while(e--)d=d.lastChild}else d.innerHTML=c("TrustedTypesNoOpPolicy_DO_NOT_USE").createHTML(a);e=d.getElementsByTagName("script");e.length&&(b||h(0,5002),Array.from(e).forEach(b));a=Array.from(d.childNodes);while(d.lastChild)d.removeChild(d.lastChild);return a}g["default"]=a}),98);
__d("evalGlobal",[],(function(a,b,c,d,e,f){function a(a){if(typeof a!=="string")throw new TypeError("JS sent to evalGlobal is not a string. Only strings are permitted.");if(!a)return;var b=document.createElement("script");try{b.appendChild(document.createTextNode(a))}catch(c){b.text=a}a=document.getElementsByTagName("head")[0]||document.documentElement;a.appendChild(b);a.removeChild(b)}f["default"]=a}),66);
__d("HTML",["invariant","Bootloader","FBLogger","createNodesFromMarkup","emptyFunction","evalGlobal"],(function(a,b,c,d,e,f,g){var h=/(<(\w+)[^>]*?)\/>/g,i={abbr:!0,area:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0};a=function(){"use strict";function a(c){c&&typeof c.__html==="string"&&(c=c.__html);if(!(this instanceof a))return c instanceof a?c:new a(c);if(c){var d=typeof c;d==="string"||g(0,277,d)}this._markup=c||"";this._defer=!1;this._nodes=null;this._inlineJS=b("emptyFunction");this._rootNode=null;this._hasInlineJs=!1}var c=a.prototype;c.toString=function(){return this._markup};c.getContent=function(){return this._markup};c.getNodes=function(){this._fillCache();return this._nodes};c.getRootNode=function(){this._rootNode&&g(0,278);var a=this.getNodes();if(a.length===1)this._rootNode=a[0];else{var b=document.createDocumentFragment();for(var c=0;c<a.length;c++)b.appendChild(a[c]);this._rootNode=b}return this._rootNode};c.getAction=function(){var a=this;this._fillCache();var b=function(){a._inlineJS()};return this._defer?function(){setTimeout(b,0)}:b};c._fillCache=function(){if(this._nodes!==null)return;if(!this._markup){this._nodes=[];return}var a=this._markup.replace(h,function(a,b,c){return i[c.toLowerCase()]?a:b+"></"+c+">"}),c=null;a=b("createNodesFromMarkup")(a,function(a){b("FBLogger")("staticresources").warn("HTML: encountered script node while parsing, hasSrc=%s, type=%s",Boolean(a.src),a.type==null||a.type===""?"<unknown>":a.type),a.type!=="application/ld+json"&&a.type!=="application/json"&&(c=c||[],c.push(a.src?b("Bootloader").requestJSResource_UNSAFE_NEEDS_REVIEW_BY_SECURITY_AND_XFN.bind(b("Bootloader"),a.src):b("evalGlobal").bind(null,a.innerHTML)),a.parentNode.removeChild(a))});c&&(this._hasInlineJs=!0,this._inlineJS=function(){for(var a=0;a<c.length;a++)c[a]()});this._nodes=a};c.setDeferred=function(a){this._defer=!!a;return this};c.hasInlineJs=function(){return this._hasInlineJs};a.isHTML=function(b){return!!b&&(b instanceof a||b.__html!==void 0)};a.replaceJSONWrapper=function(b){return b&&b.__html!==void 0?new a(b.__html):b};return a}();e.exports=a}),null);
__d("TrustedTypesIEFixDOMPolicy",["TrustedTypes"],(function(a,b,c,d,e,f,g){"use strict";a={createHTML:function(a){return a}};b=c("TrustedTypes").createPolicy("dom-ie-fix",a);d=b;g["default"]=d}),98);
__d("UserAgent_DEPRECATED",[],(function(a,b,c,d,e,f){var g=!1,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;function x(){if(g)return;g=!0;var a=navigator.userAgent,b=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(a),c=/(Mac OS X)|(Windows)|(Linux)/.exec(a);s=/\b(iPhone|iP[ao]d)/.exec(a);t=/\b(iP[ao]d)/.exec(a);q=/Android/i.exec(a);u=/FBAN\/\w+;/i.exec(a);v=/FBAN\/mLite;/i.exec(a);w=/Mobile/i.exec(a);r=!!/Win64/.exec(a);if(b){h=b[1]?parseFloat(b[1]):b[5]?parseFloat(b[5]):NaN;h&&document&&document.documentMode&&(h=document.documentMode);var d=/(?:Trident\/(\d+.\d+))/.exec(a);m=d?parseFloat(d[1])+4:h;i=b[2]?parseFloat(b[2]):NaN;j=b[3]?parseFloat(b[3]):NaN;k=b[4]?parseFloat(b[4]):NaN;k?(b=/(?:Chrome\/(\d+\.\d+))/.exec(a),l=b&&b[1]?parseFloat(b[1]):NaN):l=NaN}else h=i=j=l=k=NaN;if(c){if(c[1]){d=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(a);n=d?parseFloat(d[1].replace("_",".")):!0}else n=!1;o=!!c[2];p=!!c[3]}else n=o=p=!1}function y(){return x()||h}function a(){return x()||m>h}function b(){return y()&&r}function c(){return x()||i}function d(){return x()||j}function z(){return x()||k}function e(){return z()}function A(){return x()||l}function B(){return x()||o}function C(){return x()||n}function D(){return x()||p}function E(){return x()||s}function F(){return x()||s||t||q||w}function G(){return x()||v!=null?null:u}function H(){return x()||q}function I(){return x()||t}f.ie=y;f.ieCompatibilityMode=a;f.ie64=b;f.firefox=c;f.opera=d;f.webkit=z;f.safari=e;f.chrome=A;f.windows=B;f.osx=C;f.linux=D;f.iphone=E;f.mobile=F;f.nativeApp=G;f.android=H;f.ipad=I}),66);
__d("isScalar",[],(function(a,b,c,d,e,f){function a(a){return/string|number|boolean/.test(typeof a)}f["default"]=a}),66);
__d("DOM",["$","DOMQuery","Event","FBLogger","FbtResultBase","HTML","TrustedTypesIEFixDOMPolicy","UserAgent_DEPRECATED","createArrayFromMixed","fb-error","isNode","isScalar","isTextNode"],(function(a,b,c,d,e,f,g){a=function(a,b,c){a=document.createElement(a);b&&h.setAttributes(a,b);c!=null&&h.setContent(a,c);return a};var h={find:(b=d("DOMQuery")).find,findPushSafe:b.findPushSafe,scry:b.scry,getSelection:b.getSelection,contains:b.contains,getRootElement:b.getRootElement,isNodeOfType:b.isNodeOfType,isInputNode:b.isInputNode,create:a,setAttributes:function(a,b){b.type&&(a.type=b.type);for(var d in b){var e=b[d],f=/^on/i.test(d);f&&typeof e!=="function"&&c("FBLogger")("dom").warn("Handlers passed to DOM.setAttributes must be functions. Handler passed for %s was %s",d,typeof e);if(d=="type")continue;else d=="style"?typeof e==="string"?a.style.cssText=e:Object.assign(a.style,e):f?c("Event").listen(a,d.substr(2),e):d in a?a[d]=e:a.setAttribute&&a.setAttribute(d,e)}},prependContent:function(a,b){if(!a)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element is not a node"));return j(b,a,function(b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)})},insertAfter:function(a,b){if(!a||!a.parentNode)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element does not have a parent"));var d=a.parentNode;return j(b,d,function(b){a.nextSibling?d.insertBefore(b,a.nextSibling):d.appendChild(b)})},insertBefore:function(a,b){if(!a||!a.parentNode)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element does not have a parent"));var d=a.parentNode;return j(b,d,function(b){d.insertBefore(b,a)})},setContent:function(a,b){if(!a)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element is not a node"));while(a.firstChild)i(a.firstChild);return h.appendContent(a,b)},appendContent:function(a,b){if(!a)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element is not a node"));return j(b,a,function(b){a.appendChild(b)})},replace:function(a,b){if(!a||!a.parentNode)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element does not have a parent"));var d=a.parentNode;return j(b,d,function(b){d.replaceChild(b,a)})},remove:function(a){i(typeof a==="string"?c("$")(a):a)},empty:function(a){a=typeof a==="string"?c("$")(a):a;while(a.firstChild)i(a.firstChild)}};function i(a){a.parentNode&&a.parentNode.removeChild(a)}function j(a,b,e){a=c("HTML").replaceJSONWrapper(a);if(a instanceof c("HTML")&&b.firstChild===null&&-1===a.toString().indexOf("<script")){var f=d("UserAgent_DEPRECATED").ie();if(!f||f>7&&!d("DOMQuery").isNodeOfType(b,["table","tbody","thead","tfoot","tr","select","fieldset"])){var g=f?'<em style="display:none;">&nbsp;</em>':"";b.innerHTML=c("TrustedTypesIEFixDOMPolicy").createHTML(g+a);f&&b.removeChild(b.firstChild);return Array.from(b.childNodes)}}else if(c("isTextNode")(b)){b.data=a;return[a]}g=document.createDocumentFragment();var h;f=[];b=[];var i=!1;a=c("createArrayFromMixed")(a);a.length===1&&a[0]instanceof c("FbtResultBase")&&(a=a[0].getContents());for(var j=0;j<a.length;j++){h=c("HTML").replaceJSONWrapper(a[j]);if(h instanceof c("HTML")){b.push(h.getAction());var k=h.getNodes();!i&&h.hasInlineJs()&&(c("FBLogger")("staticresources").warn("DOM: adding HTML which contains inline JS"),i=!0);for(var l=0;l<k.length;l++)f.push(k[l]),g.appendChild(k[l])}else if(c("isScalar")(h)||h instanceof c("FbtResultBase")){l=document.createTextNode(h);f.push(l);g.appendChild(l)}else c("isNode")(h)?(f.push(h),g.appendChild(h)):(Array.isArray(h)&&c("FBLogger")("dom").warn("Nest arrays not supported"),h!==null&&c("FBLogger")("dom").warn("No way to set content %s",h))}e(g);b.forEach(function(a){a()});return f}e=h;g["default"]=e}),98);
__d("AsyncDOM",["CSS","DOM","FBLogger"],(function(a,b,c,d,e,f){a={invoke:function(a,c){for(var d=0;d<a.length;++d){var e=a[d],f=e[0],g=e[1],h=e[2];e=e[3];h=h&&c||null;g&&(h=b("DOM").scry(h||document.documentElement,g)[0]);h||b("FBLogger")("async_dom").warn("Could not find relativeTo element for %s AsyncDOM operation based on selector: %s",f,g);switch(f){case"hide":b("CSS").hide(h);break;case"show":b("CSS").show(h);break;case"setContent":b("DOM").setContent(h,e);break;case"appendContent":b("DOM").appendContent(h,e);break;case"prependContent":b("DOM").prependContent(h,e);break;case"insertAfter":b("DOM").insertAfter(h,e);break;case"insertBefore":b("DOM").insertBefore(h,e);break;case"remove":b("DOM").remove(h);break;case"replace":b("DOM").replace(h,e);break;default:b("FBLogger")("async_dom").warn("Received invalid command %s for AsyncDOM operation",f)}}}};e.exports=a}),null);
__d("AsyncResponse",["invariant","Bootloader","FBLogger","HTML","WebDriverConfig"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a,b){this.error=0,this.errorSummary=null,this.errorDescription=null,this.onload=null,this.replay=!1,this.payload=b,this.request=a,this.silentError=!1,this.transientError=!1,this.blockedAction=!1,this.is_last=!0,this.responseHeaders=null}var b=a.prototype;b.getRequest=function(){return this.request};b.getPayload=function(){return this.payload};b.toError=function(){this.error!==0||h(0,5599);var a=this.errorSummary||"",b=this.getErrorDescriptionString()||"",c=new Error(a.toString()+": "+b);Object.assign(c,{code:this.error,description:this.errorDescription||"",descriptionString:b,response:this,summary:a,isSilent:this.silentError,isTransient:this.transientError});return c};b.getError=function(){return this.error};b.getErrorSummary=function(){return this.errorSummary};b.setErrorSummary=function(a){a=a===void 0?null:a;this.errorSummary=a;return this};b.getErrorDescription=function(){return this.errorDescription};b.getErrorDescriptionString=function(){var a=this.getErrorDescription();if(a==null)return null;if(c("HTML").isHTML(a)){var b=new(c("HTML"))(a);return b.getRootNode().textContent}return a.toString()};b.getErrorIsWarning=function(){return!!this.errorIsWarning};b.isSilent=function(){return!!this.silentError};b.isTransient=function(){return!!this.transientError};b.isBlockedAction=function(){return!!this.blockedAction};b.getResponseHeader=function(a){var b=this.responseHeaders;if(!b)return null;b=b.replace(/^\n/,"");a=a.toLowerCase();b=b.split("\r\n");for(var c=0;c<b.length;++c){var d=b[c],e=d.indexOf(": ");if(e<=0)continue;var f=d.substring(0,e).toLowerCase();if(f===a)return d.substring(e+2)}return null};a.defaultErrorHandler=function(b){try{!b.silentError?a.verboseErrorHandler(b):c("FBLogger")("async_response").catching(b.toError()).warn("default error handler called")}catch(a){alert(b)}};a.verboseErrorHandler=function(a,b){c("Bootloader").loadModules(["ExceptionDialog"],function(c){return c.showAsyncError(a,b)},"AsyncResponse")};return a}();g["default"]=a}),98);
__d("FetchStreamConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({delim:"/*<!-- fetch-stream -->*/"});f["default"]=a}),66);
__d("StreamBlockReader",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){var g;a=function(){function a(a){var c=this;if(!a.getReader)throw new Error("No getReader method found on given object");this.$3=a.getReader();this.$1="";this.$2=null;this.$4=!1;this.$5="utf-8";this.$6="";this.$9=!1;this.$8=function(){return(g||(g=b("Promise"))).reject("Sorry, you are somehow using this too early.")};this.$7=new(g||(g=b("Promise")))(function(a,b){c.$8=a})}var c=a.prototype;c.changeEncoding=function(a){if(this.$2)throw new Error("Decoder already in use, encoding cannot be changed");this.$5=a};c.$10=function(){if(!self.TextDecoder)throw new Error("TextDecoder is not supported here");this.$2||(this.$2=new self.TextDecoder(this.$5));return this.$2};c.$11=function(){if(this.$9)throw new Error("Something else is already reading from this reader");this.$9=!0};c.$12=function(){this.$9=!1};c.isDone=function(){return this.$4};c.$13=function(){var a,c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(!(this.$6!=="")){f.next=4;break}a=this.$6;this.$6="";return f.abrupt("return",a);case 4:if(!this.isDone()){f.next=6;break}throw new Error("You cannot read from a stream that is done");case 6:f.next=8;return b("regeneratorRuntime").awrap(this.$3.read());case 8:c=f.sent;d=c.done;e=c.value;this.$4=d;d&&this.$8();return f.abrupt("return",e?this.$10().decode(e,{stream:!d}):"");case 14:case"end":return f.stop()}},null,this)};c.readNextBlock=function(){var a;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:this.$11();a=this.$13();this.$12();return b.abrupt("return",a);case 4:case"end":return b.stop()}},null,this)};c.readUntilStringOrEnd=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.readUntilOneOfStringOrEnd_DO_NOT_USE([a]));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)};c.readUntilStringOrThrow=function(a){var c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(a){f.next=2;break}throw new Error("cannot read empty string");case 2:this.$11(),c="",d=0;case 5:if(this.isDone()){f.next=23;break}f.t0=c;f.next=9;return b("regeneratorRuntime").awrap(this.$13());case 9:c=f.t0+=f.sent;if(!(c.length<a.length)){f.next=12;break}return f.abrupt("continue",5);case 12:e=c.substring(d).indexOf(a);if(!(e!==-1)){f.next=20;break}e+=d;this.$6=c.substring(e+a.length);this.$12();return f.abrupt("return",c.substring(0,e));case 20:d=c.length-a.length+1;case 21:f.next=5;break;case 23:this.$6=c;this.$12();throw new Error("Breakpoint not found");case 26:case"end":return f.stop()}},null,this)};c.readUntilOneOfStringOrEnd_DO_NOT_USE=function(a){var c,d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:this.$11(),c="";case 2:if(this.isDone()){g.next=20;break}g.t0=c;g.next=6;return b("regeneratorRuntime").awrap(this.$13());case 6:c=g.t0+=g.sent,d=0;case 8:if(!(d<a.length)){g.next=18;break}e=a[d];f=c.indexOf(e);if(!(f!==-1)){g.next=15;break}this.$6=c.substring(f+e.length);this.$12();return g.abrupt("return",c.substring(0,f));case 15:d++;g.next=8;break;case 18:g.next=2;break;case 20:this.$12();return g.abrupt("return",c);case 22:case"end":return g.stop()}},null,this)};c.waitUntilDone=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",this.$7);case 1:case"end":return a.stop()}},null,this)};return a}();f["default"]=a}),66);
__d("mixin",[],(function(a,b,c,d,e,f){function a(){var a=function(){},b=0,c;while(b<0||arguments.length<=b?void 0:arguments[b]){c=b<0||arguments.length<=b?void 0:arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a.prototype[d]=c[d]);b+=1}return a}f["default"]=a}),66);
__d("FetchStreamTransport",["ArbiterMixin","FetchStreamConfig","StreamBlockReader","TimeSlice","URI","asyncToGeneratorRuntime","mixin","nullthrows"],(function(a,b,c,d,e,f,g){var h,i=0;a=function(a){babelHelpers.inheritsLoose(d,a);function d(b){var c;if(!self.ReadableStream||!self.fetch||!Request||!TextDecoder)throw new Error("fetch stream transport is not supported here");c=a.call(this)||this;c.$FetchStreamTransport$p_6=null;c.$FetchStreamTransport$p_1=b;c.$FetchStreamTransport$p_3=!1;c.$FetchStreamTransport$p_4=!1;c.$FetchStreamTransport$p_5=!1;c.$FetchStreamTransport$p_2=++i;return babelHelpers.assertThisInitialized(c)||babelHelpers.assertThisInitialized(c)}var e=d.prototype;e.hasFinished=function(){return this.$FetchStreamTransport$p_5};e.getRequestURI=function(){return new(h||(h=c("URI")))(this.$FetchStreamTransport$p_1).addQueryData({__a:1,__adt:this.$FetchStreamTransport$p_2,__req:"fetchstream_"+this.$FetchStreamTransport$p_2,ajaxpipe_fetch_stream:1})};e.send=function(){if(this.$FetchStreamTransport$p_3)throw new Error("FetchStreamTransport instances cannot be re-used.");this.$FetchStreamTransport$p_3=!0;var a=new Request(this.getRequestURI().toString(),{mode:"same-origin",credentials:"include"});this.$FetchStreamTransport$p_6=c("TimeSlice").getGuardedContinuation("FetchStreamTransport: waiting on first response");a=self.fetch(a,{redirect:"follow"});this.$FetchStreamTransport$p_7(a)};e.$FetchStreamTransport$p_7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this,d;try{d=(yield a)}catch(a){this.abort()}if(!d||!d.body||!d.ok){this.abort();return}var e=new(c("StreamBlockReader"))(d.body);a=function*(){var a=(yield e.readUntilStringOrEnd(c("FetchStreamConfig").delim));if(b.$FetchStreamTransport$p_4)return"break";c("nullthrows")(b.$FetchStreamTransport$p_6)(function(){var d=JSON.parse(a);e.isDone()||d.finished?b.$FetchStreamTransport$p_5=!0:b.$FetchStreamTransport$p_6=c("TimeSlice").getGuardedContinuation("FetchStreamTransport: waiting on next response");b.inform("response",d.content)})};while(!this.$FetchStreamTransport$p_5&&!this.$FetchStreamTransport$p_4){var f=(yield* a());if(f==="break")break}});function d(b){return a.apply(this,arguments)}return d}();e.abort=function(){var a=this;if(this.$FetchStreamTransport$p_4||this.$FetchStreamTransport$p_5)return;this.$FetchStreamTransport$p_4=!0;this.$FetchStreamTransport$p_5=!0;if(this.$FetchStreamTransport$p_6){var b=this.$FetchStreamTransport$p_6;b(function(){a.inform("abort")})}else this.inform("abort")};return d}(c("mixin")(c("ArbiterMixin")));g["default"]=a}),98);
__d("HTTPErrors",["emptyFunction"],(function(a,b,c,d,e,f,g){function a(a){return{summary:"HTTP Error",description:"Unknown HTTP error #"+a}}b={get:a,getAll:c("emptyFunction").thatReturns(new Map())};d=b;g["default"]=d}),98);
__d("JSONPTransport",["ArbiterMixin","DOM","HTML","TimeSlice","URI","mixin","setTimeout"],(function(a,b,c,d,e,f,g){var h,i={},j=2;function k(a){delete i[a]}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$JSONPTransport$p_3=!1;c.$JSONPTransport$p_7=b;i[c.getID()]=babelHelpers.assertThisInitialized(c);return c}var d=b.prototype;d.getID=function(){return this.$JSONPTransport$p_4||(this.$JSONPTransport$p_4=j++)};d.hasFinished=function(){return!(this.getID()in i)};d.getRequestURI=function(){return new(h||(h=c("URI")))(this.$JSONPTransport$p_7).addQueryData({__a:1,__adt:this.getID(),__req:"jsonp_"+this.getID()})};d.getTransportFrame=function(){if(this.$JSONPTransport$p_5)return this.$JSONPTransport$p_5;var a="transport_frame_"+this.getID();a=c("HTML")('<iframe class="hidden_elem" name="'+a+'" src="javascript:void(0)" />');return this.$JSONPTransport$p_5=c("DOM").appendContent(document.body,a)[0]};d.send=function(){var a=this;this.getTransportFrame().onload=function(){return a.$JSONPTransport$p_8()};this.getTransportFrame().src=this.getRequestURI().toString();this.$JSONPTransport$p_2=c("TimeSlice").getGuardedContinuation("JSONPTransport: waiting for first response")};d.handleResponse=function(a){var b=this;this.$JSONPTransport$p_2==null?void 0:this.$JSONPTransport$p_2(function(){b.inform("response",a),b.hasFinished()?c("setTimeout")(function(){return b.$JSONPTransport$p_9()},0):b.$JSONPTransport$p_2=c("TimeSlice").getGuardedContinuation("JSONPTransport: waiting for next response")})};d.abort=function(){if(this.$JSONPTransport$p_1)return;this.$JSONPTransport$p_1=!0;this.$JSONPTransport$p_9();k(this.getID());this.inform("abort")};d.$JSONPTransport$p_8=function(){this.$JSONPTransport$p_3||this.abort()};d.$JSONPTransport$p_9=function(){this.$JSONPTransport$p_5&&(c("DOM").remove(this.$JSONPTransport$p_5),this.$JSONPTransport$p_5=null)};return b}(c("mixin")(c("ArbiterMixin")));a.respond=function(a,b,c){var d=i[a];if(d){d.$JSONPTransport$p_3=!0;c||k(a);b;if(typeof b==="string")c=JSON.parse(b);else{c=JSON.parse((a=JSON.stringify(b))!=null?a:"null")}d.handleResponse(c)}};a.respond=c("TimeSlice").guard(a.respond,"JSONPTransport.respond",{root:!0});g["default"]=a}),98);
__d("SessionName",["SessionNameConfig"],(function(a,b,c,d,e,f){e.exports={getName:function(){return b("SessionNameConfig").seed}}}),null);
__d("bind",[],(function(a,b,c,d,e,f){function a(a,b){var c=Array.prototype.slice.call(arguments,2);if(typeof b!=="string")return Function.prototype.bind.apply(b,[a].concat(c));function d(){var d=c.concat(Array.prototype.slice.call(arguments));if(a[b])return a[b].apply(a,d)}d.toString=function(){return"bound lazily: "+a[b]};return d}e.exports=a}),null);
__d("executeAfter",[],(function(a,b,c,d,e,f){function a(a,b,c){return function(){a.apply(c||this,arguments),b.apply(c||this,arguments)}}e.exports=a}),null);
__d("isSparkDotMetaDotComURI",[],(function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)spark\\.meta\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}f["default"]=a}),66);
__d("AsyncRequest",["errorCode","fbt","invariant","Arbiter","AsyncDOM","AsyncRequestConfig","AsyncResponse","Bootloader","CSS","DTSG","DTSG_ASYNC","Deferred","Env","ErrorGuard","Event","FBLogger","FetchStreamTransport","HTTPErrors","HasteResponse","PHPQuerySerializer","Parent","Promise","ResourceTimingsStore","ResourceTypes","Run","ScriptPath","ServerJS","SessionName","TimeSlice","URI","UserAgent_DEPRECATED","ZeroRewrites","bind","clearTimeout","emptyFunction","executeAfter","fb-error","ge","getAsyncHeaders","getAsyncParams","gkx","goURI","isBulletinDotComURI","isEmpty","isFacebookURI","isHorizonDotMetaDotComURI","isInternalFBURI","isMessengerDotComURI","isSparkDotMetaDotComURI","isWorkDotMetaDotComURI","isWorkplaceDotComURI","isWorkroomsDotComURI","performanceAbsoluteNow","promiseDone","replaceTransportMarkers","setTimeout","setTimeoutAcrossTransitions","unrecoverableViolation","uriIsRelativePath"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l,m,n,o,p,q;f=19e3;h=500;var r=1006,s=1004,t=1010,u=new Set([h,t,s,r]),v=!1;d("Run").onAfterUnload(function(){v=!0});function w(){return v}function x(a){return"onprogress"in a}function y(a){return"upload"in a&&"onprogress"in a.upload}function z(a){return"withCredentials"in a}function A(a){return a.status in{0:1,12029:1,12030:1,12031:1,12152:1}}function B(a){a=!a||typeof a==="function";a||c("FBLogger")("asyncresponse").mustfix("AsyncRequest response handlers must be functions. Pass a function, or use bind() to build one.");return a}var C=2,D=C,E=!1;c("Arbiter").subscribe("page_transition",function(a,b){!E?D=b.id:E=!1});var F="for (;;);",G=F.length,H=function(){function a(b){var e=this,f;this._allowIrrelevantRequests=!1;this._delayPreDisplayJS=!1;this._shouldReplaceTransportMarkers=!1;this._dispatchErrorResponse=function(a,b){var d=a.getError();e.clearStatusIndicator();if(!e._isRelevant()||d===t){e.abort();return}if(e._isServerDialogErrorCode(d)){var f=d==1357008||d==1357007;e.interceptHandler(a);d==1357041?e._solveQuicksandChallenge(a):d==1357007?e._displayServerDialog(a,f,!0):e._displayServerDialog(a,f)}else if(e.initialHandler(a)!==!1){c("clearTimeout")(e.timer);try{b(a)}catch(b){e.finallyHandler(a);throw b}e.finallyHandler(a)}};this._onStateChange=function(){var b=e.transport;if(!b)return;try{a._inflightCount--;d("ResourceTimingsStore").measureResponseReceived(c("ResourceTypes").XHR,e.resourceTimingStoreUID);try{b.getResponseHeader("X-FB-Debug")&&(e._xFbServer=b.getResponseHeader("X-FB-Debug"),c("fb-error").ErrorXFBDebug.add(e._xFbServer))}catch(a){}if(b.status>=200&&b.status<300)a.lastSuccessTime=Date.now(),e._handleXHRResponse(b);else if(d("UserAgent_DEPRECATED").webkit()&&typeof b.status==="undefined")e._invokeErrorHandler(1002);else if(c("AsyncRequestConfig").retryOnNetworkError&&A(b)&&e.remainingRetries>0&&!e._requestTimeout){e.remainingRetries--;delete e.transport;e.send(!0);return}else e._invokeErrorHandler();e.getOption("asynchronous_DEPRECATED")!==!1&&delete e.transport}catch(a){if(w())return;delete e.transport;e.remainingRetries>0?(e.remainingRetries--,e.send(!0)):(e.getOption("suppressErrorAlerts")||c("FBLogger")("AsyncRequest").catching(a).mustfix("AsyncRequest exception when attempting to handle a state change"),e._invokeErrorHandler(1007))}};this._handleTimeout=function(){e.continuation.last(function(){e._requestTimeout=!0;var a=e.timeoutHandler;e.abandon();a&&a(e);c("setTimeout")(function(){c("Arbiter").inform("AsyncRequest/timeout",{request:e})},0)})};this.continuation=c("TimeSlice").getPlaceholderReusableContinuation();this.transport=null;this.method="POST";this.uri="";this.timeout=null;this.timer=null;this.initialHandler=f=c("emptyFunction");this.handler=null;this.uploadProgressHandler=null;this.errorHandler=c("AsyncResponse").defaultErrorHandler;this.transportErrorHandler=null;this.timeoutHandler=null;this.interceptHandler=f;this.finallyHandler=f;this.abortHandler=f;this.serverDialogCancelHandler=null;this.relativeTo=null;this.statusElement=null;this.statusClass="";this.data={};this.headers={};this.file=null;this.context={};this.readOnly=!1;this.writeRequiredParams=[];this.remainingRetries=0;this.userActionID="-";this.resourceTimingStoreUID=d("ResourceTimingsStore").getUID(c("ResourceTypes").XHR,b!=null?b.toString():"");this.flushedResponseTextParseIndex=0;this.option={asynchronous_DEPRECATED:!0,suppressErrorHandlerWarning:!1,suppressEvaluation:!1,suppressErrorAlerts:!1,retries:0,bundle:!1,useIframeTransport:!1,handleErrorAfterUnload:!1,useFetchWithIframeFallback:!1};this.transportErrorHandler=c("bind")(this,"errorHandler");b!==void 0&&this.setURI(b);this.setAllowCrossPageTransition(c("AsyncRequestConfig").asyncRequestsSurviveTransitionsDefault||!1)}var f=a.prototype;f._dispatchResponse=function(a){this.clearStatusIndicator();if(!this._isRelevant()){this._invokeErrorHandler(t);return}if(this.initialHandler(a)===!1)return;c("clearTimeout")(this.timer);var b,d=this.getHandler();if(d)try{b=this._shouldSuppressJS(d(a))}catch(b){a.is_last&&this.finallyHandler(a);throw b}b||this._handleJSResponse(a);a.is_last&&this.finallyHandler(a)};f._shouldSuppressJS=function(b){return b===a.suppressOnloadToken};f._handlePreDisplayServerJS=function(a,b){var d=!1,e=[],f=function(){if(d){c("FBLogger")("AsyncResponse").warn("registerToBlockDisplayUntilDone_DONOTUSE called after AsyncResponse display started. This is a no-op.");return function(){}}var a,b=new(c("Deferred"))();e.push(b.getPromise());return c("TimeSlice").guard(function(){a&&c("clearTimeout")(a),b.resolve()},"AsyncRequestDisplayBlockingEvent",{propagationType:c("TimeSlice").PropagationType.EXECUTION})};a.handle(b,{bigPipeContext:{registerToBlockDisplayUntilDone_DONOTUSE:f}});d=!0;return e};f._hasEvalDomOp=function(a){return a&&a.length?a.some(function(a){return a[0]==="eval"}):!1};f._handleJSResponse=function(a){var b=this.getRelativeTo(),e=a.domops,f=a.dtsgToken,g=a.dtsgAsyncGetToken,h=a.jsmods,i=a.savedServerJSInstance;i&&i instanceof c("ServerJS")?i=i:i=new(c("ServerJS"))();i.setRelativeTo(b);if(h){var j={define:h.define,instances:h.instances,markup:h.markup};delete h.define;delete h.instances;delete h.markup;this._hasEvalDomOp(e)&&(j.elements=h.elements,delete h.elements);i.handle(j)}j=new(m||(m=c("URI")))(this.uri);(!j.getDomain()&&!j.getProtocol()||document.location.origin===j.getOrigin())&&(f&&d("DTSG").setToken(f),g&&d("DTSG_ASYNC").setToken(g));e&&(q||(q=c("ErrorGuard"))).applyWithGuard(function(){return d("AsyncDOM").invoke(e,b)},null,[],{errorType:"warn"});h&&i.handle(h);this._handleJSRegisters(a,"onload");this._handleJSRegisters(a,"onafterload")};f._handleJSRegisters=function(a,b){a=a[b];if(a)for(b=0;b<a.length;b++){var d=null,e=a[b],f=e.match(/^\"caller:([^\"]+?)\";(.*)/);f!=null&&(d=f[1],e=f[2]);(q||(q=c("ErrorGuard"))).applyWithGuard(new Function(e),this,[]);c("FBLogger")("comet_infra").info("Detected dynamic new Function(...) call in AsyncRequest._handleJSRegisters(...).",new(m||(m=c("URI")))(this.uri).getPath(),d)}};f.invokeResponseHandler=function(a){var e=this;if(typeof a.redirect!=="undefined"){c("setTimeout")(function(){e.setURI(a.redirect,!0).send()},0);return}if(a.bootloadOnly!==void 0){var f=typeof a.bootloadOnly==="string"?JSON.parse(a.bootloadOnly):a.bootloadOnly,g=function(a){c("TimeSlice").guard(function(){c("Bootloader").loadPredictedResourceMap(a)},"Bootloader.loadPredictedResourceMap",{root:!0})()};for(f of f)g(f);return}if(!this.handler&&!this.errorHandler&&!this.transportErrorHandler&&!this.preBootloadHandler&&this.initialHandler===c("emptyFunction")&&this.finallyHandler===c("emptyFunction"))return;var h=a.asyncResponse;if(typeof h!=="undefined"){if(!this._isRelevant()){this._invokeErrorHandler(t);return}h.updateScriptPath&&c("ScriptPath").set(h.updateScriptPath.path,h.updateScriptPath.token,h.updateScriptPath.extra_info);h.lid&&(this._responseTime=Date.now(),this.lid=h.lid);d("HasteResponse").handleSRPayload((g=h.hsrp)!=null?g:{});var i,j;if(h.getError()&&!h.getErrorIsWarning()){f=this.getErrorHandler().bind(this);i=(q||(q=c("ErrorGuard"))).guard(this._dispatchErrorResponse,{name:"AsyncRequest#_dispatchErrorResponse for "+this.getURI()});i=i.bind(this,h,f);j="error"}else{i=(q||(q=c("ErrorGuard"))).guard(this._dispatchResponse.bind(this),{name:"AsyncRequest#_dispatchResponse for "+this.getURI()});i=i.bind(this,h);j="response";g=h.domops;if(!this._delayPreDisplayJS&&h.jsmods&&h.jsmods.pre_display_requires&&!this._hasEvalDomOp(g)){f=h.jsmods;g={define:f.define,instances:f.instances,markup:f.markup};delete f.define;delete f.instances;delete f.markup;g.pre_display_requires=f.pre_display_requires;delete f.pre_display_requires;f=new(c("ServerJS"))();f.setRelativeTo(this.getRelativeTo());h.savedServerJSInstance=f;var k=this._handlePreDisplayServerJS(f,g);if(k&&k.length){var m=i;i=function(){c("promiseDone")((l||(l=b("Promise"))).all(k).then(m))}}}}var o=(n||(n=c("performanceAbsoluteNow")))();i=c("executeAfter")(i,function(){c("Arbiter").inform("AsyncRequest/"+j,{request:e,response:h,ts:o})});this.preBootloadHandler&&this.preBootloadHandler(h);c("Bootloader").loadResources((f=h.allResources)!=null?f:[],{onAll:c("AsyncRequestConfig").immediateDispatch?i:function(){c("setTimeout")(i,0)}})}else typeof a.transportError!=="undefined"?this._xFbServer?this._invokeErrorHandler(1008):this._invokeErrorHandler(1012):this._invokeErrorHandler(1007)};f._invokeErrorHandler=function(a){var b=this,d=this.transport;if(!d)return;var e;if(this.responseText==="")e=1002;else if(this._requestAborted)e=1011;else{try{e=a||d.status||s}catch(a){e=1005}!1===navigator.onLine&&(e=r)}var f,g;a=!0;if(e===r)g=i._("__JHASH__zia6hGr6i8P__JHASH__"),f=i._("__JHASH__PjKFkAw4Nck__JHASH__");else if(e>=300&&e<=399){g=i._("__JHASH__SUtyZBh0Rzk__JHASH__");f=i._("__JHASH__StinKHRkRou__JHASH__");var h=d.getResponseHeader("Location");h&&c("goURI")(h,!0);a=!0}else g=i._("__JHASH__zR4dpqEC6W7__JHASH__"),f=i._("__JHASH__7UBdKMXdKi6__JHASH__");var j=new(c("AsyncResponse"))(this,d);Object.assign(j,{error:e,errorSummary:g,errorDescription:f,silentError:a});c("setTimeout")(function(){c("Arbiter").inform("AsyncRequest/error",{request:b,response:j})},0);if(w()&&!this.getOption("handleErrorAfterUnload"))return;if(!this.transportErrorHandler){c("FBLogger")("asyncresponse").mustfix("Async request to %s failed with a %d error, but there was no error handler available to deal with it.",this.getURI(),e);return}h=this.getTransportErrorHandler().bind(this);!(this.getOption("suppressErrorAlerts")||u.has(e))?c("FBLogger")("asyncresponse").addToCategoryKey(String(e)).mustfix("Async request failed with error %s: %s when requesting %s",e,f.toString(),this.getURI()):u.has(e)&&c("FBLogger")("asyncresponse").addToCategoryKey(String(e)).warn("Async request failed with error %s: %s when requesting %s",e,f.toString(),this.getURI());(q||(q=c("ErrorGuard"))).applyWithGuard(this._dispatchErrorResponse,this,[j,h])};f._isServerDialogErrorCode=function(a){return a==1357008||a==1357007||a==1357041||a==1442002||a==1357001};f._solveQuicksandChallenge=function(a){var b=this,d=a.getPayload();c("Bootloader").loadModules(["QuickSandSolver"],function(a){a.solveAndSendRequestBack(b,d)},"AsyncRequest")};f._displayServerDialog=function(a,b,d){var e=this;d===void 0&&(d=!1);var f=a.getPayload();if(f.__dialog!==void 0){this._displayServerLegacyDialog(a,b);return}b=f.__dialogx;new(c("ServerJS"))().handle(b);if(f.__should_use_mwa_reauth===!0){c("Bootloader").loadModules(["MWADeveloperReauthBarrier"],function(b){b.registerRequest(f.__dialogID,e,a)},"AsyncRequest");return}c("Bootloader").loadModules(["ConfirmationDialog"],function(b){b.setupConfirmation(a,e,d)},"AsyncRequest")};f._displayServerLegacyDialog=function(a,b){var d=this,e=a.getPayload().__dialog;if(c("gkx")("20935")){var f;c("FBLogger")("comet_infra").addMetadata("COMET_INFRA","ERROR_CODE",a.getError().toString()).addMetadata("COMET_INFRA","ERROR_URL",(f=(f=a.request)==null?void 0:f.getURI())!=null?f:"unknown").mustfix("AsyncRequest._displayServerLegacyDialog called in Comet")}c("Bootloader").loadModules(["Dialog"],function(c){c=new c(e);b&&c.setHandler(d._displayConfirmationHandler.bind(d,c));c.setCancelHandler(function(){var b=d.getServerDialogCancelHandler();try{b&&b(a)}catch(a){throw a}finally{d.finallyHandler(a)}}).setCausalElement(d.relativeTo).show()},"AsyncRequest")};f._displayConfirmationHandler=function(a){this.data.confirmed=1,Object.assign(this.data,a.getFormData()),this.send()};f._setJSONPTransport=function(a){a.subscribe("response",this._handleJSONPResponse.bind(this)),a.subscribe("abort",this._handleJSONPAbort.bind(this)),this.transport=a};f._handleJSONPResponse=function(a,b){a=this.transport;if(!a)return;b.bootloadOnly||(this.is_first=this.is_first===void 0);b=this._interpretResponse(b);b.asyncResponse&&(b.asyncResponse.is_first=this.is_first,b.asyncResponse.is_last=a.hasFinished());this.invokeResponseHandler(b);a.hasFinished()&&delete this.transport};f._handleJSONPAbort=function(){this._invokeErrorHandler(),delete this.transport};f._handleXHRResponse=function(a){var b;if(this.getOption("suppressEvaluation"))b={asyncResponse:new(c("AsyncResponse"))(this,a)};else try{this._handleFlushedResponse();a=a.responseText;a=this._filterOutFlushedText(a);a=this._unshieldResponseText(a);a=JSON.parse(a);b=this._interpretResponse(a)}catch(a){b=a.message,c("FBLogger")("async_request").catching(a).warn("Failed to handle response")}this.invokeResponseHandler(b)};f._handleFlushedResponse=function(){var a=this.flushedResponseHandler,b=this.transport;if(a&&b){var c=b.responseText.indexOf(F);c=c===-1?b.responseText.length:c;a(b.responseText.substring(this.flushedResponseTextParseIndex,c));this.flushedResponseTextParseIndex=c}};f._unshieldResponseText=function(a){if(a.length<=G)throw new Error("Response too short on async");var b=0;while(a.charAt(b)==" "||a.charAt(b)=="\n")b++;b&&a.substring(b,b+G)==F;return a.substring(b+G)};f._filterOutFlushedText=function(a){if(!this.flushedResponseHandler)return a;var b=a.indexOf(F);return b<0?a:a.substr(b)};f._interpretResponse=function(a){if(a.redirect)return{redirect:a.redirect};if(a.bootloadOnly)return{bootloadOnly:a.bootloadOnly};var b=a.error&&this._isServerDialogErrorCode(a.error);this._shouldReplaceTransportMarkers&&a.payload&&!b&&c("replaceTransportMarkers")({relativeTo:this.getRelativeTo(),bigPipeContext:null},a.payload);b=new(c("AsyncResponse"))(this);if(a.__ar!=1)c("FBLogger")("AsyncRequest").warn("AsyncRequest to endpoint %s returned a JSON response, but it is not properly formatted. The endpoint needs to provide a response using the AsyncResponse class in PHP.",this.getURI()),b.payload=a;else{Object.assign(b,a);a=this.transport;a&&a.getAllResponseHeaders!==void 0&&(b.responseHeaders=a.getAllResponseHeaders())}return{asyncResponse:b}};f._isMultiplexable=function(){if(this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback")){c("FBLogger")("AsyncRequest").mustfix("You cannot bundle AsyncRequest that uses iframe transport.");return!1}if(!c("isFacebookURI")(new(m||(m=c("URI")))(this.uri))){c("FBLogger")("AsyncRequest").mustfix("You can not bundle AsyncRequest sent to non-facebook URIs.  Uri: %s",this.getURI());return!1}if(!this.getOption("asynchronous_DEPRECATED")){c("FBLogger")("AsyncRequest").mustfix("We cannot bundle synchronous AsyncRequests");return!1}return!0};f.handleResponse=function(a){a=this._interpretResponse(a);this.invokeResponseHandler(a)};f.setMethod=function(a){this.method=a.toString().toUpperCase();return this};f.getMethod=function(){return this.method};f.setData=function(a){this.data=a;return this};f.setRequestHeader=function(a,b){this.headers[a]=b;return this};f.setRawData=function(a){this.rawData=a;return this};f.getData=function(){return this.data};f.setContextData=function(a,b,c){c=c===void 0?!0:c;c&&(this.context["_log_"+a]=b);return this};f._setUserActionID=function(){this.userActionID=(d("SessionName").getName()||"-")+"/-"};f.setURI=function(a,b){b===void 0&&(b=!1);typeof a==="string"&&a.match(/^\/?u_\d+_\d+/)&&c("FBLogger")("asyncrequest").warn("Invalid URI %s",a);var e=new(m||(m=c("URI")))(a);if((this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"))&&!c("isFacebookURI")(e)){b&&j(0,45284);return this}if(!this._allowCrossOrigin&&!this.getOption("useIframeTransport")&&!this.getOption("useFetchWithIframeFallback")&&!e.isSameOrigin()&&!c("uriIsRelativePath")(e)){b&&j(0,45285);return this}this._setUserActionID();if(!a||e.isEmpty()){c("FBLogger")("async_request").mustfix("URI cannot be empty");return this}this.uri=d("ZeroRewrites").rewriteURI(e);return this};f.getURI=function(){return this.uri.toString()};f.delayPreDisplayJS=function(a){a===void 0&&(a=!0);this._delayPreDisplayJS=a;return this};f.setInitialHandler=function(a){this.initialHandler=a;return this};f.setPayloadHandler=function(a){this.setHandler(function(b){a(b.payload)});return this};f.setHandler=function(a){B(a)&&(this.handler=a);return this};f.setFlushedResponseHandler=function(a){B(a)&&(this.flushedResponseHandler=a);return this};f.getHandler=function(){return this.handler||c("emptyFunction")};f.setProgressHandler=function(a){B(a)&&(this.progressHandler=a);return this};f.setUploadProgressHandler=function(a){B(a)&&(this.uploadProgressHandler=a);return this};f.setErrorHandler=function(a){B(a)&&(this.errorHandler=a);return this};f.setTransportErrorHandler=function(a){this.transportErrorHandler=a;return this};f.getErrorHandler=function(){return this.errorHandler||c("emptyFunction")};f.getTransportErrorHandler=function(){return this.transportErrorHandler||c("emptyFunction")};f.setTimeoutHandler=function(a,b){B(b)&&(this.timeout=a,this.timeoutHandler=b);return this};f.resetTimeout=function(a){if(!(this.timeoutHandler===null))if(a===null)this.timeout=null,c("clearTimeout")(this.timer),this.timer=null;else{var b=!this._allowCrossPageTransition;this.timeout=a;c("clearTimeout")(this.timer);b?this.timer=c("setTimeout")(this._handleTimeout.bind(this),this.timeout):this.timer=c("setTimeoutAcrossTransitions")(this._handleTimeout.bind(this),this.timeout)}return this};f.setNewSerial=function(){this.id=++C;return this};f.setInterceptHandler=function(a){this.interceptHandler=a;return this};f.setFinallyHandler=function(a){this.finallyHandler=a;return this};f.setAbortHandler=function(a){this.abortHandler=a;return this};f.getServerDialogCancelHandler=function(){return this.serverDialogCancelHandler};f.setServerDialogCancelHandler=function(a){this.serverDialogCancelHandler=a;return this};f.setPreBootloadHandler=function(a){this.preBootloadHandler=a;return this};f.setReadOnly=function(a){typeof a!=="boolean"||(this.readOnly=a);return this};f.getReadOnly=function(){return this.readOnly};f.setRelativeTo=function(a){this.relativeTo=a;return this};f.getRelativeTo=function(){return this.relativeTo};f.setStatusClass=function(a){this.statusClass=a;return this};f.setStatusElement=function(a){this.statusElement=a;return this};f.getStatusElement=function(){return c("ge")(this.statusElement)};f._isRelevant=function(){if(this._allowCrossPageTransition)return!0;return!this.id?!0:this.id>D};f.clearStatusIndicator=function(){var a=this.getStatusElement();a&&(d("CSS").removeClass(a,"async_saving"),d("CSS").removeClass(a,this.statusClass))};f._addStatusIndicator=function(){var a=this.getStatusElement();a&&(d("CSS").addClass(a,"async_saving"),d("CSS").addClass(a,this.statusClass))};f.specifiesWriteRequiredParams=function(){var a=this;return this.writeRequiredParams.every(function(b){a.data[b]=a.data[b]||(o||(o=c("Env")))[b]||(c("ge")(b)||{}).value;return a.data[b]!==void 0?!0:!1})};f.setOption=function(a,b){typeof this.option[a]!=="undefined"&&(this.option[a]=b);return this};f.getOption=function(a){typeof this.option[a]==="undefined";return this.option[a]};f.abort=function(){var a=this;this.continuation.last(function(){var b=a.transport;if(b){var d=a.getTransportErrorHandler();a.setOption("suppressErrorAlerts",!0);a.setTransportErrorHandler(c("emptyFunction"));a._requestAborted=!0;b.abort();a.setTransportErrorHandler(d)}a.abortHandler();K.unschedule(a)})};f.abandon=function(){var a=this;this.continuation.last(function(){var b;c("clearTimeout")(a.timer);a.setOption("suppressErrorAlerts",!0).setHandler(b=c("emptyFunction")).setErrorHandler(b).setTransportErrorHandler(b).setProgressHandler(b).setUploadProgressHandler(b);b=a.transport;b&&(a._requestAborted=!0,x(b)&&delete b.onprogress,y(b)&&delete b.upload.onprogress,b.abort());a.abortHandler();K.unschedule(a)})};f.setNectarModuleDataSafe=function(a){var b=this.setNectarModuleData;b&&b.call(this,a);return this};f.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;this.timer&&this.resetTimeout(this.timeout);return this};f.getAllowIrrelevantRequests=function(){return this._allowIrrelevantRequests};f.setAllowIrrelevantRequests=function(a){this._allowIrrelevantRequests=a;return this};f.setAllowCrossOrigin=function(a){this._allowCrossOrigin=a;return this};f.setAllowCredentials=function(a){this._allowCredentials=a;return this};f.setIsBackgroundRequest=function(a){this._isBackgroundRequest=a;return this};f.setReplaceTransportMarkers=function(a){a===void 0&&(a=!0);this._shouldReplaceTransportMarkers=a;return this};f.sendAndReturnAbortHandler=function(){var a=this;this.send();return function(){return a.abort()}};f.send=function(b){var f=this;b=b||!1;if(!this.uri)return!1;this.errorHandler||!this.getOption("suppressErrorHandlerWarning");(this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"))&&this.method!="GET"&&this.setMethod("GET");this.timeoutHandler!==null&&(this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"));if(!this.getReadOnly()){this.specifiesWriteRequiredParams();if(this.method!="POST")return!1}if(document.location.search.toString().includes(this.uri.toString()))return!1;if(this.uri.toString().includes("/../")||this.uri.toString().includes("\\../")||this.uri.toString().includes("/..\\")||this.uri.toString().includes("\\..\\"))return!1;Object.assign(this.data,c("getAsyncParams")(this.method));(p||(p=c("isEmpty")))(this.context)||(Object.assign(this.data,this.context),this.data.ajax_log=1);(o||(o=c("Env"))).force_param&&Object.assign(this.data,(o||(o=c("Env"))).force_param);this._setUserActionID();if(this.getOption("bundle")&&this._isMultiplexable()){K.schedule(this);return!0}this.setNewSerial();this.getOption("asynchronous_DEPRECATED")||this.uri.addQueryData({__sjax:1});c("Arbiter").inform("AsyncRequest/send",{request:this,ts:(n||(n=c("performanceAbsoluteNow")))()});var g,h;this.method=="GET"&&this.uri.addQueryData({fb_dtsg_ag:d("DTSG_ASYNC").getToken()});this.method=="GET"||this.rawData?(g=this.uri.addQueryData(this.data).toString(),h=this.rawData||""):(this._allowCrossOrigin&&this.uri.addQueryData({__a:1}),g=this.uri.toString(),h=(k||(k=d("PHPQuerySerializer"))).serialize(this.data));if(this.transport)return!1;if(this.getOption("useFetchWithIframeFallback"))try{var i=new(c("FetchStreamTransport"))(this.uri);this._setJSONPTransport(i);this._markRequestSent();i.send();this.setOption("useIframeTransport",!1);return!0}catch(a){this.setOption("useFetchWithIframeFallback",!1),this.setOption("useIframeTransport",!0)}if(this.getOption("useIframeTransport")){e(["JSONPTransport"],function(a){a=new a(f.uri);f._setJSONPTransport(a);f._markRequestSent();a.send()});return!0}this.flushedResponseHandler&&(this.flushedResponseTextParseIndex=0);var j;try{j=d("ZeroRewrites").getTransportBuilderForURI(this.uri)()}catch(a){throw c("unrecoverableViolation")(a.message,"comet_infra",{},{blameToPreviousFrame:1})}if(!j)return!1;this.schedule("AsyncRequest.send");j.onreadystatechange=function(){var a=f.transport;a&&a.readyState>=2&&a.readyState<=3&&f._handleFlushedResponse();j.readyState===4&&f.continuation.last(f._onStateChange)};this.progressHandler&&x(j)&&(j.onprogress=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];f.continuation(function(){f.progressHandler&&f.progressHandler.apply(f,b)})});this.uploadProgressHandler&&y(j)&&(j.upload.onprogress=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];f.continuation(function(){f.uploadProgressHandler&&f.uploadProgressHandler.apply(f,b)})});b||(this.remainingRetries=this.getOption("retries"));this.transport=j;try{j.open(this.method,g,c("gkx")("25571")?!0:this.getOption("asynchronous_DEPRECATED"))}catch(a){return!1}if(!this.uri.isSameOrigin()&&!c("uriIsRelativePath")(this.uri)&&!this.getOption("useIframeTransport")&&!this.getOption("useFetchWithIframeFallback")){if(!z(j))return!1;this._canSendCredentials()&&(j.withCredentials=!0)}this.method=="POST"&&!this.rawData&&j.setRequestHeader("Content-Type","application/x-www-form-urlencoded");this._isBackgroundRequest&&j.setRequestHeader("X-FB-BACKGROUND-STATE","1");var l=c("getAsyncHeaders")(this.uri);Object.keys(l).forEach(function(a){j&&j.setRequestHeader(a,l[a])});c("Arbiter").inform("AsyncRequest/will_send",{request:this});if(j)for(i in this.headers)Object.prototype.hasOwnProperty.call(this.headers,i)&&j.setRequestHeader(i,this.headers[i]);this._addStatusIndicator();this._markRequestSent();j.send(h);this.timeout!==null&&this.resetTimeout(this.timeout);a._inflightCount++;return!0};f.schedule=function(a){this.continuation=c("TimeSlice").getReusableContinuation(a)};f._canSendCredentials=function(){if(this._allowCredentials===!1)return!1;var a=new(m||(m=c("URI")))(this.uri);return c("isBulletinDotComURI")(a)||c("isFacebookURI")(a)||c("isInternalFBURI")(a)||c("isMessengerDotComURI")(a)||c("isWorkplaceDotComURI")(a)||c("isWorkroomsDotComURI")(a)||c("isWorkDotMetaDotComURI")(a)||c("isHorizonDotMetaDotComURI")(a)||c("isSparkDotMetaDotComURI")(a)};f._markRequestSent=function(){var a=new(m||(m=c("URI")))(this.getURI()).getQualifiedURI().toString();d("ResourceTimingsStore").updateURI(c("ResourceTypes").XHR,this.resourceTimingStoreUID,a);d("ResourceTimingsStore").annotate(c("ResourceTypes").XHR,this.resourceTimingStoreUID).addStringAnnotation("uri",a);d("ResourceTimingsStore").measureRequestSent(c("ResourceTypes").XHR,this.resourceTimingStoreUID)};f.promisePayload=function(a){return this.exec().then(function(a){return a.payload},function(a){throw a.toError()})};f.exec=function(a){var d=this;if(this.getHandler()!==c("emptyFunction")||this.getErrorHandler()!==c("AsyncResponse").defaultErrorHandler)throw new Error("exec is an async function and does not allow previously set handlers");return new(l||(l=b("Promise")))(function(b,c){d.setHandler(b).setErrorHandler(c).send(a)})};a.bootstrap=function(b,e,f){var g="GET",h=!0,i={};(f||e&&e.rel=="async-post")&&(g="POST",h=!1,b&&(b=new(m||(m=c("URI")))(b),i=b.getQueryData(),b.setQueryData({})));f=d("Parent").byClass(e,"stat_elem")||e;if(f&&d("CSS").hasClass(f,"async_saving"))return!1;b=new a(b).setReadOnly(h).setMethod(g).setData(i).setNectarModuleDataSafe(e).setRelativeTo(e);e&&(b.setHandler(function(a){c("Event").fire(e,"success",{response:a})}),b.setErrorHandler(function(a){c("Event").fire(e,"error",{response:a})!==!1&&c("AsyncResponse").defaultErrorHandler(a)}));if(f instanceof HTMLElement){b.setStatusElement(f);h=f.getAttribute("data-status-class");h&&b.setStatusClass(h)}b.send();return!1};a.bootstrap_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES=function(b,c,d){a.bootstrap(b,c,d)};a.post=function(b,c){new a(b).setReadOnly(!1).setMethod("POST").setData(c).send();return!1};a.post_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES=function(b,c){a.post(b,c)};a.getLastID=function(){return C};a.ignoreUpdate=function(){E=!0};a.getInflightCount=function(){return this._inflightCount};return a}();H._inflightCount=0;var I,J=[],K=function(){function a(){this._requests=[]}var b=a.prototype;b.add=function(a){this._requests.push(a)};b.remove=function(a){var b=this._requests,c=this._requestsSent;for(var d=0,e=b.length;d<e;d++)b[d]===a&&(c?b[d]=null:b.splice(d,1))};b.send=function(){this._requestsSent&&j(0,4390);this._requestsSent=!0;this._wrapperRequest=null;var a=this._requests;if(!a.length)return;var b;if(a.length===1)b=a[0];else{a=a.filter(Boolean).map(function(a){return[a.uri.getPath(),(k||(k=d("PHPQuerySerializer"))).serialize(a.data)]});b=this._wrapperRequest=new H("/ajax/proxy.php").setAllowCrossPageTransition(!0).setData({data:a}).setHandler(this._handler.bind(this)).setTransportErrorHandler(this._transportErrorHandler.bind(this))}b&&b.setOption("bundle",!1).send()};b._handler=function(a){var b=this,c=a.getPayload().responses;if(c.length!==this._requests.length)return;a=function(a){var d=b._requests[a];if(!d)return"continue";var e=d.uri.getPath();b._wrapperRequest&&(d.id=b._wrapperRequest.id);if(c[a][0]!==e){d.continuation.last(function(){d.invokeResponseHandler({transportError:"Wrong response order in bundled request to "+e})});return"continue"}d.continuation.last(function(){d.handleResponse(c[a][1])})};for(var d=0;d<this._requests.length;d++){var e=a(d);if(e==="continue")continue}J.splice(J.indexOf(this,1))};b._transportErrorHandler=function(a){var b=this,c={transportError:a.errorDescription};a=this._requests.filter(Boolean).map(function(a){b._wrapperRequest&&(a.id=b._wrapperRequest.id);a.invokeResponseHandler(c);return a.uri.getPath()})};a.schedule=function(b){b.schedule("AsyncMultiplex.schedule");I||(I=new a(),J.push(I),c("TimeSlice").guard(function(){c("setTimeoutAcrossTransitions")(function(){I&&(I.send(),I=null)},0)},"AsyncMultiplex.schedule",{propagationType:c("TimeSlice").PropagationType.ORPHAN})());I.add(b);return I};a.unschedule=function(a){J.forEach(function(b){b.remove(a)})};return a}();H.suppressOnloadToken={};a.AsyncRequest=H;g["default"]=H}),226);
__d("EventProfilerSham",[],(function(a,b,c,d,e,f){a={__wrapEventListenHandler:function(a){return a},tagCurrentActiveInteractionsAs:function(a){},setCurrentAdAccountId:function(a){},setAdsConfig:function(a){}};b=a;f["default"]=b}),66);
__d("ServiceWorkerCacheManagement",["regeneratorRuntime"],(function(a,b,c,d,e,f){function a(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(!("caches"in self)){a.next=3;break}a.next=3;return b("regeneratorRuntime").awrap(caches["delete"]("sr-cache-1"));case 3:case"end":return a.stop()}},null,this)}f.manageCache=a}),66);/*FB_PKG_DELIM*/
__d("CometTaskFramework",["BrowserLockManager","Promise","QuickPerformanceLogger","asyncToGeneratorRuntime","executeTask.xplat","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map();function k(a){return{issueTask:function(d,e,f){var g=c("qpl")._(164763515,"1216");(i||(i=c("QuickPerformanceLogger"))).markerStart(g);i.markerAnnotate(g,{string:{type:d}});var j=babelHelpers["extends"]({id:Math.random(),name:d,payload:e},f);return new(h||(h=b("Promise")))(function(d,e){var f=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{(i||(i=c("QuickPerformanceLogger"))).markerPoint(g,"execute");var b=(yield c("executeTask.xplat")(j.payload,{actorID:a,event:g,taskID:j.id},j.name));i.markerEnd(g,2);d(b)}catch(a){(i||(i=c("QuickPerformanceLogger"))).markerEnd(g,3),e(a)}});return function(){return f.apply(this,arguments)}}();if(!c("BrowserLockManager")||j.queue_name==null)return f();c("promiseDone")(c("BrowserLockManager")==null?void 0:c("BrowserLockManager").request(j.queue_name,f))})}}}function a(a){var b=j.get(a);b==null&&(b=k(a),j.set(a,b));return b}g["default"]=a}),98);
__d("IGDDataclassTypes.flow",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({Bold:"BOLD",Italic:"ITALIC",Strikethrough:"STRIKETHROUGH",Underline:"UNDERLINE",Invalid:"INVALID"});d=a({Once:"ONCE",Replayable:"REPLAYABLE",Permanent:"PERMANENT"});e=a({ShhMode:"SHH_MODE",DisappearingMessage:"DISAPPEARING_MESSAGE"});b=a({Share:"SHARE",Reply:"REPLY",React:"REACT",Mention:"MENTION"});var g=a({Note:"NOTE",Story:"STORY",Profile:"PROFILE",Clip:"CLIP",Feed:"FEED",Live:"LIVE",Comment:"COMMENT",LocationShare:"LOCATION_SHARE",ReelsAudio:"REELS_AUDIO",MediaNote:"MEDIA_NOTE",StoryHighlight:"STORY_HIGHLIGHT",SocialContext:"SOCIAL_CONTEXT"});a=a({Mention:"MENTION",Reply:"REPLY"});f.TextFormatStyle=c;f.ViewMode=d;f.EphemeralityProductType=e;f.XmsgIgXmaActionType=b;f.XmsgIgReceiverFetchContentType=g;f.XmsgIgReceiverFetchXmaMediaNoteFetchParamsMessageType=a}),66);
__d("IGDXMAAttachmentUtil",["bx"],(function(a,b,c,d,e,f,g){"use strict";d=c("bx").getURL(c("bx")("13341"));var h=String.fromCodePoint(128293),i=String.fromCodePoint(128546),j=String.fromCodePoint(128079),k=String.fromCodePoint(128558),l=String.fromCodePoint(128514),m=String.fromCodePoint(128525);function a(a){return a!=null?a===h||a===i||a===j||a===k||a===l?!0:a===m:!1}function b(a,b){return a==="xma_ig_comment_action_url"&&b==="xma_ig_comment_media_action_url"}g.DEFAULT_PROFILE_URL=d;g.isEmojiReaction=a;g.isXmaPostComment=b}),98);
__d("LSDatabaseSingletonLazyWrapper",["LSDatabaseSingleton"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton}g["default"]=a}),98);
__d("LSGetIfViewerIsWorkplaceUser",["gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,b=a[a.length-1],d=[];return d[0]=c("gkx")("26374"),b.resolve(d)}b=a;g["default"]=b}),98);
__d("LSGetThreadParticipantDisplayName",["LSGetIfViewerIsWorkplaceUser"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.storedProcedure(b("LSGetIfViewerIsWorkplaceUser")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return d[0]?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2352696798]),void 0).then(function(a){return d[4]=a})},function(a){return d[2]=d[4]}]):(b=a.item,d[2]=b.name)})},function(a){return d[1]=d[2]}]):c.sequence([function(b){return c.filter(c.db.table(14).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.nickname)})},function(b){return c.filter(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):(b=a.item,d[4]=b.firstName==null?b.name:b.firstName)})},function(a){return d[1]=d[2]==null?d[4]:d[2]}])},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSMessageRenderingType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2,RICH_TEXT_COMMON_MARK:3});f["default"]=a}),66);
__d("LSMessageReplySourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,LIGHTWEIGHT_STATUS:6,LIGHTWEIGHT_STATUS_REACTION:7,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16,AVATAR_DETAIL:17,NOTE_REPLY_ARMADILLO:18,HIGHLIGHTS_TAB_CARDS_FOR_MOM:19});f["default"]=a}),66);
__d("LSMessageSendStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SENDING_TO_SERVER:1,SERVER_RECEIVED:2,NON_RETRIABLE_ERROR:4,RETRIABLE_ERROR:5});f["default"]=a}),66);
__d("LSMessageThreadUnsendabilityStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_UNSEND:0,DENY_FOR_SPECIFIC_IDS:1,DENY_IF_THREAD_CONTAINS_PAU:2,DENY_IF_THREAD_CONTAINS_WORK_USER:3,DENY_IF_PAGE_THREAD:4,DENY_IF_MARKETPLACE_THREAD:5,DENY_IF_CANNOT_LOAD_THREAD:6,DENY_IF_THREAD_CONTAINS_WORK_USER_FAILING_KILLSWITCH:7,DENY_IF_CANONICAL_THREAD_CONTAINS_BLOCKED_USERS:8,DENY_IF_CANNOT_REPLY_TO_VIEWER_THREAD:9,DENY_IF_UNCONNECTED_THREAD:10});f["default"]=a}),66);
__d("MessagingThreadSubtype",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN_MODEL_V2_THREAD:1,FB_GROUP_CHAT:2,MARKETPLACE_THREAD:3,SCHOOL_CHAT:4,DEPRECATED__WORK_SYNCED_CHAT:5,ADMIN_NOT_SUPPORTED_THREAD:6,BELL_SYNCED_CHAT:7,GAMES_APP_THREAD:8,VAULT_CHAT:9,VERSE_CHAT:10,GENERIC_COMMERCE_THREAD:11,USER_JOB_THREAD:12,COWORKER_GROUP_THREAD:13,APPROVAL_ENFORCED_CHATROOM_THREAD:14,PARENT_APPROVED_SHEPHERD_MANAGED_THREAD:15,CAMPUS_GROUP_THREAD:16,LOCAL_COMMUNITIES_THREAD:17,CHAT_FOR_ROOM_THREAD:18,GAMING_PLAY_SQUAD:19,CHAT_FOR_GROUP_ADMIN_TO_MEMBER_THREAD:20,EITM_BACKED_IG_1TO1_THREAD:21,LEARNING_SPACE:23,E2EE_GROUP_THREAD_METADATA:24,IGD_BC_PARTNERSHIP:25,E2EE_1TO1_THREAD_METADATA:26,JOBS_CAREER_GROUP_THREAD:27,IG_CREATOR_SUBSCRIBER_GROUP_THREAD:28,IG_CREATOR_SUBSCRIBER_BROADCAST_CHAT:29,BUSINESS_SUPPORT_THREAD:30,TAGGED_PII_DATA:31,IG_DISCOVERABLE_CHAT_THREAD:32,SUPPORT_MESSAGING_THREAD:33,DISCOVERABLE_PUBLIC_CHAT:34,DISCOVERABLE_PUBLIC_BROADCAST_CHAT:35,DISCOVERABLE_PUBLIC_CHAT_V2:36,IG_DISCOVERABLE_CHAT_THREAD_V2:37,OCULUS_MEDIA_MESSAGING:38,WORK_CHAT_THREAD_CENTRIC:39,COMMUNITY_MESSAGING_PUBLIC_THREAD:40,COMMUNITY_MESSAGING_PRIVATE_THREAD:41,COMMUNITY_MESSAGING_ADMOD_THREAD:42,COMMUNITY_MESSAGING_BROADCAST_THREAD:43,IG_E2EE_GROUP_THREAD_METADATA:44,IG_NFT_BROADCAST_CHAT:45,STANDALONE_COMMUNITY_STANDARD_THREAD:46,IGD_GROUP:47,WORKCHAT_GROUP_THREAD:48,WORKROOM_GROUP_THREAD:49,OCULUS_GROUP_THREAD:50,INTEROP_GROUP:51,IG_BTV_E2EE_1TO1_THREAD_METADATA:52,COMMUNITY_MESSAGING_HELPER_BOT_THREAD:53,COMMUNITY_MESSAGING_SUB_THREAD:54,IG_GROUP_PROFILES:55,IG_PRIVATE_EVENT:56,WA_GENAI_BOT_MAILBOX_THREAD:57,MESSENGER_GENAI_BOT_MAILBOX_THREAD:58,IG_GENAI_BOT_MAILBOX_THREAD:59,E2EE_COMMUNITY_CHAT_METADATA:60,IG_SUBSCRIBER_SOCIAL_CHANNEL:61,IG_SOCIAL_CHANNEL:62,GENERIC_GENAI_BOT_MAILBOX_THREAD:63,GENAI_IMAGINE:64,FB_GENAI_BOT_MAILBOX_THREAD:65,ABRA_GENAI_BOT_MAILBOX_THREAD:66,GENAI_STUDIO_BOT_MAILBOX_THREAD:67,SHOPS_AI_ASSISTANT_THREAD:68,ONE_TO_ONE:1001,PARENT_APPROVED_ONE_TO_ONE:1002,IG_ONLY_ONE_TO_ONE:1003,INTEROP_ONE_TO_ONE:1004,WHATSAPP_ONE_TO_ONE:1005,WORKCHAT_ONE_TO_ONE:1006,OC_PROXY_ONE_TO_ONE:1007,MARKETPLACE_ASSISTANT_ONE_TO_ONE:1008,PAGE_TO_USER:1009,PAGE_TO_PAGE:1010,MESSENGER_AI_BOT_ONE_TO_ONE:1011,IG_AI_BOT_ONE_TO_ONE:1012,IG_CREATOR_AGENT_SANDBOX:1013,IG_USER_GENERATED_AI_BOT_ONE_TO_ONE:1014,MSGR_USER_GENERATED_AI_BOT_ONE_TO_ONE:1015,OCULUS:2001});f["default"]=a}),66);
__d("LSMessagingThreadTypeUtil",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","LSThreadBitOffset","MWCMIsAnyCMThread","MessagingThreadSubtype","MetaConfig","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(5))||c("MWCMIsAnyCMThread")(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(3))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(152))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(153))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(26))}function j(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(7))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(10))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(13))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(201))}function b(a){return j(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))}function k(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))}function e(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))}function f(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(201))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))}function l(a){return a==="e2ee_cutover"||a==="inbox"}function m(a,b){b===void 0&&(b=!0);return!b&&(h||(h=d("I64"))).equal(a.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(0))?!1:d("LSThreadBitOffset").has(21,a)}function n(a){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").IGD_BC_PARTNERSHIP))}function o(a){return m(a,!1)}function p(a){return(h||(h=d("I64"))).equal(a.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(-3))}function q(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").BUSINESS_SUPPORT_THREAD))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD))}function r(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))}function s(a){var b=(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(2)),c=(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(1))&&!M(a);return!q(a.threadSubtype)&&(b||c)}function t(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").PAGE_TO_USER))}function u(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))&&c("MetaConfig")._("36")}function v(a){return(x(a)||y(a))&&c("MetaConfig")._("32")}function w(a){return(x(a)||y(a))&&!c("MetaConfig")._("32")}function x(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(152))}function y(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(153))}function z(a){return((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154)))&&c("MetaConfig")._("36")}function A(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))&&c("MetaConfig")._("36")}function B(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))}function C(a){return B(a)||v(a)}function D(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(26))}function E(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(17))}function F(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(19))}function G(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))}function H(a){return a==null?!1:G(a)||y(a)}function I(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(201))}function J(a){return d("LSThreadBitOffset").has(183,a)}function K(a){return k(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(3))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(5))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(6))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(10))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(11))}function L(a){return C(a)||G(a)||y(a)||c("MWCMIsAnyCMThread")(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(17))||D(a)}function M(a){return(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(1))&&a.cannotUnsendReason!=null&&(h||(h=d("I64"))).equal(a.cannotUnsendReason,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").DENY_IF_PAGE_THREAD))}function N(a){return a!=null&&((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").WORKCHAT_GROUP_THREAD))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").WORKROOM_GROUP_THREAD))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").WORKCHAT_ONE_TO_ONE)))}function O(a){if(j(a))return(i||(i=d("LSIntEnum"))).ofNumber(15);if(r(a))return(i||(i=d("LSIntEnum"))).ofNumber(16);throw c("unrecoverableViolation")("Expected either open 1:1 or open group thread","messenger_e2ee_web")}g.isGroup=a;g.isOpenOneToOne=j;g.isOneToOne=b;g.isArmadilloSecure=k;g.isArmadilloSecureOneToOne=e;g.isRecentsSectionAllowedTypes=f;g.isMessengerOrE2EEInbox=l;g.isMessageRequest=m;g.isPartnership=n;g.isIGDMessageRequest=o;g.isHiddenRequest=p;g.isBusinessSupportThread=q;g.isOpenGroupFnFThread=r;g.isOpenFnFThread=s;g.isPageToUserThread=t;g.isJoinedSocialChannel=u;g.isDiscoverablePublicBroadcastChannel=v;g.isDiscoverablePublicBroadcastChannelWithNoAccessibility=w;g.isJoinedDiscoverablePublicBroadcastChannel=x;g.isUnjoinedDiscoverablePublicBroadcastChannel=y;g.isSocialChannelV2=z;g.isJoinedSocialChannelV2=A;g.isSocialChannel=B;g.isDiscoverableChannel=C;g.isCMSubthread=D;g.isCMFolder=E;g.isCMGroupUnjoined=F;g.isSocialChannelUnjoined=G;g.isChannelPreview=H;g.isAiBot=I;g.isAiBotSummoning=J;g.isPrivateThread=K;g.isPublicCMThread=L;g.isThreadForPage=M;g.isWorkThread=N;g.mapOpenToSecureThreadType=O}),98);
__d("LSQuickReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,HORIZONTAL:1,VERTICAL:2});f["default"]=a}),66);
__d("LSReplyMessageAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({OTHER:0,PHOTO:1,VIDEO:2,GIF:3,STICKER:4,LINK:5,MULTIPHOTO:6,PERMANENT_RAVEN_PHOTO:7,PERMANENT_RAVEN_VIDEO:8,SOUND_BITE:9,AUDIO:10,ROLL_CALL_PHOTO_CONTRIBUTION:11,ROLL_CALL_VIDEO_CONTRIBUTION:12,FEED_POST:13,POWER_UP:14,XMA:15,ROLL_CALL_TEXT_CONTRIBUTION:16,BLOKS_XMA:17});f["default"]=a}),66);
__d("LSReplyMessageStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,VALID:1,DELETED:2,TEMPORARY_UNAVAILABLE:3,EXPIRED:4});f["default"]=a}),66);
__d("LSVerifyThreadExistsV2",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return[c.i64.cast([0,7]),c.i64.cast([0,8]),c.i64.cast([0,13]),c.i64.cast([0,10]),c.i64.cast([0,11]),c.i64.cast([0,16])].some(function(b){return c.i64.eq(a[1],b)})?c.resolve((b=[!1,!1,!1],d[0]=b[0],d[1]=b[1],d[2]=b[2],b)):c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[!0,!0,!1],d[3]=f[0],d[4]=f[1],d[5]=f[2],f):(e=b.item,d[12]=e.threadName,d[11]=e.authorityLevel,d[10]=e.threadType,e.folderName==="other"?(f=[!0,!1,!1],d[7]=f[0],d[8]=f[1],d[9]=f[2],f):(c.i64.eq(d[10],c.i64.cast([0,0]))&&c.i64.eq(d[11],c.i64.cast([0,40]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(a){return c.i64.eq(d[10],a)})&&c.i64.neq(d[11],c.i64.cast([0,20]))&&((d[12]===""?void 0:d[12])===void 0||c.i64.lt(d[11],c.i64.cast([0,80])))||[c.i64.cast([0,151]),c.i64.cast([0,155]),c.i64.cast([0,153])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,24]),c.i64.cast([0,22]),c.i64.cast([0,19]),c.i64.cast([0,25])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.lt(d[11],c.i64.cast([0,80]))||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.eq(a[6],c.i64.cast([0,205]))&&(c.i64.eq(e.syncGroup,void 0)||!1)?(b=[!0,!0,!1],d[13]=b[0],d[14]=b[1],d[15]=b[2],b):(c.i64.ge(d[11],a[4])||c.i64.eq(d[11],c.i64.cast([0,20]))&&(c.i64.eq(a[1],c.i64.cast([0,2]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(b){return c.i64.eq(a[1],b)}))?(f=[!1,!1,!1],d[16]=f[0],d[17]=f[1],d[18]=f[2],f):(e=[!0,!1,!0],d[16]=e[0],d[17]=e[1],d[18]=e[2],e),b=[d[16],d[17],d[18]],d[13]=b[0],d[14]=b[1],d[15]=b[2],b),f=[d[13],d[14],d[15]],d[7]=f[0],d[8]=f[1],d[9]=f[2],f),e=[d[7],d[8],d[9]],d[3]=e[0],d[4]=e[1],d[5]=e[2],e)})},function(a){return a=[d[3],d[4],d[5]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(e){return d[0]?(d[3]=new c.Map(),d[3].set("thread_fbid",a[0]),d[3].set("force_upsert",a[5]),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",a[6]),d[3].set("metadata_only",a[7]),d[3].set("preview_only",!1),d[4]=d[3].get("thread_fbid"),d[3],d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,209]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(e){return d[1]?c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[13]=!1:(e=b.item,d[13]=c.i64.eq(e.contactTypeExact,c.i64.cast([0,16]))?!0:!1)})},function(a){return d[3]=d[13]}]):(e=b.item,d[3]=c.i64.eq(e.threadType,c.i64.cast([0,201]))?!0:!1)})},function(b){return d[5]=c.i64.cast([0,1083495711]),d[6]=c.i64.cast([0,0]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,8650752]),d[10]=c.i64.cast([0,0]),d[11]=c.i64.cast([0,0]),d[12]=c.i64.cast([0,0]),c.forEach(c.filter(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[0],mailboxType:c.i64.cast([0,0]),threadType:a[1],syncGroup:a[6],folderName:a[2],lastReadWatermarkTimestampMs:c.i64.cast([0,0]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:a[3],authorityLevel:a[4],capabilities:d[3]?d[9]:d[5],capabilities2:d[3]?d[10]:d[6],capabilities3:d[3]?d[11]:d[7],capabilities4:d[3]?d[12]:d[8],unsendLimitMs:c.i64.cast([-1,4294967295])})},function(e){return[c.i64.cast([0,1]),c.i64.cast([0,201])].some(function(b){return c.i64.eq(a[1],b)})?c.sequence([function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:a[0],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],d[13]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[13])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:d[13],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})}]):c.resolve()}]):c.resolve()},function(b){return d[2]?c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[4]})}):c.resolve()}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSVerifyThreadRowExistsV2",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,5]))?d[0]=c.i64.cast([-1,4294967284]):d[0]=c.i64.cast([0,0]),c.storedProcedure(b("LSVerifyThreadExistsV2"),a[0],a[1],"inbox",d[0],a[3],!1,a[2],!1,!1)},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSVerifyThreadRowExistsV2StoredProcedure",["LSVerifyThreadRowExistsV2","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.threadType;d[2]=b.syncGroup;d[3]=b.authorityLevel;return c("LSVerifyThreadRowExistsV2").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSXmaContentType",[],(function(a,b,c,d,e,f){a=Object.freeze({TEST:-1,NONE:0,IG_MEDIA_SHARE:1e3,IG_MULTIPOST_SHARE:1001,IG_STORY_REPLY:1002,IG_STORY_PHOTO_SHARE:1003,IG_STORY_PHOTO_MENTION:1004,IG_CLIPS_SHARE:1005,IG_SINGLE_VIDEO_POST_SHARE:1006,IG_STORY_VIDEO_SHARE:1007,IG_STORY_REACTION:1008,IG_IGTV_SHARE:1009,IG_SHOP_SHARE:1010,IG_PROFILE_SHARE:1011,IG_STORY_PHOTO_HIGHLIGHT_SHARE:1012,IG_STORY_VIDEO_HIGHLIGHT_SHARE:1013,IG_STORY_VIDEO_MENTION:1014,IG_STORY_HIGHLIGHT_REPLY:1015,IG_STORY_HIGHLIGHT_REACTION:1016,IG_EXTERNAL_LINK:1017,IG_RECEIVER_FETCH:1018,IG_TEXT_POST_APP_SHARE:1019,FB_FEED_SHARE:2e3,FB_STORY_REPLY:2001,FB_STORY_SHARE:2002,FB_STORY_MENTION:2003,FB_FEED_VIDEO_SHARE:2004,FB_GAMING_CUSTOM_UPDATE:2005,FB_PRODUCER_STORY_REPLY:2006,FB_EVENT:2007,FB_FEED_POST_PRIVATE_REPLY:2008,FB_SHORT:2009,FB_COMMENT_MENTION_SHARE:2010,FB_STORY_LWI_REPLY:2011,MSG_EXTERNAL_LINK_SHARE:3e3,MSG_P2P_PAYMENT:3001,MSG_LOCATION_SHARING_DEPRECATED:3002,MSG_LOCATION_SHARING_V2:3003,MSG_RECEIVER_FETCH:3006,MSG_IG_MEDIA_SHARE:3007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:3008,MSG_REELS_LIST:3009,MSG_CONTACT:3010,MSG_FILE:3012,MSG_AI_CONTACT:3014,MSG_MEMORIES_SHARE:3015,MSG_EARLY_ACCESS_FB_SHARE:3016,MSG_GEN_AI_SUBSCRIPTION:3017,RTC_AUDIO_CALL:4e3,RTC_VIDEO_CALL:4001,RTC_MISSED_AUDIO_CALL:4002,RTC_MISSED_VIDEO_CALL:4003,RTC_GROUP_AUDIO_CALL:4004,RTC_GROUP_VIDEO_CALL:4005,RTC_MISSED_GROUP_AUDIO_CALL:4006,RTC_MISSED_GROUP_VIDEO_CALL:4007,LIVE_LOCATION:5e3,OC_AVATAR_STATIC_STICKER:6e3});f["default"]=a}),66);
__d("WABaseGlobals",["WAErr"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(a){h=a}function i(){if(h==null)throw c("WAErr")("Trying to access WAGlobals before being set");return h}function b(a){var b=i();b.myJids=a}function d(){var a;a=(a=i().myJids)==null?void 0:a.deviceJid;if(a==null)throw c("WAErr")("Trying to access myDeviceJid, but it's not set");return a}function e(){var a;a=(a=i().myJids)==null?void 0:a.userJid;if(a==null)throw c("WAErr")("Trying to access myUserJid, but it's not set");return a}function f(){return i().db}function j(){return i().jidUtils}function k(){return i().config}function l(){return i().qpl}function m(a,b){return i().runInTransaction(a,b)}g.setGlobals=a;g.setMyJids=b;g.getMyDeviceJid=d;g.getMyUserJid=e;g.getDbImpls=f;g.getJidUtilsApi=j;g.getConfig=k;g.getQplConfig=l;g.runInTransaction=m}),98);
__d("WAAssertUnreachable",["WAErr"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw c("WAErr")("Impossible value, the default statement should never be reached for value: "+a)}g["default"]=a}),98);
__d("WAJids",["WAAssertUnreachable","WAErr"],(function(a,b,c,d,e,f,g){"use strict";var h=0,i="@me",j="@system",k="status@broadcast",aa="0@s.whatsapp.net",l="@g.us",m=/^([1-9][0-9]{0,19}|(?!10)[1-9][0-9]{4,19}-[1-9][0-9]{9})@g.us$/,ba="@call",n="@msgr",ca="msgr",o="@interop",da="interop",p=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,q=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,r=/^([1-9][0-9]{0,19}(:[1-9][0-9]{0,2})?)@msgr$/,s=/^([1-9][0-9]{0,19})@msgr$/,t=/^([1-9][0-9]{0,19})(:0)?@msgr$/,ea="@s.whatsapp.net",fa="s.whatsapp.net",u="@s.whatsapp.net",v="s.whatsapp.net",w="lid",x="@newsletter",y=/^([1-9][0-9]{0,19})@newsletter$/,z=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[0-9]{1,2})))@s.whatsapp.net$/,A=/^(0|((?!10)[1-9][0-9]{4,19})(\.[0-9]{1,2})?)@s.whatsapp.net$/,B="@lid",ga="lid",C=/^([1-9][0-9]{0,14})@lid$/,D=/^([1-9][0-9]{0,14}(:[0-9]{1,2})?)@lid$/,ha="@broadcast",E=/^(status|location|[1-9][0-9]{0,19})@broadcast$/,F=/^([0-9a-fA-F]{18,32})@call$/,G="@hosted",H="hosted",I=/^(((?!10)[1-9][0-9]{4,19})):99@hosted$/,J="@hosted.lid",K="hosted.lid",L=/^([1-9][0-9]{0,14}):99@hosted.lid$/,ia="16505361212"+u,ja=/([0-9a-zA-Z-:]+)@(g\.us|call|s\.whatsapp\.net|broadcast|msgr|lid)/g;function a(a){return""+a+u}function b(a){return""+a+B}function M(a){return""+a+n}function d(a){return a.endsWith(l)?a:""+a+l}function e(a){return a.endsWith(x)?a:""+a+x}function f(a){return a.endsWith(G)?a:""+a+G}function ka(a){return a.endsWith(J)?a:""+a+J}function la(){return l}function N(a){if(a.endsWith(u))return a.slice(0,-u.length);else if(a.endsWith(n))return a.slice(0,-n.length);else if(a.endsWith(o))return a.slice(0,-o.length);else if(a.endsWith(B))return a.slice(0,-B.length);else throw c("WAErr")('userIdFromJid called with non-user jid "'+a+'"')}function ma(a,b){return Y(N(a)+":"+b+u)}function na(a,b){return Z(N(a)+":"+b+n)}function O(a,b){return ub(Q(a)+":"+b+B)}function oa(a,b){return X(N(a)+":"+b+pb(a))}function pa(a){return""+a+ha}function P(a){return a.split("@")[0]}function qa(a){a=a.split("@")[0];a=a.split(":");var b=a[0];a=a[1];a=parseInt(a,10);return{userId:b,deviceID:a}}function ra(a){a=qa(a);return a.deviceID}function sa(a,b){if(a===i||a===j)return b;else return P(a)}function ta(a){return a===i||a===j?null:a}function ua(a){if(a===i||a===j)return null;return!a.endsWith(u)?null:a}function va(a){if(!a.endsWith(u))throw c("WAErr")('phoneNumberFromJid called with non-user jid "'+a+'"');return a.slice(0,-u.length)}function wa(a){if(a.endsWith(u))return va(a);else if(a.endsWith(B))return Q(a);throw c("WAErr")('lidOrPhoneFromUserJid called with non phone or lid jid "'+a+'"')}function xa(a){return a.endsWith(u)||a.endsWith(o)||a.endsWith(n)||a.endsWith(B)?a:null}function ya(a){return a.endsWith(u)?a:null}function za(a){return a===k?null:$(a)}function Aa(a){return a===k?null:$(a)}function Ba(a){return a===k?k:null}function Q(a){if(!a.endsWith(B))throw c("WAErr")('lidFromLidUserJid called with non-LidUserJid "'+a+'"');return a.slice(0,-B.length)}function R(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":")[0];b=b.split(".")[0];a===H&&(a=v);a===K&&(a=w);return vb(b+"@"+a)}function Ca(a){return R(a)}function Da(a){return R(a)}function Ea(a){if(a.jidType==="phoneDevice")return a.deviceJid;else if(a.jidType==="interopDevice")return a.deviceJid;else if(a.jidType==="lidDevice")return a.deviceJid;else if(a.jidType==="msgrDevice")return a.deviceJid;else if(a.jidType==="lidUser")return a.userJid;else if(a.jidType==="interopUser")return a.userJid;else if(a.jidType==="msgrUser")return a.userJid;else if(a.jidType==="phoneUser")return a.userJid;else if(a.jidType==="group")return a.groupJid;else if(a.jidType==="status")return a.statusJid;else if(a.jidType==="call")return a.callJid;else if(a.jidType==="newsletter")return a.newsletterJid;else if(a.jidType==="hosted")return a.hostedDeviceJid;else if(a.jidType==="hostedLid")return a.hostedLidDeviceJid;else{a.jidType;return a.broadcastJid}}function Fa(a){return Y(N(a)+":"+h+u)}function Ga(a){return Z(N(a)+":"+h+n)}function Ha(a){return O(a,h)}function Ia(a){return ra(a)===h}function Ja(a){return zb(a)}function Ka(a){return a}function S(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":");var c=b[0];b=b[1];c=c.split(".");var d=c[0];c=c[1];return{user:d,device:b,agent:c,server:a}}function La(a){a=S(a);var b=a.user,c=a.agent;c=c===void 0?"0":c;var d=a.device;d=d===void 0?"0":d;a=a.server;return b+"."+c+":"+d+"@"+a}function Ma(a){switch(a.jidType){case"interopUser":return a.userJid;case"lidUser":return a.userJid;case"msgrUser":return a.userJid;case"phoneUser":return a.userJid;case"group":return a.groupJid;case"status":return a.statusJid;case"interopDevice":return a.deviceJid;case"lidDevice":return a.deviceJid;case"msgrDevice":return a.deviceJid;case"phoneDevice":return a.deviceJid;case"broadcast":return a.broadcastJid;case"call":return a.callJid;case"newsletter":return a.newsletterJid;case"hosted":return a.hostedDeviceJid;case"hostedLid":return a.hostedLidDeviceJid;default:return c("WAAssertUnreachable")(a.jidType)}}function Na(a){if(a===k)return{jidType:"status",statusJid:k};else if(A.test(a))return{jidType:"phoneUser",userJid:wb(a)};else if(q.test(a))return{jidType:"interopUser",userJid:xb(a)};else if(s.test(a))return{jidType:"msgrUser",userJid:yb(a)};else if(t.test(a)){var b=a.substr(0,a.indexOf(":"));return{jidType:"msgrUser",userJid:M(b)}}else if(z.test(a))return{jidType:"phoneDevice",deviceJid:Y(a)};else if(p.test(a))return{jidType:"interopDevice",deviceJid:tb(a)};else if(r.test(a))return{jidType:"msgrDevice",deviceJid:Z(a)};else if(m.test(a))return{jidType:"group",groupJid:a.endsWith(l)?a:""+a+l};else if(E.test(a))return{jidType:"broadcast",broadcastJid:a};else if(F.test(a))return{jidType:"call",callJid:a};else if(C.test(a))return{jidType:"lidUser",userJid:a};else if(D.test(a))return{jidType:"lidDevice",deviceJid:a};else if(y.test(a))return{jidType:"newsletter",newsletterJid:a};else if(I.test(a))return{jidType:"hosted",hostedDeviceJid:a};else if(L.test(a))return{jidType:"hostedLid",hostedLidDeviceJid:a};else return{jidType:"unknown"}}function Oa(a){return a==="status@broadcast"?a:null}function Pa(a){if(A.test(a)||q.test(a)||s.test(a)||C.test(a))return a;else if(t.test(a)){a=a.substr(0,a.indexOf(":"));return M(a)}else return null}function Qa(a){return E.test(a)?a:null}function Ra(a){if(z.test(a)||r.test(a)||p.test(a)||D.test(a)||I.test(a)||L.test(a))return a;return A.test(a)?qb(a):null}function Sa(a){return p.test(a)?a:null}function T(a){return m.test(a)?a:null}function Ta(a){return Oa(a)||T(a)||Qa(a)?a:null}function Ua(a){return F.test(a)?a:null}function Va(a){return a==="s.whatsapp.net"||a==="g.us"||a==="call"?a:null}function Wa(a){return Pa(a)||T(a)}function Xa(a){return y.test(a)?a:null}function Ya(a){return I.test(a)?a:null}function Za(a){return L.test(a)?a:null}function $a(a){return xa(a)==null?$(a):null}function ab(a){a=S(a);var b=a.user,c=a.device;c=c===void 0?"0":c;a=a.server;return Y(b+":"+c+"@"+a)}function bb(a){if(a.endsWith(l))return a.slice(0,-l.length);else throw c("WAErr")('groupId called with non-group jid "'+a+'"')}function cb(a){var b=Na(a);if(b.jidType==="unknown")return a;if(b.jidType==="status")return b.statusJid;b.jidType;return Ma(b).replace(/^([^@]*)([^@][^@][^@][^@])@(.*)$/,"...$2@$3")}function db(a){return!a.includes("@")?a:a.replace(ja,cb)}function U(a){if(a.endsWith(l))return $(a);else return null}function V(a,b){if(a.endsWith(u))return b.phoneUser(a);else if(a.endsWith(n))return b.msgrUser(a);else if(a.endsWith(o))return b.interopUser(a);else if(a.endsWith(B))return b.lidUser(a);else if(U(a)!=null)return b.group($(a));throw c("WAErr")("Can not switch on chat jid "+a)}function eb(a,b){if(a.endsWith(n))return b.user(a);else if(U(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function W(a,b){if(a.endsWith(u))return b.user(a);else if(U(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function fb(a,b){return V(a,{lidUser:function(a){return b.user(a)},interopUser:function(a){return b.user(a)},msgrUser:function(a){return b.user(a)},phoneUser:function(a){return b.user(a)},group:function(a){return b.group(a)}})}function gb(a,b){return a===k?b.status():W(a,{user:b.user,group:b.group})}function hb(a,b){return a===k?b.status():V(a,{interopUser:b.interopUser,phoneUser:b.phoneUser,msgrUser:b.msgrUser,lidUser:b.lidUser,group:b.group})}function ib(a,b){return a===k?b.multicast(k):W(a,{user:b.user,group:b.multicast})}function jb(a){return a.endsWith(B)}function kb(a){return a==="@me"}function lb(a){return a==="@system"}function mb(){return n}function nb(){return u}function ob(){return ea}function pb(a){if(a.endsWith(u))return u;else if(a.endsWith(n))return n;else if(a.endsWith(B))return B;else throw c("WAErr")('userDomainFromJid called with non-user jid "'+a+'"')}function qb(a){return X(N(a)+":"+h+pb(a))}function rb(a){a=a.platform;var b=a==="msgr"?n:u;function c(a){return""+a+b}function d(){return b}return{toUserJid:c,getUserDomain:d}}function sb(a){return a}function X(a){return a}function Y(a){return a}function Z(a){return a}function tb(a){return a}function ub(a){return a}function vb(a){return a}function wb(a){return a}function xb(a){return a}function yb(a){return a}function $(a){return a}function zb(a){return a}function Ab(a){return a}function Bb(a){return a}function Cb(a){return a}function Db(a){return V(a,{group:function(a){return bb(a)},lidUser:function(a){return N(a)},interopUser:function(a){return N(a)},phoneUser:function(a){return N(a)},msgrUser:function(a){return N(a)}})}function Eb(){return ba}g.DEFAULT_DEVICE_ID=h;g.AUTHOR_ME=i;g.AUTHOR_SYSTEM=j;g.STATUS_JID=k;g.PSA_JID=aa;g.MSGR_USER_DOMAIN=n;g.MSGR_USER_JID_SUFFIX=ca;g.INTEROP_DOMAIN=o;g.INTEROP_USER_JID_SUFFIX=da;g.WA_SERVER_JID_SUFFIX=fa;g.WA_USER_DOMAIN=u;g.WA_USER_JID_SUFFIX=v;g.WA_LID_SUFFIX=w;g.WA_NEWSLETTER_JID_DOMAIN=x;g.LID_DOMAIN=B;g.LID_SUFFIX=ga;g.HOSTED_DOMAIN=G;g.HOSTED_SUFFIX=H;g.HOSTED_LID_DOMAIN=J;g.HOSTED_LID_SUFFIX=K;g.SURVEY_USER_JID=ia;g.toPhoneUserJid=a;g.toLidUserJid=b;g.toMsgrUserJid=M;g.toGroupJid=d;g.toNewsletterJid=e;g.toHostedDeviceJid=f;g.toHostedLidDeviceJid=ka;g.getGroupDomain=la;g.userIdFromJid=N;g.toPhoneDeviceJid=ma;g.toMsgrDeviceJid=na;g.toLidDeviceJid=O;g.toDeviceJid=oa;g.toBroadcastJid=pa;g.extractUserId=P;g.extractDeviceIDParts=qa;g.extractDeviceId=ra;g.authorToUserId=sa;g.authorAsUserJid=ta;g.authorAsPhoneUserJid=ua;g.phoneNumberFromJid=va;g.lidOrPhoneFromUserJid=wa;g.interpretAsUserJid=xa;g.interpretAsPhoneUserJid=ya;g.asChatJid=za;g.asPhoneChatJid=Aa;g.asStatusJid=Ba;g.lidFromLidUserJid=Q;g.extractUserJid=R;g.extractPhoneUserJid=Ca;g.extractLidUserJid=Da;g.extractJidFromJidWithType=Ea;g.defaultPhoneDeviceJidForUser=Fa;g.defaultMsgrDeviceJidForUser=Ga;g.defaultLidDeviceJidForLidUserJid=Ha;g.isPrimaryDevice=Ia;g.interpretAsDeviceId=Ja;g.interpretAsNumber=Ka;g.parseJidParts=S;g.fullFormDeviceJidString=La;g.extractFromJid=Ma;g.interpretAndValidateJid=Na;g.validateStatusJid=Oa;g.validateUserJid=Pa;g.validateBroadcastJid=Qa;g.validateDeviceJid=Ra;g.validateInteropDeviceJid=Sa;g.validateGroupJid=T;g.validateMulticastJid=Ta;g.validateCallJid=Ua;g.validateDomainJid=Va;g.validateChatJid=Wa;g.validateNewsletterJid=Xa;g.validateHostedDeviceJid=Ya;g.validateHostedLidDeviceJid=Za;g.asMulticastJid=$a;g.stripAgentIdFromPhoneDeviceJid=ab;g.groupIdFromJid=bb;g.sanitizeJidForLogging=cb;g.maybeSanitizeLogLineText=db;g.interpretAsGroupJid=U;g.switchOnChatJidType=V;g.switchOnMsgrChatJidType=eb;g.switchOnPhoneChatJidType=W;g.switchOnUserChatJidType=fb;g.switchOnPhoneJidType=gb;g.switchOnJidType=hb;g.switchOnMulticastJidType=ib;g.isLidUser=jb;g.isAuthorMe=kb;g.isAuthorSystem=lb;g.getMsgrUserDomain=mb;g.getWhatsappUserDomain=nb;g.getServerDomain=ob;g.defaultDeviceJidForUser=qb;g.createJidUtils=rb;g.unsafeCoerceToChatJid=sb;g.unsafeCoerceToDeviceJid=X;g.unsafeCoerceToPhoneDeviceJid=Y;g.unsafeCoerceToMsgrDeviceJid=Z;g.unsafeCoerceToInteropDeviceJid=tb;g.unsafeCoerceToLidDeviceJid=ub;g.unsafeCoerceToUserJid=vb;g.unsafeCoerceToPhoneUserJid=wb;g.unsafeCoerceToInteropUserJid=xb;g.unsafeCoerceToMsgrUserJid=yb;g.unsafeCoerceToGroupJid=$;g.unsafeCoerceToDeviceId=zb;g.unsafeCoerceToNewsletterJid=Ab;g.unsafeCoerceToHostedDeviceJid=Bb;g.unsafeCoerceToHostedLidDeviceJid=Cb;g.threadIdForChatJid=Db;g.getGroupCallDomain=Eb}),98);
__d("WAGlobals",["WABaseGlobals","WAErr","WAJids","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}var i=null;function a(a){i=a,d("WABaseGlobals").setGlobals(a)}function j(){if(i==null)throw c("WAErr")("WaMsgr api called before set");return i}function b(a,b){var d=j();if(d.myJids!=null)throw c("WAErr")("Trying to set UserJid and DeviceJid but they are already set");d.myJids={userJid:a,deviceJid:b}}function k(){var a;a=(a=j().myJids)==null?void 0:a.deviceJid;if(a==null)throw c("WAErr")("Trying to access myDeviceJid, but it's not set");return a}function e(){var a;a=(a=j().myJids)==null?void 0:a.userJid;if(a==null)throw c("WAErr")("Trying to access myUserJid, but it's not set");return a}function f(){return j().db}function l(a){return d("WAJids").extractUserJid(a)===d("WAJids").extractUserJid(k())}function m(){return j().crypto.manager}function n(){return j().config}function o(){return j().dependencies}var p="WAOneQueue is not defined";function q(){var a=j().waOneQueue;if(a==null){d("WALogger").ERROR(h(),p);throw c("WAErr")(p)}return a}g.setGlobals=a;g.setMyJids=b;g.getMyDeviceJid=k;g.getMyUserJid=e;g.getDbImpls=f;g.isPeerDevice=l;g.DEPRECATED_getCryptoManager=m;g.getConfig=n;g.getDependencies=o;g.getWaOneQueue=q}),98);
__d("MAWGlobals",["WAGlobals","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null;function j(){if(i==null)throw c("err")("MawMsgr api called before set");return i}function a(){return j().config}function b(a){i=a,d("WAGlobals").setGlobals(a)}function e(a){if(i==null)throw c("err")("Cannot set CAT before all globals were set");i.fbCat=a}function f(){return j().fbCat}function k(){return j().db}function l(){return j().persistedJobs.api}function m(){return j().persistedJobs.manager}function n(){return j().hmacKey}function o(){return j().dependencies}function p(){return j().offlineResumeStats}function q(a,b,c){return j().runInTransaction(a,b,c)}g.setMyJids=(h=d("WAGlobals")).setMyJids;g.getMyDeviceJid=h.getMyDeviceJid;g.getMyUserJid=h.getMyUserJid;g.isPeerDevice=h.isPeerDevice;g.getConfig=a;g.setGlobals=b;g.setFbCat=e;g.getFbCat=f;g.getDbImpls=k;g.getPersistedJobsApi=l;g.getJobManager=m;g.getHMACKey=n;g.getDependencies=o;g.getOfflineResumeStats=p;g.runInTransaction=q}),98);
__d("MAWAuthor",["MAWGlobals","WAJids","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){if(a==null||a===d("WAJids").AUTHOR_SYSTEM)return null;if(d("WAJids").isAuthorMe(a))return d("MAWGlobals").getMyUserJid();var b=d("WAJids").authorAsUserJid(a);if(b==null||c("isStringNullOrEmpty")(d("WAJids").userIdFromJid(b)))return null;else return d("WAJids").authorAsUserJid(a)};g.getAuthorUserJid=a}),98);
__d("MAWBridgeDropAllSecureThreadsHandler",["I64","LSIntEnum","LSMessagingThreadTypeUtil","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){var c=d("ReQL").fromTableAscending(a.threads_ranges_v2__generated).filter(function(a){return(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-1))||(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-10))});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.threads_ranges_v2__generated["delete"](c.parentThreadKey,c.minThreadKey,c.minLastActivityTimestampMs)})},(h||(h=b("Promise"))).resolve())})}function l(a){var c=d("ReQL").fromTableAscending(a.threads).filter(function(a){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.threads["delete"](c.threadKey)})},(h||(h=b("Promise"))).resolve())})}function a(a){return(h||(h=b("Promise"))).all([k(a),l(a)]).then(function(){return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("WAStanzaUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.toStanzaId=a}),66);
__d("MAWExternalId",["I64","Random","WALogger","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse stanza id "," for platform: ",""]);i=function(){return a};return a}var j=131071;function k(a){return Math.floor(c("Random").random()*a)}function a(){return d("WAStanzaUtils").toStanzaId((h||(h=d("I64"))).to_string(h.and_(h.or_(h.lsl_(h.of_float(Date.now()),22),h.and_(h.of_float(k(j)),h.of_float(j))),h.max_int)))}function b(a){try{var b=(h||(h=d("I64"))).of_float(4063232),c=h.of_float(0),e=h.of_float(131072);b=h.and_(h.of_string(a),b);if((h||(h=d("I64"))).equal(b,c))return"web";return(h||(h=d("I64"))).equal(b,e)?"mobile":"unknown"}catch(b){d("WALogger").ERROR(i(),a,b);return"error"}}g.generateExternalId=a;g.getPlatform=b}),98);
__d("MAWUnsafeCoerce",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.unsafeCoerce=a}),66);
__d("MNLSXMALayoutType",[],(function(a,b,c,d,e,f){a=Object.freeze({SINGLE:0,HSCROLL:1,XCENTER:2,PORTRAIT:4,LAYERED:5,PLACEHOLDER:6,EXPIRED_PLACEHOLDER:7,PILE_PROMPT:8,STACK:9,SHARED_STACK:10,STACK_CARD:11,STANDARD_DXMA:12,DXMA_PLACEHOLDER:13,THREAD_SHORTCUT:14,LIST_DXMA:15,GRID:16,BLOKS_XMA:17,TWO_CARD:18,NOTE:19,VSTACK:20,SQUIRCLE:21});f["default"]=a}),66);
__d("MNXMAPreviewImageDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,COLLAGE:1,VIDEO:2,MESSENGER_ICON:3,INSTAGRAM_ICON:4,SHOPPING:5,UPCOMING_EVENT:6,LIVE:7,REEL:8,IGTV:9,YOUTUBE_VIDEO:10,YOUTUBE_SHORTS:11,COMMENT:12,BLUR:13,PILL:14,MESSENGER_CHANNEL_IMAGE:15,TROPHY:16});f["default"]=a}),66);
__d("MWEBODSEntityKey.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({START:"start",SUCCESS:"success",FAIL:"fail",INCORRECT_PIN_CODE:"incorrect_pin_code",INCORRECT_RECOVERY_CODE:"incorrect_recovery_code"});c=a;f["default"]=c}),66);
__d("MWLinkRegex",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="(?:(?:[a-z]+:)?//)?",b="(?:\\S+(?::\\S*)?@)?",c="(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)",d="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",e="(?:\\.(?:((?:[a-z\\u00a1-\\uffff]{2,}))))\\.?",f="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?';a="(?:"+a+"|www\\.)"+b+"(?:localhost|"+c+d+e+")"+f+g;return new RegExp(a,"ig")}function b(){var a="(^|)[^@\\s]+@[^@]+[.][^@\\s]+(?!\\S)";return new RegExp(a,"ig")}f.getLinkRegex=a;f.getEmailRegex=b}),66);
__d("OfflineThreadingId",["I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("I64"))).of_string("4194303");function a(){return(h||(h=d("I64"))).to_string(j())}function j(){var a=d("XPlatReactCrypto").getRandomValues(new Uint8Array(8));a=new DataView(a.buffer);a=(h||(h=d("I64"))).add(h.lsl_(h.of_int32(a.getUint32(0)),32),h.of_int32(a.getUint32(4)));return k(Date.now(),a)}function k(a,b){return(h||(h=d("I64"))).and_(h.or_(h.lsl_(h.of_float(a),22),h.and_(b,i)),h.max_int)}function b(a){var b=j(),c=[];for(var e=0;e<a.length;e++)c.push([a[e],(h||(h=d("I64"))).to_string(b)]),b=l(b);return c}function l(a,b){b===void 0&&(b=(h||(h=d("I64"))).one);var c=m(a);a=n(a);return k(c,(h||(h=d("I64"))).add(a,b))}function m(a){return(h||(h=d("I64"))).to_float(h.lsr_(a,22))}function n(a){return(h||(h=d("I64"))).and_(a,i)}g.createOfflineThreadingID=a;g.createForItemsInOrder=b;g.extractTimestamp=m}),98);
__d("URLMatcherConfig",[],(function(a,b,c,d,e,f){e.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9999\u683c\u91cc\u62c9|\u9910\u5385|\u98df\u54c1|\u98de\u5229\u6d66|\u96fb\u8a0a\u76c8\u79d1|\u96c6\u56e2|\u901a\u8ca9|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u7ad9|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u66f8\u7c4d|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5fae\u535a|\u5e7f\u4e1c|\u5de5\u884c|\u5bb6\u96fb|\u5a31\u4e50|\u5929\u4e3b\u6559|\u5927\u62ff|\u5927\u4f17\u6c7d\u8f66|\u5728\u7ebf|\u5609\u91cc\u5927\u9152\u5e97|\u5609\u91cc|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|\u30bb\u30fc\u30eb|\u30b9\u30c8\u30a2|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u0cad\u0cbe\u0cb0\u0ca4|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b2d\u0b3e\u0b30\u0b24|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09f0\u09a4|\u09ad\u09be\u09b0\u09a4|\u09ac\u09be\u0982\u09b2\u09be|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u094b\u0924|\u092d\u093e\u0930\u0924\u092e\u094d|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0680\u0627\u0631\u062a|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0628|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0628\u0627\u0631\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0628\u0648\u0638\u0628\u064a|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u0431\u0433|\u03b5\u03bb|zw|zuerich|zone|zm|zippo|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tiq49xqyj|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rvc1e0am3e|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qcka1pmc|xn--q9jyb4c|xn--pssy2u|xn--pgbs0dh|xn--pbt977c|xn--p1ai|xn--p1acf|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbrx|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgbi4ecexp|xn--mgbgu82a|xn--mgberp4a5d4ar|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbbh1a|xn--mgbb9fbpob|xn--mgbayh7gpa|xn--mgbai9azgqp6j|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgbaakc7dvf|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpu716f|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq61u9w7b|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c8c|xn--h2brj9c|xn--h2breg3eve|xn--gk3at1e|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--estv75g|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80aqecdr1a|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--54b7fta0cc|xn--4gbrim|xn--45q11c|xn--45brj9c|xn--45br5cyl|xn--42c2d9a|xn--3pxu8k|xn--3oq18vl8pn36a|xn--3hcrj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--2scrj9c|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|ws|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|vu|voyage|voto|voting|vote|volvo|volkswagen|vodka|vn|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verm\xf6gensberatung|verm\xf6gensberater|verisign|ventures|vegas|ve|vc|vanguard|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|uconnect|ubs|ubank|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|symantec|sydney|sy|sx|swiss|swiftcover|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|st|srt|srl|sr|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|se|sd|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sc|sbs|sbi|sb|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|rugby|ru|rsvp|rs|room|rogers|rodeo|rocks|rocher|ro|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|raid|radio|racing|qvc|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|page|pa|ovh|ott|otsuka|osaka|origins|organic|org|orange|oracle|open|ooo|onyourside|online|onl|onion|ong|one|omega|om|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|northwesternmutual|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|natura|nationwide|name|nagoya|nadex|nab|na|mz|my|mx|mw|mv|mutual|museum|mu|mtr|mtn|mt|msd|ms|mr|mq|mp|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mc|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|ma|ly|lv|luxury|luxe|lupin|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lk|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kinder|kim|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jlc|jio|jewelry|jetzt|jeep|je|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|it|istanbul|ist|ismaili|iselect|is|irish|ir|iq|ipiranga|io|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|in|immobilien|immo|imdb|imamat|im|il|ikano|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|ht|hsbc|hr|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|gy|gw|guru|guitars|guide|guge|gucci|guardian|gu|gt|gs|group|grocery|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|glade|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|george|genting|gent|gea|ge|gdn|gd|gbiz|gb|gay|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fr|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|eu|etisalat|et|esurance|estate|esq|es|erni|ericsson|er|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|eco|ec|eat|earth|dz|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|domains|doha|dog|dodge|doctor|docs|do|dnp|dm|dk|dj|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cr|cpa|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrysler|chrome|christmas|chintai|cheap|chat|chase|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|ceb|cd|cc|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bugatti|budapest|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bnl|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|avianca|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|arab|ar|aquarelle|aq|apple|app|apartments|aol|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|al|akdn|airtel|airforce|airbus|aigo|aig|ai|agency|agakhan|ag|africa|afl|afamilycompany|af|aetna|aero|aeg|ae|adult|ads|adac|ad|actor|active|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa))"}}),null);
__d("URLMatcher",["URLMatcherConfig"],(function(a,b,c,d,e,f){d="!\"#%&'()*,-./:;<>?@[\\]^_`{|}";f="\u2000-\u206f\xab\xbb\uff08\uff09";var g="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])",h="(?:https?)://";g="(?:(?:"+g+"[.]){3}"+g+")";var i="\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]",j="(?:\\b)www\\d{0,3}[.]";d="[^\\s"+d+f+"]";f="(?:(?:(?:[.:\\-_%@]|"+d+")*"+d+")|"+i+")";d="(?::\\d+){0,1}";var k="(?=[/?#])";b=b("URLMatcherConfig").tlds;var l="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+k+"))";k="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+"))";g="[/#?]";i="\\([^\\s()<>]+\\)";var m="[^\\s()<>?#]+",n=new RegExp(l,"im"),o="^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]",p=new RegExp(o,"im"),q="(?:(?:"+g+")(?:(?:"+i+"|"+m+")*)*)*",r=new RegExp("((?:"+k+")(?:"+q+"))","im");function a(){r.compile()}var s=new RegExp("((?:"+h+f+d+")|(?:"+j+f+b+d+"))"),t=/[\s\'\";]/,u=new RegExp(g,"im"),v=new RegExp("[\\s!\"#%&'()*,./:;<>?@[\\]^`{|}\xab\xbb\u2000-\u206f\uff08\uff09]","im"),w=new RegExp("[\\s()<>?#]","im"),x=new RegExp("\\s()<>"),y=function(a){if(a!=null&&a.indexOf("@")!=-1)return s.exec(a)?a:null;else return a},z=function(a){return new RegExp("((?:"+l+")(?:"+q+"))",a)};function c(){return r.source}o=function(a){return A(a,z("im"))};i=function(a){return B(a,z("igm"))};m=function(a){return A(a,r)};var A=function(a,b){b=b.exec(a);return b==null||b.length===0?null:y(b[1]||null)},B=function(a,b){a=a.match(b);return a==null?[]:a.filter(Boolean)||[]};k=function(a){return n.exec(a)};h=function(a){return!t.test(a.charAt(a.length-1))};j=function(a){a=a;var b=!1;do{var c=n.exec(a);if(!c)return null;b=!1;if(c[0][0]==="["&&c.index>0&&a[c.index-1]==="@"){var d=p.exec(c[0]);d&&(b=!0,a=a.substr(c.index+d[0].length))}}while(b);if(!c)return null;d=a.substr(c.index+c[0].length);if(d.length===0||!u.test(d[0]))return y(c[0]);b=0;a=0;var e=1,f=["(","["],g=[")","]"],h=0,i=a;for(var j=1;j<d.length;j++){var k=d[j];if(i===a){if(f.includes(k))h+=1,i=e;else if(u.test(k)||!v.test(k))b=j;else if(w.test(k))break}else if(f.includes(k))h+=1;else if(g.includes(k))h-=1,h===0&&(i=a,b=j);else if(x.test(k))break}return y(c[0]+d.substring(0,b+1))};f={compilePermissiveHostPathMatcher:a,permissiveHostPathMatch:m,permissiveMatch:o,permissiveMultiMatch:i,matchToPattern:A,multiMatchToPattern:B,matchHost:k,trigger:h,match:j,getPermissiveHostPathMatcherSource:c};e.exports=f}),null);
__d("WALongInt",["WAHex","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is over 64 bits']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid decimal string']);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not a safe integer"]);j=function(){return a};return a}function k(a){if(typeof a!=="number"){d("WALogger").LOG(j(),a).color("red");throw new Error("numberOrThrowIfTooLarge is given a non-safe integer")}return a}f=function(a){return a==null?a:k(a)};function a(a){return a==null||typeof a!=="number"?null:a}function b(a,b){if(typeof a==="number"&&typeof b==="number")return a>b;a=typeof a==="number"?d("WAHex").hexLongFromNumber(a):a;b=typeof b==="number"?d("WAHex").hexLongFromNumber(b):b;return d("WAHex").isBiggerHexLong(a,b)}function c(a){if(typeof a==="number")return a.toString(10);var b=d("WAHex").hexLongToHex(a),c=[0],e=0;for(var f=0;f<b.length;f++){e=d("WAHex").hexAt(b,f);for(var g=0;g<c.length;g++)c[g]=c[g]*16+e,e=c[g]/10|0,c[g]%=10;while(e>0)c.push(e%10),e=e/10|0}g=c.reverse().join("");return d("WAHex").hexLongIsNegative(a)?"-"+g:g}function e(a){if(!/^-?\d+$/.test(a)){d("WALogger").LOG(i(),a).color("red");throw new Error("decimalStringToLongInt is given an invalid decimal string")}var b=a[0]==="-",c=a.replace(/^-?0*/,""),e=c.length;if(e<16||e===16&&c<="9007199254740991")return b?-Number(c):Number(c);if(e>20||e===20&&c>"18446744073709551615"||b&&(e>19||e===19&&c>"9223372036854775807")){d("WALogger").LOG(h(),a).color("red");throw new Error("decimalStringToHexLong is given value over 64 bits")}a=0;var f=0;for(var g=0;g<e;g++)a=a*10+Number(c[g]),f=f*10+Math.floor(a/4294967296),a=a%4294967296;return d("WAHex").createHexLongFrom32Bits(f,a,b)}g.numberOrThrowIfTooLarge=k;g.maybeNumberOrThrowIfTooLarge=f;g.maybeNumber=a;g.isBiggerLongInt=b;g.longIntToDecimalString=c;g.decimalStringToLongInt=e}),98);
__d("focusKeyboardEventPropagation",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a._stopFocusKeyboardPropagation===!0}function b(a){a._stopFocusKeyboardPropagation=!0}f.hasFocusKeyboardEventPropagationStopped=a;f.stopFocusKeyboardEventPropagation=b}),66);/*FB_PKG_DELIM*/
__d("ArmadilloDataTraceCheckPoint",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||(h=d("I64"))).of_string("63");b=h.of_string("65");c=h.of_string("98");e=h.of_string("504");f=h.of_string("1000");d=h.of_string("1001");var i=h.of_string("1204"),j=h.of_string("1210"),k=h.of_string("1224"),l=h.of_string("1234"),m=h.of_string("1225"),n=h.of_string("2220");g.traceGroupMessage=a;g.armadilloActMessageSend=b;g.traceCreated=c;g.richMediaMediaSendAttachmentType=e;g.traceTextMessage=f;g.traceMediaMessage=d;g.advancedCryptoMEMSendTaskComplete=i;g.deliveryReceiptReceived=j;g.advancedCryptoMEMEncryptionDeviceCount=k;g.advancedCryptoGroupDualSend=l;g.advancedCryptoDualSend=m;g.armadilloTlcControlOpenThread=n}),98);
__d("EncryptedBackupsDYITypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({NotStarted:0,InProgress:1,Completed:2,Failed:3});c=b("$InternalEnum")({Armadillo:0,Instamadillo:1});f.EncryptedBackupsDYIState=a;f.EncryptedBackupsDYIConfig=c}),66);
__d("LSCancelTaskByQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return c[0]=b.createArray(),b.forEach(b.filter(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])}),function(a){a=a.item;return c[1]=(c[0].push(a.taskId),c[0])})},function(c){return b.forEach(b.filter(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])}),function(a){return a["delete"]()})}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSContactTypeExact",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FB_USER:1,MESSENGER_ONLY:2,DEACTIVATED_ALLOWED_ON_MESSENGER:3,MESSENGER_KID:4,FB_PAGE:5,FB_PAGE_PERSONA:6,IG_USER:7,MESSENGER_CALL_GUEST:8,WHATSAPP:9,GUEST_USER:10,IG_BUSINESS_USER:11,IG_CREATOR_USER:12,FB_SINGLE_OWNER_ADDITIONAL_PROFILE:13,PROXY_OCULUS_USER:14,WORK_VC_ENDPOINT:15,GENERATIVE_AI_BOT:16,COMMUNITY_CHAT:17,INTEROP_3P_USER:18,FB_ONLY_NOT_ALLOWED_ON_MESSENGER:19,MESSENGER_ONLY_NOT_ALLOWED_ON_FB:20,ADDITIONAL_PROFILE_PLUS:21,GROUP_ANONYMOUS_PROFILE:50,USER_FOR_SUPPORT:51});f["default"]=a}),66);
__d("LSEncryptedBackupsBackupTenancy",[],(function(a,b,c,d,e,f){a=Object.freeze({PRODUCTION:1,SHADOW:2,OPEN:3});f["default"]=a}),66);
__d("cometIsMimeTypeForMedia",["FBLogger","UFICommentFileInputAcceptValues"],(function(a,b,c,d,e,f,g){"use strict";var h={file:null,photo:null,video:null},i={"image/gif":"video","image/webp":"video"};function j(a){return a.split(",").map(function(a){return a.trim()}).map(function(a){return a.replace(/\/\*$/,"/")})}function k(a,b,d){h[a]==null&&(h[a]=j(d));d=h[a];if(d==null)throw c("FBLogger")("ufi2").mustfixThrow("CometIsMimeTypeForMedia prefixes can't be null");var e=i[b];return e!=null?e===a:d.some(function(a){return b.startsWith(a)})}function a(a){return k("photo",a,d("UFICommentFileInputAcceptValues").photos)}function b(a){return k("video",a,d("UFICommentFileInputAcceptValues").videos)}function e(a){return k("file",a,d("UFICommentFileInputAcceptValues").files)}g.mimeTypeAcceptStringToArray=j;g.isMimeTypeForPhoto=a;g.isMimeTypeForVideo=b;g.isMimeTypeForFile=e}),98);
__d("genArrayBufferFromFile",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){return"arrayBuffer"in a&&typeof a.arrayBuffer==="function"?a.arrayBuffer():new(g||(g=b("Promise")))(function(b,c){var d=new FileReader();d.onload=function(){var a=d.result;a instanceof ArrayBuffer?b(a):c()};d.onerror=function(){c(d.error)};d.readAsArrayBuffer(a)})}f["default"]=a}),66);
__d("genIsNonAnimatedWebPFile",["genArrayBufferFromFile"],(function(a,b,c,d,e,f,g){"use strict";var h=8;function a(a){return c("genArrayBufferFromFile")(a).then(function(a){a=new Uint8Array(a);var b=a.slice(12,16).reduce(function(a,b,c){return a+String.fromCharCode(b)},"");if(b==="VP8X"){b=a[20];b=b.toString(2).padStart(8,"0");if(b[6]==="1")return!i(a)}return!0})}function i(a){var b=12,c=0;while(c<2&&b+h<a.length){var d=j(a,b);d==="ANMF"&&c++;d=k(a,b+4);var e=d%2;d=h+d+e;b+=d}return c>1}function j(a,b){return a.slice(b,b+4).reduce(function(a,b,c){return a+String.fromCharCode(b)},"")}function k(a,b){return parseInt(a.slice(b,b+4).reduce(function(a,b,c){return b.toString(2).padStart(8,"0")+a},""),2)}g["default"]=a}),98);
__d("LSGetAttachmentType",["LSIntEnum","MessagingAttachmentType","asyncToGeneratorRuntime","cometIsMimeTypeForMedia","genIsNonAnimatedWebPFile"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return a.type==="image/webp"?(h||(h=d("LSIntEnum"))).ofNumber((yield c("genIsNonAnimatedWebPFile")(a))?c("MessagingAttachmentType").IMAGE:c("MessagingAttachmentType").VIDEO):j(a)});return i.apply(this,arguments)}function j(a){a=a.type;if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a))return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE);else if(a==="audio/wav")return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO);else if(a==="image/gif")return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE);else if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a))return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO);else return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)}g.LSGetAttachmentType=a;g.LSGetAttachmentTypeSyncButLessAccurate=j}),98);
__d("LSMailboxTaskCompletionApiOnTaskInsertion",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.islc(b.db.table(232).fetch(),0,b.i64.to_float(b.i64.cast([0,1]))),function(c){c=c.item;return b.db.table(233).add({taskId:a[0],notificationScopeKey:c.notificationScopeKey,notificationName:c.notificationName})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSIssueNewTaskWithExtraOperations",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[11]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueNewTaskWithExtraOperationsAndGetTaskID",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],c.i64.cast([0,0])).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[0])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSMailboxType",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSENGER:0,COMMUNITIES:1,TINCAN:1024,TAM:4096});f["default"]=a}),66);
__d("LSMarkThreadRead",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(9).fetch([[[a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.gt(a[0],c.lastReadWatermarkTimestampMs)}),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSMessagingThreadAttributionType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,UNKNOWN_TEST:1,UNKNOWN_FAILURE_RETRY:2,MESSENGER_INBOX:65536,MESSENGER_INBOX_IN_THREAD:65537,MESSENGER_INBOX_THREAD_LIST:65538,MESSENGER_INBOX_NESTED_FOLDER:65539,MESSENGER_INBOX_RECENT_THREADS:65540,MESSENGER_INBOX_REMAINING_THREADS:65541,MESSENGER_INBOX_MESSAGE_SEARCH:65542,MESSENGER_INBOX_IMAGE_SENDING:65543,MESSENGER_INBOX_FORWARD:65544,MESSENGER_INBOX_ARCHIVED_THREADS:65545,MESSENGER_INBOX_PENDING_REQUESTS:65546,MESSENGER_INBOX_ACTIVE_CONTACTS:65547,MESSENGER_INBOX_THREAD_BANNER_BOTTOM_SHEET:65548,MESSENGER_INBOX_PEOPLE_YOU_MAY_KNOW:65549,MESSENGER_INBOX_HOLIDAY_CARD_SHARE_SHEET:65550,MESSENGER_INBOX_HOLIDAY_CARD_SHARE_SHEET_QP:65551,MESSENGER_UNIVERSAL_SEARCH:131072,MESSENGER_UNIVERSAL_SEARCH_NULL_STATE:131073,MESSENGER_UNIVERSAL_SEARCH_KEY_PRESSED:131074,MESSENGER_UNIVERSAL_SEARCH_MESSAGE_SEARCH:131075,MESSENGER_UNIVERSAL_SEARCH_ADVANCED_CONTENT_SEARCH:131076,MESSENGER_UNIVERSAL_SEARCH_AI_PROMPT:131077,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD:131078,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_AIRPLANE_SEND:131079,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_KEYBOARD_SEND:131080,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_DONUT:131081,MESSENGER_UNIVERSAL_SEARCH_AI_NULLSTATE_DONUT:131082,MESSENGER_UNIVERSAL_SEARCH_AI_NULLSTATE_AIRPLANE_SEND:131083,MESSENGER_UNIVERSAL_SEARCH_META_AI_SEARCH_RESULT:131084,MONTAGE_AND_ACTIVE_NOW:196608,MONTAGE_AND_ACTIVE_NOW_MONTAGE_INBOX_UNIT:196609,MONTAGE_AND_ACTIVE_NOW_ACTIVE_NOW:196610,MONTAGE_AND_ACTIVE_NOW_INBOX_COMPOSER:196611,MONTAGE_AND_ACTIVE_NOW_ACTIVE_AND_HAS_STORY:196612,MONTAGE_AND_ACTIVE_NOW_CUSTOM_STATUS:196613,MONTAGE_AND_ACTIVE_NOW_NOTES:196614,MONTAGE_AND_ACTIVE_NOW_SEE_ALL_ACTIVE:196615,MONTAGE_AND_ACTIVE_NOW_AN_TRAY_STORY_REPLY:196616,MESSENGER_ACTIVE_NOW_FRIENDS_TAB:262144,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_FRIENDS_TAB:262145,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_PLACE_HOLDER:262146,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_RECENT_ACTIVE:262147,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_RECENT_ACTIVE_AND_STORY:262148,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_CONTENT_DISCOVERY:262149,MESSENGER_PENDING_REQUESTS:327680,MESSENGER_PENDING_REQUESTS_INBOX_THREAD_LIST:327681,MESSENGER_PENDING_REQUESTS_PENDING_REQUESTS_PAGE:327682,MESSENGER_BROADCAST_FLOW:393216,MESSENGER_BROADCAST_FLOW_FROM_MESSENGER:393217,MESSENGER_BROADCAST_FLOW_FROM_FB:393218,MESSENGER_BROADCAST_FLOW_FROM_EXTERNAL:393219,MESSENGER_BROADCAST_FLOW_FROM_FB__NEWSFEED_SHARESHEET:393220,MESSENGER_BROADCAST_FLOW_FROM_FB__NEWSFEED_GOODWILL_COMPOSER:393221,MESSENGER_BROADCAST_FLOW_FROM_FB__SHORTS_VIEWER:393222,MESSENGER_BROADCAST_FLOW_FORWARD_GUTTER:393223,MESSENGER_BROADCAST_FLOW_FORWARD_LONGCLICK:393224,MESSENGER_BROADCAST_FLOW_MESSENGER_PHOTO_VIEW:393225,MESSENGER_OMNIPICKER:458752,MESSENGER_OMNIPICKER_NULL_STATE:458753,MESSENGER_OMNIPICKER_KEY_PRESSED:458754,MESSENGER_NOTIFICATION:524288,MESSENGER_NOTIFICATION_IN_THREAD_REPLY:524289,MESSENGER_NOTIFICATION_LONGPRESS_REPLY:524290,MESSENGER_NOTIFICATION_LONGPRESS_REACTION:524291,CLICK_TO_MESSENGER_AD:589824,CLICK_TO_MESSENGER_AD_FROM_NEWSFEED:589825,CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA:589826,CLICK_TO_MESSENGER_AD_VIEW_AND_MESSAGE:589827,CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA__NEWSFEED_CTM_ADS_CTA:589828,PAYMENTS:655360,PAYMENTS_BUBBLE_CLICK:655361,RTC:720896,RTC_VOIP_INCALL:720897,RTC_DRAWER_PROMOTION:720898,FB_PAGE:786432,FB_PAGE_ABOUT_CARD:786433,FB_PAGE_PROFILE_HEADER_MESSAGE_BUTTON:786434,FB_PAGE_PROFILE_FOOTER_MESSAGE_BUTTON:786435,FB_PAGE_PROFILE_MORE_DRAWER:786436,FB_PAGE_RESPONSIVENESS_CONTEXT_CARD:786437,FB_PAGE_PYMM_RHC:786439,FB_PROFILE:851968,FB_PROFILE_TIMELINE_MESSAGE_BUTTON:851969,FB_PROFILE_FACEBOOK_PROFILE:851970,FB_PROFILE_MESSAGE_BUTTON:851971,FB_PROFILE_MESSAGE_BUTTON_BLOKS_URL:851972,FB_PROFILE_PROFILE_HEADER_COMPOSER:851973,FB_SEARCH:917504,FB_SEARCH_CONTEXTUAL_PROFILE_ACTION_BAR_FROM_SEARCH:917505,FB_SEARCH_SEARCH_MESSAGE_BUTTON:917506,FB_SEARCH_FB_MESSAGE_SEARCH_RESULTS:917507,FB_SEARCH_HIGH_CONFIDENCE_CARD:917508,FB_SEARCH_MENTIONS:917509,FB_SEARCH_NULLSTATE_CTA:917510,FB_SEARCH_NULL_STATE:917511,FB_SEARCH_TYPEAHEAD:917512,FB_SEARCH_TYPEAHEAD_AIRPLANE_SEND:917513,FB_SEARCH_TYPEAHEAD_KEYBOARD_SEND:917514,FB_SEARCH_TYPEAHEAD_DONUT:917515,FB_SEARCH_NULL_STATE_DONUT:917516,FB_SEARCH_NULL_STATE_AIRPLANE_SEND:917517,FB_SEARCH_NULL_STATE_KEYBOARD_SEND:917518,CRYPTO:983040,MESSENGER_MONTAGE_COMPOSER:1048576,MESSENGER_MONTAGE_COMPOSER_FRIENDS_TAB:1048577,MESSENGER_MONTAGE_COMPOSER_FRIENDS_TAB_STORY_AND_ACTIVE_NOW:1048578,MESSENGER_MONTAGE_REPLY:1114112,MESSENGER_MONTAGE_REPLY_INBOX_THREAD_LIST_PROFILE:1114113,MESSENGER_MONTAGE_REPLY_REPLY_CONTEXT:1114114,MESSENGER_MONTAGE_REPLY_THREAD_NAV_BAR:1114115,MESSENGER_MONTAGE_REPLY_INBOX_THREAD_LIST_PROFILE_AUTHOR_PROFILE:1114116,MESSENGER_MONTAGE_REPLY_REPLY_CONTEXT_AUTHOR_PROFILE:1114117,MESSENGER_MONTAGE_REPLY_THREAD_NAV_BAR_AUTHOR_PROFILE:1114118,MESSENGER_MONTAGE_REPLY_ONE_TO_ONE_CHAT_THREAD_STORY_BUBBLE:1114119,MESSENGER_THREAD_MEMBERS_LIST:1179648,MARKETPLACE:1245184,MARKETPLACE_ACTIVITY_BANNER:1245185,MARKETPLACE_SEND_MESSAGE:1245186,MARKETPLACE_GEN_AI_ACCORDION_META_AI_PILL:1245187,MARKETPLACE_GEN_AI_ACCORDION_FOLLOW_UP_QUESTION:1245188,MARKETPLACE_GEN_AI_PRICE_CHECK_META_AI_PILL:1245189,MARKETPLACE_GEN_AI_PRICE_CHECK_FOLLOW_UP_QUESTION:1245190,MARKETPLACE_META_AI_PILLS_MODULE_META_AI_PILL_GENERIC:1245191,MARKETPLACE_META_AI_PILLS_MODULE_META_AI_PILL_WITH_PROMPT:1245192,MARKETPLACE_GEN_AI_ENRICHED_DESCRIPTION_META_AI_PILL_GENERIC:1245193,MARKETPLACE_GEN_AI_ENRICHED_DESCRIPTION_META_AI_PILL_WITH_PROMPT:1245194,FB_STORY:1310720,FB_STORY_VIEWER_SHEET_MENU:1310721,FB_STORY_VIEWER_SHEET_ROW:1310722,FB_STORY_STORIES_JEWEL_NOTIFICATION:1310723,FB_STORY_STORIES_PUSH_NOTIFICATION:1310724,FB_STORY_STORIES_VIEWER_CONSUMER_REPLY:1310725,FB_STORY_STORIES_VIEWER_CONSUMER_ARTIFACT:1310726,FB_STORY_STORIES_PAGE_STORY_CONVERSATIONS:1310727,FB_STORY_SOCIAL_CONTEXT_CONVERSATIONS:1310728,FB_STORY_MENTIONS:1310729,FB_STORY_SELF_STORY_SEND:1310730,FB_STORY_SHARESHEET:1310731,FB_STORY_NOTES:1310732,WORKSPEED:1376256,WORKSPEED_COMPOSER_LIKE_BUTTON:1376257,WORKSPEED_COMPOSER_GIF_PICKER:1376258,MDOTME:1441792,MDOTME_ORGANIC_POST:1441793,MDOTME_MARKETING_EMAIL:1441794,MDOTME_MBS_OFFSITE_EMAIL:1441795,CUSTOMER_CHAT_PLUGIN:1507328,CUSTOMER_CHAT_PLUGIN_MOBILE_REDIRECT:1507329,CUSTOMER_CHAT_PLUGIN_UPGRADE_FLOW:1507330,CUSTOMER_CHAT_PLUGIN_RE_ENGAGEMENT:1507331,FB_FEED:1572864,FB_FEED_ORGANIC_POST:1572865,FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE:1572866,FB_FEED_QUESTION_TRIGGERED_CONVO:1572867,FB_FEED_DYNAMIC_HOVER_CARD:1572868,FB_FEED_ORGANIC_POST__NEWSFEED_PAGE_POST_CTA:1572869,FB_FEED_ORGANIC_POST__NEWSFEED_BUMPER_SMCTA:1572870,FB_FEED_BCF_OPEN_CHAT_BUTTON:1572871,FB_FEED_REACTORS_LIST_MESSAGE_BUTTON:1572872,FB_FEED_REPLY_TO_AUTHOR:1572873,FB_FEED_UFI_SEND_SUGGESTIONS:1572874,FB_FEED_BCF:1572875,FB_FEED_COMMUNITY_CHATS_FEED_POST:1572876,FB_FEED_SOCIAL_CONNECTIONS_QP:1572877,FB_FEED_META_AI_DEEP_DIVES:1572878,FB_FEED_META_AI_SHARE_SHEET:1572879,FB_FEED_META_AI_TRENDING_DISCOVER_UNIT:1572880,FB_FEED_META_AI_POST_DEEPDIVE_PILL:1572881,FB_FEED_META_AI_EDUCATIONAL_QP:1572882,FB_FEED_META_AI_ENTITY_SUMMARIZATION_DISCOVER_UNIT:1572883,FB_FEED_META_AI_COMMENTS_SUMMARY:1572884,FB_FEED_META_AI_FAB:1572885,FB_FEED_META_AI_ADS_CAMPAIGN:1572886,FB_FEED_META_AI_ANSWERSHEET:1572887,FB_NOTIFICATION:1638400,FB_NOTIFICATION_JEWEL_NOTIF:1638401,FB_NOTIFICATION_PUSH_NOTIF:1638402,FB_EVENT:1703936,FB_EVENT_MESSAGE_HOST:1703937,FB_EVENT_SHARE_CLASS_MATERIALS:1703938,SUPPORT_RESOURCES:1769472,SUPPORT_RESOURCES_FRX_ACTION:1769473,LEAD_GEN_MESSAGING:1835008,LEAD_GEN_MESSAGING_PRE_SUBMISSION:1835009,LEAD_GEN_MESSAGING_POST_SUBMISSION:1835010,LEAD_GEN_MESSAGING_CROSS_CHANNEL_VERTICAL_PRESENT_ANDROID:1835011,LEAD_GEN_MESSAGING_CROSS_CHANNEL_HSCROLL_ANDROID:1835012,MESSENGER_GRAPH:1900544,MESSENGER_GRAPH_SELECT_CONTACT:1900545,MESSENGER_CHAT:1966080,MESSENGER_CHAT_FROM_JEWEL__THREAD_LIST:1966081,MESSENGER_CHAT_IN_THREAD:1966082,MESSENGER_CHAT_FORWARD:1966083,MESSENGER_ARCHIVED_THREADS:2031616,MESSENGER_ARCHIVED_THREADS_ARCHIVED_THREADS_FOLDER:2031617,JEWEL:2097152,JEWEL_THREAD_LIST:2097153,JEWEL_SEARCH:2097154,JEWEL_NEW_MESSAGE:2097155,JEWEL_NESTED_FOLDER:2097156,CHATHEADS:2162688,CHATHEADS_RECENT_THREADS:2162689,CHATHEADS_OVERFLOW:2162690,CHATHEADS_NEW_MESSAGE:2162691,SIDEBAR:2228224,SIDEBAR_CONTACTS_LIST:2228225,SIDEBAR_CONTACTS_SEARCH:2228226,SIDEBAR_CONTACTS_GROUPS:2228227,SIDEBAR_CONTACTS_COMMUNITY_CHATS:2228228,MESSENGER_COMMUNITY_MESSAGING:2293760,MESSENGER_COMMUNITY_MESSAGING_COMMUNITY_CHANNEL:2293761,MESSENGER_COMMUNITY_MESSAGING_FULLSCREEN_CHAT:2293762,FB_PLATFORM_LOGIN:2359296,FB_PLATFORM_LOGIN_LOGIN_CONNECT_WITH_MESSENGER:2359297,CONTACT_MANAGER:2424832,CONTACT_MANAGER_CONTACT_SHARE:2424833,CONTACT_MANAGER_PEOPLE_TAB_CONTACT_LIST:2424834,CONTACT_MANAGER_PEOPLE_TAB_CONTACT_SEARCH:2424835,CONTACT_MANAGER_ICON_CONTACT_LIST:2424836,CONTACT_MANAGER_ICON_CONTACT_SEARCH:2424837,MESSAGING_INBOX_IN_BLUE:2490368,MESSAGING_INBOX_IN_BLUE_THREAD_LIST:2490369,MESSAGING_INBOX_IN_BLUE_PEOPLE_PICKER:2490370,MESSAGING_INBOX_IN_BLUE_INBOX_ICON:2490371,MESSAGING_INBOX_IN_BLUE_SWIPE_FROM_RIGHT:2490372,MESSAGING_INBOX_IN_BLUE_MIB_NOTIFICATION:2490373,MESSAGING_INBOX_IN_BLUE_ACTIVE_NOW:2490374,MESSAGING_INBOX_IN_BLUE_SUGGESTED_CHATS:2490375,MESSAGING_INBOX_IN_BLUE_CHAT_PREVIEW_BANNER:2490376,MESSAGING_INBOX_IN_BLUE_THREAD_VIEW_CORE_NULL_STATE:2490377,MESSAGING_INBOX_IN_BLUE_MESSAGE_REQUESTS:2490378,MESSAGING_INBOX_IN_BLUE_SPAM:2490379,MESSAGING_INBOX_IN_BLUE_FB_GROUPS:2490380,MESSAGING_INBOX_IN_BLUE_MESSENGER_PEEK_STATE_BUTTON:2490381,MESSAGING_INBOX_IN_BLUE_MESSENGER_PEEK_STATE_TOOLTIP:2490382,MESSAGING_INBOX_IN_BLUE_BROADCAST_FLOW:2490383,MESSAGING_INBOX_IN_BLUE_THREAD_VIEW_HEADER:2490384,MESSAGING_INBOX_IN_BLUE_PRIVACY_SETTINGS:2490385,MESSAGING_INBOX_IN_BLUE_ARCHIVED_CHATS:2490386,MESSAGING_INBOX_IN_BLUE_UNIVERSAL_SEARCH:2490387,MESSAGING_INBOX_IN_BLUE_INBOX_SEARCH_BAR:2490388,MIB_NOTIFICATION:2555904,MIB_NOTIFICATION_PUSH_NOTIFICATION:2555905,MIB_NOTIFICATION_JEWEL_NOTIFICATION:2555906,MIB_NOTIFICATION_DIRECT_PUSH_NOTIF:2555907,MIB_NOTIFICATION_DIRECT_JEWEL_NOTIF:2555908,MESSENGER_RESTRICTED_ACCOUNTS:2621440,ARMADILLO_CUTOVER_THREAD_LINKING_MESSAGE:2686976,CALLS_TAB:2752512,MINI_SHOP_VIEW_MENU_BUTTON:2818048,SHARESHEET:2883584,SHARESHEET_GENERALIZED_BROADCAST_FLOW:2883585,SHARESHEET_OFF_PLATFORM_SHARING_H_SCROLL:2883586,UFI:2949120,UFI_GENERALIZED_BROADCAST_FLOW:2949121,CHATHEAD_CLICK_COLLAPSED:3014656,TIMELINE_MESSAGE_BUTTON:3080192,DIRECT_REPLY_INTENT:3145728,FB_GROUPS:3211264,FB_GROUPS_INBOX:3211265,FB_GROUPS_PICKER_EXISTING_CHAT:3211266,FB_GROUPS_PICKER_JOIN_CHAT:3211267,FB_GROUPS_MEMBER_LIST:3211268,FB_GROUPS_INLINE_COMPOSER:3211269,FB_GROUPS_SCOPED_SEARCH:3211270,FB_GROUPS_UNJOINED_MALL_HEADER:3211271,FB_GROUPS_DISCOVER_FEED_UNIT:3211272,FB_GROUPS_ANSWER_AGENT_CONTEXTUAL_PROFILE:3211273,FB_GROUPS_ANSWER_AGENT_FOLLOWUP_SECTION:3211274,FB_GROUPS_NOTIFICATION_MESSAGING_IN_BLUE_DIRECT_MESSAGE:3211275,DEVICES:3276800,DEVICES_STELLA:3276801,FB_WELLBEING:3342336,FB_WELLBEING_INCALL_UNBLOCKING_NOTIFICATION:3342337,MESSENGER_DEEP_LINKING:3407872,READ_ONLY_CUTOVER_THREAD:3473408,READ_ONLY_CUTOVER_THREAD_ARMADILLO_THREAD:3473409,ARMADILLO_THREAD:3538944,ARMADILLO_THREAD_READ_ONLY_CUTOVER_THREAD:3538945,ARMADILLO_THREAD_EXTERNAL_LINK:3538946,FB_SHORTS:3604480,FB_SHORTS_PROFILE:3604481,FB_SHORTS_REACTORS_LIST_MESSAGE_BUTTON:3604482,SEND_PLUGIN:3670016,SEND_AS_MESSAGE_FROM_NT:3735552,MESSENGER_PUBLIC_CHATS_MESSAGING:3801088,MESSENGER_GROWTH:3866624,MESSENGER_GROWTH_NOTIFICATIONS_ENTRYPOINT:3866625,FRIENDS_HOME:3932160,FRIENDS_HOME_ACTIVE_NOW:3932161,FRIENDS_HOME_MESSAGE_NEW_FRIENDS:3932162,FRIENDS_HOME_POST_ACCEPT_MESSAGING:3932163,FRIENDS_HOME_SENDER_POST_ACCEPT_WAVE:3932164,EXTERNAL_LINK_XMA:3997696,EXTERNAL_LINK_XMA_FROM_COMPOSER:3997697,EXTERNAL_LINK_XMA_FROM_DEEP_LINKING:3997698,EXTERNAL_LINK_XMA_FROM_SHARE_EXTENSION:3997699,FB_NOTIFICATIONS:4063232,QUICK_PROMOTION:4128768,QUICK_PROMOTION_CTA:4128769,QUICK_PROMOTION_INTERSTITIAL:4128770,QUICK_PROMOTION_TOP_BANNER:4128771,FBM_IN_APP_NOTIFS:4194304,CREATOR_SUPPORT:4259840,CREATOR_SUPPORT_MESSENGER_TOAST:4259841,FB_INSTANT_GAME:4325376,COMMUNITY_CHATS_IN_FEED:4390912,COMMUNITY_CHATS_IN_FEED_PERMALINK:4390913,UNIFIED_BUSINESS_INBOX:4456448,ROLLCALL:4521984,HIGHLIGHTS_TAB:4587520,HIGHLIGHTS_TAB_FEED_INLINE:4587521,HIGHLIGHTS_TAB_MEDIA_VIEWER:4587522,HIGHLIGHTS_TAB_THREAD_VIEW:4587523,HIGHLIGHTS_TAB_FEED_INLINE_CONNECTED_CHAT:4587524,HIGHLIGHTS_TAB_FEED_INLINE_LOCAL_EVENT:4587525,HIGHLIGHTS_TAB_FEED_INLINE_FRIENDS_UPDATE:4587526,HIGHLIGHTS_TAB_FEED_INLINE_BIRTHDAY:4587527,HIGHLIGHTS_TAB_MEDIA_VIEWER_CONNECTED_CHAT:4587528,HIGHLIGHTS_TAB_MEDIA_VIEWER_FRIENDS_UPDATE:4587529,HIGHLIGHTS_TAB_THREAD_VIEW_CONNECTED_CHAT:4587530,HIGHLIGHTS_TAB_THREAD_VIEW_LOCAL_EVENT:4587531,HIGHLIGHTS_TAB_THREAD_VIEW_FRIENDS_UPDATE:4587532,HIGHLIGHTS_TAB_THREAD_VIEW_BIRTHDAY:4587533,HIGHLIGHTS_TAB_THREAD_VIEW_NOTE:4587534,HIGHLIGHTS_TAB_FEED_INLINE_NOTE:4587535,HIGHLIGHTS_TAB_CONNECTED_BROADCAST_CHANNEL_SHARE_SHEET:4587536,HIGHLIGHTS_TAB_SMART_REPLY_DRAWER_BIRTHDAY:4587537,HIGHLIGHTS_TAB_SHARE_SHEET_HOLIDAY_CARD:4587538,MARKETPLACE_INBOX:4653056,ONE_TAP_MESSAGE_QUICK_SHARE:4718592,HIGHLIGHTS_TAB_STORIES_TRAY:4784128,FB_BIRTHDAY_CENTER:4849664,MESSENGER_SIRIKIT:4915200,MESSENGER_SIRIKIT_CALLKIT_QUICK_REPLY:4915201,MESSENGER_SIRIKIT_VOICE_COMMAND:4915202,CLICK_TO_SUBSCRIBE_AD:4980736,HIGHLIGHTS_TAB_SMART_REPLY_DRAWER:5046272,FB_UNIVERSAL_SEARCH:5111808,FB_UNIVERSAL_SEARCH_NULL_STATE_SUGGESTED:5111809,FB_UNIVERSAL_SEARCH_NULL_STATE_RECENT:5111810,FB_UNIVERSAL_SEARCH_QUERY_RESULTS:5111811,FBLITE_MESSAGING:5177344,FBLITE_MESSAGING_FROM_EXTERNAL:5177345,FBLITE_MESSAGING_FORWARD_FROM_BROADCAST_FLOW:5177346,FBLITE_MESSAGING_IN_THREAD:5177349,FBLITE_MESSAGING_ACTIVE_NOW:5177352,FBLITE_MESSAGING_ARCHIVED_CHATS:5177353,FBLITE_MESSAGING_SPAM:5177354,FBLITE_MESSAGING_MESSAGE_REQUESTS:5177355,FBLITE_MESSAGING_MARKETPLACE:5177356,FBLITE_MESSAGING_THREAD_MEMBERS_LIST:5177357,FBLITE_MESSAGING_READONLY_VERSION_OF_CUTOVER_THREAD:5177358,FBLITE_MESSAGING_NOTIFICATION:5242880,FBLITE_MESSAGING_NOTIFICATION_IN_THREAD_REPLY:5242881,FBLITE_MESSAGING_NOTIFICATION_DIRECT_REPLY:5242882,FBLITE_INBOX:5308416,FBLITE_INBOX_UNIVERSAL_SEARCH:5308417,FBLITE_INBOX_PEOPLE_PICKER:5308418,FBLITE_INBOX_RECENT_THREADS:5308419,FBLITE_INBOX_REMAINING_THREADS:5308420,SHARED_ALBUM:5373952,QUICK_REPLIES:5439488,QUICK_REPLIES_TRAY:5439489,MESSENGER_CTA_AFTER_CALL_ENDS:5505024,MESSENGER_CONVERSATION_SHORTCUT:5570560,CC_ADMIN_SEND_MESSAGE_HINT_CARD:5636096,CC_MEMBER_SEND_MESSAGE_HINT_CARD:5701632,MSGR_AVATAR_DETAILS:5767168,PRIVATE_SHARING_FORWARD_SUPER_SHARE_SHEET:5832704,MEMORIES:5898240,META_AI_TAB:5963776,MEMORIES_NOTIFICATION:6029312,MEMORIES_QUICK_PROMOTION:6094848,MEMORIES_HIGHLIGHTS_TAB:6160384,MEMORIES_LIST:6225920,MSGR_PYMK_LIST_SCREEN:6291456,INSTAGRAM_WEB_SENDS:6356992,AI_SUGGESTED_PROMPT_TRAY:6422528,AI_SUGGESTED_PROMPT_ICEBREAKER:6488064,COMMUNITY_INVITE:6553600,COMMUNITY_CHAT_INVITE:6619136,AI_DISCOVERY_BOTTOM_SHEET:6684672,IN_THREAD_INVITE_MODEL:6750208,SUPPORT_FOLDER:6815744,MARKETPLACE_PDP:6881280,QR_CODE:6946816});f["default"]=a}),66);
__d("LSOptimisticMarkThreadReadV2",["LSIssueNewTask","LSMarkThreadRead"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSMarkThreadRead"),a[1],a[0])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("thread_id",a[0]),d[2].set("last_read_watermark_ts",a[1]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_id"),d[2],d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,21]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticUpdateThreadDisappearingSetting",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[4]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[5]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[4],d[5],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("wa_jid",void 0),d[2].set("thread_key",a[0]),d[2].set("disappearing_ttl",a[1]),d[2].set("updated_timestamp",a[2]),d[2].set("updated_by",a[3]),d[2].set("sync_group",c.i64.cast([0,95])),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"disappearing_setting",c.i64.cast([0,714]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticUpdateThreadDisappearingSettingStoredProcedure",["LSOptimisticUpdateThreadDisappearingSetting","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b={});var d=[];d[0]=b.threadKey;d[1]=b.disappearingTtl;d[2]=b.updatedTimestamp;d[3]=b.updatedBy;return c("LSOptimisticUpdateThreadDisappearingSetting").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSProcessBackupIds",["LSAppendDataTraceAddon","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsProcessBackupIdsStoredProcedure] Beginning execution."),c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1487]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[9]?d[10]=!0:d[10]=!1,d[10]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[11],c.i64.cast([0,3]))):c.resolve()}])},function(e){return c.db.table(172).fetch([[[c.i64.cast([0,1])]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1488]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[9]?d[10]=!0:d[10]=!1,d[10]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[11],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[1]=c.i64.cast([0,0])}]):(f=e.item,c.sequence([function(e){return d[11]=f.backupId,d[10]=f.authorityLevel,c.i64.eq(d[10],c.i64.cast([0,20]))?c.resolve(d[9]=c.i64.cast([0,1])):c.sequence([function(e){return c.i64.eq(d[10],c.i64.cast([0,80]))?c.sequence([function(e){return c.i64.eq(d[11],void 0)?c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1492]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!0:d[15]=!1,d[15]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[16],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[13]=c.i64.cast([0,2])}]):c.sequence([function(e){return c.i64.eq(d[11],c.i64.cast([-1,4294967295]))?c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1489]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[15]=a[0],a})},function(a){return d[15]?d[16]=!0:d[16]=!1,d[16]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[17]=c.createArray(),void 0!==void 0?d[18]=(d[17].push(void 0),d[17]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[17],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[14]=c.i64.cast([-1,4294967295])}]):c.sequence([function(e){return c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.backupId,d[11])&&c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1490]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[15]=c.i64.cast([0,4])}]):(e.item,c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1491]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[15]=c.i64.cast([0,3])}]))})},function(a){return d[14]=d[15]}])},function(a){return d[13]=d[14]}])},function(a){return d[12]=d[13]}]):c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1489]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[13]?d[14]=!0:d[14]=!1,d[14]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[15]=c.createArray(),void 0!==void 0?d[16]=(d[15].push(void 0),d[15]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[15],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[12]=c.i64.cast([-1,4294967295])}])},function(a){return d[9]=d[12]}])},function(a){return d[1]=d[9]}]))})},function(a){return d[3]=c.i64.of_float(Date.now()),d[4]=c.i64.random(),d[6]="Finishing execution. Execution time: ",d[7]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[5]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsProcessBackupIdsStoredProcedure] ",d[5],d[6],d[5],d[7],d[5],d[8]].join("")),c.i64.eq(c.i64.mod_(d[4],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[9]=",",d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsProcessBackupIdsStoredProcedure",[d[6],d[9],d[7],d[9],d[8]].join(""),d[10],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSProcessBackupIdsStoredProcedure",["LSProcessBackupIds","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b={});var d=[];d[0]=b.traceId;return c("LSProcessBackupIds").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSRemoveError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(6).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSRemoveErrorStoredProcedure",["LSRemoveError","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.errorId;return c("LSRemoveError").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWBridgeFireAndForget",["MAWBridge","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){d("MAWBridge").getBridge().fireAndForget(a,b,c,e)},b)}g.fireAndForget=a}),98);
__d("MAWBridgeInitOfflineQueueSyncCompleteHandler",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerLogHistory").__setRef("MAWBridgeInitOfflineQueueSyncCompleteHandler");function a(){h.onReady(function(a){a=a.getInstance("maw_setup");a.debug("Init Offline Queue Sync Complete")})}g.call=a}),98);
__d("MAWChatJid",["FBLogger","I64","Promise","ReQL","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){a=d("WAJids").threadIdForChatJid(a);return(i||(i=d("I64"))).of_string(a)}function k(a,e){try{return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(j(e))).then(function(a){return a==null?void 0:a.serverThreadKey})}catch(a){c("FBLogger")("messenger_e2ee_web").catching(a).warn("Invalid chatJid: "+e);return(h||(h=b("Promise"))).reject(a)}}function a(a,b,d){return k(a,b).then(function(a){if(a!=null)return a;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[toThreadKey] No mapping record for chatJid, source: %s",d)})}function e(a,e){try{return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(e)).then(function(a){return a==null?void 0:a.serverThreadKey})}catch(a){c("FBLogger")("messenger_e2ee_web").catching(a).warn("Invalid integer jid: "+(i||(i=d("I64"))).to_string(e));return(h||(h=b("Promise"))).reject(a)}}g.toIntegerJid=j;g.toThreadKeyMaybe=k;g.toThreadKey=a;g.toThreadKeyMaybeForChatJidInteger=e}),98);
__d("MAWEBFrontendQPLLogger",["MWEBODSCategory","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","ODS","QPLUserFlow","Random","gkx","hashString","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=c("Random").uint32();c("QPLUserFlow").start(c("qpl")._(521478596,"1329"),{instanceKey:a});return a}function b(a){if(a==null)return;c("QPLUserFlow").addPoint(c("qpl")._(521478596,"1329"),"processing_threads_from_occamadillo",{instanceKey:a})}function e(a,b){if(a==null)return;b===!0?c("QPLUserFlow").addPoint(c("qpl")._(521478596,"1329"),"backup_restore_completed_success",{instanceKey:a}):c("QPLUserFlow").addPoint(c("qpl")._(521478596,"1329"),"backup_restore_completed_failed",{instanceKey:a})}function f(a,b,d){if(a==null)return;if(b===!0)c("QPLUserFlow").endSuccess(c("qpl")._(521478596,"1329"),{instanceKey:a});else{d=(b=d)!=null?b:"dyi_e2e_failed_unspecifed_reason";c("QPLUserFlow").endFailure(c("qpl")._(521478596,"1329"),d,{instanceKey:a})}}function i(a,b,d){if(c("gkx")("23946")!==!0||a==null)return;a=c("hashString")(a);c("QPLUserFlow").addPoint(c("qpl")._(521485625,"1876"),b,{data:d,instanceKey:a})}function j(a,b,d){if(c("gkx")("23946")!==!0||a==null)return;a=c("hashString")(a);c("QPLUserFlow").addPoint(c("qpl")._(521485625,"1876"),b,{data:d,instanceKey:a});c("QPLUserFlow").endCancel(c("qpl")._(521485625,"1876"),{annotations:d,instanceKey:a})}function k(a,b,d){if(c("gkx")("23946")!==!0||a==null)return;a=c("hashString")(a);if(b){c("QPLUserFlow").endSuccess(c("qpl")._(521485625,"1876"),{instanceKey:a});return}c("QPLUserFlow").endFailure(c("qpl")._(521485625,"1876"),(b=d)!=null?b:"upload_message_backup_failed",{instanceKey:a})}function l(a,b,d){c("QPLUserFlow").addPoint(c("qpl")._(521480745,"830"),b,{data:d,instanceKey:a})}function m(a,b){c("QPLUserFlow").addAnnotations(c("qpl")._(521480745,"830"),b,{instanceKey:a})}function n(a,b){l(a,"upload_tracking_completed",b),c("QPLUserFlow").endSuccess(c("qpl")._(521480745,"830"),{instanceKey:a}),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").SUCCESS)}function o(a,b,e){c("QPLUserFlow").endFailure(c("qpl")._(521480745,"830"),b,{annotations:e,instanceKey:a}),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").FAIL)}function p(a,b){l(a,b),n(a)}g.startDyiQplE2EUserFlow=a;g.logDyiE2EProcessThreadsFromOccamadillo=b;g.logDyiE2EDyiBackupRestoreCompleted=e;g.endDyiE2ECompleted=f;g.addPointUploadMessageBackup=i;g.addPointAndEndFlowUploadMessageBackup=j;g.endFlowUploadMessageBackup=k;g.addPointEBUploadTracking=l;g.addAnnotationEBUploadTracking=m;g.endEBUploadTracking=n;g.failEBUploadTracking=o;g.recordPointAndEndFlow=p}),98);
__d("MAWEncryptedBackupUtils",["I64","LSAuthorityLevel","LSDataTraceCheckPoint","LSIntEnum","MAWEBFrontendQPLLogger","MAWTraceUtils","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c,e,f){d("MAWTraceUtils").recordCheckpointForTrace(a,b,c,e,f)}function a(a,e,f){d("MAWEBFrontendQPLLogger").addPointUploadMessageBackup(e,"get_backup_tenancy");k(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_GET_BACKUP_TENANCY),[],!1);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.secure_encrypted_backups_client_state)).then(function(a){var e;if(a==null){f!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(f,"get_backup_tenancy_null_client_state_row");return(h||(h=b("Promise"))).resolve()}e=(e=a.backupTenancy)!=null?e:(i||(i=d("I64"))).one;a=a.authorityLevel;if(f!=null){var g;d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(f,"get_backup_tenancy",{"int":{authorityLevel:(i||(i=d("I64"))).to_int32((g=a)!=null?g:(i||(i=d("I64"))).zero),backupTenancy:i.to_int32((g=e)!=null?g:(i||(i=d("I64"))).zero)}})}if(e!=null&&(i||(i=d("I64"))).equal((j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),a))return e})}g.getBackupTenancy=a}),98);
__d("MAWEphemeralMsgAutoResetSystemId",[],(function(a,b,c,d,e,f){"use strict";a="-111111";b=a;f["default"]=b}),66);
__d("MAWEphemeralSettingsUpdate",["FBLogger","I64","LSOptimisticUpdateThreadDisappearingSettingStoredProcedure","MAWChatJid","MAWCurrentUser","MAWEphemeralMsgAutoResetSystemId","Promise","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWEphemeralSettingsUpdate"),k=c("requireDeferred")("LSFactory").__setRef("MAWEphemeralSettingsUpdate"),l=c("requireDeferred")("WATimeUtils").__setRef("MAWEphemeralSettingsUpdate");function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){a=(yield a.threads.get(e));if(a!=null){e=a.disappearingSettingUpdatedTs;a=a.disappearingSettingTtl;if(e==null||a==null)return!0;if((i||(i=d("I64"))).lt(e,(i||(i=d("I64"))).of_float(c))&&!(i||(i=d("I64"))).equal(a,(i||(i=d("I64"))).of_int32(b)))return!0}return!1});return n.apply(this,arguments)}function o(a,b,c,d,e,f,g){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j,l,n){var o=(yield m(a,e,f,j));if(!o)return(h||(h=b("Promise"))).resolve();l&&c("FBLogger")("labyrinth_web").addMetadata("LABYRINTH_WEB","APP_VERSION","OCCAM_EPHEMERAL_SETTINGS_UPDATE").info("[Occam][Web] Ephemeral Settings Updated.");o=(yield k.load());return c("LSOptimisticUpdateThreadDisappearingSettingStoredProcedure")(o(a),{disappearingTtl:(i||(i=d("I64"))).of_int32(e),threadKey:j,updatedBy:i.of_string(g?c("MAWEphemeralMsgAutoResetSystemId"):(l=n)!=null?l:d("MAWCurrentUser").getID()),updatedTimestamp:i.of_float(f)})});return p.apply(this,arguments)}function a(a,b,c,d){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){var e=(yield j.load());e=(yield e());return e.runInTransaction(function(e){return o(e,a,b,c,d,!1)},"readwrite")});return q.apply(this,arguments)}function e(a,b,c,d,e){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){var i=(yield j.load());i=(yield i());return i.runInTransaction(function(){var i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(i){var j=(yield d("MAWChatJid").toThreadKeyMaybe(i,f));return j!=null?o(i,a,(yield l.load()).castUnixTimeToMillisTime(c),e,j,g):(h||(h=b("Promise"))).resolve()});return function(a){return i.apply(this,arguments)}}(),"readwrite")});return r.apply(this,arguments)}g.updateEphemeralSettingsWithTxn=o;g.updateEphemeralSettings=a;g.updateEphemeralSettingsByChatJid=e}),98);
__d("MAWGetEphemeralSettings",["I64","MAWBridgeSendAndReceive","MAWChatJid","ReQL","WAJids","WALogger","WATimeUtils","asyncToGeneratorRuntime","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings api call for chatJid "," returns ",""]);i=function(){return a};return a}var j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWGetEphemeralSettings"),k=c("requireDeferred")("MAWEphemeralSettingsUpdate").__setRef("MAWGetEphemeralSettings");function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(d("WAJids").switchOnMsgrChatJidType(a,{group:function(){return!1},user:function(){return!0}})){var e=(yield j.load());e=(yield e());b=(b=b)!=null?b:yield d("MAWChatJid").toThreadKeyMaybe(e.tables,a);if(b!=null){e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(b)));if(e!=null&&e.disappearingSettingTtl!=null){b={ephemeralExpirationInSec:(h||(h=d("I64"))).to_int32(e.disappearingSettingTtl),ephemeralLastUpdatedOrSetTimestamp:e.disappearingSettingUpdatedBy!=null?d("WATimeUtils").castMilliSecondsToUnixTime((h||(h=d("I64"))).to_float(e.disappearingSettingUpdatedBy)):d("WATimeUtils").unixTime()};return b}return}return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getEphemeralSettings",{threadId:a}).then(function(b){d("WALogger").LOG(i(),a,b);if(b!=null){c("promiseDone")(k.load().then(function(c){return c.updateEphemeralSettingsByChatJid(b.ephemeralExpirationInSec,b.ephemeralLastUpdatedOrSetTimestamp,!1,a,!0)}));return b}return void 0})}});return l.apply(this,arguments)}g.getEphemeralSetting=a}),98);
__d("MAWMiActGetMappingWithMawTypes",["I64","MAWJids","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=(h||(h=d("I64"))).to_string(a.jid);b=b?d("WAJids").toGroupJid(c):d("MAWJids").toUserJid(c);return{clientThreadPk:a.clientThreadPk,jid:b,serverThreadKey:a.serverThreadKey}}g["default"]=a}),98);
__d("MAWMiActIsPlaceholderChatId",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=d("I64"))).lt(a,h.zero)}g.isPlaceholderClientThreadPk=a}),98);
__d("MAWMiActThreadLifecycleState",[],(function(a,b,c,d,e,f){"use strict";a={ACT_THREAD_ONLY:"ACT_THREAD_ONLY",AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:"AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW",AUTHORITATIVE_THREAD_ONLY:"AUTHORITATIVE_THREAD_ONLY",CLIENT_PARTIAL_MI_THREAD:"CLIENT_PARTIAL_MI_THREAD",CLIENT_PARTIAL_MI_THREAD_WITH_ACT:"CLIENT_PARTIAL_MI_THREAD_WITH_ACT",JID_MISSING_MAPPING_ROW:"JID_MISSING_MAPPING_ROW",JID_MISSING_MI_THREAD:"JID_MISSING_MI_THREAD",MI_AND_ACT_THREAD_COMPLETE:"MI_AND_ACT_THREAD_COMPLETE",OPTIMISTIC_THREAD_NO_ACT:"OPTIMISTIC_THREAD_NO_ACT",OPTIMISTIC_THREAD_WITH_ACT:"OPTIMISTIC_THREAD_WITH_ACT",SERVER_PARTIAL_MI_THREAD:"SERVER_PARTIAL_MI_THREAD",THREAD_KEY_ONLY:"THREAD_KEY_ONLY"};f.MiActThreadStatesEnum=a}),66);
__d("MAWMiActGetThreadLifecycleState",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWMiActGetMappingWithMawTypes","MAWMiActIsPlaceholderChatId","MAWMiActThreadLifecycleState","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,e){var f=(i||(i=d("LSIntEnum"))).toNumber(a.authorityLevel);if(f===c("LSAuthorityLevel").OPTIMISTIC)if(b!=null)return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT});else return{serverThreadKey:a.threadKey,thread:a,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT};if(f===c("LSAuthorityLevel").CLIENT_PARTIAL)return b!=null?babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT}):{serverThreadKey:a.threadKey,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD};if(f===c("LSAuthorityLevel").SERVER_PARTIAL)return{serverThreadKey:a.threadKey,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD};if(f===c("LSAuthorityLevel").AUTHORITATIVE){if(b==null)return{serverThreadKey:a.threadKey,thread:a,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW};if(!d("MAWMiActIsPlaceholderChatId").isPlaceholderClientThreadPk(b.clientThreadPk))return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE});else if(d("MAWMiActIsPlaceholderChatId").isPlaceholderClientThreadPk(b.clientThreadPk)){var g=c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType));return{jid:g.jid,jidInt64:b.jid,serverThreadKey:g.serverThreadKey,thread:a,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY}}}throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unknown thread lifecycle state for threadKey: %s, authorityLevel: %s, thread action: %s",(j||(j=d("I64"))).to_string(a.threadKey),f,e)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(b)));if(e==null)return{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW};a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e.serverThreadKey)));return a==null?{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD}:k(a,e,c)});return m.apply(this,arguments)}function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(c))]));var f=a[0];a=a[1];return f==null?{serverThreadKey:c,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY}:k(f,a,e)});return o.apply(this,arguments)}function a(a,b,c,d){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b=(yield l(a,b,e));if(b.type===d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW&&c!=null)return n(a,(j||(j=d("I64"))).of_string(c),"MAWBridgeOccamadilloVerifyThreadExistsHandler");else return b});return p.apply(this,arguments)}g.getThreadLifecycleStateByJid=l;g.getThreadLifecycleStateByThreadKey=n;g.getThreadLifecycleStateByJidOrThreadKey=a}),98);
__d("MAWWebWorkerInstance",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}d=function(){return g!==null};function b(){g=null}function c(){return g}f.setWorkerInstancePromise=a;f.doesWorkerExist=d;f.destroyWorkerInstance=b;f.getWorkerInstancePromise=c}),66);
__d("MAWMiActOnActThreadReadyQueue",["FBLogger","I64","MAWWebWorkerInstance","WALoggerDeferred","asyncToGeneratorRuntime","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executed "," out of "," actions on ACT thread\n    ready for threadKey: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing queued action on ACT thread ready: "," for threadKey: ",""]);j=function(){return a};return a}var k=new Map(),l=3e4;function a(a,b,e,f,g){var i=(h||(h=d("I64"))).to_string(a);a=(a=k.get(i))!=null?a:[];var j=c("setTimeout")(function(){c("FBLogger")("messenger_e2ee_web").mustfix("[MiActMapping] Took longer than %s ms to execute: %s in threadState: %s for threadKey: %s, onActThreadReady, isWorkerAlive: %s",l,f,g,i,d("MAWWebWorkerInstance").doesWorkerExist()),e()},l);a.push({callback:b,description:f,threadState:g,timeoutId:j});k.set(i,a)}function e(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(h||(h=d("I64"))).to_string(a),f=k.get(e);if(f==null||f.length===0)return;var g=f.length,l=0;while(f.length!==0){var m=f.shift(),n=m.callback,o=m.description,p=m.threadState;m=m.timeoutId;try{c("promiseDone")(d("WALoggerDeferred").LOG(j(),o,e)),yield n(a,b),c("clearTimeout")(m),l++}catch(a){c("clearTimeout")(m),c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MiActMapping] Error executing callback on ACT thread ready: %s, original threadState: %s, threadKey: %s",o,p,e)}}k["delete"](e);c("promiseDone")(d("WALoggerDeferred").LOG(i(),l,g,e))});return m.apply(this,arguments)}g.enqueueByThreadKey=a;g.processQueueOnActThreadReady=e}),98);
__d("MAWMiActOnMiThreadReadyQueue",["FBLogger","MAWWebWorkerInstance","WALoggerDeferred","asyncToGeneratorRuntime","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executed "," out of "," actions on MI thread\n    ready for jid: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing action on MI thread ready: "," for jid ",""]);i=function(){return a};return a}var j=3e4,k=new Map(),l=0;function a(a,b,e,f,g){var h;l++;h=(h=k.get(a))!=null?h:[];var i=c("setTimeout")(function(){c("FBLogger")("messenger_e2ee_web").mustfix("[MiActMapping] Took longer than %s ms to execute: %s in threadState: %s for jid: %s, onMiThreadReady, isWorkerAlive: %s",j,f,g,a,d("MAWWebWorkerInstance").doesWorkerExist()),e()},j);h.push({callback:b,description:f,sortId:l,threadState:g,timeoutId:i});k.set(a,h)}function e(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f;f=(f=k.get(e))!=null?f:[];f=[].concat(f);if(f.length===0)return;f.sort(function(a,b){return a.sortId-b.sortId});var g=f.length,j=0;while(f.length!==0){var l=f.shift(),m=l.callback,n=l.description,o=l.threadState;l=l.timeoutId;try{c("promiseDone")(d("WALoggerDeferred").LOG(i(),n,e)),yield m(a,b),c("clearTimeout")(l),j++}catch(a){c("clearTimeout")(l),c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MiActMapping] Error executing callback on MI thread ready: %s, original threadState: %s, for chatId: %s and jid: %s",n,o,e)}}k["delete"](e);c("promiseDone")(d("WALoggerDeferred").LOG(h(),j,g,e))});return m.apply(this,arguments)}g.enqueueByJid=a;g.processQueueOnMiThreadReady=e}),98);
__d("MAWMiActOnMiThreadReady",["FBLogger","MAWMiActOnMiThreadReadyQueue","MAWMiActThreadLifecycleState","Promise","WALoggerDeferred","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing action: ",", thread state: ",", id: ",", onMiThreadReadyForChatId"]);i=function(){return a};return a}function a(a,e,f,g,j,k){switch(e.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:c("promiseDone")(d("WALoggerDeferred").LOG(i(),f,e.type,k));return g(a,e.serverThreadKey);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY:d("MAWMiActOnMiThreadReadyQueue").enqueueByJid(e.jid,g,(a=j)!=null?a:function(){},f,e.type);return(h||(h=b("Promise"))).resolve();case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unimplemented miActThreadState.type: %s, thread action: %s",e.type,f);default:e.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unhandled onMiThreadReady:\n         %s, thread action: %s",k,f)}}g.onMiThreadReady=a}),98);
__d("MAWMiActOnMiThreadReadyForJid",["I64","MAWMiActGetThreadLifecycleState","MAWMiActOnMiThreadReady","WAJids","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d,e){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){var g=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(a,(h||(h=d("I64"))).of_string(d("WAJids").threadIdForChatJid(b)),c));return d("MAWMiActOnMiThreadReady").onMiThreadReady(a,g,c,e,f,b)});return i.apply(this,arguments)}g.onMiThreadReadyForJid=a}),98);
__d("MAWOfflineQueueStatus",["FBLogger","MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=!1;function j(a,b){h.set(a,b),h.size>5e3&&c("FBLogger")("labyrinth_web").warn("Offline queue status map size (%s) is too large",h.size)}function k(a){return h.get(a)}function a(){h=new Map(),i=!1}function b(){return i}function e(){i=!0}function f(a,b){a=Object.keys(a);a.map(function(a){j(a,b)})}function l(a){return k(a)===d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}function m(){return Array.from(h.entries()).filter(function(a){a[0];a=a[1];return a!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete&&a!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed}).map(function(a){a=a[0];return a})}g.setOfflineQueueStatus=j;g.getOfflineQueueStatus=k;g.resetOfflineQueueState=a;g.isOfflineQueueComplete=b;g.markOfflineQueueComplete=e;g.markThreadWithOfflineQueueStatus=f;g.isOfflineQueueDoneForThread=l;g.getAllThreadsWithOfflineQueueIncomplete=m}),98);
__d("MAWSetupBridgeOfflineConsumer",["InteractionTracingMetrics","MAWBridgeInitOfflineQueueSyncCompleteHandler","MAWMIC","MAWOfflineQueueStatus","MAWSharedProtocolQueueConst","MWChatInteraction","WATagsLogger","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats failed: expected: ",", processed: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats end: expected: ",", processed: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats: expected: ",", processed: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats start: ",""]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["ServerRPC","OfflineConsumer"]);function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a;return d("MAWBridgeInitOfflineQueueSyncCompleteHandler").call()});return n.apply(this,arguments)}function o(a){d("MAWMIC").addIntAnnotation("offlineQueueSize",a);var b=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"offlineQueueSize",a)}function p(a,b){var e=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);e!=null&&c("InteractionTracingMetrics").addSubspan(e,"offline_queue","LONGTASK",a,b,{})}function a(a,b){return function(e){var f=e.chatJidStatus,g=e.status,n=e.timestamp,q=e.totalExpectedCount,r=e.totalProcessedCount;switch(g){case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing:l.LOG(k(),q);o(q);b({tag:"InitOfflineQueueSyncStart",value:q});d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing);d("MAWMIC").markEvent("worker_process_offline_queue_start",n);d("MAWOfflineQueueStatus").resetOfflineQueueState();return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Processing:l.LOG(j(),q,r);b({tag:"InitOfflineQueueConsumerSyncProgress",value:{chatJidStatus:f,processed:r}});d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Processing);return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete:l.LOG(i(),q,r);e.startTime!=null&&p(e.startTime,n);b({tag:"InitOfflineQueueSyncComplete",value:f});c("promiseDone")(m(a));d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete);d("MAWMIC").markEvent("worker_process_offline_queue_end",n);d("MAWOfflineQueueStatus").markOfflineQueueComplete();return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed:l.LOG(h(),q,r);d("MAWMIC").markEvent("worker_process_offline_queue_failed",n);d("MAWMIC").markEvent("worker_process_offline_queue_end",n);b({tag:"InitOfflineQueueSyncComplete",value:void 0});c("promiseDone")(m(a));d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed);d("MAWOfflineQueueStatus").markOfflineQueueComplete();return}}}g["default"]=a}),98);
__d("MWEncryptedBackupsSharedState",["WebStorage","getMWEncryptedBackupsIsLocalStorageSupported","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=a.db,c=a.stateKey;a=a.stateValue;var d=a===void 0?"true":a;return b.runInTransaction(function(a){return a.experiences_shared_state.upsert([c],{stateKey:c,stateValue:d})},"readwrite","background",void 0,f.id+":33")}function j(a){var b,e=a.db;a=a.stateKey;if(!d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported())return;b=(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a);if(b!=null){var f;(f=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:f.removeItem(a);c("promiseDone")(i({db:e,stateKey:a,stateValue:b}))}return b}function a(a){var b=a.db,c=a.sharedStateTable,d=a.stateKey;a=c.filter(function(a){return a.stateKey===d});if(a.length===0){c=j({db:b,stateKey:d});return c!=null}return!0}function b(a){var b=a.db,c=a.sharedStateTable,d=a.stateKey;a=c.filter(function(a){return a.stateKey===d});c=a[0];return(c==null?void 0:c.stateValue)!=null?c.stateValue:j({db:b,stateKey:d})}function e(a){var b=a.db,c=a.sharedStateRow;a=a.stateKey;return c==null?j({db:b,stateKey:a}):c.stateValue}function k(a){var b=a.db,c=a.stateKey;return b.runInTransaction(function(a){return a.experiences_shared_state["delete"](c)},"readwrite","background",void 0,f.id+":127")}g.upsertEBSharedStateEntry=i;g.getEntryPresentInLocalStorage=j;g.getIsEntryPresentInSharedState=a;g.getEntryValueFromSharedState=b;g.getEntryValue=e;g.deleteEntry=k}),98);
__d("MWPreloadableQueries",["I64","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;b=function(a,b){return d("ReQL").fromTableAscending(a.tables.thread_nullstate).getKeyRange(b)};e=function(a,b){return d("ReQL").fromTableAscending(a.tables.thread_nullstate_ctas.index("threadKeyCtaId")).getKeyRange(b)};f=function(a,b){return d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange(b)};var i=function(a,b){return d("ReQL").fromTableDescending(a.tables.messages).getKeyRange(b).take(6)},j=function(a,b,e){return e.forEach(function(e){var f;c("promiseDone")((f=d("ReQL")).toArrayAsync(f.fromTableDescending(a.tables.reactions).getKeyRange(b,e.messageId)));c("promiseDone")(f.toArrayAsync(f.fromTableDescending(a.tables.reactions_v2).getKeyRange(b,e.messageId)));c("promiseDone")(f.toArrayAsync(f.fromTableDescending(a.tables.attachments).getKeyRange(b,e.messageId)))})},k=function(a,b){return d("ReQL").fromTableAscending(a.tables.community_folders).getKeyRange(b)},l=function(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.threads).getKeyRange(b)).then(function(b){(b==null?void 0:b.parentThreadKey)!=null&&k(a,b.parentThreadKey)})},m=function(a,b){return d("ReQL").fromTableAscending(a.tables.thread_proactive_warning_settings).getKeyRange(b)},n=function(a,b){return d("ReQL").fromTableAscending(a.tables.in_thread_banner).getKeyRange(b)};function a(a,b){return d("ReQL").fromTableAscending(a.tables.media_staging).filter(function(a){return!a.isSent&&(h||(h=d("I64"))).equal(a.threadKey,b)})}g.threadNullStateQuery=b;g.threadNullStateCtaQuery=e;g.getCutoverThreadByThreadKey=f;g.getMostRecentMessagesInThread=i;g.getReactionsForMessages=j;g.getCommunityFolderQuery=k;g.getCommunityFolderForThreadParentQuery=l;g.getProactiveWarningsForThreadQuery=m;g.getThreadBannerQuery=n;g.getMediaStagingQuery=a}),98);
__d("MAWThreadCutover",["I64","LSContactBitOffset","LSDatabaseSingleton","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWPActor.react","MWPreloadableQueries","ReQL","ReQLSuspense","UserAgent","WAJids","asyncToGeneratorRuntime","gkx","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(yield z(a))!=null});return k.apply(this,arguments)}function l(a){var b=(j||(j=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a!=null?d("MWPreloadableQueries").getCutoverThreadByThreadKey(b,a):d("ReQL").empty()},[b,a],f.id+":42")!=null}function e(a){var b,e=(j||(j=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return c("gkx")("26365")&&a?d("MWPreloadableQueries").getCutoverThreadByThreadKey(e,a):d("ReQL").empty()},[e,a],f.id+":54"))==null?void 0:b.showOpenMessageHistory;return b===!1}function m(a,b){return d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(b)}function n(a,b){return d("ReQL").fromTableAscending(a.tables.cutover_threads).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,b)})}function o(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():m(b,a)},[b,a],f.id+":87");return d("ReQLSuspense").useFirst(function(){return e==null?d("ReQL").empty():n(b,e.jid)},[b,e],f.id+":95")}function p(a,b){return d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.openThreadId)}function q(a){var b=(j||(j=c("useReStore")))(),e=o(a);return d("ReQLSuspense").useFirst(function(){return e==null?d("ReQL").empty():p(b,e)},[b,e],f.id+":116")}function r(a){a=o(a);if(a!=null)return a.openThreadId}function s(a){return o(a)!=null}function t(a,b){b=d("WAJids").threadIdForChatJid(b);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange((h||(h=d("I64"))).of_string(b))).then(function(a){return a!=null})}function u(){var a=(j||(j=c("useReStore")))(),b=d("MWPActor.react").useActor();a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b),f.id+":151");return a!=null&&((b=d("LSContactBitOffset").has(75,a))!=null?b:!1)}function v(){var a=(j||(j=c("useReStore")))(),b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.experiences_shared_state).getKeyRange(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY)},[a],f.id+":166");b=d("MWEncryptedBackupsSharedState").getEntryValue({db:a,sharedStateRow:b,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY});return b!=null}function w(a){var b=(j||(j=c("useReStore")))(),e=a!=null?(h||(h=d("I64"))).of_string(a):void 0,g=l(e);return d("ReQLSuspense").useFirst(function(){if(g&&e!=null)return d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).filter(function(a){return(h||(h=d("I64"))).equal(a.jid,e)}).map(function(a){return(h||(h=d("I64"))).to_string(a.serverThreadKey)});else return d("ReQL").empty()},[b,e,g],f.id+":187")}function x(){return c("gkx")("1593")?c("UserAgent").isBrowser("Chrome"):!0}function y(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){if(a!=null)return d("MWPreloadableQueries").getCutoverThreadByThreadKey(b,a);else return d("ReQL").empty()},[b,a],f.id+":216"),g=e==null?void 0:e.armadilloThreadId;e=d("ReQLSuspense").useFirst(function(){if(g!=null)return d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table.index("jid")).getKeyRange(g);else return d("ReQL").empty()},[g,b.tables.mi_act_mapping_table],f.id+":227");return e==null?void 0:e.serverThreadKey}function z(a){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton),c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).getKeyRange(a)));if(c==null)return void 0;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.cutover_threads).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,c.jid)})));return a});return A.apply(this,arguments)}g.isCutoverThreadKey=a;g.useIsCutoverOpenThread=l;g.useIsDualThreadCutoverOpenThread=e;g.getMiActMappings=m;g.getCutoverThreadsByJid=n;g.useGetCutoverMapping=o;g.getThreadByCutoverThread=p;g.useCutoverOpenThread=q;g.useGetCutoverOpenThreadKey=r;g.useIsCutoverSecureThread=s;g.isCutoverSecureThreadFromChatJid=t;g.useIsCurrentUserCutoverUser=u;g.useGetHasUserRestoredBefore=v;g.useGetCutoverSecureThreadKey=w;g.useSupportedCutoverEnvironment=x;g.useCutoverSecureThreadKeyForOpenThreadKey=y;g.getCutoverThreadBySecureThreadKey=z}),98);
__d("isThreadLevelCutoverEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("68")===!0}g["default"]=a}),98);
__d("MAWVerifyThreadCutover",["I64","LSContactBitOffset","Promise","ReQL","asyncToGeneratorRuntime","isThreadLevelCutoverEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("isThreadLevelCutoverEnabled")()){a=(yield a);a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(e)));return a}return(i||(i=b("Promise"))).resolve()});return j.apply(this,arguments)}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("isThreadLevelCutoverEnabled")()){a=(yield a);a=(yield (i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange(e)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(e))]));e=a[0];a=a[1];a=a!=null&&d("LSContactBitOffset").has(76,a);return e!=null||a}return!1});return l.apply(this,arguments)}function e(a,c){return c==null?(i||(i=b("Promise"))).resolve(!1):k(a,(h||(h=d("I64"))).of_string(c))}g.getCutoverThread=a;g.verifyThreadCutover=k;g.verifyThreadCutoverWithStringInput=e}),98);
__d("MWChatEncryptedBackupsLogging",["MWEBODSCategory","MWEBODSEntityKey.enum","ODS","QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=a.cancelEndPoint,d=a.event;a=a.source;a!=null&&c("QPLUserFlow").addAnnotations(d,{string:{source:a}});c("QPLUserFlow").addPoint(d,"cancel");c("QPLUserFlow").addAnnotations(d,{string:{cancel_end_point:b}});c("QPLUserFlow").endCancel(d)}function a(a){var b=a.event,d=a.onClose;a=a.source;a!=null&&c("QPLUserFlow").addAnnotations(b,{string:{source:a}});i({cancelEndPoint:"dialog_x_button",event:b});d()}function b(a){var b=a.annotations,e=a.event;a=a.odsEntityName;c("QPLUserFlow").addPoint(e,"success");c("QPLUserFlow").endSuccess(e,{annotations:b});a&&(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),a,c("MWEBODSEntityKey.enum").SUCCESS)}function e(a){var b=a.annotations,e=a.errorName,f=a.event,g=a.odsEntityKey;a=a.odsEntityName;c("QPLUserFlow").addPoint(f,"failure");c("QPLUserFlow").endFailure(f,e,{annotations:b});a&&(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),a,(f=g)!=null?f:c("MWEBODSEntityKey.enum").FAIL)}g.cancelFlow=i;g.closeDialogCancelFlow=a;g.endSuccess=b;g.endFailure=e}),98);
__d("MWChatEncryptedBackupsQPLEvents",["qpl"],(function(a,b,c,d,e,f,g){"use strict";b=(a=c("qpl"))._(521476140,"378");d=a._(521472542,"295");e=a._(521482085,"409");f=a._(521482763,"296");c=a._(521484295,"1460");var h=a._(521482969,"1519"),i=a._(521479124,"1939"),j=a._(521474385,"263"),k=a._(521476098,"504"),l=a._(521482858,"1290"),m=a._(521473194,"1331");a=a._(521471024,"2275");g.pinCodeChangeQplEvent=b;g.optOutQplEvent=d;g.backupSetupQplEvent=e;g.restoreQplEvent=f;g.restoreDeviceAuthQplEvent=c;g.messageRestoreQplEvent=h;g.restoreWithAutoRestoreConsentQplEvent=i;g.hsmFleetMigrationQplEvent=j;g.virtualDeviceRevocationQplEvent=k;g.onboardingAuthQplEvent=l;g.processBackupIdsQPLEvent=m;g.fetchBackupIdsQPLEvent=a}),98);
__d("MWDeleteAllDBs",["MAWEncyptionIndexedDbV2","MAWIndexedDBDeletion","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","asyncToGeneratorRuntime","cr:4434","cr:6883"],(function(a,b,c,d,e,f,g){"use strict";function h(){d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE,"full_due_to_ear")}function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){b("cr:6883")&&(yield b("cr:6883").deleteIndexedDB(a)),b("cr:4434")&&(yield b("cr:4434").deleteEBIDB()),yield d("MAWIndexedDBDeletion").deleteMAWPersistence(),yield d("MAWEncyptionIndexedDbV2").deleteEncryptionDB(),h()});return i.apply(this,arguments)}g["default"]=a}),98);
__d("MWEncryptedBackupsProcessBackupIds",["FBLogger","LSFactory","LSIntEnum","LSProcessBackupIdsStoredProcedure","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","Promise","QPLEvent","QPLUserFlow","ReQL","WebSession","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("gkx")("23914");function l(a){if(k){var e=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").getActiveFlowIDs().includes((i||(i=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent))||c("QPLUserFlow").start(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,{annotations:{string:{ebSessionIdentifier:e,processBackupIdsVersion:"msys",sessionTabId:d("WebSession").getId()}}});return a.runInTransaction(function(a){return c("LSProcessBackupIdsStoredProcedure")(c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":52").then(function(a){a=(j||(j=d("LSIntEnum"))).unwrapIntEnum(a[0]);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,"EB_STATE_"+a+".");d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent});return a})}else return(h||(h=b("Promise"))).resolve(0)}function a(a,b){return a.tables.encrypted_backups.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.encrypted_backups)),function(d){if(d!=null){c("promiseDone")(l(a),b,function(a){c("FBLogger")("labyrinth_web").catching(a).info("Error in db transaction")});return}})})}g.processBackupIdsStoredProcedure=l;g.subscribeToEncryptedBackupsRow=a}),98);
__d("MWLSContactTypeExactUtils",["I64","LSContactTypeExact","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").IG_USER))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").IG_BUSINESS_USER)))return!0;else return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").IG_CREATOR_USER))}g.isIgContact=a}),98);
__d("MessageSendsClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1271");b=d("FalcoLoggerInternal").create("message_sends_client",a);e=b;g["default"]=e}),98);
__d("MWLogSend",["ErrorGuard","FBLogger","I64","LSMessagingThreadTypeUtil","LSPlatformLsInitLog","MessageSendsClientFalcoEvent","MultipleTabsLogger","Promise","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=[];function l(a){return function(){while(k.length>0)(j||(j=c("ErrorGuard"))).applyWithGuard(o,null,[a,k.shift(),!0])}}var m=!1;function n(a,b){k.push(b),m||(d("LSPlatformLsInitLog").onCompleteOrFail(l(a)),m=!0)}function o(a,e,f){e._mentionedJids;var g=e.actor,j=e.additionalTags,k=e.attachmentFbids,l=e.attachmentType,m=e.backend,o=e.ephemeralDurationInSec,p=e.hasReply,q=e.initatingSource,r=e.isInstamadilloTTLC,s=e.messagingThreadId,t=e.msgTtl,u=e.offlineThreadingId,v=e.sendType,w=e.source,x=e.threadKey,y=e.threadType;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield (i||(i=b("Promise"))).all([d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(x).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,g)})),d("MultipleTabsLogger").hasMultipleTabs()]).then(function(b){var i=b[0];b=b[1];if(i==null){var z=d("LSPlatformLsInitLog").isPending();if(z&&f!==!0){n(a,e);return}f===!0&&c("FBLogger")("mpf_web_foundations").warn("LS_INIT completed but participants table is still empty.")}var A=i.map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)});z=d("LSMessagingThreadTypeUtil").isOneToOne(y)&&(i==null?void 0:i.length)===0;z&&A.push((h||(h=d("I64"))).to_string(g));var B=s!=null?s:(h||(h=d("I64"))).to_string(x),C=t!=null?(h||(h=d("I64"))).to_string((h||(h=d("I64"))).of_float(t)):void 0,D=[b===!0?19:null,o!=null?15:null,r===!0?37:null].filter(Boolean);c("MessageSendsClientFalcoEvent").log(function(){return{additional_tags:j,backend:m,event_type:v,feature_tags:D,group_thread_subtype:void 0,igd_action:void 0,igd_target_type:void 0,igd_verb:void 0,initiating_app_id:void 0,initiating_source:q,is_reply:p,message_attachment_fbids:k.map(String),message_id:void 0,message_type:l,messaging_thread_fbid:B,messaging_thread_type:(h||(h=d("I64"))).to_int32(y),msg_ttl:C,nav_chain:void 0,nonce:void 0,offline_threading_id:u,recipient_fbids:A,send_attribution:h.to_int32(w),send_attribution_raw:void 0,view_mode:void 0}})})})())}g.log=o}),98);
__d("TrustedTypesWebWorkerScriptURLPolicy",["TrustedTypes"],(function(a,b,c,d,e,f,g){"use strict";a={createScriptURL:function(a){return a}};b=c("TrustedTypes").createPolicy("web-worker-url",a);d=b;g["default"]=d}),98);
__d("WorkerBanzaiLazyQueueChannelClient",["BanzaiLazyQueue","WorkerFuncChannel"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WorkerFuncChannel").exportChannel(c("BanzaiLazyQueue"),a,"banzai_lazyqueue_channel")}g.init=a}),98);
__d("WorkerClient",["WorkerBanzaiLazyQueueChannelClient","WorkerFuncChannel","WorkerQPLChannel"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WorkerFuncChannel").activateChannels(a,"client","worker"),d("WorkerBanzaiLazyQueueChannelClient").init(a),d("WorkerQPLChannel").setMessagePort(a),e(["QuickPerformanceLogger"],function(a){return d("WorkerQPLChannel").initQPL(a)})}g.init=a}),98);
__d("coerceMessagingThreadTypeToLSThreadType",["LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=d("LSIntEnum"))).unwrapIntEnum(a)}g["default"]=a}),98);
__d("getWorkerInitScriptSPINParams",["SiteData","StaticSiteData","objectEntries"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a,b,d,e=(b=c("SiteData"))[(d=c("StaticSiteData")).spin_mhenv_key];d=babelHelpers["extends"]((a={},a[d.hs_key]=b.haste_session,a[d.spin_rev_key]=b[d.spin_rev_key],a[d.spin_branch_key]=b[d.spin_branch_key],a[d.spin_time_key]=b[d.spin_time_key],a),Boolean(e)?(b={},b[c("StaticSiteData").spin_mhenv_key]=e,b):null);return new Map(c("objectEntries")(d))}g["default"]=a}),98);
__d("isInstamadilloDYI",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("665")===!0}g["default"]=a}),98);
__d("isReceiverFetchReceivingEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;return(a=c("qex")._("1508"))!=null?a:!1}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MAWLocalizationType",[],(function(a,b,c,d,e,f){"use strict";a="emptySnippet";b="currentUserCreatedGroup";c="participantCreatedGroup";d="unknownUserCreatedGroup";e="currentUserNamedGroup";var g="unkonwnUserNamedGroup",h="participantNamedGroup",i="currentUserAddedDevice",j="participantAddedDevice",k="currentUserRemovedDevice",l="participantRemovedDevice",m="currentUserUpdatedDevice",n="participantUpdatedDevice",o="currentUserAddedOneParticipant",p="currentUserAddedTwoParticipant",q="currentUserAddedMoreThanTwoParticipant",r="participantAddedYou",s="participantAddedYouAndOneUser",t="participantAddedYouAndMoreThanOneUsers",u="unknowUserAddedYou",v="unknowUserAddedYouAndOneUser",w="unknowUserAddedYouAndMoreThanOneUser",x="unknownUserAddedOneUser",y="unknownUserAddedTwoUser",z="unknownUserAddedMoreThanTwoUser",A="participantAddedOneUser",B="participantAddedTwoUser",C="participantAddedMoreThanTwoUser",D="currentUserRemovedOneParticipant",E="currentUserRemovedTwoParticipant",F="currentUserRemovedMoreThanTwoParticipant",G="participantRemovedYou",H="participantRemovedYouAndOneUser",I="participantRemovedYouAndMoreThanOneUsers",aa="unknowUserRemovedYou",ba="unknowUserRemovedYouAndOneUser",ca="unknowUserRemovedYouAndMoreThanOneUser",da="unknownUserRemovedOneUser",ea="unknownUserRemovedTwoUser",fa="unknownUserRemovedMoreThanTwoUser",ga="participantRemovedOneUser",ha="participantRemovedTwoUser",ia="participantRemovedMoreThanTwoUser",ja="participantLeftGroup",ka="currentUserLeftGroup",la="currentUserGotPromoted",ma="currentUserGotDemoted",na="participantGotPromoted",oa="participantGotDemoted",pa="participantPromotedYou",qa="participantDemotedYou",ra="currentUserPromotedParticipant",sa="currentUserDemotedParticipant",ta="participantDemotedParticipant",ua="participantPromotedParticipant",va="participantSelfDemoted",wa="currentUserSelfDemoted",J="currentUserSendText",K="currentUserSendImage",L="currentUserSendVideo",M="currentUserSendAudio",N="currentUserSendGif",O="currentUserSendSticker",xa="participantSendText",ya="participantSendTextInGroup",za="participantSendImage",Aa="participantSendVideo",Ba="participantSendAudio",Ca="participantSendGif",Da="participantSendSticker",Ea="unavailableSnippet",Fa="twoUsersConnected",Ga="twoUsersConnectedOneMSplit",Ha="reachabilityError",P="unknownUserEphemeralSettingTurnedOnSeconds",Ia="unknownUserEphemeralSettingTurnedOnMinutes",Ja="unknownUserEphemeralSettingTurnedOnHours",Ka="unknownUserEphemeralSettingTurnedOnDays",La="youEphemeralSettingTurnedOnSeconds",Ma="youEphemeralSettingTurnedOnMinutes",Na="youEphemeralSettingTurnedOnHours",Oa="youEphemeralSettingTurnedOnDays",Pa="participantEphemeralSettingTurnedOnSeconds",Qa="participantEphemeralSettingTurnedOnMinutes",Ra="participantEphemeralSettingTurnedOnHours",Sa="participantEphemeralSettingTurnedOnDays",Ta="unknownUserEphemeralSettingChangeSeconds",Ua="unknownUserEphemeralSettingChangeMinutes",Va="unknownUserEphemeralSettingChangeHours",Wa="unknownUserEphemeralSettingChangeDays",Xa="youEphemeralSettingChangeSeconds",Ya="youEphemeralSettingChangeMinutes",Za="youEphemeralSettingChangeHours",$a="youEphemeralSettingChangeDays",ab="participantEphemeralSettingChangeSeconds",bb="participantEphemeralSettingChangeMinutes",cb="participantEphemeralSettingChangeHours",db="participantEphemeralSettingChangeDays",eb="sendBasedUnknownUserEphemeralSettingTurnedOnSeconds",fb="sendBasedUnknownUserEphemeralSettingTurnedOnMinutes",gb="sendBasedUnknownUserEphemeralSettingTurnedOnHours",hb="sendBasedUnknownUserEphemeralSettingTurnedOnDays",ib="sendBasedYouEphemeralSettingTurnedOnSeconds",jb="sendBasedYouEphemeralSettingTurnedOnMinutes",kb="sendBasedYouEphemeralSettingTurnedOnHours",lb="sendBasedYouEphemeralSettingTurnedOnDays",mb="sendBasedParticipantEphemeralSettingTurnedOnSeconds",nb="sendBasedParticipantEphemeralSettingTurnedOnMinutes",ob="sendBasedParticipantEphemeralSettingTurnedOnHours",pb="sendBasedParticipantEphemeralSettingTurnedOnDays",qb="sendBasedUnknownUserEphemeralSettingChangeSeconds",rb="sendBasedUnknownUserEphemeralSettingChangeMinutes",sb="sendBasedUnknownUserEphemeralSettingChangeHours",tb="sendBasedUnknownUserEphemeralSettingChangeDays",ub="sendBasedYouEphemeralSettingChangeSeconds",vb="sendBasedYouEphemeralSettingChangeMinutes",wb="sendBasedYouEphemeralSettingChangeHours",xb="sendBasedYouEphemeralSettingChangeDays",yb="sendBasedParticipantEphemeralSettingChangeSeconds",zb="sendBasedParticipantEphemeralSettingChangeMinutes",Ab="sendBasedParticipantEphemeralSettingChangeHours",Bb="sendBasedParticipantEphemeralSettingChangeDays",Cb="unknownUserEphemeralSettingTurnedOff",Db="youEphemeralSettingTurnedOff",Eb="participantEphemeralSettingTurnedOff",Fb="ephemeralSettingsAutoReset",Gb="currentUserUnsentMessage",Hb="participantUnsentMessage",Ib="participantReactMessage",Jb="participantReactMessageInGroup",Q="unknownUserEphemeralTakeScreenshot",Kb="unknownUserEphemeralRecordScreen",Lb="youEphemeralTakeScreenshot",Mb="youEphemeralRecordScreen",Nb="participantEphemeralTakeScreenshot",Ob="participantEphemeralRecordScreen",Pb="icdcAlertAdminMessage",Qb="yourDeviceICDCAlertAdminMessage",R="cutoverThreadAdminMessage",S="cutoverIGDThreadAdminMessage",T="cutoverRollbackAdminMessage",U="currentUserSendAttachment",Rb="participantSendAttachment",Sb="currentUserSentPost",Tb="currentUserSentReel",Ub="currentUserSentStory",Vb="currentUserSentEvent",Wb="currentUserMentionedStoryIG",Xb="currentUserReceivedStoryMentionIG",Yb="participantSentPost",Zb="participantSentReel",$b="participantSentStory",ac="participantSentEvent",bc="currentUserSentStoryHighlight",cc="participantSentStoryHighlight",V="dualThreadCutoverAdminMessage",W="e2eeThreadDescription",dc="debugMsg",ec="currentUserMissedAudioCall",fc="participantMissedAudioCall",gc="currentUserMissedVideoCall",hc="participantMissedVideoCall",ic="currentUserAudioCalled",jc="participantAudioCalled",kc="currentUserVideoCalled",lc="participantVideoCalled",mc="currentUserStartedGroupAudioCall",nc="participantStartedGroupAudioCall",oc="currentUserStartedGroupVideoCall",pc="participantStartedGroupVideoCall",qc="currentUserCustomizeHotlike",rc="participantCustomizeHotlike",sc="currentUserCustomizeNickname",tc="currentUserCustomizeTheme",uc="currentUserCustomizePhoto",X="currentUserPinnedMessage",Y="currentUserUnpinnedMessage",vc="participantCustomizeParticipantNickname",wc="participantClearParticipantNickname",xc="participantCustomizeTheme",yc="participantCustomizePhoto",zc="participantCustomizeCurrentUserNickname",Z="participantPinnedMessage",$="participantUnpinnedMessage",Ac="currentUserSetOwnNickname",Bc="currentUserClearOwnNickname",Cc="currentUserClearParticipantNickname",Dc="participantSetOwnNickname",Ec="participantClearOwnNickname",Fc="participantClearCurrentUserNickname",Gc="currentUserSetAddModeAdminOnly",Hc="currentUserSetAddModeAllMembers",Ic="participantSetAddModeAdminOnly",Jc="participantSetAddModeAllMembers",Kc="serverSetAddModeAdminOnly",Lc="serverSetAddModeAllMembers",Mc="currentUserBumpedOwnMessage",Nc="currentUserBumpedMessage",Oc="participantBumpedOwnMessage",Pc="participantBumpedParticipantMessage",Qc="participantBumpedCurrentUserMessage",Rc="userSendUnavailableMessage",Sc="userSendEncryptedMessage",Tc="currentUserSendUnrenderableMessage",Uc="participantSendUnrenderableMessage",Vc="currentUserSendLocation",Wc="participantSendLocation",Xc="currentUserSendPollCreation",Yc="participantSendPollCreation",Zc="currentUserSendContactShare",$c="participantSendContactShare",ad="currentUserSendStoryMention",bd="participantSendStoryMention",cd="metaAISendMessage",dd="currentUserSendBumpMessage",ed="participantSendBumpMessage",fd="participantSendBumpMessageOriginalUnavailable";q={CURRENT_USER_ADDED_DEVICE:i,CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:q,CURRENT_USER_ADDED_ONE_PARTICIPANT:o,CURRENT_USER_ADDED_TWO_PARTICIPANTS:p,CURRENT_USER_AUDIO_CALLED:ic,CURRENT_USER_BUMPED_MESSAGE:Nc,CURRENT_USER_BUMPED_OWN_MESSAGE:Mc,CURRENT_USER_CLEAR_OWN_NICKNAME:Bc,CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:Cc,CURRENT_USER_CREATED_GROUP:b,CURRENT_USER_CUSTOMIZE_HOTLIKE:qc,CURRENT_USER_CUSTOMIZE_NICKNAME:sc,CURRENT_USER_CUSTOMIZE_PHOTO:uc,CURRENT_USER_CUSTOMIZE_THEME:tc,CURRENT_USER_DEMOTED_PARTICIPANT:sa,CURRENT_USER_GOT_DEMOTED:ma,CURRENT_USER_GOT_PROMOTED:la,CURRENT_USER_LEFT_GROUP:ka,CURRENT_USER_MENTIONED_STORY_IG:Wb,CURRENT_USER_MISSED_AUDIO_CALL:ec,CURRENT_USER_MISSED_VIDEO_CALL:gc,CURRENT_USER_NAMED_GROUP:e,CURRENT_USER_PINNED_MESSAGE:X,CURRENT_USER_PROMOTED_PARTICIPANT:ra,CURRENT_USER_RECEIVED_STORY_MENTION_IG:Xb,CURRENT_USER_REMOVED_DEVICE:k,CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS:F,CURRENT_USER_REMOVED_ONE_PARTICIPANT:D,CURRENT_USER_REMOVED_TWO_PARTICIPANTS:E,CURRENT_USER_SELF_DEMOTED:wa,CURRENT_USER_SEND_ATTACHMENT:U,CURRENT_USER_SEND_AUDIO:M,CURRENT_USER_SEND_BUMP_MESSAGE:dd,CURRENT_USER_SEND_CONTACT_SHARE:Zc,CURRENT_USER_SEND_GIF:N,CURRENT_USER_SEND_IMAGE:K,CURRENT_USER_SEND_LOCATION:Vc,CURRENT_USER_SEND_POLL_CREATION:Xc,CURRENT_USER_SEND_STICKER:O,CURRENT_USER_SEND_STORY_MENTION:ad,CURRENT_USER_SEND_TEXT:J,CURRENT_USER_SEND_UNRENDERABLE_MESSAGE:Tc,CURRENT_USER_SEND_VIDEO:L,CURRENT_USER_SENT_EVENT:Vb,CURRENT_USER_SENT_POST:Sb,CURRENT_USER_SENT_REEL:Tb,CURRENT_USER_SENT_STORY:Ub,CURRENT_USER_SENT_STORY_HIGHLIGHT:bc,CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY:Gc,CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS:Hc,CURRENT_USER_SET_OWN_NICKNAME:Ac,CURRENT_USER_STARTED_GROUP_AUDIO_CALL:mc,CURRENT_USER_STARTED_GROUP_VIDEO_CALL:oc,CURRENT_USER_UNPINNED_MESSAGE:Y,CURRENT_USER_UNSENT_MESSAGE:Gb,CURRENT_USER_UPDATED_DEVICE:m,CURRENT_USER_VIDEO_CALLED:kc,CUTOVER_IGD_THREAD_ADMIN_MESSAGE:S,CUTOVER_ROLLBACK_ADMIN_MESSAGE:T,CUTOVER_THREAD_ADMIN_MESSAGE:R,DEBUG_MSG:dc,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:V,E2EE_THREAD_DESCRIPTION:W,EMPTY_SNIPPET:a,EPHEMERAL_SETTINGS_AUTO_RESET:Fb,ICDC_ALERT_ADMIN_MESSAGE:Pb,META_AI_SEND_MESSAGE:cd,PARTICIPANT_ADDED_DEVICE:j,PARTICIPANT_ADDED_MORE_THAN_TWO_USER:C,PARTICIPANT_ADDED_ONE_USER:A,PARTICIPANT_ADDED_TWO_USER:B,PARTICIPANT_ADDED_YOU:r,PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:t,PARTICIPANT_ADDED_YOU_AND_ONE_USER:s,PARTICIPANT_AUDIO_CALLED:jc,PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:Qc,PARTICIPANT_BUMPED_OWN_MESSAGE:Oc,PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:Pc,PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:Fc,PARTICIPANT_CLEAR_OWN_NICKNAME:Ec,PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:wc,PARTICIPANT_CREATED_GROUP:c,PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:zc,PARTICIPANT_CUSTOMIZE_HOTLIKE:rc,PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:vc,PARTICIPANT_CUSTOMIZE_PHOTO:yc,PARTICIPANT_CUSTOMIZE_THEME:xc,PARTICIPANT_DEMOTED_PARTICIPANT:ta,PARTICIPANT_DEMOTED_YOU:qa,PARTICIPANT_EPHEMERAL_RECORD_SCREEN:Ob,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:db,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:cb,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:bb,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:ab,PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:Eb,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:Sa,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:Ra,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:Qa,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:Pa,PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:Nb,PARTICIPANT_GOT_DEMOTED:oa,PARTICIPANT_GOT_PROMOTED:na,PARTICIPANT_LEFT_GROUP:ja,PARTICIPANT_MISSED_AUDIO_CALL:fc,PARTICIPANT_MISSED_VIDEO_CALL:hc,PARTICIPANT_NAMED_GROUP:h,PARTICIPANT_PINNED_MESSAGE:Z,PARTICIPANT_PROMOTED_PARTICIPANT:ua,PARTICIPANT_PROMOTED_YOU:pa,PARTICIPANT_REACT_MESSAGE:Ib,PARTICIPANT_REACT_MESSAGE_IN_GROUP:Jb,PARTICIPANT_REMOVED_DEVICE:l,PARTICIPANT_REMOVED_MORE_THAN_TWO_USER:ia,PARTICIPANT_REMOVED_ONE_USER:ga,PARTICIPANT_REMOVED_TWO_USER:ha,PARTICIPANT_REMOVED_YOU:G,PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:I,PARTICIPANT_REMOVED_YOU_AND_ONE_USER:H,PARTICIPANT_SELF_DEMOTED:va,PARTICIPANT_SEND_ATTACHMENT:Rb,PARTICIPANT_SEND_AUDIO:Ba,PARTICIPANT_SEND_BUMP_MESSAGE:ed,PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE:fd,PARTICIPANT_SEND_CONTACT_SHARE:$c,PARTICIPANT_SEND_GIF:Ca,PARTICIPANT_SEND_IMAGE:za,PARTICIPANT_SEND_LOCATION:Wc,PARTICIPANT_SEND_POLL_CREATION:Yc,PARTICIPANT_SEND_STICKER:Da,PARTICIPANT_SEND_STORY_MENTION:bd,PARTICIPANT_SEND_TEXT:xa,PARTICIPANT_SEND_TEXT_IN_GROUP:ya,PARTICIPANT_SEND_UNRENDERABLE_MESSAGE:Uc,PARTICIPANT_SEND_VIDEO:Aa,PARTICIPANT_SENT_EVENT:ac,PARTICIPANT_SENT_POST:Yb,PARTICIPANT_SENT_REEL:Zb,PARTICIPANT_SENT_STORY:$b,PARTICIPANT_SENT_STORY_HIGHLIGHT:cc,PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:Ic,PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:Jc,PARTICIPANT_SET_OWN_NICKNAME:Dc,PARTICIPANT_STARTED_GROUP_AUDIO_CALL:nc,PARTICIPANT_STARTED_GROUP_VIDEO_CALL:pc,PARTICIPANT_UNPINNED_MESSAGE:$,PARTICIPANT_UNSENT_MESSAGE:Hb,PARTICIPANT_UPDATED_DEVICE:n,PARTICIPANT_VIDEO_CALLED:lc,REACHABILITY_ERROR:Ha,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:Bb,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:Ab,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:zb,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:yb,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:pb,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:ob,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:nb,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:mb,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:tb,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:sb,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:rb,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:qb,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:hb,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:gb,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:fb,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:eb,SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_DAYS:xb,SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_HOURS:wb,SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:vb,SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:ub,SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:lb,SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:kb,SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:jb,SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:ib,SERVER_SET_ADD_MODE_ADMIN_ONLY:Kc,SERVER_SET_ADD_MODE_ALL_MEMBERS:Lc,TWO_USERS_CONNECTED:Fa,TWO_USERS_CONNECTED_ONE_MSPLIT:Ga,UNAVAILABLE_SNIPPET:Ea,UNKNOW_USER_ADDED_MORE_THAN_TWO_USER:z,UNKNOW_USER_ADDED_ONE_USER:x,UNKNOW_USER_ADDED_TWO_USER:y,UNKNOW_USER_ADDED_YOU:u,UNKNOW_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:w,UNKNOW_USER_ADDED_YOU_AND_ONE_USER:v,UNKNOW_USER_REMOVED_MORE_THAN_TWO_USER:fa,UNKNOW_USER_REMOVED_ONE_USER:da,UNKNOW_USER_REMOVED_TWO_USER:ea,UNKNOW_USER_REMOVED_YOU:aa,UNKNOW_USER_REMOVED_YOU_AND_MORE_THAN_ONE_USER:ca,UNKNOW_USER_REMOVED_YOU_AND_ONE_USER:ba,UNKNOWN_USER_CREATED_GROUP:d,UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:Kb,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:Wa,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:Va,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:Ua,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:Ta,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:Cb,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:Ka,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:Ja,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:Ia,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:P,UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:Q,UNKNOWN_USER_NAMED_GROUP:g,USER_SEND_ENCRYPTED_MESSAGE:Sc,USER_SEND_UNAVAILABLE_MESSAGE:Rc,YOU_EPHEMERAL_RECORD_SCREEN:Mb,YOU_EPHEMERAL_SETTING_CHANGE_DAYS:$a,YOU_EPHEMERAL_SETTING_CHANGE_HOURS:Za,YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:Ya,YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:Xa,YOU_EPHEMERAL_SETTING_TURNED_OFF:Db,YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:Oa,YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:Na,YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:Ma,YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:La,YOU_EPHEMERAL_TAKE_SCREENSHOT:Lb,YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:Qb};f.CURRENT_USER_CREATED_GROUP=b;f.CURRENT_USER_ADDED_DEVICE=i;f.CURRENT_USER_SEND_TEXT=J;f.CURRENT_USER_SEND_IMAGE=K;f.CURRENT_USER_SEND_VIDEO=L;f.CURRENT_USER_SEND_AUDIO=M;f.CURRENT_USER_SEND_GIF=N;f.CURRENT_USER_SEND_STICKER=O;f.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS=P;f.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT=Q;f.CUTOVER_THREAD_ADMIN_MESSAGE=R;f.CUTOVER_IGD_THREAD_ADMIN_MESSAGE=S;f.CUTOVER_ROLLBACK_ADMIN_MESSAGE=T;f.CURRENT_USER_SEND_ATTACHMENT=U;f.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE=V;f.E2EE_THREAD_DESCRIPTION=W;f.CURRENT_USER_PINNED_MESSAGE=X;f.CURRENT_USER_UNPINNED_MESSAGE=Y;f.PARTICIPANT_PINNED_MESSAGE=Z;f.PARTICIPANT_UNPINNED_MESSAGE=$;f.LOCALIZATION_TYPE=q}),66);
__d("getMAWLocalizedBumpMsgReplySnippet",["fbt","FBLogger"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,d){switch(a){case"currentUserBumpedOwnMessage":return h._("__JHASH__xEJdAn7fswx__JHASH__");case"currentUserBumpedMessage":return d!=null?h._("__JHASH__V_CNNTmY2Ph__JHASH__",[h._param("name",d)]):h._("__JHASH__e4ANPYcuBv3__JHASH__");case"participantBumpedCurrentUserMessage":return h._("__JHASH__Za_lnuBTLtf__JHASH__",[h._param("sender_name",b)]);case"participantBumpedOwnMessage":return h._("__JHASH___jAChXL58Au__JHASH__",[h._param("name",b)]);case"participantBumpedParticipantMessage":return d!=null?h._("__JHASH__DhJx8omw4RX__JHASH__",[h._param("sender_name",b),h._param("reply_source_sender_name",d)]):h._("__JHASH__nH0a2aTUw0L__JHASH__",[h._param("user_name",b)]);default:a;c("FBLogger")("messenger_e2ee_web").mustfix("unexpected bump type %s",a);return""}}g["default"]=a}),226);
__d("getMAWLocalizedFallbackMsgSnippet",["fbt","FBLogger","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){switch(a){case"userSendEncryptedMessage":return c("gkx")("2161")?h._("__JHASH__fyDhKh6gGJz__JHASH__"):h._("__JHASH__4OgzNQUOXys__JHASH__");case"currentUserSendUnrenderableMessage":return h._("__JHASH__jc4jswoQ0uZ__JHASH__");case"participantSendUnrenderableMessage":return h._("__JHASH__rJAaVw-bGTJ__JHASH__");case"currentUserSendLocation":return h._("__JHASH__uqLzpXLWV1L__JHASH__");case"participantSendLocation":return h._("__JHASH__arQtWP-wajD__JHASH__");case"currentUserSendPollCreation":return h._("__JHASH__yYAB5ipDjSn__JHASH__");case"participantSendPollCreation":return h._("__JHASH__9_u_h4197t1__JHASH__");case"currentUserSendContactShare":return h._("__JHASH__Lucxb4lp5Bj__JHASH__");case"participantSendContactShare":return h._("__JHASH__l8E1YgNTl-P__JHASH__");case"currentUserSendStoryMention":return h._("__JHASH__eI2fGAdx8aY__JHASH__");case"participantSendStoryMention":return h._("__JHASH__cgqiUXxl6Ro__JHASH__");case"metaAISendMessage":return h._("__JHASH__rKW2TUo65Qw__JHASH__");case"currentUserSendBumpMessage":return h._("__JHASH__wGbdzlw9c2x__JHASH__");case"participantSendBumpMessage":return h._("__JHASH__ERQ_-V0YrzM__JHASH__");case"userSendUnavailableMessage":return c("gkx")("2161")?h._("__JHASH__kUWcn8afzj2__JHASH__"):h._("__JHASH__Q-6u14LxgkX__JHASH__");case"participantSendBumpMessageOriginalUnavailable":return h._("__JHASH__4OgzNQUOXys__JHASH__");default:a;c("FBLogger")("messenger_e2ee_web").mustfix("unexpected content fallback type %s",a);return""}}g["default"]=a}),226);
__d("MAWAdminMsg",["fbt","MAWLocalizationType","getMAWLocalizedBumpMsgReplySnippet","getMAWLocalizedFallbackMsgSnippet"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,e){switch(e){case d("MAWLocalizationType").LOCALIZATION_TYPE.EMPTY_SNIPPET:return"";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_GROUP:return h._("__JHASH__28E9UX9VhHs__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_GROUP:return h._("__JHASH__vc0hFTqTXzB__JHASH__",[h._param("actor",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_CREATED_GROUP:return h._("__JHASH__A65kSvLIBs0__JHASH__",[h._param("product name","group")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:return h._("__JHASH__ioocxZa3RHl__JHASH__",[h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:return h._("__JHASH__BkA5SKyiWz8__JHASH__",[h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:return h._("__JHASH__3pkJPr0kqiB__JHASH__",[h._param("actor",b[0]),h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_DEVICE:return h._("__JHASH__7HvCssg8rpe__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:return h._("__JHASH__HcuOxk4Ti9n__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_DEVICE:return h._("__JHASH__z8kxY36E7hc__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:return h._("__JHASH__CWI7wNEpg6X__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UPDATED_DEVICE:return h._("__JHASH__dMTvVUpHIHh__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:return h._("__JHASH__B5b_7hBmzMu__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:return h._("__JHASH__IquH8JP7g3o__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:return h._("__JHASH__6LexHwivW4N__JHASH__",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:return h._("__JHASH__xpYfCqAeoRq__JHASH__",[h._param("user_name",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:return h._("__JHASH__6Z1J4va4_8C__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:return h._("__JHASH__Usbik5t1nBt__JHASH__",[h._param("actor",b[0]),h._param("user_name",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:return h._("__JHASH__P_OgxVnWQoE__JHASH__",[h._param("actor",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:return h._("__JHASH__bobEEsoK5wj__JHASH__",[h._param("actor",b[0]),h._param("user_name",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:return h._("__JHASH__XQQ_fX0JL2u__JHASH__",[h._param("actor",b[0]),h._param("user_name_1",b[1]),h._param("user_name_2",b[2])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:return h._("__JHASH__gdN-cHBGTgb__JHASH__",[h._param("actor",b[0]),h._param("user_name_1",b[1]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:return h._("__JHASH__T1eI6-R4Ys3__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:return h._("__JHASH___J2BJijyg1Y__JHASH__",[h._param("user_name_1",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:return h._("__JHASH__GQYeJHPPFBL__JHASH__",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:return h._("__JHASH__7gBXJGJs1RC__JHASH__",[h._param("name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LEFT_GROUP:return h._("__JHASH__twBESU9lMQ5__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:return h._("__JHASH__P-TnfmXUkkU__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:return h._("__JHASH__TyOeMbh9c3n__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_PROMOTED:return h._("__JHASH__g2Y-AkokbQi__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_DEMOTED:return h._("__JHASH__QbDk7QLMtd0__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:return h._("__JHASH__vcVM9mG_n59__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:return h._("__JHASH__0ly_0rO21jd__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:return h._("__JHASH__aRkzLhFK0tk__JHASH__",[h._param("actor",b[0]),h._param("target",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:return h._("__JHASH__wIEAcacoGC2__JHASH__",[h._param("actor",b[0]),h._param("target",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:return h._("__JHASH__BVroDb3uWvG__JHASH__",[h._param("target",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:return h._("__JHASH__XW8QFefwwka__JHASH__",[h._param("target",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:return h._("__JHASH__-JHaYRzvfpN__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SELF_DEMOTED:return h._("__JHASH__h_Dfa2FiN92__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:return h._("__JHASH__3iBxxmwApDO__JHASH__").toString()+": "+a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:return a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP:return b[0]+": "+a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_IMAGE:return h._("__JHASH__4-ojL4cFyDj__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_VIDEO:return h._("__JHASH___R0NFo7psqZ__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_AUDIO:return h._("__JHASH__NHZzbHt5fju__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_GIF:return h._("__JHASH__GgLzAe6GAAY__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER:return h._("__JHASH__WYnHcQZeijb__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_ATTACHMENT:return h._("__JHASH__SkQ-qpSqtIH__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_POST:return h._("__JHASH__Z9w9ch9TmJt__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_REEL:return h._("__JHASH__-kgYEsPaCeZ__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY:return h._("__JHASH__BxMycMKsI8g__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_EVENT:return h._("__JHASH__AdIYNNW8_BB__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY_HIGHLIGHT:return h._("__JHASH__HZfnisG5R39__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG:return h._("__JHASH__Mv-TBSZDdsn__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_RECEIVED_STORY_MENTION_IG:return h._("__JHASH__XUTKHUpfCZy__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_IMAGE:return h._("__JHASH__u9NG1-EYfRE__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_VIDEO:return h._("__JHASH__GZrAjs4uDve__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_AUDIO:return h._("__JHASH__B_Zg5gCb8wv__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_GIF:return h._("__JHASH__-LJU6ON9QlF__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER:return h._("__JHASH__j_PEgQByu4Z__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_POST:return h._("__JHASH__kF-N_lTEwQJ__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_REEL:return h._("__JHASH__T_Dsx3yPqqa__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_ATTACHMENT:return h._("__JHASH__1gzdEGkoXLS__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY:return h._("__JHASH__ssliyU4f4NG__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_EVENT:return h._("__JHASH___YfY9t5KQWL__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY_HIGHLIGHT:return h._("__JHASH__8KU-2G3ySrJ__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_SNIPPET:return h._("__JHASH__7Iefg1P6g_q__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.TWO_USERS_CONNECTED:return h._("__JHASH__m7k67dqAe-2__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.TWO_USERS_CONNECTED_ONE_MSPLIT:return h._("__JHASH__aRupJlbtkO6__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.REACHABILITY_ERROR:return h._("__JHASH__NRCMN2f5KgC__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._("__JHASH__sj-fVuDqzhT__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._("__JHASH__5cVU7cjznSj__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._("__JHASH__kA9pD-FL4Ok__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._("__JHASH__zs_s82I9sqr__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._("__JHASH__yoeh6xz8ysN__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._("__JHASH__IR8E-wTaoC7__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._("__JHASH__FtQHajIZT7O__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._("__JHASH__X1cC2Zoa_3e__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._("__JHASH__-Icsu85gBJR__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._("__JHASH__UyMMdA4sswt__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._("__JHASH__73KeDoE7JjC__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._("__JHASH__CPSmiyxmjWu__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._("__JHASH__q1Dv0IsA2nN__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._("__JHASH__p0MNCtvKqaA__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._("__JHASH__kwfHljZ5QBG__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._("__JHASH__LHoPMyBE8HS__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._("__JHASH__3payMdHFpIG__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._("__JHASH__jGBmm4ejMgy__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._("__JHASH__qhFzcdaO4tc__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._("__JHASH__mFO6ihhTf9z__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._("__JHASH__rFeQsz2D0mv__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._("__JHASH__vASZV8VZvhw__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._("__JHASH__Xyk76kpov4j__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._("__JHASH__qtvuopqU1MA__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._("__JHASH__JZBNdaseKxP__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._("__JHASH__A8DUzBDIb2y__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:return h._("__JHASH__HDouCIRR46A__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:return h._("__JHASH__Al3hxA_-BOo__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._("__JHASH__tOdgin1piov__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._("__JHASH__tU7ZycHCBtt__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:return h._("__JHASH__SXTBhBt2NNW__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:return h._("__JHASH__oSyzRtJUP0d__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:return h._("__JHASH__CwVMDBdJz99__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:return h._("__JHASH__J_nCpYMiV9y__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return h._("__JHASH__cFpYB9yRAJx__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return h._("__JHASH__2BRCng4CCeO__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return h._("__JHASH__EP_oerZBdU2__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE:return h._("__JHASH__m4TBULz6nGb__JHASH__",[h._param("name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._("__JHASH__OlufOqEL22J__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._("__JHASH__WsnGvhfXA1z__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS:return h._("__JHASH__-AjaRzqpVqP__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS:return h._("__JHASH__9J66m6GILCR__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._("__JHASH__hcupvvFLxCq__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._("__JHASH__fBAvJP2p_1B__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_HOURS:return h._("__JHASH__4ozbPFF4k4a__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_DAYS:return h._("__JHASH__WyaiaRRbnKj__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._("__JHASH__xMDY8VdzA5b__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._("__JHASH__iM5zzplvQK3__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:return h._("__JHASH__Bm8ehdh1jFk__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:return h._("__JHASH__9pVHLxCaDgx__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._("__JHASH__iNw3Tti4Hyx__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._("__JHASH__fCn7GcPwiSh__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:return h._("__JHASH__g-ahVqaxxG1__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:return h._("__JHASH__WlJQEt8_oGK__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:return h._("__JHASH__Loj0OkThL6V__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF:return h._("__JHASH__tR4q6c00--C__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:return h._("__JHASH__M2dZfT7rhFT__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET:return h._("__JHASH__iGMaDEsRW87__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNSENT_MESSAGE:return h._("__JHASH__HpovaTJp70W__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNSENT_MESSAGE:return h._("__JHASH__zbO84srNMHF__JHASH__",[h._param("first name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE_IN_GROUP:return h._("__JHASH__31MoZ8hsHC1__JHASH__",[h._param("name",b[0]),h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE:return h._("__JHASH__5oboVZPgKpA__JHASH__",[h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:return h._("__JHASH__j47-K7rZuN___JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:return h._("__JHASH__NNSrUYXKqRz__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT:return h._("__JHASH__7NL8DHtxILK__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN:return h._("__JHASH__vrGwrec4csR__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:return h._("__JHASH__GAoFX2GSYx-__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:return h._("__JHASH__f2dqrRKp1Rl__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return h._("__JHASH__84N8vT7fmIh__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_YOU:return h._("__JHASH__k7nqRDWCEqt__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_YOU_AND_ONE_USER:return h._("__JHASH__vzYvZZNuBUQ__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:return h._("__JHASH__kEvDhH7xulF__JHASH__",[h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_ONE_USER:return h._("__JHASH__xyM-QHTai_C__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_TWO_USER:return h._("__JHASH__5P3Id9aMhA-__JHASH__",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_MORE_THAN_TWO_USER:return h._("__JHASH__8qUm4dkQH-w__JHASH__",[h._param("user_name_1",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.DEBUG_MSG:return a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL:e=b[0];return e!=null?h._("__JHASH__3CQShXTU-3b__JHASH__",[h._param("user",e)]).toString():h._("__JHASH__ZdLYEgeUYUi__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL:e=b[0];return e!=null?h._("__JHASH__hSqnAb21UU0__JHASH__",[h._param("user",e)]).toString():h._("__JHASH__FhbzN0qv73L__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL:e=b[0];return e!=null?h._("__JHASH__YM-2KpKGx7o__JHASH__",[h._param("user",e)]).toString():h._("__JHASH__rUeoGw7ywMT__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL:e=b[0];return e!=null?h._("__JHASH__PRszNN6obpG__JHASH__",[h._param("user",e)]).toString():h._("__JHASH__IdxQnq18Kxe__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_AUDIO_CALLED:e=b[0];return e!=null?h._("__JHASH__qpT_2Hq8aLK__JHASH__",[h._param("user",e)]).toString():h._("__JHASH__1D3Mug6ESYE__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_AUDIO_CALLED:e=b[0];return e!=null?h._("__JHASH__Q2D56NwN4Z2__JHASH__",[h._param("user",e)]).toString():h._("__JHASH__-LOVer9reHI__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_VIDEO_CALLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_VIDEO_CALLED:return h._("__JHASH__N6tiOur0IeU__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_AUDIO_CALL:return h._("__JHASH__281zrADSR3K__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_AUDIO_CALL:e=b[0];return e!=null?h._("__JHASH__BRFQbCVtB3g__JHASH__",[h._param("user",e)]).toString():h._("__JHASH__Y_6qv9Uzxa8__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_VIDEO_CALL:return h._("__JHASH__-bjuy5QVW7S__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_VIDEO_CALL:e=b[0];return e!=null?h._("__JHASH__G7PmoxqH97J__JHASH__",[h._param("user",e)]).toString():h._("__JHASH__6N0ah9mUAzA__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:return h._("__JHASH__EEsmX-_LHlK__JHASH__",[h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:return h._("__JHASH__6MdK4yng1UK__JHASH__",[h._param("participant_name",b[0]),h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:return h._("__JHASH__GyMG8O-C9S5__JHASH__",[h._param("participant_name",b[0]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:return a[1]!=null?h._("__JHASH__WKommDcgo9P__JHASH__",[h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._("__JHASH__t4yd3Wxrq8W__JHASH__",[h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO:return h._("__JHASH__yuNBxRHgSDK__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:return h._("__JHASH__Zr0kCIYub20__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:return h._("__JHASH__VWcKR_3CcNp__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:return h._("__JHASH__yI8AwJDDXA8__JHASH__",[h._param("participant_name_1",b[0]),h._param("participant_name_2",b[1]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:return h._("__JHASH__Nu4trdH0AZV__JHASH__",[h._param("participant_name_1",b[0]),h._param("participant_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:return a[1]!=null?h._("__JHASH__pUsACsMNiGM__JHASH__",[h._param("participant_name",b[0]),h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._("__JHASH__5cPy2yotEtg__JHASH__",[h._param("participant_name",b[0]),h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO:return h._("__JHASH__Dxwz5K9j7Bk__JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:return h._("__JHASH__40grJO79VQ___JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return h._("__JHASH__mXVL0NDisiY__JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:return h._("__JHASH__6qQ7QWA5Qmg__JHASH__",[h._param("participant_name",b[0]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:return h._("__JHASH__oAeegILBLai__JHASH__",[h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME:return h._("__JHASH__NEVYqiJ_yny__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:return h._("__JHASH__QyW1FG-2acm__JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:return h._("__JHASH__-bMyTbFv0nI__JHASH__",[h._param("participant_name",b[0]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:return h._("__JHASH__Yhh1rYSenJQ__JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:return h._("__JHASH__cwzLDs_ko4T__JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY:return h._("__JHASH__x0YG4R4fIWJ__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS:return h._("__JHASH__OS47S8NROIK__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:return h._("__JHASH__qoR_RAXP6cF__JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:return h._("__JHASH__QFNAQIQatHV__JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ADMIN_ONLY:return h._("__JHASH__BGd7wYLVNyr__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ALL_MEMBERS:return h._("__JHASH__ogqmOECI7p3__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE,null,null).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE,null,b[0]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE,b[0],null).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE,b[0],null).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE,b[0],b[1]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE).toString();default:return""}}g.buildLocalizedString=a}),226);
__d("MAWAdminMsgNormalized",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_REMOVED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:return{contactIds:b,contents:[]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_MORE_THAN_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:case d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:a=b[0];var c=b[1];return{contactIds:[a],contents:[c]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:a=b[0];c=b[1];var e=b[2];return{contactIds:[a,c],contents:[e]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:a=b[0];c=b[1];e=b[2];return{contactIds:[a],contents:[c,e]};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:default:return{contactIds:[],contents:b}}}g.deconstructContactIdsFromAdminContent=a}),98);
__d("MAWThreadCustomizationUtils",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME}function b(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME}g.skipNicknameCheck=a;g.nicknameOnlyForFirstParticipantChecking=b}),98);
__d("fillArray",[],(function(a,b,c,d,e,f){function a(a,b){var c=new Array(a);for(var d=0;d<a;d++)c[d]=b;return c}f["default"]=a}),66);
__d("mapPull",[],(function(a,b,c,d,e,f){function a(a,b,c){var d=new Map();for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;d.set(c(g),b(g))}return d}f["default"]=a}),66);
__d("MAWBridgeBuildMsgMentions",["MAWLocalizationType","MAWSubscribeToContactNames","MAWThreadCustomizationUtils","WAJids","emptyFunction","fillArray","mapPull"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.length>0?a.join(","):void 0}function i(a,b){return a.index-b.index}function j(a,b){return a==null||a===""?a:Array.from(b).reduce(function(a,b){var c=b[0];b=b[1];return a.replaceAll(c,b)},a)}function k(a,b){return a==null||a===""?[]:Array.from(b.keys()).flatMap(function(b){return Array.from(a.matchAll(b))}).sort(i)}function l(a,b,e,f){e=c("mapPull")(e,function(a){var c=a[0];a[1];return d("MAWSubscribeToContactNames").getContactNameFromLookup(b,c)},function(a){a[0];a=a[1];return a});var g=k(a,e),i=[],l=[],m=[],n=0;for(g of g){var o=d("WAJids").unsafeCoerceToUserJid(g[0]);i.push(d("WAJids").userIdFromJid(o));var p=d("MAWSubscribeToContactNames").getContactNameFromLookup(e,o);l.push(p.length+1);m.push(Math.max(g.index-1+n,0));n+=p.length-o.length}p=k(f,e);for(o of p){g=d("WAJids").unsafeCoerceToUserJid(o[0]);i.push(d("WAJids").userIdFromJid(g))}n=c("fillArray")(i.length,"p");return{mentionIds:h(i),mentionLengths:h(l),mentionOffsets:h(m),mentionTypes:h(n),replyMessageText:j(f,e),text:j(a,e)}}function m(a,b,c,e){a=l(a,c,e);e=a.text;a=b.map(function(a){return d("MAWSubscribeToContactNames").getContactNameFromLookup(c,a)});return[e,a]}function a(a,b,e){b=c("mapPull")(b,c("emptyFunction").thatReturnsArgument,d("WAJids").userIdFromJid);return l(a,b,b,e)}function n(a,b,c,e,f){return b&&c>0||e?f===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$CONTACT_FIRST_NAME("+a+")":"$CONTACT_FULL_NAME("+a+")":f===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$PARTICIPANT_FIRST_NAME("+a+")":"$PARTICIPANT_FULL_NAME("+a+")"}function b(a,b,e,f){b=c("mapPull")((b=b)!=null?b:[],c("emptyFunction").thatReturnsArgument,d("WAJids").userIdFromJid);if(b.size===0||a==null||a===""){var g=d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME;(f===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG||f===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP)&&(g=d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME);var h=d("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(f),i=d("MAWThreadCustomizationUtils").skipNicknameCheck(f);f=e.map(function(a,b){return n(a,h,b,i,g)});return[a,f]}f=new Map([].concat(Array.from(b.keys()),e).map(function(a){return[a,"$PARTICIPANT_FULL_NAME("+a+")"]}));return m(a,e,f,b)}g.buildMsgTextWithMentions=a;g.buildThreadSnippetWithMentions=b}),98);
__d("MAWBridgeBuildThreadSnippet",["MAWAdminMsg","MAWBridgeBuildMsgMentions","MAWLocalizationType","MAWVault","asyncToGeneratorRuntime","first"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a!=null?d("MAWVault").unvault(a):void 0}function i(a,b,c){if(a==null)return b;b=[].concat(b);switch(c){case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP:b[0]=a;break}return b}function j(a){return a.replace(/\$/g,"$$$$")}function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.snippetContactIDs,f=a.snippetMentionJIDs,g=a.snippetParams;a=a.snippetType;if(g==null||a==null||e==null)return b;b=h(c("first")(g));b=(yield d("MAWBridgeBuildMsgMentions").buildThreadSnippetWithMentions(b==null?null:j(b),f,e,a));f=b[0];e=b[1];return d("MAWAdminMsg").buildLocalizedString(i(f,g,a),e,a)});return k.apply(this,arguments)}g.buildBridgeThreadSnippet=a}),98);
__d("MAWXMAUtils",["MAWMsgType","WAArmadilloXMA.pb","WALogger","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Hit Unreachable XMAType "," - checking isXMAShare"]);h=function(){return a};return a}function a(a){return!a||a.type!==d("MAWMsgType").MSG_TYPE.XMA?null:a}function b(a){if(a==null)return!1;switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:return!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_IGTV_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SHOP_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT:return!1;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH:return!0;default:d("WALogger").ERROR(h(),a);return!1}}function c(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function e(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE}function f(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH}function i(a){return a==null?!1:a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function j(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY}function k(a,b){return a!=null&&a||b!=null&&b<d("WATimeUtils").unixTime()}function l(a){a=a.ctas;a!=null&&(a=a.filter(function(a){return a.buttonType!==d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE}));return a}function m(a){return babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0})}function n(a){return babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,defaultPreviewMediaId:void 0,faviconMediaId:void 0,headerMediaId:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,previewMediaIds:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0})}function o(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY}function p(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION}function q(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION}function r(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE}function s(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE}function t(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_VIDEO_CALL:return!0;default:return!1}}g.maybeXMAMessage=a;g.isXMAShare=b;g.isXMAStoryShare=c;g.isXMAExternalLinkShare=e;g.isReceiverFetchXMA=f;g.isIGXMAStoryShare=i;g.isXMAPostPrivateReply=j;g.isXMAExpired=k;g.removeCTAsForStoryMentionXMA=l;g.buildUnstoredTombstonedXMA=m;g.buildTombstonedDbXMA=n;g.isXMAStoryReply=o;g.isXMAStoryReaction=p;g.isXMAStoryMention=q;g.isIGXMAPostShare=r;g.isXMAStoryHighlightShare=s;g.isRtcXMA=t}),98);
__d("getReplyContentForNoteReply",["WAGlobals","WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.author,c=a.msgId,e=d("WAJids").extractDeviceIDParts(d("WAGlobals").getMyDeviceJid()).userId;b=d("WAJids").authorToUserId(b,e);e=(e=a.quote)==null?void 0:(a=e.content.msgContent)==null?void 0:a.content;return{isNoteReply:!0,replyMessageText:e,replySourceId:c,replyToUserId:b}}g["default"]=a}),98);
__d("MAWBridgeMsg",["LSHotEmojiSize","LSIntEnum","MAWDbMsg","MAWGlobals","MAWImageUtils","MAWMsgType","MAWVault","MAWXMAUtils","WAAssertUnreachable","WAHashUtils","WAJids","WAMsgType","getReplyContentForNoteReply","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){var e,f,g;e=((e=a.quote)==null?void 0:e.content.type)===d("WAMsgType").NOTE_REPLY;if(e)return c("getReplyContentForNoteReply")(a);e=d("WAJids").extractDeviceIDParts(d("MAWGlobals").getMyDeviceJid()).userId;f=(f=a.quote)==null?void 0:f.content;if(d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType)){var h=a.author,i=a.mediaId,j=a.msgId,k=d("WAJids").authorToUserId(h,e);if(d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)){var l=a.threadJid,m;l!=null&&(m=d("WAJids").interpretAsUserJid(l));m!=null&&(k=d("WAJids").userIdFromJid(m))}return{isIGXMAStoryShare:d("MAWXMAUtils").isIGXMAStoryShare(a.xmaMessageType),isStoryHighlightShare:d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType),isStoryMention:d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType),isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType),isStoryReply:d("MAWXMAUtils").isXMAStoryReply(a.xmaMessageType),replyMediaId:i,replyMediaUrlMimeType:i!=null?"image/jpeg":void 0,replyPlaintextHash:(l=a.plaintextHash)!=null?l:void 0,replySenderIsMe:h===d("WAJids").AUTHOR_ME||k===e,replySourceId:j,replySourceTimestampMs:a.sortOrderMs,replyStatusType:i!=null?"Image":void 0,replyToUserId:k,storyShareAuthor:b==null?void 0:b.storyShareAuthor}}if(f==null||(f==null?void 0:f.msgId)==null&&(f==null?void 0:f.sourceId)==null)return;l=f||{};h=l.author;j=l.mediaId;i=l.msgId;k=l.sourceId;var n=l.specialTextSize,o=l.ts,p=l.type;l=l.xmaMessageType;o=o!=null?o*1e3:void 0;g=f.type===d("MAWMsgType").MSG_TYPE.TEXT||d("MAWXMAUtils").isXMAExternalLinkShare(l)?(g=f.msgContent)==null?void 0:g.content:void 0;var q=d("WAJids").authorToUserId(h,e);f=f.type===d("MAWMsgType").MSG_TYPE.TEXT?f.msgContent.mentionedJids:void 0;h=h===d("WAJids").AUTHOR_ME||q===e;e=b||{};b=e.replyMediaId;var r=e.replyMediaPreviewHeight,s=e.replyMediaPreviewWidth,t=e.replyMediaUrlFallback,u=e.replyMediaUrlMimeType,v=e.replyPlaintextHash;e=e.replyXMAId;if(d("MAWXMAUtils").isXMAStoryReply(l)){return{isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(l),isStoryReply:!0,replyMediaId:j,replyMediaUrlMimeType:j!=null?"image/jpeg":void 0,replyPlaintextHash:(a=a.plaintextHash)!=null?a:void 0,replySenderIsMe:h,replySourceId:k,replySourceTimestampMs:o,replyStatusType:j!=null?"Image":void 0,replyToUserId:q}}a=d("MAWImageUtils").boundHeightWidth(r,s,96*.8);k=a.height;j=a.width;return{isIGXMAPostShare:d("MAWXMAUtils").isIGXMAPostShare(l),isIGXMAStoryShare:d("MAWXMAUtils").isIGXMAStoryShare(l),isStoryReply:!1,replyMediaId:b,replyMediaPreviewHeight:p===d("MAWMsgType").MSG_TYPE.STICKER?k:r,replyMediaPreviewWidth:p===d("MAWMsgType").MSG_TYPE.STICKER?j:s,replyMediaUrlFallback:t,replyMediaUrlMimeType:u,replyMentionedJids:f,replyMessageText:g,replyPlaintextHash:v,replySenderIsMe:h,replySourceId:i,replySourceTimestampMs:o,replyStatusType:n===1||n===2||n===3?d("MAWMsgType").MSG_TYPE.STICKER:p,replyToUserId:q,replyXMAId:e}}function a(a){a=a.specialTextSize;switch(a){case 1:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL);case 2:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM);case 3:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE);default:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").NONE)}}function b(a,b,e,f,g,h){var j,k,l=d("WAJids").extractDeviceIDParts(d("MAWGlobals").getMyDeviceJid()).userId;j=((j=a.isForwarded)!=null?j:!1)&&a.type!==d("MAWMsgType").MSG_TYPE.STICKER;k=(k=a.forwardingScore)!=null?k:0;var m=d("MAWDbMsg").getCanonicalTsFromMsg(a),n=i(a,e),o=d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType),p=d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType),q=d("MAWXMAUtils").isXMAExternalLinkShare(a.xmaMessageType),r=d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType),s=d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType),t=d("MAWXMAUtils").isXMAPostPrivateReply(a.xmaMessageType),u=d("MAWDbMsg").getSortOrderWithFallback(a),v=a.externalId;e=(e==null?void 0:e.replyPlaintextHash)!=null?d("WAHashUtils").stringToPlaintextHash(e==null?void 0:e.replyPlaintextHash):void 0;switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:var w=d("MAWVault").isVaulted(a.msgContent.content)?a.msgContent.content:d("MAWVault").vault(a.msgContent.content);return babelHelpers["extends"]({},n,{ack:a.ack,chatJid:a.threadJid,content:w,editCount:a.editCount,ephemeralDurationInSec:(w=a.ephemeralSetting)==null?void 0:w.ephemeralExpirationInSec,externalId:v,forwardingScore:k,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:j,mentionedJids:a.msgContent.mentionedJids,msgId:a.msgId,offlineMsg:b,qplEvent:f,replyPlaintextHash:e,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:u,specialTextSize:a.specialTextSize,transportKey:h,ts:m,type_:a.type});case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return babelHelpers["extends"]({},n,{ack:a.ack,chatJid:a.threadJid,ephemeralDurationInSec:(w=a.ephemeralSetting)==null?void 0:w.ephemeralExpirationInSec,externalId:v,forwardingScore:k,groupId:a.groupId,groupIndex:a.groupIndex,groupSize:a.groupSize,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:j,msgId:a.msgId,offlineMsg:b,qplEvent:f,replyPlaintextHash:e,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:u,transportKey:h,ts:m,type_:a.type});case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:return babelHelpers["extends"]({},n,{ack:a.ack,chatJid:a.threadJid,externalId:v,forwardingScore:k,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:j,msgId:a.msgId,offlineMsg:b,qplEvent:f,replyPlaintextHash:e,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:u,transportKey:h,ts:m,type_:a.type,unsupportedType:a.msgContent.subtype});case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:return{ack:a.ack,chatJid:a.threadJid,externalId:v,forwardingScore:k,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:j,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:u,transportKey:h,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return babelHelpers["extends"]({},n,{ack:a.ack,chatJid:a.threadJid,externalId:v,forwardingScore:k,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:j,msgId:a.msgId,offlineMsg:b,qplEvent:f,replyPlaintextHash:e,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:u,transportKey:h,ts:m,type_:a.type});case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:return{ack:a.ack,adminContent:[a.msgContent.authorName],adminType:a.msgContent.adminType,chatJid:a.threadJid,externalId:v,forwardingScore:k,instanceKey:g,isAdminMessage:!0,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:j,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:u,transportKey:h,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:return{ack:a.ack,adminContent:a.msgContent.adminMsgContent.map(function(a){return a==="Facebook User"?"0":a}),adminType:a.msgContent.adminType,adminVersion:a.msgContent.version,chatJid:a.threadJid,externalId:v,forwardingScore:k,instanceKey:g,isAdminMessage:!0,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:j,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:u,transportKey:h,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.REVOKED:return{ack:a.ack,chatJid:a.threadJid,externalId:v,forwardingScore:k,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:j,msgId:a.msgId,offlineMsg:b,originalTs:a.originalTs,qplEvent:f,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:u,transportKey:h,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.XMA:var x;w=(w=a.msgContent)==null?void 0:w.content;x=w!=null?d("MAWVault").isVaulted(w)?(x=a.msgContent)==null?void 0:x.content:d("MAWVault").vault(w):void 0;w=c("justknobx")._("1191")||p||q?x:void 0;return babelHelpers["extends"]({},n,{ack:a.ack,chatJid:a.threadJid,content:w,ephemeralDurationInSec:(q=a.ephemeralSetting)==null?void 0:q.ephemeralExpirationInSec,externalId:v,forwardingScore:k,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredXmaMsg:a.isExpiredXmaMsg,isForwarded:j,isPostPrivateReply:t,isStoryHighlightShare:s,isStoryMention:r,isStoryReaction:p,isStoryShare:o,msgId:a.msgId,offlineMsg:b,qplEvent:f,replyPlaintextHash:e,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:u,transportKey:h,ts:m,type_:a.type});default:return c("WAAssertUnreachable")(a.type)}}g.getSpecialTextSize=a;g.createBridgeMsg=b}),98);
__d("MAWBridgeUIEventDataValidation",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){c("FBLogger")("mpf_web_foundations").catching(b).mustfix("Cannot convert string to i64: %s",a)}}g.stringToI64Opt=a}),98);
__d("MAWExtractMsFromExternalId",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return new Date(a).getTime()>0}var j=2199023255551;function a(a){a=Number((h||(h=d("I64"))).to_string(h.and_(h.lsr_(a,22),h.of_float(j))));if(i(a)){a=Math.floor(Number(a)%1e5/100);return a}}g.extractMsFromExternalId=a}),98);
__d("MAWCalculateBumpTimestampMs",["I64","MAWExtractMsFromExternalId","MAWTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){b=b==null?null:d("MAWExtractMsFromExternalId").extractMsFromExternalId(b);return(h||(h=d("I64"))).add(d("MAWTimeUtils").millisTimeToTimestamp(a),h.of_int32((a=b)!=null?a:0))}g.calculateBumpTimestampMs=a}),98);
__d("WAGetHashFromProtocolMsgId",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.externalId+"_"+a.author+"_"+a.chat}f.getHashFromProtocolMsgId=a}),66);
__d("MAWEBUploadTrackingUtils",["MAWAckLevel","MAWEBSwitch","MAWExternalId","MAWMsgType","MAWQplProxy","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","ODS","WAGetHashFromProtocolMsgId","WAGlobals","WAHashStringToNumber","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1;function a(){i=!0}function j(a,b,e,f,g){g===void 0&&(g=!1);if(!c("MAWEBSwitch").isEnabled()){m(a);return}d("MAWQplProxy").startQplUserFlow(c("qpl")._(521480745,"830"),{bool:{eb_switch:c("MAWEBSwitch").isEnabled(),eb_upload_queue:d("WAGlobals").getConfig().useEbUploadQueue(),fromUploadQueue:g,middleware_init:i},string:{externalId:a,msgType:b,triggerType:e}},f,void 0,!1);n(f,"upload_tracking_started");(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").START)}var k=new Map();function l(a,b){k.set(a,b)}function b(a){return k.has(a)}function m(a){return k["delete"](a)}function e(){return new Map(k)}function n(a,b,e){d("MAWQplProxy").sendQplPointThroughBridge(c("qpl")._(521480745,"830"),b,{annotations:e,instanceKey:a},!1)}function f(a,b,e){n(a,"upload_tracking_failed"),d("MAWQplProxy").sendQPLFailThroughBridge(c("qpl")._(521480745,"830"),b,e,a),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").FAIL)}function o(a,b,e){n(a,b,e),d("MAWQplProxy").sendQPLSuccessThroughBridge(c("qpl")._(521480745,"830"),void 0,a,!1),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").SUCCESS)}var p=new Map();function q(){return d("WAHashStringToNumber").hashStringToNumber(d("MAWExternalId").generateExternalId())}function r(a,b){b===void 0&&(b=0);return d("WAHashStringToNumber").hashStringToNumber(d("WAGetHashFromProtocolMsgId").getHashFromProtocolMsgId(a)+"_"+d("WAGlobals").getMyDeviceJid()+"_"+b)}function s(a,b,e){if(!c("MAWEBSwitch").isEnabled()||!d("WAGlobals").getConfig().useEbUploadQueue())return;var f=r(a);l(a.externalId,f);j(a.externalId,e,b,f,!0);return f}function t(a){return c("MAWEBSwitch").isEnabled()&&d("MAWMsgType").isEBSupportedMsgType(a.type)&&a.ack>=d("MAWAckLevel").ACK.sent&&a.serverTs!=null&&!(a.ephemeralSetting!=null&&a.ephemeralSetting.ephemeralExpirationInSec>0)}function u(a,b){if(!t(a))return;v(a.externalId,a.type,b)}function v(a,b,c){var d=w(a);d!=null&&j(a,b,c,d)}function w(a){if(p.get(a)!=null)return null;var b=q();p.set(a,b);return b}function x(){var a=new Map(p);p.clear();return a}function y(a){return p["delete"](a)}g.setMiddlewareInitRan=a;g.startUploadTracking=j;g.addExternalIdToUploadQueueStartedCache=l;g.checkUploadQueueStartedCache=b;g.removeExternalIdFromUploadQueueStartedCache=m;g.getUploadQueueStartedCache=e;g.addPoint=n;g.endFail=f;g.endSuccess=o;g.genInstanceKeyOnly=q;g.genInstanceKeyForUploadQueue=r;g.maybeStartTrackingForUploadQueue=s;g.isUploadSupported=t;g.maybeStartTrackingForMiddleware=u;g.startTrackingForMiddleware=v;g.genInstanceKeyForMiddleware=w;g.cloneAndClearInstanceMap=x;g.removeInstanceKey=y}),98);
__d("MAWEncryptedBackupsStateManager",["MAWEBSwitch","MAWEBUploadTrackingUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case 1:return;case 3:c("MAWEBSwitch").set(!0);return;case 2:case 4:default:c("MAWEBSwitch").set(!1);h();return}}function h(){d("MAWEBUploadTrackingUtils").cloneAndClearInstanceMap().forEach(function(a,b){d("MAWEBUploadTrackingUtils").endSuccess(a,"upload_tracking_cancelled_eb_turned_off",{string:{externalId:b,from:"backup state turned off"}})}),d("MAWEBUploadTrackingUtils").getUploadQueueStartedCache().forEach(function(a,b,c){d("MAWEBUploadTrackingUtils").endSuccess(a,"upload_tracking_cancelled_eb_turned_off",{string:{externalId:b,from:"backup state turned off"}}),d("MAWEBUploadTrackingUtils").removeExternalIdFromUploadQueueStartedCache(b)})}function b(a){return a===4||a===3}g.setEncryptedBackupsState=a;g.eligibleForEBUX=b}),98);
__d("MAWFolderTypes",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;e=10;var g={ARCHIVED:e,INBOX:a,OTHER:c,PENDING:b,SPAM:d};f.INBOX=a;f.PENDING=b;f.OTHER=c;f.SPAM=d;f.ARCHIVED=e;f.FOLDER_ID=g}),66);
__d("MAWFrontendMediaUtils",["MAWDbMedia"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(a==="image/gif")return{mediaType:d("MAWDbMedia").MEDIA_TYPE.GIF,serverMediaType:"gif"};if(a==="image/webp"&&b!==!0)return{mediaType:d("MAWDbMedia").MEDIA_TYPE.STICKER,serverMediaType:"sticker"};c=(c=c)!=null?c:a.split("/")[0];switch(c){case"image":if(b===!0)return{mediaType:d("MAWDbMedia").MEDIA_TYPE.IMAGE,serverMediaType:"xma-image"};else return{mediaType:d("MAWDbMedia").MEDIA_TYPE.IMAGE,serverMediaType:"image"};case"video":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.VIDEO,serverMediaType:"video"};case"audio":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.PTT,serverMediaType:"ptt"};case"application":default:return{mediaType:d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE,serverMediaType:"document"}}}g.getMediaTypeAndServerMediaTypeFromBlob=a}),98);
__d("WAFixedSizeMap",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){a=a.max;this.$1=new Map();this.$2=new Map();this.$3=0;this.$4=100;this.$4=a}var b=a.prototype;b.has=function(a){return this.$1.has(a)};b.get=function(a){return this.$1.get(a)};b.set=function(a,b){this.$1.set(a,b);this.$2.set(this.$3,a);this.$3+=1;b=this.$2.get(this.$3-this.$4-1);b!=null&&(this.$1["delete"](b),this.$2["delete"](this.$3-this.$4-1))};b.clear=function(){this.$1.clear(),this.$2.clear(),this.$3=0};b.size=function(){return this.$1.size};return a}();f.FixedSizeMap=a}),66);
__d("MAWJobActionsV2",["MAWTransactionMode","Promise","WAFixedSizeMap","WAHex","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return new(h||(h=b("Promise")))(function(b,c){a.onsuccess=b,a.onerror=c})}function j(a){return i(a).then(function(a){return a.target.result})}function k(a,c,e){return new(h||(h=b("Promise")))(function(b,f){var g=a(d("MAWTransactionMode").READONLY).index(c);g=g.openCursor(IDBKeyRange.only(e));var h=[];g.onsuccess=function(a){a=a.target.result;if(!a){b(h);return}h.push(a.value);a["continue"]()};g.onerror=function(a){return f(a)}})}var l=new(d("WAFixedSizeMap").FixedSizeMap)({max:100});function a(a,c){var e,f=c.args,g=c.scheduleConfig,i=c.type,l=c.uniqKey;c=c.version;c=c===void 0?1:c;e=JSON.stringify([i,(e=l)!=null?e:d("WAHex").randomHex(32)]);var n={backedOffCount:0,current:f,original:f,scheduleConfig:g,startTime:d("WATimeUtils").unixTime(),step:"$unstarted",stepFirstStartTime:null,stepHardStartCountAfterTimeout:0,stepUnexpectedErrorCount:0,type:i,uniqKey:e,version:c,waitUntil:null},o=function(){var b,c=a().add(n),d=j(c);if(n.uniqKey==null&&typeof ((b=c.transaction)==null?void 0:b.commit)==="function")try{c.transaction.commit()}catch(a){}return d.then(function(a){return{id:a,newlyCreated:!0}})};if(l!=null)return k(a,"uniqKey",e).then(function(c){if(c.length===0)return o();var d=[],e=null;c.forEach(function(b){b.step!=="$finished"?e=b:d.push(m(a,b.jobId))});return(h||(h=b("Promise"))).all(d).then(function(){return e!=null?{id:e.jobId,newlyCreated:!1}:o()})});else return o()}function m(a,b){return j(a()["delete"](b))}function c(a,b){return j(a().get(b))}function e(a,b){return j(a().put(b))}function f(a){return j(a().getAll())}function n(a){try{return i(a().clear()).then(function(){})}catch(a){if(a.name==="NotFoundError")return(h||(h=b("Promise"))).resolve();throw a}}g.recentFinishedJobsCache=l;g.maybeCreateJob=a;g.deletePersistedJob=m;g.readPersistedJob=c;g.updatePersistedJob=e;g.readAllPersistedJobs=f;g.clearJobs=n}),98);
__d("MAWLoggerUtils",[],(function(a,b,c,d,e,f){"use strict";a={CleanerPurge:"CleanerPurge",CleanerStart:"CleanerStart",CleanerTimestamp:"CleanerTimestamp",CleanerUpdate:"CleanerUpdate",Countdown:"Countdown",Ephemeral:"Ephemeral",Incoming:"Incoming",MsgCleaner:"MsgCleaner",OnLoad:"OnLoad",OnRead:"OnRead",Outgoing:"Outgoing",PeerReceipt:"PeerReceipt",SettingChange:"SettingChange",SettingSync:"SettingSync",DeviceRegistration:"DeviceRegistration",MessageReceive:"MessageReceive",MediaDownload:"MediaDownload",WorkerSetup:"WorkerSetup",MAWWorker:"MAWWorker",MAWInit:"MAWInit",LogoutHandler:"LogoutHandler"};f.Tag=a}),66);
__d("MAWRavenUtils",["EphemeralMediaViewMode","MAWMsg","RavenMessagingState"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){switch(a){case d("MAWMsg").MAWRavenMsgEphemeralMediaState.PERMANENT:return c("RavenMessagingState").PERMANENT;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN:return c("RavenMessagingState").UNSEEN;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.SEEN:return c("RavenMessagingState").SEEN;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.REPLAYED:return c("RavenMessagingState").REPLAYED;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.EXPIRED:return c("RavenMessagingState").EXPIRED}};b=function(a){switch(a){case d("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return c("EphemeralMediaViewMode").PERMANENT;case d("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY:return c("EphemeralMediaViewMode").REPLAYABLE;case d("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE:return c("EphemeralMediaViewMode").READ_ONCE}};function a(a,b){switch(b){case d("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE:return a===d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN?c("RavenMessagingState").SEEN:h(a);case d("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY:if(a===d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN)return c("RavenMessagingState").SEEN;else if(a===d("MAWMsg").MAWRavenMsgEphemeralMediaState.SEEN)return c("RavenMessagingState").REPLAYED;return h(a);case d("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return h(a)}}g.getEphemeralMediaState=h;g.getEphemeralMediaViewMode=b;g.getNextRavenMessageEphemeralState=a}),98);
__d("MAWUpdateClientRestoreStatusOperationType",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;f.upsertClientRestoreStatus=a;f.markCompleteClientRestoreStatus=b}),66);
__d("SharedWorkerStatusLock",[],(function(a,b,c,d,e,f){"use strict";var g="sw-lock";function h(a){return g+"-"+a}function a(){var a=null,b;function c(){var c=self,d=c.navigator.locks;c.LockManager!=null&&d instanceof c.LockManager&&(b==null&&(b=new c.Promise(function(b){a=b})),d.request(h(c.name),function(a){if(a!=null)return b}))}function d(){a==null?void 0:a(),b=null,a=null}return{init:c,release:d}}f.getStatusLockName=h;f.getStatusLock=a}),66);
__d("WABridgeBatcher",["WAShiftTimer"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=1e3;a=function(){function a(a,b){var c=this;this.$1=null;this.$4=h;this.$5=Date.now();this.$6=new(d("WAShiftTimer").ShiftTimer)(function(){var a=c.$1;if(a==null)return;c.$1=null;c.$2(a)});this.$2=b;this.$3=a}var b=a.prototype;b.addEvent=function(a){var b=this.$1;this.$1=b?this.$3(b,a):[a];if(this.$6.isScheduled())return;b=this.$4;if(b<1){a=Date.now();var c=Math.max(a-this.$5,0)/i;b=Math.min(b+c,h);this.$4=b;this.$5=a}b>=1?(c=0,this.$4=b-1):(c=Math.ceil(i*(1-b)),this.$4=0);this.$6.onOrBefore(c)};b.cancel=function(){this.$1=null,this.$6.cancel()};return a}();g.BridgeBatcher=a}),98);
__d("WAPromiseCallSync",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){try{for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return(g||(g=b("Promise"))).resolve(a.apply(c,e))}catch(a){return(g||(g=b("Promise"))).reject(a)}}f.promiseCallSync=a}),66);
__d("WAPromiseManagement",["WAPromiseCallSync"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=null,c=function(){b||(b=d("WAPromiseCallSync").promiseCallSync(a)["finally"](function(){b=null}));return b};c.isPending=function(){return!!b};return c}function b(a,b){var c=new Map();return function(d){var e=a(d),f=c.get(e);if(f)return f;try{f=Promise.resolve(b(d))}catch(a){f=Promise.reject(a)}d=f["finally"](function(){return void c["delete"](e)});c.set(e,d);return d}}var h=new Set();function c(a){h.add(a),a["finally"](function(){h["delete"](a)})}g.nullaryCacheWhilePending=a;g.cacheWhilePending=b;g.preventGarbageCollection=c}),98);
__d("WACrossWorkerPortal",["Promise","WABridgeBatcher","WAErr","WALogger","WAPromiseManagement"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["absorbPortal: transferring request #",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unexpected non-result to call"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unexpected result to cast: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unrecognized result ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge "," response of ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge "," request for ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge queuing "," msgs"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge sending "," across (delayed)"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge received msg on old port"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge updating port"]);r=function(){return a};return a}var s=function(){function a(a,b,c,e){var f=this;this.port=null;this.$2=1;this.openRequests=new Map();this.listeners=new Set();this.processedRequests=new Set();this.$1=a;this.sendStream=new(d("WABridgeBatcher").BridgeBatcher)(b,function(a){f.$3(a)});c.forEach(function(b){a.setNamespaceHandler(b,f.$4(b))});this.clientId=e}var e=a.prototype;e.$5=function(){var a=this.clientId!=null?this.clientId+"_":"";return""+a+this.$2++};e.$6=function(a){a=a.split("_");return a.length!==2?null:a[0]};e.addListener=function(a){var b=this;this.listeners.add(a);return function(){return b.listeners["delete"](a)}};e.setPort=function(a){var b=this;d("WALogger").LOG(r());this.port=a;this.sendStream.cancel();a.onmessage=function(c){if(b.port!==a){d("WALogger").WARN(q()).devConsole(c.data);return}c=c.data;if(!c||!Array.isArray(c))return;c.forEach(function(c){b.$7(c,"incoming"),b.$8(a,c)})};this.openRequests.forEach(function(a){a=a.request;d("WALogger").DEV(p(),a.name);b.sendStream.addEvent({type:"request",content:a})})};e.getBridge=function(){return this.$1};e.$4=function(a){var b=this;return function(c,d,e,f){b.$9(a,c,d,e,f)}};e.$9=function(a,b,c,d,e){var f=this.$5();a={requestId:f,expectsResponse:!!d,namespace:a,name:b,arg:c,silentLog:e};this.openRequests.set(f,{request:a,resolver:d});this.sendStream.addEvent({type:"request",content:a})};e.$10=function(a,b){if(a!==this.port)return;this.sendStream.addEvent({type:"result",content:b})};e.$3=function(a){var b=this,c=this.port;if(!c){d("WALogger").DEV(o(),a.length);return}c.postMessage(a);a.forEach(function(a){return b.$7(a,"outgoing")})};e.$7=function(a,b){this.listeners.forEach(function(c){return c(a,b)})};e.$8=function(a,e){var f=this;if(e.type==="request"){var g=e.content,i=g.namespace,o=g.name,p=g.requestId,q=g.arg,r=g.expectsResponse,s=g.silentLog;s||d("WALogger").LOG(n(),p,o);g=this.$1;if(r){r=g.sendAndReceive(i,o,q,s).then(function(b){f.$10(a,{requestId:p,type:"success",result:b,silentLog:s})},function(b){f.$10(a,{requestId:p,type:"error",result:String(b),silentLog:s})});d("WAPromiseManagement").preventGarbageCollection(r)}else{g.fireAndForget(i,o,q,s);r={type:"result",content:{requestId:p,type:"handled",silentLog:s}};this.$7(r,"outgoing");a.postMessage([r])}}else{e.type;g=e.content;i=g.requestId;o=g.type;q=g.result;r=g.silentLog;r||d("WALogger").DEV(m(),i,o);e=this.$6(i);if(e!==this.clientId||this.processedRequests.has(i))return;g=this.openRequests.get(i);if(!g){d("WALogger").WARN(l(),i);return}switch(o){case"success":case"error":this.openRequests["delete"](i);this.processedRequests.add(i);r=g.resolver;r?r(o==="success"?q:(h||(h=b("Promise"))).reject(c("WAErr")(q))):d("WALogger").ERROR(k(),q);break;case"handled":g.resolver?d("WALogger").ERROR(j()):(this.openRequests["delete"](i),this.processedRequests.add(i));break}}};return a}();function a(a,b,c,d){return new s(a,c,b,d)}function e(a){var b;(b=a.port)==null?void 0:b.close();a.port=null;a.sendStream.cancel();b=a.openRequests;a.openRequests=new Map();var c=a.getBridge();b.forEach(function(a){var b=a.request;a=a.resolver;var e=b.namespace,f=b.name,g=b.arg,h=b.silentLog;d("WALogger").LOG(i(),b.requestId);a?a(c.sendAndReceive(e,f,g,h)):c.fireAndForget(e,f,g,h)})}g.CrossWorkerPortal=s;g.attachPortal=a;g.killPortalAndSendPendingToBridge=e}),98);
__d("WAMapWithDefault",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,b!=null?this.$2=new Map(b):this.$2=new Map()}var b=a.prototype;b.size=function(){return this.$2.size};b.clear=function(){this.$2.clear()};b["delete"]=function(a){return this.$2["delete"](a)};b.get=function(a){var b=this.$2.get(a);if(b!=null)return b;else{b=this.$1(a);this.$2.set(a,b);return b}};b.keys=function(){return this.$2.keys()};b.entries=function(){return this.$2.entries()};b.update=function(b,c){c=new Map(this.$2).set(b,c(this.get(b)));return new a(this.$1,c)};b.toMap=function(){return new Map(this.$2)};return a}();f.MapWithDefault=a}),66);
__d("WAOfflineUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["INIT","OFFLINE_RESUME","ONLINE"]);c=b("$InternalEnum")({Initializing:"initializing",Failed:"failed",Processing:"processing",Complete:"complete"});f.ServerRPCMode=a;f.WAClientInfraOfflineProgress=c}),66);/*FB_PKG_DELIM*/
__d("PolarisBaseGraphQLEventHandler",[],(function(a,b,c,d,e,f){"use strict";var g="1/graphqlsubscriptions/",h=Object.freeze({BD_CHALLENGE:"BdChallenge",NONE:"",PINNED_QUESTION:"PinnedQuestion",QUESTION_STATUS:"QuestionStatus",WAVE:"Wave"});a=function(){function a(){}var b=a.prototype;b.processEventMessage=function(a){return};b.getSubTopic=function(){return null};b.getGraphQLSubsciptionPrefix=function(){return g};b.getType=function(){return h.NONE};return a}();f.GRAPH_QL_EVENT_TYPES=h;f.BaseGraphQLEventHandler=a}),66);
__d("PolarisBdChallengeGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","PolarisDirectLogger","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="17935802131473058";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;e.$BdChallengeGraphQLEventHandler$p_1=new(d("PolarisDirectLogger").DirectLogger)("BDChallengeGraphQLEventHandler",b);e.$BdChallengeGraphQLEventHandler$p_1.debugTrace("bd_challenge_gql_handler_init");e.$BdChallengeGraphQLEventHandler$p_2=e.getGraphQLSubsciptionPrefix()+h+"/"+JSON.stringify({input_data:{client_subscription_id:c("uuidv4")()}});return e}var e=b.prototype;e.processEventMessage=function(a){a=a.bd_challenge_event;if(a==null){this.$BdChallengeGraphQLEventHandler$p_1.debugTrace("parsed_message_bad_data");return}};e.getSubTopic=function(){return this.$BdChallengeGraphQLEventHandler$p_2};e.getType=function(){return d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.BD_CHALLENGE};return b}(d("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);g.BdChallengeGraphQLEventHandler=a}),98);
__d("PolarisChannelClientID",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("uuidv4")();a={getID:function(){return h}};b=a;g["default"]=b}),98);
__d("PolarisDirectBaseSubscription",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d){var e=this;this.$5=function(a){e.$4.debugTrace("message_received");var b=e.parsePayload(a);if(b==null)return;if(a.length===0){e.$4.logError("empty_message");return}else a[a.length-1]==="\0"?(b=a.substring(0,a.length-1),e.$4.debugTrace("trimmed_null_char")):b=a;var c={};try{c=JSON.parse(b)}catch(c){typeof c.message==="string"&&c.message.includes("Unexpected token")&&(c.jsonFirstChars=typeof b==="string"?b.substr(0,3):null);e.$4.logError("Cannot parse message "+a,c);return}e.processMessage(c)};this.$1=a;this.$2=b;this.$3=c;this.$4=d;this.$4.debugTrace("ctor")}var b=a.prototype;b.parsePayload=function(a){return a};b.processMessage=function(a){return};b.$6=function(a){var b;return JSON.stringify((b={},b[a]=this.getSubTopics(),b))};b.subscribe=function(){var a=this;if(this.getSubTopics().length<1){this.$4.debugTrace("no_subtopics_to_subscribe");return}this.$4.debugTrace("subscribe_start");this.unsubscribe();this.$3.subscribe(this.$1,this.$5);this.$3.publish(this.$1,this.$6("sub"))["catch"](function(b){return a.$4.logError(b,b==null?void 0:b.message)});this.$4.debugTrace("subscribe_end")};b.unsubscribe=function(){var a=this;if(this.getSubTopics().length<1){this.$4.debugTrace("no_subtopics_to_unsubscribe");return}this.$4.debugTrace("unsubscribe_start");this.$3.publish(this.$1,this.$6("unsub"))["catch"](function(b){return a.$4.logError(b,b==null?void 0:b.message)});this.$3.unsubscribe(this.$1);this.$4.debugTrace("unsubscribe_end")};b.updateSubTopics=function(a){this.$2=a};b.getSubTopics=function(){return this.$2};return a}();f.DirectBaseSubscription=a}),66);
__d("PolarisDirectDeltaHandlers",["invariant","PolarisDirectLogger","memoize"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return i(a)}function b(a){return i(a)}function e(a){return i(a)}function i(a){if(a==null)return null;if(typeof a!=="string")return a;var b;a;try{b=j(a)}catch(c){d("PolarisDirectLogger").DirectLogger.logError("DirectDeltaHandlers","parse_delta_item.stringify_ids_error",{errorMessage:c.message}),b=a}try{b=JSON.parse(b)}catch(c){d("PolarisDirectLogger").DirectLogger.logError("DirectDeltaHandlers","parse_delta_item.parse_json_error",{errorMessage:c.message}),b=JSON.parse(a)}return b}function j(a){var b=Array.from(a.matchAll(/(id\":)\s*([0-9]+)/gi)),c=0;return b.reduce(function(a,b){var d=new RegExp(b[0]);d.lastIndex=c;a=a.replace(d,b[1]+' "'+b[2]+'"');c=b.index;return a},a)}function f(a){var b=parseInt(a,10);isNaN(b)&&h(0,61446,a);return isNaN(b)?0:b}var k=function(a,b){var e=this;this.$3=c("memoize")(function(){return[{listeners:{replace:e.$1.onHasSeen},regex:/^\/direct_v2\/threads\/(.+)\/participants\/(.+)\/has_seen$/},{listeners:{add:e.$1.onMakeAdmin,remove:e.$1.onRemoveAdmin},regex:/^\/direct_v2\/threads\/(\d+)\/admin_user_ids\/(\d+)$/},{listeners:{add:e.$1.onIndicateTypingActivity},regex:/^\/direct_v2\/threads\/(.+)\/activity_indicator_id\/(.+)$/},{listeners:{add:e.$1.onUpdateEmoji,remove:e.$1.onRemoveEmoji,replace:e.$1.onUpdateEmoji},regex:/^\/direct_v2\/threads\/(\d+)\/items\/(\d+)\/reactions\/likes\/(\d+)$/},{listeners:{add:e.$1.onNewMessage,remove:e.$1.onRemoveMessage,replace:e.$1.onUpdatedMessage},regex:/^\/direct_v2\/threads\/(.+)\/items\/(\d+)$/},{listeners:{replace:e.$1.onUpdateDMSettings},regex:/^\/direct_v2\/threads\/(.+)\/dm_settings$/},{listeners:{remove:e.$1.onRemoveThread,replace:e.$1.onNewThread},regex:/^\/direct_v2\/inbox\/threads\/(.+)$/},{listeners:{replace:e.$1.onUnseenCountChange},regex:/^\/direct_v2\/inbox\/unseen_count$/}]});this.handleDelta=function(a,b){var c=a.op,d=a.path;a=a.value;e.$2.debugTrace("handle_delta_start",{mutationToken:b,op:c,path:d});for(var f=e.$3(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i.listeners[c];if(j){i=i.regex.exec(d);i&&(e.$2.debugTrace("handle_delta_match"),j.apply(void 0,[a,b].concat(i.slice(1))))}}e.$2.debugTrace("handle_delta_end")};this.onSeqIdUpdated=function(a){e.$1.onSeqIdUpdated&&e.$1.onSeqIdUpdated(a)};this.onMqttConnectivityChanged=function(a){e.$1.onMqttConnectivityChanged&&e.$1.onMqttConnectivityChanged(a)};this.onIrisConnectivityChanged=function(a,b){e.$1.onIrisConnectivityChanged&&e.$1.onIrisConnectivityChanged(a,b)};this.onResnapshotRequested=function(a){e.$1.onResnapshotRequested&&e.$1.onResnapshotRequested(a)};this.$1=a;this.$2=new(d("PolarisDirectLogger").DirectLogger)("DirectDeltaHandlers",b)};g.parsePartialDeltaEmoji=a;g.parseDMSettings=b;g.parseDeltaItem=e;g.stringifyIds=j;g.parseDeltaNumber=f;g.DirectDeltaHandlers=k}),98);
__d("PolarisPinnedQuestionGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="PINNED_QUESTION",i="18005526940184517";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$PinnedQuestionGraphQLEventHandler$p_1=b;e.$PinnedQuestionGraphQLEventHandler$p_2=e.getGraphQLSubsciptionPrefix()+i+"/"+JSON.stringify({input_data:{broadcast_id:String(d.id),client_subscription_id:c("uuidv4")()}});return e}var e=b.prototype;e.processEventMessage=function(a){a=a.live_active_question_event;if(a==null)return;a={question:a,type:h};this.$PinnedQuestionGraphQLEventHandler$p_1.eventHandler(a)};e.getSubTopic=function(){return this.$PinnedQuestionGraphQLEventHandler$p_2};e.getType=function(){return d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION};return b}(d("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);g.PinnedQuestionGraphQLEventHandler=a}),98);
__d("PolarisQuestionStatusGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="QUESTION_STATUS",i="18027779584026952";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$QuestionStatusGraphQLEventHandler$p_1=b;e.$QuestionStatusGraphQLEventHandler$p_2=e.getGraphQLSubsciptionPrefix()+i+"/"+JSON.stringify({input_data:{broadcast_id:String(d.id),client_subscription_id:c("uuidv4")()}});return e}var e=b.prototype;e.processEventMessage=function(a){a=a.live_question_submission_status_event;if(a==null)return;a={status:a,type:h};this.$QuestionStatusGraphQLEventHandler$p_1.eventHandler(a)};e.getSubTopic=function(){return this.$QuestionStatusGraphQLEventHandler$p_2};e.getType=function(){return d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS};return b}(d("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);g.QuestionStatusGraphQLEventHandler=a}),98);
__d("PolarisWaveGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","PolarisConfig","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="LIVE_WAVE",i="17882305414154951";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e){var f;f=a.call(this)||this;f.$WaveGraphQLEventHandler$p_1=b;f.$WaveGraphQLEventHandler$p_2=f.getGraphQLSubsciptionPrefix()+i+"/"+JSON.stringify({input_data:{broadcast_id:String(e.id),client_subscription_id:c("uuidv4")(),receiver_id:d("PolarisConfig").getViewerId()},publish_data:{broadcast_id:String(e.id),receiver_id:d("PolarisConfig").getViewerId(),waver_id:String(e.broadcast_owner)}});return f}var e=b.prototype;e.processEventMessage=function(a){a=a.live_video_wave_event;if(a==null)return;a={type:h,wave:a};this.$WaveGraphQLEventHandler$p_1.eventHandler(a)};e.getSubTopic=function(){return this.$WaveGraphQLEventHandler$p_2};e.getType=function(){return d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE};return b}(d("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);g.WaveGraphQLEventHandler=a}),98);
__d("PolarisDirectGraphQLSubscription",["PolarisBaseGraphQLEventHandler","PolarisBdChallengeGraphQLEventHandler","PolarisDirectBaseSubscription","PolarisDirectLogger","PolarisPinnedQuestionGraphQLEventHandler","PolarisQuestionStatusGraphQLEventHandler","PolarisWaveGraphQLEventHandler","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h="/ig_realtime_sub";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){e=new(d("PolarisDirectLogger").DirectLogger)("DirectGraphQLSubscription",e);c=a.call(this,h,[],c,e)||this;c.$DirectGraphQLSubscription$p_2=e;c.$DirectGraphQLSubscription$p_1=b;c.$DirectGraphQLSubscription$p_3=new Map();c.$DirectGraphQLSubscription$p_4();c.getSubTopics();return c}var e=b.prototype;e.$DirectGraphQLSubscription$p_4=function(){var a=Object.keys(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES);for(var b=0;b<a.length;b++){var c=a[b];d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES[c]!==d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE&&d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES[c]!==d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION&&!this.$DirectGraphQLSubscription$p_5(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES[c])&&this.$DirectGraphQLSubscription$p_2.debugTrace("invalid_handler_type")}};e.getSubTopics=function(){var a=[];for(var b=this.$DirectGraphQLSubscription$p_3,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f[0];f=f[1];f=f.getSubTopic();c("isStringNullOrEmpty")(f)||a.push(f)}this.updateSubTopics(a);return a};e.processMessage=function(b){for(var c=this.$DirectGraphQLSubscription$p_3,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f[0];f=f[1];f.processEventMessage(b)}a.prototype.processMessage.call(this,b)};e.enableOrDisableEventHandlerByType=function(a,b){b?this.$DirectGraphQLSubscription$p_5(a)||this.$DirectGraphQLSubscription$p_2.debugTrace("invalid_handler_type"):this.$DirectGraphQLSubscription$p_3["delete"](a);return this};e.$DirectGraphQLSubscription$p_5=function(a){this.$DirectGraphQLSubscription$p_3||(this.$DirectGraphQLSubscription$p_3=new Map());var b=this.$DirectGraphQLSubscription$p_6(a);if(b!=null){this.$DirectGraphQLSubscription$p_3.set(a,b);return!0}return!1};e.$DirectGraphQLSubscription$p_6=function(a){switch(a){case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.BD_CHALLENGE:return new(d("PolarisBdChallengeGraphQLEventHandler").BdChallengeGraphQLEventHandler)(this.$DirectGraphQLSubscription$p_2.getDebugId());default:return null}};e.enableLiveEventHandler=function(a,b,c){switch(c){case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE:this.$DirectGraphQLSubscription$p_3.set(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE,new(d("PolarisWaveGraphQLEventHandler").WaveGraphQLEventHandler)(b,a));return this;case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION:this.$DirectGraphQLSubscription$p_3.set(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION,new(d("PolarisPinnedQuestionGraphQLEventHandler").PinnedQuestionGraphQLEventHandler)(b,a));return this;case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS:this.$DirectGraphQLSubscription$p_3.set(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS,new(d("PolarisQuestionStatusGraphQLEventHandler").QuestionStatusGraphQLEventHandler)(b,a));return this;default:return this}};e.disableLiveEventHandler=function(a){switch(a){case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE:this.$DirectGraphQLSubscription$p_3["delete"](d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE);return this;case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION:this.$DirectGraphQLSubscription$p_3["delete"](d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION);return this;case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS:this.$DirectGraphQLSubscription$p_3["delete"](d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS);return this;default:return this}};e.unsubscribeGraphQL=function(){this.unsubscribe(),this.enableOrDisableEventHandlerByType(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE,!1)};return b}(d("PolarisDirectBaseSubscription").DirectBaseSubscription);g.DirectGraphQLSubscription=a}),98);
__d("PolarisDirectIrisSubscription",["PolarisDirectLogger","isObject","polarisUnexpected"],(function(a,b,c,d,e,f,g){"use strict";var h=1,i=2,j=1e3,k=64e3;a=function(){function a(a,b,e,f){var g=this;this.$7=function(){g.$6.logDirectClientEvent("ig_direct_iris_subscription",d("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers["extends"]({},g.$2,{action:"attempt",attempt_reason:"mqtt-connected"}));g.$1.onIrisConnectivityChanged("Subscribing");var a=JSON.stringify(g.$2);g.$3.publish("/ig_sub_iris",a)["catch"](function(a){g.$6.logDirectClientEvent("ig_direct_iris_subscription",d("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers["extends"]({},g.$2,{action:"error",error:JSON.stringify(a)})),g.$1.onIrisConnectivityChanged("Unsubscribed")})};this.$8=function(a){var b;if(typeof a==="string"||a instanceof String)try{b=JSON.parse(a)}catch(a){var e="Could not parse sub iris response $(response)";g.$6.logError(e,a);c("polarisUnexpected")(e);b=a}else c("isObject")(a)?b=a:(c("polarisUnexpected")("Unknown sub iris response $(response)"),b={succeeded:!1});if(b.succeeded===!0)g.$6.logDirectClientEvent("ig_direct_iris_subscription",d("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers["extends"]({},g.$2,{action:"success"})),g.$1.onIrisConnectivityChanged("Subscribed",g.$2.subscription_type);else{g.$6.logDirectClientEvent("ig_direct_iris_subscription",d("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers["extends"]({},g.$2,b,{action:"error"}));g.$1.onIrisConnectivityChanged("Unsubscribed");if(b.error_type===h)g.$1.onResnapshotRequested(g.$2);else if(b.error_type===i){e=g.$4+Math.floor(Math.random()*1e3);window.setTimeout(g.$7,e);g.$4=Math.min(g.$4*2,k)}}};this.$6=new(d("PolarisDirectLogger").DirectLogger)("DirectIrisSubscription",f);this.$6.debugTrace("ctor",b);this.$1=a;this.$2=b;this.$3=e;this.$4=j}var b=a.prototype;b.subscribe=function(){this.$6.debugTrace("subscribe_start"),this.unsubscribe(),this.$3.subscribe("/ig_sub_iris_response",this.$8),this.$7(),this.$6.debugTrace("subscribe_end")};b.unsubscribe=function(){this.$6.debugTrace("unsubscribe_start"),this.$5&&(window.clearTimeout(this.$5),this.$5=null),this.$3.unsubscribe("/ig_sub_iris_response"),this.$1.onIrisConnectivityChanged("Unsubscribed"),this.$6.debugTrace("unsubscribe_end")};return a}();g.DirectIrisSubscription=a}),98);
__d("PolarisDirectSkywalkerSubscription",["PolarisConfig","PolarisDirectBaseSubscription","PolarisDirectLogger","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h="/pubsub";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){f=new(d("PolarisDirectLogger").DirectLogger)("DirectSkywalkerSubscription",f);e=a.call(this,h,["ig/u/v1/"+c("nullthrows")(d("PolarisConfig").getViewerId())],e,f)||this;e.$DirectSkywalkerSubscription$p_2=f;e.$DirectSkywalkerSubscription$p_1=b;return e}var e=b.prototype;e.parsePayload=function(b){if(b.indexOf("/activity_indicator_id/")===-1){this.$DirectSkywalkerSubscription$p_2.debugTrace("not_activity_indicator_message");return null}return a.prototype.parsePayload.call(this,b)};e.processMessage=function(b){var c=b.data,d=b.event;if(d!=="patch"){this.$DirectSkywalkerSubscription$p_2.debugTrace("skipped_message",{event:d});return}if(!Array.isArray(c)){this.$DirectSkywalkerSubscription$p_2.debugTrace("parsed_message_bad_data",typeof c);return}for(var d=c,c=Array.isArray(d),e=0,d=c?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;this.$DirectSkywalkerSubscription$p_1.handleDelta(f,"")}a.prototype.processMessage.call(this,b)};return b}(d("PolarisDirectBaseSubscription").DirectBaseSubscription);g.DirectSkywalkerSubscription=a}),98);
__d("PolarisLiveDeltaHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(a){this.eventHandler=a};f["default"]=a}),66);
__d("PolarisMqttEnv",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({messenger_uses_mqtt_rollout:2,mqtt_ep_with_sid:0,mqtt_fast_lp:11,mqtt_lp_use_fetch:9,mqtt_waterfall_log_client_sampling:1,mqtt_ws_forced_polling_only:4,mqtt_ws_polling_enabled:3,mqtt_ws_reconnect_reset:7});b=function(){var a=b.prototype;a.random=function(){return this.$1!=null?this.$1():Math.random()};a.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};a.clearTimeout=function(a){if(this.$3!=null){this.$3(a);return}window.clearTimeout(a)};a.setTimeout=function(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return this.$4!=null?this.$4.apply(null,arguments):window.setTimeout.apply(null,arguments)};a.getLoggerInstance=function(){return this.$5!=null?this.$5():g.getInstance()};a.genGk=function(a){return this.$6!=null?this.$6(a):!1};a.createSocket=function(a,b){return this.$7!=null?this.$7(a,b):new WebSocket(a)};a.scheduleCallback=function(a){return this.$8!=null?this.$8(a):a()};a.scheduleLoggingCallback=function(a){return this.$9!=null?this.$9(a):a()};a.configRead=function(a,b){return this.$10!=null?this.$10(a,b):b};a.configWrite=function(a,b){this.$11!=null&&this.$11(a,b)};function b(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null}a.initialize=function(a,b,c,d,e,f,g,h,i,j,k){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$10=j,this.$11=k};return b}();var g=function(){function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){a.attemptNumber,a.connectionStatus,a.duration,a.errorCode,a.errorMessage,a.failTotal,a.hostname,a.publishes,a.sessionID,a.subscribedTopics,a.successTotal};b.eventLogPull=function(a){a.duration,a.errorMessage,a.hostname,a.pullEventName,a.sessionID,a.status};b.eventLogDisconnect=function(a){a.duration,a.errorCode,a.errorMessage,a.sessionID};b.eventLogPublish=function(a){a.connectionStatus,a.publishStatus,a.sessionID,a.topic};b.eventLogMiscellaneousError=function(a){a.errorMessage};b.logError=function(a,b){};b.logErrorWarn=function(a,b){};b.logWarn=function(a,b){};b.debugTrace=function(a,b){};b.bumpCounter=function(a){};return a}();c={Env:new b(),MqttGkNames:a};f["default"]=c}),66);
__d("PolarisIrisSubscribeChecker",["PolarisMqttEnv"],(function(a,b,c,d,e,f){"use strict";var g=b("PolarisMqttEnv").Env,h=b("PolarisMqttEnv").MqttGkNames;a=function(){function a(a){this.$1=g.getLoggerInstance();this.$2=null;this.$3=!1;this.$4=!1;this.$5=!1;this.$6=!0;this.$7=0;this.$8=a;if(typeof window!=="undefined"){a=window.location.hostname;(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")&&(this.$6=!1)}g.genGk(h.messenger_uses_mqtt_rollout)||(this.$6=!1)}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=g.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(g.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7===1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$1.eventLogMiscellaneousError({errorMessage:a});this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();e.exports=a}),null);
__d("PolarisMqttAnalyticsHook",["InstagramODS","PolarisMqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=c("PolarisMqttEnv").Env.getLoggerInstance(),this.$2=0,this.$3=0,this.$4=0,this.$5=0,c("InstagramODS").incr("web.mqtt.session_start"),c("PolarisMqttEnv").Env.isUserLoggedInNow()||c("InstagramODS").incr("web.mqtt.session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){c("InstagramODS").incr("web.mqtt.ws_connect_attempt")};b.onConnectFailure=function(){this.$3++,c("InstagramODS").incr("web.mqtt.ws_connect_failure")};b.onConnected=function(){c("InstagramODS").incr("web.mqtt.ws_connect_connected")};b.onConnectSuccess=function(){this.$2===0&&c("InstagramODS").incr("web.mqtt.ws_connect_first_success"),this.$2++,c("InstagramODS").incr("web.mqtt.ws_connect_success")};b.onConnectionLost=function(){c("InstagramODS").incr("web.mqtt.ws_disconnect")};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){c("InstagramODS").incr("web.mqtt.ws_publish")};b.onMessage=function(a){c("InstagramODS").incr("web.mqtt.message_arrived")};b.onWSFatal=function(){c("InstagramODS").incr("web.mqtt.ws_fatal")};b.onPollRequestSent=function(){c("InstagramODS").incr("web.mqtt.polling_request_send")};b.onPollRequestSuccess=function(){c("InstagramODS").incr("web.mqtt.polling_request_succeed"),this.$4===0&&c("InstagramODS").incr("web.mqtt.polling_first_success"),this.$4++};b.onPollResponse=function(){c("InstagramODS").incr("web.mqtt.lp.message_arrived")};b.onPollFinish=function(){};b.onPollRequestFailed=function(){c("InstagramODS").incr("web.mqtt.polling_request_failed"),this.$5++};return a}();g["default"]=a}),98);
__d("PolarisMqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal()})};return a}();f["default"]=a}),66);
__d("PolarisMqttProtocolUtils",["PolarisMqttEnv"],(function(a,b,c,d,e,f){"use strict";var g=b("PolarisMqttEnv").Env;function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function c(a,b){b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{offset:b,value:c}}function d(a){a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function f(a,b){return 256*a[b]+a[b+1]}function i(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function j(a,b,c,d){d=h(b,c,d);k(a,c,d);return d+b}function k(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function l(a,b,c){var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join("")}b=function(){function a(a,b,c){this.$1=a*1e3,this.$4=b,this.$5=c,this.$3=!1}var b=a.prototype;b.$6=function(){var a=this;this.$3?(this.$3=!1,this.$4(),this.$2=g.setTimeout(function(){a.$6()},this.$1)):this.$5()};b.reset=function(){var a=this;this.$3=!0;this.$2&&(g.clearTimeout(this.$2),this.$2=null);this.$1>0&&(this.$2=g.setTimeout(function(){a.$6()},this.$1))};b.cancel=function(){this.$2&&(g.clearTimeout(this.$2),this.$2=null)};return a}();e.exports={Pinger:b,UTF8Length:i,concatBuffers:a,convertStringToUTF8:k,convertUTF8ToString:l,decodeMultiByteInt:c,encodeMultiByteInt:d,readUInt16BE:f,writeString:j,writeUInt16BE:h}}),null);
__d("PolarisMqttUtils",["PolarisMqttEnv","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={endpointWithExtraParameter:function(a,b,c){return a.indexOf("?")>0?a+"&"+b+"="+c:a+"?"+b+"="+c},endpointWithExtraParameters:function(a,b){var c=a;b.forEach(function(a,b){c=h.endpointWithExtraParameter(c,b,a)});return c},endpointWithSessionId:function(a,b){return!c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ep_with_sid)?a:h.endpointWithExtraParameter(a,"sid",b.toString())},generateSessionId:function(){return Math.floor(c("PolarisMqttEnv").Env.random()*Number.MAX_SAFE_INTEGER)},hasWSSupport:function(){return"WebSocket"in a&&a.WebSocket!==null},promiseDone:function(a,b,d){var e=arguments.length>1?a.then(b,d):a;c("promiseDone")(e.then(null,function(a){c("PolarisMqttEnv").Env.setTimeout(function(){if(a instanceof Error)throw a;else throw c("err")("promiseDone")},0)}))},sprintf:function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(/%s/g,function(){return String(c[e++])})}};b=h;g["default"]=b}),98);
__d("PolarisMqttProtocolCodec",["PolarisMqttProtocolUtils","PolarisMqttUtils"],(function(a,b,c,d,e,f){"use strict";var g=(c=b("PolarisMqttProtocolUtils")).UTF8Length,h=c.convertStringToUTF8,i=c.convertUTF8ToString,j=c.decodeMultiByteInt,k=c.encodeMultiByteInt,l=c.readUInt16BE,m=c.writeString,n=c.writeUInt16BE,o=b("PolarisMqttUtils").sprintf,p=Object.freeze({CONNACK:2,CONNECT:1,DISCONNECT:14,PINGREQ:12,PINGRESP:13,PUBACK:4,PUBLISH:3,SUBACK:9,SUBSCRIBE:8,UNSUBACK:11,UNSUBSCRIBE:10}),q=[0,6,77,81,73,115,100,112,3];function r(a,b){b=b;var c=b,d=a[b],e=d>>4;b+=1;var f=j(a,b);if(f==null)return{position:c,wireMessage:null};b=f.offset;f=b+f.value;if(f>a.length)return{position:c,wireMessage:null};var g;switch(e){case p.CONNACK:c=a[b++];c=!!(c&1);var h=a[b++];g=new u(c,h);break;case p.PUBLISH:c=d&15;h=c>>1&3;d=l(a,b);b+=2;var k=i(a,b,d);b+=d;d=null;h===1&&(d=l(a,b),b+=2);var m=w.createWithBytes(a.subarray(b,f)),n=(c&1)===1;c=(c&8)===8;g=new x(k,m,h,d,n,c);break;case p.PINGREQ:g=new s("PINGREQ");break;case p.PINGRESP:g=new s("PINGRESP");break;case p.PUBACK:case p.UNSUBACK:k=l(a,b);g=new v(e===p.PUBACK?"PUBACK":"UNSUBACK",k);break;case p.SUBACK:m=l(a,b);b+=2;h=a.subarray(b,f);g=new t(m,h);break;default:throw new Error(o("Invalid MQTT message type %s.",e))}return{position:f,wireMessage:g}}function a(a){var b=[],c=0;while(c<a.length){var d=r(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}d=function(){function a(a){this.messageType=p[a]}var b=a.prototype;b.encode=function(){throw new TypeError("Cannot abstract class WireMessage")};return a}();var s=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,a)||this}var c=a.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return a}(d);f=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"DISCONNECT")||this}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(k(0),1);return b};return b}(d);var t=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"SUBACK")||this;d.messageIdentifier=a;d.returnCode=c;return d}return a}(d),u=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"CONNACK")||this;d.sessionPresent=a;d.returnCode=c;return d}return a}(d),v=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.messageIdentifier=c;return a}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=k(b),d=c.length+1;b=new ArrayBuffer(b+d);var e=new Uint8Array(b);e[0]=a;e.set(c,1);d=n(this.messageIdentifier,e,d);return b};return a}(d);c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,"CONNECT")||this;d.clientId=b;d.connectOptions=c;return d}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=q.length+3;b+=g(this.clientId)+2;b+=g(this.connectOptions.userName)+2;var c=k(b);b=new ArrayBuffer(1+c.length+b);var d=new Uint8Array(b);d[0]=a;a=1;d.set(c,1);a+=c.length;d.set(q,a);a+=q.length;c=2|128;d[a++]=c;a=n(this.connectOptions.keepAliveInterval,d,a);a=m(this.clientId,g(this.clientId),d,a);a=m(this.connectOptions.userName,g(this.connectOptions.userName),d,a);return b};return b}(d);b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e){var f;f=a.call(this,b)||this;f.topic=c;if(d<0&&d>1||d===1&&e==null)throw new TypeError(o("Argument Invalid. qos: %s messageType: %s.",d,b));f.qos=d;f.messageIdentifier=e;return f}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4;a|=2;var b=g(this.topic),c=2+b+2;this.messageType===p.SUBSCRIBE&&(c+=1);var d=k(c);c=new ArrayBuffer(1+d.length+c);var e=new Uint8Array(c);e[0]=a;a=1;e.set(d,1);a+=d.length;this.messageIdentifier!=null&&(a=n(this.messageIdentifier,e,a));a=m(this.topic,b,e,a);this.messageType===p.SUBSCRIBE&&this.qos!=null&&(e[a++]=this.qos);return c};return b}(d);var w=function(){function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(g(b)));h(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=0,d=b.length;while(c<b.length&&b[c]!==123&&b[c]!==91)c++,d--;var e=i(b,c,d);b=b.subarray(c,d);return new a(e,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),x=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f,g){var h;h=b.call(this,"PUBLISH")||this;h.topic=a;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return h}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&(a|=1);var b=g(this.topic),c=b+2;c+=this.messageIdentifier==null?0:2;var d=this.payloadMessage.bytes();c+=d.byteLength;var e=k(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;f.set(e,1);a=1+e.length;a=m(this.topic,b,f,a);this.messageIdentifier!=null&&(a=n(this.messageIdentifier,f,a));f.set(d,a);return c};return a}(d);e.exports={MESSAGE_TYPE:p,WireMessage:{Base:d,ConnAck:u,Connect:c,Disconnect:f,Ping:s,PubAckUnsubAck:v,Publish:x,Subscription:b},createMessageWithString:w.createWithString,decodeByteMessages:a,decodeMessage:r}}),null);
__d("PolarisMqttTypes",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){this.errorCode=a,this.errorMessage=b};b=function(a,b){this.mqttError=a,this.connAck=b};c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}return b}(babelHelpers.wrapNativeSuper(Error));e.exports={ConnectFailure:b,MqttChannelError:c,MqttError:a}}),null);
__d("PolarisMqttProtocolClient",["PolarisMqttEnv","PolarisMqttProtocolCodec","PolarisMqttProtocolUtils","PolarisMqttTypes"],(function(a,b,c,d,e,f){"use strict";var g=b("PolarisMqttEnv").Env,h=(a=b("PolarisMqttProtocolCodec")).MESSAGE_TYPE,i=a.WireMessage,j=a.createMessageWithString,k=a.decodeByteMessages,l=b("PolarisMqttProtocolUtils").Pinger,m=b("PolarisMqttProtocolUtils").concatBuffers,n=b("PolarisMqttTypes").ConnectFailure;c=b("PolarisMqttTypes").MqttError;var o=30,p=6e4,q={APP_DISCONNECT:new c(7,"Disconnect initiated by app"),CONNACK_FAILURE:new c(5,"Connection failure due to connack"),CONNECT_TIMEOUT:new c(4,"Connect timed out"),INVALID_DATA_TYPE:new c(3,"Received non-arraybuffer from socket."),PING_TIMEOUT:new c(6,"Ping timeout"),SERVER_DISCONNECT:new c(8,"Disconnect message sent my server"),SOCKET_CLOSE:new c(9,"Socket connection closed"),SOCKET_ERROR:new c(1,"Socket error"),SOCKET_MESSAGE:new c(2,"Unable to parse invalid socket message")};d=function(){function a(a){var b=this;this.$11=function(a,c){var d=b.$5,e=b.$2,f=e.onConnectFailure,h=e.onConnectionLost;b.setConnected(!1);d?g.scheduleCallback(function(){h(a)}):g.scheduleCallback(function(){f(new n(a,c!=null?c:-1))});b.$13()};this.$12=function(a){var c=b.$6;if(c==null)return;if(c.readyState!==c.OPEN)return;c.send(a.encode())};this.handleMessage=function(a){switch(a.messageType){case h.CONNACK:b.$7!=null&&(g.clearTimeout(b.$7),b.$7=null);if(a instanceof i.ConnAck){var c=a;if(c.returnCode!==0){b.$9.bumpCounter("protocol.error.connack.invalidreturncode");b.setConnected(!1);b.$11(q.CONNACK_FAILURE,c.returnCode);return}g.scheduleCallback(function(){b.$2.onConnectSuccess()});b.$8!=null&&b.$8.reset()}break;case h.PUBLISH:if(a instanceof i.Publish){var d=a;g.scheduleCallback(function(){b.$2.onMessageArrived(d.topic,d.payloadMessage.payloadString)});c=d.messageIdentifier;b.$9.bumpCounter("protocol.publish.received");if(d.qos===1&&c!=null){c=new i.PubAckUnsubAck("PUBACK",c);b.$12(c)}}break;case h.PUBACK:if(a instanceof i.PubAckUnsubAck){c=a;var e=c.messageIdentifier;b.$9.bumpCounter("protocol.puback.received");g.scheduleCallback(function(){b.$2.onMessageDelivered(e)})}break;case h.PINGRESP:b.$8!=null&&b.$8.reset();break;case h.DISCONNECT:b.$11(q.SERVER_DISCONNECT);break;case h.SUBACK:b.$9.bumpCounter("protocol.suback.received");break;case h.UNSUBACK:b.$9.bumpCounter("protocol.unsuback.received");break;default:b.$9.logError(new Error("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");b.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};this.$3=a;this.$2={ignoreSubProtocol:!1,keepAliveInterval:10,mqttVersion:3,onConnectFailure:function(a){},onConnection:function(){},onConnectionError:function(a){},onConnectionLost:function(a){},onConnectSuccess:function(){},onMessageArrived:function(a,b){},onMessageDelivered:function(a){},userName:""};this.$1="mqttwsclient";this.$4=0;this.$5=!1;this.$9=g.getLoggerInstance()}var b=a.prototype;b.connect=function(a){var b=this;if(this.$5)throw new Error("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(g.clearTimeout(this.$7),this.$7=null);this.$7=g.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$11(q.CONNECT_TIMEOUT)},o*1e3);this.$6=g.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$12(new i.Connect(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$11(q.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=m(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=k(a);var c=a.messages;b.$10=a.remaining;for(a=0;a<c.length;a++)b.handleMessage(c[a])}catch(a){b.$10=null,b.$9.logError(a,q.SOCKET_MESSAGE.errorMessage),b.$9.bumpCounter("protocol.error.onmessage.parse"),b.$11(q.SOCKET_MESSAGE)}};this.$6.onerror=function(a){b.$9.bumpCounter("protocol.error.socket"),b.$11(q.SOCKET_ERROR)};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),b.$11(q.SOCKET_CLOSE)};this.$8!=null&&this.$8.cancel();this.$8=new l(a.keepAliveInterval,this.$12.bind(this,new i.Ping("PINGREQ")),this.$11.bind(this,q.PING_TIMEOUT))};b.$13=function(){this.setConnected(!1),this.$8!=null&&this.$8.cancel(),this.$7!=null&&(g.clearTimeout(this.$7),this.$7=null),this.$6!=null&&(this.$6.onopen=function(a){},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(a){},this.$6.readyState===this.$6.OPEN&&this.$6.close(),delete this.$6,this.$6=null),this.$2.onConnectSuccess=function(){},this.$2.onConnectFailure=function(a){},this.$2.onConnection=function(){},this.$2.onConnectionError=function(a){},this.$2.onConnectionLost=function(a){},this.$2.onMessageArrived=function(a,b){},this.$2.onMessageDelivered=function(a){}};b.disconnect=function(){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$13();return}this.$12(new i.Disconnect());this.$9.bumpCounter("protocol.debug.disconnect");this.$11(q.APP_DISCONNECT)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw new Error("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new i.Subscription("SUBSCRIBE",a,0,this.$14());this.$12(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw new Error("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new i.Subscription("UNSUBSCRIBE",a,0,this.$14());this.$12(a)};b.publish=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var d=this.$14();a=new i.Publish(a,j(b),c,d);this.$12(a);return d};b.$14=function(){++this.$4===p&&(this.$4=1);return this.$4};return a}();e.exports=d}),null);
__d("PolarisMqttUserName",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e,f,g){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$8=g,this.$7=typeof document==="object"&&document&&document.hasFocus()}var b=a.prototype;b.gen=function(a,b,c){c={a:navigator.userAgent,aid:this.$5,asi:void 0,chat_on:this.$6,cp:this.$3,ct:"cookie_auth",d:this.$4,dc:"",ecp:this.$2,fg:this.$7,mqtt_sid:"",no_auto_fg:!0,pm:c,s:a,st:b,u:this.$1};this.$8&&this.$8.appSpecificInfo&&(c.asi=this.$8.appSpecificInfo);return JSON.stringify(c)};b.setForegroundState=function(a){this.$7=a};b.setChatVisibility=function(a){this.$6=a};return a}();f["default"]=a}),66);
__d("PolarisMqttConnection",["InstagramODS","PolarisMqttConnectionHookCollection","PolarisMqttEnv","PolarisMqttProtocolClient","PolarisMqttTypes","PolarisMqttUserName","PolarisMqttUtils","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=10,j="publish",k="subscribe",l="unsubscribe";function m(a){}var n=18e4,o=5*1e3,p=15,q=21;a=function(){function a(a){this.$8=!1;this.$10=c("PolarisMqttEnv").Env.getLoggerInstance();this.$11="Disconnected";this.$14=new Set();this.$15=new Map();this.$17=0;this.$18=0;this.$12=0;this.$13=0;this.$8=!1;this.$5="";this.$6=new(c("PolarisMqttUserName"))("0",0,1,"",0,!0);this.$9=0;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$19=new(c("PolarisMqttConnectionHookCollection"))();this.$4=function(){return[]};this.$16=a}var d=a.prototype;d.run=function(a){var b=this,c=a.endpoint,d=a.extraConnectMessageProvider,e=a.mqttUserName,f=a.onJSError,g=a.onMessageReceived,h=a.onStateChange;a=a.subscribedTopics;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=h;this.$3=g;this.$5=c;this.$6=e;this.$8=!0;this.$12=0;this.$2=f||m;a&&a.forEach(function(a){return b.$14.add(a)});this.$4=d;this.$20()};d.shutdown=function(){this.$21(),this.$22("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};d.subscribe=function(a){this.$14.add(a);this.ensureConnected(k)&&this.$23(a);return!0};d.publish=function(a,c,d){var e={reject:function(a){},resolve:function(){}},f=new(h||(h=b("Promise")))(function(a,b){e.resolve=a,e.reject=b}),g=this.ensureConnected(j),i="connection_unknown";if(!g)i="connection_not_connected",e.reject(new Error("Client disconnected"));else{c=this.$24(a,c,d,e);i=c===!0?"connection_published":"connection_failed"}this.$10.eventLogPublish({connectionStatus:g,publishStatus:i,sessionID:this.$9,topic:a});return f};d.unsubscribe=function(a){this.$14["delete"](a);this.ensureConnected(l)&&this.$25(a);return!0};d.addHook=function(a){this.$19.addHook(a)};d.removeHook=function(a){this.$19.removeHook(a)};d.isRunning=function(){return this.$8};d.getSessionId=function(){return this.$9};d.ensureConnected=function(a){if(!this.$8){this.$10.debugTrace("ensureConnected","Mqtt connection: "+a+" called when not running");return!1}if(this.$7==null){this.$10.debugTrace("ensureConnected","Mqtt connection: "+a+" called when not connected, ignored");return!1}var b=this.$7.isConnected();if(!b){this.$10.debugTrace("ensureConnected","Mqtt connection: "+a+" called with client not connected");return!1}return!0};d.connectionState=function(){return this.$11};d.testOnlyGetSubscribedTopics=function(){return this.$14};d.$21=function(){this.$8&&this.$7!=null&&(this.$26("Disconnected"),this.$7!=null&&this.$7.disconnect(),this.$7=null)};d.$26=function(a){a!==this.$11&&(this.$11=a,this.$1(a))};d.$20=function(){var a=this;if(!this.$8)return;this.$26("Connecting");var b=Date.now();this.$9=c("PolarisMqttUtils").generateSessionId();var d=Array.from(this.$14),e=c("PolarisMqttUtils").endpointWithSessionId(this.$5,this.$9);try{this.$7=new(c("PolarisMqttProtocolClient"))(e);var f=this.$27(),g=f.map(function(a){return a.topic});e=this.$6.gen(this.$9,d,f);this.$7!=null&&(this.$7.connect({ignoreSubProtocol:!0,keepAliveInterval:i,mqttVersion:3,onConnectFailure:function(c){return a.$28(c,b,d,g)},onConnection:function(){return a.$29(f,d)},onConnectionError:function(b){return a.$30(b)},onConnectionLost:function(b){return a.$31(b)},onConnectSuccess:function(){return a.$32(b,d,g)},onMessageArrived:function(b,c){return a.$33(b,c)},onMessageDelivered:function(b){return a.$34(b)},userName:e}),c("InstagramODS").incr("web.mqtt.protocol.connectattempt"),this.$19.onConnectAttempt())}catch(a){c("InstagramODS").incr("web.mqtt.js_error_in_init_exception"),this.$26("Disconnected"),this.$35(!1,b,d,[],14,a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$19.onWSFatal(),this.$36(new(c("PolarisMqttTypes").MqttChannelError)(!1,"ws_js_error",a),"client_init")}};d.$27=function(){var a=this.$4(),b=65536;return a.map(function(a){a.messageId=b--;return a})};d.$23=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("#doSubscribe","Subscribing to "+a);this.$19.onSubscribe(a);c("InstagramODS").incr("web.mqtt.protocol.subscribe");return!0}}catch(a){this.$10.logError(a,"Exception subscribing"),c("InstagramODS").incr("web.mqtt.subscribe_exception"),c("InstagramODS").incr("web.mqtt.protocol.subscribe.error")}return!1};d.$25=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("#doUnsubscribe","Unsubscribing to "+a);this.$19.onUnsubscribe(a);c("InstagramODS").incr("web.mqtt.protocol.unsubscribe");return!0}}catch(a){this.$10.logError(a,"Exception unsubscribing"),c("InstagramODS").incr("web.mqtt.unsubscribe_exception"),c("InstagramODS").incr("web.mqtt.protocol.unsubscribe.error")}return!1};d.$24=function(a,b,d,e){if(this.$7!=null)try{b=this.$7.publish(a,b,d);c("InstagramODS").incr("web.mqtt.protocol.publish");var f=b!=null?b:"null";this.$10.debugTrace("#doPublish","publish "+a+" with messageId:"+f+" qos:"+d);this.$19.onPublish(a);b!=null?this.$15.set(b,e):e.resolve();return!0}catch(a){this.$10.logError(a,"Exception publishing");c("InstagramODS").incr("web.mqtt.publish_exception");e.reject(a);c("InstagramODS").incr("web.mqtt.protocol.publish.error");return!1}else return!1};d.$37=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$21();this.$22("reconnect");this.$38();this.$9=-1;this.$13=0;a=a!=null?a:Math.pow(2,Math.min(this.$12,6))*(1e3+c("PolarisMqttEnv").Env.random()*200);this.$10.debugTrace("#scheduleReconnect","Reconnect in "+a+" ms");c("PolarisMqttEnv").Env.setTimeout(function(){b.$20()},a);this.$12+=1};d.$38=function(){if(!c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ws_reconnect_reset))return;var a=Date.now()-this.$13,b=this.$13!==0&&a>o,d=this.$12>p;(b||d)&&(this.$12=0);this.$13!==0&&a<=o&&c("InstagramODS").incr("web.mqtt.short_lived_session");d&&c("InstagramODS").incr("web.mqtt.connection_attempt_limit")};d.$35=function(a,b,c,d,e,f){a===!0?this.$18++:this.$17++,this.$10.eventLogConnect({attemptNumber:this.$12,connectionStatus:a,duration:Date.now()-b,errorCode:e,errorMessage:f,failTotal:this.$17,hostname:this.$5,publishes:d,sessionID:this.$9,subscribedTopics:c,successTotal:this.$18})};d.$28=function(a,b,d,e){var f=a.mqttError,g=f.errorMessage;this.$10.debugTrace("connect","Connect failed "+g);c("InstagramODS").incr("web.mqtt.protocol.onconnectfailure");this.$19.onConnectFailure();this.$35(!1,b,d,e,f.errorCode,g);if(a.connAck!=null){c("InstagramODS").incr("web.mqtt.protocol.connect_failure");if(a.connAck===q){this.$37(n);return}}this.$37()};d.$29=function(a,b){var d=this;c("InstagramODS").incr("web.mqtt.protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$19.onConnected();b.forEach(function(a){d.$19.onSubscribe(a)});a.forEach(function(a){d.$19.onPublish(a.topic)});this.$26("TransportConnected")};d.$32=function(a,b,d){c("InstagramODS").incr("web.mqtt.protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$19.onConnectSuccess(),this.$35(!0,a,b,d),this.$26("Connected"),this.$39(b),c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ws_reconnect_reset)||(this.$12=0),this.$13=Date.now()};d.$31=function(a){c("InstagramODS").incr("web.mqtt.protocol.onconnectionlost"),a.errorCode&&this.$10.eventLogDisconnect({duration:Date.now()-this.$13,errorCode:a.errorCode,errorMessage:a.errorMessage,sessionID:this.$9}),this.$10.debugTrace("connect","connection lost"),this.$19.onConnectionLost(),this.$37()};d.$30=function(a){};d.$33=function(a,b){c("InstagramODS").incr("web.mqtt.protocol.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$19.onMessage(a);try{this.$3(a,b)}catch(a){this.$10.logError(a,"Listener threw error"),c("InstagramODS").incr("web.mqtt.listener_error")}};d.$34=function(a){c("InstagramODS").incr("web.mqtt.protocol.onmessagedelivered");var b=a!=null?a:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+b+"}");if(a==null)return;b=this.$15.get(a);if(b==null)return;this.$15["delete"](a);b.resolve()};d.$22=function(a){this.$15.forEach(function(b,c,d){b.reject(new Error(a))}),this.$15.clear()};d.$39=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$14.has(a)||b.unsubscribe(a)});a=new Set(this.$14);a.forEach(function(a){c.has(a)||b.subscribe(a)})};d.$36=function(a,b){try{c("InstagramODS").incr("web.mqtt.js_error_in_init");var d=a?a.message:"error";this.$10.debugTrace("onError",b+": "+d);this.$2(a)}catch(a){c("InstagramODS").incr("web.mqtt.js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};return a}();g["default"]=a}),98);
__d("PolarisMqttChannel",["FBLogger","InstagramODS","PolarisChannelClientID","PolarisIrisSubscribeChecker","PolarisMqttAnalyticsHook","PolarisMqttConnection","PolarisMqttEnv","PolarisMqttUserName","PolarisMqttUtils","Promise","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=60*1e3;a=function(){function a(a){var b=this,d=a.appId,e=a.capabilities,f=a.chatVisibility;f=f===void 0?!0:f;var g=a.clientCapabilities,h=a.endpoint,i=a.igSpecificOptions,j=a.initialSubscribedTopics,k=a.observer;a=a.userFbid;this.$8=c("PolarisMqttEnv").Env.getLoggerInstance();this.$8.setAppId(d);this.$9=new(c("PolarisMqttUserName"))(a,e,g,c("PolarisChannelClientID").getID(),d,f,i);this.$1=h;this.$5="Disconnected";this.$2=[k];this.$4=new Set();this.$6=new Map();this.$7=new(c("PolarisMqttConnection"))(i);(i==null?void 0:i.deviceId)!=null?this.$3=i.deviceId:this.$3=c("uuidv4")();this.$13=new(c("PolarisMqttAnalyticsHook"))();this.$7.addHook(this.$13);this.$7.addHook(new(c("PolarisIrisSubscribeChecker"))(function(){return b.$4.size>0}));this.$10=!1;this.$12=new Map();this.$11=[];this.$14(j)}var d=a.prototype;d.$14=function(a){var b=this;if(this.$7.isRunning()){this.$15("run","Connection started calling run again");return}if(c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ws_polling_enabled))if(c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ws_forced_polling_only)){this.$15("MqttChannel","Websocket disabled, will do long polling only");return}else if(!c("PolarisMqttUtils").hasWSSupport()){this.$15("MqttChannel","Websocket Unavailable, will do long polling only");c("InstagramODS").incr("web.mqtt.ws_unavailable_polling");return}this.$7.run({endpoint:this.$1,extraConnectMessageProvider:function(){return b.$16()},mqttUserName:this.$9,onJSError:function(a){b.$17(a)},onMessageReceived:function(a,c){b.$18(a,c)},onStateChange:function(a){b.$19(a)},subscribedTopics:a})};d.shutdown=function(){this.$7&&this.$7.shutdown()};d.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return c.qos===0?this.$20(a,b):this.$21(a,b,c)};d.$20=function(a,b){return this.$7.publish(a,b,0)};d.$21=function(a,d,e){var f={reject:function(a){},resolve:function(){}},g=new(h||(h=b("Promise")))(function(a,b){f.resolve=a,f.reject=b}),i=c("PolarisMqttEnv").Env.random();d={ack:f,options:e,payload:d,publishToken:i,timeoutId:null,topic:a};e.skipBuffer?this.$7.connectionState()==="Connecting"?this.$11.push(d):this.$22(d):(d.timeoutId=this.$23(i),this.$12.set(i,d),this.$24(d));return g};d.$22=function(a){c("PolarisMqttUtils").promiseDone(this.$7.publish(a.topic,a.payload,a.options.qos),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};d.$24=function(a){var b=this;c("PolarisMqttUtils").promiseDone(this.$7.publish(a.topic,a.payload,a.options.qos),function(){return b.$25(a)},function(){})};d.subscribe=function(a,b){this.$7.subscribe(a);var c=this.$6.get(a);!c?(c=[b],this.$6.set(a,c)):c.push(b)};d.subscribeChannelEvents=function(a){this.$2.push(a)};d.registerExtraConnectPayloadProvider=function(a){var b=this;this.$4.add(a);if(this.$7.isRunning()){a=a.getPublishMessages();a.forEach(function(a){b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})["catch"](function(a){return b.$8.logError(a,a==null?void 0:a.message)})})}};d.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};d.unsubscribe=function(a){this.$7.unsubscribe(a),this.$6["delete"](a)};d.getConnectionState=function(){return this.$5};d.getEndpoint=function(){return this.$1};d.addHook=function(a){this.$7.addHook(a)};d.removeHook=function(a){this.$7.removeHook(a)};d.testOnlyMessageReceived=function(a,b){this.$18(a,b)};d.$26=function(a){var b=this.$12.get(a);b!=null&&b.timeoutId!=null&&c("PolarisMqttEnv").Env.clearTimeout(b.timeoutId);this.$12["delete"](a)};d.$23=function(a){var b=this;return c("PolarisMqttEnv").Env.setTimeout(function(a){var d=b.$12.get(a);if(!d)return;var e=d.topic;c("InstagramODS").incr("web.mqtt.publish_timeout");b.$8.debugTrace("publish_timeout","Timeout publishing topic: "+e+" publishToken: "+a);b.$26(a);d.ack.reject(new Error("Publish Timed Out"))},i,a)};d.$25=function(a){var b=a.publishToken,d=this.$12.get(b);if(!d)return;this.$26(b);a.ack.resolve();this.$8.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);c("InstagramODS").incr("web.mqtt.publish_success")};d.$18=function(a,b){var d=this.$6.get(a);if(!d)this.$8.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(var a=d,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;try{f(b)}catch(a){this.$8.logError(a,"Listener exception"),c("InstagramODS").incr("web.mqtt.listener_error")}}};d.$17=function(a){if(c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?c("InstagramODS").incr("web.mqtt.recoverable_error_skipped"):c("InstagramODS").incr("web.mqtt.unrecoverable_error_skipped");return}a.isRecoverable?c("InstagramODS").incr("web.mqtt.recoverable_error_not_skipped"):c("InstagramODS").incr("web.mqtt.unrecoverable_error_not_skipped");a.isRecoverable||(this.$10=!0);this.$27(a)};d.$27=function(a){for(var b=this.$2,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onJSError&&e.onJSError(a)}};d.$19=function(a){var b=this;a==="Connecting"?(this.$11.forEach(function(a){a.ack.reject(new Error("Client Reconnecting"))}),this.$11=[]):a==="TransportConnected"&&(this.$11.forEach(function(a){b.$22(a)}),this.$11=[],this.$12.forEach(function(a,c,d){b.$24(a)}));this.$5=this.$28(a);this.$15("_changeState","Connection state = "+a);this.$29()};d.$28=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw c("FBLogger")("ig_web").mustfixThrow("Unknown state "+a)};d.$29=function(){for(var a=this.$2,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.onMQTTStateChanged(this.$5)}};d.$16=function(){var a=this,b=[];this.$4.forEach(function(d){try{d=d.getPublishMessages();Array.prototype.push.apply(b,d)}catch(b){a.$8.logError(b,"ConnectPayload provider exception"),c("InstagramODS").incr("web.mqtt.connectPayloadProvider_error")}});return b};d.$15=function(a,b){this.$8.debugTrace(a,"Mqtt channel: "+b)};d.setForegroundState=function(a){this.$9&&this.$9.setForegroundState(a)};d.setChatVisibility=function(a){this.$9&&this.$9.setChatVisibility(a)};return a}();g["default"]=a}),98);
__d("PolarisMqttLogger",["InstagramODS","PolarisChannelClientID","PolarisDirectLogger","PolarisMqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a="mqtt_client";var h=null,i=new(d("PolarisDirectLogger").DirectLogger)(a,c("PolarisChannelClientID").getID()),j={CLIENT_ERROR:"mqtt_client_error",CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish"};b=function(){a.getInstance=function(){h||(h=new a());return h};function a(){this.$1=0,this.$2=Date.now(),this.$3=c("PolarisChannelClientID").getID()}var b=a.prototype;b.setAppId=function(a){this.$1===0&&(this.$1=a)};b.eventLogConnect=function(a){var b=a.attemptNumber,d=a.connectionStatus,e=a.duration,f=a.errorCode,g=a.errorMessage;a.failTotal;var h=a.hostname,i=a.publishes,k=a.sessionID,l=a.subscribedTopics;a.successTotal;d?c("InstagramODS").incr("web.mqtt.mqtt_client_connect.success"):c("InstagramODS").incr("web.mqtt.mqtt_client_connect.failed");a={attempt_number:b,connection_status:d,device_id:this.$3,duration:e,error_code:f,error_message:g,hostname:h,href:window.location.hostname,logged_in:c("PolarisMqttEnv").Env.isUserLoggedInNow(),publishes:i,session_id:k,subscribed_topics:l};this.$4(j.CONNECT,a)};b.eventLogPull=function(a){var b=a.duration,d=a.errorMessage,e=a.hostname,f=a.pullEventName,g=a.sessionID;a=a.status;a={connection_status:a,device_id:this.$3,duration:b,error_message:d,hostname:e,href:window.location.hostname,logged_in:c("PolarisMqttEnv").Env.isUserLoggedInNow(),session_id:g};this.$4(f,a)};b.eventLogDisconnect=function(a){var b=a.duration,d=a.errorCode,e=a.errorMessage;a=a.sessionID;c("InstagramODS").incr("web.mqtt.mqtt_client_disconnect");b={device_id:this.$3,duration:b,error_code:d,error_message:e,href:window.location.hostname,session_id:a};this.$4(j.DISCONNECT,b)};b.eventLogPublish=function(a){a.connectionStatus;a.publishStatus;a.sessionID;a=a.topic;c("InstagramODS").incr("web.mqtt.mqtt_client_publish");c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.mqtt.mqtt_client_publish."+a)};b.logError=function(a,b){c("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){i.logError(b,a)})};b.eventLogMiscellaneousError=function(a){a=a.errorMessage;a={device_id:this.$3,error_message:a,href:window.location.hostname,logged_in:c("PolarisMqttEnv").Env.isUserLoggedInNow(),time_passed:Date.now()-this.$2};this.$4(j.CLIENT_ERROR,a)};b.logErrorWarn=function(a,b){c("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){i.logError(b,a)})};b.logWarn=function(a,b){};b.debugTrace=function(a,b){c("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){i.debugTrace(a,b)})};b.bumpCounter=function(a){};b.$4=function(a,b){var d=this;c("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){b.event_type=a,b.app_id=d.$1,b.online=d.$5(),i.logDirectEvent(a,b)})};b.$5=function(){return window.navigator&&window.navigator.onLine!==void 0?window.navigator.onLine:!1};return a}();g["default"]=b}),98);
__d("polarisSetTimeoutAcrossTransitions",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return setTimeout.apply(void 0,[a,b].concat(d))}f["default"]=a}),66);
__d("PolarisMqttEnvInitializer",["PolarisConfig","PolarisMqttEnv","PolarisMqttLogger","PolarisWebStorage","polarisSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h="mqtt:";a={initialize:function(){c("PolarisMqttEnv").Env.initialize(null,d("PolarisConfig").isLoggedIn,null,c("polarisSetTimeoutAcrossTransitions"),function(){return c("PolarisMqttLogger").getInstance()},null,null,null,null,function(a,b){var d=c("PolarisWebStorage").getLocalStorage();if(d){d=d.getItem(h+a);if(d!=null)return d}return b},function(a,b){var d=c("PolarisWebStorage").getLocalStorage();d&&(b==null?d.removeItem(h+a):d.setItem(h+a,b))})}};b=a;g["default"]=b}),98);
__d("polarisArraySplitChunks",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=[];for(var d=0;d<a.length;d+=b)c.push(a.slice(d,d+b));return c}f["default"]=a}),66);
__d("polarisNextTick",[],(function(a,b,c,d,e,f){"use strict";process&&typeof process.nextTick==="function"?a=function(a){process.nextTick(a)}:typeof setImmediate==="function"?a=function(a){setImmediate(a)}:typeof window.setTimeout==="function"?a=function(a){window.setTimeout(a,0)}:a=function(a){a()};b=a;f["default"]=b}),66);
__d("polarisForEachAsync",["Promise","polarisNextTick"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,d){return new(h||(h=b("Promise")))(function(b,e){var f=0;if(a.length===0){b();return}function g(){try{d(a[f])}catch(a){e(a);return}f++;f>=a.length?b():c("polarisNextTick")(g)}g()})}g["default"]=a}),98);
__d("PolarisDirectMQTT",["InstagramODS","PolarisCallGatingHelpers","PolarisConfig","PolarisDeviceOrMachineId","PolarisDirectConstants","PolarisDirectDeltaHandlers","PolarisDirectGraphQLSubscription","PolarisDirectIrisSubscription","PolarisDirectLogger","PolarisDirectSkywalkerSubscription","PolarisLiveDeltaHandler","PolarisLocales","PolarisMediaOverlayInfoTypes","PolarisMqttChannel","PolarisMqttEnvInitializer","PolarisReactRedux.react","nullthrows","polarisArraySplitChunks","polarisDeveloperSettings","polarisForEachAsync","polarisGenerateOfflineThreadingId","randomInt"],(function(a,b,c,d,e,f,g){"use strict";var h=20;a=function(){function a(a,b){var e=this;this.$8=0;this.$14=function(a){var b;try{b=JSON.parse(a.substr(0,a.length-1))}catch(a){e.$4.logError("Could not parse mqttMessages",a);return}a=b.payload.header;if(a.type===4&&a.conferenceName.includes("ROOM")){var d,f;d=((d=b.payload.body)==null?void 0:(d=d.ringRequest)==null?void 0:d.ringType)%2===1;f=(f=b.payload.body)==null?void 0:(f=f.ringRequest)==null?void 0:(f=f.appMessages)==null?void 0:f.find(function(a){return a.body.genericMessage.topic==="ring_data"});var g="",h="",i="",j=[];if(f){f=JSON.parse(f==null?void 0:(f=f.body)==null?void 0:(f=f.genericMessage)==null?void 0:f.data);var k=f.display_name,l=f.display_uri,m=f.group_name,n=f.ig_thread_id;f=f.participant_usernames;g=n;i=k;j.push(l);if(m)h=m;else{n=f;try{n=JSON.parse(f)}catch(a){}h=Array.isArray(n)?[k].concat(n).join(", "):k}}e.$6(a.type,a.serverInfoData,g,d,h,j,i);c("InstagramODS").incr("web.rtc.ack_ring_message");e.$15(a.conferenceName,a.sequenceNumber,a.serverInfoData,a.transactionId,a.type,a.conferenceType)}else a.type===5&&a.conferenceName.includes("ROOM")?(e.$6(a.type,a.serverInfoData,"",!1,"",[],""),c("InstagramODS").incr("web.rtc.ack_dismiss_message"),e.$15(a.conferenceName,a.sequenceNumber,a.serverInfoData,a.transactionId,a.type,a.conferenceType)):c("InstagramODS").incr("web.rtc.rtc_message_ignored")};this.$16=function(a){var b=c("nullthrows")(e.$1),f;try{f=JSON.parse(a)}catch(a){e.$4.logError("Could not parse mqttMessages",a);return}if(!Array.isArray(f)){e.$4.debugTrace("parsed_message_not_array",typeof f);return}c("polarisForEachAsync")(c("polarisArraySplitChunks")(f,h),function(a){d("PolarisReactRedux.react").batch(function(){for(var c=a,d=Array.isArray(c),f=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(d){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;var h=g.data,i=g.event,j=g.mutation_token;g=g.seq_id;e.$4.debugTrace("parsed_message",{event:i,mutation_token:j});if(i!=="patch"){e.$4.debugTrace("skipped_message",{event:i});return}if(!Array.isArray(h)){e.$4.debugTrace("parsed_message_bad_operations",typeof h);return}for(var i=h,h=Array.isArray(i),k=0,i=h?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(h){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}l=l;b.handleDelta(l,j)}if(g){l=e.$2.subscription_type;e.$4.debugTrace("seq_id",{seq_id:g,subscriptionType:l});l==="message"&&b.onSeqIdUpdated(g)}}})})};this.$17=function(a){try{a=JSON.parse(a);if(a.status==="ok"){var b;(a==null?void 0:(b=a.payload)==null?void 0:b.activity_status)==null?e.$4.logDirectEvent("send_message_response_success"):e.$4.logDirectEvent("send_activity_response_success")}else{(a==null?void 0:(b=a.payload)==null?void 0:b.activity_status)==null?e.$4.logError("send_message_response_failed"):e.$4.logDirectEvent("send_activity_response_failed")}}catch(a){e.$4.logError("send_message_response_parse_failed",a)}};this.$18=function(a){e.$4.debugTrace("state_changed",a);var b=c("nullthrows")(e.$1);if(a==="Connected"){var f=c("nullthrows")(e.$5);f.subscribe("/ig_message_sync",e.$16);f.subscribe("/ig_send_message_response",e.$17);d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&!d("PolarisCallGatingHelpers").isZenonIncomingRingEnabled()&&f.subscribe("/pubsub",e.$14);e.$3||(e.$3=new(d("PolarisDirectIrisSubscription").DirectIrisSubscription)(b,e.$2,f,e.$4.getDebugId()));e.$3.subscribe();e.$10||(e.$10=new(d("PolarisDirectGraphQLSubscription").DirectGraphQLSubscription)(b,f,e.$4.getDebugId()));e.$2.subscription_type==="message"?(e.$9||(e.$9=new(d("PolarisDirectSkywalkerSubscription").DirectSkywalkerSubscription)(b,f,e.$4.getDebugId())),e.$9.subscribe()):e.$4.debugTrace("skip_skywalker",e.$2);e.$10&&e.$10.subscribe()}else if(a==="Disconnected"){e.$3&&(e.$3.unsubscribe(),e.$3=null);e.$9&&(e.$9.unsubscribe(),e.$9=null);e.$10&&(e.$10.unsubscribeGraphQL(),e.$10=null);f=e.$5;f&&(f.unsubscribe("/ig_message_sync"),f.unsubscribe("/ig_send_message_response"),d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&!d("PolarisCallGatingHelpers").isZenonIncomingRingEnabled()&&f.unsubscribe("/pubsub"))}b.onMqttConnectivityChanged(a)};this.$4=new(d("PolarisDirectLogger").DirectLogger)("DirectMQTT",b);this.$4.debugTrace("ctor",a);this.$1=null;this.$2=a;this.$3=null;this.$5=null;this.$9=null;this.$10=null}var b=a.prototype;b.$11=function(){return c("nullthrows")(d("PolarisConfig").getViewerId())};b.$12=function(){return parseInt(d("PolarisConfig").getIGAppID(),10)};b.$13=function(){return d("PolarisDeviceOrMachineId").getDeviceOrMachineId()};b.$15=function(a,b,d,e,f,g){var h=this;if(this.$7==null){var i=c("randomInt")(0,4294967294)+1;this.$7=String(i)}i={endpoint:{appId:this.$12(),deviceId:this.$13(),userId:this.$11()},jsonPayload:{body:{ringResponse:{deviceCapabilities:[],deviceStatus:0}},header:{clientSessionId:this.$7,clientStack:5,conferenceName:a,conferenceType:g,messageTags:[],responseStatusCode:200,retryCount:0,sequenceNumber:b,serverInfoData:d,transactionId:e,type:f}}};c("nullthrows")(this.$5).publish("/rtc_multi",JSON.stringify(i))["catch"](function(a){var b;f===4?c("InstagramODS").incr("web.rtc.ack_ring_message_failed"):f===5?c("InstagramODS").incr("web.rtc.ack_dismiss_message_failed"):c("InstagramODS").incr("web.rtc.ack_message_failed");b=(b=(b=h.$5)==null?void 0:b.getConnectionState())!=null?b:"Unknown";h.$4.logError("ack_rtc_message_failed",a,{conference_type:g,message_type:f,mqtt_state:b});throw a})};b.$19=function(a){var b=this;this.$4.logDirectEvent("send_attempt",{action:a.action,type:a.item_type||""});return c("nullthrows")(this.$5).publish("/ig_send_message",JSON.stringify(babelHelpers["extends"]({client_context:c("polarisGenerateOfflineThreadingId")(),device_id:this.$13()},a)))["catch"](function(a){b.$4.logError("send_message_failed",a);throw a})};b.sendRtcHangupRequest=function(a){var b=this;a={endpoint:{appId:this.$12(),deviceId:this.$13(),userId:this.$11()},jsonPayload:{body:{hangupRequest:{detailedReasonString:"",reason:0}},header:{clientSessionId:this.$7,clientStack:5,messageTags:[],retryCount:0,sequenceNumber:this.$8++,serverInfoData:a,transactionId:String(c("randomInt")(0,4294967294)+1),type:2}}};return c("nullthrows")(this.$5).publish("/rtc_multi",JSON.stringify(a))["catch"](function(a){b.$4.logError("send_rtc_hangup_message_failed",a);throw a})};b.sendTextMessage=function(a,b,c,e,f){return this.$19({action:"send_item",item_type:d("PolarisDirectConstants").ThreadItemType.TEXT,mutation_token:c,replied_to_client_context:f,replied_to_item_id:e,text:b,thread_id:a})};b.sendMediaShare=function(a,b,c,e){var f=d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE;e==="clips"&&(f=d("PolarisDirectConstants").ThreadItemType.CLIP_SHARE);return(c==null?void 0:c.overlay_layout)===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_LAYOUTS.MEDIA_COVER||(c==null?void 0:c.overlay_layout)===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_LAYOUTS.MEDIA_COVER_WITH_BOTTOM_BANNER?this.$19({action:"send_item",item_type:f,media_id:b,share_treatment_title:d("PolarisDirectConstants").InformTreatmentTitleValues.FALLBACK,share_treatment_type:d("PolarisDirectConstants").InformTreatmentTypeValues.WARNING_SCREENS,thread_id:a}):this.$19({action:"send_item",item_type:f,media_id:b,thread_id:a})};b.sendLike=function(a,b){return this.$19({action:"send_item",item_type:d("PolarisDirectConstants").ThreadItemType.LIKE,mutation_token:b,thread_id:a})};b.indicateTypingActivity=function(a,b){return this.$19({action:"indicate_activity",activity_status:a,thread_id:b})};b.markVisualItemSeen=function(a,b){return this.$19({action:"mark_visual_item_seen",item_ids:JSON.stringify([a]),target_item_type:"voice_media",thread_id:b})};b.modifyLikeReaction=function(a,b,c,d,e){return this.$19({action:"send_item",emoji:(e=e)!=null?e:"",item_id:a,item_type:"reaction",node_type:"item",reaction_status:d,reaction_type:"like",target_item_type:b,thread_id:c})};b.disconnect=function(){this.$4.debugTrace("disconnect_start"),this.$3?(this.$4.debugTrace("unsubscribe_iris"),c("nullthrows")(this.$3).unsubscribe(),this.$3=null):this.$4.debugTrace("no_iris"),this.$9?(this.$4.debugTrace("unsubscribe_skywalker"),this.$9=null):this.$4.debugTrace("no_skywalker"),this.$10?(this.$4.debugTrace("unsubscribe_graphql"),this.$10=null):this.$4.debugTrace("no_graphql"),this.$5?(this.$4.debugTrace("shutdown_channel"),c("nullthrows")(this.$5).shutdown(),this.$5=null):this.$4.debugTrace("no_channel"),this.$1&&(this.$1=null),this.$4.debugTrace("disconnect_end")};b.connect=function(a,b){var e=this;this.$4.debugTrace("connect_start");this.disconnect();this.$1=new(d("PolarisDirectDeltaHandlers").DirectDeltaHandlers)(a,this.$4.getDebugId());this.$6=b;a={onJSError:function(a){e.$4.logError("mqtt_js_error",a)},onMQTTStateChanged:this.$18};b={appSpecificInfo:{},deviceId:this.$13()};var f=c("PolarisLocales").language_code;f!=null&&(b.appSpecificInfo["Accept-Language"]=f);c("PolarisMqttEnvInitializer").initialize();f={appId:this.$12(),capabilities:0,chatVisibility:!0,clientCapabilities:1,endpoint:d("PolarisDirectConstants").PROD_MQTT_GATEWAY,igSpecificOptions:b,initialSubscribedTopics:[],observer:a,userFbid:this.$11()};this.$5=new(c("PolarisMqttChannel"))(f);this.$4.debugTrace("connect_end")};b.subscribeToLiveEvent=function(a,b,d){var e=this.$10;if(e==null)return;b=new(c("PolarisLiveDeltaHandler"))(b);e.enableLiveEventHandler(a,b,d);e.subscribe()};b.unsubscribeToLiveEvent=function(a){var b=this.$10;if(b==null)return;b.disableLiveEventHandler(a);b.subscribe()};b.getLogger=function(){return this.$4};return a}();g.DirectMQTT=a}),98);/*FB_PKG_DELIM*/
__d("IGDSCommentPanoFilledIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M20.656 17.008a9.993 9.993 0 1 0-3.59 3.615L22 22Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSSaveFilledIcon.react",["IGDSSavePanoFilledIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c("IGDSSavePanoFilledIcon.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=d):d=b[1];return d}b=j.memo(a);g["default"]=b}),98);
__d("XPlatReactCrypto",["err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h=self.crypto)==null?void 0:h.subtle;function a(a){var b;if(typeof ((b=self.crypto)==null?void 0:b.getRandomValues)!=="function")throw c("err")("crypto.getRandomValues: Not implemented");self.crypto.getRandomValues(a);return a}function b(){var a;if(typeof ((a=self.crypto)==null?void 0:a.randomUUID)!=="function")return null;a=self.crypto.randomUUID();return typeof a==="string"?a:null}function d(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.importKey: Not implemented");return i.importKey(a,b,d,e,f)}function e(a,b){if(i==null)throw c("err")("crypto.subtle.exportKey: Not implemented");return i.exportKey(a,b)}function f(a,b,d){if(i==null)throw c("err")("crypto.subtle.generateKey: Not implemented");return i.generateKey(a,b,d)}function j(a,b,d){if(i==null)throw c("err")("crypto.subtle.encrypt: Not implemented");return i.encrypt(a,b,d)}function k(a,b,d){if(i==null)throw c("err")("crypto.subtle.decrypt: Not implemented");return i.decrypt(a,b,d)}function l(a,b,d){if(i==null)throw c("err")("crypto.subtle.sign: Not implemented");return i.sign(a,b,d)}function m(a,b){if(i==null)throw c("err")("crypto.subtle.digest: Not implemented");return i.digest(a,b)}function n(a,b,d){if(i==null)throw c("err")("crypto.subtle.deriveBits: Not implemented");return i.deriveBits(a,b,d)}function o(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.deriveKey: Not implemented");return i.deriveKey(a,b,d,e,f)}g.getRandomValues=a;g.randomUUID=b;g.subtleImportKey=d;g.subtleExportKey=e;g.subtleGenerateKey=f;g.subtleEncrypt=j;g.subtleDecrypt=k;g.subtleSign=l;g.subtleDigest=m;g.subtleDeriveBits=n;g.subtleDeriveKey=o}),98);
__d("LSInt64Lite",["FBLogger","I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a={add:(h||(h=d("I64"))).add,and_:h.and_,asr_:h.asr_,cast:function(a){a._tag="i64";return a},div:h.div,eq:function(a,b){return a==null&&b==null||a!=null&&b!=null&&(h||(h=d("I64"))).equal(a,b)},from_string:function(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){throw c("FBLogger")("messenger_comet").mustfixThrow('Unable to cast "%s" to int64',a)}},ge:h.ge,gt:h.gt,le:h.le,lsl_:h.lsl_,lsr_:h.lsr_,lt:h.lt,max:h.max,min:h.min,mod_:h.mod_,mul:h.mul,neq:function(a,b){return a==null&&b!=null||a!=null&&b==null||a!=null&&b!=null&&!(h||(h=d("I64"))).equal(a,b)},of_float:h.of_float,of_int32:h.of_int32,or_:h.or_,random:function(){var a=Array.from(d("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(h||(h=d("I64"))).add(h.lsl_(h.of_float(a[0]),32),h.of_float(a[1]))},sub:h.sub,to_float:h.to_float,to_int32:h.to_int32,to_string:function(a){return a==null?a:(h||(h=d("I64"))).to_string(a)},xor:h.xor};g["default"]=a}),98);
__d("LSIterationHelpers",["FBLogger","I64","ReStoreKeyComparer","ReStoreVaulting","gkx","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set(["messages","attachments","reactions"]);function k(a){return j.has(a)}function l(a){for(var b of Object.keys(a))a[b]===void 0&&delete a[b];return a}function m(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=async function(){var a=await e.next();outer:while(!a.done){var f=async function(f){var g=b[f]||{},i=g.end;g=g.start;var j=a.value[0],k=j.slice(0,f);if(g){var l=(h||(h=d("ReStoreKeyComparer"))).compareValue(j[f],g[0]);if(l*(c==="asc"?1:-1)<g[1]){if(f===j.length-1&&l===0)a=await e.next();else{l=[].concat(k,[g[0]],g[1]&&c==="asc"||!g[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);a=await e.next(l)}if(a.done)return{v:{done:!0}};j=a.value[0];if(!k.every(function(b,a){return(h||(h=d("ReStoreKeyComparer"))).compareValue(b,j[a])===0}))return"continue|outer"}}if(i&&(h||(h=d("ReStoreKeyComparer"))).compareValue(i[0],j[f])*(c==="asc"?1:-1)<i[1]){a=await e.next([].concat(j.slice(0,f),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]));return"continue|outer"}};for(var g=0;g<b.length;g++){var i=await f(g);switch(i){case"continue|outer":continue outer;default:if(typeof i==="object")return i.v}}break}return a},a}return f()}function n(a,b,c,d,e){return{delete:function(){return c.delete.apply(c,a)},item:b,update:function(f){var g=k(d.name)&&e?{transportKey:"FBBroker"}:{};return c.upsert(a,l(babelHelpers.extends({},b,f,g)))}}}function o(a,b){return p.apply(this,arguments)}function p(){p=babelHelpers.wrapAsyncGenerator(function*(a,b){var c=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(a.next()));c=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return p.apply(this,arguments)}function q(a,b,c){return r.apply(this,arguments)}function r(){r=babelHelpers.wrapAsyncGenerator(function*(a,b,c){var e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!e.done&&!f.done){var g=(h||(h=d("ReStoreKeyComparer"))).compareKey(e.value[0],f.value[0]);g===0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()))):g*(c==="asc"?1:-1)<0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()))):(yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next())))}while(!e.done)yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!f.done)yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return r.apply(this,arguments)}function a(a,b,e,f,g,h,j,l){var p=new Set(),r=a.length>1,s=a.length===1&&a[0][1]==null,t=a.map(function(a){var c=a[0],i=a[1];return c.map(function(a){f.key_lookup===!0&&a.length!==0;f.table_scan===!0&&a.length===0;var c=a.map(function(a){return h(a,b)});a=c.length===(i==null?e.primaryKeyIds:e.indexes[i]).length&&c.every(function(a){var b=a.end;a=a.start;return a&&b&&a[0]===b[0]&&a[1]===0&&b[1]===0});if(a){a=function a(){var b,f=!1;return b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=a,b.next=async function(){var a;if(f)return{done:!0};f=!0;var b=c.map(function(a){a=a.start;return a[0]});a=await (a=i==null?g:g.index(i)).get.apply(a,b);if(!a)return{done:!0};a=d("ReStoreVaulting").maybeUnvaultDbRow(a,e.name);return{done:!1,value:[b,a]}},b};return a()}return m(i==null?g:g.index(i),c,b)})}).flat().reduce(function(c,d){return a.length>1?o(c,d):q(c,d,b)});function u(){var b;return b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=u,b.next=async function(){var b,f,h,m=await t.next(),o;while(!m.done){var q=m.value;f=q[0];h=q[1];b=s?f:e.primaryKeyIds.map(function(a){return h[a]});if(k(e.name)&&j&&h!=null&&h.transportKey!=="FBBroker"&&c("gkx")("820")){o=m;m=await t.next();continue}if(r){q=JSON.stringify(b);if(p.has(q)){m=await t.next();continue}p.add(q)}break}if(o!=null){f=o.value[1].transportKey;if(c("gkx")("731")){c("recoverableViolation")("Invalid client side data access from sproc: "+l,"messenger_web_product");return}if(l==="LSRefreshLastActivityTimestamp"){q="";try{q=(i||(i=d("I64"))).to_string(o.value[1].threadKey)}catch(a){}c("FBLogger")("messenger_web_product").warn('Expected transportKey to equal ("FBBroker") in %s, provided transportKey: %s, providedPattern: %s, threadKeyOfMessage: %s',l,f,JSON.stringify(a),q)}else c("FBLogger")("messenger_web_product").warn('Expected transportKey to equal ("FBBroker") in %s, provided transportKey: %s',l,f)}return m.done||b==null||h==null?{done:!0}:{done:!1,value:n(b,h,g,e,j)}},b}return u()}g.isTranportKeyEnforcedTable=k;g.stripUndefinedProperties=l;g.fetch=a}),98);
__d("LSIterationOperations",["FBLogger","I64","LSDict","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return j(a,b)},c.next=async function(){var c=await a.next();while(!c.done&&!await b(c.value.item))c=await a.next();return c},c}function k(a,b,d){var e,f=0;return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return k(a,b,d)},e.next=async function(){while(f<b){var e=await a.next();e=e.done;if(e){c("FBLogger")("messenger_web_product").info("not enough iterable values to slice from %d",b);return{done:!0}}f++}if(f<d){f++;return a.next()}return{done:!0}},e}async function a(a,b){var c=await a.next(),d=[];while(!c.done)d.push(c.value),c=await a.next();for(c of d)await b(c)}async function l(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function b(a,b,c){c===void 0&&(c=[]);var e={ASC:1,DESC:-1},f=function(a,c){a=a.item;c=c.item;for(var f=0;f<b.length;f++){var g=b[f];g=g[0];var i=a[g];g=c[g];var j;i==null&&g==null?j=0:i==null&&g!=null?j=-1:i!=null&&g==null?j=1:j=(h||(h=d("ReStoreKeyComparer"))).compareValue(i,g);if(j===0)continue;return j*e[b[f][1]]}return 0},g=function(){var b=babelHelpers.wrapAsyncGenerator(function*(){var b=(yield babelHelpers.awaitAsyncGenerator(a.next())),e,g=[];while(!b.done){var i=[];for(var j=c.length-1;j>=0;j--)i.push(b.value.item[c[j]]);if(e!=null&&(h||(h=d("ReStoreKeyComparer"))).compareKey(e,i)!==0){for(j of g.sort(f))yield j;g=[]}b.done||g.push(b.value);e=i;b=(yield babelHelpers.awaitAsyncGenerator(a.next()))}if(g.length)for(j of g.sort(f))yield j});return function(){return b.apply(this,arguments)}}();return g()}async function e(a){var b=0,c=await a.next();while(!c.done)b++,c=await a.next();return(i||(i=d("I64"))).of_int32(b)}function f(a,b){return{forEach:async function(e){var f=await l(a);f=f.reduce(function(c,d){d=d.item[b];var a=(c.get(d)||0)+1;return c.set(d,a)},new(c("LSDict"))());for(f of f.entries()){var g,h=f[0],j=f[1];await e((g={},g[b]=h,g.group_count=(i||(i=d("I64"))).of_int32(j),g))}}}}g.filter=j;g.slice=k;g.forEach=a;g.toArray=l;g.sortBy=b;g.count=e;g.groupBy=f}),98);
__d("XPlatReactTextDecoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextDecoder;f.TextDecoder=a}),66);
__d("XPlatReactTextEncoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextEncoder;f.TextEncoder=a}),66);
__d("base64Binary",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b="";for(var c=0;c<a.byteLength;c+=3){var d=a.subarray(c,c+3);b+=k(d)}d=(a.byteLength+2)%3;return b.slice(0,b.length+d-2)+"==".slice(d)}function b(a){var b;a.length%4===0||h(0,51156);var c=a.length/4;b=(b=(b=a.match(/={0,2}$/))==null?void 0:b[0].length)!=null?b:0;b=new Uint8Array(c*3-b);for(var d=0;d<c;d++){var e=l(a.slice(d*4,d*4+4));b.set(e.subarray(0,b.byteLength-d*3),d*3)}return b}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=">___?456789:;<=___\0___\0\x01\x02\x03\x04\x05\x06\x07\b\t\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19______\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123";function k(a){var b;a=a[0]<<16|((b=a[1])!=null?b:0)<<8|((b=a[2])!=null?b:0);return String.fromCharCode(i.charCodeAt(a>>>18),i.charCodeAt(a>>>12&63),i.charCodeAt(a>>>6&63),i.charCodeAt(a&63))}function l(a){a=j.charCodeAt(a.charCodeAt(0)-43)<<18|j.charCodeAt(a.charCodeAt(1)-43)<<12|j.charCodeAt(a.charCodeAt(2)-43)<<6|j.charCodeAt(a.charCodeAt(3)-43);return new Uint8Array([a>>>16,a>>>8&255,a&255])}g.encode=a;g.decode=b}),98);
__d("LS",["FBLogger","I64","LSDict","LSInt64Lite","LSIterationHelpers","LSIterationOperations","LSJson","LSVec","MessengerLogHistory","MetaConfig","ODS","ReStoreKeyComparer","XPlatReactTextDecoder","XPlatReactTextEncoder","base64Binary","cr:1088","cr:4790","emptyFunction","gkx","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);n=function(){return a};return a}var o="LS_WEB";function p(a){return a.name.match(/secure_|inbox(?!_)/i)}var q=d("MessengerLogHistory").getInstance("ls");function r(a){return d("base64Binary").decode(a).buffer}var s={compareTo:function(a,b){a=new Uint8Array(a);b=new Uint8Array(b);var c=Math.min(a.length,b.length);for(var d=0;d<c;d++){var e=a[d]-b[d];if(e!==0)return e}return a.length===b.length?0:a.length-b.length},eq:function(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;a=new Uint8Array(a);b=new Uint8Array(b);if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},ge:function(a,b){return s.compareTo(a,b)>=0},gt:function(a,b){return s.compareTo(a,b)>0},le:function(a,b){return s.compareTo(a,b)<=0},lt:function(a,b){return s.compareTo(a,b)<0},neq:function(a,b){return!s.eq(a,b)},of_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextEncoder").TextEncoder)();return b.encode(a).buffer},to_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextDecoder").TextDecoder)();return b.decode(a)}};function t(a){if(a.length!==1)throw c("unrecoverableViolation")("only literal strings supported","messenger_web_product");a=a[0];var b=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return(h||(h=d("I64"))).mk((b>>>1)+(a&1)*2147483648^-(b&1),a>>>1^-(b&1))}function u(a,b){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(b==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");e=[a.gte,0]}}return{end:e,start:d}}return{end:[a,0],start:[a,0]}}function v(a,b,e,f,g){var h=a[b.name];return{add:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker"),await h.add(a)},fetch:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"asc",b,e,h,u,g,f.join(", "))},fetchDesc:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"desc",b,e,h,u,g,f.join(", "))},peekNextAutoIncrementId:function(){return h.peekNextAutoIncrementId()},put:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker");var e=b.primaryKeyIds.map(function(b){if(a[b]!==void 0)return a[b];throw c("unrecoverableViolation")("primary key must be defined on object","messenger_web_product")});await h.delete.apply(h,e);await h.add(d("LSIterationHelpers").stripUndefinedProperties(babelHelpers.extends({},a)))}}}function w(a,b,d,e,f,g){return{table:function(h){h=d.tableNames[d.tableIds[h]];if(b===0&&p(h))throw c("unrecoverableViolation")("cannot access secure table from dynamic mode","messenger_web_product");return v(a,h,e,f,g)}}}function x(a){var b="unknown_sproc";a=a.displayName;var c=/\[from (.*)\]/;c=c.exec(a);c!=null&&(b=c[1]);return b}var y=function(){var a=0;function d(d){var e=d.args,f=d.shouldLog;d=d.sprocName;b("cr:1088")==null?void 0:b("cr:1088").logStoredProcedureCall(d,e);if(!f||!b("cr:4790"))return;e=++a;b("cr:4790").markerStart(c("qpl")._(25302991,"143"),e);b("cr:4790").markerAnnotate(c("qpl")._(25302991,"143"),{string:{name:d}},{instanceKey:e});return e}function e(a,d,e){a=a.shouldLog;if(!a||d==null)return;b("cr:4790")==null?void 0:b("cr:4790").markerEnd(c("qpl")._(25302991,"143"),e,d)}function f(a){return c("gkx")("26381")?Math.random()*c("MetaConfig")._("10")<1:!1}return{call:d,logSprocDone:e,shouldLogSproc:f}}();function z(a,b,c){b=(h||(h=d("I64"))).to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function A(a,b,c){b=(h||(h=d("I64"))).to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function B(a,b,e,f,g,h,p,v,C){p===void 0&&(p={});v===void 0&&(v=void 0);var D=[],E=w(h,a,b,p,D,C),F=async function(b,d){var f;if(typeof d==="string"){f=e[d.toString()];if(f==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native type op with type: "+b+" and id: "+d,"messenger_web_product");f.load&&(f=await f.load());f=f.call}else f=d.call;for(var g=arguments.length,i=new Array(g>2?g-2:0),j=2;j<g;j++)i[j-2]=arguments[j];return f.apply(void 0,[h,a].concat(i))},G=async function(b){var d;if(typeof b==="string"){d=e[b+".bs"]||e[b+".nop"];if(d==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native op with id: "+b,"messenger_web_product");d.load&&(d=await d.load());d=d}else d=b;try{for(var f=arguments.length,g=new Array(f>1?f-1:0),i=1;i<f;i++)g[i-1]=arguments[i];return d.apply(void 0,[h,a].concat(g))}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(o,"NATIVE_OP_ID",b.toString()).warn("Native operation %s failed",b.toString());throw a}},H=function(a){return a.slice(1).reduce(function(a,b){return a.then(b)},a[0]())},I=function(a,b){return a.slice(b)};return{Map:c("LSDict"),blob:r,blobs:s,constructor:{n:t},count:d("LSIterationOperations").count,createArray:function(){return c("LSVec").ofArray([])},createArrayWithElements:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c("LSVec").ofArray(b)},ct:d("LSIterationOperations").count,db:E,fe:d("LSIterationOperations").forEach,filter:d("LSIterationOperations").filter,forEach:d("LSIterationOperations").forEach,ftr:d("LSIterationOperations").filter,gb:d("LSIterationOperations").groupBy,groupBy:d("LSIterationOperations").groupBy,i64:c("LSInt64Lite"),islc:d("LSIterationOperations").slice,like:function(a,b){b=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(b).test(a)},localize:function(a,b){return z(f,a,b)},localizeAsync:function(a,b){return Promise.resolve(z(f,a,b))},localizeV2:function(a,b){return A(g,a,b)},localizeV2Async:function(a,b){return Promise.resolve(A(g,a,b))},logger:function(a){if(v)return{debug:v,info:v,mustfix:v,warn:v};var b=c("FBLogger")("messenger_web_product");if(a.startsWith("epoch mismatch")||a.startsWith("cursor mismatch")){a=function(a){q.error(a,"error");a=a!=null?a.replace(/[\s,]+/g,"_"):"epoch_or_cursor_mismatch";(i||(i=d("ODS"))).bumpEntityKey(3185,"lsplatform",a)};return{debug:function(a){return q.debug(a)},info:function(a){return q.debug(a)},mustfix:a,warn:a}}else{c("gkx")("26382")||(b.info=c("emptyFunction"));return b}},loopAsync:function(a,b){function d(e){var f;return c("LSInt64Lite").lt(e,a)?b(e).then(function(){return d(c("LSInt64Lite").add(e,t(n())))}):((f=self.Promise)!=null?f:Promise).resolve()}return d(t(m()))},loopSync:function(a,b){for(var d=t(l());c("LSInt64Lite").lt(d,a);d=c("LSInt64Lite").add(d,t(k())))b(d)},merge:function(){function a(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue(a,b)>0?a:b}function b(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue([a[0],-a[1]],[b[0],-b[1]])<0?a:b}for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];var g=e.reduce(function(c,d){d=u(d,"asc");return{end:c.end&&d.end?b(d.end,c.end):d.end||c.end,start:c.start&&d.start?a(d.start,c.start):d.start||c.start}},{});return babelHelpers.extends({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:t,nativeOperation:G,nativeTypeOperation:F,nop:G,notnull:function(a){if(a===null)throw c("unrecoverableViolation")("value should not be null","messenger_web_product");return a},ntop:F,print:function(a){},resolve:function(a){var b;return((b=self.Promise)!=null?b:Promise).resolve(a)},rm:c("LSInt64Lite").of_int32(a),sb:d("LSIterationOperations").sortBy,seq:H,sequence:H,slc:I,slice:I,sortBy:d("LSIterationOperations").sortBy,sp:async function(d){for(var i=arguments.length,j=new Array(i>1?i-1:0),k=1;k<i;k++)j[k-1]=arguments[k];var l;if(typeof d==="string"){l=e[d];if(l==null)throw c("unrecoverableViolation")("Attempted to call unimplemented stored procedure with id: "+d,"messenger_web_product");l.load&&(l=await l.load())}else l=d;var m=this;switch(a){case 0:m=B(2,b,e,f,g,h,p,v,C);break;case 2:m=B(1,b,e,f,g,h,p,v,C);break}var n=x(l),q=y.shouldLogSproc(n),r={args:j,shouldLog:q,sprocName:n};D.push(n);var s;try{s=y.call(r);var t=await l.apply(void 0,j.concat([m]));y.logSprocDone(r,s,2);return t}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(o,"SPROC_STACK",D.join("\n")).warn("Sproc %s failed",d);y.logSprocDone(r,s,3);throw a}finally{D.pop()}},storedProcedure:async function(d){for(var i=arguments.length,j=new Array(i>1?i-1:0),k=1;k<i;k++)j[k-1]=arguments[k];var l;if(typeof d==="string"){l=e[d];if(l==null)throw c("unrecoverableViolation")("Attempted to call unimplemented stored procedure with id: "+d,"messenger_web_product");l.load&&(l=await l.load())}else l=d;var m=this;switch(a){case 0:m=B(2,b,e,f,g,h,p,v,C);break;case 2:m=B(1,b,e,f,g,h,p,v,C);break}var n=x(l),q=y.shouldLogSproc(n),r={args:j,shouldLog:q,sprocName:n};D.push(n);var s;try{s=y.call(r);var t=await l.apply(void 0,j.concat([m]));y.logSprocDone(r,s,2);return t}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(o,"SPROC_STACK",D.join("\n")).warn("Sproc %s failed",d);y.logSprocDone(r,s,3);throw a}finally{D.pop()}},ta:d("LSIterationOperations").toArray,throw:function(a){throw c("unrecoverableViolation")(a,"messenger_comet")},toArray:d("LSIterationOperations").toArray,toJSON:function(a){return d("LSJson").stringify(a)}}}B.n=t;g.default=B}),98);
__d("LSAuthorityLevel",[],(function(a,b,c,d,e,f){a=Object.freeze({OPTIMISTIC:20,CLIENT_PARTIAL:40,SERVER_PARTIAL:60,AUTHORITATIVE_PENDING_REPLACEMENT:75,AUTHORITATIVE:80,CLIENT_AUTHORITATIVE_DELETE:100});f["default"]=a}),66);
__d("LSClientDependencies",[],(function(a,b,c,d,e,f){}),null);
__d("LSDeleteAllCommunityChannelCategories",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(182).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,20])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSDeleteAllCommunityFolders",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(162).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,17])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSDeleteThenInsertCmCommunityList",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(166).put({communityId:a[0]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSDeleteThenInsertCommunityFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.filter(b.db.table(162).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.folderId,a[0])&&b.i64.gt(b.i64.cast([0,80]),a[52])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(162).put({folderId:a[0],fbGroupId:a[1],name:a[2],memberCount:a[4],description:a[3],pictureUrl:a[5],pictureUrlFallback:a[6],pictureUrlExpirationTimestampMs:a[7],joiningChannelTaskId:a[8],afterJoiningOpenChannelId:a[10],capabilities:a[11],capabilities2:a[12],capabilities3:a[13],notificationSetting:a[14],notificationMutedUntil:a[15],sendsBlockedUntil:a[17],isHidden:a[18],hasSeenDisablingAlert:a[19],inviteLink:a[21],communityType:a[22],directInviteLink:a[23],enableState:a[24],takedownState:a[25],fbGroupType:a[28],threadCount:a[29],disableTimestamp:a[32],readTimestampMs:a[33],inviteStatus:a[37],blockedFromCommunityMemberCount:a[40],categoryCount:a[41],snippetText:a[42],coverPicUrl:a[43],coverPicUrlFallback:a[44],coverPicUrlExpirationTimestampMs:a[45],invitedThreadId:a[47],fbGroupUserParticipationApprovalStatus:a[48],ccAdminAssistRegistrationStatus:a[49],pauseStatus:a[50],isMember:a[51]}):0})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSSetThreadImageURL",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadPictureUrl:a[1]===""?void 0:a[1],threadPictureUrlFallback:a[2],threadPictureUrlExpirationTimestampMs:a[3],isCustomThreadPicture:a[4],shouldRoundThreadPicture:a[5]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSDeleteThenInsertContact",["LSSetThreadImageURL"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.i64.eq(a[23],c.i64.cast([0,39423]))?d[0]=c.i64.cast([0,1]):(c.i64.eq(a[23],c.i64.cast([0,14342874]))?d[1]=c.i64.cast([0,2]):d[1]=void 0,d[0]=d[1]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.gt(b.authorityLevel,a[21])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(7).put({id:a[0],profilePictureUrl:a[2],profilePictureFallbackUrl:a[3],profilePictureUrlExpirationTimestampMs:a[4],profilePictureLargeUrl:a[5],profilePictureLargeFallbackUrl:a[6],profilePictureLargeUrlExpirationTimestampMs:a[7],name:a[9],secondaryName:a[41],normalizedNameForSearch:a[10],normalizedSearchTerms:a[33],isMessengerUser:a[11],isMemorialized:a[12],isManagedByViewer:a[35],blockedByViewerStatus:a[14],rank:a[17],firstName:a[18],contactType:a[19],contactTypeExact:a[20],authorityLevel:a[21],messengerCallLogThirdPartyId:a[22],profileRingColor:a[23],requiresMultiway:a[24],blockedSinceTimestampMs:a[25],fbUnblockedSinceTimestampMs:a[46],canViewerMessage:a[26],profileRingColorExpirationTimestampMs:a[27],phoneNumber:a[28],emailAddress:a[29],workCompanyId:a[30],workCompanyName:a[31],workJobTitle:a[32],deviceContactId:a[34],workForeignEntityType:a[36],capabilities:a[37],capabilities2:a[38],profileRingState:d[0],contactViewerRelationship:a[39],gender:a[40],contactReachabilityStatusType:a[43],restrictionType:a[44],waConnectStatus:a[45],isEmployee:!1,pageType:a[47]}):0})},function(d){return c.storedProcedure(b("LSSetThreadImageURL"),a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(175).put({id:a[0],globalMuteUntil:a[1],showMessagePreview:a[4],isSoundOn:a[7],groupNotificationSetting:a[8],oneToOneNotificationSetting:a[9],replyReminderSetting:a[10],messageReminderDisabled:a[12],messageSound:a[13],ringtoneSound:a[14],newFriendBumpDisabledSetting:a[15],globalMuteMessageUntil:a[2],globalMuteCallUntil:a[3],includeInSwitchAccountBadges:a[11],dismissNfbThreadsCount:a[16],mutePageAccountMessageReminder:a[17]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSGroupRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.neq(a.groupRoomType,void 0)&&b.i64.neq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSPopulateCommunityFolderData",["LSDeleteThenInsertCommunityFolder","LSUpdateOrInsertThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(d){return c.storedProcedure(b("LSDeleteThenInsertCommunityFolder"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],void 0,void 0,void 0,a[11],a[12],a[13],a[14],a[15],void 0,a[16],a[17],a[18],void 0,a[19],a[20],a[21],a[22],a[23],void 0,void 0,a[24],a[26],void 0,void 0,a[25],a[37],void 0,void 0,c.i64.cast([0,0]),a[29],void 0,c.i64.cast([0,1]),a[28],a[27],a[30],a[31],a[32],a[33],void 0,a[34],a[35],a[36],a[38],a[39],c.i64.cast([0,80]))},function(d){return c.storedProcedure(b("LSUpdateOrInsertThread"),a[8],a[9],a[10],a[2],a[5],void 0,c.i64.cast([0,80]),a[0],c.i64.cast([0,0]),c.i64.cast([0,17]),"community",a[6],a[7],c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([-1,4294967282]),void 0,void 0,void 0,void 0,void 0,void 0,!1,!1,!1,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,!1,void 0,void 0,void 0,void 0,!1,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(d)}])}e.exports=a}),null);
__d("LSRemoveTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.sequence([function(d){return c[1]=e.queueName,c[0]=b.createArray(),b.forEach(b.db.table(2).fetch([[[c[1],{lte:a[0]}]],"queueNameTaskId"]),function(a){a=a.item;return c[2]=(c[0].push(a.taskId),c[0])})},function(d){return b.forEach(b.db.table(2).fetch([[[c[1],{lte:a[0]}]],"queueNameTaskId"]),function(a){return a["delete"]()})}]))})},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.eq(a.groupRoomType,void 0)||b.i64.eq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSTaskExists",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSTruncateCommunityListTable",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(166).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSTruncateNotificationSettings",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(175).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSUpdateLastSyncCompletedTimestampMsToNow",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSyncCompletedTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSUpsertGradientColor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(117).put({themeFbid:a[0],gradientIndex:a[1],color:a[2],type_:a[3]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSUpsertTheme",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.i64.neq(a[12],void 0)?c[0]=a[12]:c[0]=a[0],b.db.table(116).put({fbid:a[0],themeIdx:a[1],fallbackColor:a[2],reverseGradiantsForRadial:a[3],accessibilityLabel:a[4],iconUrl:a[5],iconUrlFallback:a[6],backgroundUrl:a[8],description:a[9],isDeprecated:a[11],normalThemeId:c[0],appColorMode:a[13],titlebarBackgroundColor:a[14],titlebarButtonTintColor:a[15],titlebarTextColor:a[16],titlebarAttributionTextColor:a[17],composerTintColor:a[18],composerUnselectedTintColor:a[19],composerInputTextPlaceholderColor:a[20],composerInputBackgroundColor:a[21],composerInputBorderColor:a[22],composerInputBorderWidth:a[23],composerBackgroundColor:a[24],messageTextColor:a[25],messageBorderColor:a[26],messageBorderWidth:a[27],incomingMessageTextColor:a[28],incomingMessageBorderColor:a[29],incomingMessageBorderWidth:a[30],deliveryReceiptColor:a[31],tertiaryTextColor:a[32],primaryButtonBackgroundColor:a[33],hotLikeColor:a[34],reactionPillBackgroundColor:a[35],secondaryTextColor:a[36],quotedIncomingMessageBubbleColor:a[37],cornerRadius:a[38],blurredComposerBackgroundColor:a[39],composerSecondaryButtonColor:a[40],composerPlaceholderTextColor:a[41]})},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSStaticDependencies",["LSDeleteAllCommunityChannelCategories","LSDeleteAllCommunityFolders","LSDeleteThenInsertCmCommunityList","LSDeleteThenInsertContact","LSDeleteThenInsertMessageRequest","LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot","LSDeleteThenInsertThread","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSGroupRoomTruncate","LSPopulateCommunityFolderData","LSRemoveTask","LSRoomTruncate","LSSetRegionHint","LSTaskExists","LSTruncateCommunityListTable","LSTruncateNotificationSettings","LSUpdateLastSyncCompletedTimestampMsToNow","LSUpsertGradientColor","LSUpsertSequenceId","LSUpsertTheme","LSVerifyContactRowExists"],(function(a,b,c,d,e,f,g){"use strict";a={deleteAllCommunityChannelCategories:c("LSDeleteAllCommunityChannelCategories"),deleteAllCommunityFolders:c("LSDeleteAllCommunityFolders"),deleteThenInsertCmCommunityList:c("LSDeleteThenInsertCmCommunityList"),deleteThenInsertContact:c("LSDeleteThenInsertContact"),deleteThenInsertMessageRequest:c("LSDeleteThenInsertMessageRequest"),deleteThenInsertNotificationsSettingsGraphQLSnapshot:c("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot"),deleteThenInsertThread:c("LSDeleteThenInsertThread"),executeFinallyBlockForSyncTransaction:c("LSExecuteFinallyBlockForSyncTransaction"),executeFirstBlockForSyncTransaction:c("LSExecuteFirstBlockForSyncTransaction"),groupRoomTruncate:c("LSGroupRoomTruncate"),populateCommunityFolderData:c("LSPopulateCommunityFolderData"),removeTask:c("LSRemoveTask"),roomTruncate:c("LSRoomTruncate"),setRegionHint:c("LSSetRegionHint"),taskExists:c("LSTaskExists"),truncateCommunityListTable:c("LSTruncateCommunityListTable"),truncateNotificationSettings:c("LSTruncateNotificationSettings"),updateLastSyncCompletedTimestampMsToNow:c("LSUpdateLastSyncCompletedTimestampMsToNow"),upsertGradientColor:c("LSUpsertGradientColor"),upsertSequenceId:c("LSUpsertSequenceId"),upsertTheme:c("LSUpsertTheme"),verifyContactRowExists:c("LSVerifyContactRowExists")};g.staticCachedModules=a}),98);
__d("LSDynamicDependencies",["Bootloader","LSStaticDependencies","Promise","SiteData","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i=babelHelpers["extends"]({},d("LSStaticDependencies").staticCachedModules);function a(a){var d=new Map();for(a of a){var e=a.name;e!=null&&!(e in i)&&d.set(e,c("nullthrows")(a.value))}if(d.size===0)return(h||(h=b("Promise"))).resolve();var f=new(h||(h=b("Promise")))(function(a){var e={},g=[],h=function(c){var a=c[0];c=c[1];c=c==null?void 0:c.__dr;e[c]={be:1,r:[]};g.push(c);i[a]={load:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield f;return i[a]});function d(){return c.apply(this,arguments)}return d}()}};for(var k of d)h(k);c("Bootloader").handlePayload({compMap:e,consistency:{rev:c("SiteData").client_revision}});j(c("Bootloader"),g,function(b){Array.from(d.entries()).forEach(function(a,c){var d=a[0];a[1];i[d]=b[c]}),a()})});return f}function j(a,b,c){a.loadModules.call(a,b,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b)})}function k(a){return a.charAt(0).toUpperCase()+a.slice(1)}function e(a,d,e){var f=new Map();for(a of(a=a)!=null?a:[]){a in i||f.set(a,"LS"+k(a))}for(d of(a=d)!=null?a:[]){!(d+".bs"in i)?f.set(d+".bs","LS"+k(d)+".nop"):d+".nop"in i||f.set(d+".nop","LS"+k(d)+".nop")}for(d of(a=e)!=null?a:[]){d in i||f.set(d,"LS"+k(d))}if(f.size===0)return(h||(h=b("Promise"))).resolve();var g=new(h||(h=b("Promise")))(function(a){var d={},e=[],h=function(a){var c=a[0];a=a[1];d[a]={be:1,r:[]};e.push(a);i[c]={load:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield g;return i[c]});function d(){return a.apply(this,arguments)}return d}()}};for(var k of f)h(k);c("Bootloader").handlePayload({compMap:d,consistency:{rev:c("SiteData").client_revision}});j(c("Bootloader"),e,function(b){Array.from(f.entries()).forEach(function(a,c){var d=a[0];a[1];i[d]=b[c]}),a()})});return g}g.cachedModules=i;g.downloadRelayDependencies=a;g.downloadBootloaderDependencies=e}),98);
__d("LSLocalizedStrings",["fbt"],(function(a,b,c,d,e,f,g,h){a=function(a,b){switch(a){default:return""}};b=a;g["default"]=b}),98);
__d("LSLocalizedStringsV2",["fbt","I64"],(function(a,b,c,d,e,f,g,h){var i;a=function(a,b){switch(a){case"2285622730":return h._("__JHASH__bHf-pjjpSrh__JHASH__");case"1919524925":return h._("__JHASH__g2TuGL7kp7W__JHASH__");case"14617150":return h._("__JHASH__KN5FuK9HL68__JHASH__");case"460740012":return h._("__JHASH__PmrYWcLl7s-__JHASH__");case"2353844300":return h._("__JHASH__U3_S6m-Asci__JHASH__");case"2375715979":return h._("__JHASH__wwqS06IKURT__JHASH__");case"3810165735":return h._("__JHASH___xK_oqrbVu3__JHASH__",[h._param("user_name",b(0))]);case"3921131020":return h._("__JHASH__mtqLMpBAIfE__JHASH__");case"1899892426":return h._("__JHASH__AcX9AAMg2Jv__JHASH__");case"3287869262":return h._("__JHASH__nh5Ig-KQkRx__JHASH__",[h._param("user_name",b(0))]);case"1890485478":return h._("__JHASH__r5f8SC2OUWe__JHASH__");case"1299547062":return h._("__JHASH__UxIyHnrkGvQ__JHASH__");case"3621454483":return h._("__JHASH__6CXDyy4pKod__JHASH__",[h._param("user_name",b(0))]);case"3948960063":return h._("__JHASH__4jXDffqGKxc__JHASH__");case"1249692047":return h._("__JHASH__XuMb0GRtMp2__JHASH__",[h._param("user_name",b(0))]);case"2106510577":return h._("__JHASH__adFbSa44M9G__JHASH__");case"3960370133":return h._("__JHASH__WRQpot61Zha__JHASH__",[h._param("user_name",b(0))]);case"3798396796":return h._("__JHASH__AKC6gu2oXen__JHASH__",[h._param("app_name",b(0))]);case"3388601579":return h._("__JHASH__LLEsQ4Y9-C7__JHASH__",[h._param("user_name",b(0)),h._param("app_name",b(1))]);case"1556712457":return h._("__JHASH__pQsKY3JdghI__JHASH__");case"3601791933":return h._("__JHASH__VzXmY6Nofoo__JHASH__",[h._param("user_name",b(0))]);case"3759817031":return h._("__JHASH__C6rFQy3ZqgT__JHASH__");case"2934729541":return h._("__JHASH__5sq-yY8-PHO__JHASH__",[h._param("user_name",b(0))]);case"392493418":return h._("__JHASH__Y9RNnaq--9C__JHASH__");case"4085467454":return h._("__JHASH__Tf8KEtj2NUW__JHASH__",[h._param("user_name",b(0))]);case"2738683656":return h._("__JHASH__VTdyPQ7H4GZ__JHASH__");case"2996525642":return h._("__JHASH__YPG0HYdjvfW__JHASH__",[h._param("user_name",b(0))]);case"2326868239":return h._("__JHASH__j-o8KFpMPxd__JHASH__");case"1001986796":return h._("__JHASH__zsY9ES-V3Ko__JHASH__",[h._param("user_name",b(0))]);case"2285746939":return h._("__JHASH__8PT2JtdeJx9__JHASH__");case"3759448420":return h._("__JHASH__H7eOZ8S6YOP__JHASH__",[h._param("user_name",b(0))]);case"3719716921":return h._("__JHASH__qiicOieyAHd__JHASH__");case"284944921":return h._("__JHASH__TkSIon2AHjf__JHASH__",[h._param("user_name",b(0))]);case"3322002377":return h._("__JHASH__hs-XIkGvPGM__JHASH__",[h._param("user_name",b(0))]);case"2486550278":return h._("__JHASH__78NZ4EbNix1__JHASH__");case"3557790945":return h._("__JHASH__9P29njYEtVJ__JHASH__");case"3756846086":return h._("__JHASH__HqUxJ78yQEs__JHASH__",[h._param("user_name",b(0))]);case"780378803":return h._("__JHASH__4RDpwDU2bxj__JHASH__");case"3918212613":return h._("__JHASH__sfM4caXMU8x__JHASH__",[h._param("user_name",b(0))]);case"3161890215":return h._("__JHASH__rMpUt8zHstd__JHASH__");case"863428456":return h._("__JHASH__ZqoJBBTdmfd__JHASH__",[h._param("user_name",b(0))]);case"2716405471":return h._("__JHASH__3bEfkOlWqZQ__JHASH__");case"3909474073":return h._("__JHASH__0LAhbzE2305__JHASH__",[h._param("user_name",b(0))]);case"1522141193":return h._("__JHASH__Xv5h5VWZ1z-__JHASH__");case"2804766375":return h._("__JHASH__iwXmJRLI5oQ__JHASH__",[h._param("user_name",b(0))]);case"2051792592":return h._("__JHASH__wrYW1iMsokY__JHASH__");case"3686831438":return h._("__JHASH__jxXuvG9WsQ-__JHASH__",[h._param("user_name",b(0))]);case"1247108605":return h._("__JHASH__wezHuMnDNgf__JHASH__",[h._param("receiver_name",b(0))]);case"2966876020":return h._("__JHASH__V86-MgG4uJ1__JHASH__",[h._param("user_name",b(0)),h._param("receiver_name",b(1))]);case"1056933543":return h._("__JHASH__9X7TkYsxkJ9__JHASH__");case"1167688664":return h._("__JHASH__HgpZLsXXBv2__JHASH__",[h._param("user_name",b(0))]);case"772459202":return h._("__JHASH__da1hGBDyrc0__JHASH__");case"3546068912":return h._("__JHASH__eB3RT9ZRPNU__JHASH__",[h._param("user_name",b(0))]);case"2459540079":return h._("__JHASH__uVYFUqdjsDk__JHASH__");case"1596311291":return h._("__JHASH__JNmnqH9YpVN__JHASH__",[h._param("user_name",b(0))]);case"2253698324":return h._("__JHASH__cjVmAaYlDK5__JHASH__");case"4269602817":return h._("__JHASH__tgAN3WazCx7__JHASH__",[h._param("user_name",b(0))]);case"2552112149":return h._("__JHASH__rGkOrOdVN7r__JHASH__");case"969211470":return h._("__JHASH__0c4ttO8K44x__JHASH__",[h._param("user_name",b(0))]);case"1257875092":return h._("__JHASH__5wtZ0w7wjWl__JHASH__");case"692355749":return h._("__JHASH__ZxojgdAFPM9__JHASH__",[h._param("user_name",b(0))]);case"411761881":return h._("__JHASH__9gOGTtdjrZE__JHASH__");case"3395044660":return h._("__JHASH__R5lkKLgSqO3__JHASH__",[h._param("user_name",b(0))]);case"2973334239":return h._("__JHASH__BCqXnePZxrY__JHASH__");case"3616471048":return h._("__JHASH__NfWlT4Kxbzi__JHASH__",[h._param("user_name",b(0))]);case"476264474":return h._("__JHASH__SH0YqdP7IKV__JHASH__");case"3124021488":return h._("__JHASH__aEbyYGfOeat__JHASH__",[h._param("user_name",b(0))]);case"3471188061":return h._("__JHASH__mUkKfPWP8w___JHASH__");case"2776822462":return h._("__JHASH__2bPnhlt5UjK__JHASH__",[h._param("user_name",b(0))]);case"1739999037":return h._("__JHASH__LG-CVe6YeL2__JHASH__");case"3373597599":return h._("__JHASH__XSfhGJMwPL8__JHASH__");case"259473449":return h._("__JHASH__qL_GOsBRgrZ__JHASH__",[h._param("user_name",b(0))]);case"1338912959":return h._("__JHASH__LrXrY17Mwwh__JHASH__",[h._param("user_name",b(0))]);case"812940701":return h._("__JHASH__NEO9buPurkr__JHASH__",[h._param("user_name",b(0))]);case"1099878966":return h._("__JHASH__Qho_g3FF8mq__JHASH__",[h._param("user_name",b(0))]);case"3443782102":return h._("__JHASH__Xxt66o3iPYX__JHASH__");case"618905030":return h._("__JHASH__v6KFXcykdOt__JHASH__");case"2470414797":return h._("__JHASH__0oa3QgNUtA3__JHASH__");case"1306024833":return h._("__JHASH__ypexge-6NRA__JHASH__");case"2135145355":return h._("__JHASH__woc-8KLy7zj__JHASH__");case"3603511704":return h._("__JHASH__--XUHiOY0Z1__JHASH__",[h._param("user_name",b(0))]);case"705614308":return h._("__JHASH__vsnRcMCSSFJ__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"313217698":return h._("__JHASH__rG1E-FG-TxB__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(1)),"number"),h._param("user_name",b(0))]);case"3558654267":return h._("__JHASH___H0KEIF4aGq__JHASH__");case"3422266740":return h._("__JHASH__F5OxWfUB9Dy__JHASH__",[h._param("user_name",b(0))]);case"1907280305":return h._("__JHASH__3P1HxS_1jfg__JHASH__",[h._param("other_user",b(0))]);case"1112375422":return h._("__JHASH__a5_sxn3ZWZn__JHASH__",[h._param("other_user",b(0))]);case"3575257287":return h._("__JHASH__czVm_Pwt6t9__JHASH__",[h._param("num_messages",b(0))]);case"3321340421":return h._("__JHASH___P-lwtylUhP__JHASH__",[h._param("other_user",b(0))]);case"3199643703":return h._("__JHASH__YBxxz_Vibx6__JHASH__");case"3307909120":return h._("__JHASH__YRCmoad58uJ__JHASH__");case"845728829":return h._("__JHASH___8aETeHXtHr__JHASH__");case"2022991544":return h._("__JHASH__byni3VHMHc8__JHASH__");case"4285882723":return h._("__JHASH__ga21xjHrnrP__JHASH__");case"3089015955":return h._("__JHASH__Q_LYP_ZLQTd__JHASH__");case"2662271323":return h._("__JHASH__JBe8j08K09-__JHASH__");case"1531706844":return h._("__JHASH__bZt0xiZTnI-__JHASH__");case"3989800917":return h._("__JHASH__LU51Dz-OBab__JHASH__");case"2421884758":return h._("__JHASH__6vTlb2bku1-__JHASH__");case"2676961947":return h._("__JHASH__TK1WqTTq979__JHASH__",[h._param("participant_name",b(0))]);case"3298086032":return h._("__JHASH__AI6Z85qZOTl__JHASH__",[h._param("sender_name",b(0))]);case"3873263038":return h._("__JHASH__1Mq5qyIkjxC__JHASH__",[h._param("sender_name",b(0))]);case"2616853333":return h._("__JHASH__Jm7dkp7Q46M__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"4002265907":return h._("__JHASH__YfSaJhpdv0H__JHASH__");case"2663996736":return h._("__JHASH__rouMYaFboPj__JHASH__",[h._param("participant_name",b(0))]);case"2868699317":return h._("__JHASH__gln0mR6BSos__JHASH__",[h._param("sender_name",b(0))]);case"2688620547":return h._("__JHASH__xBthZSMLrSR__JHASH__",[h._param("sender_name",b(0))]);case"3544071775":return h._("__JHASH__Bfn4BTqFbTw__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"2856734260":return h._("__JHASH__yQuJ1OMUVjP__JHASH__");case"3569041084":return h._("__JHASH__3k8IWsw1-6Y__JHASH__");case"1640318912":return h._("__JHASH__JXT3riixpEu__JHASH__",[h._param("user",b(0))]);case"2814174244":return h._("__JHASH__hI4gbzrBlXq__JHASH__");case"3475381825":return h._("__JHASH__71WGCM_QR6l__JHASH__",[h._param("preamble",b(0)),h._param("time",b(1))]);case"2794389366":return h._("__JHASH__8dRN_uv1Ey6__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"2528404281":return h._("__JHASH__ypkuSNWTmvD__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"3691614683":return h._("__JHASH__Gt2ASOwx3aR__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"2356292598":return h._("__JHASH__BkWfpfnRWrH__JHASH__",[h._param("user",b(0))]);case"3184734723":return h._("__JHASH__lritNDvzWHc__JHASH__");case"2352696798":return h._("__JHASH__4w1HQhVySfH__JHASH__");case"261320435":return h._("__JHASH__Yz7gQUpuAdz__JHASH__");case"1369731110":return h._("__JHASH__KVOi7QtdIiz__JHASH__");case"216075330":return h._("__JHASH__YIi23RvfAOM__JHASH__",[h._param("user_name",b(0))]);case"3093868587":return h._("__JHASH__zy0vB4g7bUg__JHASH__",[h._param("user_name",b(0))]);case"1965569930":return h._("__JHASH__Tjhx4Uo9tx2__JHASH__",[h._param("user_name",b(0))]);case"3981943156":return h._("__JHASH__ixrUZRszn_J__JHASH__",[h._param("user_name",b(0))]);case"2071149394":return h._("__JHASH__cOvKzCJo9pt__JHASH__",[h._param("user_name",b(0))]);case"2414298738":return h._("__JHASH__HW7JxEhyqTG__JHASH__",[h._param("user_name",b(0))]);case"4050223159":return h._("__JHASH__DIFtX0dJhWX__JHASH__");case"3387070852":return h._("__JHASH__7lkRbksMys6__JHASH__",[h._param("receiver_name",b(0)),h._param("amount",b(1))]);case"2779070802":return h._("__JHASH__VQfKxCig0vy__JHASH__",[h._param("sender_name",b(0)),h._param("game_name",b(1))]);case"3748497596":return h._("__JHASH__5SAbOrcrYuU__JHASH__",[h._param("game_name",b(0))]);case"1346982727":return h._("__JHASH__VQ2HMGY9wwv__JHASH__",[h._param("game_name",b(0))]);case"3688076717":return h._("__JHASH__JjXwyclLQBa__JHASH__",[h._param("sender_name",b(0))]);case"967111183":return h._("__JHASH__w7ck8Nknn5M__JHASH__");case"4202164190":return h._("__JHASH__ri623MWPdFQ__JHASH__",[h._param("sender_name",b(0)),h._param("receiver_name",b(1))]);default:return""}};b=a;g["default"]=b}),226);
__d("LSFactory",["LS","LSDynamicDependencies","LSLocalizedStrings","LSLocalizedStringsV2","LSMetadata","cr:8709"],(function(a,b,c,d,e,f,g){"use strict";var h={dynamic:!1};function a(a,e){e===void 0&&(e=h);a=c("LS")(1,d("LSMetadata").schema,d("LSDynamicDependencies").cachedModules,c("LSLocalizedStrings"),c("LSLocalizedStringsV2"),a,void 0,void 0,e.dynamic);return b("cr:8709")!=null&&b("cr:8709").isProfilingEnabled()?b("cr:8709").profile(a):a}g["default"]=a}),98);
__d("LSShape",["LSDict"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LSDict").fromObject(a)}function b(a){return c("LSDict").shapeToRecord(a)}g.ofRecord=a;g.toRecord=b}),98);
__d("MWLSThread",["FBLogger","Promise","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return a};function a(a,b){b===void 0&&(b=j);var e=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a).map(function(a){return b(a)}):d("ReQL").empty()},[e,a],f.id+":29")}function e(a,b){b===void 0&&(b=j);var e=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a).map(function(a){var c;return(c=b==null?void 0:b(a))!=null?c:a})},[e,a],f.id+":48")}function k(a,b,e){e===void 0&&(e=j);a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b),f.id+":65");if(!a)throw c("FBLogger")("messenger_web").mustfixThrow("thread is null/undefined");return e(a)}function l(a,c,e){e===void 0&&(e=j);return c!=null?d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(c)).then(function(a){return a?e(a):void 0}):(h||(h=b("Promise"))).resolve(void 0)}g.useThread=a;g.useThreadExn=e;g.getThreadExn=k;g.getThreadAsync=l}),98);
__d("MWLSThreadDisplayContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext();function a(a){var b=a.children;a=a.value;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWLSThreadDisplayContextProvider=a;g.useMWLSThreadDisplayContext=b}),98);
__d("MWPActor.react",["Actor","CurrentMessengerUser","I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.createContext,l=e.useContext,m=e.useMemo,n=k();function a(){var a=l(n),b=d("Actor").useActor(),c=b[0],e=m(function(){return(i||(i=d("I64"))).of_string(c)},[c]),f=d("CurrentMessengerUser").getPageMessagingMailboxId(),g=m(function(){return f!=="0"?(i||(i=d("I64"))).of_string(f):null},[f]);b=m(function(){return a!=null?a:g!=null?g:e},[e,a,g]);return b}function b(){return o()!=null}function o(){var a=d("CurrentMessengerUser").getPageMessagingMailboxId();return a==="0"?null:a}function c(a){var b=a.actorId;a=a.children;return b!=null?j.jsx(n.Provider,{value:b,children:a},(i||(i=d("I64"))).to_string(b)):a}c.displayName=c.name+" [from "+f.id+"]";g.useActor=a;g.isAPPlus=b;g.getAPPlusMailboxId=o;g.MWPActorProvider=c}),98);
__d("PolarisClipsPagePhoto.react",["fbt","PolarisPhoto.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={image:{alignItems:"x1qjc9v5",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",fontSize:"xk390pu",height:"x18dl8mb",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",verticalAlign:"x11njtxf",width:"xrostsh","@media (max-width: 735px)_height":"x1rrdvvk","@media (max-width: 735px)_width":"x1tgtcet",$$css:!0}};function a(a){var b=k(8),d=a.itemThumbnail;a=a.xstyle;var e;b[0]!==a?(e=(i||(i=c("stylex")))(m.image,a),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__S-VZl7blJQQ__JHASH__"),b[2]=a):a=b[2];b[3]!==d?(a=l.jsx(c("PolarisPhoto.react"),{accessibilityCaption:a,setCrossOriginToUndefinedDONOTUSE:!0,src:d}),b[3]=d,b[4]=a):a=b[4];b[5]!==e||b[6]!==a?(d=l.jsx("div",{className:e,children:a}),b[5]=e,b[6]=a,b[7]=d):d=b[7];return d}g["default"]=a}),226);
__d("PolarisLoggedOutIntentDialog.react",["fbt","IGDSBox.react","IGDSCommentPanoFilledIcon.react","IGDSDirectPanoFilledIcon.react","IGDSHeartFilledIcon.react","IGDSSaveFilledIcon.react","IGDSText.react","PolarisAppsellUnit.react","PolarisAssetManagerGlyphMapping","PolarisClipsPagePhoto.react","PolarisIGCoreIcon.react","PolarisIGCoreSheetOrModal","PolarisLoggedOutCtaLogger","PolarisLoggedOutLoginConstants","PolarisLoggedOutLoginOrSignupRow.react","PolarisNavigationActions","PolarisReactRedux.react","PolarisStoriesContext","PolarisUserAvatar.react","cr:1954","nullthrows","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useContext,l=e.useEffect,m=e.c,n=72,o=3;function p(a){var b=m(19);a=a.loginSource;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){if(a.navigation.loggedOutIntentThumbnail!=null)return a.navigation.loggedOutIntentThumbnail;return a.navigation.loggedOutIntentUsername!=null?d("polarisUserSelectors").getUserByUsername(a,a.navigation.loggedOutIntentUsername).profilePictureUrl:null},b[0]=e):e=b[0];e=d("PolarisReactRedux.react").useSelector(e);var f,g,i;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._("__JHASH__EubW9vzR0uu__JHASH__"),b[1]=i):i=b[1];i=i;bb0:switch(a){case"post_feedback_comment":f=c("IGDSCommentPanoFilledIcon.react");var k;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._("__JHASH__j7fL_QYzq4H__JHASH__"),b[2]=k):k=b[2];i=k;break bb0;case"post_feedback_save":f=c("IGDSSaveFilledIcon.react");b[3]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._("__JHASH__jMkSX3tePAz__JHASH__"),b[3]=k):k=b[3];i=k;break bb0;case"reel_feedback_direct":f=c("IGDSDirectPanoFilledIcon.react");b[4]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._("__JHASH__dCpyyTpkyrM__JHASH__"),b[4]=k):k=b[4];i=k;break bb0;case"post_feedback_like":case"story_feedback_like":f=c("IGDSHeartFilledIcon.react");b[5]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._("__JHASH__WwSdYzGxN9Q__JHASH__"),b[5]=k):k=b[5];i=k;g="ig-badge"}b[6]!==e||b[7]!==a?(k=e!=null?a==="clips_save_audio"?j.jsx(c("PolarisClipsPagePhoto.react"),{itemThumbnail:e,xstyle:{}}):j.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:e,size:n}):j.jsx(c("PolarisIGCoreIcon.react"),{alt:h._("__JHASH__EubW9vzR0uu__JHASH__"),icon:d("PolarisAssetManagerGlyphMapping").ICONS.APP_ICON_45}),b[6]=e,b[7]=a,b[8]=k):k=b[8];a=k;b[9]!==a?(k=j.jsx(c("IGDSBox.react"),{alignItems:"center",height:n,justifyContent:"center",marginBottom:o,position:"relative",children:a}),b[9]=a,b[10]=k):k=b[10];b[11]!==f||b[12]!==e||b[13]!==i||b[14]!==g?(a=f!=null&&e!=null&&j.jsx(c("IGDSBox.react"),{alignItems:"center",bottom:!0,height:24,justifyContent:"center",marginBottom:2,marginStart:1,position:"absolute",right:!0,width:24,children:j.jsx("div",{className:"x1hw97mu xvlca1e",children:j.jsx(f,{alt:i,color:g,size:18})})}),b[11]=f,b[12]=e,b[13]=i,b[14]=g,b[15]=a):a=b[15];b[16]!==k||b[17]!==a?(e=j.jsxs(c("IGDSBox.react"),{marginBottom:o,position:"relative",width:n,children:[k,a]}),b[16]=k,b[17]=a,b[18]=e):e=b[18];return e}function a(){var a=m(30),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){return c("nullthrows")(a.navigation.loggedOutIntentSource)},a[0]=e):e=a[0];e=d("PolarisReactRedux.react").useSelector(e);var f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a){return a.navigation.pageIdentifier},a[1]=f):f=a[1];var g=d("PolarisReactRedux.react").useSelector(f);f=(f=d("PolarisReactRedux.react").useSelector(function(a){return a.navigation.displayedRoute}))!=null?f:window.location.href;var h=d("PolarisReactRedux.react").useDispatch(),i;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=function(a){return a.navigation.loggedOutIntentUsername},a[2]=i):i=a[2];i=d("PolarisReactRedux.react").useSelector(i);var n=d("PolarisLoggedOutLoginConstants").getContentTextFromIntentSource(e,i);i=d("PolarisLoggedOutLoginConstants").getContentSubtextFromIntentSource(e,i);var o,q;a[3]!==g?(o=function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent(babelHelpers["extends"]({ctaType:"intent_dialog",ctaVersion:"",eventName:"impression"},g!=null&&{module:g}))},q=[g],a[3]=g,a[4]=o,a[5]=q):(o=a[4],q=a[5]);l(o,q);o=k(d("PolarisStoriesContext").StoriesContext);var r=o.updateStoriesContext;a[6]!==h||a[7]!==r?(q=function(){h(d("PolarisNavigationActions").closeLoggedOutIntentDialog()),r({isLoggedOutIntentDialogActive:!1,isPaused:!1})},a[6]=h,a[7]=r,a[8]=q):q=a[8];o=q;a[9]!==e?(q=j.jsx(p,{loginSource:e}),a[9]=e,a[10]=q):q=a[10];var s;a[11]!==n?(s=j.jsx(c("IGDSBox.react"),{marginBottom:3,width:"100%",children:j.jsx(c("IGDSText.react").Title,{textAlign:"center",children:n})}),a[11]=n,a[12]=s):s=a[12];a[13]!==i?(n=j.jsx(c("IGDSBox.react"),{marginBottom:5,width:"100%",children:j.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:i})}),a[13]=i,a[14]=n):n=a[14];if(a[15]!==g){i=j.jsx(c("IGDSBox.react"),{width:"100%",children:b("cr:1954")?j.jsx(b("cr:1954"),{ctaType:"intent_dialog",ctaTypeV2:"bottom_sheet"}):j.jsx(c("PolarisAppsellUnit.react"),{appInstallCampaign:(i=g)!=null?i:"",hideText:!0})});a[15]=g;a[16]=i}else i=a[16];var t;a[17]!==f||a[18]!==e||a[19]!==g?(t=j.jsx(c("PolarisLoggedOutLoginOrSignupRow.react"),{ctaType:"intent_dialog",loginReturnPath:f,loginSource:e,pageIdentifier:g}),a[17]=f,a[18]=e,a[19]=g,a[20]=t):t=a[20];a[21]!==q||a[22]!==s||a[23]!==n||a[24]!==i||a[25]!==t?(f=j.jsxs(c("IGDSBox.react"),{alignItems:"center",marginBottom:2,paddingX:4,paddingY:3,width:"100%",children:[q,s,n,i,t]}),a[21]=q,a[22]=s,a[23]=n,a[24]=i,a[25]=t,a[26]=f):f=a[26];a[27]!==o||a[28]!==f?(e=j.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{canMaximize:!1,canMinimize:!0,"data-testid":void 0,onClose:o,children:f}),a[27]=o,a[28]=f,a[29]=e):e=a[29];return e}g["default"]=a}),226);
__d("WALoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("WATagsLogger").__setRef("WALoggerDeferred");function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).DEV.apply(d,[a].concat(c))})})}function b(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).DEV_XMPP.apply(d,[a].concat(c))})})}function d(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).LOG.apply(d,[a].concat(c))})})}function e(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).WARN.apply(d,[a].concat(c))})})}function f(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).ERROR.apply(d,[a].concat(c))})})}function i(a,b,c){return h.load().then(function(d){return d.whenReady().then(function(){return d.TAGS(a)}).then(function(a){a[c](b)})})}g.DEV=a;g.DEV_XMPP=b;g.LOG=d;g.WARN=e;g.ERROR=f;g.logWithTags=i}),98);
__d("executeTask.xplat",["BroadcastChannelClientServerHandshake","CometTaskFrameworkTypes","FBLogger","Promise","asyncToGeneratorRuntime","err","getBroadcastChannelForExecutionContext","loadTaskHandlerResource"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g,i=(yield c("loadTaskHandlerResource")(f));if(i==null)throw c("FBLogger")("mpf_web_foundations").mustfixThrow("No task handler found for %s",f);var j=(g=e.executionContext)!=null?g:i.executionContext;return j===d("CometTaskFrameworkTypes").ExecutionContext.CURRENT_THREAD||j==null?i.handleTask(a,e):new(h||(h=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){var h=c("getBroadcastChannelForExecutionContext")(j);yield d("BroadcastChannelClientServerHandshake").checkAlive(h);var i={context:e,name:f,payload:a,type:"execute_task"};h.postMessage(i);function k(a){var d;if((a==null?void 0:(d=a.data)==null?void 0:(d=d.context)==null?void 0:d.taskID)!==e.taskID)return;switch(a.data.type){case"task_success":b(a.data.result);h.close();h.removeEventListener("message",k);break;case"task_failure":g(c("err")("Task Execution Failed for: "+e.taskID+", "+f));h.close();h.removeEventListener("message",k);break;default:}}h.addEventListener("message",k)});return function(a,b){return g.apply(this,arguments)}}())});return i.apply(this,arguments)}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 *
 * This file is generated from fbsource. Please do not modify it directly.
 *
 *
 * @nolint
 * @generated
 * @nopackage
 * @fullSyntaxTransform
 * @preserve-whitespace
 */__d("ls_voprf_utils",["Promise"],(function $module_ls_voprf_utils(global,require,requireDynamic,requireLazy,module,exports){var _require_closure_Promise;

var Module=function(){
var _scriptDir=typeof document!=='undefined'&&document.currentScript?document.currentScript.src:undefined;

return(
function(moduleArg){if(moduleArg===void 0){moduleArg={};}

var Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module["ready"]=new(_require_closure_Promise||(_require_closure_Promise=require("Promise")))(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject;});["_main","getExceptionMessage","___get_exception_message","_free","_memory","_curve_create","_curve_free","_curve_init_ristretto","_get_curve_element_bytes","_get_curve_scalar_bytes","_kdf_create","_kdf_free","_kdf_init_naor_reingold","_sodiumInit","_voprf_create","_voprf_free","_voprf_init_exp_twohashdh","_blind","_verifiable_unblind","_voprf_client_finalize","_voprf_setup","_voprf_evaluate","_voprf_server_finalize","_get_voprf_final_evaluation_bytes","___indirect_function_table","__embind_initialize_bindings","_fflush","___start_em_asm","___stop_em_asm","onRuntimeInitialized"].forEach(function(prop){if(!Object.getOwnPropertyDescriptor(Module["ready"],prop)){Object.defineProperty(Module["ready"],prop,{get:function get(){return abort("You are getting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");},set:function set(){return abort("You are setting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");}});}});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=function quit_(status,toThrow){throw toThrow;};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory);}return scriptDirectory+path;}var read_,readAsync,readBinary,setWindowTitle;if(ENVIRONMENT_IS_SHELL){if(typeof process=="object"&&typeof require==="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");if(typeof read!="undefined"){read_=read;}readBinary=function readBinary(f){if(typeof readbuffer=="function"){return new Uint8Array(readbuffer(f));}var data=read(f,"binary");assert(typeof data=="object");return data;};readAsync=function readAsync(f,onload,onerror){setTimeout(function(){return onload(readBinary(f));});};if(typeof clearTimeout=="undefined"){globalThis.clearTimeout=function(id){};}if(typeof setTimeout=="undefined"){globalThis.setTimeout=function(f){return typeof f=="function"?f():abort();};}if(typeof scriptArgs!="undefined"){arguments_=scriptArgs;}else if(typeof arguments!="undefined"){arguments_=arguments;}if(typeof quit=="function"){quit_=function quit_(status,toThrow){setTimeout(function(){if(!(toThrow instanceof ExitStatus)){var toLog=toThrow;if(toThrow&&typeof toThrow=="object"&&toThrow.stack){toLog=[toThrow,toThrow.stack];}err("exiting due to exception: "+toLog);}quit(status);});throw toThrow;};}if(typeof print!="undefined"){if(typeof console=="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!="undefined"?printErr:print;}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href;}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src;}if(_scriptDir){scriptDirectory=_scriptDir;}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1);}else{scriptDirectory="";}if(!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{read_=function read_(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.send(null);return xhr.responseText;};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response);};}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest();xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return;}onerror();};xhr.onerror=onerror;xhr.send(null);};}setWindowTitle=function setWindowTitle(title){return document.title=title;};}else{throw new Error("environment detection error");}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;checkIncomingModuleAPI();if(Module["arguments"])arguments_=Module["arguments"];legacyModuleProp("arguments","arguments_");if(Module["thisProgram"])thisProgram=Module["thisProgram"];legacyModuleProp("thisProgram","thisProgram");if(Module["quit"])quit_=Module["quit"];legacyModuleProp("quit","quit_");assert(typeof Module["memoryInitializerPrefixURL"]=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]=="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]=="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]=="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]=="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");legacyModuleProp("asm","wasmExports");legacyModuleProp("read","read_");legacyModuleProp("readAsync","readAsync");legacyModuleProp("readBinary","readBinary");legacyModuleProp("setWindowTitle","setWindowTitle");assert(!ENVIRONMENT_IS_WORKER,"worker environment detected but not enabled at build time.  Add 'worker' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_NODE,"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];legacyModuleProp("wasmBinary","wasmBinary");var noExitRuntime=Module["noExitRuntime"]||true;legacyModuleProp("noExitRuntime","noExitRuntime");if(typeof WebAssembly!="object"){abort("no native wasm support detected");}var wasmMemory;var wasmExports;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed"+(text?": "+text:""));}}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b);}assert(!Module["STACK_SIZE"],"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time");assert(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=undefined&&Int32Array.prototype.set!=undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally");assert(!Module["INITIAL_MEMORY"],"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end2();assert((max&3)==0);if(max==0){max+=4;}HEAPU32[max>>2]=34821223;HEAPU32[max+4>>2]=2310721022;HEAPU32[0>>2]=1668509029;}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end2();if(max==0){max+=4;}var cookie1=HEAPU32[max>>2];var cookie2=HEAPU32[max+4>>2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten at "+ptrToString(max)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+ptrToString(cookie2)+" "+ptrToString(cookie1));}if(HEAPU32[0>>2]!=1668509029){abort("Runtime error: The application has corrupted its heap memory area (address zero)!");}}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)";})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeKeepaliveCounter=0;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift());}}callRuntimeCallbacks(__ATPRERUN__);}function initRuntime(){assert(!runtimeInitialized);runtimeInitialized=true;checkStackCookie();callRuntimeCallbacks(__ATINIT__);}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift());}}callRuntimeCallbacks(__ATPOSTRUN__);}function addOnPreRun(cb){__ATPRERUN__.unshift(cb);}function addOnInit(cb){__ATINIT__.unshift(cb);}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb);}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return;}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:");}err("dependency: "+dep);}if(shown){err("(end of list)");}},1e4);}}else{err("warning: run dependency added without ID");}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id];}else{err("warning: run dependency removed without ID");}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null;}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback();}}}function abort(what){if(Module["onAbort"]){Module["onAbort"](what);}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e;}var FS={error:function error(){abort("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM");},init:function init(){FS.error();},createDataFile:function createDataFile(){FS.error();},createPreloadedFile:function createPreloadedFile(){FS.error();},createLazyFile:function createLazyFile(){FS.error();},open:function open(){FS.error();},mkdev:function mkdev(){FS.error();},registerDevice:function registerDevice(){FS.error();},analyzePath:function analyzePath(){FS.error();},ErrnoError:function ErrnoError(){FS.error();}};Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return filename.startsWith(dataURIPrefix);}function isFileURI(filename){return filename.startsWith("file://");}function createExportWrapper(name){return function(){assert(runtimeInitialized,"native function `"+name+"` called before runtime initialization");var f=wasmExports[name];assert(f,"exported native function `"+name+"` not found");return f.apply(null,arguments);};}var EmscriptenEH=function(_Error){"use strict";babelHelpers.inheritsLoose(EmscriptenEH,_Error);function EmscriptenEH(){return _Error.apply(this,arguments)||this;}return EmscriptenEH;}(babelHelpers.wrapNativeSuper(Error));var EmscriptenSjLj=function(_EmscriptenEH){"use strict";babelHelpers.inheritsLoose(EmscriptenSjLj,_EmscriptenEH);function EmscriptenSjLj(){return _EmscriptenEH.apply(this,arguments)||this;}return EmscriptenSjLj;}(EmscriptenEH);var CppException=function(_EmscriptenEH2){"use strict";babelHelpers.inheritsLoose(CppException,_EmscriptenEH2);function CppException(excPtr){var _this;_this=_EmscriptenEH2.call(this,excPtr)||this;_this.excPtr=excPtr;var excInfo=getExceptionMessage(excPtr);_this.name=excInfo[0];_this.message=excInfo[1];return _this;}return CppException;}(EmscriptenEH);var wasmBinaryFile;wasmBinaryFile="crypto_utils.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile);}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary);}if(readBinary){return readBinary(file);}throw"both async and sync fetching of the wasm failed";}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+binaryFile+"'";}return response["arrayBuffer"]();})["catch"](function(){return getBinarySync(binaryFile);});}}return(_require_closure_Promise||(_require_closure_Promise=require("Promise"))).resolve().then(function(){return getBinarySync(binaryFile);});}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(function(binary){return WebAssembly.instantiate(binary,imports);}).then(function(instance){return instance;}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing");}abort(reason);});}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)&&typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(binaryFile,imports,callback);});});}return instantiateArrayBuffer(binaryFile,imports,callback);}function createWasm(){var info={"env":wasmImports,"wasi_snapshot_preview1":wasmImports};function receiveInstance(instance,module){var exports=instance.exports;wasmExports=exports;wasmMemory=wasmExports["memory"];assert(wasmMemory,"memory not found in wasm exports");updateMemoryViews();wasmTable=wasmExports["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(wasmExports["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate");return exports;}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiationResult(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(result["instance"]);}if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance);}catch(e){err("Module.instantiateWasm callback failed with error: "+e);readyPromiseReject(e);}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult)["catch"](readyPromiseReject);return{};}function legacyModuleProp(prop,newName,incomming){if(incomming===void 0){incomming=true;}if(!Object.getOwnPropertyDescriptor(Module,prop)){Object.defineProperty(Module,prop,{configurable:true,get:function get(){var extra=incomming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";abort("`Module."+prop+"` has been replaced by `"+newName+"`"+extra);}});}}function ignoredModuleProp(prop){if(Object.getOwnPropertyDescriptor(Module,prop)){abort("`Module."+prop+"` was supplied but `"+prop+"` not included in INCOMING_MODULE_JS_API");}}function isExportedByForceFilesystem(name){return name==="FS_createPath"||name==="FS_createDataFile"||name==="FS_createPreloadedFile"||name==="FS_unlink"||name==="addRunDependency"||name==="FS_createLazyFile"||name==="FS_createDevice"||name==="removeRunDependency";}function missingGlobal(sym,msg){if(typeof globalThis!=="undefined"){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){warnOnce("`"+sym+"` is not longer defined by emscripten. "+msg);return undefined;}});}}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer");function missingLibrarySymbol(sym){if(typeof globalThis!=="undefined"&&!Object.getOwnPropertyDescriptor(globalThis,sym)){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){var msg="`"+sym+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line";var librarySymbol=sym;if(!librarySymbol.startsWith("_")){librarySymbol="$"+sym;}msg+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+librarySymbol+"')";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}warnOnce(msg);return undefined;}});}unexportedRuntimeSymbol(sym);}function unexportedRuntimeSymbol(sym){if(!Object.getOwnPropertyDescriptor(Module,sym)){Object.defineProperty(Module,sym,{configurable:true,get:function get(){var msg="'"+sym+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}abort(msg);}});}}var ASM_CONSTS={50180:function _(){return Module.getRandomValue();},50216:function _(){if(Module.getRandomValue===undefined){try{var window_="object"===typeof window?window:self;var crypto_=typeof window_.crypto!=="undefined"?window_.crypto:window_.msCrypto;var randomValuesStandard=function randomValuesStandard(){var buf=new Uint32Array(1);crypto_.getRandomValues(buf);return buf[0]>>>0;};randomValuesStandard();Module.getRandomValue=randomValuesStandard;}catch(e){{throw"No secure random number generator found";}}}}};function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status;}var callRuntimeCallbacks=function callRuntimeCallbacks(callbacks){while(callbacks.length>0){callbacks.shift()(Module);}};var withStackSave=function withStackSave(f){var stack=stackSave();var ret=f();stackRestore(stack);return ret;};var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;var UTF8ArrayToString=function UTF8ArrayToString(heapOrArray,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx)){++endPtr;}if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue;}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue;}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2;}else{if((u0&248)!=240)warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63;}if(u0<65536){str+=String.fromCharCode(u0);}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}}return str;};var UTF8ToString=function UTF8ToString(ptr,maxBytesToRead){assert(typeof ptr=="number");return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):"";};var getExceptionMessageCommon=function getExceptionMessageCommon(ptr){return withStackSave(function(){var type_addr_addr=stackAlloc(4);var message_addr_addr=stackAlloc(4);___get_exception_message(ptr,type_addr_addr,message_addr_addr);var type_addr=HEAPU32[type_addr_addr>>2];var message_addr=HEAPU32[message_addr_addr>>2];var type=UTF8ToString(type_addr);_free(type_addr);var message;if(message_addr){message=UTF8ToString(message_addr);_free(message_addr);}return[type,message];});};function getExceptionMessage(ptr){return getExceptionMessageCommon(ptr);}Module["getExceptionMessage"]=getExceptionMessage;function getValue(ptr,type){if(type===void 0){type="i8";}if(type.endsWith("*"))type="*";switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];case"*":return HEAPU32[ptr>>2];default:abort("invalid type for getValue: "+type);}}var ptrToString=function ptrToString(ptr){assert(typeof ptr==="number");ptr>>>=0;return"0x"+ptr.toString(16).padStart(8,"0");};var warnOnce=function warnOnce(text){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;err(text);}};var ___assert_fail=function ___assert_fail(condition,filename,line,func){abort("Assertion failed: "+UTF8ToString(condition)+", at: "+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"]);};var exceptionCaught=[];var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var info=new ExceptionInfo(ptr);if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--;}info.set_rethrown(false);exceptionCaught.push(info);___cxa_increment_exception_refcount(info.excPtr);return info.get_exception_ptr();}var exceptionLast=0;function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type;};this.get_type=function(){return HEAPU32[this.ptr+4>>2];};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor;};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2];};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught;};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0;};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown;};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0;};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor);};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr;};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2];};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2];}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr;};}function ___resumeException(ptr){if(!exceptionLast){exceptionLast=new CppException(ptr);}throw exceptionLast;}var findMatchingCatch=function findMatchingCatch(args){var thrown=exceptionLast&&exceptionLast.excPtr;if(!thrown){setTempRet0(0);return 0;}var info=new ExceptionInfo(thrown);info.set_adjusted_ptr(thrown);var thrownType=info.get_type();if(!thrownType){setTempRet0(0);return thrown;}for(var arg in args){var caughtType=args[arg];if(caughtType===0||caughtType===thrownType){break;}var adjusted_ptr_addr=info.ptr+16;if(___cxa_can_catch(caughtType,thrownType,adjusted_ptr_addr)){setTempRet0(caughtType);return thrown;}}setTempRet0(thrownType);return thrown;};var ___cxa_find_matching_catch_2=function ___cxa_find_matching_catch_2(){return findMatchingCatch([]);};var ___cxa_find_matching_catch_3=function ___cxa_find_matching_catch_3(arg0){return findMatchingCatch([arg0]);};function __embind_register_bigint(primitiveType,name,size,minRange,maxRange){}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size);}}function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i);}embind_charCodes=codes;}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]];}return ret;}var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message);}var InternalError=undefined;function throwInternalError(message){throw new InternalError(message);}function sharedRegisterType(rawType,registeredInstance,options){if(options===void 0){options={};}var name=registeredInstance.name;if(!rawType){throwBindingError("type \""+name+"\" must have a positive integer typeid pointer");}if(Object.prototype.hasOwnProperty.call(registeredTypes,rawType)){if(options.ignoreDuplicateRegistrations){return;}else{throwBindingError("Cannot register type '"+name+"' twice");}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(Object.prototype.hasOwnProperty.call(awaitingDependencies,rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){return cb();});}}function registerType(rawType,registeredInstance,options){if(options===void 0){options={};}if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance");}return sharedRegisterType(rawType,registeredInstance,options);}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(wt){return!!wt;},"toWireType":function toWireType(destructors,o){return o?trueValue:falseValue;},"argPackAdvance":8,"readValueFromPointer":function readValueFromPointer(pointer){var heap;if(size===1){heap=HEAP8;}else if(size===2){heap=HEAP16;}else if(size===4){heap=HEAP32;}else{throw new TypeError("Unknown boolean type size: "+name);}return this["fromWireType"](heap[pointer>>shift]);},destructorFunction:null});}function handleAllocatorInit(){Object.assign(HandleAllocator.prototype,{get:function get(id){assert(this.allocated[id]!==undefined,"invalid handle: "+id);return this.allocated[id];},has:function has(id){return this.allocated[id]!==undefined;},allocate:function allocate(handle){var id=this.freelist.pop()||this.allocated.length;this.allocated[id]=handle;return id;},free:function free(id){assert(this.allocated[id]!==undefined);this.allocated[id]=undefined;this.freelist.push(id);}});}function HandleAllocator(){this.allocated=[undefined];this.freelist=[];}var emval_handles=new HandleAllocator();function __emval_decref(handle){if(handle>=emval_handles.reserved&&0===--emval_handles.get(handle).refcount){emval_handles.free(handle);}}function count_emval_handles(){var count=0;for(var i=emval_handles.reserved;i<emval_handles.allocated.length;++i){if(emval_handles.allocated[i]!==undefined){++count;}}return count;}function init_emval(){emval_handles.allocated.push({value:undefined},{value:null},{value:true},{value:false});emval_handles.reserved=emval_handles.allocated.length;Module["count_emval_handles"]=count_emval_handles;}var Emval={toValue:function toValue(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle);}return emval_handles.get(handle).value;},toHandle:function toHandle(value){switch(value){case undefined:return 1;case null:return 2;case true:return 3;case false:return 4;default:{return emval_handles.allocate({refcount:1,value:value});}}}};function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAP32[pointer>>2]);}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(handle){var rv=Emval.toValue(handle);__emval_decref(handle);return rv;},"toWireType":function toWireType(destructors,value){return Emval.toHandle(value);},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null});}function embindRepr(v){if(v===null){return"null";}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString();}else{return""+v;}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2]);};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3]);};default:throw new TypeError("Unknown float type: "+name);}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(value){return value;},"toWireType":function toWireType(destructors,value){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert "+embindRepr(value)+" to "+this.name);}return value;},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null});}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer];}:function readU8FromPointer(pointer){return HEAPU8[pointer];};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1];}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1];};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2];}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2];};default:throw new TypeError("Unknown integer type: "+name);}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295;}var shift=getShiftFromSize(size);var fromWireType=function fromWireType(value){return value;};if(minRange===0){var bitshift=32-8*size;fromWireType=function fromWireType(value){return value<<bitshift>>>bitshift;};}var isUnsignedType=name.includes("unsigned");var checkAssertions=function checkAssertions(value,toTypeName){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert \""+embindRepr(value)+"\" to "+toTypeName);}if(value<minRange||value>maxRange){throw new TypeError("Passing a number \""+embindRepr(value)+"\" from JS side to C/C++ side to an argument of type \""+name+"\", which is outside the valid range ["+minRange+", "+maxRange+"]!");}};var toWireType;if(isUnsignedType){toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value>>>0;};}else{toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value;};}registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":toWireType,"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null});}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(heap.buffer,data,size);}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true});}var stringToUTF8Array=function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){assert(typeof str==="string");if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023;}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u;}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63;}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}else{if(outIdx+3>=endIdx)break;if(u>1114111)warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}}heap[outIdx]=0;return outIdx-startIdx;};var stringToUTF8=function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);};var lengthBytesUTF8=function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++;}else if(c<=2047){len+=2;}else if(c>=55296&&c<=57343){len+=4;++i;}else{len+=3;}}return len;};function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+1;}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i]);}str=a.join("");}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value);}var length;var valueIsOfTypeString=typeof value=="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string");}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value);}else{length=value.length;}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1);}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits");}HEAPU8[ptr+i]=charCode;}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i];}}}if(destructors!==null){destructors.push(_free,base);}return base;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});}var UTF16Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):undefined;var UTF16ToString=function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx]){++idx;}endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit);}return str;};var stringToUTF16=function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2;}HEAP16[outPtr>>1]=0;return outPtr-startPtr;};var lengthBytesUTF16=function lengthBytesUTF16(str){return str.length*2;};var UTF32ToString=function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}else{str+=String.fromCharCode(utf32);}}return str;};var stringToUTF32=function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023;}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break;}HEAP32[outPtr>>2]=0;return outPtr-startPtr;};var lengthBytesUTF32=function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4;}return len;};var __embind_register_std_wstring=function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function getHeap(){return HEAPU16;};shift=1;}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function getHeap(){return HEAPU32;};shift=2;}registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+charSize;}}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(!(typeof value=="string")){throwBindingError("Cannot pass non-string to C++ string type "+name);}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr);}return ptr;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});};function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function fromWireType(){return undefined;},"toWireType":function toWireType(destructors,o){return undefined;}});}var _abort=function _abort(){abort("native code called abort()");};var readEmAsmArgsArray=[];var readEmAsmArgs=function readEmAsmArgs(sigPtr,buf){assert(Array.isArray(readEmAsmArgsArray));assert(buf%16==0);readEmAsmArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){var chr=String.fromCharCode(ch);var validChars=["d","f","i"];assert(validChars.includes(chr),"Invalid character "+ch+"(\""+chr+"\") in readEmAsmArgs! Use only ["+validChars+"], and do not specify \"v\" for void return argument.");buf+=ch!=105&buf;readEmAsmArgsArray.push(ch==105?HEAP32[buf]:HEAPF64[buf++>>1]);++buf;}return readEmAsmArgsArray;};var runEmAsmFunction=function runEmAsmFunction(code,sigPtr,argbuf){var args=readEmAsmArgs(sigPtr,argbuf);if(!Object.prototype.hasOwnProperty.call(ASM_CONSTS,code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args);};var _emscripten_asm_const_int=function _emscripten_asm_const_int(code,sigPtr,argbuf){return runEmAsmFunction(code,sigPtr,argbuf);};var getHeapMax=function getHeapMax(){return 2147483648;};var _emscripten_get_heap_max=function _emscripten_get_heap_max(){return getHeapMax();};var growMemory=function growMemory(size){var b=wasmMemory.buffer;var pages=size-b.byteLength+65535>>>16;try{wasmMemory.grow(pages);updateMemoryViews();return 1;}catch(e){err("growMemory: Attempted to grow heap from "+b.byteLength+" bytes to "+size+" bytes, but got error: "+e);}};var _emscripten_resize_heap=function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize>>>=0;assert(requestedSize>oldSize);var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false;}var alignUp=function alignUp(x,multiple){return x+(multiple-x%multiple)%multiple;};for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true;}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false;};var SYSCALLS={varargs:undefined,get:function get(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret;},getStr:function getStr(ptr){var ret=UTF8ToString(ptr);return ret;}};var _fd_close=function _fd_close(fd){abort("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM");};function convertI32PairToI53Checked(lo,hi){assert(lo==lo>>>0||lo==(lo|0));assert(hi===(hi|0));return hi+2097152>>>0<4194305-!!lo?(lo>>>0)+hi*4294967296:NaN;}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var offset=convertI32PairToI53Checked(offset_low,offset_high);return 70;}var printCharBuffers=[null,[],[]];var printChar=function printChar(stream,curr){var buffer=printCharBuffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0;}else{buffer.push(curr);}};var flush_NO_FILESYSTEM=function flush_NO_FILESYSTEM(){_fflush(0);if(printCharBuffers[1].length)printChar(1,10);if(printCharBuffers[2].length)printChar(2,10);};var _fd_write=function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j]);}num+=len;}HEAPU32[pnum>>2]=num;return 0;};var getWasmTableEntry=function getWasmTableEntry(funcPtr){return wasmTable.get(funcPtr);};var writeArrayToMemory=function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer);};embind_init_charCodes();BindingError=Module["BindingError"]=function(_Error2){"use strict";babelHelpers.inheritsLoose(BindingError,_Error2);function BindingError(message){var _this2;_this2=_Error2.call(this,message)||this;_this2.name="BindingError";return _this2;}return BindingError;}(babelHelpers.wrapNativeSuper(Error));InternalError=Module["InternalError"]=function(_Error3){"use strict";babelHelpers.inheritsLoose(InternalError,_Error3);function InternalError(message){var _this3;_this3=_Error3.call(this,message)||this;_this3.name="InternalError";return _this3;}return InternalError;}(babelHelpers.wrapNativeSuper(Error));handleAllocatorInit();init_emval();function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings");}var wasmImports={__assert_fail:___assert_fail,__cxa_begin_catch:___cxa_begin_catch,__cxa_find_matching_catch_2:___cxa_find_matching_catch_2,__cxa_find_matching_catch_3:___cxa_find_matching_catch_3,__resumeException:___resumeException,_embind_register_bigint:__embind_register_bigint,_embind_register_bool:__embind_register_bool,_embind_register_emval:__embind_register_emval,_embind_register_float:__embind_register_float,_embind_register_integer:__embind_register_integer,_embind_register_memory_view:__embind_register_memory_view,_embind_register_std_string:__embind_register_std_string,_embind_register_std_wstring:__embind_register_std_wstring,_embind_register_void:__embind_register_void,abort:_abort,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,invoke_ii:invoke_ii,invoke_iii:invoke_iii,invoke_iiii:invoke_iiii,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii};var asm=createWasm();var ___wasm_call_ctors=createExportWrapper("__wasm_call_ctors");var _curve_create=Module["_curve_create"]=createExportWrapper("curve_create");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var _curve_free=Module["_curve_free"]=createExportWrapper("curve_free");var _free=Module["_free"]=createExportWrapper("free");var _curve_init_ristretto=Module["_curve_init_ristretto"]=createExportWrapper("curve_init_ristretto");var _get_curve_element_bytes=Module["_get_curve_element_bytes"]=createExportWrapper("get_curve_element_bytes");var _get_curve_scalar_bytes=Module["_get_curve_scalar_bytes"]=createExportWrapper("get_curve_scalar_bytes");var _kdf_create=Module["_kdf_create"]=createExportWrapper("kdf_create");var _kdf_free=Module["_kdf_free"]=createExportWrapper("kdf_free");var _kdf_init_naor_reingold=Module["_kdf_init_naor_reingold"]=createExportWrapper("kdf_init_naor_reingold");var _sodiumInit=Module["_sodiumInit"]=createExportWrapper("sodiumInit");var _voprf_create=Module["_voprf_create"]=createExportWrapper("voprf_create");var _voprf_free=Module["_voprf_free"]=createExportWrapper("voprf_free");var _voprf_init_exp_twohashdh=Module["_voprf_init_exp_twohashdh"]=createExportWrapper("voprf_init_exp_twohashdh");var _blind=Module["_blind"]=createExportWrapper("blind");var _verifiable_unblind=Module["_verifiable_unblind"]=createExportWrapper("verifiable_unblind");var _voprf_client_finalize=Module["_voprf_client_finalize"]=createExportWrapper("voprf_client_finalize");var _voprf_setup=Module["_voprf_setup"]=createExportWrapper("voprf_setup");var _voprf_evaluate=Module["_voprf_evaluate"]=createExportWrapper("voprf_evaluate");var _voprf_server_finalize=Module["_voprf_server_finalize"]=createExportWrapper("voprf_server_finalize");var _get_voprf_final_evaluation_bytes=Module["_get_voprf_final_evaluation_bytes"]=createExportWrapper("get_voprf_final_evaluation_bytes");var ___errno_location=createExportWrapper("__errno_location");var ___getTypeName=createExportWrapper("__getTypeName");var __embind_initialize_bindings=Module["__embind_initialize_bindings"]=createExportWrapper("_embind_initialize_bindings");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var _emscripten_builtin_memalign=createExportWrapper("emscripten_builtin_memalign");var _setThrew=createExportWrapper("setThrew");var setTempRet0=createExportWrapper("setTempRet0");var _emscripten_stack_init2=function _emscripten_stack_init(){return(_emscripten_stack_init2=wasmExports["emscripten_stack_init"])();};var _emscripten_stack_get_free2=function _emscripten_stack_get_free(){return(_emscripten_stack_get_free2=wasmExports["emscripten_stack_get_free"])();};var _emscripten_stack_get_base2=function _emscripten_stack_get_base(){return(_emscripten_stack_get_base2=wasmExports["emscripten_stack_get_base"])();};var _emscripten_stack_get_end2=function _emscripten_stack_get_end(){return(_emscripten_stack_get_end2=wasmExports["emscripten_stack_get_end"])();};var stackSave=createExportWrapper("stackSave");var stackRestore=createExportWrapper("stackRestore");var stackAlloc=createExportWrapper("stackAlloc");var _emscripten_stack_get_current2=function _emscripten_stack_get_current(){return(_emscripten_stack_get_current2=wasmExports["emscripten_stack_get_current"])();};var ___cxa_free_exception=createExportWrapper("__cxa_free_exception");var ___cxa_increment_exception_refcount=createExportWrapper("__cxa_increment_exception_refcount");var ___cxa_decrement_exception_refcount=createExportWrapper("__cxa_decrement_exception_refcount");var ___get_exception_message=Module["___get_exception_message"]=createExportWrapper("__get_exception_message");var ___cxa_can_catch=createExportWrapper("__cxa_can_catch");var ___cxa_is_pointer_type=createExportWrapper("__cxa_is_pointer_type");var dynCall_iiiji=Module["dynCall_iiiji"]=createExportWrapper("dynCall_iiiji");var dynCall_iiij=Module["dynCall_iiij"]=createExportWrapper("dynCall_iiij");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_iiijiji=Module["dynCall_iiijiji"]=createExportWrapper("dynCall_iiijiji");var dynCall_iiijiii=Module["dynCall_iiijiii"]=createExportWrapper("dynCall_iiijiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");function invoke_v(index){var sp=stackSave();try{getWasmTableEntry(index)();}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_vii(index,a1,a2){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3,a4);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_ii(index,a1){var sp=stackSave();try{return getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_vi(index,a1){var sp=stackSave();try{getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}Module["getValue"]=getValue;Module["stringToUTF8"]=stringToUTF8;Module["lengthBytesUTF8"]=lengthBytesUTF8;Module["writeArrayToMemory"]=writeArrayToMemory;var missingLibrarySymbols=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","runMainThreadEmAsm","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","setWasmTableEntry","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","SDL_unicode","SDL_ttfContext","SDL_audio","GLFW_Window","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","getTypeName","heap32VectorToArray","requireRegisteredType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","enumReadValueFromPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_getPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","ClassHandle_isAliasOf","throwInstanceAlreadyDeleted","ClassHandle_clone","ClassHandle_delete","ClassHandle_isDeleted","ClassHandle_deleteLater","flushPendingDeletes","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_addMethodCaller"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createDataFile","FS_createLazyFile","FS_createLink","FS_createDevice","FS_unlink","out","err","callMain","abort","keepRuntimeAlive","wasmMemory","wasmTable","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getWasmTableEntry","handleAllocatorInit","HandleAllocator","freeTableIndexes","functionsInTableMap","setValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","GLFW","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","UnboundTypeError","PureVirtualError","embindRepr","registeredInstances","registeredPointers","registerType","getShiftFromSize","integerReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","finalizationRegistry","detachFinalizer_deps","deletionQueue","delayFunction","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_newers","emval_methodCallers","emval_registeredMethods"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller;};function stackCheckInit(){_emscripten_stack_init2();writeStackCookie();}function run(){if(runDependencies>0){return;}stackCheckInit();preRun();if(runDependencies>0){return;}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun();}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("");},1);doRun();},1);}else{doRun();}checkStackCookie();}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()();}}run();


return moduleArg.ready;
});


}();
if(typeof exports==='object'&&typeof module==='object')
module.exports=Module;else
if(typeof define==='function'&&define['amd'])
define([],function(){return Module;});}),null);/*FB_PKG_DELIM*/
__d("ArmadilloCutoverClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("699");b=d("FalcoLoggerInternal").create("armadillo_cutover_client",a);e=b;g["default"]=e}),98);
__d("EncryptedBackupTaskIssuedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5726");b=d("FalcoLoggerInternal").create("encrypted_backup_task_issued",a);e=b;g["default"]=e}),98);
__d("EncryptedBackupdDYIFileSaver",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("file-saver").__setRef("EncryptedBackupdDYIFileSaver");function a(a,b){h.onReadyImmediately(function(c){c=c.saveAs;c(b,a)})}g.saveFile=a}),98);
__d("EncryptedBackupsDYIFileUtils",["FBLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="media",i="messages.zip";function a(){if(navigator.storage!=null&&navigator.storage.getDirectory!=null)return navigator.storage.getDirectory();throw c("FBLogger")("labyrinth_web").mustfixThrow("Storage management API is not supported. Please try one of the supported browsers.")}function d(){if(navigator.storage!=null&&navigator.storage.getDirectory!=null)return navigator.storage.getDirectory(h);throw c("FBLogger")("labyrinth_web").mustfixThrow("Storage management API is not supported. Please try one of the supported browsers.")}function e(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){a=(yield a.getFileHandle(b,{create:!0}));try{b=(yield a.createSyncAccessHandle());b.write(d);b.flush();b.close()}catch(e){if(e instanceof Error){if(e instanceof TypeError)try{b=(yield a.createWritable());yield b.write(d);yield b.close();return}catch(a){if(a instanceof Error){if(a instanceof TypeError)throw c("FBLogger")("labyrinth_web").mustfixThrow("Write operation is not supported. Please try one of the supported browsers.");throw c("FBLogger")("labyrinth_web").mustfixThrow("Failed to write using writable: %e",a.message)}throw a}throw c("FBLogger")("labyrinth_web").mustfixThrow("Failed to write using sync access handle: %s",e.message)}throw e}});return j.apply(this,arguments)}function f(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield a.getFileHandle(b));try{var d=(yield a.createSyncAccessHandle()),e=new ArrayBuffer(d.getSize());d.read(e);d.close();return new Blob([e])}catch(d){if(d instanceof Error){if(d instanceof TypeError)return a.getFile();throw c("FBLogger")("labyrinth_web").mustfixThrow("Failed to read file %s, %s",b,d.message)}throw d}});return k.apply(this,arguments)}g.DyiMediaFolder=h;g.DyiArchiveFilename=i;g.getRootFolderHandle=a;g.getMediaFolderHandle=d;g.writeFile=e;g.readFile=f}),98);
__d("EncryptedBackupsDYIUtils",["EncryptedBackupdDYIFileSaver","MAWBridgeSendAndReceive","MAWEBFrontendQPLLogger","Promise","asyncToGeneratorRuntime","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("jszip").__setRef("EncryptedBackupsDYIUtils");function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getAllThreadsAsJson")),e={};Object.keys(c).forEach(function(b){var d=c[b],f=d.messages,g=d.participants;d=d.stickers;f=f.map(function(a){var b=a.common;a.jsonType;a=babelHelpers.objectWithoutPropertiesLoose(a,["common","jsonType"]);return babelHelpers["extends"]({},b,a)});a.file("inbox/"+b+"/messages.json",JSON.stringify({messages:f,participants:g},null,4));["photos","videos","audio","gifs"].forEach(function(d){var e=c[b][d];Object.entries(e).forEach(function(c){var e=c[0];c=c[1];a.file("inbox/"+b+"/"+d+"/"+e,c)})});Object.entries(d).forEach(function(a){var b=a[0];a=a[1];e[b]=a})});Object.entries(e).forEach(function(b){var c=b[0];b=b[1];a.file("stickers_used/"+c,b)});return(h||(h=b("Promise"))).resolve(a)});return k.apply(this,arguments)}function a(a){i.onReady(function(b){b=b();c("promiseDone")(j(b).then(function(a){return a.generateAsync({compression:"DEFLATE",compressionOptions:{level:6},type:"blob"})}).then(function(b){d("EncryptedBackupdDYIFileSaver").saveFile("messages.zip",b),d("MAWEBFrontendQPLLogger").endDyiE2ECompleted(a,!0)}))})}g.createFileAndDownload=a}),98);
__d("PolarisDirectGQLAPICDNRestorationQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7292437454196351"}),null);
__d("PolarisDirectGQLAPICDNRestorationQuery.graphql",["PolarisDirectGQLAPICDNRestorationQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"payload"}],c=[{alias:null,args:[{kind:"Variable",name:"payload",variableName:"payload"}],concreteType:"XIGIGDirectInstamadilloRestoreCDNUrlResponse",kind:"LinkedField",name:"xig_fetch_ig_direct_restore_cdn_url",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"restoration_cdn_url",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisDirectGQLAPICDNRestorationQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisDirectGQLAPICDNRestorationQuery",selections:c},params:{id:b("PolarisDirectGQLAPICDNRestorationQuery_instagramRelayOperation"),metadata:{},name:"PolarisDirectGQLAPICDNRestorationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisDirectGQLAPIEBUploadMessagesMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7399792606807234"}),null);
__d("PolarisDirectGQLAPIEBUploadMessagesMutation.graphql",["PolarisDirectGQLAPIEBUploadMessagesMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"XIGTIGUploadMessageHandlerResponse",kind:"LinkedField",name:"xig_ig_open_upload_msg_to_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_success",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"delete_mailbox",storageKey:null},{alias:null,args:null,concreteType:"XIGTIGProtobufParams",kind:"LinkedField",name:"protobuf_params",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"delete_on_success",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisDirectGQLAPIEBUploadMessagesMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisDirectGQLAPIEBUploadMessagesMutation",selections:c},params:{id:b("PolarisDirectGQLAPIEBUploadMessagesMutation_instagramRelayOperation"),metadata:{},name:"PolarisDirectGQLAPIEBUploadMessagesMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PolarisDirectGQLAPI",["CometRelay","PolarisDirectGQLAPICDNRestorationQuery.graphql","PolarisDirectGQLAPIEBUploadMessagesMutation.graphql","PolarisRelayEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c,e){return d("CometRelay").commitMutation(a,{mutation:h!==void 0?h:h=b("PolarisDirectGQLAPIEBUploadMessagesMutation.graphql"),onCompleted:e,variables:{input:{payload:{msg_payloads:c}}}})}function e(a){return d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),i!==void 0?i:i=b("PolarisDirectGQLAPICDNRestorationQuery.graphql"),{payload:a}).toPromise().then(function(a){return(a=a==null?void 0:(a=a.xig_fetch_ig_direct_restore_cdn_url)==null?void 0:a.restoration_cdn_url)!=null?a:""})}g.ebUploadMessages=a;g.fetchCDNUrlWithRestoration=e}),98);
__d("IGDBridgeResignCdnUrlHandler",["MAWBridgeSendAndReceive","PolarisDirectGQLAPI","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("PolarisDirectGQLAPI").fetchCDNUrlWithRestoration(a));yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","continueMediaDownload",{cdnUrl:a,deliveryObjectId:b})});return h.apply(this,arguments)}g.call=a}),98);
__d("LSEncryptedBackupsAttachmentErrorCode",[],(function(a,b,c,d,e,f){a=Object.freeze({NO_ERROR:0,UNKNOWN_ERROR:1,MEDIA_TYPE_MISSING:2,PRODUCT_TYPE_MISSING:3,SERIALIZATION_ERROR:21});f["default"]=a}),66);
__d("LSSerializeAttachmentBackupPayload",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSFlushDataTrace.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSLogMebClientEvent.nop","LSOcmfClientMap.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][serializeAttachmentBackupPayload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=c.i64.of_int32(a[0].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.loopAsync(d[2],function(e){return d[12]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[12]).then(function(a){return a=a,d[13]=a[0],d[14]=a[1],a})},function(a){return d[15]=d[13].get("attachment_trace_id"),d[13],d[16]=d[15],c.sequence([function(a){return d[16]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[16],c.i64.cast([0,1873]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.sequence([function(a){return c.sequence([function(a){return d[16]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[16],c.i64.cast([0,84]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[20]=!0:d[20]=!1,d[20]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[21]=c.createArray(),void 0!==void 0?d[22]=(d[21].push(void 0),d[21]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[21],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[16]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),d[16]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])}])}):c.resolve()},function(e){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?(d[12]=new c.Map(),d[12].set("error_code",c.i64.cast([0,1])),d[12].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[12].set("error_message",""),g=[void 0,d[12]],d[3]=g[0],d[4]=g[1],g):(f=e.item,c.sequence([function(a){return d[20]=f.ocmfClientStateBlob,d[19]=f.backupTenancy,d[18]=f.encryptionVersion,d[12]=void 0,c.i64.neq(d[12],void 0)?c.resolve(d[13]=d[12]):c.sequence([function(a){return d[21]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[31]=(d[21].push(c.i64.cast([0,0])),d[21]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[23]?d[31]=(d[21].push(c.i64.cast([0,2])),d[21]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[31]=(d[21].push(c.i64.cast([0,3])),d[21]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[25]?d[31]=(d[21].push(c.i64.cast([0,4])),d[21]):0,d[26]=c.createArray(),d[27]=c.i64.of_int32(d[21].length),c.i64.gt(d[27],c.i64.cast([0,0]))?c.loopAsync(d[27],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[21],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[26].push(d[32]),d[26])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[31]=c.createArray(),d[32]=c.i64.of_int32(d[26].length),c.i64.gt(d[32],c.i64.cast([0,0]))?c.loopAsync(d[32],function(a){return d[34]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[26],d[34]).then(function(a){return a=a,d[35]=a[0],d[36]=a[1],a})},function(a){return d[37]=(d[31].push(c.i64.to_string(d[35])),d[31])}])}):c.resolve()},function(a){return d[33]=d[31].join(","),d[28]=d[33]}])},function(a){return d[26].some(function(a){return c.i64.eq(d[18],a)})?d[29]=d[18]:d[29]=void 0,c.i64.neq(d[29],void 0)?d[30]=d[29]:d[30]=void 0,d[13]=d[30]}])},function(e){return c.i64.neq(d[13],void 0)?d[14]=d[13]:d[14]=c.i64.cast([0,0]),c.i64.neq(d[19],void 0)?d[15]=d[19]:d[15]=c.i64.cast([0,1]),c.i64.neq(f.deviceId,void 0)?c.sequence([function(e){return c.i64.eq(a[4],c.i64.cast([0,0]))?c.sequence([function(e){return d[23]=c.createArray(),d[24]=c.i64.of_int32(a[0].length),c.i64.gt(d[24],c.i64.cast([0,0]))?c.loopAsync(d[24],function(e){return d[40]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[40]).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(e){return d[43]=d[41].get("media_type"),d[41],d[44]=d[41].get("zippy_object_id"),d[41],d[63]=d[44],d[45]=d[41].get("attachment_trace_id"),d[41],d[46]=c.createArray(),d[64]=(d[46].push(c.i64.to_string(f.backupId)),d[46]),d[64]=(d[46].push(d[63]),d[46]),d[47]=c.toJSON(d[46]),d[48]=c.createArray(),d[64]=(d[48].push(a[1]),d[48]),d[64]=(d[48].push(d[63]),d[48]),d[49]=c.toJSON(d[48]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[47]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[49]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[47]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[58]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[59]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[60]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return d[62]=new c.Map(),d[62].set("attachment_index_key",d[53]==null?"":d[53]),d[62].set("media_type",d[43]),d[62].set("zippy_object_id",d[63]),d[62].set("attachment_trace_id",d[45]),d[62].set("salt_partial_access_token",d[57]==null?"":d[57]),d[62].set("salt_partial_attachment_index_key",d[61]==null?"":d[61]),d[64]=(d[23].push(d[62]),d[23])}])}):c.resolve()},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[1]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[25]).then(function(a){return a=a,d[26]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[26]).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[27]).then(function(a){return a=a,d[28]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[1]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[29]).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[30]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[2]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[33]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[34]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(b){return d[37]=new c.Map(),d[37].set("attachment_infos",d[23]),d[37].set("message_partial_id",d[28]==null?"":d[28]),d[37].set("product_type",a[3]),d[37].set("salt_partial_id",d[32]==null?"":d[32]),d[37].set("thread_partial_id",d[36]==null?"":d[36]),d[38]=c.toJSON(d[37]),d[39]=new c.Map(),d[39].set("payload",d[38]),b=[d[39],void 0],d[21]=b[0],d[22]=b[1],b}]):c.resolve((a[5]!==void 0?d[23]=a[5]:d[23]="",d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([-1,4294967295])),d[24].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[24].set("error_message",d[23]),e=[void 0,d[24]],d[21]=e[0],d[22]=e[1],e))},function(a){return a=[d[21],d[22]],d[16]=a[0],d[17]=a[1],a}]):c.resolve((d[21]=new c.Map(),d[21].set("error_code",c.i64.cast([0,24])),d[21].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[21].set("error_message",""),e=[void 0,d[21]],d[16]=e[0],d[17]=e[1],e))},function(a){return a=[d[16],d[17]],d[3]=a[0],d[4]=a[1],a}]))})},function(a){return d[6]=c.i64.of_float(Date.now()),d[7]=c.i64.random(),d[9]="Finishing execution. Execution time: ",d[10]=c.i64.to_string(c.i64.sub(d[6],d[0])),d[11]=" ms",d[8]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][serializeAttachmentBackupPayload] ",d[8],d[9],d[8],d[10],d[8],d[11]].join("")),c.i64.eq(c.i64.mod_(d[7],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[12]=",",d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"serializeAttachmentBackupPayload",[d[9],d[12],d[10],d[12],d[11]].join(""),d[13],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[3],d[4]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueMessageBackup",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","LSSerializeAttachmentBackupPayload","LSWriteToPendingProtobufBackupsContextV2","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][issueMessageBackup] Beginning execution."),e[1]=d.i64.of_float(Date.now()),d.islc(d.filter(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))||!1}),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(f,g){var h=f.done;f=f.value;return h?d.sequence([function(b){return e[11]=d.createArray(),e[14]=(e[11].push("Skipping the message upload since EB is disabled. act thread id = "),e[11]),e[14]=(e[11].push(a[0]),e[11]),e[14]=(e[11].push(", otid = "),e[11]),e[14]=(e[11].push(a[1]),e[11]),e[12]=e[11].join(void 0||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[12]].join("")),d.resolve()},function(a){return e[13]=new d.Map(),e[13].set("error_code",d.i64.cast([0,1])),e[13].set("stored_procedure","LSEncryptedBackupsIssueMessageBackupStoredProcedure"),e[13].set("error_message",""),a=[void 0,e[13]],e[2]=a[0],e[3]=a[1],a}]):(g=f.item,d.sequence([function(a){return e[18]=g.backupTenancy,e[17]=g.encryptionVersion,e[11]=void 0,d.i64.neq(e[11],void 0)?d.resolve(e[12]=e[11]):d.sequence([function(a){return e[19]=d.createArray(),d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[20]=a[0],a})},function(a){return e[20]?e[29]=(e[19].push(d.i64.cast([0,0])),e[19]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[21]=a[0],a})},function(a){return e[21]?e[29]=(e[19].push(d.i64.cast([0,2])),e[19]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[22]=a[0],a})},function(a){return e[22]?e[29]=(e[19].push(d.i64.cast([0,3])),e[19]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[23]=a[0],a})},function(a){return e[23]?e[29]=(e[19].push(d.i64.cast([0,4])),e[19]):0,e[24]=d.createArray(),e[25]=d.i64.of_int32(e[19].length),d.i64.gt(e[25],d.i64.cast([0,0]))?d.loopAsync(e[25],function(a){return e[29]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[19],e[29]).then(function(a){return a=a,e[30]=a[0],e[31]=a[1],a})},function(a){return e[32]=(e[24].push(e[30]),e[24])}])}):d.resolve()},function(a){return d.sequence([function(a){return e[29]=d.createArray(),e[30]=d.i64.of_int32(e[24].length),d.i64.gt(e[30],d.i64.cast([0,0]))?d.loopAsync(e[30],function(a){return e[32]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[24],e[32]).then(function(a){return a=a,e[33]=a[0],e[34]=a[1],a})},function(a){return e[35]=(e[29].push(d.i64.to_string(e[33])),e[29])}])}):d.resolve()},function(a){return e[31]=e[29].join(","),e[26]=e[31]}])},function(a){return e[24].some(function(a){return d.i64.eq(e[17],a)})?e[27]=e[17]:e[27]=void 0,d.i64.neq(e[27],void 0)?e[28]=e[27]:e[28]=void 0,e[12]=e[28]}])},function(f){return d.i64.neq(e[12],void 0)?e[13]=e[12]:e[13]=d.i64.cast([0,0]),d.i64.neq(e[18],void 0)?e[14]=e[18]:e[14]=d.i64.cast([0,1]),d.i64.neq(g.deviceId,void 0)?d.sequence([function(f){return c("gkx")("1899")||c("gkx")("1900")?d.sequence([function(c){return a[11]!==void 0?d.sequence([function(c){return e[27]=a[11].get("attachment_infos"),a[11],e[28]=a[11].get("attachment_infos"),a[11],e[29]=a[11].get("product_type"),a[11],e[30]=a[11].get("error"),a[11],e[31]=a[11].get("error_message"),a[11],d.storedProcedure(b("LSSerializeAttachmentBackupPayload"),e[28],a[1],a[0],e[29],e[30],e[31]).then(function(a){return a=a,e[32]=a[0],e[33]=a[1],a})},function(a){return e[32]?e[34]=!1:e[34]=!0,e[34]?d.sequence([function(a){return e[33]?e[40]=!1:e[40]=!0,e[40]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] Invalid Attachment payload generated"),e[44]=d.createArray(),void 0!==void 0?e[45]=(e[44].push(void 0),e[44]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure","Invalid Attachment payload generated",e[44],d.i64.cast([0,3]))},function(a){return a=[void 0,void 0,e[27]],e[41]=a[0],e[42]=a[1],e[43]=a[2],a}]):d.resolve((a=[void 0,e[33],e[27]],e[41]=a[0],e[42]=a[1],e[43]=a[2],a))},function(a){return a=[e[41],e[42],e[43]],e[35]=a[0],e[36]=a[1],e[37]=a[2],a}]):d.resolve((e[40]=e[32].get("payload"),e[32],a=[e[40],void 0,e[27]],e[35]=a[0],e[36]=a[1],e[37]=a[2],a))},function(b){return e[40]=new d.Map(),e[41]=e[40].set("success",e[35]),e[42]=e[40].set("failure",e[36]),e[43]=e[40].set("upload_context",e[37]),e[44]=d.toJSON(e[40]),e[38]=e[44],e[39]=a[11].get("error"),a[11],b=[e[38],e[39]],e[25]=b[0],e[26]=b[1],b}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] Null Attachments for the message"),c=[void 0,void 0],e[25]=c[0],e[26]=c[1],c))},function(a){return a=[e[25],e[26]],e[19]=a[0],e[20]=a[1],a}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] Skip processing attachments as not enabled."),f=[void 0,void 0],e[19]=f[0],e[20]=f[1],f))},function(c){return e[21]=["eb_upload",":",a[0]].join(""),e[22]=d.i64.of_float(Date.now()),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),e[21],d.i64.cast([0,50026]),"",d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.le(d.i64.cast([0,0]),d.i64.cast([0,0]))?d.i64.cast([0,0]):d.i64.add(e[22],d.i64.sub(d.i64.cast([0,0]),d.i64.mod_(e[22],d.i64.cast([0,0])))),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[23]=a[0],a})},function(b){return d.db.table(177).add({pk:void 0,pendingBackupTaskId:e[23],actionType:d.i64.cast([0,1]),contentType:d.i64.cast([0,1]),backupStatus:d.i64.cast([0,1]),listKey:a[0],uniqueKey:a[1],sortKey:d.i64.to_string(d.i64.add(d.i64.mul(d.i64.div(a[2],d.i64.cast([0,1e3])),d.i64.cast([0,1e3])),d.i64.div(d.i64.mod_(d.i64.and_(d.i64.asr_(d.i64.from_string(a[1]),d.i64.to_int32(d.i64.cast([0,22]))),d.i64.cast([511,4294967295])),d.i64.cast([0,1e5])),d.i64.cast([0,100])))),persistentId:"",isInstamadillo:a[12],echoContent:a[4],lsTraceId:a[5],error:a[6],echoEncodingLatencyNs:a[7],errorMessage:a[8]})},function(b){return d.i64.eq(d.i64.cast([0,1]),d.i64.cast([0,1]))?d.i64.eq(d.i64.cast([0,1]),d.i64.cast([0,1]))?(e[25]=d.createArray(),e[27]=(e[25].push("Successfully issued message backup task. act thread id = "),e[25]),e[27]=(e[25].push(a[0]),e[25]),e[27]=(e[25].push(", otid = "),e[25]),e[27]=(e[25].push(a[1]),e[25]),e[26]=e[25].join(void 0||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[26]].join("")),d.resolve()):(e[25]=d.createArray(),e[27]=(e[25].push("Successfully issued message remove task. act thread id = "),e[25]),e[27]=(e[25].push(a[0]),e[25]),e[27]=(e[25].push(", otid = "),e[25]),e[27]=(e[25].push(a[1]),e[25]),e[26]=e[25].join(void 0||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[26]].join("")),d.resolve()):(e[25]=d.createArray(),e[27]=(e[25].push("Successfully issued thread remove task. act thread id = "),e[25]),e[27]=(e[25].push(a[0]),e[25]),e[26]=e[25].join(void 0||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[26]].join("")),d.resolve())},function(c){return a[9]!==void 0?(e[25]=a[9].get("act_thread_id"),a[9],e[26]=a[9].get("backup_action"),a[9],e[27]=a[9].get("toplevel_offline_threading_id"),a[9],e[28]=a[9].get("message_timestamp_ms"),a[9],e[29]=a[9].get("supplemental_key"),a[9],e[30]=a[9].get("attachment_payload"),a[9],d.storedProcedure(b("LSWriteToPendingProtobufBackupsContextV2"),e[23],e[25],e[27],e[29],e[28],e[26],e[30],void 0)):d.resolve()},function(a){return e[24]=new d.Map(),e[24].set("task_id",e[23]),a=[e[24],void 0],e[15]=a[0],e[16]=a[1],a}]):d.sequence([function(b){return e[19]=d.createArray(),e[22]=(e[19].push("Skipping the message upload since EB is disabled. act thread id = "),e[19]),e[22]=(e[19].push(a[0]),e[19]),e[22]=(e[19].push(", otid = "),e[19]),e[22]=(e[19].push(a[1]),e[19]),e[20]=e[19].join(void 0||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[20]].join("")),d.resolve()},function(a){return e[21]=new d.Map(),e[21].set("error_code",d.i64.cast([0,24])),e[21].set("stored_procedure","LSEncryptedBackupsIssueMessageBackupStoredProcedure"),e[21].set("error_message",""),a=[void 0,e[21]],e[15]=a[0],e[16]=a[1],a}])},function(a){return a=[e[15],e[16]],e[2]=a[0],e[3]=a[1],a}]))})},function(a){return e[5]=d.i64.of_float(Date.now()),e[6]=d.i64.random(),e[8]="Finishing execution. Execution time: ",e[9]=d.i64.to_string(d.i64.sub(e[5],e[0])),e[10]=" ms",e[7]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ",e[7],e[8],e[7],e[9],e[7],e[10]].join("")),d.i64.eq(d.i64.mod_(e[6],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[11]=",",e[12]=d.createArray(),void 0!==void 0?e[13]=(e[12].push(void 0),e[12]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"issueMessageBackup",[e[8],e[11],e[9],e[11],e[10]].join(""),e[12],d.i64.cast([0,4]))):d.resolve()},function(a){return a=[e[2],e[3]],f[0]=a[0],f[1]=a[1],a}])},function(a){return d.resolve(f)}])}d=a;g["default"]=d}),98);
__d("LSIssueMessageBackupStoredProcedure",["LSIssueMessageBackup","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.actThreadId;d[1]=b.otid;d[2]=b.authoritativeTs;d[3]=b.source;d[4]=b.echoDocument;d[5]=b.traceId;d[6]=b.error;d[7]=b.echoEncodingLatencyNs;d[8]=b.errorMessage;d[9]=b.protobufBackupContext;d[10]=b.tamThreadSubtype;d[11]=b.attachmentBackupContext;d[12]=b.isInstamadillo;return c("LSIssueMessageBackup").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSIssueMessageRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueMessageRemove] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return d[11]=c.createArray(),d[14]=(d[11].push("Skipping message upload since EB is disabled. act thread id = "),d[11]),d[14]=(d[11].push(a[0]),d[11]),d[14]=(d[11].push(", otid = "),d[11]),d[14]=(d[11].push(a[1]),d[11]),d[12]=d[11].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[12]].join("")),c.resolve()},function(a){return d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,1])),d[13].set("stored_procedure","LSEncryptedBackupsIssueMessageRemoveStoredProcedure"),d[13].set("error_message",""),a=[void 0,d[13]],d[2]=a[0],d[3]=a[1],a}]):(f=e.item,c.sequence([function(a){return d[18]=f.backupTenancy,d[17]=f.encryptionVersion,d[11]=void 0,c.i64.neq(d[11],void 0)?c.resolve(d[12]=d[11]):c.sequence([function(a){return d[19]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[29]=(d[19].push(c.i64.cast([0,0])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[29]=(d[19].push(c.i64.cast([0,2])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[29]=(d[19].push(c.i64.cast([0,3])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[23]?d[29]=(d[19].push(c.i64.cast([0,4])),d[19]):0,d[24]=c.createArray(),d[25]=c.i64.of_int32(d[19].length),c.i64.gt(d[25],c.i64.cast([0,0]))?c.loopAsync(d[25],function(a){return d[29]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],d[29]).then(function(a){return a=a,d[30]=a[0],d[31]=a[1],a})},function(a){return d[32]=(d[24].push(d[30]),d[24])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[29]=c.createArray(),d[30]=c.i64.of_int32(d[24].length),c.i64.gt(d[30],c.i64.cast([0,0]))?c.loopAsync(d[30],function(a){return d[32]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[24],d[32]).then(function(a){return a=a,d[33]=a[0],d[34]=a[1],a})},function(a){return d[35]=(d[29].push(c.i64.to_string(d[33])),d[29])}])}):c.resolve()},function(a){return d[31]=d[29].join(","),d[26]=d[31]}])},function(a){return d[24].some(function(a){return c.i64.eq(d[17],a)})?d[27]=d[17]:d[27]=void 0,c.i64.neq(d[27],void 0)?d[28]=d[27]:d[28]=void 0,d[12]=d[28]}])},function(e){return c.i64.neq(d[12],void 0)?d[13]=d[12]:d[13]=c.i64.cast([0,0]),c.i64.neq(d[18],void 0)?d[14]=d[18]:d[14]=c.i64.cast([0,1]),c.i64.neq(f.deviceId,void 0)?c.sequence([function(e){return d[19]=["eb_upload",":",a[0]].join(""),d[20]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),d[19],c.i64.cast([0,50026]),"",c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[20],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[20],c.i64.cast([0,0])))),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[21],actionType:c.i64.cast([0,2]),contentType:c.i64.cast([0,1]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[1],sortKey:c.i64.to_string(c.i64.add(c.i64.mul(c.i64.div(a[2],c.i64.cast([0,1e3])),c.i64.cast([0,1e3])),c.i64.div(c.i64.mod_(c.i64.and_(c.i64.asr_(c.i64.from_string(a[1]),c.i64.to_int32(c.i64.cast([0,22]))),c.i64.cast([511,4294967295])),c.i64.cast([0,1e5])),c.i64.cast([0,100])))),persistentId:"",isInstamadillo:!1,lsTraceId:a[4],error:a[5]})},function(b){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued message backup task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(", otid = "),d[23]),d[25]=(d[23].push(a[1]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[24]].join("")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued message remove task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(", otid = "),d[23]),d[25]=(d[23].push(a[1]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[24]].join("")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued thread remove task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[24]].join("")),c.resolve())},function(a){return d[22]=new c.Map(),d[22].set("task_id",d[21]),a=[d[22],void 0],d[15]=a[0],d[16]=a[1],a}]):c.sequence([function(b){return d[19]=c.createArray(),d[22]=(d[19].push("Skipping message upload since EB is disabled. act thread id = "),d[19]),d[22]=(d[19].push(a[0]),d[19]),d[22]=(d[19].push(", otid = "),d[19]),d[22]=(d[19].push(a[1]),d[19]),d[20]=d[19].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[20]].join("")),c.resolve()},function(a){return d[21]=new c.Map(),d[21].set("error_code",c.i64.cast([0,24])),d[21].set("stored_procedure","LSEncryptedBackupsIssueMessageRemoveStoredProcedure"),d[21].set("error_message",""),a=[void 0,d[21]],d[15]=a[0],d[16]=a[1],a}])},function(a){return a=[d[15],d[16]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueMessageRemove",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueMessageRemoveStoredProcedure",["LSIssueMessageRemove","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.actThreadId;d[1]=b.otid;d[2]=b.authoritativeTs;d[3]=b.source;d[4]=b.traceId;d[5]=b.error;return c("LSIssueMessageRemove").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSIssuePointQueryRestoreTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] Beginning execution."),c.sequence([function(d){return a[3]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,2512]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[9]?d[10]=!0:d[10]=!1,d[10]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[11],c.i64.cast([0,3]))):c.resolve()}])},function(e){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] Point query restore v2 is enabled"),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(e){return d[9]=new c.Map(),d[9].set("error_code",c.i64.cast([0,1])),d[9].set("error_message",""),d[9].set("stored_procedure","issuePointQueryRestoreTask"),d[10]=new c.Map(),d[10].set("act_thread_id",a[0]),d[11]=new c.Map(),d[11].set("restore_context",d[10]),d[11].set("failure",d[9]),d[12]=d[11].get("restore_context"),d[11],d[13]=d[11].get("success"),d[11],d[13]!==void 0?(d[19]=d[13].get("message_id"),d[13],d[14]=d[19]):d[14]="",d[15]=d[12].get("act_thread_id"),d[12],d[16]=":",d[17]=c.toJSON(d[11]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",d[16],d[15],d[16],d[14]].join(""),c.i64.cast([0,50035]),d[17],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[1]=d[18]}]):(f=e.item,c.sequence([function(a){return d[16]=f.deviceId,d[15]=f.backupTenancy,d[14]=f.encryptionVersion,d[9]=void 0,c.i64.neq(d[9],void 0)?c.resolve(d[10]=d[9]):c.sequence([function(a){return d[17]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[18]?d[27]=(d[17].push(c.i64.cast([0,0])),d[17]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[27]=(d[17].push(c.i64.cast([0,2])),d[17]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[27]=(d[17].push(c.i64.cast([0,3])),d[17]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[27]=(d[17].push(c.i64.cast([0,4])),d[17]):0,d[22]=c.createArray(),d[23]=c.i64.of_int32(d[17].length),c.i64.gt(d[23],c.i64.cast([0,0]))?c.loopAsync(d[23],function(a){return d[27]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[17],d[27]).then(function(a){return a=a,d[28]=a[0],d[29]=a[1],a})},function(a){return d[30]=(d[22].push(d[28]),d[22])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[27]=c.createArray(),d[28]=c.i64.of_int32(d[22].length),c.i64.gt(d[28],c.i64.cast([0,0]))?c.loopAsync(d[28],function(a){return d[30]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[22],d[30]).then(function(a){return a=a,d[31]=a[0],d[32]=a[1],a})},function(a){return d[33]=(d[27].push(c.i64.to_string(d[31])),d[27])}])}):c.resolve()},function(a){return d[29]=d[27].join(","),d[24]=d[29]}])},function(a){return d[22].some(function(a){return c.i64.eq(d[14],a)})?d[25]=d[14]:d[25]=void 0,c.i64.neq(d[25],void 0)?d[26]=d[25]:d[26]=void 0,d[10]=d[26]}])},function(e){return c.i64.neq(d[10],void 0)?d[11]=d[10]:d[11]=c.i64.cast([0,0]),c.i64.neq(d[15],void 0)?d[12]=d[15]:d[12]=c.i64.cast([0,1]),c.i64.neq(d[16],void 0)?c.sequence([function(e){return d[17]=new c.Map(),d[17].set("act_thread_id",a[0]),d[17].set("request_id",a[3]),d[17].set("tam_thread_subtype",c.i64.cast([0,0])),d[17].set("source",a[4]),c.nativeOperation(b("LSBase64Encode.nop"),f.ocmfClientStateBlob).then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),f.mailboxRootKeyBlob).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[20]=new c.Map(),d[20].set("ocmf_client_state_blob",d[18]==null?"":d[18]),d[20].set("mailbox_root_key",d[19]==null?"":d[19]),d[21]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[36]=(d[21].push(a.epochId),d[21])})},function(a){return d[34]="Queried locally available epochs. Count: ",d[22]=c.i64.of_int32(d[21].length),d[35]=c.i64.to_string(d[22]),d[23]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[23],d[34],d[23],d[35]].join("")),c.resolve()},function(e){return d[24]=new c.Map(),d[24].set("device_id",d[16]),d[24].set("raw_tokens",d[20]),d[24].set("locally_available_epochs",d[21]),d[25]=new c.Map(),d[25].set("reference_timestamp",a[2]),d[25].set("device_context",d[24]),d[25].set("message_id",a[1]),d[26]=new c.Map(),d[26].set("restore_context",d[17]),d[26].set("success",d[25]),d[27]=d[26].get("restore_context"),d[26],d[28]=d[26].get("success"),d[26],d[28]!==void 0?(d[36]=d[28].get("message_id"),d[28],d[29]=d[36]):d[29]="",d[30]=d[27].get("act_thread_id"),d[27],d[31]=":",d[32]=c.toJSON(d[26]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",d[31],d[30],d[31],d[29]].join(""),c.i64.cast([0,50035]),d[32],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[13]=d[33]}]):c.sequence([function(e){return d[17]=new c.Map(),d[17].set("error_code",c.i64.cast([0,1])),d[17].set("error_message",""),d[17].set("stored_procedure","issuePointQueryRestoreTask"),d[18]=new c.Map(),d[18].set("act_thread_id",a[0]),d[19]=new c.Map(),d[19].set("restore_context",d[18]),d[19].set("failure",d[17]),d[20]=d[19].get("restore_context"),d[19],d[21]=d[19].get("success"),d[19],d[21]!==void 0?(d[27]=d[21].get("message_id"),d[21],d[22]=d[27]):d[22]="",d[23]=d[20].get("act_thread_id"),d[20],d[24]=":",d[25]=c.toJSON(d[19]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",d[24],d[23],d[24],d[22]].join(""),c.i64.cast([0,50035]),d[25],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[13]=d[26]}])},function(a){return d[1]=d[13]}]))})},function(e){return c.sequence([function(d){return a[3]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,2513]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[9]?d[10]=!0:d[10]=!1,d[10]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[11],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[3]=c.i64.of_float(Date.now()),d[4]=c.i64.random(),d[6]="Finishing execution. Execution time: ",d[7]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[5]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] ",d[5],d[6],d[5],d[7],d[5],d[8]].join("")),c.i64.eq(c.i64.mod_(d[4],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[9]=",",d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure",[d[6],d[9],d[7],d[9],d[8]].join(""),d[10],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssuePointQueryRestoreTaskStoredProcedure",["LSIssuePointQueryRestoreTask","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadId;d[1]=b.messageId;d[2]=b.startSortKey;d[3]=b.traceId;d[4]=b.source;return c("LSIssuePointQueryRestoreTask").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSIssueThreadRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueThreadRemove] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return d[11]=c.createArray(),d[14]=(d[11].push("Skipping thread remove since EB is disabled. act thread id = "),d[11]),d[14]=(d[11].push(a[0]),d[11]),d[12]=d[11].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[12]].join("")),c.resolve()},function(a){return d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,1])),d[13].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[13].set("error_message",""),a=[void 0,d[13]],d[2]=a[0],d[3]=a[1],a}]):(f=e.item,c.sequence([function(a){return d[18]=f.backupTenancy,d[17]=f.encryptionVersion,d[11]=void 0,c.i64.neq(d[11],void 0)?c.resolve(d[12]=d[11]):c.sequence([function(a){return d[19]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[29]=(d[19].push(c.i64.cast([0,0])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[29]=(d[19].push(c.i64.cast([0,2])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[29]=(d[19].push(c.i64.cast([0,3])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[23]?d[29]=(d[19].push(c.i64.cast([0,4])),d[19]):0,d[24]=c.createArray(),d[25]=c.i64.of_int32(d[19].length),c.i64.gt(d[25],c.i64.cast([0,0]))?c.loopAsync(d[25],function(a){return d[29]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],d[29]).then(function(a){return a=a,d[30]=a[0],d[31]=a[1],a})},function(a){return d[32]=(d[24].push(d[30]),d[24])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[29]=c.createArray(),d[30]=c.i64.of_int32(d[24].length),c.i64.gt(d[30],c.i64.cast([0,0]))?c.loopAsync(d[30],function(a){return d[32]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[24],d[32]).then(function(a){return a=a,d[33]=a[0],d[34]=a[1],a})},function(a){return d[35]=(d[29].push(c.i64.to_string(d[33])),d[29])}])}):c.resolve()},function(a){return d[31]=d[29].join(","),d[26]=d[31]}])},function(a){return d[24].some(function(a){return c.i64.eq(d[17],a)})?d[27]=d[17]:d[27]=void 0,c.i64.neq(d[27],void 0)?d[28]=d[27]:d[28]=void 0,d[12]=d[28]}])},function(e){return c.i64.neq(d[12],void 0)?d[13]=d[12]:d[13]=c.i64.cast([0,0]),c.i64.neq(d[18],void 0)?d[14]=d[18]:d[14]=c.i64.cast([0,1]),c.i64.neq(f.deviceId,void 0)?c.sequence([function(e){return d[19]=["eb_upload",":",a[0]].join(""),d[20]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),d[19],c.i64.cast([0,50026]),"",c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[20],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[20],c.i64.cast([0,0])))),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[21],actionType:c.i64.cast([0,2]),contentType:c.i64.cast([0,2]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[0],sortKey:a[1],persistentId:"",isInstamadillo:!1,lsTraceId:a[3],error:a[4]})},function(b){return c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued message backup task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(", otid = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[24]].join("")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued message remove task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(", otid = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[24]].join("")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued thread remove task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[24]].join("")),c.resolve())},function(a){return d[22]=new c.Map(),d[22].set("task_id",d[21]),a=[d[22],void 0],d[15]=a[0],d[16]=a[1],a}]):c.sequence([function(b){return d[19]=c.createArray(),d[22]=(d[19].push("Skipping thread remove since EB is disabled. act thread id = "),d[19]),d[22]=(d[19].push(a[0]),d[19]),d[20]=d[19].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[20]].join("")),c.resolve()},function(a){return d[21]=new c.Map(),d[21].set("error_code",c.i64.cast([0,24])),d[21].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[21].set("error_message",""),a=[void 0,d[21]],d[15]=a[0],d[16]=a[1],a}])},function(a){return a=[d[15],d[16]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueThreadRemove",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueThreadRemoveStoredProcedure",["LSIssueThreadRemove","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.actThreadId;d[1]=b.sortKey;d[2]=b.source;d[3]=b.traceId;d[4]=b.error;return c("LSIssueThreadRemove").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSTamThreadSubtype",[],(function(a,b,c,d,e,f){a=Object.freeze({STANDARD:0,VANISH_MODE:1,DUAL_SEND_SHADOW:2,BTV_COMPANION:3,BLEND_DUAL_SEND:4,BLEND_DUAL_SEND_NO_NETWORK:5});f["default"]=a}),66);
__d("LSWriteSupplementalMessage",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][writeSupplementalMessage] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.messageTimestampMs)})},function(b){return c.i64.neq(d[2],void 0)?c.sequence([function(b){return c.i64.gt(d[2],a[5])?c.resolve(d[11]=!1):c.sequence([function(b){return c.forEach(c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}),function(a){return a["delete"]()})},function(b){return c.db.table(302).add({pk:void 0,messagePayload:a[0],threadId:a[1],toplevelOfflineThreadingId:a[2],supplementalKey:a[3],offlineThreadingId:a[4],messageTimestampMs:a[5]})},function(a){return d[11]=!0}])},function(a){return d[4]=d[11]}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}),function(a){return a["delete"]()})},function(b){return c.db.table(302).add({pk:void 0,messagePayload:a[0],threadId:a[1],toplevelOfflineThreadingId:a[2],supplementalKey:a[3],offlineThreadingId:a[4],messageTimestampMs:a[5]})},function(a){return d[4]=!0}])},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][writeSupplementalMessage] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"writeSupplementalMessage",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSWriteSupplementalMessageStoredProcedure",["LSWriteSupplementalMessage","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.messagePayload;d[1]=b.threadId;d[2]=b.toplevelOfflineThreadingId;d[3]=b.supplementalKey;d[4]=b.offlineThreadingId;d[5]=b.messageTimestampMs;return c("LSWriteSupplementalMessage").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSWriteTopLevelMessage",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][writeTopLevelMessage] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.messageTimestampMs)})},function(b){return c.i64.neq(d[2],void 0)?c.sequence([function(b){return c.i64.gt(d[2],a[3])?c.resolve(d[11]=!1):c.sequence([function(b){return c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[12]=!1:(a.item,d[12]=!0)})},function(b){return d[12]?c.sequence([function(b){return c.forEach(c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(b){var c=b.update;b.item;return c({deletedMessagePayload:a[0],isLocalOnlyMessage:a[4],messageTimestampMs:a[3]})})},function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]&&c.i64.eq(b.messageTimestampMs,c.i64.cast([-1,4294967295]))}),function(b){var c=b.update;b.item;return c({messageTimestampMs:a[3]})})},function(a){return d[14]=!1}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(a){return a["delete"]()})},function(b){return c.db.table(301).add({pk:void 0,messagePayload:a[0],threadId:a[1],offlineThreadingId:a[2],messageTimestampMs:a[3],isLocalOnlyMessage:a[4],extraData:a[5]})},function(a){return d[14]=!0}])},function(a){return d[11]=d[14]}])},function(a){return d[4]=d[11]}]):c.sequence([function(b){return c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[11]=!1:(a.item,d[11]=!0)})},function(b){return d[11]?c.sequence([function(b){return c.forEach(c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(b){var c=b.update;b.item;return c({deletedMessagePayload:a[0],isLocalOnlyMessage:a[4],messageTimestampMs:a[3]})})},function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]&&c.i64.eq(b.messageTimestampMs,c.i64.cast([-1,4294967295]))}),function(b){var c=b.update;b.item;return c({messageTimestampMs:a[3]})})},function(a){return d[13]=!1}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(a){return a["delete"]()})},function(b){return c.db.table(301).add({pk:void 0,messagePayload:a[0],threadId:a[1],offlineThreadingId:a[2],messageTimestampMs:a[3],isLocalOnlyMessage:a[4],extraData:a[5]})},function(a){return d[13]=!0}])},function(a){return d[4]=d[13]}])},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][writeTopLevelMessage] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"writeTopLevelMessage",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSWriteTopLevelMessageStoredProcedure",["LSWriteTopLevelMessage","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.messagePayload;d[1]=b.threadId;d[2]=b.offlineThreadingId;d[3]=b.messageTimestampMs;d[4]=b.isLocalOnlyMessage;d[5]=b.extraData;return c("LSWriteTopLevelMessage").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWBridgeDeleteMessagesOfThreadHandler",["I64","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSIssueThreadRemoveStoredProcedure","LSMEBTaskCreationSource","MAWEncryptedBackupUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.actionType===2){var e=(yield d("MAWEncryptedBackupUtils").getBackupTenancy(a));if(e==null||!(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION)))return;yield c("LSIssueThreadRemoveStoredProcedure")(c("LSFactory")(a),{actThreadId:b.threadId,sortKey:b.ts.toString(),source:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM_WEB)})}});return j.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeIssuePointQueryHandler",["I64","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSIssuePointQueryRestoreTaskStoredProcedure","LSMEBTaskCreationSource","MAWEncryptedBackupUtils","MAWGetStorageQplAnnotations","Promise","QuickPerformanceLogger","WAHashStringToNumber","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a,e){return d("MAWEncryptedBackupUtils").getBackupTenancy(a).then(function(f){if(f==null)return(k||(k=b("Promise"))).resolve();if(!(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION)))return(k||(k=b("Promise"))).resolve();f=d("WAHashStringToNumber").hashStringToNumber(e.messageId);var g=f.toString(),l=e.startSortKey,m=e.taskSource===c("LSMEBTaskCreationSource").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES?c("LSMEBTaskCreationSource").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES:c("LSMEBTaskCreationSource").EB_POINT_QUERY_IN_ACT;m===c("LSMEBTaskCreationSource").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES&&((h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(1056840931,"814"),f),c("promiseDone")(d("MAWGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(c("qpl")._(1056840931,"814"),a)})),h.markerPoint(c("qpl")._(1056840931,"814"),"eb_point_restore_begin",{data:{"int":{msgId:f},string:{jid:e.jid}},instanceKey:f}));if(l!=null)return c("LSIssuePointQueryRestoreTaskStoredProcedure")(c("LSFactory")(a),{messageId:e.messageId,source:(j||(j=d("LSIntEnum"))).ofNumber(m),startSortKey:l,threadId:e.threadId,traceId:g}).then(function(){});else return c("LSIssuePointQueryRestoreTaskStoredProcedure")(c("LSFactory")(a),{messageId:e.messageId,source:(j||(j=d("LSIntEnum"))).ofNumber(m),threadId:e.threadId,traceId:g}).then(function(){})})}g.call=a}),98);
__d("MAWBridgeTraceUtils",["I64","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c,e){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&c===b&&(i||(i=d("I64"))).equal(a.traceType,e))return a.shouldFlush===!1;else return!1})).then(function(a){if(a.length!==0)return(h||(h=b("Promise"))).resolve(a[0].traceId);else return(h||(h=b("Promise"))).resolve()})}g.getTraceId=a}),98);
__d("MAWBridgeStartTraceHandler",["ArmadilloDataTraceCheckPoint","ArmadilloDataTraceType","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceTag","LSFactory","LSRequestId","MAWAckLevel","MAWBridgeTraceUtils","MAWMsg","MAWTimeUtils","Promise","gkx","killswitch","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){return a.data_trace_meta.add({contextOne:void 0,contextThree:b.externalId,contextTwo:void 0,foregroundTimestampMs:(i||(i=d("I64"))).zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(b.ts),predefinedId:void 0,shouldFlush:!1,traceId:e,traceType:b.traceType}).then(function(){return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").traceCreated,dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one})}).then(function(){var f;if(b.threadKey==null||!c("gkx")("23995"))return;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one,tags:(f=b.threadKey)!=null?f:void 0})})}function a(a,e){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return(h||(h=b("Promise"))).resolve();var f=e.ack,g=e.traceType;return f===d("MAWAckLevel").ACK.clock?d("MAWBridgeTraceUtils").getTraceId(a,e.externalId,e.traceType).then(function(f){if(f!=null)return;var k=c("LSRequestId").generate();if((i||(i=d("I64"))).equal(g,d("ArmadilloDataTraceType").armadilloMessageSend))return j(a,e,k).then(function(){var b=e.threadType;if(b==="User")return;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").traceGroupMessage,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one})}).then(function(){if(e.isFirstMsg)return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloActMessageSend,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one,tags:"first_msg=1"})}).then(function(){var f=e.type_;f=f===d("MAWMsg").text?d("ArmadilloDataTraceCheckPoint").traceTextMessage:f===d("MAWMsg").ptt||f===d("MAWMsg").image||f===d("MAWMsg").video||f===d("MAWMsg").gif?d("ArmadilloDataTraceCheckPoint").traceMediaMessage:void 0;if(f==null)return(h||(h=b("Promise"))).resolve(f);c("promiseDone")(c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one}));return(h||(h=b("Promise"))).resolve(f)}).then(function(b){if(b==null)return;if(!(i||(i=d("I64"))).equal(b,d("ArmadilloDataTraceCheckPoint").traceMediaMessage))return;b=e.type_;b=b===d("MAWMsg").image?d("LSDataTraceTag").image:b===d("MAWMsg").ptt?d("LSDataTraceTag").audio:b===d("MAWMsg").video?d("LSDataTraceTag").video:b===d("MAWMsg").gif?d("LSDataTraceTag").animatedImage:d("LSDataTraceTag").none;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").richMediaMediaSendAttachmentType,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one,tags:String(b)})});else return j(a,e,k)}):(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeStartTraceWithTraceIdHandler",["MAWMainTraceUtils","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMainTraceUtils").startTraceWithTxn(a,d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),b.traceId,b.traceType,void 0,void 0,b.traceContext)}g.call=a}),98);
__d("MAWBridgeTraceRecordCheckpointHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSFlushDataTrace.nop"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=b.checkPointId,f=b.dataTraceId,g=b.errorMessage,i=b.tags;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:e,dataTraceId:f,errorMessage:g,syncChannel:(h||(h=d("I64"))).neg_one,tags:i}).then(function(){if(b.shouldFlush)return c("LSFlushDataTrace.nop")(a,0,f)})}g.call=a}),98);
__d("MAWBridgeUpdateDYIStatusV2",["EncryptedBackupdDYIFileSaver","EncryptedBackupsDYIFileUtils","EncryptedBackupsDYITypes","FBLogger","WATagsLogger","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["DYI Complete"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Saving file with filename ",""]);i=function(){return a};return a}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){d("EncryptedBackupdDYIFileSaver").saveFile(a,b),window.setTimeout(function(){c("promiseDone")(e())},1e3)});return k.apply(this,arguments)}function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.qplInstanceKeyE2E;a=a.status;if(a===d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Completed)try{if(navigator.storage==null)throw c("FBLogger")("labyrinth_web").mustfixThrow("Storage management API is not supported. Please try one of the supported browsers.");var f=d("EncryptedBackupsDYIFileUtils").DyiArchiveFilename,g=(yield d("EncryptedBackupsDYIFileUtils").getRootFolderHandle()),k=(yield d("EncryptedBackupsDYIFileUtils").readFile(g,f));yield j(f,k,b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield g.removeEntry(f)}));void d("WATagsLogger").TAGS(["igd_labyrinth_web","igd_dyi"]).LOG(i(),f);e!=null&&c("FBLogger")("labyrinth_web").mustfix("TODO: End the QPL marker here");void d("WATagsLogger").TAGS(["igd_labyrinth_web","igd_dyi"]).LOG(h())}catch(a){c("FBLogger")("labyrinth_web").mustfix("Failed to download the DYI archive: %s",a);return d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed}return a});return l.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeUpdateDyiStatus",["EncryptedBackupsDYIUtils","I64","LSIntEnum","MAWEBFrontendQPLLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield a.encrypted_backups_dyi_backup_restore_status.put({currentStatus:b,pk:(h||(h=d("I64"))).zero})});return k.apply(this,arguments)}function a(a,b){var c=b.qplInstanceKeyE2E;b=b.status;d("MAWEBFrontendQPLLogger").logDyiE2EDyiBackupRestoreCompleted(c,b);d("EncryptedBackupsDYIUtils").createFileAndDownload(c);if(b)return j(a,(i||(i=d("LSIntEnum"))).ofNumber(1));else return j(a,(i||(i=d("LSIntEnum"))).ofNumber(2))}g.call=a}),98);
__d("MAWBridgeUpdateTraceHandler",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSFactory","LSIntEnum","MAWBridgeTraceEvent","Promise","ReQL","emptyFunction","killswitch","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e,f){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&e.externalIds.includes(b)&&(j||(j=d("I64"))).equal(a.traceType,e.traceType))return a.shouldFlush===!1;else return!1})).then(function(g){var i=[];return g.reduce(function(b,g){return b.then(function(){i.push(g.traceId);var b=e.errorMessage;if(b!=null)return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,errorMessage:b,syncChannel:(j||(j=d("I64"))).neg_one});else return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,syncChannel:(j||(j=d("I64"))).neg_one})})},(h||(h=b("Promise"))).resolve()).then(function(){return i})})}function l(a,d){return d.reduce(function(b,d){return b.then(function(){return c("updateAndFlushLSDataTrace")(a,d)})},(h||(h=b("Promise"))).resolve())}function a(a,e){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return(h||(h=b("Promise"))).resolve();var f=e.event;if(f===c("MAWBridgeTraceEvent").ReceivedReceipt)return k(a,e,d("ArmadilloDataTraceCheckPoint").deliveryReceiptReceived).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").ReceivedSent)return k(a,e,d("ArmadilloDataTraceCheckPoint").advancedCryptoMEMSendTaskComplete).then(c("emptyFunction"));else if(f===c("MAWBridgeTraceEvent").FlowEndForFailure)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE)).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").FlowEndForSuccess)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH)).then(function(b){return l(a,b)});else return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MessageBackupTagsDelimiter",[],(function(a,b,c,d,e,f){"use strict";a=":";f.INSTAMADILLO_TAG_DELIMITER=a}),66);
__d("MAWSharedWriteToMPSTables",["FBLogger","I64","LSFactory","LSWriteSupplementalMessageStoredProcedure","LSWriteTopLevelMessageStoredProcedure","MAWReceiveToUploadUtils","MAWSharedEbUploadEntity","MAWTimeUtils","MessageBackupTagsDelimiter","Promise","asyncToGeneratorRuntime","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("ReverbWriteFailureFalcoEvent").__setRef("MAWSharedWriteToMPSTables"),k=c("requireDeferred")("ReverbWriteSuccessFalcoEvent").__setRef("MAWSharedWriteToMPSTables");function l(a,b,e,f,g,h){var i=d("MAWReceiveToUploadUtils").checkUploadEligbility(a);if(!i||!g)return;f?c("promiseDone")(k.load(),function(c){return c.log(function(){return{backup_action:e,backup_protocol:"open_eb_ttlc",message_id:a,thread_id:b}})}):c("promiseDone")(j.load(),function(c){return c.log(function(){return{backup_action:e,backup_protocol:"open_eb_ttlc",failure_reason:h,message_id:a,thread_id:b}})})}function a(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){var j=e.backupActionType,k=e.instamadilloItemId,m=e.msgId,n=e.originalMsgProtocolId,o=e.protobuf,p=e.serverTs;e=e.supplementalKey;m=m.externalId;n=n==null?void 0:n.externalId;k=g===!0&&k!=null?(i||(i=d("I64"))).of_float(k):d("MAWTimeUtils").toTimestamp(p);p=!1;switch(j){case 1:try{j=(yield c("LSWriteTopLevelMessageStoredProcedure")(c("LSFactory")(a),{isLocalOnlyMessage:!1,messagePayload:d("MAWSharedEbUploadEntity").getEbBackupMessageBytesBuffer(o),messageTimestampMs:k,offlineThreadingId:m,threadId:f}));j=j[0];j&&(p=!0);l(m,f,"upsert_top_level",j,g)}catch(a){l(m,f,"upsert_top_level",!1,g,a)}break;case 2:if(n==null||e==null)l(m,f,"upsert_supplemental",!1,g),c("FBLogger")("labyrinth_web").warn("Missing toplevelOfflineThreadingId or supplementalKey when writing to MPS tables");else try{j=(yield c("LSWriteSupplementalMessageStoredProcedure")(c("LSFactory")(a),{messagePayload:d("MAWSharedEbUploadEntity").getEbBackupMessageBytesBuffer(o),messageTimestampMs:k,offlineThreadingId:m,supplementalKey:e,threadId:f,toplevelOfflineThreadingId:n}));a=j[0];a&&(p=!0);l(n,f,"upsert_supplemental",a,g)}catch(a){l(n,f,"upsert_supplemental",!1,g,a)}break;case 3:case 4:p=!0;n!=null&&l(n,f,"delete_top_level",!1,g);break;default:c("FBLogger")("labyrinth_web").warn("Unsupported backupActionType when writing to MPS tables")}if(p)return(h||(h=b("Promise"))).resolve(p);else return(h||(h=b("Promise"))).reject(!1)});return m.apply(this,arguments)}function e(a,e,f){var g=e.instamadilloItemId,j=e.msgId;e=e.tags;e!=null&&e.length!==0&&g!=null&&c("promiseDone")(a.local_message_persistence_store_tag_index.put({localMessagePersistenceStoreKey:(i||(i=d("I64"))).of_string(j.externalId),messageTimestampMs:i.of_float(g),offlineThreadingId:j.externalId,tag:e.join(d("MessageBackupTagsDelimiter").INSTAMADILLO_TAG_DELIMITER),threadId:f}));return(h||(h=b("Promise"))).resolve()}g.writeToMPSTables=a;g.writeTagsToMPSTables=e}),98);
__d("MAWBridgeUploadMessageGQLHandler",["I64","JSResourceForInteraction","LSEncryptedBackupsBackupTenancy","LSIntEnum","MAWEBFrontendQPLLogger","MAWEncryptedBackupUtils","MAWSharedWriteToMPSTables","Promise","WALogger","asyncToGeneratorRuntime","gkx","isInstamadilloEB"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] uploadMessage.authTs is null for the message"]);k=function(){return a};return a}function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("isInstamadilloEB")())return(j||(j=b("Promise"))).resolve();var f=(yield d("MAWEncryptedBackupUtils").getBackupTenancy(a));e=(yield (j||(j=b("Promise"))).all(e.map(function(b){var e=b.protoMsg;if(f==null||!(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))){o(b.uploadTrackingInstanceKey,"user_device_not_enrolled_invalid_echo_request");return}var g=b.authTs;if(g==null){d("WALogger").ERROR(k());o(b.uploadTrackingInstanceKey,"message_auth_ts_is_null");return}return c("gkx")("23966")&&e!=null?d("MAWSharedWriteToMPSTables").writeToMPSTables(a,e,b.threadId,!1).then(function(){return b}):b})));yield m(a,e.filter(Boolean))});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield c("JSResourceForInteraction")("MAWEncryptedBackupsMessageUploadMutation").__setRef("MAWBridgeUploadMessageGQLHandler").load().then(function(c){return c.uploadMessageOverGQL(a,b)})});return n.apply(this,arguments)}function o(a,b){a!=null&&d("MAWEBFrontendQPLLogger").recordPointAndEndFlow(a,b)}g.call=a}),98);
__d("MWEBODSUtils",["CurrentMessengerUser","MWEBODSCategory","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("CurrentMessengerUser").getAppID();e=e!=null?e.toString():"unknown";e=a+"."+e;(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),e,b);h.bumpEntityKey(c("MWEBODSCategory"),a,b)}g.markODSForEB=a}),98);
__d("MAWBridgeUploadMessageHandler",["FBLogger","I64","LSDataTraceCheckPoint","LSEncryptedBackupsAttachmentErrorCode","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSIssueMessageBackupStoredProcedure","LSIssueMessageRemoveStoredProcedure","LSMEBTaskCreationSource","LSShape","LSTamThreadSubtype","LSVec","MAWEBFrontendQPLLogger","MAWEncryptedBackupUtils","MAWJobDefinitions","MAWMsgType","MAWReceiveToUploadUtils","MAWSharedWriteToMPSTables","MAWTimeUtils","MAWTimedJob","MAWTraceUtils","MWEBODSEntityName.enum","MWEBODSUtils","Promise","WALogger","asyncToGeneratorRuntime","gkx","isInstamadillo","isInstamadilloEB","qex","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] uploadMessage.authTs is null for the message"]);k=function(){return a};return a}var l=c("requireDeferred")("EncryptedBackupTaskIssuedFalcoEvent").__setRef("MAWBridgeUploadMessageHandler"),m=c("gkx")("23994");function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f,g;if(c("isInstamadilloEB")())return(j||(j=b("Promise"))).resolve();d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+((f=e.messageType)!=null?f:"unknown"));f=e.protoMsg;var n=e.traceId,p=(yield d("MAWEncryptedBackupUtils").getBackupTenancy(a,n,e.uploadTrackingInstanceKey));g=((g=e.uploadTrackingInstanceKey)!=null?g:e.traceId).toString();if(p==null||!(h||(h=d("I64"))).equal(p,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))){d("MAWEBFrontendQPLLogger").addPointAndEndFlowUploadMessageBackup(n,"user_device_not_enrolled_invalid_echo_request");if(e.uploadTrackingInstanceKey!=null){p=e.uploadTrackingInstanceKey;d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(p,"user_device_not_enrolled_invalid_echo_request");d("MAWEBFrontendQPLLogger").endEBUploadTracking(p)}d("MAWTraceUtils").recordCheckpointForTrace(g,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED),[],!1);d("MAWTraceUtils").recordInvalidUploadRequestAndFlushTrace(g,i.ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST),[]);return}n=e.echoDocument;p=e.authTs;if(p==null){d("WALogger").ERROR(k());return}if(e.actionType===1){var q=e.echoEncodingLatencyNs,r=e.errorCode,s=e.errorMessage;d("MAWEBFrontendQPLLogger").addPointUploadMessageBackup(e.traceId,"issuing_message_backup");e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"issuing_message_backup");var t;if(c("gkx")("23966")&&f!=null)try{var u;yield d("MAWSharedWriteToMPSTables").writeToMPSTables(a,f,e.threadId,!1);t=d("LSShape").ofRecord({act_thread_id:e.threadId,attachment_payload:null,backup_action:(i||(i=d("LSIntEnum"))).ofNumber(f.backupActionType),message_timestamp_ms:d("MAWTimeUtils").toTimestamp(f.serverTs),supplemental_key:f.supplementalKey,toplevel_offline_threading_id:(u=(u=f.originalMsgProtocolId)==null?void 0:u.externalId)!=null?u:f.msgId.externalId})}catch(a){c("FBLogger")("labyrinth_web").mustfix("[labyrinth_web] Error writing to MPSTables for the upload message")}var v;if(m&&e.attachmentBackupContext!=null){u=o(e.attachmentBackupContext,null);u!=null&&(v=d("LSShape").ofRecord(u))}e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addAnnotationEBUploadTracking(e.uploadTrackingInstanceKey,{bool:{attachment_backup_context:v!=null,protobuf_context:t!=null}});if(e.messageType!=null){f=d("MAWMsgType").isMAWSupportedMediaType(e.messageType)?"media":"non-media";d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+f)}v!=null&&d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.attachment_unified_backup");yield c("LSIssueMessageBackupStoredProcedure")(c("LSFactory")(a),{actThreadId:e.threadId,attachmentBackupContext:v,authoritativeTs:(h||(h=d("I64"))).of_float(p*1e3),echoDocument:(u=n)!=null?u:"",echoEncodingLatencyNs:q!=null?(h||(h=d("I64"))).of_float(q):void 0,error:r!=null?(i||(i=d("LSIntEnum"))).ofNumber(r):void 0,errorMessage:s!=null?s:void 0,isInstamadillo:c("isInstamadillo")(),otid:e.messageId,protobufBackupContext:t,source:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM),tamThreadSubtype:i.ofNumber(c("isInstamadillo")()?c("LSTamThreadSubtype").BLEND_DUAL_SEND:c("LSTamThreadSubtype").STANDARD),traceId:g});e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_upload_task_issued");d("MAWReceiveToUploadUtils").checkUploadEligbility(e.messageId)&&void l.load().then(function(a){return a.log(function(){return{message_id:e.messageId,trace_id:e.traceId}})});(c("gkx")("23947")||c("qex")._("229")===!0)&&void d("MAWTimedJob").TimedUIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.postBackupWriteCompletionHook([g]))}else e.actionType===2&&(yield c("LSIssueMessageRemoveStoredProcedure")(c("LSFactory")(a),{actThreadId:e.threadId,authoritativeTs:(h||(h=d("I64"))).of_float(p*1e3),otid:e.messageId,source:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM),traceId:g}),e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_remove_task_issued"))});return n.apply(this,arguments)}function o(a,b){if(a.attachmentInfos.length!==1)return;var e=a.attachmentInfos[0];e=c("LSVec").ofArray([d("LSShape").ofRecord({attachment_trace_id:e.attachmentTraceId,media_type:e.mediaType,zippy_object_id:e.zippyObjectId})]);var f=(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsAttachmentErrorCode").NO_ERROR);a.error!=null&&(f=(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsAttachmentErrorCode").UNKNOWN_ERROR));e={attachment_infos:e,error:f,error_message:null,product_type:a.productType,server_thread_key:b};return e}g.call=a}),98);
__d("MAWBridgeUploadMessageByBatchHandler",["MAWBridgeTraceRecordCheckpointHandler","MAWBridgeUploadMessageGQLHandler","MAWBridgeUploadMessageHandler","MAWEBFrontendQPLLogger","Promise","QPLUserFlow","WALogger","asyncToGeneratorRuntime","gkx","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] Error in GQL upload batch of size "," , error: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] Successfully completed GQL upload batch of size ",""]);j=function(){return a};return a}function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("gkx")("381")||c("qex")._("973")===!0){for(var f of e.messages)f.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(f.uploadTrackingInstanceKey,"upload_tracking_bridge_handler");try{yield d("MAWBridgeUploadMessageGQLHandler").call(a,e.messages),d("WALogger").LOG(j(),e.messages.length),l(e,"gql_upload_complete")}catch(a){l(e,"upload_failed"),d("WALogger").ERROR(i(),e.messages.length,a)}return(h||(h=b("Promise"))).resolve()}e.qpl.forEach(function(a){return c("QPLUserFlow").addPoint(a.event,a.action.name,{instanceKey:a.instanceKey,timestamp:a.timestamp})});e.checkPoint.forEach(function(b){return c("promiseDone")(d("MAWBridgeTraceRecordCheckpointHandler").call(a,b))});for(f of e.messages)f.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(f.uploadTrackingInstanceKey,"upload_tracking_bridge_handler"),yield d("MAWBridgeUploadMessageHandler").call(a,f);return(h||(h=b("Promise"))).resolve()});return k.apply(this,arguments)}function l(a,b){for(a of a.messages){var c=a.uploadTrackingInstanceKey;c!=null&&d("MAWEBFrontendQPLLogger").recordPointAndEndFlow(c,b)}}g.call=a}),98);
__d("ReverbWriteFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5829");b=d("FalcoLoggerInternal").create("reverb_write_failure",a);e=b;g["default"]=e}),98);
__d("ReverbWriteSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5831");b=d("FalcoLoggerInternal").create("reverb_write_success",a);e=b;g["default"]=e}),98);
__d("WebStorageManagerEstimatesFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2144");b=d("FalcoLoggerInternal").create("web_storage_manager_estimates",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("InstagramWebDiscoveryModuleFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2843");b=d("FalcoLoggerInternal").create("instagram_web_discovery_module",a);e=b;g["default"]=e}),98);
__d("InstamadilloMessageIdUtils",["FBLogger","I64","MAWUnsafeCoerce","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){var c;(h||(h=d("I64"))).isI64(a)?c=(h||(h=d("I64"))).to_string(a):c=a;return c+":"+b}function a(a){a=a.split(":");if(a.length!==2)throw c("FBLogger")("igd_web_on_msgr").mustfixThrow("Invalid instamadillo message id format. Format is <threadKey>:<stanzaId>.");return{stanzaId:a[1],threadKey:a[0]}}function b(a){a=a.split(":");if(a.length!==2){c("FBLogger")("igd_web_on_msgr").warn("Invalid instamadillo message id format. Format is <threadKey>:<stanzaId>.");return null}return{stanzaId:a[1],threadKey:a[0]}}function e(a){a=a.message.decrypted.id;return j(a)}function j(a){var b=a.externalId;a=d("WAJids").threadIdForChatJid(a.chat);return i(a,b)}function f(a,b,c){return{author:d("WAJids").toMsgrUserJid(c),chat:d("WAJids").toMsgrUserJid((h||(h=d("I64"))).to_string(a)),externalId:d("MAWUnsafeCoerce").unsafeCoerce(b)}}g.toInstamadilloMessageId=i;g.fromInstamadilloMessageId=a;g.maybeFromInstamadilloMessageId=b;g.getInstamadilloMessageIdFromStanza=e;g.getInstamadilloMessageIdFromProtocolMsgId=j;g.toProtocolMsgId=f}),98);
__d("InstamadilloReplyAttachmentId",["I64","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b.threadKey,b.messageId)));if(a==null)return;return(h||(h=d("I64"))).of_string(a.attachmentFbid)});return i.apply(this,arguments)}g.getReplyAttachmentId=a}),98);
__d("InstamadilloReplyAttachmentType",["LSIntEnum","LSReplyMessageAttachmentType","MessagingAttachmentType","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(e={},e[(f=c("MessagingAttachmentType")).STICKER]=(c=c("LSReplyMessageAttachmentType")).STICKER,e[f.SELFIE_STICKER]=c.STICKER,e[f.IMAGE]=c.PHOTO,e[f.ANIMATED_IMAGE]=c.GIF,e[f.VIDEO]=c.VIDEO,e[f.AUDIO]=c.AUDIO,e[f.XMA]=c.XMA,e[f.EPHEMERAL_IMAGE]=c.PERMANENT_RAVEN_PHOTO,e[f.EPHEMERAL_VIDEO]=c.PERMANENT_RAVEN_VIDEO,e[f.SOUND_BITE]=c.SOUND_BITE,e[f.POWER_UP]=c.POWER_UP,e[f.FILE]=c.OTHER,e[f.CATALOG_ITEM]=c.OTHER,e);function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b.threadKey,b.messageId)));if(a==null)return;b=(h||(h=d("LSIntEnum"))).unwrapIntEnum(a.attachmentType);a=i[b];if(a!=null)return(h||(h=d("LSIntEnum"))).ofNumber(a)});return j.apply(this,arguments)}g.getReplyAttachmentType=a}),98);
__d("InstamadilloReplySnippet",["CurrentMessengerUser","I64","LSMessagingThreadTypeUtil","PolarisDirectStrings"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){var c;d("PolarisDirectStrings").REPLIED_TO;a&&b?c=d("PolarisDirectStrings").YOU_REPLIED_TO_YOURSELF:b?c=d("PolarisDirectStrings").REPLIED_TO_YOU:a?c=d("PolarisDirectStrings").YOU_REPLIED:c=d("PolarisDirectStrings").REPLIED_TO_THEMSELVES;return c.toString()}function j(a,b,c,e,f){var g=d("PolarisDirectStrings").userRepliedToUser(f,e);b&&c?g=d("PolarisDirectStrings").YOU_REPLIED_TO_YOURSELF:c?g=d("PolarisDirectStrings").userRepliedToYou(f):b?g=d("PolarisDirectStrings").youRepliedToUser(e):a&&(g=d("PolarisDirectStrings").userRepliedToThemselves(f));return g.toString()}function a(a,b,c){var e=b.name,f=c.name,g=(h||(h=d("I64"))).of_string(d("CurrentMessengerUser").getIDorEIMU()),k=h.equal(b.id,c.id);b=h.equal(b.id,g);c=h.equal(c.id,g);g=d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType);if(g)return i(b,c);else return j(k,b,c,f,e)}g.getReplySnippet=a}),98);
__d("InstamadilloReplySourceTypeV2",["LSIntEnum","LSMessageReplySourceTypeV2","LSXmaContentType","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){switch(a){case c("LSXmaContentType").IG_STORY_PHOTO_SHARE:case c("LSXmaContentType").IG_STORY_VIDEO_SHARE:case c("LSXmaContentType").IG_STORY_PHOTO_MENTION:case c("LSXmaContentType").IG_STORY_VIDEO_MENTION:case c("LSXmaContentType").IG_STORY_PHOTO_HIGHLIGHT_SHARE:case c("LSXmaContentType").IG_STORY_VIDEO_HIGHLIGHT_SHARE:return!0;default:return!1}}function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=c("LSMessageReplySourceTypeV2").MESSAGE;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b.threadKey,b.messageId)));b=a;if((b==null?void 0:b.xmaContentType)!=null){a=(h||(h=d("LSIntEnum"))).unwrapIntEnum(b.xmaContentType);i(a)&&(e=c("LSMessageReplySourceTypeV2").STORY);e=c("LSMessageReplySourceTypeV2").XMA}return(h||(h=d("LSIntEnum"))).ofNumber(e)});return j.apply(this,arguments)}g.getReplySourceTypeV2=a}),98);
__d("InstamadilloReplyStatus",["I64","LSIntEnum","LSReplyMessageStatus","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.isUnsent?c("LSReplyMessageStatus").DELETED:c("LSReplyMessageStatus").VALID;if(a.ephemeralExpirationTs!=null){a=(h||(h=d("I64"))).to_int32(h.sub(a.ephemeralExpirationTs,h.of_float(d("WATimeUtils").unixTime())));a<=0&&(b=c("LSReplyMessageStatus").EXPIRED)}return(i||(i=d("LSIntEnum"))).ofNumber(b)}g.getReplyStatusType=a}),98);
__d("InstamadilloReplyMessageParams",["InstamadilloReplyAttachmentId","InstamadilloReplyAttachmentType","InstamadilloReplySnippet","InstamadilloReplySourceTypeV2","InstamadilloReplyStatus","LSIntEnum","LSMessageReplySourceType","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){return{replyMessageText:void 0,replySnippet:void 0,replySourceId:void 0,replySourceType:void 0,replySourceTypeV2:void 0,replyStatus:void 0,replyToUserId:void 0}}function e(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){a=(yield (i||(i=b("Promise"))).all([g.threads.get(a),g.contacts.get(e),g.messages.index("messageId").get(f)]));e=a[0];var j=a[1];a=a[2];f={replySourceId:f};if(j==null||e==null||a==null)return f;f.replySourceId=a.messageId;f.replySourceTimestampMs=a.timestampMs;f.replyToUserId=a.senderId;f.replyMessageText=a.text;f.replyStatus=d("InstamadilloReplyStatus").getReplyStatusType(a);var k=(yield g.contacts.get(a.senderId));k!=null&&(f.replySnippet=d("InstamadilloReplySnippet").getReplySnippet(e,j,k));f.replySourceType=(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE);e=(yield i.all([d("InstamadilloReplySourceTypeV2").getReplySourceTypeV2(g,a),d("InstamadilloReplyAttachmentType").getReplyAttachmentType(g,a),d("InstamadilloReplyAttachmentId").getReplyAttachmentId(g,a)]));j=e[0];k=e[1];g=e[2];f.replySourceTypeV2=j;f.replyAttachmentType=k;f.replyAttachmentId=g;return f});return j.apply(this,arguments)}g.getEmptyReplyMessageParams=a;g.getReplyMessageParams=e}),98);
__d("InstamadilloMessageFactory",["FBLogger","I64","InstamadilloMessageIdUtils","InstamadilloReplyMessageParams","LSAuthorityLevel","LSBitFlag","LSIntEnum","LSMessageRenderingType","LSMessageReplySourceTypeV2","LSMessageSendStatus","LSMessageThreadUnsendabilityStatus","LSQuickReplyType","MAWAuthor","MessagingAttachmentType","WAJids","WALongInt","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){var b=a.externalId,c=d("WAJids").threadIdForChatJid(a.chat);a=(h||(h=d("I64"))).of_string(d("WAJids").threadIdForChatJid(a.chat));c=d("InstamadilloMessageIdUtils").toInstamadilloMessageId(c,b);return{messageId:c,threadKey:a}}function a(a,b){var e=j(a),f=e.messageId;e=e.threadKey;a={attachmentFbid:a.externalId,attachmentIndex:(h||(h=d("I64"))).zero,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE),authorityLevel:h.of_int32(c("LSAuthorityLevel").AUTHORITATIVE),hasMedia:!0,hasXma:!1,isPreviewImage:!1,isSharable:!1,messageId:f,threadKey:e,timestampMs:b,transportKey:"Instamadillo",xmaLayoutType:h.zero,xmasTemplateType:h.zero};return a}function e(a){var b=j(a),c=b.messageId;b=b.threadKey;a={attachmentFbid:a.externalId,attachmentIndex:(h||(h=d("I64"))).zero,ctaId:h.zero,messageId:c,threadKey:b,title:""};return a}function f(a){var b=j(a),c=b.messageId;b=b.threadKey;a={attachmentFbid:a.externalId,attachmentIndex:(h||(h=d("I64"))).zero,defaultActionEnableExtensions:!1,messageId:c,threadKey:b};return a}function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=d("MAWAuthor").getAuthorUserJid(b.author);if(g==null)return c("FBLogger")("igd_web_on_msgr").warn("Skip createBaseInstamadilloMessage: a message cannot exist without an author");var i=b.externalId;g=(h||(h=d("I64"))).of_string(d("WAJids").userIdFromJid(g));b=j(b);var k=b.messageId;b=b.threadKey;a=(yield m(a,{messageId:k,offlineThreadingId:i,senderId:g,threadKey:b,timestampMs:e},f));return a});return l.apply(this,arguments)}function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f,g,j=b.authorityLevel,k=b.messageId,l=b.offlineThreadingId,m=b.senderId,n=b.threadKey;b=b.timestampMs;var o=(yield a.threads.get(n));o=(o=o==null?void 0:o.cannotUnsendReason)!=null?o:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND);var p={};f=e==null?void 0:(f=e.repliedToMessage)==null?void 0:f.repliedToMessageOtid;f!=null&&(p=(yield d("InstamadilloReplyMessageParams").getReplyMessageParams(n,m,d("InstamadilloMessageIdUtils").toInstamadilloMessageId(n,f),a)));a=e==null?void 0:(a=e.forwardingParams)==null?void 0:a.forwardedThreadId;a=a!=null;var q,r,s=!1;(e==null?void 0:(g=e.ephemeralityParams)==null?void 0:g.ephemeralDurationSec)!=null&&(b==null?s=!0:(q=d("WALongInt").maybeNumberOrThrowIfTooLarge(e.ephemeralityParams.ephemeralDurationSec),r=q!=null?d("WATimeUtils").futureUnixTime(q,d("WATimeUtils").castMilliSecondsToUnixTime((h||(h=d("I64"))).to_float(b))):void 0,s=r!=null&&r<d("WATimeUtils").unixTime()));e=babelHelpers["extends"]({authorityLevel:(g=j)!=null?g:(h||(h=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:o,displayedContentTypes:d("LSBitFlag").empty,editCount:(h||(h=d("I64"))).zero,ephemeralDurationInSec:q!=null?(h||(h=d("I64"))).of_float(q):void 0,ephemeralExpirationTs:r!=null?(h||(h=d("I64"))).of_float(r):void 0,hasQuickReplies:f!=null,isAdminMessage:!1,isCollapsed:!1,isExpired:s,isForwarded:a,isUnsent:!1,messageId:k,messageRenderingType:h.of_int32(c("LSMessageRenderingType").DEFAULT),offlineThreadingId:l,primarySortKey:b,quickReplyType:h.of_int32(c("LSQuickReplyType").NONE),replyAttachmentType:void 0,replySourceTypeV2:a?(h||(h=d("I64"))).of_int32(c("LSMessageReplySourceTypeV2").FORWARD):void 0,replyStatus:void 0,secondarySortKey:void 0,senderId:m,sendStatus:h.of_int32(c("LSMessageSendStatus").SERVER_RECEIVED),sendStatusV2:h.of_int32(2),threadKey:n,timestampMs:b,transportKey:"Instamadillo",unsentTimestampMs:void 0,viewFlags:h.zero},p);return e});return n.apply(this,arguments)}g.getThreadAndMessageId=j;g.createBaseAttachment=a;g.createBaseAttachmentCta=e;g.createBaseAttachmentItem=f;g.createBaseMessageForProtocolMsgId=k;g.createBaseMessage=m}),98);
__d("InstamadilloTextMessageUtils",["MWLinkRegex","URLMatcher","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("isStringNullOrEmpty")(a)?!1:c("URLMatcher").multiMatchToPattern(a,d("MWLinkRegex").getLinkRegex()).length>0&&c("URLMatcher").multiMatchToPattern(a,d("MWLinkRegex").getEmailRegex()).length===0}g.textHasLinks=a}),98);
__d("LSBumpThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.eq(a[1],b.i64.cast([0,1]))?b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0],lastActivityTimestampMs:a[0]})}):b.i64.eq(a[1],b.i64.cast([0,2]))?b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:a[0]})}):b.i64.eq(a[1],b.i64.cast([0,3]))?b.db.table(9).fetch([[[a[2]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,b.i64.le(d.lastActivityTimestampMs,d.lastReadWatermarkTimestampMs)?b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0],lastActivityTimestampMs:a[0]})}):b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:a[0]})}))}):b.resolve(0)},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSBumpThreadStoredProcedure",["LSBumpThread","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.bumpTimestampMs;d[1]=b.readStateEffect;d[2]=b.threadKey;return c("LSBumpThread").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSFetchInstamadilloMessage",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("offline_threading_id",a[1]),d[0].set("timestamp_sec",a[2]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,60012]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateThreadSnippet",["LSGetThreadParticipantDisplayName"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.resolve((d[1]="",d[0]=d[1]===""?void 0:d[1]))},function(e){return d[0]!==void 0?c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({snippet:d[0],snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,isAdminSnippet:a[2],snippetSenderContactId:a[3],snippetHasEmoji:a[4],viewedPluginKey:a[5],viewedPluginContext:a[6]})}):a[7]?c.sequence([function(e){return c.i64.neq(a[3],void 0)?c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[3]).then(function(a){return a=a,d[2]=a[0],a})},function(b){return a[1]!==void 0?(d[2]!==void 0?d[4]=[d[2],": ",a[1]].join(""):d[4]=a[1],d[3]=d[4]):d[3]=void 0,d[1]=d[3]}]):c.resolve(d[1]=a[1])},function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({snippet:d[1],snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,isAdminSnippet:a[2],snippetSenderContactId:a[3],snippetHasEmoji:a[4],viewedPluginKey:a[5],viewedPluginContext:a[6]})})}]):c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({snippet:a[1],snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,isAdminSnippet:a[2],snippetSenderContactId:a[3],snippetHasEmoji:a[4],viewedPluginKey:a[5],viewedPluginContext:a[6]})})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateThreadSnippetFromLastMessageV2",["LSGetThreadParticipantDisplayName","LSGetViewerFBID","LSUpdateThreadSnippet"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(12).fetchDesc([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.sequence([function(a){return d[5]=f.text,d[4]=f.threadKey,d[7]=c.i64.cast([0,0]),d[8]=f.messageId,d[3]=f.senderId,d[6]=f.stickerId,d[2]=f.isAdminMessage,d[0]=!0,d[2]||!d[0]?c.resolve(d[1]=d[5]==null?"":d[5]):c.sequence([function(a){return f.isUnsent?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return c.i64.eq(d[10],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2375715979]),void 0).then(function(a){return d[15]=a})},function(a){return d[11]=d[15]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[15]=a[0],a})},function(a){return d[16]=c.createArray(),d[18]=(d[16].push(d[15]),d[16]),c.localizeV2Async(c.i64.cast([0,3810165735]),d[16]).then(function(a){return d[17]=a})},function(a){return d[11]=d[17]}])},function(a){return c.db.table(9).fetch([[[d[4]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[12]=!1:(e=b.item,d[12]=[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(a){return c.i64.eq(e.threadType,a)}))})},function(a){return d[12]?c.sequence([function(a){return c.filter(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]}).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=[c.i64.cast([0,0]),void 0,void 0,void 0,void 0],d[15]=a[0],d[16]=a[1],d[17]=a[2],d[18]=a[3],d[19]=a[4],a):(e=b.item,a=[e.attachmentType,e.attributionAppName,e.defaultCtaType,e.descriptionText,e.xmaContentType],d[15]=a[0],d[16]=a[1],d[17]=a[2],d[18]=a[3],d[19]=a[4],a)})},function(a){return d[18]!==void 0?d[21]=d[18]:d[21]=d[11],d[14]=d[21]}]):c.resolve(d[14]=d[11])},function(a){return d[9]=d[14]}]):c.sequence([function(a){return c.sequence([function(a){return c.i64.eq(f.replyType,c.i64.cast([0,1]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return c.i64.eq(d[12],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1899892426]),void 0).then(function(a){return d[14]=a})},function(a){return d[13]=d[14]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[15]=c.createArray(),d[17]=(d[15].push(d[14]),d[15]),c.localizeV2Async(c.i64.cast([0,3287869262]),d[15]).then(function(a){return d[16]=a})},function(a){return d[13]=d[16]}])},function(a){return d[11]=d[13]}]):c.sequence([function(a){return d[5]!==void 0&&d[5]!==""?c.sequence([function(a){return d[15]=d[5]==null?"":d[5],c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[13]=a[0],a})},function(a){return c.i64.eq(d[13],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1890485478]),void 0).then(function(a){return d[16]=a})},function(a){return d[14]=[d[16],": ",d[15]].join("")}]):c.sequence([function(a){return c.db.table(9).fetch([[[d[4]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[16]=!1:(e=b.item,d[16]=c.i64.eq(e.threadType,c.i64.cast([0,2])))})},function(a){return d[16]||!1?c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[18]=[d[19],": ",d[15]].join("")}]):c.resolve(d[18]=d[15])},function(a){return d[14]=d[18]}])},function(a){return d[12]=d[14]}]):c.sequence([function(a){return c.i64.neq(d[6],void 0)&&[c.i64.cast([53057,267535043]),c.i64.cast([85970,924785702]),c.i64.cast([85970,1004785694]),c.i64.cast([85970,1044785690])].some(function(a){return c.i64.eq(d[6],a)})?c.sequence([function(a){return d[16]="\udb80\udc00",c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return c.i64.eq(d[14],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1890485478]),void 0).then(function(a){return d[17]=a})},function(a){return d[15]=[d[17],": ",d[16]].join("")}]):c.sequence([function(a){return c.db.table(9).fetch([[[d[4]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[17]=!1:(e=b.item,d[17]=c.i64.eq(e.threadType,c.i64.cast([0,2])))})},function(a){return d[17]||!1?c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[19]=[d[20],": ",d[16]].join("")}]):c.resolve(d[19]=d[16])},function(a){return d[15]=d[19]}])},function(a){return d[13]=d[15]}]):c.sequence([function(a){return c.i64.neq(d[6],void 0)?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[15]=a[0],a})},function(a){return c.i64.eq(d[15],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1299547062]),void 0).then(function(a){return d[17]=a})},function(a){return d[16]=d[17]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[18]=c.createArray(),d[20]=(d[18].push(d[17]),d[18]),c.localizeV2Async(c.i64.cast([0,3621454483]),d[18]).then(function(a){return d[19]=a})},function(a){return d[16]=d[19]}])},function(a){return d[14]=d[16]}]):c.sequence([function(a){return c.count(c.filter(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]})).then(function(a){return d[15]=a})},function(a){return c.i64.eq(d[15],c.i64.cast([0,0]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return c.i64.eq(d[17],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[19]=a})},function(a){return d[18]=d[19]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[20]=c.createArray(),d[22]=(d[20].push(d[19]),d[20]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[20]).then(function(a){return d[21]=a})},function(a){return d[18]=d[21]}])},function(a){return d[16]=d[18]}]):c.sequence([function(a){return c.i64.eq(d[15],c.i64.cast([0,1]))?c.sequence([function(a){return c.filter(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]}).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=[c.i64.cast([0,0]),void 0,void 0,void 0,void 0],d[18]=a[0],d[19]=a[1],d[20]=a[2],d[21]=a[3],d[22]=a[4],a):(e=b.item,a=[e.attachmentType,e.attributionAppName,e.defaultCtaType,e.descriptionText,e.xmaContentType],d[18]=a[0],d[19]=a[1],d[20]=a[2],d[21]=a[3],d[22]=a[4],a)})},function(a){return d[24]=void 0,d[24]===void 0&&(c.i64.eq(d[18],c.i64.cast([0,1]))||c.i64.eq(d[18],c.i64.cast([0,15])))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1299547062]),void 0).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,3621454483]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[24]=d[30]}]):c.resolve()},function(a){return d[24]===void 0&&(c.i64.eq(d[18],c.i64.cast([0,2]))||c.i64.eq(d[18],c.i64.cast([0,8])))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2106510577]),void 0).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,3960370133]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[24]=d[30]}]):c.resolve()},function(a){return d[24]===void 0&&c.i64.eq(d[18],c.i64.cast([0,3]))?c.sequence([function(a){return d[19]!==void 0?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.i64.eq(d[30],d[3])?c.sequence([function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[19]),d[32]),c.localizeV2Async(c.i64.cast([0,3798396796]),d[32]).then(function(a){return d[33]=a})},function(a){return d[31]=d[33]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=c.createArray(),d[35]=(d[33].push(d[32]),d[33]),d[35]=(d[33].push(d[19]),d[33]),c.localizeV2Async(c.i64.cast([0,3388601579]),d[33]).then(function(a){return d[34]=a})},function(a){return d[31]=d[34]}])},function(a){return d[29]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.i64.eq(d[30],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1556712457]),void 0).then(function(a){return d[32]=a})},function(a){return d[31]=d[32]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=c.createArray(),d[35]=(d[33].push(d[32]),d[33]),c.localizeV2Async(c.i64.cast([0,3601791933]),d[33]).then(function(a){return d[34]=a})},function(a){return d[31]=d[34]}])},function(a){return d[29]=d[31]}])},function(a){return d[24]=d[29]}]):c.resolve()},function(a){return d[24]===void 0&&(c.i64.eq(d[18],c.i64.cast([0,4]))||c.i64.eq(d[18],c.i64.cast([0,9])))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3759817031]),void 0).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,2934729541]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[24]=d[30]}]):c.resolve()},function(a){return d[24]===void 0&&c.i64.eq(d[18],c.i64.cast([0,5]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,392493418]),void 0).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,4085467454]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[24]=d[30]}]):c.resolve()},function(a){return d[24]===void 0&&c.i64.eq(d[18],c.i64.cast([0,10]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2738683656]),void 0).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,2996525642]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[24]=d[30]}]):c.resolve()},function(a){return c.i64.neq(d[22],void 0)?d[25]=d[22]:(d[20]==="xma_live_location_sharing"?d[29]=c.i64.cast([0,5e3]):d[29]=void 0,d[25]=d[29]),c.i64.neq(d[25],void 0)?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[25],c.i64.cast([-1,4294967295]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.i64.eq(d[31],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[33]=a})},function(a){return d[32]=d[33]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[34]=c.createArray(),d[36]=(d[34].push(d[33]),d[34]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[34]).then(function(a){return d[35]=a})},function(a){return d[32]=d[35]}])},function(a){return d[30]=d[32]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,0]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[32],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[34]=a})},function(a){return d[33]=d[34]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[34]),d[35]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[35]).then(function(a){return d[36]=a})},function(a){return d[33]=d[36]}])},function(a){return d[31]=d[33]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.i64.eq(d[33],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[35]=a})},function(a){return d[34]=d[35]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[36]=c.createArray(),d[38]=(d[36].push(d[35]),d[36]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[36]).then(function(a){return d[37]=a})},function(a){return d[34]=d[37]}])},function(a){return d[32]=d[34]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[34]=a[0],a})},function(a){return c.i64.eq(d[34],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[36]=a})},function(a){return d[35]=d[36]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[37]=c.createArray(),d[39]=(d[37].push(d[36]),d[37]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[37]).then(function(a){return d[38]=a})},function(a){return d[35]=d[38]}])},function(a){return d[33]=d[35]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.i64.eq(d[35],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285746939]),void 0).then(function(a){return d[37]=a})},function(a){return d[36]=d[37]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[38]=c.createArray(),d[40]=(d[38].push(d[37]),d[38]),c.localizeV2Async(c.i64.cast([0,3759448420]),d[38]).then(function(a){return d[39]=a})},function(a){return d[36]=d[39]}])},function(a){return d[34]=d[36]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1003]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.i64.eq(d[36],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3719716921]),void 0).then(function(a){return d[38]=a})},function(a){return d[37]=d[38]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=c.createArray(),d[41]=(d[39].push(d[38]),d[39]),c.localizeV2Async(c.i64.cast([0,284944921]),d[39]).then(function(a){return d[40]=a})},function(a){return d[37]=d[40]}])},function(a){return d[35]=d[37]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1004]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.i64.eq(d[37],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[39]=a})},function(a){return d[40]=c.createArray(),d[42]=(d[40].push(d[39]),d[40]),c.localizeV2Async(c.i64.cast([0,3322002377]),d[40]).then(function(a){return d[41]=a})},function(a){return d[38]=d[41]}]):c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2486550278]),void 0).then(function(a){return d[39]=a})},function(a){return d[38]=d[39]}])},function(a){return d[36]=d[38]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1005]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[38]=a[0],a})},function(a){return c.i64.eq(d[38],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3557790945]),void 0).then(function(a){return d[40]=a})},function(a){return d[39]=d[40]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return d[41]=c.createArray(),d[43]=(d[41].push(d[40]),d[41]),c.localizeV2Async(c.i64.cast([0,3756846086]),d[41]).then(function(a){return d[42]=a})},function(a){return d[39]=d[42]}])},function(a){return d[37]=d[39]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1006]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.i64.eq(d[39],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[41]=a})},function(a){return d[40]=d[41]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return d[42]=c.createArray(),d[44]=(d[42].push(d[41]),d[42]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[42]).then(function(a){return d[43]=a})},function(a){return d[40]=d[43]}])},function(a){return d[38]=d[40]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1007]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.i64.eq(d[40],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3719716921]),void 0).then(function(a){return d[42]=a})},function(a){return d[41]=d[42]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[43]=c.createArray(),d[45]=(d[43].push(d[42]),d[43]),c.localizeV2Async(c.i64.cast([0,284944921]),d[43]).then(function(a){return d[44]=a})},function(a){return d[41]=d[44]}])},function(a){return d[39]=d[41]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1008]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.i64.eq(d[41],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[43]=a})},function(a){return d[42]=d[43]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[44]=c.createArray(),d[46]=(d[44].push(d[43]),d[44]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[44]).then(function(a){return d[45]=a})},function(a){return d[42]=d[45]}])},function(a){return d[40]=d[42]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1009]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.i64.eq(d[42],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,780378803]),void 0).then(function(a){return d[44]=a})},function(a){return d[43]=d[44]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[45]=c.createArray(),d[47]=(d[45].push(d[44]),d[45]),c.localizeV2Async(c.i64.cast([0,3918212613]),d[45]).then(function(a){return d[46]=a})},function(a){return d[43]=d[46]}])},function(a){return d[41]=d[43]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1010]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.i64.eq(d[43],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3161890215]),void 0).then(function(a){return d[45]=a})},function(a){return d[44]=d[45]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[46]=c.createArray(),d[48]=(d[46].push(d[45]),d[46]),c.localizeV2Async(c.i64.cast([0,863428456]),d[46]).then(function(a){return d[47]=a})},function(a){return d[44]=d[47]}])},function(a){return d[42]=d[44]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1011]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.i64.eq(d[44],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2716405471]),void 0).then(function(a){return d[46]=a})},function(a){return d[45]=d[46]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[47]=c.createArray(),d[49]=(d[47].push(d[46]),d[47]),c.localizeV2Async(c.i64.cast([0,3909474073]),d[47]).then(function(a){return d[48]=a})},function(a){return d[45]=d[48]}])},function(a){return d[43]=d[45]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1012]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.i64.eq(d[45],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1522141193]),void 0).then(function(a){return d[47]=a})},function(a){return d[46]=d[47]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[48]=c.createArray(),d[50]=(d[48].push(d[47]),d[48]),c.localizeV2Async(c.i64.cast([0,2804766375]),d[48]).then(function(a){return d[49]=a})},function(a){return d[46]=d[49]}])},function(a){return d[44]=d[46]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1013]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.i64.eq(d[46],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1522141193]),void 0).then(function(a){return d[48]=a})},function(a){return d[47]=d[48]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return d[49]=c.createArray(),d[51]=(d[49].push(d[48]),d[49]),c.localizeV2Async(c.i64.cast([0,2804766375]),d[49]).then(function(a){return d[50]=a})},function(a){return d[47]=d[50]}])},function(a){return d[45]=d[47]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1014]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.i64.eq(d[47],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[49]=a})},function(a){return d[50]=c.createArray(),d[52]=(d[50].push(d[49]),d[50]),c.localizeV2Async(c.i64.cast([0,3322002377]),d[50]).then(function(a){return d[51]=a})},function(a){return d[48]=d[51]}]):c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2486550278]),void 0).then(function(a){return d[49]=a})},function(a){return d[48]=d[49]}])},function(a){return d[46]=d[48]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1015]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.i64.eq(d[48],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[50]=a})},function(a){return d[49]=d[50]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return d[51]=c.createArray(),d[53]=(d[51].push(d[50]),d[51]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[51]).then(function(a){return d[52]=a})},function(a){return d[49]=d[52]}])},function(a){return d[47]=d[49]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1016]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.i64.eq(d[49],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[51]=a})},function(a){return d[50]=d[51]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return d[52]=c.createArray(),d[54]=(d[52].push(d[51]),d[52]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[52]).then(function(a){return d[53]=a})},function(a){return d[50]=d[53]}])},function(a){return d[48]=d[50]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1017]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.i64.eq(d[50],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[52]=a})},function(a){return d[51]=d[52]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return d[53]=c.createArray(),d[55]=(d[53].push(d[52]),d[53]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[53]).then(function(a){return d[54]=a})},function(a){return d[51]=d[54]}])},function(a){return d[49]=d[51]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1018]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.i64.eq(d[51],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[53]=a})},function(a){return d[52]=d[53]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[54]=c.createArray(),d[56]=(d[54].push(d[53]),d[54]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[54]).then(function(a){return d[55]=a})},function(a){return d[52]=d[55]}])},function(a){return d[50]=d[52]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1019]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.i64.eq(d[52],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[54]=a})},function(a){return d[53]=d[54]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[55]=c.createArray(),d[57]=(d[55].push(d[54]),d[55]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[55]).then(function(a){return d[56]=a})},function(a){return d[53]=d[56]}])},function(a){return d[51]=d[53]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2e3]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.i64.eq(d[54],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[56]=a})},function(a){return d[55]=d[56]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[57]=c.createArray(),d[59]=(d[57].push(d[56]),d[57]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[57]).then(function(a){return d[58]=a})},function(a){return d[55]=d[58]}])},function(a){return d[53]=d[55]}])},function(a){return d[52]=d[53]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.i64.eq(d[54],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285746939]),void 0).then(function(a){return d[56]=a})},function(a){return d[55]=d[56]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[57]=c.createArray(),d[59]=(d[57].push(d[56]),d[57]),c.localizeV2Async(c.i64.cast([0,3759448420]),d[57]).then(function(a){return d[58]=a})},function(a){return d[55]=d[58]}])},function(a){return d[53]=d[55]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.i64.eq(d[55],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3719716921]),void 0).then(function(a){return d[57]=a})},function(a){return d[56]=d[57]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[58]=c.createArray(),d[60]=(d[58].push(d[57]),d[58]),c.localizeV2Async(c.i64.cast([0,284944921]),d[58]).then(function(a){return d[59]=a})},function(a){return d[56]=d[59]}])},function(a){return d[54]=d[56]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2003]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.i64.eq(d[57],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[59]=a})},function(a){return d[58]=d[59]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return d[60]=c.createArray(),d[62]=(d[60].push(d[59]),d[60]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[60]).then(function(a){return d[61]=a})},function(a){return d[58]=d[61]}])},function(a){return d[56]=d[58]}])},function(a){return d[55]=d[56]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2004]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.i64.eq(d[57],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[59]=a})},function(a){return d[58]=d[59]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return d[60]=c.createArray(),d[62]=(d[60].push(d[59]),d[60]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[60]).then(function(a){return d[61]=a})},function(a){return d[58]=d[61]}])},function(a){return d[56]=d[58]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2005]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.i64.eq(d[58],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,772459202]),void 0).then(function(a){return d[60]=a})},function(a){return d[59]=d[60]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return d[61]=c.createArray(),d[63]=(d[61].push(d[60]),d[61]),c.localizeV2Async(c.i64.cast([0,3546068912]),d[61]).then(function(a){return d[62]=a})},function(a){return d[59]=d[62]}])},function(a){return d[57]=d[59]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2006]))?c.sequence([function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.i64.eq(d[60],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2459540079]),void 0).then(function(a){return d[62]=a})},function(a){return d[61]=d[62]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[62]=a[0],a})},function(a){return d[63]=c.createArray(),d[65]=(d[63].push(d[62]),d[63]),c.localizeV2Async(c.i64.cast([0,1596311291]),d[63]).then(function(a){return d[64]=a})},function(a){return d[61]=d[64]}])},function(a){return d[59]=d[61]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.i64.eq(d[60],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2253698324]),void 0).then(function(a){return d[62]=a})},function(a){return d[61]=d[62]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[62]=a[0],a})},function(a){return d[63]=c.createArray(),d[65]=(d[63].push(d[62]),d[63]),c.localizeV2Async(c.i64.cast([0,4269602817]),d[63]).then(function(a){return d[64]=a})},function(a){return d[61]=d[64]}])},function(a){return d[59]=d[61]}])},function(a){return d[58]=d[59]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2007]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.i64.eq(d[61],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[63]=a})},function(a){return d[62]=d[63]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[63]=a[0],a})},function(a){return d[64]=c.createArray(),d[66]=(d[64].push(d[63]),d[64]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[64]).then(function(a){return d[65]=a})},function(a){return d[62]=d[65]}])},function(a){return d[60]=d[62]}])},function(a){return d[59]=d[60]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2008]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.i64.eq(d[61],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[63]=a})},function(a){return d[62]=d[63]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[63]=a[0],a})},function(a){return d[64]=c.createArray(),d[66]=(d[64].push(d[63]),d[64]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[64]).then(function(a){return d[65]=a})},function(a){return d[62]=d[65]}])},function(a){return d[60]=d[62]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2009]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[63]=a[0],a})},function(a){return c.i64.eq(d[63],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[65]=a})},function(a){return d[64]=d[65]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[65]=a[0],a})},function(a){return d[66]=c.createArray(),d[68]=(d[66].push(d[65]),d[66]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[66]).then(function(a){return d[67]=a})},function(a){return d[64]=d[67]}])},function(a){return d[62]=d[64]}])},function(a){return d[61]=d[62]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2010]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[63]=a[0],a})},function(a){return c.i64.eq(d[63],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[65]=a})},function(a){return d[64]=d[65]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[65]=a[0],a})},function(a){return d[66]=c.createArray(),d[68]=(d[66].push(d[65]),d[66]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[66]).then(function(a){return d[67]=a})},function(a){return d[64]=d[67]}])},function(a){return d[62]=d[64]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2011]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[64]=a[0],a})},function(a){return c.i64.eq(d[64],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[66]=a})},function(a){return d[65]=d[66]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[66]=a[0],a})},function(a){return d[67]=c.createArray(),d[69]=(d[67].push(d[66]),d[67]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[67]).then(function(a){return d[68]=a})},function(a){return d[65]=d[68]}])},function(a){return d[63]=d[65]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3e3]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[66]=a[0],a})},function(a){return c.i64.eq(d[66],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[68]=a})},function(a){return d[67]=d[68]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[68]=a[0],a})},function(a){return d[69]=c.createArray(),d[71]=(d[69].push(d[68]),d[69]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[69]).then(function(a){return d[70]=a})},function(a){return d[67]=d[70]}])},function(a){return d[65]=d[67]}])},function(a){return d[64]=d[65]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[66]=a[0],a})},function(a){return c.i64.eq(d[66],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[68]=a})},function(a){return d[67]=d[68]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[68]=a[0],a})},function(a){return d[69]=c.createArray(),d[71]=(d[69].push(d[68]),d[69]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[69]).then(function(a){return d[70]=a})},function(a){return d[67]=d[70]}])},function(a){return d[65]=d[67]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.i64.eq(d[67],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2973334239]),void 0).then(function(a){return d[69]=a})},function(a){return d[68]=d[69]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return d[70]=c.createArray(),d[72]=(d[70].push(d[69]),d[70]),c.localizeV2Async(c.i64.cast([0,3616471048]),d[70]).then(function(a){return d[71]=a})},function(a){return d[68]=d[71]}])},function(a){return d[66]=d[68]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3003]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[68]=a[0],a})},function(a){return c.i64.eq(d[68],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2973334239]),void 0).then(function(a){return d[70]=a})},function(a){return d[69]=d[70]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return d[71]=c.createArray(),d[73]=(d[71].push(d[70]),d[71]),c.localizeV2Async(c.i64.cast([0,3616471048]),d[71]).then(function(a){return d[72]=a})},function(a){return d[69]=d[72]}])},function(a){return d[67]=d[69]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3006]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[69]=a[0],a})},function(a){return c.i64.eq(d[69],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[71]=a})},function(a){return d[70]=d[71]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return d[72]=c.createArray(),d[74]=(d[72].push(d[71]),d[72]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[72]).then(function(a){return d[73]=a})},function(a){return d[70]=d[73]}])},function(a){return d[68]=d[70]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3007]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[70]=a[0],a})},function(a){return c.i64.eq(d[70],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[72]=a})},function(a){return d[71]=d[72]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return d[73]=c.createArray(),d[75]=(d[73].push(d[72]),d[73]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[73]).then(function(a){return d[74]=a})},function(a){return d[71]=d[74]}])},function(a){return d[69]=d[71]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3008]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.i64.eq(d[71],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[73]=a})},function(a){return d[72]=d[73]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return d[74]=c.createArray(),d[76]=(d[74].push(d[73]),d[74]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[74]).then(function(a){return d[75]=a})},function(a){return d[72]=d[75]}])},function(a){return d[70]=d[72]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3009]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.i64.eq(d[72],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[74]=a})},function(a){return d[73]=d[74]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return d[75]=c.createArray(),d[77]=(d[75].push(d[74]),d[75]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[75]).then(function(a){return d[76]=a})},function(a){return d[73]=d[76]}])},function(a){return d[71]=d[73]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3010]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[74]=a[0],a})},function(a){return c.i64.eq(d[74],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[76]=a})},function(a){return d[75]=d[76]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[76]=a[0],a})},function(a){return d[77]=c.createArray(),d[79]=(d[77].push(d[76]),d[77]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[77]).then(function(a){return d[78]=a})},function(a){return d[75]=d[78]}])},function(a){return d[73]=d[75]}])},function(a){return d[72]=d[73]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3012]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[74]=a[0],a})},function(a){return c.i64.eq(d[74],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[76]=a})},function(a){return d[75]=d[76]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[76]=a[0],a})},function(a){return d[77]=c.createArray(),d[79]=(d[77].push(d[76]),d[77]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[77]).then(function(a){return d[78]=a})},function(a){return d[75]=d[78]}])},function(a){return d[73]=d[75]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3014]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[76]=a[0],a})},function(a){return c.i64.eq(d[76],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[78]=a})},function(a){return d[77]=d[78]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[78]=a[0],a})},function(a){return d[79]=c.createArray(),d[81]=(d[79].push(d[78]),d[79]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[79]).then(function(a){return d[80]=a})},function(a){return d[77]=d[80]}])},function(a){return d[75]=d[77]}])},function(a){return d[74]=d[75]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3015]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[76]=a[0],a})},function(a){return c.i64.eq(d[76],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3471188061]),void 0).then(function(a){return d[78]=a})},function(a){return d[77]=d[78]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[78]=a[0],a})},function(a){return d[79]=c.createArray(),d[81]=(d[79].push(d[78]),d[79]),c.localizeV2Async(c.i64.cast([0,2776822462]),d[79]).then(function(a){return d[80]=a})},function(a){return d[77]=d[80]}])},function(a){return d[75]=d[77]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3016]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[77]=a[0],a})},function(a){return c.i64.eq(d[77],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[79]=a})},function(a){return d[78]=d[79]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[79]=a[0],a})},function(a){return d[80]=c.createArray(),d[82]=(d[80].push(d[79]),d[80]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[80]).then(function(a){return d[81]=a})},function(a){return d[78]=d[81]}])},function(a){return d[76]=d[78]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3017]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[78]=a[0],a})},function(a){return c.i64.eq(d[78],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[80]=a})},function(a){return d[79]=d[80]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[80]=a[0],a})},function(a){return d[81]=c.createArray(),d[83]=(d[81].push(d[80]),d[81]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[81]).then(function(a){return d[82]=a})},function(a){return d[79]=d[82]}])},function(a){return d[77]=d[79]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[79]=a[0],a})},function(a){return c.i64.eq(d[79],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[83]=a})},function(a){return d[80]=d[83]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[83]=a[0],a})},function(a){return d[80]=d[83]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[81]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,1739999037]),void 0).then(function(a){return d[82]=a})},function(a){return d[78]=d[82]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[80]=a[0],a})},function(a){return c.i64.eq(d[80],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[84]=a})},function(a){return d[81]=d[84]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[84]=a[0],a})},function(a){return d[81]=d[84]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[82]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,3373597599]),void 0).then(function(a){return d[83]=a})},function(a){return d[79]=d[83]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[81]=a[0],a})},function(a){return c.i64.eq(d[81],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[85]=a})},function(a){return d[82]=d[85]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[85]=a[0],a})},function(a){return d[82]=d[85]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[83]=a[0],a})},function(a){return c.i64.eq(d[83],d[3])?c.sequence([function(a){return d[85]=c.createArray(),d[87]=(d[85].push(d[82]),d[85]),c.localizeV2Async(c.i64.cast([0,259473449]),d[85]).then(function(a){return d[86]=a})},function(a){return d[84]=d[86]}]):c.sequence([function(a){return d[85]=c.createArray(),d[87]=(d[85].push(d[82]),d[85]),c.localizeV2Async(c.i64.cast([0,1338912959]),d[85]).then(function(a){return d[86]=a})},function(a){return d[84]=d[86]}])},function(a){return d[80]=d[84]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4003]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[82]=a[0],a})},function(a){return c.i64.eq(d[82],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[86]=a})},function(a){return d[83]=d[86]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[86]=a[0],a})},function(a){return d[83]=d[86]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[84]=a[0],a})},function(a){return c.i64.eq(d[84],d[3])?c.sequence([function(a){return d[86]=c.createArray(),d[88]=(d[86].push(d[83]),d[86]),c.localizeV2Async(c.i64.cast([0,812940701]),d[86]).then(function(a){return d[87]=a})},function(a){return d[85]=d[87]}]):c.sequence([function(a){return d[86]=c.createArray(),d[88]=(d[86].push(d[83]),d[86]),c.localizeV2Async(c.i64.cast([0,1099878966]),d[86]).then(function(a){return d[87]=a})},function(a){return d[85]=d[87]}])},function(a){return d[81]=d[85]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4004]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[83]=a[0],a})},function(a){return c.i64.eq(d[83],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[87]=a})},function(a){return d[84]=d[87]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[87]=a[0],a})},function(a){return d[84]=d[87]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[85]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,3443782102]),void 0).then(function(a){return d[86]=a})},function(a){return d[82]=d[86]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4005]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[84]=a[0],a})},function(a){return c.i64.eq(d[84],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[88]=a})},function(a){return d[85]=d[88]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[88]=a[0],a})},function(a){return d[85]=d[88]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[86]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,618905030]),void 0).then(function(a){return d[87]=a})},function(a){return d[83]=d[87]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4006]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[85]=a[0],a})},function(a){return c.i64.eq(d[85],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[89]=a})},function(a){return d[86]=d[89]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[89]=a[0],a})},function(a){return d[86]=d[89]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[87]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,2470414797]),void 0).then(function(a){return d[88]=a})},function(a){return d[84]=d[88]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4007]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[86]=a[0],a})},function(a){return c.i64.eq(d[86],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[90]=a})},function(a){return d[87]=d[90]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[90]=a[0],a})},function(a){return d[87]=d[90]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[88]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,1306024833]),void 0).then(function(a){return d[89]=a})},function(a){return d[85]=d[89]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,5e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[87]=a[0],a})},function(a){return c.i64.eq(d[87],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2135145355]),void 0).then(function(a){return d[89]=a})},function(a){return d[88]=d[89]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[89]=a[0],a})},function(a){return d[90]=c.createArray(),d[92]=(d[90].push(d[89]),d[90]),c.localizeV2Async(c.i64.cast([0,3603511704]),d[90]).then(function(a){return d[91]=a})},function(a){return d[88]=d[91]}])},function(a){return d[86]=d[88]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,6e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[88]=a[0],a})},function(a){return c.i64.eq(d[88],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[90]=a})},function(a){return d[89]=d[90]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[90]=a[0],a})},function(a){return d[91]=c.createArray(),d[93]=(d[91].push(d[90]),d[91]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[91]).then(function(a){return d[92]=a})},function(a){return d[89]=d[92]}])},function(a){return d[87]=d[89]}]):c.resolve(d[87]=void 0)},function(a){return d[86]=d[87]}])},function(a){return d[85]=d[86]}])},function(a){return d[84]=d[85]}])},function(a){return d[83]=d[84]}])},function(a){return d[82]=d[83]}])},function(a){return d[81]=d[82]}])},function(a){return d[80]=d[81]}])},function(a){return d[79]=d[80]}])},function(a){return d[78]=d[79]}])},function(a){return d[77]=d[78]}])},function(a){return d[76]=d[77]}])},function(a){return d[75]=d[76]}])},function(a){return d[74]=d[75]}])},function(a){return d[73]=d[74]}])},function(a){return d[72]=d[73]}])},function(a){return d[71]=d[72]}])},function(a){return d[70]=d[71]}])},function(a){return d[69]=d[70]}])},function(a){return d[68]=d[69]}])},function(a){return d[67]=d[68]}])},function(a){return d[66]=d[67]}])},function(a){return d[65]=d[66]}])},function(a){return d[64]=d[65]}])},function(a){return d[63]=d[64]}])},function(a){return d[62]=d[63]}])},function(a){return d[61]=d[62]}])},function(a){return d[60]=d[61]}])},function(a){return d[59]=d[60]}])},function(a){return d[58]=d[59]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}])},function(a){return d[55]=d[56]}])},function(a){return d[54]=d[55]}])},function(a){return d[53]=d[54]}])},function(a){return d[52]=d[53]}])},function(a){return d[51]=d[52]}])},function(a){return d[50]=d[51]}])},function(a){return d[49]=d[50]}])},function(a){return d[48]=d[49]}])},function(a){return d[47]=d[48]}])},function(a){return d[46]=d[47]}])},function(a){return d[45]=d[46]}])},function(a){return d[44]=d[45]}])},function(a){return d[43]=d[44]}])},function(a){return d[42]=d[43]}])},function(a){return d[41]=d[42]}])},function(a){return d[40]=d[41]}])},function(a){return d[39]=d[40]}])},function(a){return d[38]=d[39]}])},function(a){return d[37]=d[38]}])},function(a){return d[36]=d[37]}])},function(a){return d[35]=d[36]}])},function(a){return d[34]=d[35]}])},function(a){return d[33]=d[34]}])},function(a){return d[32]=d[33]}])},function(a){return d[31]=d[32]}])},function(a){return d[30]=d[31]}])},function(a){return d[26]=d[30]}]):c.resolve(d[26]=void 0)},function(a){return d[24]===void 0&&c.i64.eq(d[18],c.i64.cast([0,7]))&&d[26]!==void 0?d[24]=d[26]:0,c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.i64.eq(d[27],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[29]=a})},function(a){return d[28]=d[29]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[30]=c.createArray(),d[32]=(d[30].push(d[29]),d[30]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[30]).then(function(a){return d[31]=a})},function(a){return d[28]=d[31]}])},function(a){return d[17]=d[24]==null?d[28]:d[24]}]):c.sequence([function(a){return d[18]=!0,c.forEach(c.filter(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]}),function(a){a=a.item;return c.i64.eq(a.attachmentType,c.i64.cast([0,2]))?0:d[18]=!1})},function(a){return d[18]?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.i64.eq(d[20],d[3])?c.sequence([function(a){return d[22]=c.createArray(),d[24]=(d[22].push(d[15]),d[22]),c.localizeV2Async(c.i64.cast([0,705614308]),d[22]).then(function(a){return d[23]=a})},function(a){return d[21]=d[23]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[23]=c.createArray(),d[25]=(d[23].push(d[22]),d[23]),d[25]=(d[23].push(d[15]),d[23]),c.localizeV2Async(c.i64.cast([0,313217698]),d[23]).then(function(a){return d[24]=a})},function(a){return d[21]=d[24]}])},function(a){return d[19]=d[21]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.i64.eq(d[20],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3558654267]),void 0).then(function(a){return d[22]=a})},function(a){return d[21]=d[22]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[23]=c.createArray(),d[25]=(d[23].push(d[22]),d[23]),c.localizeV2Async(c.i64.cast([0,3422266740]),d[23]).then(function(a){return d[24]=a})},function(a){return d[21]=d[24]}])},function(a){return d[19]=d[21]}])},function(a){return d[17]=d[19]}])},function(a){return d[16]=d[17]}])},function(a){return d[14]=d[16]}])},function(a){return d[13]=d[14]}])},function(a){return d[12]=d[13]}])},function(a){return d[11]=d[12]}])},function(a){return d[10]=d[11]}])},function(a){return d[9]=d[10]}])},function(a){return d[1]=d[9]}])},function(e){return c.storedProcedure(b("LSUpdateThreadSnippet"),a[0],d[1],d[2],d[3],c.like(d[1],"%\udb80\udc00%"),void 0,void 0,!1)}]))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateThreadSnippetFromLastMessageV2StoredProcedure",["LSUpdateThreadSnippetFromLastMessageV2","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSUpdateThreadSnippetFromLastMessageV2").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MessageThreadReadState",[],(function(a,b,c,d,e,f){"use strict";a={MARK_READ:1,MARK_UNREAD:2,KEEP_AS_IS:3};b=a;f["default"]=b}),66);
__d("PolarisLoggedOutExploreModuleLogger",["CometRouteURL","InstagramWebDiscoveryModuleFalcoEvent","PolarisLogger","PolarisLoggerUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.component,e=a.containermodule,f=a.eventName,g=a.key;c("InstagramWebDiscoveryModuleFalcoEvent").log(function(){var a;return babelHelpers["extends"]({},d("PolarisLogger").getExtra(babelHelpers["extends"]({component:b,containermodule:e,event_name:f},g!=null&&{category:g})),{objid:d("PolarisLoggerUtils").trimAndSanitizeUrl((a=d("CometRouteURL").getWindowURL())!=null?a:"")})})}g.logExploreModuleEvent=a}),98);
__d("usePolarisPostToastPosition",["PolarisPanavisionQEHelpers","PolarisPostConstants","PolarisPostToastProvider.react","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.c,k=2,l=-4,m=-1,n=-6,o=16,p=1;function q(a){var b=a.isFeed,c=a.isNarrow,e=a.isSidecar,f=a.postToastContainerElem;a=a.setPositionStyles;if(f!=null){f=f.getBoundingClientRect();var g=f.left-(c?o:0),h={left:g},i=f.right-f.left+(c?2*o:0);b?d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp()?a({absolutePositionStyles:{left:f.left+p,top:f.bottom+window.pageYOffset-d("PolarisPostConstants").POST_TOAST_HEIGHT-2},width:f.width-p}):d("PolarisUA").isDesktop()?a({absolutePositionStyles:{left:g,top:f.top+window.pageYOffset-d("PolarisPostConstants").POST_TOAST_HEIGHT+n-(e?k:0)},width:i}):a({absolutePositionStyles:{left:g-p,top:f.top+window.pageYOffset-d("PolarisPostConstants").POST_TOAST_HEIGHT+n-(e?k:0)},width:i+p}):a({absolutePositionStyles:babelHelpers["extends"]({},h,{top:f.top+window.pageYOffset-d("PolarisPostConstants").POST_TOAST_HEIGHT+m-(c?l:0)}),width:i})}}function a(a){var b=j(13),c=a.isFeed,e=a.isNarrow,f=a.isSidecar;a=d("PolarisPostToastProvider.react").usePostToastContext();var g=a.positionStyles,h=a.postToastContainerElem,k=a.setPositionStyles;a=a.showToast;var l;b[0]!==c||b[1]!==e||b[2]!==f||b[3]!==h||b[4]!==k?(l=function(){return q({isFeed:c,isNarrow:e,isSidecar:f,postToastContainerElem:h,setPositionStyles:k})},b[0]=c,b[1]=e,b[2]=f,b[3]=h,b[4]=k,b[5]=l):l=b[5];var m;b[6]!==c||b[7]!==e||b[8]!==f||b[9]!==h||b[10]!==k||b[11]!==a?(m=[c,e,f,h,k,a],b[6]=c,b[7]=e,b[8]=f,b[9]=h,b[10]=k,b[11]=a,b[12]=m):m=b[12];i(l,m);return g}g["default"]=a}),98);
__d("PolarisPostToastImpl.react",["BasePortal.react","ExecutionEnvironment","IGDSText.react","PolarisIGAnimate","PolarisIGCoreButton.react","PolarisPostConstants","PolarisPostStrings","PolarisPostToastProvider.react","PolarisSizing","PolarisUA","browserHistory_DO_NOT_USE","react","stylex","usePolarisDisplayProperties","usePolarisPostToastPosition"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.c,n=3e3,o=350,p={toast:{alignContent:"xc26acl",alignItems:"x6s0dn4",backgroundColor:"xvbhtw8",borderEndColor:"x1nk0tez",borderEndStyle:"xu3j5b3",borderEndWidth:"xm81vs4",borderStartColor:"x1hm1hlx",borderStartStyle:"x26u7qi",borderStartWidth:"xy80clv",display:"x78zum5",$$css:!0},toastFamiliar:{borderBottomColor:"xh05dso",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",borderTopColor:"x1xp8e9x",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0}};function a(a){var b=m(19),e=a.isFeedVariant,f=a.isModal;a=a.isSidecar;var g;b[0]!==e?(g=e&&d("PolarisUA").isDesktop(),b[0]=e,b[1]=g):g=b[1];var j=g;g=d("PolarisPostToastProvider.react").usePostToastContext();var q=g.ActionText,r=g.BodyText,s=g.actionHref,t=g.setShowToast;g=g.showToast;var u=c("usePolarisDisplayProperties")();u=u.viewportWidth;u=u<d("PolarisSizing").SMALL_SCREEN_MAX;e=c("usePolarisPostToastPosition")({isFeed:e,isNarrow:u,isSidecar:a});a=(u=e==null?void 0:e.width)!=null?u:0;b[2]!==e||b[3]!==a?(u=e!=null?babelHelpers["extends"]({},e.absolutePositionStyles,{width:a}):null,b[2]=e,b[3]=a,b[4]=u):u=b[4];var v=u,w=a>o;b[5]!==t?(e=function(){var a=window.setTimeout(function(){t(!1)},n);return function(){return window.clearTimeout(a)}},b[5]=t,b[6]=e):e=b[6];l(e);u=d("PolarisIGAnimate").useFadeTransition({show:g===!0});b[7]!==f?(a=(h||(h=c("ExecutionEnvironment"))).canUseDOM?f?document.body:document.querySelector('[role="main"]'):null,b[7]=f,b[8]=a):a=b[8];b[9]!==v||b[10]!==j||b[11]!==r||b[12]!==s||b[13]!==q||b[14]!==w?(e=function(a,b){return b?k.jsx(d("PolarisIGAnimate").Animated.div,{className:"x10l6tqk xhtitgo",style:babelHelpers["extends"]({},a,v),children:k.jsx("div",{className:(i||(i=c("stylex")))(p.toast,j&&p.toastFamiliar),style:{height:d("PolarisPostConstants").POST_TOAST_HEIGHT},children:k.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np x1szn6h9 xyamay9 x1pi30zi x1l90r2v x1swvt13 xh8yej3",children:[k.jsx("div",{className:"x1iyjqo2",children:k.jsx(c("IGDSText.react").Label,{maxLines:1,textAlign:"start",children:r})}),k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:function(){var a;return d("browserHistory_DO_NOT_USE").redirect((a=s)!=null?a:"/")},children:q!=null&&w?q:d("PolarisPostStrings").POST_PAGE_ACTION_TEXT})]})})}):null},b[9]=v,b[10]=j,b[11]=r,b[12]=s,b[13]=q,b[14]=w,b[15]=e):e=b[15];g=u(e);b[16]!==a||b[17]!==g?(f=k.jsx(c("BasePortal.react"),{target:a,children:g}),b[16]=a,b[17]=g,b[18]=f):f=b[18];return f}g["default"]=a}),98);
__d("issueSendXMAReceiverFetchCometTask",["CometTaskFramework","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("CometTaskFramework")(d("MAWCurrentUser").getID()).issueTask("igd_send_xma_receiver_fetch",a)}g["default"]=a}),98);
__d("instamadilloBumpThread",["FBLogger","I64","LSBumpThreadStoredProcedure","LSFactory","LSIntEnum","MAWAuthor","MAWCurrentUser","MessageThreadReadState","WAJids","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=d("MAWAuthor").getAuthorUserJid(b.author);if(f==null)return c("FBLogger")("igd_web_on_msgr").warn("Skip instamadilloBumpThread: a message cannot exist without an author");f=(h||(h=d("I64"))).of_string(d("WAJids").userIdFromJid(f));b=h.of_string(d("WAJids").threadIdForChatJid(b.chat));var g=(yield a.threads.get(b));f=h.equal(f,h.of_string(d("MAWCurrentUser").getID()));f=(i||(i=d("LSIntEnum"))).ofNumber(f?c("MessageThreadReadState").KEEP_AS_IS:c("MessageThreadReadState").MARK_UNREAD);g=g==null?void 0:g.lastActivityTimestampMs;g!=null&&(h||(h=d("I64"))).ge(e,g)&&(yield c("LSBumpThreadStoredProcedure")(c("LSFactory")(a),{bumpTimestampMs:e,readStateEffect:f,threadKey:b}))});return j.apply(this,arguments)}g["default"]=a}),98);
__d("instamadilloReplyMessageUtils",["InstamadilloMessageIdUtils","InstamadilloReplyMessageParams","LSFactory","LSFetchInstamadilloMessage","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages.index("replySourceIdMessageID")).getKeyRange(c)));e=e.map(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield j(a,b,c)});return function(a){return d.apply(this,arguments)}}());yield (h||(h=b("Promise"))).all(e)});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){c=(yield d("InstamadilloReplyMessageParams").getReplyMessageParams(b.threadKey,b.senderId,c,a));yield a.messages.put(babelHelpers["extends"]({},b,c))});return k.apply(this,arguments)}function e(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=e==null?void 0:e.repliedToMessageOtid;e=e==null?void 0:e.repliedToMessageWaServerTimeSec;if(f==null||e==null)return;var g=d("InstamadilloMessageIdUtils").toInstamadilloMessageId(b,f);g=(yield a.messages.index("messageId").get(g));if(g!=null)return;yield c("LSFetchInstamadilloMessage")(b,f,e,c("LSFactory")(a))});return l.apply(this,arguments)}g.updateAllRepliesTxn=a;g.fetchReplySourceMessage=e}),98);
__d("handleInstamadilloReceiverFetchContent",["I64","IGDXMAAttachmentUtil","InstamadilloMessageFactory","InstamadilloTextMessageUtils","LSAuthorityLevel","LSFactory","LSIntEnum","LSUpdateThreadSnippetFromLastMessageV2StoredProcedure","LSVerifyThreadRowExistsV2StoredProcedure","MAWExternalId","MNLSXMALayoutType","MessagingAttachmentType","WAResultOrError","asyncToGeneratorRuntime","instamadilloBumpThread","instamadilloReplyMessageUtils","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,d,e,f,g,h,i){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,j,k,l,m){j=(yield d("InstamadilloMessageFactory").createBaseMessageForProtocolMsgId(a,b,e,j));if(j==null)return d("WAResultOrError").makeResult({reason:"cannot_create_base_message",result:"skip"});var n=j.threadKey;g=JSON.stringify(g);yield c("LSVerifyThreadRowExistsV2StoredProcedure")(c("LSFactory")(a),{authorityLevel:(h||(h=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),syncGroup:(i||(i=d("I64"))).of_int32(1),threadKey:n,threadType:i.of_int32(1)});var o=8;c("isStringNullOrEmpty")(f.text)||(o+=1);yield a.messages.put(babelHelpers["extends"]({},j,{displayedContentTypes:i.of_int32(o),text:f.text,textHasLinks:d("InstamadilloTextMessageUtils").textHasLinks(f.text),xmaReceiverFetchParams:g},m));var p;o=l==null?void 0:l.type_;if(o!=null){f=(i||(i=d("I64"))).of_string(d("MAWExternalId").generateExternalId());p=babelHelpers["extends"]({},d("InstamadilloMessageFactory").createBaseAttachmentCta(b),{ctaId:f,type_:o},l);yield a.attachment_ctas.put(p)}yield a.attachments.put(babelHelpers["extends"]({},d("InstamadilloMessageFactory").createBaseAttachment(b,e),{attachmentType:h.ofNumber(c("MessagingAttachmentType").XMA),defaultCtaId:(g=p)==null?void 0:g.ctaId,defaultCtaTitle:(m=p)==null?void 0:m.title,defaultCtaType:(f=p)==null?void 0:f.type_,faviconUrl:d("IGDXMAAttachmentUtil").DEFAULT_PROFILE_URL,hasXma:!0,isSharable:!0,xmaLayoutType:h.ofNumber(c("MNLSXMALayoutType").SINGLE)},k));yield d("instamadilloReplyMessageUtils").updateAllRepliesTxn(a,j.messageId);yield c("instamadilloBumpThread")(a,b,e);yield c("LSUpdateThreadSnippetFromLastMessageV2StoredProcedure")(c("LSFactory")(a),{threadKey:n});return d("WAResultOrError").makeResult({result:"handled"})});return j.apply(this,arguments)}g["default"]=a}),98);
__d("renderInstamadilloOptimisticXmaReceiverFetch",["I64","MAWCurrentUser","OfflineThreadingId","Promise","WAJids","WAStanzaUtils","asyncToGeneratorRuntime","handleInstamadilloReceiverFetchContent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("renderInstamadilloOptimisticXmaReceiverFetch");function a(a,b,c,d,e,f){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k,l){var m=d("OfflineThreadingId").createOfflineThreadingID(),n=d("WAJids").toMsgrUserJid(d("MAWCurrentUser").getID()),o=(i||(i=d("I64"))).of_float(Date.now()),p={author:n,chat:d("WAJids").toMsgrUserJid(a),externalId:d("WAStanzaUtils").toStanzaId(m)};n=(yield j.load());a=(yield n());yield a.runInTransaction(function(a){return c("handleInstamadilloReceiverFetchContent")(a,p,o,e,f,{},g,k,l)},"readwrite");return(h||(h=b("Promise"))).resolve(m)});return k.apply(this,arguments)}g["default"]=a}),98);
__d("getSendPostToInstamadilloRecipient",["fbt","I64","IGDDataclassTypes.flow","LSAuthorityLevel","LSMessageReplySourceTypeV2","LSMessageSendStatus","asyncToGeneratorRuntime","issueSendXMAReceiverFetchCometTask","renderInstamadilloOptimisticXmaReceiverFetch"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,e,f,g,j){var k={__typename:"XMSGIgReceiverFetchXmaFeedFetchParams",media_igid:a};e={__typename:"XMSGIgXmaContentRefDataclass",action_type:d("IGDDataclassTypes.flow").XmsgIgXmaActionType.Share,content_type:d("IGDDataclassTypes.flow").XmsgIgReceiverFetchContentType.Feed,fetch_params:k,owner_fbid:e,target_url:g,username:f};var l={contentRef:JSON.stringify(e)},m={authorityLevel:(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").OPTIMISTIC),isForwarded:j,replySourceTypeV2:j===!0?(i||(i=d("I64"))).of_int32(c("LSMessageReplySourceTypeV2").FORWARD):void 0,sendStatus:i.of_int32(c("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:i.of_int32(1)},n={actionUrl:g,nativeUrl:g,targetId:i.of_string(a),type_:"igd_web_post_share"},o={authorityLevel:i.of_int32(c("LSAuthorityLevel").OPTIMISTIC),subtitleText:h._("__JHASH___C2jDMKyMih__JHASH__").toString(),titleText:f};return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d,e,f,g){try{var h=(yield c("renderInstamadilloOptimisticXmaReceiverFetch")(a,l,k,o,n,m));yield c("issueSendXMAReceiverFetchCometTask")({comment:e,isDisappearingModeSettingOn:b,offlineThreadingId:h,openEb:d,receiverFetchXma:JSON.stringify(l),threadKey:a});f==null?void 0:f(a)}catch(b){g==null?void 0:g(b,a)}});return function(b,c,d,e,f,g){return a.apply(this,arguments)}}()}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("DoubleKeyMap",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.set=function(a,b,c){var d=this.$1.get(a);d||this.$1.set(a,d=new Map());d.set(b,c)};b.get=function(a,b){return(a=this.$1.get(a))==null?void 0:a.get(b)};b["delete"]=function(a,b){var c=this.$1.get(a);c&&(c["delete"](b),c.size===0&&this.$1["delete"](a))};b.getAll=function(a){return this.$1.get(a)};b.deleteAll=function(a){this.$1["delete"](a)};return a}();f.DoubleKeyMap=a}),66);
__d("EARInitType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["EB_INIT","LS_INIT","MAW_INIT","MAW_RP_INIT"]);c=a;f["default"]=c}),66);
__d("FuncChannel",["FBLogger","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var d=this,e;this.$2=[];this.callMessageHandler=function(a){return new(h||(h=b("Promise")))(function(b,c){a.result={resolveFunc:b,rejectFunc:c},d.$2.push(a)})};this.messageToCall=function(a){var b,e,f=d.proxyMethods[a.method];if(typeof f!=="function"){c("FBLogger")("worker").mustfix("proxyMethods[%s] is not a functions",a.method);return}b=(b=a.result)==null?void 0:b.resolveFunc;e=(e=a.result)==null?void 0:e.rejectFunc;if(typeof b==="function"&&typeof e==="function")try{var g=f.apply(a.thisArg,a.argList);b(g)}catch(a){e(a)}else return f.apply(a.thisArg,a.argList)};var f=this,g={},i=(e=a==null?void 0:a(g))!=null?e:{},j=babelHelpers["extends"]({},g);function k(a){j[a]=function(){var b={type:"call",method:a,thisArg:null,argList:Array.from(arguments)};return f.callMessageHandler(b)},g[a]=function(){var b=f.$1[a];if(typeof b!=="function"){c("FBLogger")("worker").mustfix("_backend[%s] is not a functions",a);return}return b.apply(f.$1,arguments)},i[a]==null&&(i[a]=g[a])}this.$1=j;if(a!=null){e=Object.keys(i);e.forEach(k);this.proxyMethods=i}else this.proxyMethods=new Proxy(i,{get:function(a,b){a=b;i[a]==null&&k(a);return i[a]}})}var d=a.prototype;d.flushBuffer=function(){var a=this.$2;this.$2=[];a.forEach(this.messageToCall)};d.setBackend=function(a){this.$1!==a&&(this.$1=a,this.flushBuffer());return this};d.setCallMessageHandler=function(a){this.callMessageHandler=a,this.flushBuffer()};return a}();g["default"]=a}),98);
__d("MAWAppVersion",["SiteData"],(function(a,b,c,d,e,f,g){"use strict";function a(){return"302.0."+c("SiteData").client_revision}function b(){return{primary:302,secondary:0,tertiary:c("SiteData").client_revision}}g.getVersionNumber=a;g.getAppVersionParts=b}),98);
__d("MAWConsoleLogger",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("2656");function a(a,b,c){if(h){var d=c.map(function(a){return"["+a+"]"}).join("");for(var e=arguments.length,f=new Array(e>3?e-3:0),g=3;g<e;g++)f[g-3]=arguments[g];if(d){var i;(i=console)[a].apply(i,[d,b].concat(f))}else{var j;(j=console)[a].apply(j,[b].concat(f))}}}g.logToConsole=a}),98);
__d("MAWLogIndexedDb",["MAWCurrentUser","MAWErrorObject","MAWIndexedDbMetadata","MAWQplProxy","MAWTransactionMode","Promise","WAExceededStorageQuota","err","justknobx","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=null;function k(){return c("justknobx")._("1399")}function l(){if(i==null)throw c("err")("LogDB IndexDB should've been initialized");return i}function m(){return j==null?o().then(function(){return l()}):j.then(function(){return l()})}function a(){return i!=null}var n=[function(a){a=a.target.transaction;d("WAExceededStorageQuota").listenToQuotaExceededError(a);a=a.db.createObjectStore("logs",{autoIncrement:!0,keyPath:"id"});a.createIndex("date","date",{unique:!1})}];function o(a){if(j!=null)return j;if(i!=null)return(h||(h=b("Promise"))).resolve();var c=d("MAWCurrentUser").getID(),e=d("MAWIndexedDbMetadata").logDbName(c),f=(a=(c=a)!=null?c:k())!=null?a:n.length;j=new(h||(h=b("Promise")))(function(a,b){var c=indexedDB.open(e,f);c.onupgradeneeded=function(a){for(var b=0;b<n.length;b++){var c=n[b];p(a,b+1)&&c(a)}};c.onsuccess=function(b){var c=b.target.result;c.onversionchange=function(){c.close()};i=c;a()};c.onerror=function(){b(c.error)}});return j}function p(a,b){var c=a.newVersion;a=a.oldVersion;return a<b&&c>=b}function q(a){return a===d("MAWTransactionMode").READWRITE?"readwrite":"readonly"}function e(a,b,e){var f=q(b);return function(b){return function(){for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];var j=e!=null?d("MAWQplProxy").startQplUserFlow(e):null;return m().then(function(c){var e=function(b){b=c.transaction(a,b!=null?q(b):f,{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(b);return b.objectStore(a)};return b.apply(void 0,[e].concat(h))}).then(function(a){j==null?void 0:j.endSuccess();return a})["catch"](function(a){j==null?void 0:j.endFail("transaction_fail");a=d("MAWErrorObject").getErrorObject(a);throw c("unrecoverableViolation")("LOG - Error performing transaction in log transactor","messenger_e2ee_web",a?{error:a}:{})})}}}g.getLogDbVersion=k;g.getLogDB=l;g.isLogDBInitted=a;g.dbMigrations=n;g.makeLogMsgrTransactor=e}),98);
__d("MAWSaveLogToDisk",["Deferred","MAWLogIndexedDb","MAWTransactionMode","Promise","asyncToGeneratorRuntime","justknobx","pageID","promiseDone","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("justknobx")._("1403");f=c("justknobx")._("1404");var j=c("justknobx")._("1401");function k(a){if(Number.isInteger(a))return a;if(typeof a==="string")return(a||"").replace(/\n/g,"");try{return JSON.stringify(a)}catch(a){return"Data could not be serialized"}}function l(a,b){b===void 0&&(b="");return a.length>0?"["+a.join("|")+"]":b}function m(a){switch(a){case"logRestricted":return"warn";case"debug":case"log":case"warn":case"error":return a}}function a(a){return{args:a.logString,date:a.date,event:l(a.tags,"[]"),level:m(a.logLevel)}}function e(a,b,c,d,e,f){return{args:a+"; ERROR="+c.message+";",data:{entriesToReport:e,error:c,framesToPop:d,stack:f},date:Date.now(),event:l(b,"[]"),level:"error"}}var n=[],o=[],p=5,q=0,r=!1,s=function(){n.length=0},t=function(a){a=y(a);o.length<p?o.push(a):o[q%p]=a;q=(q+1)%p},u=function(a){var c=[],d=0;while(d<a){var e=((q-d-1)%p+p)%p;e=o[e];c.push(e);d++}return(h||(h=b("Promise"))).resolve(c)},v=function(a,b){n.push({context:a,logEntry:b}),t({context:a,logEntry:b}),n.length>i?c("promiseDone")(w()):x()},w=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){r=!0;try{var a=[].concat(n);s();yield z(a)}catch(a){}r=!1});return function(){return a.apply(this,arguments)}}(),x=c("throttle")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(r)return;r=!0;try{var a=[].concat(n);s();yield z(a)}catch(a){}r=!1}),f),y=function(a){var b=a.context;a=a.logEntry;return Object.entries(a).reduce(function(a,b){var c=b[0];b=b[1];a[c]=k(b);return a},babelHelpers["extends"]({},a,{category:b+"-"+c("pageID")}))},z=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){e.add(y(a))});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()});f=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.getAll();a.onsuccess=function(a){a=a.target.result;a=a.slice(Math.max(0,a.length-j));b.resolve(a)};a.onerror=function(a){return b.reject(a)};return b.getPromise()});var A=function(a){if(a<=o.length)return u(a);else return B(a)},B=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();a=a.index("date");a=a.openCursor(null,"prev");var e=[];a.onsuccess=function(a){a=a.target.result;if(a==null){d.resolve(e);return}e.push(a.value);if(e.length>=b){d.resolve(e);return}a["continue"]()};a.onerror=function(a){return d.reject(a)};return d.getPromise()});g.joinTags=l;g.formatLog=a;g.formatErrorForLogging=e;g.clearLogEntryCache=s;g.saveLogEntry=v;g.forceCachedLogEntryPersist=w;g.getEntries=f;g.getLastNEntries=A}),98);
__d("MAWDeleteOldLogsFromDisk",["Deferred","MAWLogIndexedDb","MAWSaveLogToDisk","MAWTransactionMode","WALogger","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);j=function(){return a};return a}var k=c("justknobx")._("1400"),l=c("justknobx")._("1401"),m=c("justknobx")._("1402"),n=(f=d("MAWLogIndexedDb")).makeLogMsgrTransactor("logs",(h=d("MAWTransactionMode")).READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.count();a.onsuccess=function(a){a=a.target.result;b.resolve(a)};a.onerror=function(a){b.reject(a)};return b.getPromise()}),o=f.makeLogMsgrTransactor("logs",h.READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();var e=[];a=a.index("date");a=a.openCursor();a.onsuccess=function(a){a=a.target.result;if(a==null||!b(a.value,e)){d.resolve(e);return}e.push(a.value.id);a["continue"]()};a.onerror=function(a){d.reject(a)};return d.getPromise()}),p=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a){var b=new(c("Deferred"))();a=a();a=a.clear();a.onsuccess=function(){return b.resolve()};a.onerror=function(a){return b.reject(a)};d("MAWSaveLogToDisk").clearLogEntryCache();return b.getPromise()}),q=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){return e["delete"](a)});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()});function r(a,b){b=Date.now()-m;return a!=null&&a.date<=b}function s(a){return function(b,c){return c.length<a}}function a(){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;a=a-l;if(a>0){a=(yield o(s(a)));yield q(a);return}a=(yield o(r));a.length>0&&(yield q(a))}catch(a){d("WALogger").ERROR(j(),a)}});return t.apply(this,arguments)}function e(){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;if(a>=k){yield p();return}}catch(a){d("WALogger").ERROR(i(),a)}});return u.apply(this,arguments)}g.clearLogs=p;g.deleteOldLogs=a;g.deleteOldLogsOnStartup=e}),98);
__d("MAWEncyptionIndexedDbV2",["EARInitType","ExecutionEnvironment","FBLogger","IndexedDbPolyfills","MAWCurrentUser","MAWErrorObject","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MAWQplProxy","MAWTransactionMode","Promise","QPLUserFlow","WAExceededStorageQuota","WALogger","WAWorkerGlobalScope","err","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Armadillo Web Remote Presence] MAW RP Initialising EAR"]);j=function(){return a};return a}b("IndexedDbPolyfills");var k="browserEncryptionMetaV2",l="version",m=null,n=null,o=null;function p(){if(m==null)throw c("err")("Encryption IndexDB should've been initialized");return m}function a(){return m!=null}function e(a){var e=d("MAWCurrentUser").getID(),f=s(a);return new(i||(i=b("Promise")))(function(b,g){var i="false",j="false",p="false",q="false";try{if(m==null){if(indexedDB==null){t(f,"ear_idb_unavailable");return g(c("err")("IndexedDB API not available"))}t(f,"ear_db_open_start");o=d("MAWIndexedDbMetadata").encryptionDbName(e);var r=indexedDB.open(o),s=d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){g(c("err")("IndexedDB initialisation timeout in %s flow. In worker: %s. In shared worker: %s. onsuccess called: %s. onerror called: %s. onupgradeneeded called: %s. onblockedCalled: %s. openRequest: %s",String(a),(h||(h=c("ExecutionEnvironment"))).isInWorker?"true":"false",(h||(h=c("ExecutionEnvironment"))).isInSharedWorker?"true":"false",j,i,p,q,r.readyState))},1e4);r.onupgradeneeded=function(a){p="true";t(f,"ear_db_upgrade_start");a=a.target.result;if(!a.objectStoreNames.contains(k)){a=a.createObjectStore(k,{autoIncrement:!0,keyPath:"id"});a.createIndex(l,l,{unique:!0})}t(f,"ear_db_upgrade_end")};r.onblocked=function(){t(f,"ear_db_open_blocked"),q="true",d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){g(c("err")("EAR Open timed out while blocked"))},2e3)};r.onsuccess=function(a){j="true";d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(s);var e=a.target.result;e.onversionchange=function(){e.close(),c("FBLogger")("mpf_web_foundations").info("EAR onversionchange triggered"),n==null?void 0:n()};t(f,"ear_db_open_end");m=e;b()};r.onerror=function(){i="true",t(f,"ear_db_open_error"),d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(s),g(r.error)}}else t(f,"ear_db_exists"),b()}catch(a){t(f,"ear_db_error"),g(a)}})}function f(a){n=n==null?a:n}function q(a){var b=d("MAWTransactionMode").READWRITE===a?"readwrite":"readonly";a=function(a){return function(){var e=p(),f=e.transaction(k,b);d("WAExceededStorageQuota").listenToQuotaExceededError(f);var g=f.objectStore(k);for(var h=arguments.length,i=new Array(h),j=0;j<h;j++)i[j]=arguments[j];return a.apply(void 0,[g].concat(i))["catch"](function(a){a=d("MAWErrorObject").getErrorObject(a);throw c("unrecoverableViolation")("Error performing transaction in encryption transactor v2","messenger_e2ee_web",a?{error:a}:{})})}};return a}function r(){m!=null&&m.close();return d("MAWIndexedDBDeletion").deleteDB(o,"ear")}function s(a){switch(a){case c("EARInitType").EB_INIT:return c("qpl")._(521477507,"1406");case c("EARInitType").MAW_INIT:return c("qpl")._(25310776,"6155");case c("EARInitType").MAW_RP_INIT:d("WALogger").DEV(j());return c("qpl")._(25310776,"6155");case c("EARInitType").LS_INIT:return c("qpl")._(25305590,"1127")}}function t(a,b,e){(h||(h=c("ExecutionEnvironment"))).isInWorker?d("MAWQplProxy").sendQplPointThroughBridge(a,"worker_"+b,{annotations:e}):(c("QPLUserFlow").addPoint(a,b),e!=null&&c("QPLUserFlow").addAnnotations(a,e))}g.storeName=k;g.ENCRYPTION_MAW_STORES_INDEX=l;g.getEncryptionDB=p;g.isEncryptionDBInited=a;g.makeEncryptionDB=e;g.maybeSetEncryptionDbOnVersionChange=f;g.makeEncryptionMsgrTransactor=q;g.deleteEncryptionDB=r}),98);
__d("MWEARKeychainV3",["ExecutionEnvironment","FBLogger","LSPlatformLsInitLog","MAWCryptoConsts","MAWCurrentUser","MAWEARGenNewKeychainCryptoKey","MAWEncyptionIndexedDbV2","MAWGenKeychainCryptoKeyWithVersion","MAWKeychainCrypto","MWEARKeychainV3Errors","MessengerWebInitData","Promise","ReStoreTabNotifier","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime","err","getErrorSafe","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={accountKey:null,databaseEncryptionKeys:new Map(),latestVersion:d("MAWCryptoConsts").VERSION},k="browserEncryptionMetaV2";function a(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("MAWCurrentUser").getID(),e=c("ReStoreTabNotifier")("channel-ear-keychain-v3-"+a);e==null?void 0:e.onEventReceive("notifyEarKeychain",u);d("LSPlatformLsInitLog").addPoint("ear_init_start");try{d("LSPlatformLsInitLog").addPoint("ear_fetch_start");var f=(yield p(r("readonly")));d("LSPlatformLsInitLog").addPoint("ear_fetch_end");if(o(f)){d("LSPlatformLsInitLog").addPoint("ear_gen_key_start");var g=(yield c("MAWEARGenNewKeychainCryptoKey")());yield new(i||(i=b("Promise")))(function(a,b){var c=r("readwrite"),d=c.objectStore(k).getAll();d.onerror=function(){return b(d.error)};d.onsuccess=function(){var h;f=q(d.result);h=(h=(h=f[f.length-1])==null?void 0:h.version)!=null?h:0;if(!o(f))return a();var i=babelHelpers["extends"]({},g,{version:h+1});c.oncomplete=function(){f.push(babelHelpers["extends"]({},i,{id:i.version})),e.postMessage("notifyEarKeychain",i.version),a()};var j=c.objectStore(k).put(i);j.onerror=function(){return b(j.error)}}})["catch"](function(a){throw c("FBLogger")("messenger_e2ee_web").catching(a).mustfixThrow("Failed to rotate EAR key")});d("LSPlatformLsInitLog").addPoint("ear_gen_key_end")}d("LSPlatformLsInitLog").addPoint("ear_import_start");a=(yield (i||(i=b("Promise"))).all(f.map(function(a){return n(a).then(function(b){(a.accountKeyString==null||a.userKeyBaseString==null||a.appIdOrigin==null)&&(d("LSPlatformLsInitLog").addPoint("ear_import_entry_backfill"),c("promiseDone")(v(a)));return b})})));d("LSPlatformLsInitLog").addPoint("ear_import_end");for(a of a)j.databaseEncryptionKeys.set(a.version,a.key);t();d("LSPlatformLsInitLog").addPoint("ear_init_end");return d("WAResultOrError").makeResult(m())}catch(a){d("LSPlatformLsInitLog").addPoint("ear_init_error");d("LSPlatformLsInitLog").addPoint("ear_init_end");c("FBLogger")("messenger_e2ee_web").catching(c("getErrorSafe")(a)).mustfix("Failed to setup EAR Keychain V3");return d("WAResultOrError").makeError("keychain-setup-failure",a)}});return l.apply(this,arguments)}function m(){return j.latestVersion}function e(a){a===void 0&&(a=m());var b=j.databaseEncryptionKeys.get(a);if(b==null){c("promiseDone")(p(r("readonly")).then(function(b){var d=b.map(function(a){return a.version}).includes(a);c("FBLogger")("messenger_e2ee_web").info("EAR Keychain DB match found: %s. Version = %s. NumberVersions = %s",d,a,b.length)}));throw new(d("MWEARKeychainV3Errors").EARKeychainNotFoundError)("EAR Key "+a+" was null. Latest version: "+m())}return{key:b,version:a}}function n(a){return c("MAWGenKeychainCryptoKeyWithVersion")(a.key,a.seed,a.version,a.accountKeyString,a.userKeyBaseString,a.appIdOrigin)}function o(a){return a.length===0||!d("WATimeUtils").isInFuture(a[a.length-1].expiration)}function p(a){return s(a.objectStore(k).getAll()).then(q)}function q(a){return a.sort(function(a,b){return a.version-b.version})}function r(a){var b=d("MAWEncyptionIndexedDbV2").getEncryptionDB();return b.transaction(k,a,{durability:"relaxed"})}function s(a){return new(i||(i=b("Promise")))(function(b,c){a.onsuccess=function(){return b(a.result)},a.onerror=function(){return c(a.error)}})}var t=function(){var a=Array.from(j.databaseEncryptionKeys.keys());a.length>0&&(j.latestVersion=Math.max.apply(Math,a))},u=function(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var b=(yield p(r("readonly"))).find(function(b){return b.version===a});if(b==null)throw c("err")("Notified new Ear Key but missing in DB");b=(yield n(b));j.databaseEncryptionKeys.set(b.version,b.key);t()}catch(a){return c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("Failed to handleNewVersion. In worker %s. In shared worker %s",(h||(h=c("ExecutionEnvironment"))).isInWorker?"true":"false",(h||(h=c("ExecutionEnvironment"))).isInSharedWorker?"true":"false")}})())},v=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(c("gkx")("3732"))return;var b=(yield d("MAWKeychainCrypto").generateHashString(d("MAWKeychainCrypto").getMessengerWebInitDataAccountKey())),e=(yield d("MAWKeychainCrypto").generateHashString(c("MessengerWebInitData").userKeyBase)),f=r("readwrite");f.objectStore(k).put(babelHelpers["extends"]({},a,{accountKeyString:b,appIdOrigin:c("MessengerWebInitData").appId,userKeyBaseString:e}))});return function(b){return a.apply(this,arguments)}}();g.init=a;g.getLatestVersion=m;g.getDbEncryptionKey=e}),98);
__d("MAWKeychain",["MWEARKeychainV3"],(function(a,b,c,d,e,f,g){"use strict";a={getDbEncryptionKey:d("MWEARKeychainV3").getDbEncryptionKey,getLatestVersion:d("MWEARKeychainV3").getLatestVersion,init:d("MWEARKeychainV3").init};g["default"]=a}),98);
__d("MAWLeakDetection",[],(function(a,b,c,d,e,f){"use strict";var g="[Vault] Vaulted string detected";function h(a){var b=/\d{10}##\d{10}/gm;return b.test(a)}function a(a){return h(a)?g:a}f.VAULTED_STRING_DETECTED=g;f.detectVaultedString=h;f.maybeReplaceVaultedString=a}),66);
__d("MAWLoggingSwitches",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("503");g.removeLoggingFromBridge=a}),98);
__d("ServerJsRuntimeEnvironment",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,b){i==null||h(0,71696),i={platform:a,executionContext:b}}function b(){return i!=null}function c(){var a;return(a=i)==null?void 0:a.executionContext}function d(){var a;return(a=i)==null?void 0:a.platform}g.init=a;g.isRunningServerJsRuntime=b;g.getExecutionContext=c;g.getPlatform=d}),98);
__d("WADevToolsBridge",["WADynamicRouterAsync"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WADynamicRouterAsync").DynamicRouter)();function a(){return h}g.getDevToolBridge=a}),98);
__d("MAWMainThreadLogger",["CurrentMessengerUser","FBLogger","MAWAppVersion","MAWConsoleLogger","MAWDeleteOldLogsFromDisk","MAWLeakDetection","MAWLoggingSwitches","MAWSaveLogToDisk","Promise","ServerJsRuntimeEnvironment","WADevToolsBridge","WAJids","WATagsLogger","asyncToGeneratorRuntime","err","getErrorSafe","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1;function a(){i=!1}function e(){i||(i=!0,d("WATagsLogger").initializeWaLogger(u))}var j=function(){return c("FBLogger")("messenger_e2ee_web")};function k(a,b){return b.length>0?d("MAWSaveLogToDisk").joinTags(b)+" "+a:a}function l(a,b,e){if(d("ServerJsRuntimeEnvironment").isRunningServerJsRuntime())return;var f=Date.now();c("gkx")("3282")&&d("WADevToolsBridge").getDevToolBridge().fireAndForget("devtool","logLine",{logLevel:a,logString:k(b,e)},!0);if(!d("MAWLoggingSwitches").removeLoggingFromBridge)return;b=b.replace(/\n/g," ");if(a==="debug"||typeof b!=="string")return;d("MAWSaveLogToDisk").saveLogEntry("browser",{args:b,date:f,event:d("MAWSaveLogToDisk").joinTags(e,"[unknown]"),level:a})}function m(a,b){a=n(a);a!=null&&l("log",a,b)}function n(a){if(!d("CurrentMessengerUser").isEmployee()&&!d("CurrentMessengerUser").isTestUser())return;a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);return a}function o(a,b){a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);l("log",a,b)}function p(a,b){a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);l("warn",a,b)}function f(a,b,d,e,f,g){d=c("err")(d);d.stack=e;c("promiseDone")(s(a,b,d,f,g))}function q(a,b,c){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(a));c=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(c));var f=d("MAWLoggingSwitches").removeLoggingFromBridge?d("MAWSaveLogToDisk").getLastNEntries(e):(h||(h=b("Promise"))).resolve([]);e=e===0?[]:[].concat((yield f).map(function(a){return a.args}));return{errorLogString:c+" [Caught in "+a+"]",logs:[a].concat(e),sanitizedMessage:c}});return r.apply(this,arguments)}function s(a,b,c,d,e){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){a=(yield q(k(a,b),e.message,g));g=a.errorLogString;var h=a.logs;a=a.sanitizedMessage;var i=c("getErrorSafe")(e);try{e.message=a}catch(b){i=c("err")(a,e.fileName,e.lineNumber)}f!==0&&(i.framesToPop=f);(a=j())==null?void 0:(e=a.addMetadata("MESSENGER_E2EE_WEB","APP_VERSION",d("MAWAppVersion").getVersionNumber()).catching(i)).mustfix.apply(e,h);l("error",g,b)});return t.apply(this,arguments)}var u={debug:function(a,b){d("MAWConsoleLogger").logToConsole("log",a,b)},devConsole:function(a,b,c){for(var e=arguments.length,f=new Array(e>3?e-3:0),g=3;g<e;g++)f[g-3]=arguments[g];switch(a){case"DEV":d("MAWConsoleLogger").logToConsole.apply(void 0,["log",b,c].concat(f));break;case"DEV_XMPP":d("MAWConsoleLogger").logToConsole.apply(void 0,["log",b,c].concat(f));break;case"LOG":d("MAWConsoleLogger").logToConsole.apply(void 0,["info",b,c].concat(f));break;case"WARN":d("MAWConsoleLogger").logToConsole.apply(void 0,["warn",b,c].concat(f));break;case"ERROR":d("MAWConsoleLogger").logToConsole.apply(void 0,["error",b,c].concat(f));break;case"CATCHING":d("MAWConsoleLogger").logToConsole.apply(void 0,["error",b,c].concat(f));break}},error:function(a,b,e){a=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(a));e?c("promiseDone")(s(a,b,e,0,0)):c("promiseDone")(s(a,b,c("err")(a),2,0));d("MAWConsoleLogger").logToConsole("error",a,b)},info:function(a,b){o(a,b),d("MAWConsoleLogger").logToConsole("info",a,b)},logRestricted:function(a,b){m(a,b),d("MAWConsoleLogger").logToConsole("log",a,b)},warn:function(a,b){p(a,b),d("MAWConsoleLogger").logToConsole("warn",a,b)}};function v(){return!d("MAWLoggingSwitches").removeLoggingFromBridge?(h||(h=b("Promise"))).resolve([]):d("MAWSaveLogToDisk").getEntries()}function w(){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!d("MAWLoggingSwitches").removeLoggingFromBridge)return;yield d("MAWDeleteOldLogsFromDisk").clearLogs()});return x.apply(this,arguments)}function y(a){return new Date(typeof a==="string"?parseInt(a,10):a).toISOString().replace("T"," ").replace("Z","")}function z(a){return a.map(function(a){try{var b=y(a.date);return[b,a.level,a.category,a.event,a.args].join(" | ")}catch(a){return[y(Date.now()),"error","LOGGER","Error formatting log: "+((a==null?void 0:a.message)||"")].join(" | ")}}).filter(Boolean).join("\n")}g.__testClearLoggerSetup=a;g.setupMainWaLogger=e;g.logToHistory=l;g.logRestricted=m;g.info=o;g.warn=p;g.logError=f;g.getEntries=v;g.clearEntries=w;g.formatEntries=z}),98);
__d("MWEBUseLocalStorage",["WALogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Encrypted Backups key "," written to local storage"]);i=function(){return a};return a}function a(a,b){a=a;b=(b=b)!=null?b:"true";if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var e;d("WALogger").LOG(i(),a);(e=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:e.setItem(a,b)}}function b(a){a=a;if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;(b=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:b.removeItem(a)}}function e(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=a;return(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a)}return null}function f(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=a;return((b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a))!=null}return!0}g.mwEBCreateLocalStorageEntry=a;g.mwEBDeleteLocalStorageEntry=b;g.mwEBGetLocalStorageEntryValue=e;g.mwEBGetIsLocalStorageEntryValuePresent=f}),98);
__d("MWLSIndexedDBDelete",["MWLSIndexedDBName","ODS","Promise","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return new(i||(i=b("Promise")))(function(b,e){try{var f=d("MWLSIndexedDBName").dbName(),g=indexedDB.deleteDatabase(f);g.onerror=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"db_delete","error."+a),c("recoverableViolation")("[pdb] Failed to delete db","maw_db"),e(g.error)};g.onblocked=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"db_delete","block."+a)};g.onsuccess=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"db_delete","success."+a),b()}}catch(a){c("recoverableViolation")("[pdb] error in db deletion","maw_db"),e()}})}g.deleteIndexedDB=a}),98);
__d("MWSetupDBEncryption",["BrowserLockManager","FBLogger","MAWEncyptionIndexedDbV2","MAWKeychain","MAWMainThreadLogger","Promise","asyncToGeneratorRuntime","getErrorSafe","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b){return b()};function a(a){i=a}var j="mw_ear_db";function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield d("MAWEncyptionIndexedDbV2").makeEncryptionDB(a)}catch(a){a instanceof Error?c("FBLogger")("messenger_e2ee_web").catching(a).warn("Can not create encryption db with error"):c("FBLogger")("messenger_e2ee_web").warn("IndexedDB onerror when opening db");return{error:"keychain-setup-failure",payload:a,success:!1}}try{a=(yield i("init_setup_keychain",function(){return c("MAWKeychain").init()}));return a}catch(a){c("FBLogger")("messenger_e2ee_web").catching(c("getErrorSafe")(a)).warn("Error initializing EAR with error");return{error:"keychain-setup-failure",payload:a,success:!1}}});return l.apply(this,arguments)}function m(a){if(c("BrowserLockManager")!=null)return new(h||(h=b("Promise")))(function(d,e){c("promiseDone")(c("BrowserLockManager").request(j,b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var b=(yield k(a));d(b)}catch(a){e(a)}})),function(a){},function(a){return c("FBLogger")("mpf_web_foundations").catching(a).warn("[eardb] lock issue")})});else return k(a)}function e(a,c){c===void 0&&(c=function(a){return!0});var d=null;return function(e){d==null&&(d=a(e).then(function(a){d=c(a)?(h||(h=b("Promise"))).resolve(a):null;return a})["catch"](function(a){d=null;throw a}));return d}}f=e(function(a){d("MAWMainThreadLogger").setupMainWaLogger();return m(a)},function(a){return(a==null?void 0:a.success)===!0});g.setPerformanceMeasurementTool=a;g.init=f}),98);
__d("MainPageUrl",["ExecutionEnvironment","FBLogger","SimpleHook"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new URL("http://undefined"),j=new(d("SimpleHook").SimpleHook)();function k(){var a;return(h||(h=c("ExecutionEnvironment"))).isInBrowser&&(i==null?void 0:(a=i.searchParams)==null?void 0:a.get("workerlog"))==="debug"}function a(a){try{k()&&c("FBLogger")("worker").debug("received url "+a);var b=new URL(a,i.href||"http://undefined");i.href!==b.href?(i.href=b.href,j.call(i)):k()&&c("FBLogger")("worker").debug("ignoring url: path didn't change in "+a)}catch(a){c("FBLogger")("worker").catching(a).warn("invalid url")}}typeof window==="object"&&typeof window.location==="object"&&typeof window.location.href==="string"&&a(window.location.href);g.mainPageUrl=i;g.onMainPageUrlChange=j;g.isWorkerLogEnabled=k;g.updateMainPageUrl=a}),98);
__d("NestedTimeRange",["SimpleHook","performance","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new(d("SimpleHook").SimpleHook)(),k=new(d("SimpleHook").SimpleHook)(),l="/";function m(a,b){return""+a+l+b}b=function(){function a(a,b){b===void 0&&(b=null),this.$3=0,this.$1=a,this.$2=b}var b=a.prototype;b.isRunning=function(){return this.$3>0};b.fullname=function(){return this.$2!==null?m(this.$2.fullname(),this.$1):this.$1};b.start=function(a){a===void 0&&(a=(h||(h=c("performanceAbsoluteNow")))());if(this.$3===0){var b;(b=this.$2)==null?void 0:b.start(a);this.__onStart(a)}++this.$3;return a};b.__onStart=function(a){j.call(this,a)};b.stop=function(a){a===void 0&&(a=(h||(h=c("performanceAbsoluteNow")))());--this.$3;if(this.$3===0){var b;this.__onStop(a);(b=this.$2)==null?void 0:b.stop(a)}return a};b.__onStop=function(a){k.call(this,a)};return a}();function a(){(i||(i=c("performance"))).mark&&(i||(i=c("performance"))).measure&&(j.add(function(a,b){(i||(i=c("performance"))).mark(a.fullname()+"_start")}),k.add(function(a,b){(i||(i=c("performance"))).measure(a.fullname(),a.fullname()+"_start")}))}g.OnRangeStart=j;g.OnRangeStop=k;g.TIME_RANGE_LEVEL_SEPARATOR=l;g.rangeFullName=m;g.NestedTimeRange=b;g.enableDevConsoleTimeline=a}),98);
__d("QLogEvent",["DoubleKeyMap","FBLogger","NestedTimeRange","QPLEvent","SimpleHook","performanceNavigationStart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new(d("DoubleKeyMap").DoubleKeyMap)(),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d){a=b.call(this,a,d)||this;a.$QPLRange$p_1=c;i.set(c,a.fullname(),babelHelpers.assertThisInitialized(a));return a}var e=a.prototype;e.__onStart=function(a){b.prototype.__onStart.call(this,a),this.$QPLRange$p_1.point(this.fullname()+"_START",{timestamp:a})};e.__onStop=function(a){b.prototype.__onStop.call(this,a),this.$QPLRange$p_1.point(this.fullname()+"_END",{timestamp:a}),i["delete"](this.$QPLRange$p_1,this.fullname())};e.range=function(b){this.fullname().startsWith(d("NestedTimeRange").TIME_RANGE_LEVEL_SEPARATOR)||c("FBLogger")("qpl").warn("Range %s cannot have subrange since root name does not start with /",this.fullname());var e=d("NestedTimeRange").rangeFullName(this.fullname(),b);return(e=i.get(this.$QPLRange$p_1,e))!=null?e:new a(b,this.$QPLRange$p_1,this)};return a}(d("NestedTimeRange").NestedTimeRange),k=new(d("DoubleKeyMap").DoubleKeyMap)(),l=new((b=d("SimpleHook")).SimpleHook)(),m=new b.SimpleHook(),n=new b.SimpleHook(),o=new b.SimpleHook(),p=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f,g){var i;c===void 0&&(c=0);e===void 0&&(e=2);f===void 0&&(f=!1);var j=(h||(h=d("QPLEvent"))).getMarkerId(a);i=b.call(this,"event_"+j)||this;i.event=a;i.instanceKey=c;i.$QPLEvent$p_1=e;i.isUserFlow=f;i.$QPLEvent$p_2=g;k.set(j,c,babelHelpers.assertThisInitialized(i));return i}var e=a.prototype;e.action=function(a){this.$QPLEvent$p_1=a;return this};e.getAction=function(){return this.$QPLEvent$p_1};e.setIsUserFlow=function(a){this.isUserFlow=a;return this};e.startFromNavStart=function(){this.start(c("performanceNavigationStart")());return this};e.startFromTime=function(a){this.start(a);return this};e.__onStart=function(a){var b;(b=this.$QPLEvent$p_2)==null?void 0:b.onStart(this,a);l.call(this,a)};e.__onStop=function(a){var b;(b=this.$QPLEvent$p_2)==null?void 0:b.onStop(this,a);m.call(this,a);i.deleteAll(this);k["delete"]((h||(h=d("QPLEvent"))).getMarkerId(this.event),this.instanceKey)};e.range=function(a){var b;return(b=i.get(this,a))!=null?b:new j(a,this)};e.point=function(a,b){var c;b===void 0&&(b={});(c=this.$QPLEvent$p_2)==null?void 0:c.onPoint(this,a,b);n.call(this,a,b);return this};e.annotate=function(a){var b;(b=this.$QPLEvent$p_2)==null?void 0:b.onAnnotate(this,a);o.call(this,a);return this};return a}(d("NestedTimeRange").NestedTimeRange);function a(a,b,c){var e;b===void 0&&(b=0);return(e=k.get((h||(h=d("QPLEvent"))).getMarkerId(a),b))!=null?e:new p(a,b,2,!1,c)}g.OnEventStart=l;g.OnEventStop=m;g.OnEventPoint=n;g.OnEventAnnotate=o;g.QPLEvent=p;g.event=a}),98);
__d("TimedOnceFunc",["ExecutionEnvironment"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a,b){this.$2=!1,this.$4=a,this.$3=b,(h||(h=c("ExecutionEnvironment"))).isInBrowser&&this.$5()}var b=a.prototype;b.$6=function(){this.$1!=null&&clearTimeout(this.$1),this.$1=null};b.$5=function(){var a=this;this.isDone()||(this.$6(),this.$1=setTimeout(function(){a.$2=!0,a.run()},this.$3))};b.isDone=function(){return this.$4===null};b.isCancelled=function(){return this.$1===null&&this.$4!==null};b.run=function(){this.$6();if(this.$4!=null){var a=this.$4;this.$4=null;a(this.$2)}};b.getDelay=function(){return this.$3};b.delay=function(a){this.$3=(a=a)!=null?a:this.$3;this.$5()};b.cancel=function(){this.$6()};return a}();g.TimedOnceFunc=a}),98);
__d("VirtualMessageChannel",["invariant","Promise","SimpleHook","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=function(){function a(a){a===void 0&&(a=!1),this.$2=new(d("SimpleHook").SimpleHook)(),this.onmessage=null,this.onmessageerror=null,this.$3=a}var e=a.prototype;e.setRemotePort=function(a){this.$1=a};e.addEventListener=function(a,b,c){(a==="message"||a==="error")&&c==null||h(0,55320,a);if(a==="message")if(typeof b==="function")this.$2.add(b);else{c=b.handleEvent.bind(b);this.$2.add(c);b.__handler=c}};e.removeEventListener=function(a,b,c){if(typeof b==="function")this.$2.remove(b);else{a=b.__handler;this.$2.remove(a)}};e.postMessage=function(a,d){var e=this,f=function(){var b=c("nullthrows")(e.$1,"By now remote port must have value!");b.$2.call({data:a,ports:d})};this.$3?f():c("promiseDone")((i||(i=b("Promise"))).resolve(),f)};e.start=function(){};return a}();a=function(a,b){this.port1=new j(a),this.port2=new j(b),this.port1.setRemotePort(this.port2),this.port2.setRemotePort(this.port1)};g.VirtualMessagePort=j;g.VirtualMessageChannel=a}),98);
__d("WorkerMessagePortLogging",["MainPageUrl","QLogEvent","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=Math.random()<.1,i=20,j=100,k=50;function a(){return d("MainPageUrl").isWorkerLogEnabled()||d("MainPageUrl").mainPageUrl.searchParams.get("worker_log")===1}var l=0;function m(){return d("QLogEvent").event(c("qpl")._(41497718,"106"),l++)}function b(a,b,c){c===void 0&&(c=!1);if(b==null||!h)return;var d=b.sendDelayHighPrecision,e=b.sendTimestamp,f=b.sendDateTime,g=b.receiveTimestamp,l=b.receiveDateTime,n=m();n.startFromTime();var o=n.range("SEND_DELAY");o.start(e);o.stop(g);o=n.range("SEND_DELAY_LOW_PRECISION");o.start(f);o.stop(l);o=Math.abs(e-f);e=Math.abs(g-l);n.annotate({string:{port_name:a},"int":{send_delay:d,send_drift:o,receive_drift:e},bool:{send_delay_above_max:d!=null&&d>i,send_drift_above_max:o>j,receive_drift_above_max:e>j}});if(c){f=n.range("ROUND_TRIP");f.start(b.sendTimestamp);f.stop(b.receiveTimestamp);g=b.receiveTimestamp-b.sendTimestamp;n.annotate({"int":{round_trip:g},bool:{round_trip_above_max:g>k}})}n.stop()}g.isWorkerLogEnabled=a;g.logMessageTiming=b}),98);
__d("WorkerMessagePort",["Deferred","FBLogger","MainPageUrl","Promise","PromiseAnnotate","SimpleHook","VirtualMessageChannel","WorkerMessagePortLogging","performanceAbsoluteNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){return a}var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(d("SimpleHook").SimpleHook);function m(a,b){a=k(a);a.__timing=b}function n(a){return a.__timing}a=function(){var a=e.prototype;a.onMessageHandler=function(a){try{this.onMessage.call(a);var b=this.$1[a.type];!b?this.onUnhandledMessage.call(a):b.call(a)}catch(a){this.onError.call(a)}};function e(a,b){var e=this;this.$1={};this.onUnhandledMessage=new l();this.onMessage=new l();this.onPostMessage=new l();this.onError=new l();this.$2=a;this.name=b;this.$2.addEventListener("message",function(a){return e.onMessageHandler(k(a.data))});this.$2.addEventListener("error",function(a){return e.onError.call(a)});this.onPostMessage.add(function(a){m(a,{receiveDateTime:-1,receiveTimestamp:-1,sendDateTime:Date.now(),sendDelayHighPrecision:0,sendDelayLowPrecision:0,sendTimestamp:(j||(j=c("performanceAbsoluteNow")))()})});this.onMessage.add(function(a){a=n(a);if(a!=null){var b=a.sendDateTime,f=a.sendTimestamp,g=(j||(j=c("performanceAbsoluteNow")))(),h=Date.now();a.receiveTimestamp=g;a.receiveDateTime=h;a.sendDelayHighPrecision=g-f;a.sendDelayLowPrecision=h-b;d("WorkerMessagePortLogging").logMessageTiming(e.name,a)}})}a.postMessage=function(a,b){this.onPostMessage.call(a),b?this.$2.postMessage(a,b):this.$2.postMessage(a)};a.addMessageListener=function(a,b){var c=this.$1[a];c||(c=new l(),this.$1[a]=c);return c.add(b)};a.removeMessageListener=function(a,b){a=this.$1[a];return!!a&&a.remove(b)};a.onMessageOnce=function(a,c){var d=this;return new(i||(i=b("Promise")))(function(b){var e=d.addMessageListener(a,function(f){c(f)&&(d.removeMessageListener(a,e),b(f))})})};a.close=function(){if(this.$2 instanceof MessagePort)this.$2.close();else if(this.$2 instanceof Worker)this.$2.terminate();else if(this.$2 instanceof DedicatedWorkerGlobalScope)this.$2.close();else{var a;(a=(a=this.$2.close)!=null?a:this.$2.terminate)==null?void 0:a.call(this.$2)}};a.isWrappingVirtualMessagePort=function(){return this.$2 instanceof d("VirtualMessageChannel").VirtualMessagePort};return e}();function o(a){return k(a)}e=function(a){babelHelpers.inheritsLoose(e,a);function e(e,f){var g;g=a.call(this,e,f)||this;var j=o(babelHelpers.assertThisInitialized(g)),k=new(c("Deferred"))();e=k.getPromise();j.addMessageListener("endpoint_started",function(a){k.resolve(a);var b=n(a);j.postMessage({endpoint:a.endpoint,startSendTimestamp:b==null?void 0:b.sendTimestamp,targetEndpoint:g.name,type:"endpoint_started_received"})});f=j.onMessageOnce("endpoint_started_received",function(){return!0});void (h||(h=d("PromiseAnnotate"))).setDisplayName(e,"endpoint_started");void h.setDisplayName(f,"endpoint_started_received");j.postMessage({endpoint:g.name,type:"endpoint_started"});c("promiseDone")(e,function(a){a=n(a);d("WorkerMessagePortLogging").logMessageTiming(g.name,a)});c("promiseDone")(f,function(a){a=n(a);a!=null&&d("WorkerMessagePortLogging").logMessageTiming(g.name,a,!0)});g.fullyConnected=(i||(i=b("Promise"))).race([e,f]).then(function(){return babelHelpers.assertThisInitialized(g)});return g}return e}(a);g.getMessageTiming=n;g.WorkerMessagePort=a;g.CastWorkerMessagePort=o;g.WorkerSyncedMessagePort=e}),98);
__d("WorkerFuncChannel",["invariant","DateConsts","ExecutionEnvironment","FBLogger","FuncChannel","MainPageUrl","Promise","TimedOnceFunc","VirtualMessageChannel","WorkerMessagePort","err","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k={serialize:function(a,b){b.push(a);return a},deserialize:function(a){return a}},l=1e4,m=0,n=5,o=n+1,p=function(){function a(a){var b=self.WeakRef;b&&(this.$1=new b(a))}var b=a.prototype;b.isDead=function(){return this.$1!=null&&this.$1.deref()==null};return a}(),q=function(e){babelHelpers.inheritsLoose(a,e);function a(a,b,f,g){var i;f===void 0&&(f=null);g===void 0&&(g={});i=e.call(this,a)||this;i.$WorkerFuncChannel1=new Map();i.$WorkerFuncChannel2=new Map();i.$WorkerFuncChannel5={"function":{serialize:function(a,b){b=o++;i.$WorkerFuncChannel1.set(b,a);a={type:"function",value:b};return a},deserialize:function(a){var b=babelHelpers.assertThisInitialized(i),c=a.value;a=function(){var a={type:"call",id:c,method:"__anonymous",thisArg:null,argList:Array.from(arguments)};return b.callMessageHandler(a)};i.$WorkerFuncChannel2.set(c,new p(a));return a}},custom:{serialize:function(a,b){var c=a.constructor.name,d=i.$WorkerFuncChannel4[c];d!=null||h(0,63779,c);d=d.serialize(a,b);return{type:"custom",custom:c,value:d}},deserialize:function(a){var b=a.custom,c=i.$WorkerFuncChannel4[b];c!=null||h(0,63779,b);return c.deserialize(a.value)}},error:{serialize:function(a,b){b={name:a.name,message:a.message,stack:a.stack};return{type:"error",value:b}},deserialize:function(a){var b=c("err")(a.value.message);b.name=a.value.name;b.stack=a.value.stack;return b}},object:{serialize:function(a,b){b=a.constructor;if(b!==Object)throw new Error("Cannot clone class object");return{type:"object",value:a}},deserialize:function(a){return a.value}},raw:{serialize:function(a,b){return{type:"raw",value:a}},deserialize:function(a){return a.value}}};i.name=b;i.$WorkerFuncChannel3=f;i.$WorkerFuncChannel4=g;a=function(a){d("MainPageUrl").isWorkerLogEnabled()&&c("FBLogger")("adsworker").debug("[Channel] removing callback ids: %s",a.join()),a.forEach(function(a){return i.$WorkerFuncChannel1["delete"](a)})};var k=i.__remoteInternalFunc(m,a);typeof jest===typeof void 0&&(j||(j=c("ExecutionEnvironment"))).isInBrowser&&setInterval(function(){var a=[];i.$WorkerFuncChannel2.forEach(function(b,c){b.isDead()&&(a.push(c),i.$WorkerFuncChannel2["delete"](c))});a.length>0?k(a):i.$WorkerFuncChannel2.size>5e3&&c("FBLogger")("adsworker").warn("[%s] has too many remaining refs %s",i.name,i.$WorkerFuncChannel2.size)},l);return i}var f=a.prototype;f.__remoteInternalFunc=function(a,b){(a>n||this.$WorkerFuncChannel1.get(a)!=null)&&c("FBLogger")("adsworker").mustfix("invalid internal func id %s",a);this.$WorkerFuncChannel1.set(a,b);b=this.$WorkerFuncChannel5["function"].deserialize({type:"function",value:a});return b};f.$WorkerFuncChannel6=function(a){return a instanceof Int8Array||a instanceof Int16Array||a instanceof Int32Array||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Uint16Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array};f.$WorkerFuncChannel7=function(a){if(typeof a==="function")return"function";if(a===null)return"raw";if(typeof a!=="object")return"raw";if(Array.isArray(a))return"raw";if(this.$WorkerFuncChannel6(a))return"raw";var b=a.constructor.name;if(this.$WorkerFuncChannel4[b])return"custom";return a instanceof Error?"error":"object"};f.$WorkerFuncChannel8=function(a,b){var c=this.$WorkerFuncChannel7(a);return this.$WorkerFuncChannel5[c].serialize(a,b)};f.$WorkerFuncChannel9=function(a){var b=a;if(a!==null&&typeof a==="object"&&typeof a.type==="string"){var c=this.$WorkerFuncChannel5[a.type];if(c)return c.deserialize(a)}return b};f.__onPostOutMessage=function(a){return a};f.__callCallback=function(a,b){a.apply(null,b.argList)};f.setOutMessagePort=function(a,d){var e=this,f=[];this.setCallMessageHandler(function(d){d.thisArg=e.name;var g=[];d.argList=d.argList.map(function(a){return e.$WorkerFuncChannel8(a,g)});var h=new(i||(i=b("Promise")))(function(a,b){d.result={resolveFunc:e.$WorkerFuncChannel8(a,g),rejectFunc:e.$WorkerFuncChannel8(b,g)}}),j=e.__onPostOutMessage(d);j!=null&&(f!=null?f.push({message:d,transferList:g}):a.postMessage(d,g));h["catch"](function(a){c("FBLogger")("worker").catching(a).mustfix("Error: channel %s, remote call of %s returned error %s",e.name,d.method,a.message)});return h});c("promiseDone")(d||x.waitForRemote(this.name),function(){var b=f;f=null;b==null?void 0:b.forEach(function(b){a.postMessage(b.message,b.transferList)});e.$WorkerFuncChannel3==null?void 0:e.$WorkerFuncChannel3()})};f.__messageToCall=function(a){var b=this;a.argList=a.argList.map(function(a){return b.$WorkerFuncChannel9(a)});if(a.result){var d=a.result,e=d.resolveFunc;d=d.rejectFunc;e=this.$WorkerFuncChannel9(e);d=this.$WorkerFuncChannel9(d);a.result={resolveFunc:e,rejectFunc:d}}e=a.id;if(e===void 0)this.messageToCall(a);else{d=this.$WorkerFuncChannel1.get(e);d?this.__callCallback(d,a):c("FBLogger")("adsworker").mustfix("Error: callback is called but no longer available")}};f.setInMessagePort=function(a){var b=this;a.addMessageListener("call",function(a){typeof a.thisArg==="string"&&a.thisArg===b.name&&b.__messageToCall(a)});x.notifyReady(this.name)};f.setMessagePort=function(a){this.setInMessagePort(a);this.setOutMessagePort(a);return this};return a}(c("FuncChannel")),r=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(d("WorkerMessagePort").WorkerMessagePort);function s(a,b,d,e){x.exportChannel(a,function(e){var f=e.syncPort;e=e.remoteNativePort;var g=b();a===g.name||h(0,54247,a,g.name);var i;e?(i=new r(e,f.name+"("+g.name+")"),e.start(),i.onError.add(function(a){c("FBLogger")("worker").catching(a).mustfix("error caught in remotePort");throw a})):i=f;g.setMessagePort(i).setBackend(d);c("promiseDone")(f.fullyConnected,function(){f.postMessage({type:"channelReady",channelName:g.name}),x.logState("EXPORTED",a)})})}function a(a,b,c,d){d===void 0&&(d={});return s(c,function(){return new q(function(b){return a},c,null,d)},a,b)}var t=function(b){babelHelpers.inheritsLoose(a,b);function a(a,e){e===void 0&&(e="");var f=d("DateConsts").MS_PER_MIN*1;return b.call(this,function(){c("FBLogger")("worker").warn("Channel %s did not establish eventually. %s",a,e)},f)||this}return a}(d("TimedOnceFunc").TimedOnceFunc);function u(a,b){var e,f=null,g,h;b.isWrappingVirtualMessagePort()?(h=new(d("VirtualMessageChannel").VirtualMessageChannel)(!0,!0),e="on virtual dedicated channel"):(h=new MessageChannel(),e="on native dedicated channel",g=[h.port2]);var i=h.port1;f=h.port2;i.start();var j=new r(i,b.name+"("+a.name+")");c("promiseDone")(b.fullyConnected,function(){x.logState("IMPORTING "+e+" ",a.name);a.setInMessagePort(j);var d=new t(a.name,e);c("promiseDone")(b.onMessageOnce("channelReady",function(b){return b.channelName===a.name}),function(b){a.setOutMessagePort(j),d.cancel(),x.logState("ESTABLISHED",a.name)});b.postMessage({type:"channelImport",channelName:a.name,port:f},g)});return a.proxyMethods}function v(a,b,c,d){c===void 0&&(c=null);d===void 0&&(d={});b=new q(function(b){return a},b,c,d);return b}function e(a,b,c,d,e){d===void 0&&(d=null);e===void 0&&(e={});return u(v(a,c,d,e),b)}var w=function(){function a(){this.name=self.name+"_P"+Math.round(10*Math.random()),this.$1=new Map(),this.$2=new Set()}var e=a.prototype;e.logState=function(a,b){d("MainPageUrl").isWorkerLogEnabled()&&c("FBLogger")("worker").debug("%s-%s %s",this.name,a,b)};e.$3=function(a){var b=this.$1.get(a);b==null&&(b={pendingPorts:null,onImportRequest:null},this.$1.set(a,b));return b};e.exportChannel=function(a,b){var d=this,e=this.$3(a);e.onImportRequest!=null&&c("FBLogger")("worker").debug("Re-exporting channel %s",a);e.onImportRequest=b;this.logState("REGISTERED",a);a=e.pendingPorts;if(a!=null){var f=a.filter(function(a){return d.$2.has(a.syncPort)});f.forEach(b);f.length<a.length?e.pendingPorts=a.filter(function(a){return!d.$2.has(a.syncPort)}):e.pendingPorts=null}return e};e.activate=function(a,b,d){var e=this;if(this.$2.has(a)){c("FBLogger")("worker").debug("Port %sis already duplicated ",a.name);return}this.$2.add(a);a.addMessageListener("channelImport",function(b){var c=b.channelName,d=e.$3(c);b={syncPort:a,remoteNativePort:b.port};d.onImportRequest!=null?d.onImportRequest(b):d.pendingPorts!=null?d.pendingPorts.push(b):d.pendingPorts=[b];e.logState("IMPORT REQUEST",c)})};e.notifyReady=function(a){};e.waitForRemote=function(a){return(i||(i=b("Promise"))).resolve()};return a}(),x=new w();function f(a,b,c){x.activate(a,b,c)}g.TransferableTransformer=k;g.WorkerFuncChannel=q;g.exportChannelOnPort=s;g.exportChannel=a;g.importChannelOnPort=u;g.makeChannel=v;g.importChannel=e;g.activateChannels=f}),98);
__d("WorkerQPLChannel",["WorkerFuncChannel","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new(d("WorkerFuncChannel").WorkerFuncChannel)(function(a){return{markerStartFromNavStart:null,markerStart:function(b,d,e){e===void 0&&(e=(h||(h=c("performanceAbsoluteNow")))());return a.markerStart(b,d,e)},markerAnnotate:function(b,c,d){return a.markerAnnotate(b,c,d)},markerPoint:function(b,d,e){e=(e==null?void 0:e.timestamp)===void 0?babelHelpers["extends"]({},e,{timestamp:(h||(h=c("performanceAbsoluteNow")))()}):e;return a.markerPoint(b,d,e)},markerEnd:function(b,d,e,f){f===void 0&&(f=(h||(h=c("performanceAbsoluteNow")))());return a.markerEnd(b,d,e,f)}}},"qpl");function a(a){i.setMessagePort(a)}function b(a){i.setBackend(a)}g.setMessagePort=a;g.initQPL=b}),98);/*FB_PKG_DELIM*/
__d("InstagramNetegoImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5889");b=d("FalcoLoggerInternal").create("instagram_netego_impression",a);e=b;g["default"]=e}),98);
__d("InstagramNetegoInvalidationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5891");b=d("FalcoLoggerInternal").create("instagram_netego_invalidation",a);e=b;g["default"]=e}),98);
__d("InstagramNetegoSubImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5892");b=d("FalcoLoggerInternal").create("instagram_netego_sub_impression",a);e=b;g["default"]=e}),98);
__d("InstagramWebTypeaheadResultSelectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5676");b=d("FalcoLoggerInternal").create("instagram_web_typeahead_result_select",a);e=b;g["default"]=e}),98);
__d("InstagramWebTypeaheadSearchAttemptFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5677");b=d("FalcoLoggerInternal").create("instagram_web_typeahead_search_attempt",a);e=b;g["default"]=e}),98);
__d("usePolarisBloksNetegoFeedUnitImpressionLogger",["InstagramNetegoImpressionFalcoEvent","InstagramNetegoSubImpressionFalcoEvent","PolarisConfig","react","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c,j=6e4,k=new Map();function l(a,b){k.set(a,b)}function a(a){var b=i(7),e=a.gapToPreviousAd,f=a.gapToPreviousNetego,g=a.id,h=a.netegoType,m=a.position,n=a.trackingToken;b[0]!==g||b[1]!==h||b[2]!==e||b[3]!==f||b[4]!==m||b[5]!==n?(a=function(a){a=a.visibleTime;if(g==null||h==null)return;var b=d("PolarisConfig").getViewerId(),i={gap_to_last_ad:e!=null?String(e):null,gap_to_last_netego:f!=null?String(f):null,id:g,pk:b,position:String(m),tracking_token:n,type:h},o=i.id+"-"+String(m),p=k.get(o);p==null?(c("InstagramNetegoImpressionFalcoEvent").logImmediately(function(){return babelHelpers["extends"]({},i,{ig_userid:b})}),l(o,a)):a-p>j&&(c("InstagramNetegoSubImpressionFalcoEvent").logImmediately(function(){return i}),l(o,a))},b[0]=g,b[1]=h,b[2]=e,b[3]=f,b[4]=m,b[5]=n,b[6]=a):a=b[6];return c("usePartialViewImpression")({onImpressionStart:a})}g["default"]=a}),98);
__d("PolarisBloksNetegoFeedUnit.react",["CometErrorBoundary.react","IGWebBloksApp","InstagramNetegoInvalidationFalcoEvent","react","stylex","useJSON","usePolarisBloksNetegoFeedUnitImpressionLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;b.useMemo;var k=b.c;function a(a){var b=k(16),d=a.gapToPreviousAd,e=a.gapToPreviousNetego,f=a.id,g=a.netegoType,h=a.payload,i=a.position,m=a.trackingToken;a=a.xstyle;var n;b[0]!==m||b[1]!==f||b[2]!==g?(n=function(){if(m==null)return;c("InstagramNetegoInvalidationFalcoEvent").logImmediately(function(){return{id:f,tracking_token:m,type:g}})},b[0]=m,b[1]=f,b[2]=g,b[3]=n):n=b[3];n=n;var o;b[4]!==d||b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==h||b[9]!==i||b[10]!==m||b[11]!==a?(o=j.jsx(l,{gapToPreviousAd:d,gapToPreviousNetego:e,id:f,netegoType:g,payload:h,position:i,trackingToken:m,xstyle:a}),b[4]=d,b[5]=e,b[6]=f,b[7]=g,b[8]=h,b[9]=i,b[10]=m,b[11]=a,b[12]=o):o=b[12];b[13]!==n||b[14]!==o?(d=j.jsx(c("CometErrorBoundary.react"),{onError:n,children:o}),b[13]=n,b[14]=o,b[15]=d):d=b[15];return d}function l(a){var b=k(10),d=a.gapToPreviousAd,e=a.gapToPreviousNetego,f=a.id,g=a.netegoType,i=a.payload,l=a.position,m=a.trackingToken;a=a.xstyle;d=c("usePolarisBloksNetegoFeedUnitImpressionLogger")({gapToPreviousAd:d,gapToPreviousNetego:e,id:f,netegoType:g,position:l,trackingToken:m});f=c("useJSON")((e=i)!=null?e:"{}");b[0]!==f?(g={layout:{bloks_payload:f}},b[0]=f,b[1]=g):g=b[1];l=g;m=l;b[2]!==a?(i=(h||(h=c("stylex")))(a),b[2]=a,b[3]=i):i=b[3];b[4]!==m?(e=j.jsx(c("IGWebBloksApp"),{payload:m}),b[4]=m,b[5]=e):e=b[5];b[6]!==i||b[7]!==d||b[8]!==e?(f=j.jsx("div",{className:i,ref:d,children:e}),b[6]=i,b[7]=d,b[8]=e,b[9]=f):f=b[9];return f}g["default"]=a}),98);
__d("PolarisEmojiPopoverConstants",[],(function(a,b,c,d,e,f){"use strict";a=309;b=309;c=333;d=325;e=55;var g=302;f.EMOJI_TRAY_WIDTH=a;f.EMOJI_TRAY_HEIGHT=b;f.EMOJI_TRAY_WIDTH_WITH_MARGIN=c;f.EMOJI_TRAY_HEIGHT_WITH_MARGIN=d;f.VARIATION_CONTENT_HEIGHT=e;f.VARIATION_CONTENT_WIDTH_6_EMOJIS=g}),66);
__d("PolarisEmojiPopoverPlaceholder.react",["IGDSBox.react","IGDSGlimmer.react","IGDSPopoverLoadingState.react","PolarisEmojiPopoverConstants","range","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={emoji:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x10w6t97",marginTop:"x1k70j0n",marginEnd:"x1w0mnb",marginBottom:"xzueoph",marginStart:"x1mnrxsn",width:"x1td3qas",$$css:!0},label:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x1kpxq89",marginTop:"x1xmf6yo",marginEnd:"x1emribx",marginBottom:"x1e56ztr",marginStart:"x1i64zmx",width:"xxljpkc",$$css:!0},popover:{marginBottom:"x1yztbdb",$$css:!0}};function a(){var a=i(8),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:k.label}),a[0]=b):b=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e="x78zum5 x1a02dak xwib8y2",a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx("div",{className:e,children:c("range")(0,14).map(function(a){return j.jsx(c("IGDSGlimmer.react"),{index:a,xstyle:k.emoji},"emoji_glimmer_"+a)})}),a[2]=e):e=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:k.label}),a[3]=f):f=a[3];var g;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g="x78zum5 x1a02dak xwib8y2",a[4]=g):g=a[4];a[5]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsxs(c("IGDSBox.react"),{height:"fit-content",marginTop:2,width:d("PolarisEmojiPopoverConstants").EMOJI_TRAY_WIDTH,children:[b,e,f,j.jsx("div",{className:g,children:Array(28).fill(0).map(function(a,b){return j.jsx(c("IGDSGlimmer.react"),{index:b,xstyle:k.emoji},"emoji_glimmer_"+b)})})]}),a[5]=b):b=a[5];e=b;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSBox.react"),{direction:"row",display:"flex",height:d("PolarisEmojiPopoverConstants").EMOJI_TRAY_HEIGHT_WITH_MARGIN,justifyContent:"center",width:d("PolarisEmojiPopoverConstants").EMOJI_TRAY_WIDTH_WITH_MARGIN,children:e}),a[6]=f):f=a[6];a[7]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSPopoverLoadingState.react"),{popoverContent:f,popoverXStyle:k.popover}),a[7]=g):g=a[7];return g}g["default"]=a}),98);
__d("PolarisEmojiButton.react",["IGDSFace2PanoOutlineIcon.react","IGDSIconButton.react","IGDSLazyPopoverTrigger.react","JSResourceForInteraction","PolarisDirectStrings","PolarisEmojiPopoverPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=c("JSResourceForInteraction")("PolarisEmojiPopover.react").__setRef("PolarisEmojiButton.react"),l=13;function a(a){var b=i(27),e,f,g,h;if(b[0]!==a){var m=a.color,n=a.disableAutoAlign,o=a.disableAutoFlip,p=a.emojiTrayAlignment,q=a.emojiTrayPosition,r=a.onEmojiClick,s=a.padding,t=a.setEmojiTrayOpen,u=a.size;r=r;h=s;e=t;g=m===void 0?"ig-primary-text":m;s=n===void 0?!1:n;t=o===void 0?!1:o;m=p===void 0?"start":p;n=q===void 0?"above":q;o=u===void 0?"medium":u;f=void 0;o==="small"?f=l:typeof o==="number"&&(f=o);b[0]=a;b[1]=e;b[2]=r;b[3]=f;b[4]=g;b[5]=h;b[6]=m;b[7]=s;b[8]=t;b[9]=n}else e=b[1],r=b[2],f=b[3],g=b[4],h=b[5],m=b[6],s=b[7],t=b[8],n=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx(c("PolarisEmojiPopoverPlaceholder.react"),{}),b[10]=p):p=b[10];b[11]!==e?(q=function(a){e(a)},b[11]=e,b[12]=q):q=b[12];b[13]!==r?(u={handleEmojiClick:r},b[13]=r,b[14]=u):u=b[14];o=f;b[15]!==g||b[16]!==o||b[17]!==h?(a=function(a,b){return j.jsx(c("IGDSIconButton.react"),{hover:j.jsx(c("IGDSFace2PanoOutlineIcon.react"),{alt:d("PolarisDirectStrings").EMOJI_BUTTON_ALT_TEXT,color:g==="ig-secondary-text"?"ig-tertiary-text":void 0,size:f}),innerRef:a,onClick:b,padding:h===!0?8:0,children:j.jsx(c("IGDSFace2PanoOutlineIcon.react"),{alt:d("PolarisDirectStrings").EMOJI_BUTTON_ALT_TEXT,color:g,size:f})})},b[15]=g,b[16]=o,b[17]=h,b[18]=a):a=b[18];b[19]!==m||b[20]!==s||b[21]!==t||b[22]!==q||b[23]!==u||b[24]!==n||b[25]!==a?(r=j.jsx(c("IGDSLazyPopoverTrigger.react"),{align:m,disableAutoAlign:s,disableAutoFlip:t,fallback:p,onVisibilityChange:q,popoverProps:u,popoverResource:k,position:n,preloadTrigger:"button",children:a}),b[19]=m,b[20]=s,b[21]=t,b[22]=q,b[23]=u,b[24]=n,b[25]=a,b[26]=r):r=b[26];return r}g["default"]=a}),98);
__d("PolarisPostCommentInputReplyingToBar.react",["fbt","IGDSIconButton.react","IGDSXFilledIcon.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={clearButton:{":active_opacity":"x1d5wrs8",$$css:!0},iOSStyling:{backgroundColor:"xjbqb8w",paddingBottom:"x1a8lsjc",paddingStart:"x1e558r4",paddingLeft:null,paddingRight:null,paddingEnd:"x150jy0e",paddingTop:"xexx8yu",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"x19g9edo",borderBottomColor:"x1ixjvfu",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",paddingTop:"xz9dl7a",paddingEnd:"x1pi30zi",paddingBottom:"xsag5q8",paddingStart:"x1swvt13",$$css:!0}};function a(a){var b=k(11),d=a.isRevampedMobileInput,e=a.onClearReply;a=a.username;d=d===void 0?!1:d;d=d&&m.iOSStyling;var f;b[0]!==d?(f=(i||(i=c("stylex")))(m.root,d),b[0]=d,b[1]=f):f=b[1];b[2]!==a?(d=l.jsx("span",{children:h._("__JHASH__VtKxQrCzs4E__JHASH__",[h._param("username",a)])}),b[2]=a,b[3]=d):d=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSXFilledIcon.react"),{alt:"at",size:14}),b[4]=a):a=b[4];b[5]!==e?(a=l.jsx(c("IGDSIconButton.react"),{onClick:e,padding:0,xstyle:m.clearButton,children:a}),b[5]=e,b[6]=a):a=b[6];b[7]!==f||b[8]!==d||b[9]!==a?(e=l.jsxs("div",{className:f,children:[d,a]}),b[7]=f,b[8]=d,b[9]=a,b[10]=e):e=b[10];return e}g["default"]=a}),226);
__d("PolarisStoryTypeaheadConstants",[],(function(a,b,c,d,e,f){"use strict";a="touch_mention";f.TOUCH_MENTION_ID=a}),66);
__d("PolarisStoryTypeaheadResultsList.react",["cx","fbt","PolarisDOMListener.react","PolarisIGCorePressable.react","PolarisIGVirtualList.react","PolarisSearchConstants","PolarisStoryTypeaheadConstants","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=100,m=6;function n(a){return a.filter(function(a){return a.type===d("PolarisSearchConstants").USER_RESULT})}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={results:[]},e.$2=function(a){a=a.index;var b=e.state.results[a];return k.jsxs(c("PolarisIGCorePressable.react"),{className:"_acn7",id:d("PolarisStoryTypeaheadConstants").TOUCH_MENTION_ID,onPress:function(a){return e.$1(b,a)},children:[k.jsx("img",{alt:i._("__JHASH__B2hKC5spJyT__JHASH__",[i._param("username",b.username)]),className:"_acn8",id:d("PolarisStoryTypeaheadConstants").TOUCH_MENTION_ID,src:b.profilePictureUrl}),k.jsx("div",{className:"_acn9",children:b.username})]},b.username)},e.$3=function(a){a.stopPropagation()},b)||babelHelpers.assertThisInitialized(e)}b.getDerivedStateFromProps=function(a,b){return babelHelpers["extends"]({},b,{results:n(a.results)})};var e=b.prototype;e.componentDidMount=function(){this.setState({results:n(this.props.results)})};e.$1=function(a,b){b.preventDefault();b=this.props.pendingQueryStartIndex;this.props.onResultSelect(a,b)};e.render=function(){return k.jsxs("div",{className:"_acna",id:d("PolarisStoryTypeaheadConstants").TOUCH_MENTION_ID,children:[k.jsx(c("PolarisDOMListener.react"),{event:"touchmove",handler:this.$3,passive:!1,target:document}),k.jsx(c("PolarisIGVirtualList.react"),{containerSize:"auto",direction:"horizontal",estimatedItemSize:l,initialRenderCount:m,itemCount:this.state.results.length,overscanCount:m,renderer:this.$2})]})};return b}(k.Component);g["default"]=a}),226);
__d("PolarisTypeaheadResultsItem.react",["cx","fbt","PolarisPostsStatistic.react","PolarisSearchConstants","PolarisSocialProofStatisticVariant","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$1=function(a){a.preventDefault()},c.$2=function(a){c.props.onClick&&c.props.onClick(c.props.result,a)},c.$3=function(){c.props.onMouseEnter&&c.props.onMouseEnter(c.props.index,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_MOUSE)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$4=function(a){switch(a.type){case d("PolarisSearchConstants").USER_RESULT:return k.jsxs("div",{className:"_acmr",children:[k.jsx("img",{alt:i._("__JHASH__B2hKC5spJyT__JHASH__",[i._param("username",a.username)]),className:"_acms",src:a.profilePictureUrl}),k.jsxs("div",{className:"_acmt",children:[k.jsxs("div",{className:"_acmu",children:[a.username,a.isVerified?k.jsx("div",{className:"_acmv _9ys8"}):null]}),k.jsx("span",{className:"_acmw",dir:"auto",children:a.fullName})]})]});case d("PolarisSearchConstants").HASHTAG_RESULT:var b=a.mediaCount;return k.jsxs("div",{className:"_acmt",children:[k.jsx("span",{className:"_acmu",dir:"auto",children:"#"+a.name}),b!=null&&k.jsx("div",{className:"_acmw",children:k.jsx(c("PolarisPostsStatistic.react"),{value:b,variant:d("PolarisSocialProofStatisticVariant").SOCIAL_PROOF_STATS_VARIANTS.unstyled})})]});case d("PolarisSearchConstants").LOCATION_RESULT:return k.jsxs("div",{className:"_acmt",children:[k.jsx("span",{className:"_acmu",dir:"auto",children:a.name}),k.jsx("span",{className:"_acmw",dir:"auto",children:a.address})]});default:return null}};e.render=function(){var a=this.props,b=a.isSelected,c=a.result,d=a.showLargeAvatars;a=a.size;a=a===void 0?"default":a;c=this.$4(c);return c?k.jsx("button",{className:(d?"":"_acmx")+(d?" _acmy":"")+(a==="extraLarge"?" _acmz":"")+(b?" _acm-":""),"data-testid":void 0,onClick:this.$2,onMouseDown:this.$1,onMouseEnter:this.$3,children:c}):null};return b}(k.Component);g["default"]=a}),226);
__d("PolarisTypeaheadResultsList.react",["cx","IGDSSpinner.react","PolarisSearchConstants","PolarisTypeaheadResultsItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.c;function a(a){var b=m(14),e=a.loading,f=a.onResultHighlight,g=a.onResultSelect,h=a.pendingQueryStartIndex,i=a.results,o=a.searchContext,p=a.selectedIndex,q=a.showLargeAvatars,r=a.showResultsCondensed,s=a.size,t=l(),u=l(),v;b[0]!==p?(a=function(){if(t.current&&p!=null){var a=t.current.clientHeight;t.current.scrollTop=a*Math.floor(p/4)}},v=[p],b[0]=p,b[1]=a,b[2]=v):(a=b[1],v=b[2]);k(a,v);b[3]!==g||b[4]!==h?(a=function(a,b){b.preventDefault(),g(a,h)},b[3]=g,b[4]=h,b[5]=a):a=b[5];var w=a;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(v=function(a){switch(a.type){case d("PolarisSearchConstants").USER_RESULT:return"user_"+a.username;case d("PolarisSearchConstants").HASHTAG_RESULT:return"hashtag_"+a.name;case d("PolarisSearchConstants").LOCATION_RESULT:return"location_"+a.external_id;default:return null}},b[6]=v):v=b[6];var x=v;a=function(a,b){return j.jsx("div",{ref:b===0?u:null,children:j.jsx(c("PolarisTypeaheadResultsItem.react"),{index:b,isSelected:b===p,onClick:w,onMouseEnter:f,result:a,showLargeAvatars:q,size:s})},x(a))};b[7]===Symbol["for"]("react.memo_cache_sentinel")?(v="_acm_",b[7]=v):v=b[7];var y;b[8]!==e||b[9]!==r?(y=e&&j.jsx("div",{className:(r?"_acn0":"")+(r?"":" _acn1"),children:j.jsx("div",{className:"_acn2"+(r?"":" _acn3")+(r?" _acn4":""),children:j.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),b[8]=e,b[9]=r,b[10]=y):y=b[10];e=!e&&j.jsx("div",{className:"_acn5"+(r?" _acn6":""),ref:t,children:n(i,o).map(a)});b[11]!==y||b[12]!==e?(r=j.jsxs("div",{className:v,children:[y,e]}),b[11]=y,b[12]=e,b[13]=r):r=b[13];return r}function n(a,b){switch(b){case d("PolarisSearchConstants").SEARCH_CONTEXT.USER:return a.filter(function(a){return a.type===d("PolarisSearchConstants").USER_RESULT});case d("PolarisSearchConstants").SEARCH_CONTEXT.HASHTAG:return a.filter(function(a){return a.type===d("PolarisSearchConstants").HASHTAG_RESULT});case d("PolarisSearchConstants").SEARCH_CONTEXT.LOCATION:return a.filter(function(a){return a.type===d("PolarisSearchConstants").LOCATION_RESULT});case d("PolarisSearchConstants").SEARCH_CONTEXT.BLENDED:default:return a}}g["default"]=a}),98);
__d("PolarisTypeahead.react",["InstagramWebPushInfo","InstagramWebTypeaheadResultSelectFalcoEvent","InstagramWebTypeaheadSearchAttemptFalcoEvent","PolarisIGHashtagRegex","PolarisIGUsernameRegex","PolarisLogger","PolarisSearchConstants","PolarisStoryTypeaheadResultsList.react","PolarisTypeaheadResultsList.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect,k=b.useRef,l=b.useState,m=b.c,n=10,o=new RegExp(d("PolarisIGHashtagRegex").HASH_CHARS),p=new RegExp(d("PolarisIGUsernameRegex").MENTIONS_MARKER),q={typeaheadAttempt:"typeaheadAttempt",typeaheadClickSuccess:"typeaheadClickSuccess"};function r(a){d("PolarisLogger").logAction(q.typeaheadClickSuccess,{searchContext:a}),c("InstagramWebTypeaheadResultSelectFalcoEvent").log(function(){return{frontend_env:c("InstagramWebPushInfo").frontend_env,search_context:a}})}function s(a){d("PolarisLogger").logAction(q.typeaheadAttempt,{searchContext:a}),c("InstagramWebTypeaheadSearchAttemptFalcoEvent").log(function(){return{frontend_env:c("InstagramWebPushInfo").frontend_env,search_context:a}})}function a(a){var b=m(57),e=a.className,f=a.cursorIndex,g=a.initialSearchContext,h=a.inputString,o=a.loading,p=a.onClearSearch,q=a.onResultHighlight,w=a.onResultSelect,x=a.onSearch,y=a.onSearchLocations,z=a.rankToken,A=a.results,B=a.searchOnMount,C=a.selectedIndex,D=a.showLargeAvatars,E=a.showResultsCondensed,F=a.size,G=a.useSearchTriggers;a=g===void 0?d("PolarisSearchConstants").SEARCH_CONTEXT.BLENDED:g;var H=h===void 0?"":h,I=B===void 0?!1:B;g=D===void 0?!1:D;h=E===void 0?!0:E;B=l(G?null:0);var J=B[0],K=B[1];D=l(a);var L=D[0],M=D[1],N=k(),O=k();b[0]!==L||b[1]!==y||b[2]!==x||b[3]!==z?(E=function(a){L===d("PolarisSearchConstants").SEARCH_CONTEXT.LOCATION?y(a):x(L,a,z),window.clearTimeout(N.current)},b[0]=L,b[1]=y,b[2]=x,b[3]=z,b[4]=E):E=b[4];var P=E;b[5]!==I||b[6]!==J||b[7]!==G||b[8]!==H||b[9]!==f||b[10]!==P?(B=function(){if(I&&J!==null){var a=G?H.slice(J,f):H;window.clearTimeout(N.current);N.current=window.setTimeout(function(){return P(a)},n);return}},a=[f,P,H,J,I,G],b[5]=I,b[6]=J,b[7]=G,b[8]=H,b[9]=f,b[10]=P,b[11]=B,b[12]=a):(B=b[11],a=b[12]);j(B,a);b[13]!==p?(D=function(){return function(){p(),window.clearTimeout(N.current)}},E=[p],b[13]=p,b[14]=D,b[15]=E):(D=b[14],E=b[15]);j(D,E);b[16]!==G||b[17]!==p?(B=function(){K(G?null:0),p()},b[16]=G,b[17]=p,b[18]=B):B=b[18];var Q=B;b[19]!==H||b[20]!==I||b[21]!==f||b[22]!==G||b[23]!==J||b[24]!==Q||b[25]!==L||b[26]!==P||b[27]!==p?(a=function(){var a;if(((a=O.current)==null?void 0:a.inputString)!==H||I&&f!==((a=O.current)==null?void 0:a.cursorIndex)){a=H.slice(f-1,f);if(G&&t(a)){var b;(b=O.current)==null?void 0:b.onClearSearch();K(f);M(v(a))}else if(J!==null&&(!H||G&&u(a)))Q();else if(J!==null){var c=G?H.slice(J,f):H;window.clearTimeout(N.current);N.current=window.setTimeout(function(){s(L),P(c)},n)}}O.current={cursorIndex:f,inputString:H,onClearSearch:p}},D=[f,P,Q,H,p,J,L,I,G],b[19]=H,b[20]=I,b[21]=f,b[22]=G,b[23]=J,b[24]=Q,b[25]=L,b[26]=P,b[27]=p,b[28]=a,b[29]=D):(a=b[28],D=b[29]);j(a,D);b[30]!==Q||b[31]!==w||b[32]!==L?(E=function(a,b){Q(),w(a,b),r(L)},b[30]=Q,b[31]=w,b[32]=L,b[33]=E):E=b[33];B=E;b[34]!==J||b[35]!==I||b[36]!==o||b[37]!==q||b[38]!==B||b[39]!==A||b[40]!==L||b[41]!==C||b[42]!==g||b[43]!==h||b[44]!==F?(a=J!=null&&!I&&i.jsx(c("PolarisTypeaheadResultsList.react"),{loading:o,onResultHighlight:q,onResultSelect:B,pendingQueryStartIndex:J,results:A,searchContext:L,selectedIndex:C,showLargeAvatars:g,showResultsCondensed:h,size:F}),b[34]=J,b[35]=I,b[36]=o,b[37]=q,b[38]=B,b[39]=A,b[40]=L,b[41]=C,b[42]=g,b[43]=h,b[44]=F,b[45]=a):a=b[45];b[46]!==J||b[47]!==I||b[48]!==q||b[49]!==B||b[50]!==A||b[51]!==L?(D=J!=null&&I&&i.jsx(c("PolarisStoryTypeaheadResultsList.react"),{onResultHighlight:q,onResultSelect:B,pendingQueryStartIndex:J,results:A,searchContext:L}),b[46]=J,b[47]=I,b[48]=q,b[49]=B,b[50]=A,b[51]=L,b[52]=D):D=b[52];b[53]!==e||b[54]!==a||b[55]!==D?(E=i.jsxs("div",{className:e,"data-testid":void 0,children:[a,D]}),b[53]=e,b[54]=a,b[55]=D,b[56]=E):E=b[56];return E}function t(a){return o.test(a)||p.test(a)}function u(a){return/\s/.test(a)}function v(a){if(o.test(a))return d("PolarisSearchConstants").SEARCH_CONTEXT.HASHTAG;return p.test(a)?d("PolarisSearchConstants").SEARCH_CONTEXT.USER:d("PolarisSearchConstants").SEARCH_CONTEXT.BLENDED}g["default"]=a}),98);
__d("PolarisTypeaheadContainer.react",["PolarisReactRedux.react","PolarisSearchActions","PolarisTypeahead.react","polarisSearchSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){a=d("polarisSearchSelectors").getCurrentSearchContent(a);return{loading:a.loading,rankToken:a.rankToken,results:a.results,selectedIndex:a.selectedIndex}}function b(a){return{onClearSearch:function(){a(d("PolarisSearchActions").clearSearch())},onResultHighlight:function(b,c){a(d("PolarisSearchActions").selectResult(b,c))},onSearch:function(b,c,e){a(d("PolarisSearchActions").search(b,c,e))},onSearchLocations:function(b,c,e){a(d("PolarisSearchActions").searchLocations(b,c,e))}}}e=d("PolarisReactRedux.react").connect(a,b)(c("PolarisTypeahead.react"));g["default"]=e}),98);
__d("PolarisTypeaheadInput.react",["InstagramWebPushInfo","InstagramWebTypeaheadResultSelectFalcoEvent","Keys","PolarisLogger","PolarisPrismQEHelpers","PolarisReactRedux.react","PolarisSearchActions","PolarisSearchConstants","ReactTextareaAutosizeWWWIG","getTextDirection","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={typeaheadClickSuccess:"typeaheadClickSuccess"},l={prismRoot:{fontFamily:"xqfltyo",$$css:!0},root:{fontFamily:"x1i0vuye",$$css:!0}};e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=null,e.state={hasFocus:!1},e.$3=function(a){e.props.onBlur&&e.props.onBlur(a),e.setState({hasFocus:!1})},e.$4=function(a){e.props.onFocus&&e.props.onFocus(a),e.setState({hasFocus:!0})},e.$5=function(a){e.props.onChange(a.target.value,a.target.selectionEnd)},e.$6=function(a){e.$1=a,e.props.inputRef&&e.props.inputRef(a)},e.$7=function(a){var b=e.props.search.content[e.props.search.currentSearchTab],f=b.loading,g=b.results,h=b.searchedForQuery;b=b.selectedIndex;!a.altKey&&(g.length>0||f)&&(a.which===c("Keys").DOWN?(b==null?e.props.onTypeaheadResultHighlight(0,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD):b<g.length-1&&e.props.onTypeaheadResultHighlight(b+1,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD),a.preventDefault()):a.which===c("Keys").UP?(b!=null&&b>0&&e.props.onTypeaheadResultHighlight(b-1,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD),a.preventDefault()):a.which===c("Keys").RETURN&&(g!=null&&g.length>0&&(b!=null?(e.props.onTypeaheadResultSelect(g[b],e.props.cursorIndex-h.length),m()):e.props.onTypeaheadResultHighlight(0,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD)),a.preventDefault()))},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.shouldComponentUpdate=function(a,b){return this.props.value!==a.value||this.props.cursorIndex!==a.cursorIndex||this.props.disabled!==a.disabled||this.state.hasFocus!==b.hasFocus};e.componentDidUpdate=function(a,b){this.state.hasFocus&&this.$1!=null&&this.props.cursorIndex!==this.$1.selectionEnd&&this.$2()};e.$2=function(){var a=this.$1;a&&(a.focus(),a.setSelectionRange(this.props.cursorIndex,this.props.cursorIndex))};e.render=function(){var a=d("PolarisPrismQEHelpers").hasPrismFont()===!0,b=this.props,e=b.autosize;b.cursorIndex;b.inputRef;b.onTypeaheadResultHighlight;b.onTypeaheadResultSelect;b.search;var f=b.value,g=b.xstyle;b=babelHelpers.objectWithoutPropertiesLoose(b,["autosize","cursorIndex","inputRef","onTypeaheadResultHighlight","onTypeaheadResultSelect","search","value","xstyle"]);var i=c("getTextDirection")(f);a={autoComplete:"off",autoCorrect:"off",className:(h||(h=c("stylex")))(a?l.prismRoot:l.root,g),dir:i,onBlur:this.$3,onChange:this.$5,onFocus:this.$4,onKeyDown:this.$7,value:f};return e===!0?j.jsx(c("ReactTextareaAutosizeWWWIG"),babelHelpers["extends"]({},b,a,{ref:this.$6})):j.jsx("textarea",babelHelpers["extends"]({},b,a,{ref:this.$6}))};return b}(j.Component);function m(){d("PolarisLogger").logAction(k.typeaheadClickSuccess),c("InstagramWebTypeaheadResultSelectFalcoEvent").log(function(){return{frontend_env:c("InstagramWebPushInfo").frontend_env}})}function a(a){return{search:a.search}}function b(a){return{onTypeaheadResultHighlight:function(b,c){a(d("PolarisSearchActions").selectResult(b,c))}}}f=d("PolarisReactRedux.react").connect(a,b)(e);g["default"]=f}),98);
__d("PolarisPostCommentInputForm.react",["fbt","IGDSButton.react","IGDSSpinner.react","PolarisEmojiButton.react","PolarisPostCommentInputReplyingToBar.react","PolarisTypeaheadContainer.react","PolarisTypeaheadInput.react","PolarisUA","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.c,m=h._("__JHASH__CPNtEZUIkbA__JHASH__"),n={border:{borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",$$css:!0},emojiButton:{paddingTop:"x1y1aw1k",paddingEnd:"x1pi30zi",paddingBottom:"xwib8y2",paddingStart:"x1swvt13",$$css:!0},emojiButtonOnRevampFeed:{marginEnd:"x1w0mnb",$$css:!0},emojiButtonV2:{paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",$$css:!0},familiarFeedEmojiButton:{order:"xo1ph6p",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},familiarFeedPostButton:{marginTop:"xdj266r",marginEnd:"x1emribx",marginBottom:"xat24cr",marginStart:"x1i64zmx",$$css:!0},form:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",font:"xln7xf2",fontSize:"xk390pu",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},formRevamp:{borderTopStartRadius:"x13jg5ln",borderTopEndRadius:"x12klpvz",borderBottomEndRadius:"xstbrti",borderBottomStartRadius:"x12bmzex",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},formRevampDesktopFeed:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},formRich:{backgroundColor:"xvbhtw8",borderTopColor:"x1yvgwvq",borderEndColor:"x1dqoszc",borderBottomColor:"x1ixjvfu",borderStartColor:"xhk4uv",borderTopStartRadius:"x10m1dyt",borderTopEndRadius:"xx7vh7w",borderBottomEndRadius:"xqw4mrg",borderBottomStartRadius:"x18f6g3z",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",marginEnd:"xktsk01",marginLeft:null,marginRight:null,paddingTop:"xz9dl7a",paddingEnd:"x1pi30zi",paddingBottom:"xsag5q8",paddingStart:"x1swvt13",$$css:!0},postButton:{marginStart:"x1i64zmx",$$css:!0},revampedMobileInput:{borderTopColor:"x1yvgwvq",borderEndColor:"x1dqoszc",borderBottomColor:"x1ixjvfu",borderStartColor:"xhk4uv",borderTopStartRadius:"x13jg5ln",borderTopEndRadius:"x12klpvz",borderBottomEndRadius:"xstbrti",borderBottomStartRadius:"x12bmzex",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",$$css:!0},shouldShowReplyBar:{marginBottom:"xyorhqc",$$css:!0},textArea:{backgroundColor:"xvbhtw8",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",color:"x5n08af",display:"x78zum5",flexGrow:"x1iyjqo2",fontSize:"x1qlqyl8",height:"x1d6elog",maxHeight:"xlk1fp6",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",resize:"xtt52l0",width:"xnalus7","::placeholder_color":"xs3hnx8",":disabled_opacity":"x1bq4at4",":disabled_pointerEvents":"xaqnwrm",$$css:!0},typeahead:{borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxShadow:"x1jumc70",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},typeaheadDesktop:{backgroundColor:"xvbhtw8",boxShadow:"x122emky",minWidth:"x92112o",position:"x10l6tqk",top:"xdsb8wn",$$css:!0},typeaheadMobile:{bottom:"x58jzl7",end:"xds687c",position:"x10l6tqk",start:"x17qophe",$$css:!0},typeaheadShowAboveInput:{bottom:"x10w3d4m",top:"x80663w",$$css:!0},withReplyBar:{borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",flexDirection:"xdt5ytf",$$css:!0}},o={root:{color:"xkx5cws",opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=l(60),e=a.autosize,f=a.cursorIndex,g=a.familiarFeed,j=a.hasPostButton,p=a.hasRichCommentInput,q=a.inputRef,r=a.isEmojiTrayOpen,s=a.isOnDesktopFeed,t=a.isRevampedMobileInput,u=a.isRevampVersion,v=a.isSubmitDisabled,w=a.isTypeaheadInputDisabled,x=a.onBlur,y=a.onChange,z=a.onClearReply,A=a.onEmojiClick,B=a.onEmojiTrayOpen,C=a.onFocus,D=a.onKeyPress,E=a.onKeyUp,F=a.onPostButtonClicked,G=a.onTypeaheadResultSelect,H=a.openTypeaheadAbove,I=a.pendingComment,J=a.repliedToUsername,K=a.replyingToBarWithinInput;a=a.showTypeahead;p=p===void 0?!1:p;t=t===void 0?!1:t;K=K===void 0?!1:K;var L=u&&s===!0,M=K&&J!=null&&J!==""&&z!=null,N;b[0]!==C?(N=function(){C()},b[0]=C,b[1]=N):N=b[1];N=N;var O=t?n.revampedMobileInput:n.border,P=K&&J!=null&&n.withReplyBar,Q=p&&n.formRich,R=p&&u&&n.formRevamp;p=p&&L&&n.formRevampDesktopFeed;var S;b[2]!==O||b[3]!==P||b[4]!==Q||b[5]!==R||b[6]!==p?(S=(i||(i=c("stylex")))(n.form,O,P,Q,R,p),b[2]=O,b[3]=P,b[4]=Q,b[5]=R,b[6]=p,b[7]=S):S=b[7];b[8]!==w?(O=w&&k.jsx(c("IGDSSpinner.react"),{position:"absolute"}),b[8]=w,b[9]=O):O=b[9];b[10]!==K||b[11]!==z||b[12]!==J||b[13]!==M||b[14]!==t?(P=K&&z!=null&&J!=null&&k.jsx("div",{className:(i||(i=c("stylex")))(M&&n.shouldShowReplyBar),children:k.jsx(c("PolarisPostCommentInputReplyingToBar.react"),{isRevampedMobileInput:t,onClearReply:z,username:J})}),b[10]=K,b[11]=z,b[12]=J,b[13]=M,b[14]=t,b[15]=P):P=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(Q="x6s0dn4 x78zum5 x1q0g3np x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x11njtxf",b[16]=Q):Q=b[16];b[17]!==s||b[18]!==g||b[19]!==L||b[20]!==u||b[21]!==r||b[22]!==A||b[23]!==B?(R=d("PolarisUA").isDesktop()&&k.jsx("div",{className:(i||(i=c("stylex")))([s===!0?n.emojiButtonV2:n.emojiButton,g?n.familiarFeedEmojiButton:null,L&&n.emojiButtonOnRevampFeed]),children:k.jsx(c("PolarisEmojiButton.react"),{color:g?"ig-secondary-text":void 0,isEmojiTrayOpen:r,onEmojiClick:A,setEmojiTrayOpen:B,size:g&&(!u||L)?"small":void 0})}),b[17]=s,b[18]=g,b[19]=L,b[20]=u,b[21]=r,b[22]=A,b[23]=B,b[24]=R):R=b[24];b[25]!==e||b[26]!==f||b[27]!==w||b[28]!==q||b[29]!==x||b[30]!==y||b[31]!==N||b[32]!==D||b[33]!==E||b[34]!==G||b[35]!==I?(p=k.jsx(c("PolarisTypeaheadInput.react"),{"aria-label":m,autosize:e,cursorIndex:f,"data-testid":void 0,disabled:w,inputRef:q,onBlur:x,onChange:y,onFocus:N,onKeyPress:D,onKeyUp:E,onTypeaheadResultSelect:G,placeholder:m,value:I,xstyle:n.textArea}),b[25]=e,b[26]=f,b[27]=w,b[28]=q,b[29]=x,b[30]=y,b[31]=N,b[32]=D,b[33]=E,b[34]=G,b[35]=I,b[36]=p):p=b[36];b[37]!==j||b[38]!==g||b[39]!==v||b[40]!==F?(K=j&&(g?!v:!0)&&k.jsx("div",{className:(i||(i=c("stylex")))(g?n.familiarFeedPostButton:n.postButton),children:k.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",isDisabled:v,label:h._("__JHASH__zzYm0I61wsT__JHASH__"),onClick:F,variant:"primary_link",xstyle:v?o.root:void 0})}),b[37]=j,b[38]=g,b[39]=v,b[40]=F,b[41]=K):K=b[41];b[42]!==R||b[43]!==p||b[44]!==K?(z=k.jsxs("div",{className:Q,children:[R,p,K]}),b[42]=R,b[43]=p,b[44]=K,b[45]=z):z=b[45];b[46]!==S||b[47]!==O||b[48]!==P||b[49]!==z?(J=k.jsxs("form",{className:S,"data-testid":void 0,method:"POST",children:[O,P,z]}),b[46]=S,b[47]=O,b[48]=P,b[49]=z,b[50]=J):J=b[50];b[51]!==a||b[52]!==H||b[53]!==f||b[54]!==I||b[55]!==G?(M=a?k.jsx(c("PolarisTypeaheadContainer.react"),{className:(i||(i=c("stylex")))([n.typeahead,d("PolarisUA").isMobile()?n.typeaheadMobile:n.typeaheadDesktop,H?n.typeaheadShowAboveInput:null]),cursorIndex:f,inputString:I,onResultSelect:G,showResultsCondensed:!0,useSearchTriggers:!0}):null,b[51]=a,b[52]=H,b[53]=f,b[54]=I,b[55]=G,b[56]=M):M=b[56];b[57]!==J||b[58]!==M?(t=k.jsxs(k.Fragment,{children:[J,M]}),b[57]=J,b[58]=M,b[59]=t):t=b[59];return t}g["default"]=a}),226);
__d("polarisUpdateTextOnTypeaheadSelect",["PolarisSearchConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){var f="";switch(a.type){case d("PolarisSearchConstants").USER_RESULT:f=a.username;break;case d("PolarisSearchConstants").HASHTAG_RESULT:f=a.name;break;default:return{updatedCursorIndex:e,updatedText:c}}a=" ";b=c.substring(0,b);c=c.substring(e);e=b+f+a+c;c=b.length+f.length+a.length;return{updatedCursorIndex:c,updatedText:e}}g["default"]=a}),98);
__d("PolarisPostCommentInput.react",["fbt","IGDSText.react","PolarisFastLink.react","PolarisIGCoreConstants","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisLogger","PolarisPendingCommentActions","PolarisPostCommentInputForm.react","PolarisPostCommentInputReplyingToBar.react","PolarisReactRedux.react","PolarisRoutes","PolarisSearchActions","PolarisUA","PolarisUserAvatar.react","QPLUserFlow","browserHistory_DO_NOT_USE","gkx","nullthrows","one-trace","polarisSearchSelectors","polarisUpdateTextOnTypeaheadSelect","polarisUserSelectors","qpl","react","stylex","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={avatar:{display:"x1rg5ohu",marginTop:"xdj266r",marginEnd:"xktsk01",marginBottom:"xat24cr",marginStart:"x1d52u69",$$css:!0},avatarReels:{marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1i64zmx",$$css:!0},avatarRevamp:{marginTop:"xdj266r",marginEnd:"x1t4t16n",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},familiarFeedRoot:{borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",paddingTop:"x3hdcf8",paddingEnd:"x180j4jr",paddingBottom:"x18dplov",paddingStart:"x1ub4b5r",$$css:!0},inputWrapper:{alignItems:"x6s0dn4",backgroundColor:"x19g9edo",borderBottomColor:"x1ixjvfu",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",borderTopColor:"x1yvgwvq",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",justifyContent:"x1nhvcw1",paddingTop:"x1y1aw1k",paddingEnd:"x4uap5",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",$$css:!0},inputWrapperReels:{paddingTop:"x3hdcf8",paddingEnd:"x180j4jr",paddingBottom:"x18dplov",paddingStart:"x1ub4b5r",$$css:!0},inputWrapperRevamp:{backgroundColor:"xvbhtw8",borderTopStartRadius:"x13jg5ln",borderTopEndRadius:"x12klpvz",borderBottomEndRadius:"xstbrti",borderBottomStartRadius:"x12bmzex",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",$$css:!0},inputWrapperRevampFeed:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},reelsRoot:{backgroundColor:"xvbhtw8",borderTopColor:"xl4qmuc",borderEndColor:"xxqof28",borderBottomColor:"xd18jyu",borderStartColor:"xiuebna",borderTopStartRadius:"x13jg5ln",borderTopEndRadius:"x12klpvz",borderBottomEndRadius:"xstbrti",borderBottomStartRadius:"x12bmzex",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxSizing:"x9f619",$$css:!0},revampedMobileInput:{backgroundColor:"xjbqb8w",$$css:!0},root:{borderTopColor:"x5ur3kl",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",color:"x1roi4f4",flexShrink:"x2lah0s",fontSize:"xvs91rp",justifyContent:"xl56j7k",lineHeight:"x17ydfre",position:"x1n2onr6",$$css:!0},rootRich:{borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",top:"x1qiirwl",width:"xh8yej3",$$css:!0}};function n(){var a=k(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("PolarisLinkBuilder").buildLoginLink(d("browserHistory_DO_NOT_USE").browserHistory.location.pathname,{source:"post_comment_input"}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=l.jsx(c("PolarisFastLink.react"),{href:b,children:l.jsx(c("IGDSText.react").Body,{color:"link",zeroMargin:!0,children:h._("__JHASH__5fqLO0g-L2z__JHASH__")})}),a[1]=b):b=a[1];b=b;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=l.jsx("span",{children:l.jsx(c("IGDSText.react").Body,{color:"secondaryText",zeroMargin:!0,children:h._("__JHASH__WPvyG_7QGy0__JHASH__",[h._param("loginLink",b)])})}),a[2]=b):b=a[2];return b}function o(a){var b=k(2),c;b[0]!==a.username?(c=l.jsx("span",{children:h._("__JHASH__BM0L4toxBeH__JHASH__",[h._param("username",a.username)])}),b[0]=a.username,b[1]=c):c=b[1];return c}var p=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var e;e=b.call(this,a)||this;e.$3=null;e.focusAndScroll=function(){var a=function(){var a=c("nullthrows")(e.$1);a.focus();d("PolarisUA").isMobile()&&window.setTimeout(function(){typeof a.scrollIntoView==="function"&&(a.scrollIntoView(!0),window.scrollBy(0,-200))},10)};e.setState({hasBeenFocused:!0},function(){window.setTimeout(function(){return a()})})};e.$6=function(a){a.key==="Enter"&&!a.shiftKey&&(c("QPLUserFlow").addPoint(c("qpl")._(379194585,"1014"),"post_comment_form_enter_key_pressed"),e.$5(a))};e.$7=function(a){a.stopPropagation()};e.$8=function(a,b){e.state.commentAttempt||d("PolarisLogger").logAction("commentAttempt",{isLoggedIn:e.props.isLoggedIn,source:e.props.analyticsContext,type:e.props.isVideo===!0?"video":"photo"}),e.setState({commentAttempt:!0,cursorIndex:b,isEmojiTrayOpen:e.$2!=null,needsFlush:!0,pendingComment:a})};e.$9=function(a){e.$1=a,c("gkx")("32994")&&(a!=null?e.$3=c("one-trace").trackTypingPerf(a,"PostCommentInput"):e.$3!=null&&(e.$3(),e.$3=null))};e.$10=function(){e.setState({hasBeenFocused:!0,hasFocus:!0}),c("QPLUserFlow").start(c("qpl")._(379194585,"1014"),{annotations:{string:{source:e.props.analyticsContext}}})};e.$11=function(){e.setState({hasFocus:!1})};e.$12=function(a){var b=e.props,f=b.analyticsContext,g=b.id;b=b.ownerId;d("PolarisInteractionsLogger").logInteractionAction({containerModule:f,eventName:"instagram_organic_comment_button",mediaAuthorId:b,mediaId:g});c("QPLUserFlow").addPoint(c("qpl")._(379194585,"1014"),"post_comment_form_post_button_clicked");e.$5(a)};e.$13=function(a,b){a=c("polarisUpdateTextOnTypeaheadSelect")(a,b,e.state.pendingComment,e.state.cursorIndex);b=a.updatedCursorIndex;a=a.updatedText;e.$8(a,b)};e.$14=function(a){var b,c;e.$2=a;b=((b=e.$1)==null?void 0:b.selectionStart)||0;c=((c=e.$1)==null?void 0:c.selectionEnd)||0;c=e.state.pendingComment.substring(0,b)+a+e.state.pendingComment.substring(c);b=b+a.length;e.$8(c,b)};e.$15=function(a){a===!0&&d("PolarisLogger").logAction("emojiButtonClicked",{isLoggedIn:e.props.isLoggedIn,source:e.props.analyticsContext,type:e.props.isVideo===!0?"video":"photo"}),e.setState({isEmojiTrayOpen:a})};e.emojiPickerTray=l.createRef();e.state={commentAttempt:!1,cursorIndex:a.pendingComment.length,hasBeenFocused:!1,isEmojiTrayOpen:!1,needsFlush:!1,pendingComment:""};return e}var e=a.prototype;e.componentWillUnmount=function(){!this.props.commentSaveIsInFlight&&this.state.needsFlush&&this.state.pendingComment.length>0&&this.props.onCommentChange(this.state.pendingComment)};e.componentDidUpdate=function(a,b){var c=this.props,d=c.commentSaveIsInFlight;c=c.pendingComment;this.$1&&!b.hasBeenFocused&&this.state.hasBeenFocused&&this.$1.focus();a.pendingComment!==c&&(this.setState({cursorIndex:c.length,pendingComment:c}),this.$1&&this.$1.focus());b=b.isEmojiTrayOpen!==this.state.isEmojiTrayOpen;(this.$2!=null||b)&&(this.$2=null,this.$1&&(b&&this.setState({cursorIndex:this.$1.selectionEnd}),this.$1.focus()));a.commentSaveIsInFlight&&!d&&c===""&&this.setState({needsFlush:!0,pendingComment:""})};e.shouldComponentUpdate=function(a,b){return this.props.xstyle!==a.xstyle||this.props.commentSaveIsInFlight!==a.commentSaveIsInFlight||this.props.pendingComment!==a.pendingComment||this.state.pendingComment!==b.pendingComment||this.state.hasBeenFocused!==b.hasBeenFocused||this.state.hasFocus!==b.hasFocus||this.state.isEmojiTrayOpen!==b.isEmojiTrayOpen};e.$4=function(){return this.state.pendingComment.trim().length===0||this.props.commentSaveIsInFlight};e.$5=function(a){var b=this,d=this.props,e=d.adInfo,f=d.onCommentChange,g=d.onCommentSubmit,h=d.repliedToCommentId;d=d.repliedToCommentParentId;c("QPLUserFlow").addPoint(c("qpl")._(379194585,"1014"),"post_comment_form_submitted");a.preventDefault();if(!this.$4()){f(this.state.pendingComment);this.setState({needsFlush:!1});a=null;e!=null&&(e==null?void 0:e.tracking_token)!=null&&(e==null?void 0:e.ad_id)!=null&&(a={adId:e==null?void 0:e.ad_id,adTrackingToken:e==null?void 0:e.tracking_token});g(this.state.pendingComment,h,d,a).then(function(){b.$1&&b.$1.blur()})}};e.$16=function(){if(this.props.isRevampVersion)return!1;return this.$1?this.props.viewportHeight-this.$1.getBoundingClientRect().bottom>200:!0};e.render=function(){var a=this.props,b=a.analyticsContext,e=a.canViewerProvideFeedback,f=a.hasRichCommentInput,g=a.isLoggedIn,h=a.isRevampedMobileInput;h=h===void 0?!1:h;var j=a.isRevampVersion,k=a.onClearReply,p=a.ownerUsername,q=a.repliedToUsername,r=a.replyingToBarWithinInput;r=r===void 0?!1:r;var s=a.viewerProfilePicture;a=a.xstyle;var t=d("browserHistory_DO_NOT_USE").browserHistory.location.pathname===d("PolarisRoutes").FEED_PATH||d("browserHistory_DO_NOT_USE").browserHistory.location.pathname===d("PolarisRoutes").ADS_ACTIVITY_FEED||d("browserHistory_DO_NOT_USE").browserHistory.location.pathname===d("PolarisRoutes").ADS_ACTIVITY_PATH;t=t&&this.props.inModal!==!0&&d("PolarisUA").isDesktop();b=d("PolarisUA").isDesktop()&&b==="reelsTab"&&j;var u=t||j;return l.jsxs("section",{className:(i||(i=c("stylex")))(m.root,f===!0&&m.rootRich,u&&!b&&m.familiarFeedRoot,b&&m.reelsRoot,a),children:[l.jsxs("div",{className:i(b&&m.inputWrapperReels,f===!0&&m.inputWrapper,f===!0&&j&&m.inputWrapperRevamp,f===!0&&j&&t&&m.inputWrapperRevampFeed,f===!0&&h&&m.revampedMobileInput),children:[f===!0&&s!=null&&s!==""&&l.jsx(c("PolarisUserAvatar.react"),{className:(i||(i=c("stylex")))(m.avatar,j&&!b&&m.avatarRevamp,b&&m.avatarReels),isLink:!1,profilePictureUrl:s,size:b?c("PolarisIGCoreConstants").AVATAR_SIZES.extraSmall:c("PolarisIGCoreConstants").AVATAR_SIZES.small}),!g||!e?l.jsx("div",{className:"x1swvt13",children:g?l.jsx(o,{username:c("nullthrows")(p)}):l.jsx(n,{})}):l.jsx(c("PolarisPostCommentInputForm.react"),{autosize:this.props.forceTextareaAutosize===!0||this.state.hasBeenFocused||this.state.pendingComment!=="",cursorIndex:this.state.cursorIndex,familiarFeed:u,hasPostButton:this.props.hasPostButton,hasRichCommentInput:f,inputRef:this.$9,isEmojiTrayOpen:this.state.isEmojiTrayOpen,isOnDesktopFeed:t,isRevampedMobileInput:h,isRevampVersion:this.props.isRevampVersion,isSubmitDisabled:this.$4(),isTypeaheadInputDisabled:this.props.commentSaveIsInFlight,onBlur:this.$11,onChange:this.$8,onClearReply:k,onEmojiClick:this.$14,onEmojiTrayOpen:this.$15,onFocus:this.$10,onKeyPress:this.$6,onKeyUp:this.$7,onPostButtonClicked:this.$12,onTypeaheadResultSelect:this.$13,openTypeaheadAbove:!this.$16(),pendingComment:this.state.pendingComment,repliedToUsername:q,replyingToBarWithinInput:r,showTypeahead:g&&e&&this.state.hasFocus===!0})]}),q!=null&&q!==""&&!r&&d("PolarisUA").isMobile()&&l.jsx(c("PolarisPostCommentInputReplyingToBar.react"),{onClearReply:k,username:q})]})};return a}(l.Component);p.defaultProps={forceTextareaAutosize:d("PolarisUA").isMobile(),hasRichCommentInput:!1};function a(a,b){var e=a.pendingComments[b.id],f=a.navigation.pageIdentifier||"",g=d("polarisSearchSelectors").getCurrentSearchContent(a);return{analyticsContext:f,commentSaveIsInFlight:(e==null?void 0:e.committing)||!1,loading:g.loading,ownerUsername:(f=b.postOwnerUsername)!=null?f:c("nullthrows")(d("polarisUserSelectors").getUserByIdOrThrows(a,b.ownerId).username),pendingComment:(e==null?void 0:e.text)||"",repliedToCommentAuthorId:e==null?void 0:e.repliedToCommentAuthorId,repliedToCommentId:e==null?void 0:e.repliedToCommentId,repliedToCommentParentId:e==null?void 0:e.repliedToCommentParentId,repliedToUsername:e==null?void 0:e.repliedToUsername,results:g.results,searchedForQuery:g.searchedForQuery,selectedIndex:g.selectedIndex}}function b(a,b){return{onClearReply:function(){a(d("PolarisPendingCommentActions").clearPendingComment(b.id))},onCommentChange:function(c,e,f,g,h){a(d("PolarisPendingCommentActions").changePendingComment(b.id,c,e,f,g,h))},onCommentSubmit:function(c,e,f,g){return b.onCommentSubmitOverride!=null?b.onCommentSubmitOverride(c,e,f,g):a(d("PolarisPendingCommentActions").commitPendingComment(b.id,b.ownerId,b.analyticsContext,g))},onTypeaheadResultHighlight:function(b,c){a(d("PolarisSearchActions").selectResult(b,c))}}}function e(a,b,c){return babelHelpers["extends"]({},a,b,c,{onCommentChange:function(c){return b.onCommentChange(c,a.repliedToCommentId,a.repliedToCommentAuthorId,a.repliedToUsername)}})}function f(){var a=k(2),b=c("usePolarisDisplayProperties")(),d;a[0]!==b.viewportHeight?(d={viewportHeight:b.viewportHeight},a[0]=b.viewportHeight,a[1]=d):d=a[1];return d}a=d("PolarisReactRedux.react").connect(a,b,e,{forwardRef:!0})(p);b=d("PolarisReactRedux.react").connectHooksWithRef(f)(a);g["default"]=b}),226);/*FB_PKG_DELIM*/
__d("IndexedDbPolyfills",[],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(){this.$1=new Map()}var b=a.prototype;b.emit=function(a){var b=this.$1.get(a);for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];if(b!==void 0)for(var f=b,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}var j=i;j.apply(void 0,d)}var k=this["on"+a];k!=null&&k.apply(void 0,d)};b.addEventListener=function(a,b,c){var d=this;c===void 0&&(c={});c=c;c=c.signal;var e=this.$1.get(a);e===void 0&&(e=new Set(),this.$1.set(a,e));e.add(b);c!=null&&(c.onabort=function(){d.removeEventListener(a,b)})};b.removeEventListener=function(a,b){a=this.$1.get(a);if(a===void 0)return;a["delete"](b)};return a}();a=function(){return function(a,b){a=this.openCursor((a=a)!=null?a:null);var c=[],d=new g();a.onsuccess=function(a){a=a.target.result;if(a!=null&&(b===void 0||c.length<b))c.push(a.value),a["continue"]();else{d.result=c;d.onsuccess==null?void 0:d.onsuccess({target:{readyState:"done",result:c}});return}};a.onerror=function(a){d.onerror==null?void 0:d.onerror(a)};return d}};b=typeof window!=="undefined"?window:self;typeof b.IDBObjectStore!=="undefined"&&b.IDBObjectStore.prototype.getAll===void 0&&(b.IDBObjectStore.prototype.getAll=a());f.IDBRequest=g;f.getAll=a}),66);
__d("LSPlatformLockState",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Waiting:"waiting",Acquired:"acquired",Cleaning:"cleaning",Canceled:"canceled"});f.LockState=a}),66);
__d("MWLocalStorageErrorHandler",["cr:3449"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:3449")&&b("cr:3449").clearLocalStorageBigValues()}g.onQuotaExceeded=a}),98);
__d("WebStorageLockManager",["FBLogger","LocalStorageWrapper","LockManager","Promise","Run","clearInterval","err","promiseDone","regeneratorRuntime","setInterval","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){c("FBLogger")("messenger_browser_clients").mustfix(a)}function a(a,e){var f="Failed to execute 'request' on 'LockManager'",g="Lock broken by another request with the 'steal' option.",j=function(a,b,c){var d=a.get(b);if(d!=null)return d;d=c();a.set(b,d);return d};try{var k=d("LocalStorageWrapper").getStorage(i),l=function(a,b){d("LocalStorageWrapper").setItemGuarded(k,a,b,i,e==null?void 0:e.onQuotaExceeded)},m=function(a){d("LocalStorageWrapper").removeItemGuarded(k,a,i)},n=function(a){return d("LocalStorageWrapper").getItemGuarded(k,a,i)},o=function(){function a(a,b){this.lockName=a,this.tabId=b,this.lockA=this.lockName+"-a",this.lockB=this.lockName+"-b"}var d=a.prototype;d.run=function(a){return this.$1(a,0)};d.$1=function(a,d){var e=this,f=function(b){return window.requestAnimationFrame(function(){return e.$1(a,d+1).then(b)})},g=function(a){return n(a)==null};l(this.lockA,this.tabId);return new(h||(h=b("Promise")))(function(b){var h=function(){try{a(),b()}finally{m(e.lockB),m(e.lockA)}};g(e.lockB)||d>10?(d>10&&c("FBLogger")("messenger_comet").warn("web-lock polyfill: Had to steal lock"),l(e.lockB,e.tabId),n(e.lockA)===e.tabId?h():window.requestAnimationFrame(function(){n(e.lockB)===e.tabId?h():f(b)})):f(b)})};return a}(),p=function(){function a(b){this.tabId=b,this.lock=new o(a.tabsKey,b),c("promiseDone")(this.$1()),this.$2(),this.keepOnlyTabs(function(b){return a.isAlive(b)})}a.isAlive=function(b){b=n(a.$3(b));return b==null?!1:Date.now()-parseFloat(b)<1e3};var e=a.prototype;e.keepOnlyTabs=function(c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b;b=JSON.parse((b=n(a.tabsKey))!=null?b:"[]").filter(c);b.length>0?l(a.tabsKey,JSON.stringify(b)):m(a.tabsKey)}));case 2:case"end":return d.stop()}},null,this)};e.$2=function(){var b=a.$3(this.tabId);l(b,Date.now().toString());var e=c("setInterval")(function(){l(b,Date.now().toString())},500);d("Run").onUnload(function(){c("clearInterval")(e),m(b)})};e.$1=function(){var e=this;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b;b=JSON.parse((b=n(a.tabsKey))!=null?b:"[]");l(a.tabsKey,JSON.stringify([].concat(b,[e.tabId])))}));case 2:d("Run").onUnload(function(){return c("promiseDone")(e.keepOnlyTabs(function(a){return a!==e.tabId}))});case 3:case"end":return f.stop()}},null,this)};a.$3=function(a){return"$navigator.heartbeat-"+a};return a}();p.tabsKey="$navigator.heartbeat-tabs";var q=function(){function a(b,e){var f=this;this.requests=new Map();this.name=b;this.tabId=e;this.queueKey=a.storagePrefix+"-"+b+"-q";this.currentOwnerKey=a.storagePrefix+"-"+b+"-o";this.lock=new o(a.storagePrefix+"-"+b,this.tabId);d("Run").onUnload(function(){c("promiseDone")(f.keepOnlyRequests(function(a){return(a==null?void 0:a.t)!==f.tabId}))})}var e=a.prototype;e.enqueue=function(d,e,a){var f=this,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:g=c("uuidv4")().toString();h={t:this.tabId,u:g};i=function(){d(null),f.markRequestReleased(g)};j=function(){d(g),f.markRequestReleased(g)};this.requests.set(g,[function(){return d(g)},function(){e(),f.markRequestReleased(g)}]);if(!((a==null?void 0:a.signal)!=null)){k.next=9;break}a.signal.onabort=function(){c("promiseDone")(f.keepOnlyRequests(function(a){return(a==null?void 0:a.u)!==g})),j()};if(!a.signal.aborted){k.next=9;break}return k.abrupt("return",j());case 9:k.next=11;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b=f.getOwner();(a==null?void 0:a.steal)===!0&&f.$1(b==null?void 0:b.u);if(b==null||(a==null?void 0:a.steal)===!0||!p.isAlive(b.t))f.$2(f.currentOwnerKey,babelHelpers["extends"]({},h,(a==null?void 0:a.steal)===!0?{s:!0}:{})),f.$3(g);else if((a==null?void 0:a.ifAvailable)!==!0){b=f.getQueue();b.push(h);f.$2(f.queueKey,b)}else i()}));case 11:case"end":return k.stop()}},null,this)};e.dequeue=function(c){var d=this,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:f=null;g.next=3;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b=d.getOwner();if((b==null?void 0:b.t)!==d.tabId||(b==null?void 0:b.u)!==c)return;b=d.getQueue();b=a.getNextOwner(b);var e=b[0];b=b[1];f=e;d.$2(d.currentOwnerKey,e);d.$2(d.queueKey,b)}));case 3:this.$3((e=f)==null?void 0:e.u);case 4:case"end":return g.stop()}},null,this)};e.storageChangedOnOtherTab=function(a,c){var d=this;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!(a==="o")){e.next=3;break}e.next=3;return b("regeneratorRuntime").awrap(this.lock.run(function(){var a=d.getOwner();if(a==null)return;d.$3(a==null?void 0:a.u);if(a.s===!0){a=c==null?void 0:c.oldValue;if(a!=null){a=JSON.parse(a);a.t===d.tabId&&d.$1(a.u)}}}));case 3:case"end":return e.stop()}},null,this)};e.getQueue=function(){var a;return(a=this.$4(this.queueKey))!=null?a:[]};e.getOwner=function(){return this.$4(this.currentOwnerKey)};a.getQueueNameAndStorageType=function(b){if(!b.startsWith(a.storagePrefix))return null;var d=b.slice(a.storagePrefix.length+1,b.length-2),e=b.charAt(b.length-1);switch(e){case"q":case"o":case"a":case"b":break;default:throw c("err")("Queue was stored with a suffix other than q or o. This is either a bug in the web lock api polyfill code, or it means that something overwrote localStorage with a weird key. Key: "+b)}return[d,e]};a.getNextOwner=function(a){for(var b=0;b<a.length;b+=1)if(p.isAlive(a[b].t))return[a[b],a.slice(b+1)];return[null,[]]};e.$4=function(a){a=n(a);return a!=null?JSON.parse(a):null};e.$2=function(a,b){b=b==null||Array.isArray(b)&&b.length===0?null:JSON.stringify(b);b==null?m(a):l(a,b)};e.keepOnlyRequests=function(c){var d=this;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b=d.getOwner(),e=d.getQueue().filter(c);if(c(b))d.$2(d.queueKey,e);else{b=a.getNextOwner(e);e=b[0];b=b[1];d.$2(d.currentOwnerKey,e);d.$2(d.queueKey,b)}}));case 2:case"end":return e.stop()}},null,this)};e.markRequestReleased=function(a){a!=null&&this.requests["delete"](a)};e.$3=function(a){if(a!=null){a=this.requests.get(a);if(a!=null){a=a[0];a()}}};e.$1=function(a){if(a!=null){a=this.requests.get(a);if(a!=null){a[0];a=a[1];a()}}};return a}();q.storagePrefix="$navigator.locks";var r=function(){function a(a){this.$1=new Map(),this.storage=d("LocalStorageWrapper").getStorage(i),this.tabId=a,new p(this.tabId),c("promiseDone")(this.$2()),this.$3()}var e=a.prototype;e.request=function(){var a=this;for(var e=arguments.length,i=new Array(e),j=0;j<e;j++)i[j]=arguments[j];return new(h||(h=b("Promise")))(function(e,j){c("promiseDone")(function(){var k,l,e,m,n,o,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:l=i[0];e=i.length===3?i[1]:null;m=i.length===2?i[1]:i[2];if(!l.startsWith("-")){q.next=5;break}throw new DOMException("Names cannot start with '-'.",f);case 5:if(!((e==null?void 0:e.ifAvailable)===!0&&(e==null?void 0:e.signal)!=null)){q.next=7;break}throw new DOMException("The 'signal' and 'ifAvailable' options cannot be used together.",f);case 7:n=a.$4(l);q.next=10;return b("regeneratorRuntime").awrap(new(h||(h=b("Promise")))(function(a){c("promiseDone")(n.enqueue(a,function(){j(new DOMException(g,f))},e))}));case 10:o=q.sent;if(!((e==null?void 0:(k=e.signal)==null?void 0:k.aborted)===!0)){q.next=13;break}throw new DOMException("The request was aborted.",f);case 13:q.prev=13;q.next=16;return b("regeneratorRuntime").awrap(m(o!=null?{mode:(p=e==null?void 0:e.mode)!=null?p:d("LockManager").LockMode.Exclusive,name:l}:null));case 16:q.prev=16;if(!(o!=null)){q.next=20;break}q.next=20;return b("regeneratorRuntime").awrap(n.dequeue(o));case 20:n.markRequestReleased(o);return q.finish(16);case 22:case"end":return q.stop()}},null,this,[[13,,16,22]])}(),e,j)})};e.query=function(){var a=[],c=[];for(var e=this.$5(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(g>=e.length)break;i=e[g++]}else{g=e.next();if(g.done)break;i=g.value}i=i;if(i!=null){var j={mode:d("LockManager").LockMode.Exclusive,name:i.name};if(i.getOwner()!=null)a.push(j);else for(var i=i.getQueue(),k=Array.isArray(i),l=0,i=k?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=i.length)break;m=i[l++]}else{l=i.next();if(l.done)break;m=l.value}m;c.push(j)}}}return(h||(h=b("Promise"))).resolve({held:a,pending:c})};e.$4=function(a){var b=this;return j(this.$1,a,function(){return new q(a,b.tabId)})};e.$3=function(){var a=this;window.addEventListener("storage",function(b){var d=b.key;if(b.storageArea!==a.storage||d==null)return;d=q.getQueueNameAndStorageType(d);if(d==null)return;var e=d[0];d=d[1];c("promiseDone")((e=a.$4(e))==null?void 0:e.storageChangedOnOtherTab(d,b))})};e.$2=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap((h||(h=b("Promise"))).all(this.$5().map(function(a){return a==null?void 0:a.keepOnlyRequests(function(a){return a==null?!1:p.isAlive(a.t)})})));case 2:case"end":return a.stop()}},null,this)};e.$5=function(){var a=this;return k==null?[]:Object.keys(k).map(function(b){b=q.getQueueNameAndStorageType(b);if(b==null)return;b=b[0];return a.$4(b)})};return a}();return new r(a)}catch(a){return null}}g.make=a}),98);
__d("MessengerLocksManagerFallback",["MWLocalStorageErrorHandler","WebStorageLockManager"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("WebStorageLockManager").make(a,{onQuotaExceeded:d("MWLocalStorageErrorHandler").onQuotaExceeded})}g["default"]=a}),98);
__d("ReStoreNameUtils",["CurrentMessengerUser"],(function(a,b,c,d,e,f,g){"use strict";a=d("CurrentMessengerUser").getIDorEIMU();b="RestoreIDBMainLock-"+a;c="dbLock-"+a;e="RestoreConcurrency-"+a;f="lsPlatformLock-"+a;d="syncLock-"+a;a="single-instance-pdb-"+a;g.reStoreCMLockName=b;g.reStoreDBLockName=c;g.restoreConcurrencyBroadcastChannelName=e;g.lsPlatformLockBroadcastChannelName=f;g.lsPlatformLockName=d;g.singleTabLockName=a}),98);
__d("saveHandler",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};a.set(c,b);return function(){a["delete"](c)}}f["default"]=a}),66);
__d("LSPlatformSyncLock",["BrowserLockManager","FBLogger","LSPlatformErrorChannel","LSPlatformLockState","LSPlatformLsInitLog","MWBroadcastChannel","MessengerLocksManagerFallback","MessengerLogHistory","Promise","ReStoreNameUtils","Run","asyncToGeneratorRuntime","clearTimeout","emptyFunction","gkx","justknobx","pageID","promiseDone","saveHandler","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MessengerLogHistory").getInstance("client_init"),j=typeof window!=="undefined"?window:self,k="iwantlock",l="lockRequestOnDemand";f="mw_msgr_mutex";function m(a,e){a===void 0&&(a=j);e===void 0&&(e=function(){return document.hasFocus()});var f=new Map(),g=new Map(),m=d("LSPlatformLockState").LockState.Waiting,n=c("emptyFunction"),o,p=c("gkx")("24155")?d("MWBroadcastChannel").MWBroadcastChannel(d("ReStoreNameUtils").lsPlatformLockBroadcastChannelName):void 0,q=function(){if(!c("gkx")("24155"))return;o!=null&&c("clearTimeout")(o);if(m===d("LSPlatformLockState").LockState.Canceled||m===d("LSPlatformLockState").LockState.Acquired)return;o=c("setTimeout")(function(){e()&&m!==d("LSPlatformLockState").LockState.Acquired&&(i.debug("tab has focus and wants to acquire sync lock"),p==null?void 0:p.postMessage(k))},c("justknobx")._("1764"))};function r(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){i.debug("Sync lock acquired"),m=d("LSPlatformLockState").LockState.Acquired,yield (h||(h=b("Promise"))).all(Array.from(f.values()).map(function(a){return a()}))});return s.apply(this,arguments)}function t(){m=d("LSPlatformLockState").LockState.Cleaning,n=c("emptyFunction"),g.forEach(function(a){return a()})}function u(){var b=new AbortController(),f=c("LSPlatformErrorChannel").subscribe(function(e){i.debug("syncLock aborted due to ["+e.name+"] "+e.message),c("FBLogger")("mpf_web_foundations").info("SyncLock aborted due to [%s] %s",e.name,e.message),n(),b.abort(),m=d("LSPlatformLockState").LockState.Canceled,p==null?void 0:p.removeEventListener("message",g),a.removeEventListener("focus",q),f()}),g=function a(g){if(g==null||g.data==null||(g.data!==k||e())&&g.data!==l)return;i.debug("got message from other tab to abort request to sync lock");n();b.abort();f();p==null?void 0:p.removeEventListener("message",a);m=d("LSPlatformLockState").LockState.Waiting;c("promiseDone")(v())};p==null?void 0:p.addEventListener("message",g);return b}function v(){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,e=(a=c("BrowserLockManager"))!=null?a:c("MessengerLocksManagerFallback")(c("pageID"));if(e){m=d("LSPlatformLockState").LockState.Waiting;d("LSPlatformLsInitLog").addPoint("sync_lock_start");i.debug("Sync lock requested if available");yield new(h||(h=b("Promise")))(function(a){return e.request(d("ReStoreNameUtils").lsPlatformLockName,{ifAvailable:!0},function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){if(c==null){i.debug("Attempted to acquire sync lock but it already taken");d("LSPlatformLsInitLog").addPoint("sync_lock_unavailable");a();return}i.debug("Attempted to acquire sync lock and suceeded");yield r();d("LSPlatformLsInitLog").addPoint("sync_lock_acquired");a();return new(h||(h=b("Promise")))(function(a){n=function(){i.debug("Releasing sync lock"),t(),a()}})});return function(a){return c.apply(this,arguments)}}())});a=u();m!==d("LSPlatformLockState").LockState.Acquired&&(i.debug("Sync lock requested and will wait"),d("LSPlatformLsInitLog").addPoint("sync_lock_requests_again"),c("promiseDone")(e.request(d("ReStoreNameUtils").lsPlatformLockName,{signal:a.signal},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){i.debug("Previous attempt to get sync lock failed, getting in queue for when/if it becomes available");yield r();return new(h||(h=b("Promise")))(function(a){n=function(){i.debug("Releasing sync lock"),t(),a()}})});return function(b){return a.apply(this,arguments)}}()),function(a){},function(a){if((a==null?void 0:a.name)==="AbortError")i.debug("Aborting attempt to acquire sync lock");else{d("LSPlatformLsInitLog").addPoint("sync_lock_request_failure");throw a}}));d("LSPlatformLsInitLog").addPoint("lock_requested")}else{d("LSPlatformLsInitLog").addPoint("sync_lock_end_failure");throw c("unrecoverableViolation")("No lock manager inited","ls_web_init")}});return w.apply(this,arguments)}p!=null&&(a.addEventListener("focus",q),q(),d("LSPlatformLsInitLog").addPoint("onfocus_set"));d("Run").onBeforeUnload(function(){n()},!1);d("LSPlatformLsInitLog").addPoint("beforeunload_set");return{_getStateInternal:function(){return m},hasLock:function(){return m===d("LSPlatformLockState").LockState.Acquired},onAcquired:function(a){return c("saveHandler")(f,a)},onLost:function(a){return c("saveHandler")(g,a)},onLostOnce:function(a){var b=c("saveHandler")(g,function(){a(),b()})},release:function(){n()},requestLock:v}}var n=null;function a(){n==null&&(n=m());return n}function e(){n!=null&&n.release()}g.SYNC_KEY=f;g.init=m;g.use=a;g.releaseIfExist=e}),98);
__d("MAWCryptoConsts",[],(function(a,b,c,d,e,f){a=60*60;b=24*a;c=32;d=new Uint8Array(0).buffer;e=128;a=256;var g=12,h=1,i=2,j=2;b=b*30*6;var k=3,l="AES-GCM",m="HKDF",n="SHA-256";f.HKDF_SEED_LENGTH_IN_BYTES=c;f.HKDF_INFO=d;f.AES_GCM_TAG_LENGTH=e;f.AES_GCM_KEY_LENGTH=a;f.AES_GCM_IV_LENGTH_IN_BYTES=g;f.VERSION=h;f.CIPHER_ID=i;f.ADDITIONAL_DATA_LENGTH_IN_BYTES=j;f.ENC_KEY_TTL=b;f.MAX_KEYCHAIN_SETUP_RETRIES=k;f.AES_GCM=l;f.HKDF=m;f.SHA256=n}),66);
__d("MAWDbMsgTypeVersionTxns",["MAWDbAppMeta","MAWDexieTable"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.appMeta.get({key:d("MAWDbAppMeta").AppMetaKeysEnum.msgTypeVersion}).then(function(a){return a==null?void 0:a.value.msgTypeVersion})}function b(a,b){return a.appMeta.add({key:d("MAWDbAppMeta").AppMetaKeysEnum.msgTypeVersion,value:{msgTypeVersion:b}})}function c(a,b){return a.appMeta.put({key:d("MAWDbAppMeta").AppMetaKeysEnum.msgTypeVersion,value:{msgTypeVersion:b}})}function e(a,b){return a.appMeta.add({key:d("MAWDbAppMeta").AppMetaKeysEnum.hmacKey,value:{hmacKey:b}})}function f(a){return a.appMeta.get({key:d("MAWDbAppMeta").AppMetaKeysEnum.hmacKey}).then(function(a){return a==null?void 0:a.value.hmacKey})}function i(a,b){return a.appMeta.get({key:b})}function j(a,b){return a.appMeta.put({key:d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlert,value:{allowSecurityAlert:b}}).then(function(){})}function k(a,b){return a.appMeta.put({key:d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlertForSelf,value:{allowSecurityAlertForSelf:b}}).then(function(){})}function l(a){return i(a,d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlert).then(function(a){return(a=a==null?void 0:a.value.allowSecurityAlert)!=null?a:!1})}function m(a){return i(a,d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlertForSelf).then(function(a){return(a=a==null?void 0:a.value.allowSecurityAlertForSelf)!=null?a:!0})}function n(a,b){return a.appMeta.add({key:d("MAWDbAppMeta").AppMetaKeysEnum.hotlikeSticker,value:{hotlikeSticker:b}})}function o(a){return d("MAWDexieTable").dexieAll([m(a),l(a)]).then(function(a){var b=a[0];a=a[1];return{allowSecurityAlertForContact:a,allowSecurityAlertForSelf:b}})}g.MSG_TYPE_VERSION=(h=d("MAWDbAppMeta")).AppMetaKeysEnum.msgTypeVersion;g.ALLOW_SECURITY_ALERT_FOR_CONTACT=h.AppMetaKeysEnum.allowSecurityAlert;g.ALLOW_SECURITY_ALERT_FOR_SELF=h.AppMetaKeysEnum.allowSecurityAlertForSelf;g.HOT_LIKE=h.AppMetaKeysEnum.hotlikeSticker;g.getMsgTypeVersion=a;g.addMsgTypeVersion=b;g.updateMsgTypeVersion=c;g.addHMACKey=e;g.getHMACKey=f;g.getAppMetaValue=i;g.updateSecurityAlertValueForContact=j;g.updateSecurityAlertValueForSelf=k;g.getSecuritySettingForContact=l;g.getSecuritySettingForSelf=m;g.addHotLike=n;g.maybeBulkGetSecuritySetting=o}),98);
__d("MAWDexieCastToPromise",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){return(g||(g=b("Promise"))).resolve(a)}function c(a){return a}f.dexieCastToPromise=a;f.promiseCastToDexiePromise_I_KNOW_WHAT_I_AM_DOING=c}),66);
__d("MAWKeychainUtil",[],(function(a,b,c,d,e,f){function a(a){return self.crypto.getRandomValues(new Uint8Array(a))}function b(a){var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength},0);return c.buffer}function c(a,b){return new Uint8Array([a,b]).buffer}function d(a){var b=a.length;if(b>0&&b%2===0&&/^[\da-f]+$/gi.test(a)){var c=[];for(var d=0,b=b/2;d<b;++d){var e=parseInt(a.substring(d*2,d*2+2),16);c.push(e)}return new Uint8Array(c)}else return null}f.getBufferWithRandomValuesFromLength=a;f.mergeBuffers=b;f.makeAAD=c;f.fromHexString=d}),66);
__d("MAWSubtleCrypto",[],(function(a,b,c,d,e,f){a=self.crypto;b=a&&(a.subtle||a.webkitSubtle||a.subtle);f.MAWSubtleCrypto=b}),66);
__d("MAWWorkerSetupArgs",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}function b(){return g}f.setWorkerSetupArgs=a;f.getWorkerSetupArgs=b}),66);
__d("MAWKeychainCrypto",["FBLogger","MAWCryptoConsts","MAWKeychainUtil","MAWSubtleCrypto","MAWWorkerSetupArgs","MessengerWebInitData","WABase64","asyncToGeneratorRuntime","err","gkx","memoizeOneWithArgs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MAWKeychainUtil").makeAAD(d("MAWCryptoConsts").VERSION,d("MAWCryptoConsts").CIPHER_ID);function a(a,b,e){var f=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").AES_GCM_IV_LENGTH_IN_BYTES),g=e?e:h;return d("MAWSubtleCrypto").MAWSubtleCrypto.encrypt({additionalData:g,iv:new Uint8Array(f),name:d("MAWCryptoConsts").AES_GCM,tagLength:d("MAWCryptoConsts").AES_GCM_TAG_LENGTH},a,b).then(function(a){a=d("MAWKeychainUtil").mergeBuffers([g,f,a]);return d("WABase64").encodeB64(a)})["catch"](function(b){throw c("FBLogger")("mpf_web_foundations").catching(b).mustfixThrow("Failed to encryptDataToStringBuffer",typeof a,a.constructor.name)})}function e(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e,f=new Uint8Array(d("WABase64").decodeB64(b)),g=f.subarray(0,(e=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES),h=f.subarray(e.ADDITIONAL_DATA_LENGTH_IN_BYTES,e.AES_GCM_IV_LENGTH_IN_BYTES+e.ADDITIONAL_DATA_LENGTH_IN_BYTES);f=f.subarray(e.AES_GCM_IV_LENGTH_IN_BYTES+e.ADDITIONAL_DATA_LENGTH_IN_BYTES);try{e=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.decrypt({additionalData:g,iv:h,name:d("MAWCryptoConsts").AES_GCM,tagLength:d("MAWCryptoConsts").AES_GCM_TAG_LENGTH},a,f));return e}catch(d){c("FBLogger")("mpf_web_foundations").catching(d).mustfix("Failed to decryptDataToArrayBuffer",a.constructor.name,b.length,String(d));throw d}});return i.apply(this,arguments)}function j(){var a,b=c("MessengerWebInitData").accountKey;a=(a=d("MAWWorkerSetupArgs").getWorkerSetupArgs())==null?void 0:a.accountKey;c("gkx")("3732")&&a!=null&&b!==a&&(b=a);return b}function k(){var a=d("MAWKeychainUtil").fromHexString(j());if(a==null)throw c("err")("Invalid value for account key. Is empty="+String(c("MessengerWebInitData").accountKey.length===0));return a.buffer}function l(){var a=k();return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").AES_GCM},!1,["encrypt","decrypt"])}function f(){return d("WABase64").encodeB64(d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES))}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WABase64").decodeB64(a);try{a=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").HKDF},!1,["deriveKey"]));return a}catch(a){c("FBLogger")("mpf_web_foundations").catching(a).mustfix("Failed to importBrowserEncryptionKey");throw a}});return n.apply(this,arguments)}function o(){return d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES)}function p(a,b){var e;return d("MAWSubtleCrypto").MAWSubtleCrypto.deriveKey({hash:{name:(e=d("MAWCryptoConsts")).SHA256},info:e.HKDF_INFO,name:e.HKDF,salt:b},a,{length:e.AES_GCM_KEY_LENGTH,name:e.AES_GCM},!0,["encrypt","decrypt"]).then(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.exportKey("raw",a)})["catch"](function(a){c("FBLogger")("mpf_web_foundations").catching(a).mustfix("Failed to genDatabaseEncryptionKey");throw a})}function q(a){a=a.slice(0,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);return new DataView(a).getUint8(0)}function r(a){return q(d("WABase64").decodeB64(a))}var s=c("memoizeOneWithArgs")(function(){return l()});function t(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WABase64").decodeB64(a);a=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.digest(d("MAWCryptoConsts").SHA256,a));return d("WABase64").encodeB64(a)});return u.apply(this,arguments)}g.ADDITIONAL_DATA=h;g.encryptDataToStringBuffer=a;g.decryptDataToArrayBuffer=e;g.getMessengerWebInitDataAccountKey=j;g.getAccountKeyBuffer=k;g.genAccountKey=l;g.genBrowserEncryptionKeyString=f;g.importBrowserEncryptionKey=m;g.genDatabaseEncryptionSeed=o;g.genDatabaseEncryptionKey=p;g.getKeyVersionFromCipherData=q;g.getKeyVersionFromCipherDataString=r;g.getAccountKey=s;g.generateHashString=t}),98);
__d("MAWEARGenNewKeychainCryptoKey",["FBLogger","MAWCryptoConsts","MAWKeychainCrypto","MessengerWebInitData","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a,b=(yield (a=d("MAWKeychainCrypto")).getAccountKey()),e=a.genBrowserEncryptionKeyString(),f=a.genDatabaseEncryptionSeed();b=(yield a.encryptDataToStringBuffer(b,f));f=d("WATimeUtils").castToUnixTime(d("WATimeUtils").unixTime()+d("MAWCryptoConsts").ENC_KEY_TTL);return{accountKeyString:yield a.generateHashString(c("MessengerWebInitData").accountKey),appIdOrigin:c("MessengerWebInitData").appId,expiration:f,key:e,seed:b,userKeyBaseString:yield a.generateHashString(c("MessengerWebInitData").userKeyBase)}}catch(a){throw c("FBLogger")("messenger_e2ee_web").catching(a).mustfixThrow("Failed to generateNewKey")}});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MAWEARKeychainDecryptionError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="MAWEARKeychainDecryptionError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("MAWGenKeychainCryptoKeyWithVersion",["ExecutionEnvironment","FBLogger","MAWCurrentUser","MAWEARKeychainDecryptionError","MAWKeychainCrypto","MAWWorkerSetupArgs","MessengerWebInitData","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,d,e,f){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j,k){try{var l=(yield d("MAWKeychainCrypto").getAccountKey());a=(yield (i||(i=b("Promise"))).all([d("MAWKeychainCrypto").importBrowserEncryptionKey(a),new i(function(a,f){return d("MAWKeychainCrypto").decryptDataToArrayBuffer(l,e).then(a)["catch"](function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("MessengerWebInitData").accountKey!=null&&g!==(yield d("MAWKeychainCrypto").generateHashString(c("MessengerWebInitData").accountKey));if(b)return f(new(c("MAWEARKeychainDecryptionError"))("Fail to decrypt seed with account key"));f(a)});return function(b){return a.apply(this,arguments)}}())})]));var m=a[0];a=a[1];m=(yield d("MAWKeychainCrypto").genDatabaseEncryptionKey(m,a));return{key:m,version:f}}catch(b){c("FBLogger")("mpf_web_foundations").catching(b).mustfix("Failed to genKeyWithVersion: accountKeyBackfilled = %s; accountKeyExists = %s; acccountKeyMatches = %s; userKeyBaseBackilled = %s; userKeyBaseExists = %s; userKeyBaseMatches = %s; appIdOrigin = %s; appIdInitData = %s; userIdMatches = %s; isInWorker = %s; accountKey_match_between_threads = %s; userId_match_between_threads = %s",g!=null,(a=c("MessengerWebInitData")).accountKey!=null,g===(yield d("MAWKeychainCrypto").generateHashString(a.accountKey)),j!=null,a.userKeyBase!=null,j===(yield d("MAWKeychainCrypto").generateHashString(a.userKeyBase)),k,a.appId,d("MAWCurrentUser").getID()===String(a.userId),(h||(h=c("ExecutionEnvironment"))).isInWorker,((m=d("MAWWorkerSetupArgs").getWorkerSetupArgs())==null?void 0:m.accountKey)===c("MessengerWebInitData").accountKey,((f=d("MAWWorkerSetupArgs").getWorkerSetupArgs())==null?void 0:f.fbId)===String(c("MessengerWebInitData").userId));throw b}});return j.apply(this,arguments)}g["default"]=a}),98);
__d("MAWKeychainNaClCrypto",["MAWCryptoConsts","MAWKeychainCrypto","WABase64","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.name="EARError";c.message=a;return c}return a}(babelHelpers.wrapNativeSuper(Error));function i(a,b,c){c=c?c:d("MAWKeychainCrypto").ADDITIONAL_DATA;c=new Uint8Array(c);var e=d("tweetnacl").randomBytes(d("tweetnacl").secretbox.nonceLength);b=d("tweetnacl").secretbox(b,e,new Uint8Array(a));a=new Uint8Array(d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+e.length+b.length);a.set(c);a.set(e,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);a.set(b,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+e.length);return a.buffer}function j(a,b,c){return d("WABase64").encodeB64(i(a,b,c))}function k(a,b,c){var e,f;b.slice(0,(e=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES);var g=b.slice(e.ADDITIONAL_DATA_LENGTH_IN_BYTES,e.ADDITIONAL_DATA_LENGTH_IN_BYTES+(f=d("tweetnacl")).secretbox.nonceLength);e=b.slice(e.ADDITIONAL_DATA_LENGTH_IN_BYTES+f.secretbox.nonceLength,e.ADDITIONAL_DATA_LENGTH_IN_BYTES+f.secretbox.nonceLength+4*Math.ceil(b.byteLength/3));b=f.secretbox.open(new Uint8Array(e),new Uint8Array(g),new Uint8Array(a));if(b==null){throw new h("decryptTweetNaCl was unable to decrypt an entity. Attempting to use key version : "+((f=c)!=null?f:"non-provided")+".")}return b}function l(a,b,c){return k(a,d("WABase64").decodeB64(b),c)}function a(a,b,c){return j(a,b,c)}function b(a,b,c){return l(a,b,c)}g.EARDecryptionError=h;g.encryptTweetNaClArrayBuffer=i;g.encryptTweetNaCl=j;g.decryptTweetNaClArrayBuffer=k;g.decryptTweetNaCl=l;g.encrypt=a;g.decrypt=b}),98);
__d("ReStoreErrorAction",["ClientConsistencyEventEmitter","LSPlatformSyncLock","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(){switch(d("MAWCurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh","ls_forced_refresh");break;default:h()}}function h(){c("ClientConsistencyEventEmitter").emit("softRefresh","ls_forced_refresh")}function b(){d("LSPlatformSyncLock").releaseIfExist()}g.refresh=a;g.softRefresh=h;g.stopClient=b}),98);
__d("ReStoreDbVersionChange",["ReStoreErrorAction"],(function(a,b,c,d,e,f,g){"use strict";var h="LS DB changed version",i="ReStoreDbVersionChange";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c=h;b=a.call(this,c)||this;b.message=c;b.name=i;d("ReStoreErrorAction").stopClient();d("ReStoreErrorAction").refresh();return b}return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.ReStoreDbVersionChange=a}),98);
__d("MWEARKeychainV3Errors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="EARKeychainNotFoundError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.EARKeychainNotFoundError=a}),66);
__d("MWLSIndexedDBName",["MAWCurrentUser","MWLSDatabaseNames"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MAWCurrentUser").getID();return d("MWLSDatabaseNames").lightspeedPrefix+a}g.dbName=a}),98);
__d("MAWHMACKey",["MAWCryptoConsts","MAWDbMsgTypeVersionTxns","MAWIndexedDb","MAWKeychainUtil","MAWSubtleCrypto","MAWTransactionMode","WABase64","tweetnacl-auth"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES);return i(a).then(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.exportKey("raw",a)})}function a(a,b){a=new TextEncoder().encode(a);b=new Uint8Array(b);a=c("tweetnacl-auth")(a,b);return d("WABase64").encodeB64UrlSafe(a)}function b(){return h().then(function(a){return d("MAWIndexedDb").makeMsgrTransactor({appMeta:d("MAWTransactionMode").READWRITE},"generateAndInsertHMACKey",function(b){return function(){return d("MAWDbMsgTypeVersionTxns").getHMACKey(b).then(function(c){return c!=null?c:d("MAWDbMsgTypeVersionTxns").addHMACKey(b,a).then(function(){return a})})}})()})}function i(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{hash:"SHA-256",name:"HMAC"},!0,["sign"])}g.genHMACKey=h;g.hmacTweetNaCl=a;g.generateAndInsertHMACKey=b}),98);
__d("MAWMediaUtils",["MAWDbMedia","MAWDexieCastToPromise","MAWGlobals","MAWHMACKey","WAHashUtils","WAMediaUtils","WAMsgType","WATimeUtils","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b="media");switch(a){case d("MAWDbMedia").MEDIA_TYPE.IMAGE:return b==="xma-media"?"xma-image":"image";case d("MAWDbMedia").MEDIA_TYPE.VIDEO:return"video";case d("MAWDbMedia").MEDIA_TYPE.PTT:return"ptt";case d("MAWDbMedia").MEDIA_TYPE.GIF:return"gif";case d("MAWDbMedia").MEDIA_TYPE.STICKER:return"sticker";case d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE:return"document";default:throw c("err")("get a wrong media file with type "+a)}}function h(a){try{return d("WAMediaUtils").blobToArrayBuffer(a).then(i)}catch(a){throw c("err")("Got "+a+" when convert the blob to Uint8Array")}}function i(a){return self.crypto.subtle.digest("SHA-256",a).then(function(a){return new Uint8Array(a)})}function e(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield h(a));a=d("WAHashUtils").toPlaintextHash(a);var b=k(a);return[a,b]});return j.apply(this,arguments)}function k(a){var b=d("MAWGlobals").getHMACKey();return d("WAHashUtils").toHashedPlaintextHash(d("MAWHMACKey").hmacTweetNaCl(a,b))}function f(a){var b="preview-"+d("WATimeUtils").unixTime().toString()+".jpeg";return l(a,b,"image/jpeg")}function l(a,b,c){return new File([new Blob([new Uint8Array(a)],{type:c})],b,{type:c})}function m(a,b){return d("MAWDexieCastToPromise").dexieCastToPromise(a.messages.where("msgId").anyOf(b.msgIds).filter(function(a){return a.type!==d("WAMsgType").REVOKED}).toArray().then(function(a){a=a.map(function(a){return a.msgId});return babelHelpers["extends"]({},b,{msgIds:a})}))}g.getServerMediaTypeFromMediaType=a;g.hashBlob=h;g.hashArrayBuffer=i;g.genBlobHashes=e;g.genHMACPlaintextHash=k;g.convertJpegThumbnailArrayBufferToFile=f;g.getBridgeMediaWithoutUnsentMessageIds=m}),98);
__d("ReStoreLocalStorageQuotaExceed",["FBLogger","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="Failed to execute 'setItem' on 'Storage'",i="ReStoreLocalStorageQuotaExceed";function j(){try{var a=window.localStorage,b=[],d=[];if(a!=null&&a.length!==0)for(var e in a){b.length===0&&d.length===0&&(e.includes("falco_queue_log")&&d.push(e));if(!Object.prototype.hasOwnProperty.call(a,e))continue;var f=((a[e]||"").length+e.length)*2;f/1024>2e3&&b.push(e)}c("FBLogger")("maw_db").mustfix(h+": QuotaExceeded - trying to clean up %s or %s",b.join(","),d.join(","));return b.length!==0?b:d}catch(a){c("FBLogger")("maw_db").mustfix("Error getting local storage big values for cleanup.");return[]}}function a(){try{var a=window.localStorage,b=j();b.forEach(function(b){a.removeItem(b)})}catch(a){c("recoverableViolation")("Couldn't remove vals from localStorage","maw_db",a)}}b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;b=h+": "+b+"; Keys to delete: "+j().join(",");c=a.call(this,b)||this;c.message=b;c.name=i;return c}return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.getLocalStorageValuesToRemoveOnExceed=j;g.clearLocalStorageBigValues=a;g.ReStoreLocalStorageQuotaExceed=b}),98);
__d("ReStoreTabNotifier",["CurrentMessengerUser","FBLogger","MWBroadcastChannel","MWLSIndexedDBName"],(function(a,b,c,d,e,f,g){"use strict";var h=d("CurrentMessengerUser").getIDorEIMU();function a(a){var b=d("MWBroadcastChannel").MWBroadcastChannel(a==="restore-table-"+h+"-"+d("MWLSIndexedDBName").dbName()?"mwChat-"+h:a);function e(a,d){try{b.postMessage([a,d])}catch(a){c("FBLogger")("messenger_browser_clients").catching(a).warn("Failed to broadcast changes")}}function f(a,c){b.addEventListener("message",function(b){b=b.data;var d=b[0];d===a&&c(b[1])})}return{onEventReceive:f,postMessage:e}}g["default"]=a}),98);
__d("WAErrorMessage",[],(function(a,b,c,d,e,f){"use strict";var g="NoErrorMessageProvided";function a(a){var b;a instanceof Error?b=a.message:typeof a==="string"?b=a:typeof a==="object"?typeof (a==null?void 0:a.description)==="string"?b=a.description:typeof (a==null?void 0:a.message)==="string"?b=a.message:b=g:b=g;return b}f.NO_ERROR_MESSAGE_PROVIDED=g;f.maybeGetMessageFromError=a}),66);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("javascript-blowfish-1.0.5",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(b,c){this.key=b,(c==="ecb"||c==="cbc")&&(this.mode=c),this.sBox0=a.sBox0.slice(),this.sBox1=a.sBox1.slice(),this.sBox2=a.sBox2.slice(),this.sBox3=a.sBox3.slice(),this.pArray=a.pArray.slice(),this.generateSubkeys(b)};a.prototype={sBox0:null,sBox1:null,sBox2:null,sBox3:null,pArray:null,key:null,mode:"ecb",iv:"abc12345",keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encrypt:function(a,b){if(this.mode==="ecb")return this.encryptECB(a);if(this.mode==="cbc")return this.encryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},decrypt:function(a,b){if(this.mode==="ecb")return this.decryptECB(a);if(this.mode==="cbc")return this.decryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},encryptECB:function(a){a=this.utf8Decode(a);var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8){var f=8-e.length;while(0<f--)e+="\0"}var g;f=this.split64by32(e);e=f[0];g=f[1];f=this.encipher(e,g);e=f[0];g=f[1];c+=this.num2block32(e)+this.num2block32(g)}return c},encryptCBC:function(a,b){a=this.utf8Decode(a);var c=Math.ceil(a.length/8),d;b=this.split64by32(b);d=b[0];b=b[1];var e="";for(var f=0;f<c;f++){var g=a.substr(f*8,8);if(g.length<8){var h=8-g.length;while(0<h--)g+="\0"}var i;h=this.split64by32(g);g=h[0];i=h[1];g=this.xor(g,d);i=this.xor(i,b);h=this.encipher(g,i);g=h[0];i=h[1];d=g;b=i;e+=this.num2block32(g)+this.num2block32(i)}return e},decryptECB:function(a){var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u044b\u0439\u0442\u0430\u043c.");var f,g;e=this.split64by32(e);f=e[0];g=e[1];e=this.decipher(f,g);f=e[0];g=e[1];c+=this.num2block32(f)+this.num2block32(g)}c=this.utf8Encode(c);return c},decryptCBC:function(a,b){var c=Math.ceil(a.length/8),d,e,f;b=this.split64by32(b);d=b[0];b=b[1];var g="";for(var h=0;h<c;h++){var i=a.substr(h*8,8);if(i.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043c.");var j,k;i=this.split64by32(i);j=i[0];k=i[1];e=j;f=k;i=this.decipher(j,k);j=i[0];k=i[1];j=this.xor(j,d);k=this.xor(k,b);d=e;b=f;g+=this.num2block32(j)+this.num2block32(k)}g=this.utf8Encode(g);return g},F:function(a){var b=a>>>24,c=a<<8>>>24,d=a<<16>>>24;a=a<<24>>>24;b=this.addMod32(this.sBox0[b],this.sBox1[c]);b=this.xor(b,this.sBox2[d]);b=this.addMod32(b,this.sBox3[a]);return b},encipher:function(a,b){var c;for(var d=0;d<16;d++)a=this.xor(a,this.pArray[d]),b=this.xor(this.F(a),b),c=a,a=b,b=c;c=a;a=b;b=c;b=this.xor(b,this.pArray[16]);a=this.xor(a,this.pArray[17]);return[a,b]},decipher:function(a,b){var c;a=this.xor(a,this.pArray[17]);b=this.xor(b,this.pArray[16]);c=a;a=b;b=c;for(var d=15;d>=0;d--)c=a,a=b,b=c,b=this.xor(this.F(a),b),a=this.xor(a,this.pArray[d]);return[a,b]},generateSubkeys:function(a){var b=0,c=0,d,e;for(d=0;d<18;d++){for(e=4;e>0;e--)b=this.fixNegative(b<<8|a.charCodeAt(c)),c=(c+1)%a.length;this.pArray[d]=this.xor(this.pArray[d],b);b=0}e=[0,0];for(d=0;d<18;d+=2)e=this.encipher(e[0],e[1]),this.pArray[d]=e[0],this.pArray[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox0[d]=e[0],this.sBox0[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox1[d]=e[0],this.sBox1[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox2[d]=e[0],this.sBox2[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox3[d]=e[0],this.sBox3[d+1]=e[1]},block32toNum:function(a){return this.fixNegative(a.charCodeAt(0)<<24|a.charCodeAt(1)<<16|a.charCodeAt(2)<<8|a.charCodeAt(3))},num2block32:function(a){return String.fromCharCode(a>>>24)+String.fromCharCode(a<<8>>>24)+String.fromCharCode(a<<16>>>24)+String.fromCharCode(a<<24>>>24)},xor:function(a,b){return this.fixNegative(a^b)},addMod32:function(a,b){return this.fixNegative(a+b|0)},fixNegative:function(a){return a>>>0},split64by32:function(a){var b=a.substring(0,4);a=a.substring(4,8);return[this.block32toNum(b),this.block32toNum(a)]},utf8Decode:function(a){var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b},utf8Encode:function(a){var b="",c=0,d=0,e=0,f;while(c<a.length)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(e=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(e&63)<<6|f&63),c+=3);return b},base64Encode:function(a){var b="",c,d,e,f,g,h,i=0;while(i<a.length)c=a.charCodeAt(i++),d=a.charCodeAt(i++),e=a.charCodeAt(i++),f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+this.keyStr.charAt(f)+this.keyStr.charAt(c)+this.keyStr.charAt(g)+this.keyStr.charAt(h);return b},base64Decode:function(a){var b="",c,d,e,f,g,h=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(h<a.length)d=this.keyStr.indexOf(a.charAt(h++)),e=this.keyStr.indexOf(a.charAt(h++)),f=this.keyStr.indexOf(a.charAt(h++)),g=this.keyStr.indexOf(a.charAt(h++)),d=d<<2|e>>4,e=(e&15)<<4|f>>2,c=(f&3)<<6|g,b=b+String.fromCharCode(d),f!=64&&(b=b+String.fromCharCode(e)),g!=64&&(b=b+String.fromCharCode(c));return b},trimZeros:function(a){return a.replace(/\0+$/g,"")}};a.pArray=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];a.sBox0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946];a.sBox1=[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055];a.sBox2=[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504];a.sBox3=[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462];g.exports=a}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("javascript-blowfish",["javascript-blowfish-1.0.5"],(function(a,b,c,d,e,f){e.exports=b("javascript-blowfish-1.0.5")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("remove-accents-0.4.2",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},b=Object.keys(a).join("|"),c=new RegExp(b,"g"),d=new RegExp(b,"");b=function(b){return b.replace(c,function(b){return a[b]})};var e=function(a){return!!a.match(d)};g.exports=b;g.exports.has=e;g.exports.remove=b}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("remove-accents",["remove-accents-0.4.2"],(function(a,b,c,d,e,f){e.exports=b("remove-accents-0.4.2")()}),null);/*FB_PKG_DELIM*/
__d("SharedWorkerDevChangeManager",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i=new Set();function a(a,b){var c=b.storageWorkerResource;b=b.tabResource;if(!h)return!0;if(i.has(a))return!0;if(new URLSearchParams(window.location.search).has("force_shared_worker_updates"))return!1;if(c.version===2&&b.version===2&&c.sandboxOnlyChecksum!=null)return c.sandboxOnlyChecksum===b.sandboxOnlyChecksum;return c.version===2&&c.rsrcBundleUrl==null||b.version===2&&b.getJSModuleBundleResource().url==null?!1:c.rsrcBundleUrl===b.getJSModuleBundleResource().url}function b(a){h&&i.add(a)}g.shouldUseStorageWorkerForDev=a;g.trackCreatedWorker=b}),98);
__d("SharedWorkerEventManager",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a.port.addEventListener("message",function(a){var d;if(typeof a.data==="object"&&((d=a.data)==null?void 0:d.type)==="console"&&typeof ((d=a.data)==null?void 0:d.response)==="object"&&((d=a.data)==null?void 0:d.response)!=null){d=a.data.response;a=d.method;d=d.args;if(typeof a!=="string"||!["log","error","info","debug","warn"].includes(a)){c("FBLogger")("worker").mustfix("Unexpected console method: %s",String(a));return}if(!Array.isArray(d)){c("FBLogger")("worker").mustfix('Expected console args "%s" to be an array',JSON.stringify(d));return}b({method:a,args:d})}})}function i(a,b){a.port.addEventListener("message",function(a){var c;if(typeof a.data==="object"&&((c=a.data)==null?void 0:c.type)==="sw-uncaught-error"){a=typeof ((c=a.data)==null?void 0:c.e)==="object"?(c=a.data.e)!=null?c:{}:{};c=a.error;var d=a.lineno,e=a.colno,f=a.filename;a=a.message;b({error:c instanceof Error?c:null,errorObject:{lineno:typeof d==="number"?d:null,colno:typeof e==="number"?e:null,filename:typeof f==="string"?f:null,message:typeof a==="string"?a:null}})}})}function a(a,b,d){a.port.addEventListener("message",function(a){var e;if(typeof a.data==="object"&&((e=a.data)==null?void 0:e.type)==="sw-get-rev"&&typeof a.data.response==="object"){b==null?void 0:b.markPoint("get_worker_rev_ack_received");a=typeof a.data==="object"&&typeof ((e=a.data)==null?void 0:e.response)==="object"?(e=a.data)==null?void 0:e.response:{};e=a==null?void 0:a.workerRevision;a=a==null?void 0:a.spinTime;if(e==null||typeof e!=="number"){b==null?void 0:b.addAnnotations({string:{malformedData:"rev is non-number"}});c("FBLogger")("worker").mustfix("Expected worker rev to be non-null number, but instead received: %s",String(e));return}if(a==null||typeof a!=="number"){b==null?void 0:b.addAnnotations({string:{malformedData:"spin_time is non-number"}});c("FBLogger")("worker").mustfix("Expected worker spin time to be non-null number, but instead received: %s",String(a));return}d({rev:e,spinTime:a})}})}function b(a,b,c){var d=function d(e){var f;if(typeof e.data==="object"&&((f=e.data)==null?void 0:f.type)==="sw-shutdown"&&typeof e.data.response==="object"){var g,h;f=typeof ((f=e.data.response)==null?void 0:f.reason)==="string"?(f=e.data.response)==null?void 0:f.reason:null;g=typeof ((g=e.data.response)==null?void 0:g.workerID)==="string"?(g=e.data.response)==null?void 0:g.workerID:null;e=typeof ((h=e.data.response)==null?void 0:h.isInitialized)==="boolean"?(h=e.data.response)==null?void 0:h.isInitialized:null;b({reason:f,workerID:g,isInitialized:e});(c==null?void 0:c.once)===!0&&a.port.removeEventListener("message",d)}};a.port.addEventListener("message",d);return function(){return a.port.removeEventListener("message",d)}}function d(a,b){a.port.addEventListener("message",function(a){var c;typeof a.data==="object"&&((c=a.data)==null?void 0:c.type)==="sw-uptime-tracking"&&typeof ((c=a.data)==null?void 0:c.response)==="object"&&typeof ((c=a.data)==null?void 0:(c=c.response)==null?void 0:c.trackerID)==="number"&&b({trackerID:a.data.response.trackerID})})}function e(a,b,d){var e=function(a){var e;if(typeof a.data==="object"&&((e=a.data)==null?void 0:e.type)==="execute-worker-ack"&&typeof ((e=a.data)==null?void 0:e.response)==="object"){b==null?void 0:b.markPoint("execute_worker_ack_received");e=typeof a.data==="object"&&typeof ((e=a.data)==null?void 0:e.response)==="object"?(a=(e=a.data)==null?void 0:e.response)!=null?a:{}:{};a=e.workerRevision;var f=e.spinMode,g=e.spinTime,h=e.firstInit,i=e.errorGettingSiteData;e=e.error;if(typeof h!=="boolean"){b==null?void 0:b.addAnnotations({string:{malformedData:"firstInit is non-boolean"}});c("FBLogger")("worker").mustfix("Expected firstInit to be a boolean, but instead received: %s",String(h));return}i=(i=i)!=null?i:e;if(typeof i==="string")return d({err:i,isFirstInit:h});if(typeof a==="number"&&typeof f==="number"&&typeof g==="number")return d({workerRev:a,workerSpinTime:g,workerSpinMode:f,isFirstInit:h});else b==null?void 0:b.addAnnotations({string:{malformedData:"workerRevision, spinMode, and/or spinTime are non-numbers"}}),c("FBLogger")("worker").mustfix("Expected workerRevision, spinMode, and spinTime to be non-null number, but instead received: %s %s %s",String(a),String(f),String(g))}};a.port.addEventListener("message",e);return function(){return a.port.removeEventListener("message",e)}}function f(a,b,d,e){var f=function f(g){var h;if(typeof g.data==="object"&&((h=g.data)==null?void 0:h.type)==="execute-worker-imports"&&typeof ((h=g.data)==null?void 0:h.response)==="object"){(e==null?void 0:e.once)===!0&&a.port.removeEventListener("message",f);b==null?void 0:b.markPoint("bundle_imports_ack");h=typeof g.data==="object"&&typeof ((h=g.data)==null?void 0:h.response)==="object"?(g=(h=g.data)==null?void 0:h.response)!=null?g:{}:{};g=h.err;h=h.attempts;if(g!=null&&typeof g!=="string"){b==null?void 0:b.addAnnotations({string:{malformedData:"err is neither null or a string"}});c("FBLogger")("worker").mustfix("Expected err to be null or a string, but instead receieved: %s",String(g));return}if(h!=null&&typeof h!=="number"){b==null?void 0:b.addAnnotations({string:{malformedData:"attempts is neither null or a number"}});c("FBLogger")("worker").mustfix("Expected attempts to be a number or null, but instead receieved: %s",String(h));return}d({err:g,attempts:h})}};a.port.addEventListener("message",f);return function(){return a.port.removeEventListener("message",f)}}function j(a,b,d){a.port.addEventListener("message",function(a){var e;if(typeof a.data==="object"&&((e=a.data)==null?void 0:e.type)==="ww-hrp-init"){b==null?void 0:b.markPoint("hrp_init_ack_received");e=typeof a.data==="object"&&typeof ((e=a.data)==null?void 0:e.response)==="object"?(a=(e=a.data)==null?void 0:e.response)!=null?a:{}:{};a=e.err;if(a!=null&&typeof a!=="string"){b==null?void 0:b.addAnnotations({string:{malformedData:"err is neither null or a string"}});c("FBLogger")("worker").mustfix("Expected err to be null or a string, but instead receieved: %s",String(a));return}d({err:a})}})}function k(a,b){a.port.addEventListener("message",function(a){var c;if(typeof a.data==="object"&&((c=a.data)==null?void 0:c.type)==="worker-init-mark"&&typeof ((c=a.data)==null?void 0:c.response)==="object"&&typeof ((c=a.data)==null?void 0:(c=c.response)==null?void 0:c.point)==="string"){b((c=a.data)==null?void 0:(a=c.response)==null?void 0:a.point)}})}function l(a,b,c){var d=function d(e){var f;if(typeof e.data==="object"&&((f=e.data)==null?void 0:f.type)==="self-terminate"&&typeof ((f=e.data)==null?void 0:f.response)==="object"&&typeof ((f=e.data)==null?void 0:(f=f.response)==null?void 0:f.from)==="string"){var g,h;f=(f=e.data)==null?void 0:(f=f.response)==null?void 0:f.from;g=typeof ((g=e.data)==null?void 0:(g=g.response)==null?void 0:g.reason)==="string"?(g=e.data)==null?void 0:(g=g.response)==null?void 0:g.reason:"unknown";h=typeof ((h=e.data)==null?void 0:(h=h.response)==null?void 0:h.workerID)==="string"?(h=e.data)==null?void 0:(e=h.response)==null?void 0:e.workerID:"unknown";(c==null?void 0:c.once)===!0&&a.port.removeEventListener("message",d);b(f,g,h)}};a.port.addEventListener("message",d);return function(){return a.port.removeEventListener("message",d)}}function m(a,b){b=(b=b)!=null?b:{};var c=b.reason;b=b.upgrade;a.port.postMessage({type:"sw-shutdown",args:[{reason:c,upgrade:b}]})}function n(a){a.port.postMessage({type:"sw-get-rev",args:[]})}function o(a,b){b=(b=b)!=null?b:{};var c=b.jsModuleResource;b=b.isDev;a.port.postMessage({type:"execute-worker",args:[(a=c)!=null?a:{},b]})}function p(a,b){var c=function(a){var c;if(typeof a.data==="object"&&((c=a.data)==null?void 0:c.type)==="connection-ack"&&typeof ((c=a.data)==null?void 0:c.response)==="object"&&typeof ((c=a.data)==null?void 0:(c=c.response)==null?void 0:c.from)==="string"){c=typeof ((c=a.data)==null?void 0:(c=c.response)==null?void 0:c.workerID)==="string"?(c=a.data)==null?void 0:(c=c.response)==null?void 0:c.workerID:void 0;b((a=a.data)==null?void 0:(a=a.response)==null?void 0:a.from,c)}};a.port.addEventListener("message",c);return function(){return a.port.removeEventListener("message",c)}}function q(a,b){a.port.postMessage({type:"ww-connection-ack"}),b==null?void 0:b.markPoint("worker_connection_ack_requested")}function r(a,b,c){var d=b.isDev,e=b.hrp;b=b.js_env;a.port.postMessage({type:"ww-hrp-init",hrp:e,is_dev:d,js_env:b,tiered:!0});c==null?void 0:c.markPoint("hrp_init_sent")}function s(a,b){b=b.trackerID;a.port.postMessage({type:"sw-uptime-tracking",args:{trackerID:b}})}function t(a){h(a,function(a){var b,c=a.args;a=a.method;(b=console)[a].apply(b,c)}),i(a,function(a){var b=a.error;a=a.errorObject;b!=null?c("FBLogger")("worker").catching(b).mustfix("Shared Worker uncaught error."):c("FBLogger")("worker").mustfix("Shared Worker uncaught error with no Error object. %s:%d:%d:%s",a.message,a.lineno,a.colno,a.filename)})}g.registerLogFowardingListener=h;g.registerUncaughtErrorForwardingListener=i;g.registerGetWorkerRevListener=a;g.registerWorkerShutdownListener=b;g.registerUptimeTrackerListener=d;g.registerExecuteWorkerAckListener=e;g.registerExecuteWorkerImportsListener=f;g.registerHrpInitListener=j;g.registerWorkerInitPointsListener=k;g.registerWorkerSelfTerminationListener=l;g.emitWorkerShutdown=m;g.emitGetRev=n;g.emitExecuteWorker=o;g.registerConnectionAckListener=p;g.emitConnectionAckRequest=q;g.emitHrpInit=r;g.emitUptimeTracking=s;g.registerForwardListeners=t}),98);
__d("SharedWorkerLockManager",["Deferred","FBLogger","WebStorageLockManager","emptyFunction","pageID","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h="shared_worker_mutex",i=6e4;function j(a){var b;b=(b=window)==null?void 0:(b=b.navigator)==null?void 0:b.locks;if(b!=null)return b;var e=d("WebStorageLockManager").make(c("pageID"));if(e!=null){a==null?void 0:a.addAnnotations({bool:{fallback_lock_manager:!0}});return{request:function(a,b){return e.request(a,b)}}}return null}function k(a,b,d){c("setTimeout")(function(){a.isSettled()||(b==null?void 0:b.endFailure("lock_timeout"),c("FBLogger")("worker").warn("[SharedWorkerLockManager]: lock timed out in %s ms",i),a.resolve(),d==null?void 0:d())},i)}function l(){return self.LockManager!=null&&self.navigator.locks instanceof self.LockManager}function a(a,b){var d=b.workerQPLLogger,e=b.onLockTimeout;b=j(d);d==null?void 0:d.addAnnotations({bool:{native_locks:b!=null?l():null}});if(b==null){c("FBLogger")("worker").warn("Unable to initialize lock manager");a(c("emptyFunction"));return}var f=new(c("Deferred"))();c("promiseDone")(b.request(h,function(){d==null?void 0:d.markPoint("lock_obtained");k(f,d,e);a(function(){d==null?void 0:d.markPoint("lock_released"),f.resolve()});return f.getPromise()}))}g.supportsNativeWebLock=l;g.withWorkerLock=a}),98);
__d("checkForIndexedDbSupported",[],(function(a,b,c,d,e,f){"use strict";function a(){return!window.indexedDB?!1:!0}f["default"]=a}),66);
__d("SharedWorkerLoggingUtils",["FBLogger","ODS","QPLUserFlow","WebStorage","checkForIndexedDbSupported","getErrorSafe","gkx","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,e){(i||(i=d("ODS"))).bumpEntityKey(6653,"shared_worker_infra","worker_self_termination."+b+"."+a),j(a,b,c,e,!0)}function j(a,b,d,e,f){f===void 0&&(f=!1);var g=c("qpl")._(931600201,"1438");c("QPLUserFlow").start(g);c("QPLUserFlow").endSuccess(g,{annotations:{string:{workerName:a,workerID:e,reason:d,location:b,pageID:c("pageID")},bool:{isSelfTermination:f}}})}function b(a,b,c,d,e,f){a==null?void 0:a.markEventEnd("execute_worker"),a==null?void 0:a.addAnnotations({"int":{runningWorkerRev:e,runningWorkerSpinTime:b,runningWorkerSpinMode:f},string:{executeWorkerErr:c},bool:{isFirstInit:d}})}function e(a,b,d){var e;e=c("getErrorSafe")((e=b instanceof ErrorEvent&&(b==null?void 0:b.error))!=null?e:b);c("FBLogger")("worker").catching(e).warn("Worker %s onerror: %s type",d,String(b.type));a==null?void 0:a.addAnnotations({string_array:{onErrorHandler:[(a=JSON.stringify((d=e==null?void 0:e.message)!=null?d:b==null?void 0:b.message))!=null?a:"undefined",String((d=b==null?void 0:b.lineno)!=null?d:e==null?void 0:e.lineno),String((a=b==null?void 0:b.colno)!=null?a:e==null?void 0:e.colno),String((d=b==null?void 0:b.filename)!=null?d:e==null?void 0:e.filename)]}})}function f(){if(c("gkx")("21113")&&!c("checkForIndexedDbSupported")()){var a=(h||(h=c("WebStorage"))).getLocalStorage();if(a!=null){var b="afab0ea5-8ede-41bd-9933-dca4eea1e9b4009b1647-9c95-448c-b5f5-bcc6653853c49a83be9e-1e94-40be-a23b-c8ac74114c1e9fad1a9b-d2b3-4cf8-8751-22cc16cd96fde876fbf6-b739-4871-8586-55b51c4332a97606adc6-f4dc-4935-bb80-07e2b12a77533ae5ef90-dbc4-4003-ba54-2450fff94bbce0542942-228e-4f14-a41e-b3eef321a126eb8a6b22-a915-487f-aae7-b1a042f80274116403b4-8cdf-466a-afc7-1fc481fe95bac9585547-5693-4c3a-aba6-c8b5eec23e2cd3c74809-ef4d-4157-bf02-e0693e105906559a86c2-66a4-407c-8c45-126ff24dab57bba15e7d-da70-4d46-bff1-b4deaa9e328788a7ae98-7313-4158-97ee-5f1349d5f3b8b3a889b2-7c53-4443-8be3-9ff617a09503b13d6954-e863-40d6-b831-a24c81eae3a0099c6236-d6af-4c99-a104-61a7afe99d22";a=(h||(h=c("WebStorage"))).setItemGuarded(a,"shw_t",b);a!=null?(i||(i=d("ODS"))).bumpEntityKey(6653,"shared_worker_infra","local_storage_write_fail"):(i||(i=d("ODS"))).bumpEntityKey(6653,"shared_worker_infra","local_storage_write_success")}}}g.logSelfTermination=a;g.logShutdown=j;g.logExecuteAck=b;g.logSharedWorkerError=e;g.logLocalStorageWriteAttempt=f}),98);
__d("validateSharedWorkerReference",["ConstUriUtils","isRelativeURL","isSameOrigin","memoize"],(function(a,b,c,d,e,f,g){"use strict";var h=c("memoize")(function(){return d("ConstUriUtils").getUri(window.location.href)});function i(a){var b=h(),e=d("ConstUriUtils").getUri(a);e=b!=null&&e!=null?c("isSameOrigin")(e,b):!1;return e||c("isRelativeURL")(a)}function a(a){if(a==null||typeof a!=="object")return null;var b=a.rev,c=a.spin_time,d=a.url,e=a.version,f=a.rsrcBundleUrl;a=a.sandboxOnlyChecksum;return typeof b!=="number"||typeof c!=="number"||e!=null&&e!==1&&e!==2||!Number.isInteger(b)||!Number.isInteger(c)||typeof d!=="string"||!i(d)||f!=null&&typeof f!=="string"||a!=null&&typeof a!=="string"?null:{rev:b,spin_time:c,url:d,version:(b=e)!=null?b:1,rsrcBundleUrl:f,sandboxOnlyChecksum:a}}g["default"]=a}),98);
__d("SharedWorkerStorageManager",["Deferred","FBLogger","Promise","WebAsyncStorage","validateSharedWorkerReference"],(function(a,b,c,d,e,f,g){"use strict";var h,i="__swbundle__",j={};function k(a){return""+i+a}function l(a){var b=new(c("Deferred"))();c("WebAsyncStorage").removeItem(k(a),function(c){if(c)return b.reject(c);j[a]=null;b.resolve()});return b.getPromise()}function m(a,b){var d=new(c("Deferred"))();c("WebAsyncStorage").setItem(k(a),b,function(c){if(c!=null)return d.reject(c);j[a]=b;d.resolve()});return d.getPromise()}function n(a){var b=new(c("Deferred"))();c("WebAsyncStorage").getItem(k(a),function(c,d){if(c)return b.reject(c);j[a]=d;b.resolve(d)});return b.getPromise()}function a(){return j}function d(a){return n(a).then(function(a){a=c("validateSharedWorkerReference")(a);return a==null?null:a})}function e(a){return l(a)}function f(a,d){var e=c("validateSharedWorkerReference")(d);if(e==null){c("FBLogger")("worker").mustfix('Failed to save worker reference for bundle "%s". Invalid reference: %s',a,JSON.stringify(d));return(h||(h=b("Promise"))).resolve()}return m(a,e)}g.SHARED_WORKER_STORAGE_KEY_BASE=i;g.getDebugState=a;g.getSharedWorkerReference=d;g.removeSharedWorkerReference=e;g.saveSharedWorkerReference=f}),98);
__d("SharedWorkerUptimeTracker",["FBLogger","ODS","SharedWorkerEventManager","clearInterval","performanceNow","setInterval","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=1e4,k=45e3,l=new Map();function m(a){return Math.floor(((i||(i=c("performanceNow")))()-a)/1e3)}function n(a,b){var e=0,f={};d("SharedWorkerEventManager").registerUptimeTrackerListener(a,function(a){a=a.trackerID;var c=f[a];if(c==null)return;(h||(h=d("ODS"))).bumpFraction(6653,"shared_worker_infra","worker_uptime."+b,1,0);h.bumpEntityKey(6653,"shared_worker_infra","worker_uptime_elapsed_time_to_response_sec."+m(c.createdMs)+"."+b);delete f[a]});return c("setInterval")(function(){var g=e++;c("setTimeout")(function(){var a=f[g];if(a==null)return;delete f[g]},k);f[g]={createdMs:(i||(i=c("performanceNow")))()};(h||(h=d("ODS"))).bumpFraction(6653,"shared_worker_infra","worker_uptime."+b,0,1);d("SharedWorkerEventManager").emitUptimeTracking(a,{trackerID:g})},j)}function a(a,b){if(l.has(b)){c("FBLogger")("worker").mustfix('Uptime tracking for worker "%s" already started.',b);return}l.set(b,{intervalID:n(a,b)})}function b(a){var b=l.get(a);b!=null&&(c("clearInterval")(b.intervalID),l["delete"](a))}g.startUptimeTracking=a;g.stopUptimeTracking=b}),98);
__d("buildSharedWorkerInitQPLLogger",["QPLUserFlow","SiteData","checkForIndexedDbSupported","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(931595918,"2062"),i=0;function a(a){var b=!1,d=!1,e=i++;function f(f){var g=f.version,i=f.workerName;f=f.callReason;if(b||d)return;b=!0;g={"int":{version:g,clientRev:c("SiteData").client_revision},bool:{isDev:!1,supportsIDB:c("checkForIndexedDbSupported")()},string:{workerName:i,hostname:window.location.hostname,callReason:f,pageID:c("pageID")}};c("QPLUserFlow").start(h,{onFlowTimeout:function(){c("QPLUserFlow").addAnnotations(h,{bool:{setupTimeout:!0}},{instanceKey:e}),d=!0},cancelOnUnload:!0,annotations:g,timeoutInMs:6e4,instanceKey:e});a==null?void 0:a({type:"start",data:{annotations:g}})}function g(f,g){if(!b||d)return;f=f+"_start";c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function j(f,g){if(!b||d)return;f=f+"_end";c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function k(f,g){if(!b||d)return;c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function l(f){if(!b||d)return;c("QPLUserFlow").endSuccess(h,{annotations:f,instanceKey:e});a==null?void 0:a({type:"end",data:{annotations:f}});d=!0}function m(f,g){if(!b||d)return;c("QPLUserFlow").endFailure(h,f,{annotations:g,instanceKey:e});a==null?void 0:a({type:"end",data:{errorName:f,annotations:g}});d=!0}function n(f){if(!b||d)return;c("QPLUserFlow").addAnnotations(h,f,{instanceKey:e});a==null?void 0:a({type:"annotate",data:{annotations:f}})}return{start:f,endFailure:m,addAnnotations:n,endSuccess:l,markEventStart:g,markEventEnd:j,markPoint:k}}g["default"]=a}),98);
__d("buildSharedWorkerTerminateQPLLogger",["QPLUserFlow","SiteData","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(931600201,"1438"),i=0;function a(a){var b=!1,d=!1,e=i++;function f(f){var g=f.workerName;f=f.callReason;if(b||d)return;b=!0;g={"int":{clientRev:c("SiteData").client_revision},bool:{isDev:!1},string:{workerName:g,hostname:window.location.hostname,callReason:f,pageID:c("pageID")}};c("QPLUserFlow").start(h,{onFlowTimeout:function(){c("QPLUserFlow").addAnnotations(h,{bool:{setupTimeout:!0}},{instanceKey:e}),d=!0},cancelOnUnload:!0,annotations:g,timeoutInMs:3e4,instanceKey:e});a==null?void 0:a({type:"start",data:{annotations:g}})}function g(f,g){if(!b||d)return;f=f+"_start";c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function j(f,g){if(!b||d)return;f=f+"_end";c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function k(f,g){if(!b||d)return;c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function l(f){if(!b||d)return;c("QPLUserFlow").endSuccess(h,{annotations:f,instanceKey:e});a==null?void 0:a({type:"end",data:{annotations:f}});d=!0}function m(f,g){if(!b||d)return;c("QPLUserFlow").endFailure(h,f,{annotations:g,instanceKey:e});a==null?void 0:a({type:"end",data:{errorName:f,annotations:g}});d=!0}function n(f){if(!b||d)return;c("QPLUserFlow").addAnnotations(h,f,{instanceKey:e});a==null?void 0:a({type:"annotate",data:{annotations:f}})}return{start:f,endFailure:m,addAnnotations:n,endSuccess:l,markEventStart:g,markEventEnd:j,markPoint:k}}g["default"]=a}),98);
__d("XCometFBMultiSiteSharedWorkerStaticInitScriptControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/sharedworker/init_script/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("getSharedWorkerHash",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("uuidv4")()}g["default"]=a}),98);
__d("createSharedWorkerBundleUrl",["XCometFBMultiSiteSharedWorkerStaticInitScriptControllerRouteBuilder","getSharedWorkerHash","getWorkerInitScriptSPINParams","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;return c("nullthrows")((a=c("XCometFBMultiSiteSharedWorkerStaticInitScriptControllerRouteBuilder").buildUri({hash:c("getSharedWorkerHash")()}).addQueryParams(c("getWorkerInitScriptSPINParams")()))==null?void 0:a.toString())}g["default"]=a}),98);
__d("createSharedWorkerV2BundleUrl",["XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder","getSharedWorkerHash","getWorkerInitScriptSPINParams","nullthrows","supportsModuleWorker"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("supportsModuleWorker")(!0),b=c("getWorkerInitScriptSPINParams")();b.set("hash",c("getSharedWorkerHash")());return c("nullthrows")((a=c("XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder").buildUri({worker_type:a?"MODULE":"CLASSIC"}))==null?void 0:(a=a.addQueryParams(b))==null?void 0:a.toString())}g["default"]=a}),98);
__d("handleWorkerWriteError",["FBLogger","WebStorageCleanupReason"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a instanceof Error){c("FBLogger")("worker").catching(a).mustfix("Error occured checking in shared worker reference");return}if(a==="writes disabled"){var b;c("FBLogger")("worker").warn("Writes to WebAsyncStorage is disabled. Unable to save shared worker reference. Reason: %s",(b=d("WebStorageCleanupReason").getLastCleanupReason())!=null?b:"n/a");return}c("FBLogger")("worker").mustfix("Error occured checking in shared worker reference: %s",JSON.stringify(a))}g["default"]=a}),98);
__d("SharedWorkerInitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4266");b=d("FalcoLoggerInternal").create("shared_worker_init",a);e=b;g["default"]=e}),98);
__d("logSharedWorkerInitStep",["SharedWorkerInitFalcoEvent","SiteData","gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("uuidv4")();function a(a,b,d,e){if(!c("gkx")("21115"))return;c("SharedWorkerInitFalcoEvent").log(function(){return{client_id:h,bundle_name:a,client_rev:String(c("SiteData").client_revision),local_shared_worker_ref:b!=null?{bundle_url:b.url,rev:String(b.rev),spin_time:String(b.spin_time)}:null,new_shared_worker_ref:d!=null?{bundle_url:d}:null,init_step:e}})}g["default"]=a}),98);
__d("SharedWorkerBundleResource",["BootloaderPreloader","Deferred","FBLogger","SharedWorkerDevChangeManager","SharedWorkerEventManager","SharedWorkerLockManager","SharedWorkerLoggingUtils","SharedWorkerStatusLock","SharedWorkerStorageManager","SharedWorkerUptimeTracker","SiteData","StaticSiteData","TrustedTypesWebWorkerScriptURLPolicy","WebWorkerV2DynamicData","buildSharedWorkerInitQPLLogger","buildSharedWorkerTerminateQPLLogger","createSharedWorkerBundleUrl","createSharedWorkerV2BundleUrl","err","getErrorSafe","gkx","handleWorkerWriteError","justknobx","logSharedWorkerInitStep","promiseDone","regeneratorRuntime","setTimeout","supportsModuleWorker"],(function(a,b,c,d,e,f,g){"use strict";var h=5e3,i=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this)||this;c.name="SelfTerminationError";c.message="Worker self terminated with the reason: "+a;return c}return a}(babelHelpers.wrapNativeSuper(Error));function j(a,b,e,f){f==null?void 0:f.markEventStart("shared_worker_construct");var g=new SharedWorker(c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(a),b);f==null?void 0:f.markEventEnd("shared_worker_construct");g.addEventListener("error",function(a){d("SharedWorkerLoggingUtils").logSharedWorkerError(f,a,b)});var h=new Set();d("SharedWorkerEventManager").registerWorkerSelfTerminationListener(g,function(a,c,e){d("SharedWorkerLoggingUtils").logSelfTermination(b,a,c,e)},{once:!0});var i=0;d("SharedWorkerEventManager").registerConnectionAckListener(g,function(a,b){i++;if(h.has("worker_connection_established")){f==null?void 0:f.addAnnotations({"int":{connectionAckNum:i}});return}h.add("worker_connection_established");f==null?void 0:f.addAnnotations({string:{connectedFrom:a,workerID:b}});f==null?void 0:f.markPoint("worker_connection_established")});d("SharedWorkerEventManager").registerWorkerInitPointsListener(g,function(a){if(h.has(a))return;h.add(a);f==null?void 0:f.markPoint("worker_init_point_"+a)});g.port.start();d("SharedWorkerEventManager").registerExecuteWorkerImportsListener(g,f,function(a){var b=a.err;a=a.attempts;f==null?void 0:f.addAnnotations({string:{importsError:b},"int":{importAttempts:a}});f==null?void 0:f.markPoint(b==null?"bundle_imports_success":"bundle_imports_failure")});var j=new(c("Deferred"))();d("SharedWorkerEventManager").registerExecuteWorkerAckListener(g,f,function(a){var b=a.workerSpinTime,e=a.err,g=a.isFirstInit,h=a.workerRev;a=a.workerSpinMode;d("SharedWorkerLoggingUtils").logExecuteAck(f,b,e,g,h,a);if(e!=null||b==null||h==null){j.reject(c("err")((g=e)!=null?g:"no worker rev or spin time"))}else j.resolve({rev:h,spinTime:b})});f==null?void 0:f.markEventStart("execute_worker");d("SharedWorkerEventManager").emitExecuteWorker(g,{jsModuleResource:e,isDev:!1});return j.getPromise().then(function(a){var b=a.rev;a=a.spinTime;return{worker:g,rev:b,spinTime:a}})}function k(a,b,e,f){a=c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(a);f==null?void 0:f.markEventStart("shared_worker_construct");var g=c("supportsModuleWorker")(!0)?new SharedWorker(a,{name:b,type:"module"}):new SharedWorker(a,b);f==null?void 0:f.markEventEnd("shared_worker_construct");f==null?void 0:f.addAnnotations({string:{workerUrl:a.toString()}});d("SharedWorkerEventManager").registerConnectionAckListener(g,function(a,b){f==null?void 0:f.addAnnotations({string:{connectedFrom:a,workerID:b}}),f==null?void 0:f.markPoint("worker_connection_established")});g.addEventListener("error",function(a){d("SharedWorkerLoggingUtils").logSharedWorkerError(f,a,b)});var h=new(c("Deferred"))();d("SharedWorkerEventManager").registerWorkerSelfTerminationListener(g,function(a,c,e){d("SharedWorkerLoggingUtils").logSelfTermination(b,a,c,e),h.reject(new i(c))},{once:!0});var j=new Set();d("SharedWorkerEventManager").registerWorkerInitPointsListener(g,function(a){if(j.has(a))return;j.add(a);f==null?void 0:f.markPoint("worker_init_point_"+a)});g.port.start();d("SharedWorkerEventManager").emitConnectionAckRequest(g,f);d("SharedWorkerEventManager").registerHrpInitListener(g,f,function(a){a=a.err;f==null?void 0:f.markEventEnd("hrp_init");a!=null&&h.reject(c("err")(a))});f==null?void 0:f.markPoint("read_dynamic_data");c("promiseDone")(d("WebWorkerV2DynamicData").readDynamicDataForWorker(e).then(function(a){f==null?void 0:f.markEventStart("hrp_init");try{var e=c("justknobx")._("1979");e&&d("BootloaderPreloader").preloadWorkerJSFromHRP(a.hrp);f==null?void 0:f.addAnnotations({bool:{prefetchWorkerScripts:e}})}catch(a){e=c("getErrorSafe")(a);f==null?void 0:f.addAnnotations({string:{hrpInitErr:e.toString()}});c("FBLogger")("worker").catching(a).warn("Failed to preload worker %s JS from HRP",b)}d("SharedWorkerEventManager").emitHrpInit(g,{hrp:a.hrp,js_env:a.js_env,isDev:!1},f)},function(a){a=c("getErrorSafe")(a);f==null?void 0:f.addAnnotations({string:{hrpInitErr:a.toString()}})}));d("SharedWorkerEventManager").registerExecuteWorkerAckListener(g,f,function(a){var b=a.workerSpinTime,e=a.err,g=a.isFirstInit,i=a.workerRev;a=a.workerSpinMode;d("SharedWorkerLoggingUtils").logExecuteAck(f,b,e,g,i,a);if(e!=null||i==null||b==null){h.reject(c("err")((g=e)!=null?g:"no worker rev or spin time"))}else h.resolve({rev:i,spinTime:b})});f==null?void 0:f.markEventStart("execute_worker");d("SharedWorkerEventManager").emitExecuteWorker(g);return h.getPromise().then(function(a){var b=a.rev;a=a.spinTime;return{worker:g,rev:b,spinTime:a}})}function l(a,b,e,f,g,h){var i=new(c("Deferred"))();d("SharedWorkerEventManager").registerGetWorkerRevListener(a,h,function(a){var j=a.rev;a=a.spinTime;c("promiseDone")(d("SharedWorkerStorageManager").saveSharedWorkerReference(e,{url:b,rev:j,spin_time:a,version:g.version,rsrcBundleUrl:g.getJSModuleBundleResource().url,sandboxOnlyChecksum:g.sandboxOnlyChecksum}).then(function(){return d("SharedWorkerStorageManager").getSharedWorkerReference(e)}).then(function(a){c("logSharedWorkerInitStep")(e,a,g.resourceUrlForLogging,"after_worker_reference_save")}),function(){h.markEventEnd("get_worker_rev",{bool:{successfullySavedWorkerRef:!0}}),i.resolve(),f()},function(a){h.markEventEnd("get_worker_rev",{bool:{successfullySavedWorkerRef:!1}}),i.reject(a),c("handleWorkerWriteError")(a),f()})});h.markEventStart("get_worker_rev");d("SharedWorkerEventManager").emitGetRev(a);return i.getPromise()}function m(a,b,e,f,g,h,i){var j=new(c("Deferred"))();c("promiseDone")(d("SharedWorkerStorageManager").saveSharedWorkerReference(b,{url:a,rev:e,spin_time:f,version:h.version,rsrcBundleUrl:h.getJSModuleBundleResource().url,sandboxOnlyChecksum:h.sandboxOnlyChecksum}),function(){i.markEventEnd("save_worker_rev",{bool:{successfullySavedWorkerRef:!0}}),j.resolve(),g(),c("promiseDone")(d("SharedWorkerStorageManager").getSharedWorkerReference(b).then(function(a){c("logSharedWorkerInitStep")(b,a,h.resourceUrlForLogging,"after_worker_reference_save")}))},function(a){i.markEventEnd("save_worker_rev",{bool:{successfullySavedWorkerRef:!1}}),j.reject(a),c("handleWorkerWriteError")(a),g()});i.markEventStart("save_worker_rev");return j.getPromise()}function n(a,b,e){d("SharedWorkerEventManager").registerForwardListeners(a),d("SharedWorkerEventManager").registerWorkerShutdownListener(a,function(a){var c=a.reason;a=a.workerID;d("SharedWorkerLoggingUtils").logShutdown(e,null,c,a);c==="requested-upgrade"&&(b==null?void 0:b());d("SharedWorkerUptimeTracker").stopUptimeTracking(e)}),d("SharedWorkerDevChangeManager").trackCreatedWorker(e),d("SharedWorkerUptimeTracker").startUptimeTracking(a,e),c("logSharedWorkerInitStep")(e,null,null,"create_worker_end")}function o(a,d,e,f,g,h){var i,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:h.addAnnotations({string:{initFlow:"use_existing_ref"}});c("logSharedWorkerInitStep")(a,null,null,"using_existing_worker_ref");m.next=4;return b("regeneratorRuntime").awrap(d.version===2?k(d.url,a,e.getJSModuleBundleResource(),h):j(d.url,a,e.getJSModuleBundleResource(),h));case 4:i=m.sent;l=i.worker;f();n(l,g,a);return m.abrupt("return",l);case 9:case"end":return m.stop()}},null,this)}function p(){return self.LockManager!=null&&self.navigator.locks instanceof self.LockManager}function q(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(p()){e.next=2;break}return e.abrupt("return",!0);case 2:e.next=4;return b("regeneratorRuntime").awrap(self.navigator.locks.query());case 4:c=e.sent;return e.abrupt("return",c.held.some(function(b){return b.name===d("SharedWorkerStatusLock").getStatusLockName(a)}));case 6:case"end":return e.stop()}},null,this)}function r(a,e,f,g,h,i){var j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:i.addAnnotations({string:{initFlow:"upgrade_worker_ref"}});k.next=3;return b("regeneratorRuntime").awrap(q(a));case 3:if(!k.sent){k.next=9;break}e.version===2&&c("supportsModuleWorker")(!0)?j=new SharedWorker(e.url,{name:a,type:"module"}):j=new SharedWorker(e.url,a);d("SharedWorkerEventManager").registerWorkerShutdownListener(j,function(a){var b=a.workerID;a=a.isInitialized;i.markEventEnd("old_worker_shutdown",{string:{oldWorkerID:b},bool:{oldWorkerWasInitialized:a}})},{once:!0});i.markEventStart("old_worker_shutdown");d("SharedWorkerEventManager").emitWorkerShutdown(j,{upgrade:!0});j.port.start();case 9:return k.abrupt("return",t(a,f,g,h,i,"upgrading_worker_ref"));case 10:case"end":return k.stop()}},null,this)}function s(a,b,c,d,e){e.addAnnotations({string:{initFlow:"new_worker_ref"}});return t(a,b,c,d,e,"new_worker_ref")}function t(a,e,f,g,h,i){var j,k,o,p,r,s;return b("regeneratorRuntime").async(function(t){while(1)switch(t.prev=t.next){case 0:c("logSharedWorkerInitStep")(a,null,null,i);t.next=3;return b("regeneratorRuntime").awrap(q(a));case 3:if(!t.sent){t.next=5;break}c("FBLogger")("worker").mustfix("Trying to create a worker %s while old one is still running",a);case 5:t.next=7;return b("regeneratorRuntime").awrap(e.createSharedWorker());case 7:j=t.sent;k=j[0];o=j[1];p=o.worker;r=o.rev;s=o.spinTime;if(!(i==="upgrading_worker_ref")){t.next=16;break}t.next=16;return b("regeneratorRuntime").awrap(d("SharedWorkerStorageManager").removeSharedWorkerReference(a));case 16:if(!c("gkx")("286")){t.next=21;break}t.next=19;return b("regeneratorRuntime").awrap(m(k,a,r,s,f,e,h));case 19:t.next=23;break;case 21:t.next=23;return b("regeneratorRuntime").awrap(l(p,k,a,f,e,h));case 23:n(p,g,a);return t.abrupt("return",p);case 25:case"end":return t.stop()}},null,this)}function u(a,e,f,g){var h,i,j,k,l,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:g.markEventStart("create_worker");h=a.name;d("SharedWorkerUptimeTracker").stopUptimeTracking(h);n.t0=g;if(!p()){n.next=10;break}n.next=7;return b("regeneratorRuntime").awrap(q(h));case 7:n.t1=n.sent;n.next=11;break;case 10:n.t1=null;case 11:n.t2=n.t1;n.t3={workerAlreadyRunning:n.t2};n.t4={bool:n.t3};n.t0.addAnnotations.call(n.t0,n.t4);n.next=17;return b("regeneratorRuntime").awrap(d("SharedWorkerStorageManager").getSharedWorkerReference(h));case 17:i=n.sent;c("logSharedWorkerInitStep")(h,i,a.resourceUrlForLogging,"create_worker_start");if(!(i==null)){n.next=21;break}return n.abrupt("return",s(h,a,e,f,g));case 21:j=i.spin_time,k=i.version,l=i.rev;g.addAnnotations({"int":{storageWorkerSpinTime:j,storageWorkerVersion:k,storageWorkerRev:l}});m=d("SharedWorkerDevChangeManager").shouldUseStorageWorkerForDev(h,{storageWorkerResource:i,tabResource:a});if(!(l>=c("SiteData").client_revision&&(a.version===k||j>=c("SiteData")[c("StaticSiteData").spin_time_key])&&m)){n.next=28;break}return n.abrupt("return",o(h,i,a,e,f,g));case 28:return n.abrupt("return",r(h,i,a,e,f,g));case 29:case"end":return n.stop()}},null,this)}function a(a,e,f){f=(f=f)!=null?f:{};var g=f.onQPLEvent;f=f.reason;var h=a.name,i=c("buildSharedWorkerInitQPLLogger")(g);i.start({version:1,workerName:h,callReason:f});d("SharedWorkerLoggingUtils").logLocalStorageWriteAttempt();var k=new(c("Deferred"))();d("SharedWorkerLockManager").withWorkerLock(function(d){var f;c("promiseDone")(u({name:h,version:1,resourceUrlForLogging:(f=a.url)!=null?f:"",getJSModuleBundleResource:function(){return a},createSharedWorker:function(){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=c("createSharedWorkerBundleUrl")();e.t0=d;e.next=4;return b("regeneratorRuntime").awrap(j(d,h,a,i));case 4:e.t1=e.sent;return e.abrupt("return",[e.t0,e.t1]);case 6:case"end":return e.stop()}},null,this)}},d,e,i),function(a){i.markEventEnd("create_worker"),i.endSuccess(),k.resolve(a)},function(a){a=typeof a==="string"?c("err")(a):a;i.endFailure("worker_init_failure",{string:{workerInitFailureReason:a.message}});k.reject(a);d()})},{workerQPLLogger:i,onLockTimeout:function(){return k.reject(c("err")("Worker lock timeout"))}});return k.getPromise()}function e(a,e,f){var g=a.name;f=(f=f)!=null?f:{};var h=f.onQPLEvent;f=f.reason;var i=c("buildSharedWorkerInitQPLLogger")(h);i.start({version:2,workerName:g,callReason:f});d("SharedWorkerLoggingUtils").logLocalStorageWriteAttempt();i.addAnnotations({bool:{usingModuleWorker:c("supportsModuleWorker")(!0)}});var j=new(c("Deferred"))();d("SharedWorkerLockManager").withWorkerLock(function(d){c("promiseDone")(u({name:g,version:2,getJSModuleBundleResource:function(){return a},sandboxOnlyChecksum:a.sandboxOnlyChecksum,createSharedWorker:function(){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=c("createSharedWorkerV2BundleUrl")();e.t0=d;e.next=4;return b("regeneratorRuntime").awrap(k(d,g,a,i));case 4:e.t1=e.sent;return e.abrupt("return",[e.t0,e.t1]);case 6:case"end":return e.stop()}},null,this)}},d,e,i),function(a){i.markEventEnd("create_worker"),i.endSuccess(),j.resolve(a)},function(a){a=typeof a==="string"?c("err")(a):a;i.endFailure("worker_init_failure",{string:{workerInitFailureReason:a.message}});j.reject(a);d()})},{workerQPLLogger:i,onLockTimeout:function(){return j.reject(c("err")("Worker lock timeout"))}});return j.getPromise()}function f(a,b,e){var f=(b=b)!=null?b:a.name,g=new(c("Deferred"))(),i=c("buildSharedWorkerTerminateQPLLogger")();i.start({workerName:f});i.addAnnotations({string:{reason:e}});d("SharedWorkerLockManager").withWorkerLock(function(b){c("promiseDone")(d("SharedWorkerStorageManager").getSharedWorkerReference(f).then(function(b){i.markPoint("read_worker_reference",{"int":{storageWorkerVersion:b==null?void 0:b.version},bool:{storageReferenceExists:b!=null}});if(b!=null){var c;b.version===2?c=k(b.url,f,a,void 0).then(function(a){a=a.worker;return a}):c=j(b.url,f,a).then(function(a){a=a.worker;return a});return d("SharedWorkerStorageManager").removeSharedWorkerReference(f).then(function(){i.markPoint("removed_worker_reference");return c})}return null}),function(a){try{b(),d("SharedWorkerUptimeTracker").stopUptimeTracking(f),a!=null?(d("SharedWorkerEventManager").registerWorkerShutdownListener(a,function(a){var b=a.workerID;a=a.isInitialized;g.resolve();i.endSuccess({string:{workerID:b},bool:{wasInitialized:a}})},{once:!0}),d("SharedWorkerEventManager").emitWorkerShutdown(a,{reason:e})):(i.endSuccess(),g.resolve())}catch(a){i.endFailure("terminate_worker_failure",{string:{workerTerminateFailReason:a.message}}),g.reject(a.message)}},function(a){c("FBLogger")("worker").catching(c("getErrorSafe")(a)).mustfix("Failed to terminate worker"),i.endFailure("terminate_worker_failure",{string:{workerTerminateFailReason:a.message}}),g.reject(a.message),b()})},{workerQPLLogger:i});c("setTimeout")(function(){return g.reject()},h);return g.getPromise()}function v(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(d("SharedWorkerStorageManager").getSharedWorkerReference(a.name));case 2:c=e.sent;return e.abrupt("return",c!=null);case 4:case"end":return e.stop()}},null,this)}g.SelfTerminationError=i;g.createPushSafeSharedWebWorkerAsync=a;g.createPushSafeSharedWebWorkerV2Async=e;g.terminateSharedWorker=f;g.doesSharedWorkerReferenceExist=v}),98);/*FB_PKG_DELIM*/
__d("IGDSAddPanoFilledIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(4),d,e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",x1:"12",x2:"12",y1:"3.5",y2:"20.502"}),e=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",x1:"20.5",x2:"3.5",y1:"12",y2:"12"}),b[0]=d,b[1]=e):(d=b[0],e=b[1]);b[2]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e]})),b[2]=a,b[3]=d):d=b[3];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSInfoOutlineIcon.react",["IGDSInfoPanoOutlineIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c("IGDSInfoPanoOutlineIcon.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=d):d=b[1];return d}b=j.memo(a);g["default"]=b}),98);
__d("InstagramOrganicCarouselImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4535");b=d("FalcoLoggerInternal").create("instagram_organic_carousel_impression",a);e=b;g["default"]=e}),98);
__d("PolarisInformTreatmentBanner.react",["cx","IGDSBox.react","IGDSChevronIcon.react","IGDSInfoOutlineIcon.react","IGDSText.react","PolarisExternalLink.react","PolarisGenericStrings","PolarisIGCoreButton.react","isStringNullOrEmpty","react","usePolarisOffsiteTrackingDataURLParams"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(25),e=a.externalURL,f=a.leadGenFormID,g=a.onClick,h=a.secondaryText,i=a.text;a=a.textAlign;a=a===void 0?"center":a;var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l=k.jsx(c("IGDSBox.react"),{"data-testid":void 0,flex:"none",marginEnd:3,position:"relative",children:k.jsx(c("IGDSInfoOutlineIcon.react"),{alt:"Info",size:16})}),b[0]=l):l=b[0];l=l;var m;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(m=k.jsx(c("IGDSChevronIcon.react"),{alt:d("PolarisGenericStrings").RIGHT_CHEVRON,color:"web-always-black","data-testid":void 0,direction:"next",size:16}),b[1]=m):m=b[1];m=m;var n=null;if(!c("isStringNullOrEmpty")(h)){var o;b[2]!==a||b[3]!==h?(o=k.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:k.jsx(c("IGDSText.react"),{color:"secondaryText",textAlign:a,children:h})}),b[2]=a,b[3]=h,b[4]=o):o=b[4];n=o}b[5]!==i?(a=k.jsx(c("IGDSText.react").BodyEmphasized,{zeroMargin:!0,children:i}),b[5]=i,b[6]=a):a=b[6];b[7]!==a||b[8]!==n?(h=k.jsxs(c("IGDSBox.react"),{alignItems:"center",color:"alwaysWhite",direction:"row",padding:3,position:"relative",width:"100%",children:[l,k.jsxs(c("IGDSBox.react"),{flex:"shrink",margin:1,position:"relative",children:[a,n]}),m]}),b[7]=a,b[8]=n,b[9]=h):h=b[9];o=h;i=c("usePolarisOffsiteTrackingDataURLParams")(e);if(e!=null){b[10]===Symbol["for"]("react.memo_cache_sentinel")?(l="_ad63",b[10]=l):l=b[10];b[11]!==e||b[12]!==f||b[13]!==g||b[14]!==i||b[15]!==o?(m=k.jsx(c("PolarisExternalLink.react"),{className:l,"data-testid":void 0,href:e,leadGenFormID:f,onClick:g,queryParams:i,children:o}),b[11]=e,b[12]=f,b[13]=g,b[14]=i,b[15]=o,b[16]=m):m=b[16];o=m}else if(g!=null){b[17]===Symbol["for"]("react.memo_cache_sentinel")?(a={__className:"_ad63"},b[17]=a):a=b[17];b[18]!==g?(n=function(){return g()},b[18]=g,b[19]=n):n=b[19];b[20]!==n||b[21]!==o?(h=k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,dangerouslySetClassName:a,onClick:n,children:o}),b[20]=n,b[21]=o,b[22]=h):h=b[22];o=h}b[23]!==o?(l=k.jsx(c("IGDSBox.react"),{children:o}),b[23]=o,b[24]=l):l=b[24];e=l;return e}g["default"]=a}),98);
__d("PolarisPostActionRequestSavedCollectionsForPost",["PolarisGenericStrings","PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.postId;return function(a){a({postId:b,type:"COLLECTION_IDS_FOR_POST_REQUESTED"}),d("PolarisInstapi").apiGet("/api/v1/save/media/{media_id}/saved_collections_for_media/",{path:{media_id:b}}).then(function(c){c=c.data;c=c.collection_ids;a({collectionIds:(c=c==null?void 0:c.map(function(a){return a.toString()}))!=null?c:[],postId:b,type:"COLLECTION_IDS_FOR_POST_SUCCEEDED"})})["catch"](function(){a({postId:b,toast:{text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE},type:"COLLECTION_IDS_FOR_POST_FAILED"})})}}g.requestSavedCollectionsForPost=a}),98);
__d("PolarisPostFooterCTA.react",["cx","IGDSBox.react","IGDSChevronIcon.react","PolarisAdsGatingHelpers","PolarisExternalLink.react","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisIGCoreText","PolarisIGTheme.react","PolarisPostImpressionTrackingNode.react","PolarisPostUtils","PolarisUA","isStringNullOrEmpty","react","useMergeRefs","usePolarisOffsiteTrackingDataURLParams"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useRef,l=b.c;e=j.forwardRef(a);function a(a,b){var e=l(65),f=a.ctaAdditionalAnimation,g=a.ctaDominantColor,h=a["data-testid"],i=a.disableAnimation,m=a.externalURL,n=a.forceBottomBorder,o=a.fullWidth,p=a.height,q=a.icon,r=a.isActive,s=a.isForAd,t=a.isForPersistentCta,u=a.isForSidecar,v=a.leadGenFormID,w=a.onClick,x=a.secondaryText,y=a.showChevron,z=a.showRoundedBorder,A=a.text,B=a.textAlign;a=a.textThemedColor;f=f===void 0?d("PolarisPostUtils").PostFooterCTAAnimationStyle.NONE:f;y=y===void 0?!1:y;z=z===void 0?!1:z;B=B===void 0?"center":B;var C=d("PolarisIGTheme.react").useTheme(),D=g!=null&&d("PolarisAdsGatingHelpers").allowWebAds(),E;e[0]!==q?(E=q!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("IGDSBox.react"),{"data-testid":void 0,flex:"none",position:"relative",children:q}),j.jsx(c("IGDSBox.react"),{marginEnd:3,position:"relative"})]}):null,e[0]=q,e[1]=E):E=e[1];q=E;E=D?j.jsx("span",{className:"x9bdzbf",children:A}):j.jsx(j.Fragment,{children:A});A=D?"web-always-white":(A=a)!=null?A:"ig-primary-text";var F;e[2]!==y||e[3]!==A?(F=y?j.jsxs(j.Fragment,{children:[j.jsx(c("IGDSBox.react"),{flex:"grow",height:"100%",marginEnd:7,position:"relative",right:!0}),j.jsx(c("IGDSChevronIcon.react"),{alt:d("PolarisGenericStrings").RIGHT_CHEVRON,color:A,"data-testid":void 0,direction:"next",size:16})]}):null,e[2]=y,e[3]=A,e[4]=F):F=e[4];y=F;A=C.getTheme()===d("PolarisIGTheme.react").IGTheme.Dark?a==null?void 0:a.dark:a==null?void 0:a.light;if(A!=null){e[5]!==A?(F={color:A},e[5]=A,e[6]=F):F=e[6];e[7]!==F||e[8]!==E?(C=j.jsx("span",{style:F,children:E}),e[7]=F,e[8]=E,e[9]=C):C=e[9];E=C}a=null;if(!c("isStringNullOrEmpty")(x)){e[10]!==B||e[11]!==x?(A=j.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:j.jsx(c("PolarisIGCoreText").Body2,{color:"ig-secondary-text",textAlign:B,children:x})}),e[10]=B,e[11]=x,e[12]=A):A=e[12];a=A}F="_aarz"+(r&&!t?" _aar-":"")+(t?" _alv8":"")+(i?"":" _aar_")+(D?" _aceq":"");e[13]!==D||e[14]!==g?(C=D?{background:g}:null,e[13]=D,e[14]=g,e[15]=C):C=e[15];e[16]!==B||e[17]!==E?(x=j.jsx(c("PolarisIGCoreText"),{size:"body",textAlign:B,weight:"semibold",children:E}),e[16]=B,e[17]=E,e[18]=x):x=e[18];e[19]!==x||e[20]!==a?(A=j.jsxs(c("IGDSBox.react"),{flex:"shrink",position:"relative",children:[x,a]}),e[19]=x,e[20]=a,e[21]=A):A=e[21];e[22]!==q||e[23]!==A||e[24]!==y?(i=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"start",position:"relative",width:"100%",children:[q,A,y]}),e[22]=q,e[23]=A,e[24]=y,e[25]=i):i=e[25];e[26]!==F||e[27]!==C||e[28]!==i?(g=j.jsx("div",{className:F,"data-testid":void 0,style:C,children:i}),e[26]=F,e[27]=C,e[28]=i,e[29]=g):g=e[29];B=g;E=c("usePolarisOffsiteTrackingDataURLParams")(m);if(m!=null){e[30]===Symbol["for"]("react.memo_cache_sentinel")?(x="_ad63",e[30]=x):x=e[30];e[31]!==m||e[32]!==v||e[33]!==w||e[34]!==E||e[35]!==B?(a=j.jsx(c("PolarisExternalLink.react"),{className:x,"data-testid":void 0,href:m,leadGenFormID:v,onClick:w,queryParams:E,children:B}),e[31]=m,e[32]=v,e[33]=w,e[34]=E,e[35]=B,e[36]=a):a=e[36];B=a}else if(w!=null){e[37]===Symbol["for"]("react.memo_cache_sentinel")?(q={__className:"_ad63"},e[37]=q):q=e[37];e[38]!==w?(A=function(){return w()},e[38]=w,e[39]=A):A=e[39];e[40]!==A||e[41]!==B?(y=j.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,dangerouslySetClassName:q,onClick:A,children:B}),e[40]=A,e[41]=B,e[42]=y):y=e[42];B=y}F=u!==!0&&s!==!0;C=d("PolarisUA").isDesktop();i=(n===!0||d("PolarisUA").isMobile())&&!C;g=k(null);x=c("useMergeRefs")(b,g);m="_aart"+(r?" _aaru":"")+(t?" _alv9":"")+(u===!0?" _aarv":"")+(o===!0?" _aarw":"")+(o===!0&&n===!0?" _aarx":"")+(C&&!D?" _ai7q":"")+(z?" _alva":"")+(z&&!t?" _aikk":"")+(f===d("PolarisPostUtils").PostFooterCTAAnimationStyle.POP_IN?" _alwd":"")+(f===d("PolarisPostUtils").PostFooterCTAAnimationStyle.SLIDE_UP?" _al_y":"");e[43]!==p?(v=p!=null?{height:p+"px"}:{},e[43]=p,e[44]=v):v=e[44];E=r&&F;e[45]!==E?(a=E?"_aary":"",e[45]=E,e[46]=a):a=e[46];e[47]!==a?(q=j.jsx("div",{className:a}),e[47]=a,e[48]=q):q=e[48];e[49]!==i||e[50]!==n||e[51]!==o||e[52]!==r?(A=i&&j.jsx("div",{className:"_aas0"+(n===!0&&o===!0?" _aas1":""),children:j.jsx("div",{className:r?"_aary":""})}),e[49]=i,e[50]=n,e[51]=o,e[52]=r,e[53]=A):A=e[53];e[54]!==m||e[55]!==h||e[56]!==x||e[57]!==v||e[58]!==q||e[59]!==B||e[60]!==A?(y=j.jsxs("div",{className:m,"data-testid":void 0,ref:x,style:v,children:[q,B,A]}),e[54]=m,e[55]=h,e[56]=x,e[57]=v,e[58]=q,e[59]=B,e[60]=A,e[61]=y):y=e[61];s=y;if(d("PolarisAdsGatingHelpers").enableFeedPostImpressionLogging()){e[62]!==g||e[63]!==s?(b=j.jsx(c("PolarisPostImpressionTrackingNode.react"),{childrenRef:g,componentType:"text",elementId:"ctaText",trackingNode:"CTA",children:s}),e[62]=g,e[63]=s,e[64]=b):b=e[64];return b}return s}f=e;g["default"]=f}),98);
__d("PolarisPostMediaOverlayInfoFooterCTA.react",["fbt","CometPlaceholder.react","IGDSInfoPanoOutlineIcon.react","JSResourceForInteraction","PolarisAssetManagerGlyphMapping","PolarisIGCoreIcon.react","PolarisInformTreatmentBanner.react","PolarisInstagramMediaOverlayFalcoEvent","PolarisMediaOverlayInfoTypes","PolarisMisinformationConstants","PolarisPostFooterCTA.react","gkx","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisPostMediaOverlayInfoFooterCTA.react"));function p(a,b){var c=a.analyticsContext,e=a.bannerInfo,f=a.entityID,g=e.bannerButton,h=e.overlayLayout,i=e.overlayType;d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.log(function(){return d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.buildPayloadForLog({button:g,containerModule:d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.getLoggableContainerModuleFromAnalyticsContext(c),entityID:f,event:b,overlayLayout:h,overlayType:i})})}function q(a){var b=a.entityID,c=a.onLoggedImpression;p(a,d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.IMPRESSION);c!=null&&c(b)}function r(a){p(a,d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION)}function s(a,b){r(a),b()}function t(a){a=a.bannerInfo;var b=a.bannerButton,e=a.iconAltText;a=a.iconGlyph;b=b.text_color;e=e!=null?h._("__JHASH__tZoHuCBQNgF__JHASH__",[h._param("text",e)]):d("PolarisMisinformationConstants").POST_FOOTER_CTA_ALT_TEXT;if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.INFO)return j.jsx(c("IGDSInfoPanoOutlineIcon.react"),{alt:e,color:b!=null?b:"ig-primary-icon",size:16});else if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.WARNING)return j.jsx(c("PolarisIGCoreIcon.react"),{alt:e,icon:d("PolarisAssetManagerGlyphMapping").ICONS.WARNING_OUTLINE_16_RED5});return null}e=j.forwardRef(a);function a(a,b){var e=babelHelpers["extends"]({},a);a=n(!1);var f=a[0],g=a[1];a=n(0);var h=a[0],i=a[1];a=e.bannerInfo;var m=e["data-testid"],p=e.disableImpressionLogging,r=e.entityID;m=e.forceBottomBorder;var v=e.fullWidth,w=e.isForSidecar,x=a.animationInfo,y=a.bannerButton;a=a.text;var z=x.canAnimateSlideIn,A=x.isHidden;x=y.action;var B=y.action_url,C=y.has_chevron,D=y.is_text_centered,E=y.secondary_text;y=y.text_color;var F=x===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_EXTERNAL_URL?B:void 0,G=u(e),H=G!==r;k(function(){(H||f===!1)&&p!==!0&&A!==!0?(q(e),g(!0)):H&&g(!1)},[p,A,H,f,e,g]);G=x!==d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.NO_OP?function(){return s(e,function(){return i(h+1)})}:void 0;var I=function(){i(0)},J=l(function(){return{media_id:r,module:e.analyticsContext||""}},[r,e.analyticsContext]);return c("gkx")("3567")?j.jsx(c("PolarisInformTreatmentBanner.react"),{externalURL:F,onClick:G,secondaryText:E,text:a,textAlign:D===!0?"center":"start"}):j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisPostFooterCTA.react"),{"data-testid":void 0,disableAnimation:!z,externalURL:F,forceBottomBorder:m,fullWidth:v,icon:t(e),isActive:!A,isForSidecar:w,onClick:G,ref:b,secondaryText:E,showChevron:(z=C)!=null?z:!1,text:a,textAlign:D===!0?"center":"left",textThemedColor:y}),x===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_BLOKS_APP&&h>0&&B!=null&&j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(o,{appId:B,bridgeOverrides_DEPRECATED:{onResumeStoryPlayback:I},params:J},h)})]})}a.displayName=a.name+" [from "+f.id+"]";b=e;function u(a){var b=a.entityID,c=m();k(function(){c.current=b});return c.current}g["default"]=b}),226);
__d("usePolarisShowFooterCTA",["PolarisPostUtils","polarisGetPostFromGraphMediaInterface","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b,c,e){return i(function(){if(e===!0)return null;if(a==null)return null;var f=a.isSidecar,g=null,h=null;if(f===!0){var i=d("PolarisPostUtils").getCurrentSidecarItemFromPost(a,b);i!=null&&(h=d("polarisGetPostFromGraphMediaInterface").getMediaOverlayBottomBannerInfoFromSidecarChild(i,c[i.id]===!0),h!=null&&(g=i))}g==null&&(h=d("polarisGetPostFromGraphMediaInterface").getMediaOverlayBottomBannerInfoFromRootPost(a,c[a.id]===!0),h!=null&&(g=a));return g==null||h==null?null:{bottomBannerInfo:h,isParentPostSidecar:f,itemWithBanner:g}},[b,c,e,a])}g["default"]=a}),98);
__d("PolarisPostOverlayInfoFooterCTA.react",["PolarisPostMediaOverlayInfoFooterCTA.react","react","usePolarisShowFooterCTA"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a){var b=i(8),d=a.analyticsContext,e=a.bottomBannerInfo,f=a.dynamicFooterRef,g=a.idsWithDisabledMediaOverlayInfoImpressionLogging,h=a.isParentPostSidecar,k=a.itemWithBannerID;a=a.onLogOverlayImpression;var l=e.hasMediaCover;l=l||g[k]===!0;b[0]!==d||b[1]!==e||b[2]!==l||b[3]!==k||b[4]!==h||b[5]!==a||b[6]!==f?(g=j.jsx(c("PolarisPostMediaOverlayInfoFooterCTA.react"),{analyticsContext:d,bannerInfo:e,"data-testid":void 0,disableImpressionLogging:l,entityID:k,isForSidecar:h,onLoggedImpression:a,ref:f}),b[0]=d,b[1]=e,b[2]=l,b[3]=k,b[4]=h,b[5]=a,b[6]=f,b[7]=g):g=b[7];return g}function a(a){var b=i(8),d,e,f,g;b[0]!==a?(e=a.currentSidecarIndex,f=a.idsWithClearedBlurOverlays,d=a.rootPost,g=babelHelpers.objectWithoutPropertiesLoose(a,["currentSidecarIndex","idsWithClearedBlurOverlays","rootPost"]),b[0]=a,b[1]=d,b[2]=e,b[3]=f,b[4]=g):(d=b[1],e=b[2],f=b[3],g=b[4]);a=c("usePolarisShowFooterCTA")(d,e,f);b[5]!==a||b[6]!==g?(d=a!=null?j.jsx(k,babelHelpers["extends"]({bottomBannerInfo:a.bottomBannerInfo,isParentPostSidecar:a.isParentPostSidecar,itemWithBannerID:a.itemWithBanner.id},g)):null,b[5]=a,b[6]=g,b[7]=d):d=b[7];return d}g.PolarisPostOverlayInfoFooterCTARenderer=k;g.PolarisPostOverlayInfoFooterCTA=a}),98);
__d("PolarisPostToastProvider.react",["react","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));d=h;var j=d.useContext,k=d.useMemo,l=d.useRef,m=d.useState;d=i.forwardRef(e);var n={ActionText:null,BodyText:null,actionHref:"/",positionStyles:{absolutePositionStyles:{},width:0},postToastContainerElem:null,setActionHref:function(){},setActionText:function(){},setBodyText:function(){},setPositionStyles:function(){},setShowToast:function(){},showToast:!1},o=i.createContext(n);function a(){return j(o)}function b(a){var b=a.ActionText,c=a.BodyText,d=a.actionHref,e=a.setActionHref,f=a.setActionText,g=a.setBodyText;a=a.setShowToast;e(d);f(b);g(c);a(!0)}function e(a,b){a=a.children;var d=m(null),e=d[0],f=d[1];d=m(null);var g=d[0],h=d[1];d=m("");var j=d[0],p=d[1];d=m(n.positionStyles);var q=d[0],r=d[1];d=m(!1);var s=d[0],t=d[1],u=l(null);d=c("useMergeRefs")(u,b);b=k(function(){return{ActionText:e,BodyText:g,actionHref:j,positionStyles:q,postToastContainerElem:u.current,setActionHref:p,setActionText:f,setBodyText:h,setPositionStyles:r,setShowToast:t,showToast:s}},[e,g,j,q,s]);return i.jsx(o.Provider,{value:b,children:a(d)})}e.displayName=e.name+" [from "+f.id+"]";e=d;g.usePostToastContext=a;g.showPostToast=b;g.PostToastProvider=e}),98);
__d("PolarisSavedCollectionPickerListHeader.react",["fbt","IGDSAddPanoFilledIcon.react","IGDSBox.react","IGDSIconButton.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=h._("__JHASH__k_raO8ltliS__JHASH__"),m=h._("__JHASH__OvXLGVUZiSy__JHASH__");function a(a){var b=j(10),d=a.headerMinHeight,e=a.setHidePopover,f=a.setShowCreateCollectionModal;b[0]!==f||b[1]!==e?(a=function(){f(!0),e(!0)},b[0]=f,b[1]=e,b[2]=a):a=b[2];a=a;var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:k.jsx(c("IGDSBox.react"),{alignItems:"start",marginTop:1,position:"relative",children:k.jsx(c("IGDSText.react").Section,{children:l})})}),b[3]=g):g=b[3];var h;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(h=k.jsx(c("IGDSAddPanoFilledIcon.react"),{alt:m,size:12}),b[4]=h):h=b[4];b[5]!==a?(g=k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",height:46,position:"relative",children:[g,k.jsx(c("IGDSBox.react"),{marginTop:1,position:"relative",children:k.jsx(c("IGDSIconButton.react"),{onClick:a,children:h})})]}),b[5]=a,b[6]=g):g=b[6];b[7]!==d||b[8]!==g?(h=k.jsx(c("IGDSBox.react"),{marginEnd:2,marginStart:4,minHeight:d,position:"relative",children:g}),b[7]=d,b[8]=g,b[9]=h):h=b[9];return h}g["default"]=a}),226);
__d("PolarisSavedCollectionPickerListItem.react",["cx","fbt","CometPressable.react","IGDSBox.react","IGDSText.react","PolarisLinkBuilder","PolarisPostToastProvider.react","PolarisThumbnail.react","PolarisUrlHelpers","emptyFunction","nullthrows","react","usePolarisViewer"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.c,m=32,n=152,o=50;function p(a){return i._("__JHASH__-q2h7eNrQCh__JHASH__",[i._param("collection name",a)])}function q(a){var b=l(4),d=a.collectionName;a=a.coverMedia;a=a.image_versions2;a=a.candidates;var e=a.length>0,f;b[0]!==e||b[1]!==d||b[2]!==a?(f=k.jsx(k.Fragment,{children:e?k.jsx(c("PolarisThumbnail.react"),{alt:i._("__JHASH___bvLxc-DOQb__JHASH__",[i._param("collectionName",d)]),src:a[0].url}):null}),b[0]=e,b[1]=d,b[2]=a,b[3]=f):f=b[3];return f}function a(a){var b=l(30),e=a.collection,f=a.onSaveMedia,g=a.onSaveMediaToCollection,h=a.postIsSaved,j=a.postIsSavedToCollection,r=a.setHidePopover,s=f===void 0?c("emptyFunction"):f;a=e.cover_media;f=e.cover_media_list;var t;a!=null&&(t=a);f!=null&&(t=f[0]);a=t!=null;var u=d("PolarisPostToastProvider.react").usePostToastContext(),v=c("nullthrows")(c("usePolarisViewer")());b[0]!==e.name?(f=d("PolarisUrlHelpers").slugify(e.name),b[0]=e.name,b[1]=f):f=b[1];var w=f;b[2]!==u||b[3]!==e.name||b[4]!==e.id||b[5]!==v.username||b[6]!==w?(f=function(){d("PolarisPostToastProvider.react").showPostToast(babelHelpers["extends"]({},u,{ActionText:i._("__JHASH__O7TnneKxudi__JHASH__"),BodyText:p(e.name),actionHref:d("PolarisLinkBuilder").buildUserSavedCollectionLink(c("nullthrows")(v.username),w===""?"_":w,e.id)}))},b[2]=u,b[3]=e.name,b[4]=e.id,b[5]=v.username,b[6]=w,b[7]=f):f=b[7];var x=f;b[8]!==g||b[9]!==j||b[10]!==e.id||b[11]!==x||b[12]!==h||b[13]!==s||b[14]!==r?(f=function(){g(j,e.id),j||x(),h===!1&&s(!0),r(!0)},b[8]=g,b[9]=j,b[10]=e.id,b[11]=x,b[12]=h,b[13]=s,b[14]=r,b[15]=f):f=b[15];f=f;var y;b[16]===Symbol["for"]("react.memo_cache_sentinel")?(y="_aauc",b[16]=y):y=b[16];b[17]!==a||b[18]!==t||b[19]!==e?(y=k.jsx("div",{className:y,children:k.jsx(c("IGDSBox.react"),{color:"secondaryBackground",height:m,position:"relative",shape:"square",width:m,children:a?k.jsx(q,{collectionName:e.name,coverMedia:c("nullthrows")(t)}):null})}),b[17]=a,b[18]=t,b[19]=e,b[20]=y):y=b[20];b[21]!==j||b[22]!==e.name?(a=k.jsx(c("IGDSBox.react"),{marginStart:2,maxWidth:n,position:"relative",children:j?k.jsx(c("IGDSText.react").Section,{maxLines:1,zeroMargin:!0,children:e.name}):k.jsx(c("IGDSText.react").Label,{maxLines:1,zeroMargin:!0,children:e.name})}),b[21]=j,b[22]=e.name,b[23]=a):a=b[23];var z;b[24]!==y||b[25]!==a?(z=k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",height:o,paddingX:4,position:"relative",children:[y,a]}),b[24]=y,b[25]=a,b[26]=z):z=b[26];b[27]!==f||b[28]!==z?(y=k.jsx(c("CometPressable.react"),{onPress:f,children:z}),b[27]=f,b[28]=z,b[29]=y):y=b[29];return y}g.LIST_ITEM_HEIGHT=o;g.savedToCollectionText=p;g.SavedCollectionPickerListItem=a}),226);
__d("PolarisSavedCollectionPicker.react",["FBLogger","IGDSBox.react","IGDSDivider.react","IGDSSpinner.react","PolarisIGCoreAnchoredPopoverContentContainer.react","PolarisIGVirtualList.react","PolarisPostActionRequestSavedCollectionsForPost","PolarisReactRedux.react","PolarisSavedCollectionPickerListHeader.react","PolarisSavedCollectionPickerListItem.react","PolarisSavedPostsActionRequestNextSavedCollections","PolarisSavedPostsTypes","PolarisScrollWatchedComponent.react","PolarisScrollableContainer.react","polarisCollectionsLoading","polarisSavedPostsSelectors","react","usePolarisHoverCardDelay","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect,k=b.c,l={x:1,y:2},m=280,n=264,o=4,p=47;function q(a){return a.moreAvailable&&!a.isFetching}function r(a,b){q(a)&&b()}function a(a){var b=k(23),e=a.collectionsPostSavedTo,f=a.hidePopover,g=a.onSaveMedia,h=a.onSaveMediaToCollection,s=a.postId,t=a.postIsSaved,u=a.setHidePopover;a=a.setShowCreateCollectionModal;var v=d("PolarisReactRedux.react").useDispatch(),w=c("usePolarisViewer")();if(w==null)throw c("FBLogger")("ig_web").mustfixThrow("PolarisSavedCollectionPicker: viewer must exist");var x=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisSavedPostsSelectors").getSavedCollectionsPaginationForUser(a,w.id)}),y=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisSavedPostsSelectors").getAllSavedCollectionsForUser(a,w.id)}),z;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(z=function(a){return a.id!==d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.AUDIO_AUTO_COLLECTION&&a.id!==d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION},b[0]=z):z=b[0];var A=y.filter(z);z=c("usePolarisHoverCardDelay")();var B=z.handleMouseLeave;z=z.hoverDelayShow;y=d("polarisCollectionsLoading").collectionsLoading(y,x)||e==null;var C;b[1]!==s?(C=function(){return d("PolarisPostActionRequestSavedCollectionsForPost").requestSavedCollectionsForPost({postId:s})},b[1]=s,b[2]=C):C=b[2];var D=C;C=Math.min((A.length+1)*d("PolarisSavedCollectionPickerListItem.react").LIST_ITEM_HEIGHT,m);var E=function(a){a=a.index;if(a===A.length)return i.jsx(c("IGDSBox.react"),{alignItems:"center",height:d("PolarisSavedCollectionPickerListItem.react").LIST_ITEM_HEIGHT,justifyContent:"center",paddingY:2,position:"relative",children:x.isFetching&&x.moreAvailable&&i.jsx(c("IGDSSpinner.react"),{size:"medium"})},"spinner");a=A[a];var b=t&&a.id===d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION;b=b||((b=e==null?void 0:e.includes(a.id))!=null?b:!1);return i.jsx(d("PolarisSavedCollectionPickerListItem.react").SavedCollectionPickerListItem,{collection:a,onSaveMedia:g,onSaveMediaToCollection:h,postId:s,postIsSaved:t,postIsSavedToCollection:b,setHidePopover:u},a.id)},F=function(){return A.length+(x.moreAvailable?1:0)},G,H;b[3]!==e||b[4]!==v||b[5]!==D?(G=function(){e==null&&v(D())},H=[e,v,D],b[3]=e,b[4]=v,b[5]=D,b[6]=G,b[7]=H):(G=b[6],H=b[7]);j(G,H);b[8]!==f||b[9]!==B?(G=function(){f&&B()},H=[B,f],b[8]=f,b[9]=B,b[10]=G,b[11]=H):(G=b[10],H=b[11]);j(G,H);if(z===!1||f)return null;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(G=function(a){return a.stopPropagation()},b[12]=G):G=b[12];b[13]!==u||b[14]!==a?(H=i.jsx(c("PolarisSavedCollectionPickerListHeader.react"),{headerMinHeight:p,setHidePopover:u,setShowCreateCollectionModal:a}),b[13]=u,b[14]=a,b[15]=H):H=b[15];z=y?i.jsx(c("IGDSBox.react"),{alignItems:"center",height:C-p,justifyContent:"center",position:"relative",width:n,children:i.jsx(c("IGDSSpinner.react"),{size:"medium"})}):i.jsxs(c("IGDSBox.react"),{position:"relative",children:[i.jsx(c("IGDSDivider.react"),{}),i.jsxs(d("PolarisScrollableContainer.react").ScrollableContainer,{children:[i.jsx(c("PolarisIGVirtualList.react"),{containerSize:C-d("PolarisSavedCollectionPickerListItem.react").LIST_ITEM_HEIGHT,estimatedItemSize:d("PolarisSavedCollectionPickerListItem.react").LIST_ITEM_HEIGHT,itemCount:F(),overscanCount:o,renderer:function(a){return E(a)}}),q(x)&&i.jsx(c("PolarisScrollWatchedComponent.react"),{boundScaleFactor:l,onScrollEnter:function(){return r(x,function(){return v(d("PolarisSavedPostsActionRequestNextSavedCollections").requestNextSavedCollections(w.id))})}})]})]});b[16]!==C||b[17]!==H||b[18]!==z?(a=i.jsxs(c("IGDSBox.react"),{height:C,overflow:"hidden",position:"relative",width:n,children:[H,z]}),b[16]=C,b[17]=H,b[18]=z,b[19]=a):a=b[19];b[20]!==C||b[21]!==a?(y=i.jsx("div",{onWheel:G,children:i.jsx(c("PolarisIGCoreAnchoredPopoverContentContainer.react"),{height:C,isVisible:!0,width:n,children:a})}),b[20]=C,b[21]=a,b[22]=y):y=b[22];return y}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IGDSCreatorMarketplacePanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M22 11a1 1 0 0 0-1 1 8.972 8.972 0 0 1-2.643 6.365 5.063 5.063 0 0 0-3.907-1.863H9.544c-1.522 0-2.953.7-3.904 1.86a9.009 9.009 0 0 1-1.348-1.726H5.5a1 1 0 1 0 0-2H2a1 1 0 0 0-1 1v4.25a1 1 0 1 0 2 0v-1.554A10.926 10.926 0 0 0 12 23c6.066 0 11-4.934 11-11a1 1 0 0 0-1-1ZM12 21a8.945 8.945 0 0 1-4.78-1.385c.575-.686 1.415-1.113 2.324-1.113h4.906c.91 0 1.75.427 2.325 1.114A8.934 8.934 0 0 1 12 21ZM22 3.114a1 1 0 0 0-1 1v1.554A10.926 10.926 0 0 0 12 1C5.935 1 1 5.934 1 12a1 1 0 1 0 2 0c0-4.963 4.037-9 9-9a8.935 8.935 0 0 1 7.709 4.364H18.5a1 1 0 1 0 0 2H22a1 1 0 0 0 1-1v-4.25a1 1 0 0 0-1-1ZM16.505 10.5c0-2.481-2.019-4.5-4.499-4.5-2.482 0-4.501 2.019-4.501 4.5s2.02 4.5 4.501 4.5a4.505 4.505 0 0 0 4.499-4.5Zm-7 0c0-1.378 1.122-2.5 2.5-2.5 1.379 0 2.5 1.122 2.5 2.5s-1.121 2.5-2.5 2.5a2.503 2.503 0 0 1-2.5-2.5Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("PolarisClipsGridItemConstants",[],(function(a,b,c,d,e,f){"use strict";a=212/330;b=119.5/212;f.CLIPS_GRID_ITEM_ASPECT_RATIO=a;f.CLIPS_GRID_ITEM_ASPECT_RATIO_MOBILE=b}),66);
__d("PolarisCountryBlock.react",["fbt","PolarisAdvisoryMessage.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(){var a=j(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("PolarisAdvisoryMessage.react"),{children:k.jsx("h2",{className:"x11gisft x11njtxf",children:h._("__JHASH__ZIVh3kKzzS8__JHASH__")})}),a[0]=b):b=a[0];return b}g["default"]=a}),226);
__d("PolarisGridItemVideoPreview.react",["CometImage.react","PolarisVideo.react","VideoAutoplayLocalScopeProvider.react","VideoPlayerAutoplayRulesProvider","VideoPlayerHooks","VideoPlayerSurface.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useEffect,l=b.c,m={coverPhoto:{height:"x5yr21d",$$css:!0}},n=d("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("polaris_grid");function o(a){var b=l(12),e=a.coverPhoto,f=a.previewDurationMs,g=(i||(i=d("VideoPlayerHooks"))).useController();a=i.usePlaying();var h=i.useCurrentTimeThrottled(500),n=g.internal_getVideoElement(),o;b[0]!==n?(o=[n],b[0]=n,b[1]=o):o=b[1];k(function(){n!=null&&(n.style.objectFit="cover")},o);var p;b[2]!==f||b[3]!==h||b[4]!==g?(o=function(){f!=null&&h*1e3>f&&g.seek(0)},p=[g,h,f],b[2]=f,b[3]=h,b[4]=g,b[5]=o,b[6]=p):(o=b[5],p=b[6]);k(o,p);if(!a){b[7]===Symbol["for"]("react.memo_cache_sentinel")?(o="x78zum5 x5yr21d xl56j7k x6ikm8r x10wlt62 xh8yej3",b[7]=o):o=b[7];b[8]!==e?(p=e!=null&&j.jsx(c("CometImage.react"),{src:e,xstyle:m.coverPhoto}),b[8]=e,b[9]=p):p=b[9];b[10]!==p?(a=j.jsx("div",{className:o,children:p}),b[10]=p,b[11]=a):a=b[11];return a}return null}function a(a){var b=l(7),d=a.coverPhoto,e=a.previewDurationMs,f=a.videoID;a=a.videoSrc;var g;b[0]!==d||b[1]!==e?(g=j.jsx(c("VideoPlayerSurface.react"),{children:j.jsx(o,{coverPhoto:d,previewDurationMs:e})}),b[0]=d,b[1]=e,b[2]=g):g=b[2];b[3]!==f||b[4]!==a||b[5]!==g?(d=j.jsx(c("VideoAutoplayLocalScopeProvider.react"),{autoplayLocalRules:n,children:j.jsx(c("PolarisVideo.react"),{autoplay:!0,loopCount:-1,mediaId:f,sdSrc:a,children:g})}),b[3]=f,b[4]=a,b[5]=g,b[6]=d):d=b[6];return d}g["default"]=a}),98);
__d("PolarisNewsCountryBlock.react",["fbt","IGDSBox.react","IGDSNewsOffOutlineIcon.react","PolarisAdvisoryMessage.react","PolarisExternalLink.react","SableNewsEventFalcoEvent","react","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.c,m="https://help.instagram.com/273556485011659?ref=ipl",n="https://help.instagram.com/969434367391841?ref=ipl";function a(a){var b=l(11),d=a.isOwnProfile,e=a.userID,f=c("usePolarisViewer")();b[0]!==e||b[1]!==f?(a=function(){c("SableNewsEventFalcoEvent").log(function(){var a;return{account_viewed_id:e,event_name:"publisher_profile_block",ig_user_id:(a=f==null?void 0:f.id)!=null?a:"0",viewer_is_regulated_c18:(f==null?void 0:f.isRegulatedC18)===!0}})},b[0]=e,b[1]=f,b[2]=a):a=b[2];var g=f==null?void 0:f.id,i=f==null?void 0:f.isRegulatedC18,o;b[3]!==e||b[4]!==g||b[5]!==i?(o=[e,g,i],b[3]=e,b[4]=g,b[5]=i,b[6]=o):o=b[6];k(a,o);b[7]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSBox.react"),{marginBottom:3,children:j.jsx(c("IGDSNewsOffOutlineIcon.react"),{alt:"Icon indicating that news is disabled",size:32})}),b[7]=g):g=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(i="x11gisft x11njtxf",b[8]=i):i=b[8];b[9]!==d?(a=j.jsxs(c("PolarisAdvisoryMessage.react"),{children:[g,j.jsx("h2",{className:i,children:d?h._("__JHASH__QT494AaBEC7__JHASH__"):h._("__JHASH__uiqf1Af_wQm__JHASH__")}),j.jsx("p",{children:d?h._("__JHASH__bUYAv45yDtc__JHASH__",[h._implicitParam("=m2",j.jsx(c("PolarisExternalLink.react"),{href:n,children:h._("__JHASH__MSKkZvWIXAu__JHASH__")}))]):h._("__JHASH__RisRnml03A0__JHASH__",[h._implicitParam("=m2",j.jsx(c("PolarisExternalLink.react"),{href:m,children:h._("__JHASH__uPGpFB1XUQE__JHASH__")}))])})]}),b[9]=d,b[10]=a):a=b[10];return a}g["default"]=a}),226);
__d("PolarisProfilePagePrivateProfileMessage_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisProfilePagePrivateProfileMessage_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW",path:"username"},{args:null,kind:"FragmentSpread",name:"PolarisProfilePagePrivateProfileUpsell_user"}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisProfilePagePrivateProfileUpsell_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisProfilePagePrivateProfileUpsell_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW",path:"username"},{args:null,kind:"FragmentSpread",name:"PolarisFollowButton_user"},{args:null,kind:"FragmentSpread",name:"PolarisUnfollowDialog_user"},{args:null,kind:"FragmentSpread",name:"usePolarisGetRelationshipFragment_user"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_updating_friendship_status",storageKey:null}]}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisProfilePagePrivateProfileUpsell.react",["fbt","CometRelay","IGDSBox.react","IGDSButton.react","IGDSLockOutline96Icon.react","IGDSText.react","JSResourceForInteraction","PolarisAppInstallStrings","PolarisFollowButton.react","PolarisIgLiteCarbonUpsellsUtils","PolarisLoggedOutCtaClickLogger","PolarisLoggedOutCtaLogger","PolarisOpenInApp","PolarisProfilePagePrivateProfileUpsell_user.graphql","PolarisUA","browserHistory_DO_NOT_USE","cr:9916","emptyFunction","react","useIGDSLazyDialog","usePolarisFollowMutation","usePolarisGetDeepLink","usePolarisGetRelationshipFragment","usePolarisPageID","usePolarisUnfollowMutation","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j;function m(a){var b=k(5),d=a.shouldUpsellToApp;a=a.username;d=d===void 0?!1:d;var e;b[0]!==a?(e=l.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",children:a}),b[0]=a,b[1]=e):e=b[1];a=e;b[2]!==d||b[3]!==a?(e=d?h._("__JHASH__FIxRAs4Do2S__JHASH__",[h._param("username",a)]):h._("__JHASH__nXJYuMAHNx-__JHASH__",[h._param("username",a)]),b[2]=d,b[3]=a,b[4]=e):e=b[4];return e}function n(){var a=k(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__o6ksHou_w5T__JHASH__"),a[0]=b):b=a[0];return b}function a(a){var e=k(29);a=a.user;var f=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisProfilePagePrivateProfileUpsell_user.graphql"),a),g=c("usePolarisGetDeepLink")();e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible(),e[0]=a):a=e[0];var j=a;e[1]!==g?(a=function(a){a.preventDefault();d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"private_profile",ctaVersion:j?"instagramlitecarbon":"",eventName:"app_open_click"});d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent({ctaAction:"app_open",ctaType:"contextual_cta",isIgLiteUpsell:j});a=g();var b=a.android,c=a.ios;a=a.originalPath;d("PolarisOpenInApp").openInApp(b,c,a,j)},e[1]=g,e[2]=a):a=e[2];a=a;var o=c("usePolarisPageID")(),p=c("usePolarisViewer")(),q=c("usePolarisFollowMutation")(),r=q[0];q=c("usePolarisUnfollowMutation")();var s=q[0];q=c("usePolarisGetRelationshipFragment")(f);var t=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("PolarisUnfollowDialog.next.react").__setRef("PolarisProfilePagePrivateProfileUpsell.react")),u=t[0];e[3]!==u||e[4]!==s||e[5]!==f?(t=function(){u({analyticsContext:"profile",onUnfollowUser:function(){return s({container_module:"profile",target_user_id:f.pk})},user:f})},e[3]=u,e[4]=s,e[5]=f,e[6]=t):t=e[6];t=t;var v;e[7]===Symbol["for"]("react.memo_cache_sentinel")?(v=l.jsx(c("IGDSBox.react"),{flex:"none",children:l.jsx(c("IGDSLockOutline96Icon.react"),{alt:"",size:48})}),e[7]=v):v=e[7];var w;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(w=l.jsx(c("IGDSBox.react"),{marginBottom:3,children:l.jsx(c("IGDSText.react").BodyEmphasized,{children:h._("__JHASH__kq420qaWLD0__JHASH__")})}),e[8]=w):w=e[8];e[9]!==p||e[10]!==f?(v=l.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[v,l.jsx(c("IGDSBox.react"),{flex:"shrink",marginStart:3,children:l.jsxs(c("IGDSBox.react"),{children:[w,l.jsx(c("IGDSText.react").Body,{color:"secondaryText",children:p?l.jsx(n,{}):l.jsx(m,{shouldUpsellToApp:d("PolarisUA").isMobile(),username:f.username})})]})})]}),e[9]=p,e[10]=f,e[11]=v):v=e[11];e[12]===Symbol["for"]("react.memo_cache_sentinel")?(w={className:"x1j0rpc6"},e[12]=w):w=e[12];var x;e[13]!==p||e[14]!==r||e[15]!==f||e[16]!==s||e[17]!==t||e[18]!==q||e[19]!==a?(x=p?l.jsx(c("IGDSBox.react"),{marginTop:4,children:l.jsx(c("PolarisFollowButton.react"),{analyticsContext:"UNKNOWN__POLARIS_PEOPLE_CARD_CONTAINER",fullWidth:!0,handleUnfollow:t,isProcessing:f.is_updating_friendship_status,onFollowUser:function(){return r({container_module:"profile",target_user_id:f.pk})},onLoggedOutIntentClick:c("emptyFunction"),onLoggedOutIntentClickLoginModal:c("emptyFunction"),onUnfollowUser:function(){return s({container_module:"profile",target_user_id:f.pk})},relationship:q,user:f,userId:f.pk,username:f.username})}):d("PolarisUA").isMobile()?l.jsx(c("IGDSBox.react"),{marginTop:4,children:l.jsx(c("IGDSButton.react"),{fullWidth:!0,label:j?d("PolarisAppInstallStrings").USE_INSTAGRAM_LITE_CARBON_CTA:d("PolarisAppInstallStrings").SWITCH_TO_THE_APP,onClick:a})}):null,e[13]=p,e[14]=r,e[15]=f,e[16]=s,e[17]=t,e[18]=q,e[19]=a,e[20]=x):x=e[20];e[21]!==o?(p=b("cr:9916")&&l.jsx(b("cr:9916"),{ctaType:"private_profile",loginReturnPath:d("browserHistory_DO_NOT_USE").getPath(d("browserHistory_DO_NOT_USE").browserHistory),loginSource:"private_profile",pageIdentifier:o}),e[21]=o,e[22]=p):p=e[22];e[23]!==x||e[24]!==p?(t=l.jsxs("div",babelHelpers["extends"]({},w,{children:[x,p]})),e[23]=x,e[24]=p,e[25]=t):t=e[25];e[26]!==v||e[27]!==t?(q=l.jsxs(c("IGDSBox.react"),{alignItems:"center","data-testid":void 0,marginEnd:9,marginStart:9,marginTop:6,position:"relative",children:[v,t]}),e[26]=v,e[27]=t,e[28]=q):q=e[28];return q}g["default"]=a}),226);
__d("PolarisProfilePagePrivateProfile_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisProfilePagePrivateProfile_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW",path:"username"},{args:null,kind:"FragmentSpread",name:"PolarisProfilePagePrivateProfileMessage_user"}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisProfilePagePrivateProfile.react",["fbt","CometPlaceholder.react","CometRelay","IGDSBox.react","IGDSButton.react","IGDSText.react","PolarisAdvisoryMessage.react","PolarisAppInstallStrings","PolarisConfig","PolarisConnectionsLogger","PolarisFastLink.react","PolarisHoldoutChecks","PolarisIgLiteCarbonUpsellsUtils","PolarisLinkBuilder","PolarisLoggedOutCtaClickLogger","PolarisLoggedOutCtaLogger","PolarisNavigationStrings","PolarisOpenInApp","PolarisProfilePagePrivateProfileMessage_user.graphql","PolarisProfilePagePrivateProfileUpsell.react","PolarisProfilePagePrivateProfile_user.graphql","PolarisProfileTabContentSpinner.react","PolarisSizing","PolarisUA","browserHistory_DO_NOT_USE","cr:7638","cr:7652","polarisNavigationSelectors","polarisSuggestedUserSelectors.react","qex","react","stylex","usePolarisDisplayProperties","usePolarisSelector","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useEffect,o=e.useRef,p=e.c,q=h._("__JHASH__kq420qaWLD0__JHASH__");function r(a){return h._("__JHASH__FIxRAs4Do2S__JHASH__",[h._param("username",a)])}var s={advisoryMessageBodyCopy:{color:"x5n08af",font:"xln7xf2",fontSize:"x1f6kntn",lineHeight:"x1o2sk6j",marginTop:"xk9mzb7",verticalAlign:"x11njtxf",$$css:!0},advisoryMessageBottomMargin:{marginBottom:"xieb3on",$$css:!0}};function t(){var a=p(5),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=!d("PolarisConfig").isLoggedIn()&&d("PolarisUA").isMobile(),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"private_profile",ctaVersion:d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible()?"instagramlitecarbon":"",eventName:"login_click"})},a[1]=e):e=a[1];e=e;var f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f="x173jzuc xjypj1w",a[2]=f):f=a[2];var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("PolarisLinkBuilder").buildLoginLink(d("browserHistory_DO_NOT_USE").getPath(d("browserHistory_DO_NOT_USE").browserHistory),{source:"private_profile"}),a[3]=g):g=a[3];a[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=m.jsx(c("PolarisFastLink.react"),{className:f,href:g,onClick:e,children:b?d("PolarisNavigationStrings").LOG_IN_TEXT:h._("__JHASH__hqiArIKCNlE__JHASH__")}),a[4]=f):f=a[4];return f}function u(a){var b=p(17);a=a.username;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){return d("polarisNavigationSelectors").getDeepLink__DEPRECATED(a)},b[0]=e):e=b[0];e=c("usePolarisSelector")(e);var f=e.android,g=e.ios,h=e.originalPath;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible(),b[1]=e):e=b[1];var i=e;b[2]!==f||b[3]!==g||b[4]!==h?(e=function(a){a.preventDefault(),d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"private_profile",ctaVersion:i?"instagramlitecarbon":"",eventName:"app_open_click"}),d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent({ctaAction:"app_open",ctaType:"contextual_cta",isIgLiteUpsell:i}),d("PolarisOpenInApp").openInApp(f,g,h,i)},b[2]=f,b[3]=g,b[4]=h,b[5]=e):e=b[5];e=e;var j=i&&c("qex")._("633")!==!0?d("PolarisAppInstallStrings").USE_INSTAGRAM_LITE_CARBON_CTA:d("PolarisAppInstallStrings").SWITCH_TO_THE_APP,k;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(k=m.jsx(c("IGDSBox.react"),{marginBottom:3,position:"relative",children:m.jsx(c("IGDSText.react").BodyEmphasized,{textAlign:"center",children:q})}),b[6]=k):k=b[6];var l;b[7]!==a?(l=r(m.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",children:a})),b[7]=a,b[8]=l):l=b[8];b[9]!==l?(a=m.jsxs(c("IGDSBox.react"),{marginBottom:4,position:"relative",children:[k,m.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:l})]}),b[9]=l,b[10]=a):a=b[10];b[11]!==e?(k=m.jsx(c("IGDSBox.react"),{marginBottom:3,position:"relative",width:"100%",children:m.jsx(c("IGDSButton.react"),{fullWidth:!0,label:j,onClick:e})}),b[11]=e,b[12]=k):k=b[12];b[13]===Symbol["for"]("react.memo_cache_sentinel")?(l=m.jsx(c("IGDSBox.react"),{position:"relative",children:m.jsx(t,{})}),b[13]=l):l=b[13];b[14]!==a||b[15]!==k?(j=m.jsxs(c("IGDSBox.react"),{alignItems:"center",marginEnd:9,marginStart:9,marginTop:12,position:"relative",children:[a,k,l]}),b[14]=a,b[15]=k,b[16]=j):j=b[16];return j}function v(a){var e=p(16),f=a.isSmallScreen;a=a.user;a=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisProfilePagePrivateProfileMessage_user.graphql"),a);var g=c("usePolarisViewer")(),j=!d("PolarisConfig").isLoggedIn()&&d("PolarisUA").isMobile(),l=o(!1),q,r;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){l.current===!1&&(l.current=!0,d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"private_profile",ctaVersion:d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible()?"instagramlitecarbon":"",eventName:"impression"}))},r=[],e[0]=q,e[1]=r):(q=e[0],r=e[1]);n(q,r);if(g||c("qex")._("1275")===!0){e[2]!==a?(q=m.jsx(c("PolarisProfilePagePrivateProfileUpsell.react"),{user:a}),e[2]=a,e[3]=q):q=e[3];return q}if(j){e[4]!==a.username?(r=m.jsx(u,{username:a.username}),e[4]=a.username,e[5]=r):r=e[5];return r}if(!g){e[6]!==a.username?(q=h._("__JHASH__tjCttr-YfTf__JHASH__",[h._param("username",a.username),h._param("Log in",m.jsx(t,{}))]),e[6]=a.username,e[7]=q):q=e[7];j=q}else{e[8]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__o6ksHou_w5T__JHASH__"),e[8]=r):r=e[8];j=r}e[9]===Symbol["for"]("react.memo_cache_sentinel")?(g="xaka53j",e[9]=g):g=e[9];e[10]===Symbol["for"]("react.memo_cache_sentinel")?(a=m.jsx("h2",{className:"x5n08af x1s688f x1o2sk6j x11njtxf",children:h._("__JHASH__6dVACFLaZ50__JHASH__")}),e[10]=a):a=e[10];q=!f&&s.advisoryMessageBodyCopy;e[11]!==q?(r=(k||(k=c("stylex")))(q),e[11]=q,e[12]=r):r=e[12];e[13]!==r||e[14]!==j?(f=m.jsx(c("PolarisAdvisoryMessage.react"),{children:m.jsxs("div",{className:g,children:[a,m.jsx("div",{className:r,children:j})]})}),e[13]=r,e[14]=j,e[15]=f):f=e[15];return f}function a(a){var e=p(17),f=a.suggestedUsersQuery;a=a.user;a=d("CometRelay").useFragment(j!==void 0?j:j=b("PolarisProfilePagePrivateProfile_user.graphql"),a);var g=c("usePolarisDisplayProperties")();g=g.viewportWidth;g=g<d("PolarisSizing").LANDSCAPE_SMALL_SCREEN_CUTOFF;var h=d("polarisSuggestedUserSelectors.react").usePolarisProfileChainingSuggestions(a.pk),i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=(k||(k=c("stylex")))(c("PolarisHoldoutChecks").H12024.perf.rollout()&&s.advisoryMessageBottomMargin),e[0]=i):i=e[0];e[1]!==g||e[2]!==a?(i=m.jsx("div",{className:i,children:m.jsx(v,{isSmallScreen:g,user:a})}),e[1]=g,e[2]=a,e[3]=i):i=e[3];var l;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(l=m.jsx(c("PolarisProfileTabContentSpinner.react"),{}),e[4]=l):l=e[4];var n;e[5]!==h||e[6]!==g?(n=h&&h.length>0&&b("cr:7652")&&m.jsx(b("cr:7652"),{analyticsContext:d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.profile,clickPoint:"private_profile_similar_users_chaining_unit",isSmallScreen:g,users:h}),e[5]=h,e[6]=g,e[7]=n):n=e[7];e[8]!==f||e[9]!==a?(h=f!=null&&b("cr:7638")!=null&&m.jsx(b("cr:7638"),{clickPoint:"private_profile_similar_users_chaining_unit",query:f,userID:a.pk,username:a.username}),e[8]=f,e[9]=a,e[10]=h):h=e[10];e[11]!==n||e[12]!==h?(g=m.jsxs(c("CometPlaceholder.react"),{fallback:l,children:[n,h]}),e[11]=n,e[12]=h,e[13]=g):g=e[13];e[14]!==i||e[15]!==g?(f=m.jsxs(m.Fragment,{children:[i,g]}),e[14]=i,e[15]=g,e[16]=f):f=e[16];return f}g["default"]=a}),226);
__d("PolarisProfileSavedTabHeader.react",["fbt","IGDSBox.react","IGDSButton.react","IGDSText.react","PolarisUA","react","usePolarisIsSmallScreen"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function l(){var a=j(6),b=c("usePolarisIsSmallScreen")(),d=b?"center":"start",e=b?4:0,f=b?4:0;b=b?4:8;var g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("IGDSText.react").Body2,{color:"secondaryText",zeroMargin:!0,children:h._("__JHASH__bhQBlBGQZvN__JHASH__")}),a[0]=g):g=a[0];a[1]!==d||a[2]!==e||a[3]!==f||a[4]!==b?(g=k.jsx(c("IGDSBox.react"),{alignItems:d,marginBottom:4,marginEnd:e,marginStart:f,marginTop:b,position:"relative",children:g}),a[1]=d,a[2]=e,a[3]=f,a[4]=b,a[5]=g):g=a[5];return g}function a(a){var b=j(5);a=a.onClick;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:k.jsx(l,{})}),b[0]=e):e=b[0];var f;b[1]!==a?(f=d("PolarisUA").isDesktop()&&k.jsx(c("IGDSButton.react"),{label:h._("__JHASH__vm3h8lEeXiU__JHASH__"),onClick:a,variant:"primary_link"}),b[1]=a,b[2]=f):f=b[2];b[3]!==f?(a=k.jsxs(c("IGDSBox.react"),{alignItems:"baseline",direction:"row",position:"relative",children:[e,f]}),b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("PolarisVideoPostGridItemOverlay.react",["cx","IGDSBox.react","IGDSPlayPanoFilledIcon.react","IGDSText.react","PolarisAssetManagerGlyphMapping","PolarisBigNumber.react","PolarisCloseFriendsProfileIndicator.react","PolarisGenericStrings","PolarisIGCoreIcon.react","PolarisPinnedPostIcon.react","PolarisPostsGridItemOverlay.react","PolarisPostsGridItemStatsOverlay.react","PolarisShouldHideLikeCountsWithControls","PolarisUA","react","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l="linear-gradient(\n  0deg,\n  rgba(0, 0, 0, 0.4) 0%,\n  rgba(0, 0, 0, 0) 22.27%\n)";function a(a){var b=j(27),e=a.commentsDisabled,f=a.isPinnedForCurrentProfile,g=a.isSharedToCloseFriends,h=a.likeAndViewCountsDisabled,i=a.numComments,m=a.numPreviewLikes,n=a.productType,o=a.videoViews;a=a.viewerIsOwner;o=parseInt(o,10);var p=null;if(!isNaN(o)){var q;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=k.jsx(c("IGDSBox.react"),{marginEnd:d("PolarisUA").isMobile()?1:2,position:"relative",children:d("PolarisUA").isMobile()?k.jsx(c("PolarisIGCoreIcon.react"),{alt:d("PolarisGenericStrings").PLAY_ICON_ALT,icon:d("PolarisAssetManagerGlyphMapping").ICONS.PLAY_OUTLINE_12_WHITE}):k.jsx(c("IGDSPlayPanoFilledIcon.react"),{alt:d("PolarisGenericStrings").PLAY_ICON_ALT,color:"web-always-white",size:16})}),b[0]=q):q=b[0];q=q;var r;b[1]!==g?(r=g&&k.jsx("div",{className:"x1cy8zhl x972fbf xcfux6l x1qhh985 xm0m39n x1ey2m1c x1mh2kpm x9f619 x78zum5 xds687c xdt5ytf x2lah0s xln7xf2 xk390pu x1nhvcw1 xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x47corl x10l6tqk x17qophe x13vifvy x11njtxf",children:k.jsx(c("PolarisCloseFriendsProfileIndicator.react"),{size:18})}),b[1]=g,b[2]=r):r=b[2];g=r;b[3]!==f?(r=f===!0&&k.jsx("div",{className:"xds687c x10l6tqk x13vifvy",children:k.jsx(c("PolarisPinnedPostIcon.react"),{})}),b[3]=f,b[4]=r):r=b[4];f=r;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(r="_aajy",b[5]=r):r=b[5];var s;b[6]!==o?(s=o>0&&k.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:d("PolarisUA").isMobile()?"footnote":"label",weight:"semibold",children:k.jsx(c("PolarisBigNumber.react"),{shortenNumber:!0,value:o})}),b[6]=o,b[7]=s):s=b[7];b[8]!==s?(o=k.jsx("div",{className:r,children:k.jsxs(c("IGDSBox.react"),{alignItems:"center",bottom:!0,direction:"row",display:"flex",marginBottom:d("PolarisUA").isMobile()?2:4,marginStart:d("PolarisUA").isMobile()?2:4,position:"absolute",children:[q,s]})}),b[8]=s,b[9]=o):o=b[9];b[10]!==g||b[11]!==f||b[12]!==o?(r=k.jsxs(c("PolarisPostsGridItemOverlay.react"),{backgroundColor:l,children:[g,f,o]}),b[10]=g,b[11]=f,b[12]=o,b[13]=r):r=b[13];p=r}q=c("usePolarisViewer")();s=a||!d("PolarisShouldHideLikeCountsWithControls").shouldHideLikeCountsWithControls(q==null?void 0:q.hideLikeAndViewCounts,h);if(s&&!d("PolarisUA").isMobile()){b[14]===Symbol["for"]("react.memo_cache_sentinel")?(g="_aajz",b[14]=g):g=b[14];b[15]===Symbol["for"]("react.memo_cache_sentinel")?(f="_aaj-",b[15]=f):f=b[15];b[16]!==e||b[17]!==i||b[18]!==m||b[19]!==n?(o=k.jsx("div",{className:f,children:k.jsx(c("PolarisPostsGridItemStatsOverlay.react"),{commentsDisabled:e,isVideo:!0,numComments:i,numPreviewLikes:m,productType:n,videoViews:0})}),b[16]=e,b[17]=i,b[18]=m,b[19]=n,b[20]=o):o=b[20];b[21]===Symbol["for"]("react.memo_cache_sentinel")?(r="_aaj_",b[21]=r):r=b[21];b[22]!==p?(a=k.jsx("div",{className:r,children:p}),b[22]=p,b[23]=a):a=b[23];b[24]!==o||b[25]!==a?(q=k.jsxs("div",{className:g,children:[o,a]}),b[24]=o,b[25]=a,b[26]=q):q=b[26];return q}return p}g["default"]=a}),98);
__d("getPolarisVideoSourceByVersions",["PolarisMediaTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a==null?null:(a=a.find(function(a){return b.includes(d("PolarisMediaTypes").MediaVersionType.cast(a.type))}))==null?void 0:a.url}g["default"]=a}),98);
__d("polarisClipsSelectors",["polarisCreateSelectorWithArg"],(function(a,b,c,d,e,f,g){"use strict";e=c("polarisCreateSelectorWithArg")(function(a){return a==null?void 0:(a=a.clips)==null?void 0:a.byUserId},function(a){return function(b){if(a==null)return{clips:[],pagingInfo:null};b=a[b];return{clips:(b==null?void 0:b.clips)||[],pagingInfo:b==null?void 0:b.pagingInfo}}});function h(a,b){a=a==null?void 0:(a=a.clips)==null?void 0:a.byAudioId;if(a==null)return{clips:[]};a=a[b];return a==null?{clips:[]}:{clips:a.clips||[],formattedMediaCount:a.formattedMediaCount,isBookmarked:(b=a.bookmarkInfo)==null?void 0:b.isBookmarked,isMusicPageRestricted:a.isMusicPageRestricted,metadata:a.metadata,musicPageRestrictedContext:a.musicPageRestrictedContext,pagingInfo:a.pagingInfo,shouldDisableFetching:a.shouldDisableFetching}}f=function(a,b){a=(b=a==null?void 0:(a=a.clips)==null?void 0:(a=a.byAudioId)==null?void 0:(a=a[b])==null?void 0:a.bookmarkInfo)!=null?b:{bookmarkError:!1,isBookmarked:!1,isUpdatingBookmark:!1};return{bookmarkError:a.bookmarkError,isBookmarked:a.isBookmarked,isUpdatingBookmark:a.isUpdatingBookmark}};function a(a){return a.clips.isAudioPlayerPlaying===!0}c=function(a){return function(b){b=(b=h(b,a))==null?void 0:b.metadata;return!b?null:(b=b.music_info)==null?void 0:(b=b.music_asset_info)==null?void 0:b.display_artist}};var i=function(a){return function(b){var c;b=(b=h(b,a))==null?void 0:b.metadata;return!b?null:(c=b==null?void 0:(c=b.music_info)==null?void 0:(c=c.music_asset_info)==null?void 0:c.title)!=null?c:b==null?void 0:(c=b.original_sound_info)==null?void 0:c.original_audio_title}};function b(a,b){a=a==null?void 0:(a=a.clips)==null?void 0:a.byEffectId;return a==null?void 0:(a=a[b])==null?void 0:(b=a.pagingInfo)==null?void 0:b.cursor}function d(a,b){a=a==null?void 0:(a=a.clips)==null?void 0:a.byEffectId;a=a==null?void 0:a[b];return a==null?{clips:[]}:{clips:a.clips||[],effectPageRestrictedContext:a.effectPageRestrictedContext,formattedMediaCount:a.formattedMediaCount,isEffectPageRestricted:a.isEffectPageRestricted,metadata:a.metadata,pagingInfo:a.pagingInfo,shouldDisableFetching:a.shouldDisableFetching}}g.getClipsInfoFromUserId=e;g.getClipsInfoFromAudioId=h;g.getBookmarkInfo=f;g.getIsAudioPlayerPlaying=a;g.getSongArtistDisplayName=c;g.getSongName=i;g.getEffectCursor=b;g.getClipsInfoFromEffectId=d}),98);
__d("usePolarisIsNarrowScreen",["PolarisSizing","useMatchViewport"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("useMatchViewport")("max","width",d("PolarisSizing").SITE_WIDTHS.narrow)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisDesktopPostLoadingShimmer.react",["cx","PolarisIGTheme.react","PolarisReactRedux.react","PolarisSizing","polarisPostModalHelpers","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function l(a){var b,c=j(8),e=a.dimensions,f=a.postId,g=a.viewportHeight;a=a.viewportWidth;var h=a!=null&&a>d("PolarisSizing").MEDIUM_SCREEN_MIN;b=(b=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisPostSelectors").getPostOrNullById(a,(a=f)!=null?a:"")}))==null?void 0:b.isSponsored;b=d("polarisPostModalHelpers").getMediaContainerProps({dimensions:e,hasFooter:b,hasSidebarInRedesign:h,viewportHeight:(b=g)!=null?b:0,viewportWidth:(g=a)!=null?g:0});a=h&&e!=null&&e.width>=e.height;c[0]!==a?(g="_aas3"+(a?" _aas4":""),c[0]=a,c[1]=g):g=c[1];c[2]!==e?(h=k.jsx(m,{dimensions:e}),c[2]=e,c[3]=h):h=c[3];c[4]!==g||c[5]!==b||c[6]!==h?(a=k.jsx("div",babelHelpers["extends"]({className:g},b,{children:h})),c[4]=g,c[5]=b,c[6]=h,c[7]=a):a=c[7];return a}function m(a){var b=j(2);a=a.dimensions;var c={},e=d("PolarisIGTheme.react").useTheme();a&&(c.paddingBottom=d("PolarisSizing").getHeightPercent(a)+"%");a=e.getTheme()===d("PolarisIGTheme.react").IGTheme.Dark;b[0]!==a?(e="_aas5"+(a?" _aas6":""),b[0]=a,b[1]=e):e=b[1];return k.jsx("div",{className:e,style:c})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=j(5),c=a.dimensions,d=a.postId,e=a.viewportHeight;a=a.viewportWidth;var f;b[0]!==c||b[1]!==d||b[2]!==e||b[3]!==a?(f=k.jsx(l,{dimensions:c,postId:d,viewportHeight:e,viewportWidth:a}),b[0]=c,b[1]=d,b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}function a(a){var b=j(21),c=a.dimensions,d=a.postId,e=a.viewportHeight;a=a.viewportWidth;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[0]=f):f=b[0];f=f;if(c){var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g={flexDirection:"row"},b[1]=g):g=b[1];f=g}b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g="_aas7",b[2]=g):g=b[2];var h;b[3]!==c||b[4]!==d||b[5]!==e||b[6]!==a?(h=k.jsx(n,{dimensions:c,postId:d,viewportHeight:e,viewportWidth:a}),b[3]=c,b[4]=d,b[5]=e,b[6]=a,b[7]=h):h=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(c="_aas8",b[8]=c):c=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(d="_aas9",b[9]=d):d=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx("div",{className:"_aasa"}),b[10]=e):e=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(a="_aasb",b[11]=a):a=b[11];var i;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(i=k.jsx("div",{className:"_aasc"}),b[12]=i):i=b[12];b[13]===Symbol["for"]("react.memo_cache_sentinel")?(d=k.jsxs("div",{className:d,children:[e,k.jsxs("div",{className:a,children:[i,k.jsx("div",{className:"_aasd"})]})]}),b[13]=d):d=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(e="_aase",b[14]=e):e=b[14];b[15]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("div",{className:"_aasf"}),b[15]=a):a=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(i=k.jsx("div",{className:"_aasg"}),b[16]=i):i=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(c=k.jsxs("div",{className:c,children:[d,k.jsxs("div",{className:e,children:[a,i,k.jsx("div",{className:"_aash"})]})]}),b[17]=c):c=b[17];b[18]!==f||b[19]!==h?(d=k.jsxs("div",{className:g,style:f,children:[h,c]}),b[18]=f,b[19]=h,b[20]=d):d=b[20];return d}g.SIDEBAR_VARIANT_CUTOFF=d("PolarisSizing").MEDIUM_SCREEN_MIN;g.DesktopPostLoadingShimmer=a}),98);
__d("PolarisPostModalLoading.react",["IGDSBox.react","IGDSSpinner.react","PolarisDesktopPostLoadingShimmer.react","PolarisPostConstants","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(6),e=a.dimensions,f=a.postId,g=a.viewportHeight;a=a.viewportWidth;if(d("PolarisUA").isDesktop()&&a>d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF){var h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=j.jsx(d("PolarisDesktopPostLoadingShimmer.react").DesktopPostLoadingShimmer,{dimensions:e,postId:f,viewportHeight:g,viewportWidth:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:j.jsx(c("IGDSSpinner.react"),{color:"light",size:"medium"})}),b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("PolarisPostModalPaginationArrow.react",["cx","IGDSChevronIcon.react","Locale","PolarisGenericStrings","PolarisIGCoreSVGIconButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(12),e=a.direction;a=a.onClick;var f;if(b[0]!==e){var g=c("Locale").isRTL();f=e==="back"&&!g||e==="next"&&g;g=e==="next"&&!g||e==="back"&&g;g=(f?"_aaqf":"")+(g?" _aaqg":"")+" _aaqh";b[0]=e;b[1]=f;b[2]=g}else f=b[1],g=b[2];f=f?d("PolarisGenericStrings").GO_BACK:d("PolarisGenericStrings").NEXT;var h;b[3]!==f||b[4]!==e?(h=k.jsx(c("IGDSChevronIcon.react"),{alt:f,color:"web-always-black",direction:e,size:16}),b[3]=f,b[4]=e,b[5]=h):h=b[5];b[6]!==a||b[7]!==h?(f=k.jsx(c("PolarisIGCoreSVGIconButton.react"),{onClick:a,children:h}),b[6]=a,b[7]=h,b[8]=f):f=b[8];b[9]!==g||b[10]!==f?(e=k.jsx("div",{className:g,children:f}),b[9]=g,b[10]=f,b[11]=e):e=b[11];return e}g["default"]=a}),98);
__d("PolarisPostModalInternal.react",["cx","IGCoreModal.react","IGCoreModalLocation.react","PolarisAutoplayViewpointManager.react","PolarisConfig","PolarisDOMListener.react","PolarisLogger","PolarisPostActionLoadPost","PolarisPostModalLoading.react","PolarisPostModalPaginationArrow.react","PolarisPostModalRenderingContext.react","PolarisReactRedux.react","PolarisRoutes","PolarisThreadedCommentActions","getPolarisKeyCommandConfig","nullthrows","polarisPostModalHelpers","polarisPostSelectors","react","useGlobalKeyCommands","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useMemo,n=b.useRef,o={isInModal:!0};function a(a){var b=a.analyticsContext,e=a.children,f=a.combinedPostIds,g=f===void 0?[]:f;f=a["data-testid"];f=a.dimensions;var h=a.mediaLinkBuilder,i=a.modalEntryPath;i=i===void 0?d("PolarisRoutes").FEED_PATH:i;var p=a.onClose,q=a.onlyReplaceModalHistory,r=a.onOpen,s=a.postCode,t=a.postId,u=a.postModalMediaUFI,v=a.showLoadingShimmer,w=a.skipMediaInfo,x=d("PolarisReactRedux.react").useDispatch(),y=n(null);a=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisPostSelectors").getAreCommentsFetched(a,t)});var z=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisPostSelectors").getIsPostDataFetched(a,s)}),A=d("PolarisConfig").isLoggedIn()===!0?z:z&&a;z=k(function(){if(!A)if(w===!0)x(d("PolarisThreadedCommentActions").requestInitialComments(t));else{var a;x(d("PolarisPostActionLoadPost").loadPost(s,(a=u)!=null?a:t))}},[w,A,x,s,u,t]);l(z,[z]);var B=g.findIndex(function(a){return a===t}),C=k(function(a){return a>=0&&a<g.length},[g.length]),D=k(function(a){a=B+a;C(a)&&r&&r(c("nullthrows")(g[a]),a,u)},[g,B,C,r,u]),E=k(function(a){p(a),y.current!=null&&y.current.returnToEntry()},[p]);a=m(function(){return[d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("postModal","navigateLeft",function(){D(d("polarisPostModalHelpers").LEFT_DELTA)}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("postModal","navigateRight",function(){D(d("polarisPostModalHelpers").RIGHT_DELTA)}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("postModal","exit",function(){E()})]},[D,E]);c("useGlobalKeyCommands")(a);z=function(a){return function(b){if(b.metaKey||b.ctrlKey)return;b.preventDefault();b.stopPropagation();D(a);d("PolarisLogger").logAction("postModalArrowClick")}};a=k(function(){var a=d("polarisPostModalHelpers").getModalPageIdFromAnalyticsContext(b);a.length>0&&d("PolarisLogger").logPageView(a,{page_id:a,post_id:t})},[b,t]);var F=C(B-1),G=C(B+1);F=j.jsx("div",{className:"_aeap _aeaq",children:j.jsxs("div",{className:"_aear",children:[F&&j.jsx(c("PolarisPostModalPaginationArrow.react"),{direction:"back",onClick:z(d("polarisPostModalHelpers").LEFT_DELTA)}),G&&j.jsx(c("PolarisPostModalPaginationArrow.react"),{direction:"next",onClick:z(d("polarisPostModalHelpers").RIGHT_DELTA)})]})});G=c("usePolarisDisplayProperties")();z=G.viewportHeight;G=G.viewportWidth;v=j.jsx(j.Fragment,{children:!A&&v?j.jsx(c("PolarisPostModalLoading.react"),{dimensions:f,postId:t,viewportHeight:z,viewportWidth:G}):e});f=j.jsx(c("IGCoreModal.react"),{aboveContent:F,backgroundColor:"DEPRECATED_transparent",closeButtonPosition:"background","data-testid":void 0,onClose:E,size:"fullscreenResponsive",children:v});return j.jsxs(j.Fragment,{children:[j.jsx(d("PolarisAutoplayViewpointManager.react").FullscreenAutoplayViewpointClipRegion,{id:"postModal"}),j.jsx(c("IGCoreModalLocation.react"),{entryPath:i,nativeReplace:!0,onlyReplaceModalHistory:q,onUpdateHistory:a,pageID:"postPage",parentModule:"PolarisPostModal",path:h(s),ref:y}),j.jsx(c("PolarisDOMListener.react"),{event:"popstate",handler:E,once:!0,target:window}),j.jsx(d("PolarisPostModalRenderingContext.react").PolarisPostModalRenderingContext.Provider,{value:o,children:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostModal.react",["PolarisPostModalInternal.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c("PolarisPostModalInternal.react"),babelHelpers["extends"]({},a,{showLoadingShimmer:!0})),b[0]=a,b[1]=d):d=b[1];return d}g["default"]=a}),98);
__d("PolarisClipsItemModal.react",["IGRouter_DO_NOT_USE.react","PolarisClipsHelpers","PolarisLinkBuilder","PolarisPost.react","PolarisPostModal.react","PolarisPostVariants","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useRef;function a(a){var b=a.analyticsContext,e=a.clips,f=a.history,g=a.onClose,h=a.onOpen;a=a.postId;f=j(f.location.pathname);var k=d("PolarisClipsHelpers").getClipItemFromPostID(e,a);if(!k)return null;e=e.map(function(a){return c("nullthrows")((a=a.media)==null?void 0:a.pk)});return i.jsx(c("PolarisPostModal.react"),{analyticsContext:b,combinedPostIds:e,dimensions:d("PolarisClipsHelpers").getClipDimensionsFromItemDict(k),mediaLinkBuilder:d("PolarisLinkBuilder").buildClipsMediaLink,modalEntryPath:f.current,onClose:g,onOpen:h,postCode:c("nullthrows")((e=k.media)==null?void 0:e.code),postId:a,children:i.jsx(c("PolarisPost.react"),{analyticsContext:b+"Modal",autoplay:!0,id:a,isVisible:!0,variant:d("PolarisPostVariants").VARIANTS.flexible,visiblePosition:0})})}a.displayName=a.name+" [from "+f.id+"]";b=d("IGRouter_DO_NOT_USE.react").withIGRouter(a);g["default"]=b}),98);
__d("PolarisSponsoredPersistentCTAThumbnail.react",["fbt","PolarisThumbnail.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(3);a=a.thumbnailImageSrc;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__ePItbjSnMcH__JHASH__"),b[0]=d):d=b[0];b[1]!==a?(d=k.jsx(c("PolarisThumbnail.react"),{alt:d,dimension:32,src:a}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),226);
__d("useThrottled",["cr:6101"],(function(a,b,c,d,e,f,g){"use strict";f.exports=b("cr:6101")}),34);
__d("PolarisDesktopSponsoredPersistentCTA.react",["InstagramODS","InstagramWebAdEventsAuditFalcoEvent","PolarisClickEventLoggerProvider.react","PolarisClipsTabHelpers","PolarisErrorBoundary.react","PolarisNavigationHelpers","PolarisPostFooterCTA.react","PolarisPostUtils","PolarisSponsoredPersistentCTAThumbnail.react","PolarisTrackingCodeProvider.react","PolarisTrackingNodeProvider.react","getPolarisPostIdFromNativeId","polarisAdsSelectors.react","polarisPostSelectors","react","usePolarisSelector","usePolarisSponsoredPostCTAFooterDominantColor","useThrottled"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useLayoutEffect,l=b.useState,m=b.c;function n(a){var b=m(31),e=a.ctaAdditionalAnimation,f=a.ctaLinkText,g=a.domColor,h=a.entryPoint,n=a.externalURL,o=a.mediaId,p=a.mpk,q=a.post,r=a.socialContextType,s=a.thumbnailImageSrc,t=a.trackingToken;a=l(0);var u=a[0],v=a[1];a=c("usePolarisSponsoredPostCTAFooterDominantColor")({isMediaRendered:!0,mediaId:o,post:q});o=a.ctaFooterViewpointRef;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){v(d("PolarisNavigationHelpers").getNavBarDesktopWidth())},b[0]=q):q=b[0];var w=c("useThrottled")(q,d("PolarisClipsTabHelpers").WINDOW_RESIZE_THROTTLE);b[1]!==w?(a=function(){w();window.addEventListener("resize",w);return function(){window.removeEventListener("resize",w)}},q=[w],b[1]=w,b[2]=a,b[3]=q):(a=b[2],q=b[3]);k(a,q);b[4]!==t||b[5]!==r||b[6]!==h?(a=function(){c("InstagramODS").incr("web.ads.feed.link_click"),c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:t,event:"persistent_cta_click",social_context_type:r}}),h!==null&&h==="story"?c("InstagramODS").incr("web.ads.story.desktop_persistent_link_click"):c("InstagramODS").incr("web.ads.feed.persistent_link_click")},b[4]=t,b[5]=r,b[6]=h,b[7]=a):a=b[7];q=a;var x;b[8]!==h?(a=function(){h!==null&&h==="story"?c("InstagramODS").incr("web.ads.story.desktop_persistent_cta_rendered"):c("InstagramODS").incr("web.ads.feed.persistent_cta_rendered")},x=[h],b[8]=h,b[9]=a,b[10]=x):(a=b[9],x=b[10]);j(a,x);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(a="xjnlgov xixxii4 xtzzx4i",b[11]=a):a=b[11];x="translateX(calc(-50% + "+u/2+"px))";b[12]!==x?(u={transform:x},b[12]=x,b[13]=u):u=b[13];b[14]!==s?(x=i.jsx(c("PolarisSponsoredPersistentCTAThumbnail.react"),{thumbnailImageSrc:s}),b[14]=s,b[15]=x):x=b[15];b[16]!==e||b[17]!==g||b[18]!==n||b[19]!==x||b[20]!==q||b[21]!==f?(s=i.jsx(c("PolarisPostFooterCTA.react"),{ctaAdditionalAnimation:e,ctaDominantColor:g,disableAnimation:!0,externalURL:n,forceBottomBorder:!1,icon:x,isActive:!0,isForAd:!0,isForPersistentCta:!0,onClick:q,showChevron:!0,showRoundedBorder:!0,text:f}),b[16]=e,b[17]=g,b[18]=n,b[19]=x,b[20]=q,b[21]=f,b[22]=s):s=b[22];b[23]!==o||b[24]!==u||b[25]!==s?(e=i.jsx(c("PolarisClickEventLoggerProvider.react"),{children:i.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:86,children:i.jsx("div",{className:a,ref:o,style:u,children:s})})}),b[23]=o,b[24]=u,b[25]=s,b[26]=e):e=b[26];b[27]!==p||b[28]!==t||b[29]!==e?(g=i.jsx(c("PolarisTrackingCodeProvider.react"),{isSponsored:!0,m_pk:p,trackingToken:t,children:e}),b[27]=p,b[28]=t,b[29]=e,b[30]=g):g=b[30];return g}function a(a){var b,e=m(11),f=a.entryPoint,g=a.mpk,h=c("getPolarisPostIdFromNativeId")(g);e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){return a},e[0]=g):g=e[0];g=d("polarisAdsSelectors.react").useFeedAdInfo(h,g);var j;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(a){return a},e[1]=j):j=e[1];j=d("polarisAdsSelectors.react").useStoryAdInfo(h,j);j=f!==null&&f==="story"?j:g;g=c("usePolarisSelector")(function(a){return d("polarisPostSelectors").getPostById(a,h)});var k=g.isSidecar,l=g.src,o=g.thumbnailSrc;k=k===!0?(k=d("PolarisPostUtils").getCurrentSidecarItemFromPost(g,0))==null?void 0:k.id:g.id;o=(o=o)!=null?o:l;if(k==null||o==null)return null;l=j==null?void 0:(l=j.ctaItems)==null?void 0:(l=l.get(k))==null?void 0:l.ctaLinkUrl;b=j==null?void 0:(b=j.ctaItems)==null?void 0:(b=b.get(k))==null?void 0:b.ctaLinkText;j=j==null?void 0:(j=j.ctaItems)==null?void 0:(j=j.get(k))==null?void 0:j.ctaDominantColor;if(l==null||b==null)return null;var p;e[2]!==a||e[3]!==b||e[4]!==j||e[5]!==f||e[6]!==l||e[7]!==k||e[8]!==g||e[9]!==o?(p=i.jsx(c("PolarisErrorBoundary.react"),{children:i.jsx(n,babelHelpers["extends"]({},a,{ctaLinkText:b,domColor:j,entryPoint:f,externalURL:l,mediaId:k,post:g,thumbnailImageSrc:o}))}),e[2]=a,e[3]=b,e[4]=j,e[5]=f,e[6]=l,e[7]=k,e[8]=g,e[9]=o,e[10]=p):p=e[10];return p}g["default"]=a}),98);
__d("PolarisProfileTabTaggedPhotosConstants",[],(function(a,b,c,d,e,f){"use strict";a="tagged";f.TAGGED_TAB_ID=a}),66);
__d("PolarisInstantPostModal.react",["PolarisPostModalInternal.react","PolarisProfileTabTaggedPhotosConstants","polarisPostModalHelpers","polarisPostSelectors","react","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b,e=i(6),f=!1,g=d("polarisPostModalHelpers").getModalPageIdFromAnalyticsContext(a.analyticsContext)==="profilePageModal";b=((b=a.modalEntryPath)==null?void 0:b.endsWith("/"+d("PolarisProfileTabTaggedPhotosConstants").TAGGED_TAB_ID+"/"))===!0;g=g&&!b;var h;e[0]!==a.postId?(h=function(b){return d("polarisPostSelectors").getPostOrNullById(b,a.postId)},e[0]=a.postId,e[1]=h):h=e[1];h=c("usePolarisSelector")(h);(h==null||b&&h.isVideo===!0)&&(f=!0);e[2]!==a||e[3]!==f||e[4]!==g?(b=j.jsx(c("PolarisPostModalInternal.react"),babelHelpers["extends"]({},a,{showLoadingShimmer:f,skipMediaInfo:g})),e[2]=a,e[3]=f,e[4]=g,e[5]=b):b=e[5];return b}g["default"]=a}),98);
__d("PolarisMediaBrowserPostModal.react",["invariant","PolarisInstantPostModal.react","PolarisIsLoggedInDesktop","PolarisPost.react","PolarisPostVariants","PolarisReactRedux.react","PolarisRoutes","isStringNullOrEmpty","nullthrows","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.c;function a(a){var b=l(22),e=a.analyticsContext,f=a.combinedPosts,g=a.mediaLinkBuilder,i=a.modalEntryPath,m=a.onClose,n=a.onOpen,o=a.postId;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){return d("polarisPostSelectors").getDeletedIds(a)},b[0]=a):a=b[0];var p=d("PolarisReactRedux.react").useSelector(a);if(b[1]!==f){b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){return a.id},b[3]=a):a=b[3];a=f.map(a);b[1]=f;b[2]=a}else a=b[2];f=a;b[4]!==o?(a=function(a){return d("polarisPostSelectors").getPostOrNullById(a,o)},b[4]=o,b[5]=a):a=b[5];var q=d("PolarisReactRedux.react").useSelector(a);k(function(){q==null&&(p.includes(o)||h(0,51476),m())},[p,m,q,o]);if(q==null)return null;a=c("isStringNullOrEmpty")(i)?d("PolarisRoutes").FEED_PATH:i;i=c("nullthrows")(q.code);var r=e+"Modal",s;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(s=d("PolarisIsLoggedInDesktop").isLoggedInDesktop(),b[6]=s):s=b[6];b[7]!==r||b[8]!==o||b[9]!==q.code?(s=j.jsx(c("PolarisPost.react"),{analyticsContext:r,autoplay:s,id:o,isVisible:!0,shortcode:q.code,testid:void 0,variant:d("PolarisPostVariants").VARIANTS.flexible,visiblePosition:0}),b[7]=r,b[8]=o,b[9]=q.code,b[10]=s):s=b[10];b[11]!==e||b[12]!==f||b[13]!==q.dimensions||b[14]!==g||b[15]!==a||b[16]!==m||b[17]!==n||b[18]!==i||b[19]!==o||b[20]!==s?(r=j.jsx(c("PolarisInstantPostModal.react"),{analyticsContext:e,combinedPostIds:f,dimensions:q.dimensions,mediaLinkBuilder:g,modalEntryPath:a,onClose:m,onOpen:n,postCode:i,postId:o,children:s}),b[11]=e,b[12]=f,b[13]=q.dimensions,b[14]=g,b[15]=a,b[16]=m,b[17]=n,b[18]=i,b[19]=o,b[20]=s,b[21]=r):r=b[21];return r}g["default"]=a}),98);
__d("PolarisMobileSponsoredPersistentCTA.react",["InstagramODS","InstagramWebAdEventsAuditFalcoEvent","PolarisClickEventLoggerProvider.react","PolarisErrorBoundary.react","PolarisPostFooterCTA.react","PolarisPostUtils","PolarisSponsoredPersistentCTAThumbnail.react","PolarisTrackingCodeProvider.react","PolarisTrackingNodeProvider.react","getPolarisPostIdFromNativeId","polarisAdsSelectors.react","polarisPostSelectors","react","usePolarisSelector","usePolarisSponsoredPostCTAFooterDominantColor"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c,l=60;function m(a){var b=k(27),d=a.bottomOffset,e=a.ctaAdditionalAnimation,f=a.ctaLinkText,g=a.domColor,h=a.entryPoint,m=a.externalURL,n=a.mediaId,o=a.mpk,p=a.post,q=a.socialContextType,r=a.thumbnailImageSrc,s=a.trackingToken;a=c("usePolarisSponsoredPostCTAFooterDominantColor")({isMediaRendered:!0,mediaId:n,post:p});n=a.ctaFooterViewpointRef;b[0]!==s||b[1]!==q||b[2]!==h?(p=function(){c("InstagramODS").incr("web.ads.feed.link_click"),c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:s,event:"persistent_cta_click",social_context_type:q}}),h!==null&&h==="story"?c("InstagramODS").incr("web.ads.story.msite_persistent_link_click"):c("InstagramODS").incr("web.ads.feed.persistent_link_click")},b[0]=s,b[1]=q,b[2]=h,b[3]=p):p=b[3];a=p;d=l+((p=d)!=null?p:0)+"px";b[4]!==d?(p={bottom:d},b[4]=d,b[5]=p):p=b[5];d=p;var t;b[6]!==h?(p=function(){h!==null&&h==="story"?c("InstagramODS").incr("web.ads.story.msite_persistent_cta_rendered"):c("InstagramODS").incr("web.ads.feed.persistent_cta_rendered")},t=[h],b[6]=h,b[7]=p,b[8]=t):(p=b[7],t=b[8]);j(p,t);b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p="x1escl5o xixxii4 xtzzx4i xr6a42u x11uqc5h",b[9]=p):p=b[9];b[10]!==r?(t=i.jsx(c("PolarisSponsoredPersistentCTAThumbnail.react"),{thumbnailImageSrc:r}),b[10]=r,b[11]=t):t=b[11];b[12]!==e||b[13]!==g||b[14]!==m||b[15]!==t||b[16]!==a||b[17]!==f?(r=i.jsx(c("PolarisPostFooterCTA.react"),{ctaAdditionalAnimation:e,ctaDominantColor:g,disableAnimation:!0,externalURL:m,forceBottomBorder:!1,icon:t,isActive:!0,isForAd:!0,isForPersistentCta:!0,onClick:a,showChevron:!0,showRoundedBorder:!0,text:f}),b[12]=e,b[13]=g,b[14]=m,b[15]=t,b[16]=a,b[17]=f,b[18]=r):r=b[18];b[19]!==n||b[20]!==d||b[21]!==r?(e=i.jsx(c("PolarisClickEventLoggerProvider.react"),{children:i.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:86,children:i.jsx("div",{className:p,ref:n,style:d,children:r})})}),b[19]=n,b[20]=d,b[21]=r,b[22]=e):e=b[22];b[23]!==o||b[24]!==s||b[25]!==e?(g=i.jsx(c("PolarisTrackingCodeProvider.react"),{isSponsored:!0,m_pk:o,trackingToken:s,children:e}),b[23]=o,b[24]=s,b[25]=e,b[26]=g):g=b[26];return g}function a(a){var b,e=k(11),f=a.entryPoint,g=a.mpk,h=c("getPolarisPostIdFromNativeId")(g);e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){return a},e[0]=g):g=e[0];g=d("polarisAdsSelectors.react").useFeedAdInfo(h,g);var j;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(a){return a},e[1]=j):j=e[1];j=d("polarisAdsSelectors.react").useStoryAdInfo(h,j);j=f!==null&&f==="story"?j:g;g=c("usePolarisSelector")(function(a){return d("polarisPostSelectors").getPostById(a,h)});var l=g.isSidecar,n=g.src,o=g.thumbnailSrc;l=l===!0?(l=d("PolarisPostUtils").getCurrentSidecarItemFromPost(g,0))==null?void 0:l.id:g.id;o=(o=o)!=null?o:n;if(l==null||o==null)return null;n=j==null?void 0:(n=j.ctaItems)==null?void 0:(n=n.get(l))==null?void 0:n.ctaLinkUrl;b=j==null?void 0:(b=j.ctaItems)==null?void 0:(b=b.get(l))==null?void 0:b.ctaLinkText;j=j==null?void 0:(j=j.ctaItems)==null?void 0:(j=j.get(l))==null?void 0:j.ctaDominantColor;if(n==null||b==null)return null;var p;e[2]!==a||e[3]!==b||e[4]!==j||e[5]!==f||e[6]!==n||e[7]!==l||e[8]!==g||e[9]!==o?(p=i.jsx(c("PolarisErrorBoundary.react"),{children:i.jsx(m,babelHelpers["extends"]({},a,{ctaLinkText:b,domColor:j,entryPoint:f,externalURL:n,mediaId:l,post:g,thumbnailImageSrc:o}))}),e[2]=a,e[3]=b,e[4]=j,e[5]=f,e[6]=n,e[7]=l,e[8]=g,e[9]=o,e[10]=p):p=e[10];return p}g["default"]=a}),98);
__d("PolarisNewsMultiregionBlock.react",["fbt","CountryNames","IGDSBox.react","IGDSNewsOffOutlineIcon.react","IGDSText.react","ISOCountryCode","PolarisAdvisoryMessage.react","PolarisExternalLink.react","SableNewsEventFalcoEvent","react","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.c,m="https://help.instagram.com/273556485011659?ref=ipl",n="https://help.instagram.com/969434367391841?ref=ipl";function a(a){var b=l(22),d=a.isOwnProfile,e=a.regulatedNewsInUserLocation,f=a.userID,g=c("usePolarisViewer")();if(b[0]!==e){a=(a=e.at(0))!=null?a:"";b[0]=e;b[1]=a}else a=b[1];e=a;b[2]!==e?(a=e?c("CountryNames")[c("ISOCountryCode")[e]]:h._("__JHASH__lSlTfmrjRu8__JHASH__"),b[2]=e,b[3]=a):a=b[3];e=a;b[4]!==f||b[5]!==g||b[6]!==d?(a=function(){c("SableNewsEventFalcoEvent").log(function(){var a;return{account_viewed_id:f,event_name:"publisher_profile_block",ig_user_id:(a=g==null?void 0:g.id)!=null?a:"0",viewer_is_regulated_c18:d}})},b[4]=f,b[5]=g,b[6]=d,b[7]=a):a=b[7];var i=g==null?void 0:g.id,o;b[8]!==f||b[9]!==i||b[10]!==d?(o=[f,i,d],b[8]=f,b[9]=i,b[10]=d,b[11]=o):o=b[11];k(a,o);b[12]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("IGDSBox.react"),{marginBottom:3,children:j.jsx(c("IGDSNewsOffOutlineIcon.react"),{alt:"Icon indicating that news is disabled",size:32})}),b[12]=i):i=b[12];b[13]!==d||b[14]!==e?(a=j.jsx(c("IGDSText.react"),{weight:"bold",children:d?h._("__JHASH__j4BdJiAmfBq__JHASH__",[h._param("location_name",e)]):h._("__JHASH__j3TpUyoGjJQ__JHASH__",[h._param("location_name",e)])}),b[13]=d,b[14]=e,b[15]=a):a=b[15];b[16]!==d||b[17]!==e?(o=j.jsx("p",{children:j.jsx(c("IGDSText.react"),{color:"secondaryText",children:d?h._("__JHASH__XQT0vTpBZFp__JHASH__",[h._param("location_name",e),h._implicitParam("=m5",j.jsx(c("PolarisExternalLink.react"),{href:n,children:h._("__JHASH__VceBg119dr1__JHASH__")}))]):h._("__JHASH__SkB0P-2uSlh__JHASH__",[h._param("location_name",e),h._implicitParam("=m5",j.jsx(c("PolarisExternalLink.react"),{href:m,children:h._("__JHASH__ZKffTQhHH4K__JHASH__")}))])})}),b[16]=d,b[17]=e,b[18]=o):o=b[18];b[19]!==a||b[20]!==o?(e=j.jsxs(c("PolarisAdvisoryMessage.react"),{children:[i,a,o]}),b[19]=a,b[20]=o,b[21]=e):e=b[21];return e}g["default"]=a}),226);
__d("useThrottledComet",["CometThrottle","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useLayoutEffect,k=b.useRef;function a(a,b){b===void 0&&(b=100);var d=k(a);j(function(){d.current=a},[a]);var e=c("useStable")(function(){return c("CometThrottle")(function(){var a=arguments;return d.current==null?void 0:d.current.apply(d,a)},b)});i(function(){return function(){e.cancel()}},[]);return e}g["default"]=a}),98);
__d("useThrottledImpl",["cr:1708227"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1708227")}),98);/*FB_PKG_DELIM*/
__d("isEmptyObject",[],(function(a,b,c,d,e,f){"use strict";function a(a){for(a in a)return!1;return!0}f["default"]=a}),66);
__d("AsyncDataPreloader",["AsyncData","isEmptyObject"],(function(a,b,c,d,e,f,g){var h=new Map();a=function(){function a(a){var b=this;a=a.id;this.$1=a;this.$2=d("AsyncData").getPreloaderRef_INTERNAL(this.$1);this.$2.onLoaded(function(a){c("isEmptyObject")(a)&&h.set(b.getPreloaderName(),!0)});h.set(this.getPreloaderName(),!1)}var b=a.prototype;b.getID=function(){return this.$1};b.peek=function(){return this.$2.peek()};b.onLoaded=function(a){h.set(this.getPreloaderName(),!0);this.$2.onLoaded(a);return this};b.onError=function(a){h.set(this.getPreloaderName(),!0);this.$2.onError(a);return this};b.cleanup=function(){d("AsyncData").cleanup(this.$1)};b.getContextProvider=function(){return null};b.getPreloaderName=function(){return this.$1.replace(/^adp_(.*)_[a-z0-9]+$/,"$1")};a.getUsageMap=function(){return h};return a}();g["default"]=a}),98);
__d("BTManifestName",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MAIN:"main",LONGTAIL:"longtail"});c=a;f["default"]=c}),66);
__d("BtLongtailHashFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5779");b=d("FalcoLoggerInternal").create("bt_longtail_hash",a);e=b;g["default"]=e}),98);
__d("CometBTManifestLoader",["BootloaderEvents","BtLongtailHashFalcoEvent","ClientConsistencyEventEmitter","FBLogger","ODS","Promise","SiteData","XHRRequest","asyncToGeneratorRuntime","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set();function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,e,f){var g=(yield new(i||(i=b("Promise")))(function(b,g){new(c("XHRRequest"))(a+"/btmanifest/"+e+"/"+d+"/"+f).setMethod("GET").setResponseHandler(function(a){return b(a.toString())}).setErrorHandler(function(a){return g(a)}).send()}));if(typeof g!=="string")throw c("FBLogger")("binary_transparency","bt_invalid_manifest_response").mustfixThrow("Invalid response from BT manifest endpoint");return g});return l.apply(this,arguments)}function m(a,b){(h||(h=d("ODS"))).bumpEntityKey(454,"obc.www.all","bt.comet_manifest_loader."+Number(d("SiteData").compose_bootloads)+"."+d("SiteData").pkg_cohort+"."+a+"."+b)}function n(a,b,d){var e;if(d instanceof Error)e=d;else if(typeof d==="object"){var f=JSON.stringify(d);e=c("err")("(XHRRequest): %s",f.slice(0,300)+(f.length>300?"...":""))}else e=c("err")(d);c("FBLogger")("binary_transparency","bt_download_manifest_error").catching(e).mustfix('Unable to download and inject BT manifest "%s" for version: %s',b,a)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("SiteData").manifest_origin||d("SiteData").manifest_version_prefix==null||d("SiteData").manifest_base_uri==null)return;var c=a+"_"+b;a=""+d("SiteData").manifest_version_prefix+a;if(j.has(c))return;m(b,"start");j.add(c);try{var e,f=document.createElement("script");f.innerText=(yield k(d("SiteData").manifest_base_uri,d("SiteData").manifest_origin,a,b));f.type="application/json";f.setAttribute("name","binary-transparency-manifest");f.dataset.manifestRev=a;f.dataset.manifestType=b;(e=document.head)==null?void 0:e.appendChild(f);m(b,"complete")}catch(d){m(b,"failed"),n(a,b,d),j["delete"](c)}});return p.apply(this,arguments)}function a(){c("promiseDone")(o(d("SiteData").client_revision,"main")),d("BootloaderEvents").onResourceInLongTailBTManifest(function(a){c("promiseDone")(o(d("SiteData").client_revision,"longtail")),a.hashes.forEach(function(b){c("BtLongtailHashFalcoEvent").log(function(){return{client_revision:String(d("SiteData").client_revision),compose_bootloads:d("SiteData").compose_bootloads,ef_page:d("SiteData").ef_page||"",hash:b,pkg_cohort:d("SiteData").pkg_cohort,reference:a.source,rls_id:d("SiteData").hsi}})})}),c("ClientConsistencyEventEmitter").addListener("newRevision",function(a){c("promiseDone")(o(a,"main")),c("promiseDone")(o(a,"longtail"))})}g.init=a}),98);
__d("IgFrCookieUpdaterFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5694");b=d("FalcoLoggerInternal").create("ig_fr_cookie_updater",a);e=b;g["default"]=e}),98);
__d("PolarisAPIGetFrCookieQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"_request_data"},{defaultValue:null,kind:"LocalArgument",name:"payload"}],b=[{alias:null,args:[{kind:"Variable",name:"_request_data",variableName:"_request_data"},{kind:"Variable",name:"payload",variableName:"payload"}],concreteType:"XDTGetEncryptedCredentialsResponse",kind:"LinkedField",name:"xdt_api__v1__web__accounts__get_encrypted_credentials",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fr",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisAPIGetFrCookieQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisAPIGetFrCookieQuery",selections:b},params:{id:"7704059802947387",metadata:{},name:"PolarisAPIGetFrCookieQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisAPIGetFrCookie",["CometRelay","PolarisAPIGetFrCookieQuery.graphql","PolarisInstapi","err","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return c("justknobx")._("999")?d("CometRelay").fetchQuery(e,h!==void 0?h:h=b("PolarisAPIGetFrCookieQuery.graphql"),{_request_data:{},payload:a}).toPromise().then(function(a){if(a==null)throw c("err")("Failed to get Fr cookie.");return{fr:a.xdt_api__v1__web__accounts__get_encrypted_credentials.fr}}):d("PolarisInstapi").apiPost("/api/v1/web/accounts/get_encrypted_credentials/",{body:{payload:a}}).then(function(a){return a.data})}g.getFrCookie=a}),98);
__d("buildIframeOriginUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a}g["default"]=a}),98);
__d("PolarisFacebookCookieSyncConstants",["URI","buildIframeOriginUrl"],(function(a,b,c,d,e,f,g){"use strict";var h;a={error:"ig_iframe_error",ig_sync:"ig_iframe_ig_sync",ig_sync_error:"ig_iframe_ig_sync_error",ig_sync_success:"ig_iframe_ig_sync_success",ready:"ig_iframe_ready",success:"ig_iframe_success",sync:"ig_iframe_fb_sync"};b=c("buildIframeOriginUrl")("https://www.facebook.com");d=new(h||(h=c("URI")))(b).getDomain();e="fr";g.IFRAME_MESSAGES=a;g.IFRAME_ORIGIN=b;g.IFRAME_DOMAIN=d;g.FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY=e}),98);
__d("XPolarisFacebookSyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sync/instagram/",{})}),null);
__d("PolarisFacebookToInstagramCookieSync.react",["FBLogger","InstagramODS","PolarisFacebookCookieSyncConstants","SecureMessageListener","SecurePostMessage","XAsyncRequest","XPolarisFacebookSyncController","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.c;function a(a){var b=j(6),e=a.frameRef,f=a.onCleanUp;b[0]!==e.current||b[1]!==f?(a=function(){var a=function(){c("InstagramODS").incr("web.cookie_sync.oo_cookie.start_fb_sync");var a=e.current;(a==null?void 0:a.contentWindow)!=null&&d("SecurePostMessage").sendMessageToSpecificOrigin(a.contentWindow,{eventName:d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync},d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN)},b=function(b){if(b.origin!==d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN)return;var e=b.data.eventName;bb13:switch(e){case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ready:a();break bb13;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync_success:c("InstagramODS").incr("web.cookie_sync.oo_cookie.retrieve_success");e=c("XPolarisFacebookSyncController").getURIBuilder().getURI();new(c("XAsyncRequest"))().setURI(e).setMethod("POST").setData({encrypted_data:(e=b.data.data)==null?void 0:e.data}).setHandler(function(a){c("InstagramODS").incr("web.cookie_sync.oo_cookie.sync_success")}).setErrorHandler(function(a){c("InstagramODS").incr("web.cookie_sync.oo_cookie.sync_fail");a=(a=a.errorDescription)!=null?a:"Error when syncing ig cookies";c("FBLogger")("ig_web").mustfix(a)}).send();f();break bb13;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync_error:c("InstagramODS").incr("web.cookie_sync.oo_cookie.retrieve_error");b=(e=b.data.errorDescription)!=null?e:"Exception thrown when syncing cookie to sync ig cookie";c("FBLogger")("ig_web").mustfix(b);f()}},g=new(c("SecureMessageListener"))(window).setEventHandler(b).setSupportedOrigins([d("PolarisFacebookCookieSyncConstants").IFRAME_DOMAIN]).beginListening();return function(){g.stopListening()}},b[0]=e.current,b[1]=f,b[2]=a):a=b[2];var g;b[3]!==e||b[4]!==f?(g=[e,f],b[3]=e,b[4]=f,b[5]=g):g=b[5];i(a,g);return null}g["default"]=a}),98);
__d("PolarisInstagramToFacebookCookieSync.react",["CometRelay","FBLogger","IgFrCookieUpdaterFalcoEvent","InstagramODS","PolarisAPIGetFrCookie","PolarisAdsGatingHelpers","PolarisConfig","PolarisDOMListener.react","PolarisFacebookCookieSyncConstants","PolarisWebStorage","SecurePostMessage","browserHistory_DO_NOT_USE","gkx","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=Number(new Date().getTime());function m(a){var b=new Date().getTime()-l;a.total_latency=b.toString();a.country=d("PolarisConfig").getCountryCode();c("IgFrCookieUpdaterFalcoEvent").log(function(){return a})}function a(a){var b=a.frameRef,e=a.frData,f=a.onCleanUp,g=c("gkx")("25372"),h=c("gkx")("1835"),l=c("gkx")("1836");a=(a=c("usePolarisViewer")())==null?void 0:a.id;var n=d("browserHistory_DO_NOT_USE").getPath(d("browserHistory_DO_NOT_USE").browserHistory),o=d("CometRelay").useRelayEnvironment(),p=d("PolarisAdsGatingHelpers").useEUFRCookieODSLogging();n=k({browser_history_path:n,iframe_origin:d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:a,is_blacklisted:!1,is_control_group:!1,is_local_storage_accessible:!1,local_storage_data:e,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});var q=n.current;j(function(){g||(q.is_blacklisted=!0,m(q),f())},[]);a=function(a){var b=a.data.eventName;q.iframe_message_origin=a.origin;if(a.origin!==d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN){b in d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES&&(q.iframe_message_origin_mismatch=!0,m(q));return}switch(b){case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ready:c("InstagramODS").incr("web.frcookie.iframe.ready");p&&(c("InstagramODS").incr("web.eu.frcookie.iframe.ready"),h?c("InstagramODS").incr("web.eu.frcookie.iframe.ready.control"):l&&c("InstagramODS").incr("web.eu.frcookie.iframe.ready.test"));q.iframe_message_ready=!0;r();break;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.success:c("InstagramODS").incr("web.frcookie.iframe.success");p&&(c("InstagramODS").incr("web.eu.frcookie.iframe.success"),h?c("InstagramODS").incr("web.eu.frcookie.iframe.success.control"):l&&c("InstagramODS").incr("web.eu.frcookie.iframe.success.test"));q.iframe_message_success=!0;m(q);f();break;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.error:c("InstagramODS").incr("web.frcookie.iframe.error");p&&(c("InstagramODS").incr("web.eu.frcookie.iframe.error"),h?c("InstagramODS").incr("web.eu.frcookie.iframe.error.control"):l&&c("InstagramODS").incr("web.eu.frcookie.iframe.error.test"));s();q.iframe_message_error=!0;m(q);break}};var r=function(){q.iframe_non_null=!1;q.iframe_content_window_non_null=!1;var a=b.current;if(a==null)return;e==null&&(c("InstagramODS").incr("web.frcookie.local_storage.empty"),p&&(c("InstagramODS").incr("web.eu.frcookie.local_storage.empty"),h?c("InstagramODS").incr("web.eu.frcookie.local_storage.empty.control"):l&&c("InstagramODS").incr("web.eu.frcookie.local_storage.empty.test")));d("PolarisAPIGetFrCookie").getFrCookie(e,o).then(function(b){q.api_data=b.fr;if(b.fr===e){m(q);f();return}q.local_storage_same_as_api=!1;var g=c("PolarisWebStorage").getLocalStorage();if(g==null){m(q);f();return}q.is_local_storage_accessible=!0;if(b.fr===""){g.removeItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY);c("InstagramODS").incr("web.frcookie.local_storage.remove");p&&(c("InstagramODS").incr("web.eu.frcookie.local_storage.remove"),h?c("InstagramODS").incr("web.eu.frcookie.local_storage.remove.control"):l&&c("InstagramODS").incr("web.eu.frcookie.local_storage.remove.test"));m(q);f();return}g.setItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY,b.fr);q.show_iframe=!0;q.local_storage_updated=!0;q.iframe_payload=b.fr;q.iframe_non_null=!0;a.contentWindow!=null&&(q.iframe_content_window_non_null=!0,d("SecurePostMessage").sendMessageToSpecificOrigin(a.contentWindow,{data:b.fr,eventName:d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.sync},d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN));c("InstagramODS").incr("web.frcookie.local_storage.update");p&&(c("InstagramODS").incr("web.eu.frcookie.local_storage.update"),h?c("InstagramODS").incr("web.eu.frcookie.local_storage.update.control"):l&&c("InstagramODS").incr("web.eu.frcookie.local_storage.update.test"))})["catch"](function(a){c("InstagramODS").incr("web.frcookie.get.error"),p&&(c("InstagramODS").incr("web.eu.frcookie.get.error"),h?c("InstagramODS").incr("web.eu.frcookie.get.error.control"):l&&c("InstagramODS").incr("web.eu.frcookie.get.error.test")),q.exception=a.toString(),m(q),c("FBLogger")("ig_web").catching(a).mustfix("Exception thrown when getting frCookie"),s()})},s=function(){var a=c("PolarisWebStorage").getLocalStorage();c("PolarisWebStorage").isLocalStorageSupported()&&a!=null&&a.removeItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY);f()};return g&&i.jsx(c("PolarisDOMListener.react"),{event:"message",handler:a,target:window})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFacebookCookieSyncImpl.react",["IgFrCookieUpdaterFalcoEvent","JSScheduler","PolarisDOMListener.react","PolarisFacebookCookieSyncConstants","PolarisFacebookToInstagramCookieSync.react","PolarisInstagramToFacebookCookieSync.react","PolarisReactRedux.react","PolarisUA","PolarisWebStorage","RunComet","browserHistory_DO_NOT_USE","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState,n=d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN+"/instagram/login_sync/",o=["terms","challenge"],p=3,q=Number(new Date().getTime());function r(a){var b=new Date().getTime()-q;a.total_latency=b.toString();c("IgFrCookieUpdaterFalcoEvent").log(function(){return a})}var s=function(){if(!d("PolarisUA").isIGWebview()&&c("PolarisWebStorage").isLocalStorageSupported()){var a=c("PolarisWebStorage").getLocalStorage();if(a!=null)return a.getItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY)}return null};function t(a){var b;a=a.frData;var e=l(null);b=(b=c("usePolarisViewer")())==null?void 0:b.id;b=l({browser_history_path:d("browserHistory_DO_NOT_USE").getPath(d("browserHistory_DO_NOT_USE").browserHistory),iframe_origin:d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:b,is_blacklisted:!1,is_control_group:!1,is_local_storage_accessible:!1,local_storage_data:a,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});var f=b.current;b=function(){f.iframe_unload=!0};var g=m(!1),i=g[0],o=g[1];k(function(){var a=null,b=null,e=d("RunComet").onAfterLoad(function(){a=(h||(h=c("JSScheduler"))).scheduleLoggingPriCallback(function(){b=window.setTimeout(function(){o(!0)},p*1e3)})});return function(){b&&window.clearTimeout(b),a&&(h||(h=c("JSScheduler"))).cancelCallback(a),e&&e.remove()}},[]);g=m(!1);var q=g[0],s=g[1];g=m(!1);var t=g[0],u=g[1];g=q&&t;return!i?null:j.jsxs(j.Fragment,{children:[j.jsx("div",{hidden:!0,children:j.jsx("iframe",{onError:function(){f.iframe_on_error=!0,r(f)},onLoad:function(){f.iframe_on_load=!0},ref:e,src:n,style:{border:"none",display:"none",height:0,width:0},title:"fr"})}),g?null:j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisInstagramToFacebookCookieSync.react"),{frameRef:e,frData:a,onCleanUp:function(){return s(!0)}}),j.jsx(c("PolarisFacebookToInstagramCookieSync.react"),{frameRef:e,onCleanUp:function(){return u(!0)}}),j.jsx(c("PolarisDOMListener.react"),{event:"beforeunload",handler:b,target:window})]})]})}t.displayName=t.name+" [from "+f.id+"]";function a(){var a,b=d("PolarisReactRedux.react").useSelector(function(a){return!!(a==null?void 0:(a=a.cookieModal)==null?void 0:a.visible)});a=(a=c("usePolarisViewer")())==null?void 0:a.id;if(b)return null;var e=d("browserHistory_DO_NOT_USE").getPath(d("browserHistory_DO_NOT_USE").browserHistory);if(o.some(function(a){return e.includes(a)})){r({browser_history_path:e,iframe_origin:d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:a,is_blacklisted:!0,is_control_group:!1,is_local_storage_accessible:!1,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});return null}return j.jsx(t,{frData:s()})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedActionScrolledToTop",[],(function(a,b,c,d,e,f){"use strict";function a(){return{type:"FEED_SCROLLED_TO_TOP"}}f.scrolledToTop=a}),66);
__d("PolarisFeedPagePostModal.react",["PolarisErrorBoundary.react","PolarisIsLoggedInDesktop","PolarisLinkBuilder","PolarisMonitorErrors","PolarisPanavisionQEHelpers","PolarisPost.react","PolarisPostModal.react","PolarisReactRedux.react","PolarisRoutes","PolarisSponsoredPost.react","err","nullthrows","polarisPostSelectors","react","usePolarisFeedAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b,e=k(18),f=a.mediaIdUFI,g=a.onClose,h=a.onOpen,l=a.postId;a=a.sidecarIndex;var m,n;e[0]!==g?(m=function(){return function(){g()}},n=[g],e[0]=g,e[1]=m,e[2]=n):(m=e[1],n=e[2]);j(m,n);e[3]!==l?(m=function(a){return d("polarisPostSelectors").getPostById(a,l)},e[3]=l,e[4]=m):m=e[4];n=c("nullthrows")(d("PolarisReactRedux.react").useSelector(m));e[5]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(a){return a.ads.feed},e[5]=m):m=e[5];m=d("PolarisReactRedux.react").useSelector(m);var o=new Set(Array.from(m.keys()));m=n.code;n=n.dimensions;var p=c("usePolarisFeedAnalyticsContext")(),q=function(a){d("PolarisMonitorErrors").logError(a),d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp()&&(o.has(l)?d("PolarisMonitorErrors").logError(c("err")("PolarisFeedPagePostModal.react threw an error for ad in Relay",l)):d("PolarisMonitorErrors").logError(c("err")("PolarisFeedPagePostModal.react threw an error for post in Relay",l)))};m=m||"";a=o.has(l)?i.jsx(c("PolarisSponsoredPost.react"),{analyticsContext:p+"Modal",autoplay:d("PolarisIsLoggedInDesktop").isLoggedInDesktop(),id:l,initialCarouselIndex:(b=a)!=null?b:void 0,isVisible:!0,visiblePosition:0}):i.jsx(c("PolarisPost.react"),{analyticsContext:p+"Modal",autoplay:d("PolarisIsLoggedInDesktop").isLoggedInDesktop(),id:l,initialCarouselIndex:(b=a)!=null?b:void 0,isVisible:!0,visiblePosition:0});e[6]!==p||e[7]!==n||e[8]!==g||e[9]!==h||e[10]!==m||e[11]!==l||e[12]!==f||e[13]!==a?(b=i.jsx(c("PolarisPostModal.react"),{analyticsContext:p,"data-testid":void 0,dimensions:n,mediaLinkBuilder:d("PolarisLinkBuilder").buildMediaLink,modalEntryPath:d("PolarisRoutes").FEED_PATH,onClose:g,onOpen:h,postCode:m,postId:l,postModalMediaUFI:f,children:a}),e[6]=p,e[7]=n,e[8]=g,e[9]=h,e[10]=m,e[11]=l,e[12]=f,e[13]=a,e[14]=b):b=e[14];e[15]!==q||e[16]!==b?(p=i.jsx(c("PolarisErrorBoundary.react"),{onError:q,children:b}),e[15]=q,e[16]=b,e[17]=p):p=e[17];return p}g["default"]=a}),98);
__d("PolarisNewPostsPill.react",["fbt","PolarisLogger","PolarisPill.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(6),e=a.onClick;b[0]!==e?(a=function(){d("PolarisLogger").logAction("newPostsPillClick"),e()},b[0]=e,b[1]=a):a=b[1];a=a;var f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f="xds687c xixxii4 x17qophe x1n327nk",b[2]=f):f=b[2];var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__0iQ7o-ke_8i__JHASH__"),b[3]=g):g=b[3];b[4]!==a?(f=k.jsx("div",{className:f,children:k.jsx(c("PolarisPill.react"),{marginTop:2,onClick:a,children:g})}),b[4]=a,b[5]=f):f=b[5];return f}g["default"]=a}),226);
__d("usePolarisRefreshFeedData",["PolarisFeedActionConstants","PolarisFeedActionRefreshFeedData","PolarisFeedLastHeadLoadContext.react","PolarisFeedSeenStateManagerSingleton","PolarisReactRedux.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c;function a(){var a=i(3),b=d("PolarisReactRedux.react").useDispatch(),e=d("PolarisFeedLastHeadLoadContext.react").useSetLastHeadLoadMs(),f;a[0]!==b||a[1]!==e?(f=function(a,f){a=a===void 0?d("PolarisFeedActionConstants").PAGE_SIZE:a;f=f===void 0?!1:f;var g=c("PolarisFeedSeenStateManagerSingleton").get();if(g.count()>0){var h=g.getViewInfo();g.clear();b(d("PolarisFeedActionRefreshFeedData").refreshFeedData(a,f,h))}else b(d("PolarisFeedActionRefreshFeedData").refreshFeedData(a,f));e(Date.now())},a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}g["default"]=a}),98);
__d("PolarisLightweightNewPostsPill.react",["CometRouteParams","InstagramODS","PolarisFeedActionScrolledToTop","PolarisFeedVariants","PolarisNewPostsPill.react","PolarisNewPostsPillActions","PolarisReactRedux.react","XPolarisFeedControllerRouteBuilder","polarisNewPostsPillSelectors","react","useCometRouterDispatcher","usePolarisLightweightNewPostsPillCheck","usePolarisRefreshFeedData"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef;function a(a){var b=a.alwaysUseCometDispatch,e=a.scrollToTopElement,f=d("PolarisReactRedux.react").useSelector(d("polarisNewPostsPillSelectors").checkHasNewPosts),g=d("PolarisReactRedux.react").useSelector(d("polarisNewPostsPillSelectors").getDocumentVisibilityHiddenTimestamp);a=d("CometRouteParams").useRouteParams();var h=a.variant,m=c("useCometRouterDispatcher")(),n=d("PolarisReactRedux.react").useDispatch(),o=c("usePolarisLightweightNewPostsPillCheck")(),p=l(!0),q=c("usePolarisRefreshFeedData")(),r=j(function(){if(document.visibilityState==="visible")o(g);else{var a=Date.now();n(d("PolarisNewPostsPillActions").setDocumentVisibilityHiddenTimestamp(a))}},[o,n,g]),s=j(function(){c("InstagramODS").incr("web.feed.lightweight_new_posts_pill.triggered");n(d("PolarisNewPostsPillActions").setNewPostsPillVisibility(!1));if(b===!0||h!=null&&c("PolarisFeedVariants").cast(String(h))!=="home"){var a=c("XPolarisFeedControllerRouteBuilder").buildURL({}),f={refreshFeed:!0};m==null?void 0:m.go(a,{passthroughProps:f});return}e?e.scrollIntoView():window.scrollTo(0,0);n(d("PolarisFeedActionScrolledToTop").scrolledToTop());q()},[m,n,q,e,h]),t=j(function(){f===!0&&window.scrollY===0&&s()},[f,s]);k(function(){document.addEventListener("visibilitychange",r);document.addEventListener("scroll",t);return function(){document.removeEventListener("visibilitychange",r),document.removeEventListener("scroll",t)}},[r,t]);k(function(){p.current===!0&&(p.current=!1,f===!0&&s())},[o,f,s]);return f?i.jsx(c("PolarisNewPostsPill.react"),{onClick:s}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("babel-runtime-7.14.0",["regenerator-runtime-0.13.5"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=c,h=a(b("regenerator-runtime-0.13.5"));d={};var i={exports:d};function aa(){function a(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}i.exports=a;i.exports["default"]=i.exports,i.exports.__esModule=!0}var j=!1;function k(){j||(j=!0,aa());return i.exports}f={};var l={exports:f};function ba(){function a(a){var b;typeof Symbol!=="undefined"&&(Symbol.asyncIterator&&(b=a[Symbol.asyncIterator]),b==null&&Symbol.iterator&&(b=a[Symbol.iterator]));b==null&&(b=a["@@asyncIterator"]);b==null&&(b=a["@@iterator"]);if(b==null)throw new TypeError("Object is not async iterable");return b.call(a)}l.exports=a;l.exports["default"]=l.exports,l.exports.__esModule=!0}var m=!1;function ca(){m||(m=!0,ba());return l.exports}a={};var n={exports:a};function da(){function a(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function b(b){return function(){var c=this,d=arguments;return new Promise(function(e,f){var g=b.apply(c,d);function h(b){a(g,e,f,h,i,"next",b)}function i(b){a(g,e,f,h,i,"throw",b)}h(void 0)})}}n.exports=b;n.exports["default"]=n.exports,n.exports.__esModule=!0}var o=!1;function ea(){o||(o=!0,da());return n.exports}b={};var p={exports:b};function fa(){function a(a){this.wrapped=a}p.exports=a;p.exports["default"]=p.exports,p.exports.__esModule=!0}var ga=!1;function ha(){ga||(ga=!0,fa());return p.exports}d={};var q={exports:d};function ia(){var a=ha();function b(b){return new a(b)}q.exports=b;q.exports["default"]=q.exports,q.exports.__esModule=!0}var ja=!1;function ka(){ja||(ja=!0,ia());return q.exports}f={};var r={exports:f};function la(){function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}r.exports=a;r.exports["default"]=r.exports,r.exports.__esModule=!0}var ma=!1;function na(){ma||(ma=!0,la());return r.exports}a={};var s={exports:a};function oa(){function a(b,c){s.exports=a=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};s.exports["default"]=s.exports,s.exports.__esModule=!0;return a(b,c)}s.exports=a;s.exports["default"]=s.exports,s.exports.__esModule=!0}var pa=!1;function t(){pa||(pa=!0,oa());return s.exports}b={};var u={exports:b};function qa(){function a(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return!0}catch(a){return!1}}u.exports=a;u.exports["default"]=u.exports,u.exports.__esModule=!0}var ra=!1;function sa(){ra||(ra=!0,qa());return u.exports}d={};var v={exports:d};function ta(){var a=t(),b=sa();function c(d,e,f){b()?(v.exports=c=Reflect.construct,(v.exports["default"]=v.exports,v.exports.__esModule=!0)):(v.exports=c=function(b,c,d){var e=[null];e.push.apply(e,c);c=Function.bind.apply(b,e);b=new c();d&&a(b,d.prototype);return b},(v.exports["default"]=v.exports,v.exports.__esModule=!0));return c.apply(null,arguments)}v.exports=c;v.exports["default"]=v.exports,v.exports.__esModule=!0}var ua=!1;function va(){ua||(ua=!0,ta());return v.exports}f={};var w={exports:f};function wa(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function b(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}w.exports=b;w.exports["default"]=w.exports,w.exports.__esModule=!0}var xa=!1;function ya(){xa||(xa=!0,wa());return w.exports}a={};var x={exports:a};function za(){function a(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}x.exports=a;x.exports["default"]=x.exports,x.exports.__esModule=!0}var Aa=!1;function Ba(){Aa||(Aa=!0,za());return x.exports}b={};var y={exports:b};function Ca(){function a(){y.exports=a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};y.exports["default"]=y.exports,y.exports.__esModule=!0;return a.apply(this,arguments)}y.exports=a;y.exports["default"]=y.exports,y.exports.__esModule=!0}var Da=!1;function Ea(){Da||(Da=!0,Ca());return y.exports}d={};var z={exports:d};function Fa(){function a(b){z.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};z.exports["default"]=z.exports,z.exports.__esModule=!0;return a(b)}z.exports=a;z.exports["default"]=z.exports,z.exports.__esModule=!0}var Ga=!1;function A(){Ga||(Ga=!0,Fa());return z.exports}f={};var B={exports:f};function Ha(){var a=A();function b(b,c){while(!Object.prototype.hasOwnProperty.call(b,c)){b=a(b);if(b===null)break}return b}B.exports=b;B.exports["default"]=B.exports,B.exports.__esModule=!0}var Ia=!1;function Ja(){Ia||(Ia=!0,Ha());return B.exports}a={};var C={exports:a};function Ka(){var a=Ja();function b(c,d,e){typeof Reflect!=="undefined"&&Reflect.get?(C.exports=b=Reflect.get,(C.exports["default"]=C.exports,C.exports.__esModule=!0)):(C.exports=b=function(b,c,d){b=a(b,c);if(!b)return;b=Object.getOwnPropertyDescriptor(b,c);return b.get?b.get.call(d):b.value},(C.exports["default"]=C.exports,C.exports.__esModule=!0));return b(c,d,e||c)}C.exports=b;C.exports["default"]=C.exports,C.exports.__esModule=!0}var La=!1;function Ma(){La||(La=!0,Ka());return C.exports}b={};var D={exports:b};function Na(){var a=t();function b(b,c){if(typeof c!=="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,writable:!0,configurable:!0}});c&&a(b,c)}D.exports=b;D.exports["default"]=D.exports,D.exports.__esModule=!0}var Oa=!1;function Pa(){Oa||(Oa=!0,Na());return D.exports}d={};var E={exports:d};function Qa(){var a=t();function b(b,c){b.prototype=Object.create(c.prototype),b.prototype.constructor=b,a(b,c)}E.exports=b;E.exports["default"]=E.exports,E.exports.__esModule=!0}var Ra=!1;function Sa(){Ra||(Ra=!0,Qa());return E.exports}f={};var F={exports:f};function Ta(){function a(a){return a&&a.__esModule?a:{"default":a}}F.exports=a;F.exports["default"]=F.exports,F.exports.__esModule=!0}var Ua=!1;function Va(){Ua||(Ua=!0,Ta());return F.exports}a={};var G={exports:a};function Wa(){var a=g("/helpers/typeof")["default"];function b(a){if(typeof WeakMap!=="function")return null;var c=new WeakMap(),d=new WeakMap();return(b=function(a){return a?d:c})(a)}function c(c,d){if(!d&&c&&c.__esModule)return c;if(c===null||a(c)!=="object"&&typeof c!=="function")return{"default":c};d=b(d);if(d&&d.has(c))return d.get(c);var e={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in c)if(g!=="default"&&Object.prototype.hasOwnProperty.call(c,g)){var h=f?Object.getOwnPropertyDescriptor(c,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=c[g]}e["default"]=c;d&&d.set(c,e);return e}G.exports=c;G.exports["default"]=G.exports,G.exports.__esModule=!0}var Xa=!1;function Ya(){Xa||(Xa=!0,Wa());return G.exports}b={};var H={exports:b};function Za(){var a=Ba();function b(b){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?Object(arguments[c]):{},e=Object.keys(d);typeof Object.getOwnPropertySymbols==="function"&&(e=e.concat(Object.getOwnPropertySymbols(d).filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable})));e.forEach(function(c){a(b,c,d[c])})}return b}H.exports=b;H.exports["default"]=H.exports,H.exports.__esModule=!0}var $a=!1;function ab(){$a||($a=!0,Za());return H.exports}d={};var I={exports:d};function bb(){function a(a,b){if(a==null)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++){e=d[f];if(b.indexOf(e)>=0)continue;c[e]=a[e]}return c}I.exports=a;I.exports["default"]=I.exports,I.exports.__esModule=!0}var cb=!1;function db(){cb||(cb=!0,bb());return I.exports}f={};var J={exports:f};function eb(){var a=db();function b(b,c){if(b==null)return{};var d=a(b,c),e,f;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(b);for(f=0;f<g.length;f++){e=g[f];if(c.indexOf(e)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(b,e))continue;d[e]=b[e]}}return d}J.exports=b;J.exports["default"]=J.exports,J.exports.__esModule=!0}var fb=!1;function gb(){fb||(fb=!0,eb());return J.exports}a={};var K={exports:a};function hb(){var a=g("/helpers/typeof")["default"],b=k();function c(c,d){return d&&(a(d)==="object"||typeof d==="function")?d:b(c)}K.exports=c;K.exports["default"]=K.exports,K.exports.__esModule=!0}var ib=!1;function jb(){ib||(ib=!0,hb());return K.exports}b={};var L={exports:b};function kb(){function a(a){throw new TypeError('"'+a+'" is read-only')}L.exports=a;L.exports["default"]=L.exports,L.exports.__esModule=!0}var lb=!1;function mb(){lb||(lb=!0,kb());return L.exports}d={};var M={exports:d};function nb(){function a(a){if(Array.isArray(a))return a}M.exports=a;M.exports["default"]=M.exports,M.exports.__esModule=!0}var ob=!1;function pb(){ob||(ob=!0,nb());return M.exports}f={};var N={exports:f};function qb(){function a(a,b){var c=a&&(typeof Symbol!=="undefined"&&a[Symbol.iterator]||a["@@iterator"]);if(c==null)return;var d=[],e=!0,f=!1,g;try{for(c=c.call(a);!(e=(a=c.next()).done);e=!0){d.push(a.value);if(b&&d.length===b)break}}catch(a){f=!0,g=a}finally{try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}return d}N.exports=a;N.exports["default"]=N.exports,N.exports.__esModule=!0}var rb=!1;function sb(){rb||(rb=!0,qb());return N.exports}a={};var O={exports:a};function tb(){function a(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}O.exports=a;O.exports["default"]=O.exports,O.exports.__esModule=!0}var ub=!1;function vb(){ub||(ub=!0,tb());return O.exports}b={};var P={exports:b};function wb(){var a=vb();function b(b,c){if(!b)return;if(typeof b==="string")return a(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);d==="Object"&&b.constructor&&(d=b.constructor.name);if(d==="Map"||d==="Set")return Array.from(b);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return a(b,c)}P.exports=b;P.exports["default"]=P.exports,P.exports.__esModule=!0}var xb=!1;function yb(){xb||(xb=!0,wb());return P.exports}d={};var Q={exports:d};function zb(){function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Q.exports=a;Q.exports["default"]=Q.exports,Q.exports.__esModule=!0}var Ab=!1;function Bb(){Ab||(Ab=!0,zb());return Q.exports}f={};var R={exports:f};function Cb(){var a=pb(),b=sb(),c=yb(),d=Bb();function e(e,f){return a(e)||b(e,f)||c(e,f)||d()}R.exports=e;R.exports["default"]=R.exports,R.exports.__esModule=!0}var Db=!1;function Eb(){Db||(Db=!0,Cb());return R.exports}a={};var S={exports:a};function Fb(){var a=vb();function b(b){if(Array.isArray(b))return a(b)}S.exports=b;S.exports["default"]=S.exports,S.exports.__esModule=!0}var Gb=!1;function Hb(){Gb||(Gb=!0,Fb());return S.exports}b={};var T={exports:b};function Ib(){function a(a){if(typeof Symbol!=="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}T.exports=a;T.exports["default"]=T.exports,T.exports.__esModule=!0}var Jb=!1;function Kb(){Jb||(Jb=!0,Ib());return T.exports}d={};var U={exports:d};function Lb(){function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}U.exports=a;U.exports["default"]=U.exports,U.exports.__esModule=!0}var Mb=!1;function Nb(){Mb||(Mb=!0,Lb());return U.exports}f={};var V={exports:f};function Ob(){var a=Hb(),b=Kb(),c=yb(),d=Nb();function e(e){return a(e)||b(e)||c(e)||d()}V.exports=e;V.exports["default"]=V.exports,V.exports.__esModule=!0}var Pb=!1;function Qb(){Pb||(Pb=!0,Ob());return V.exports}a={};var W={exports:a};function Rb(){function a(b){typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?(W.exports=a=function(a){return typeof a},(W.exports["default"]=W.exports,W.exports.__esModule=!0)):(W.exports=a=function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},(W.exports["default"]=W.exports,W.exports.__esModule=!0));return a(b)}W.exports=a;W.exports["default"]=W.exports,W.exports.__esModule=!0}var Sb=!1;function Tb(){Sb||(Sb=!0,Rb());return W.exports}b={};var X={exports:b};function Ub(){var a=ha();function b(b){var c,d;function e(a,b){return new Promise(function(e,g){e={key:a,arg:b,resolve:e,reject:g,next:null};d?d=d.next=e:(c=d=e,f(a,b))})}function f(c,d){try{var e=b[c](d);d=e.value;var h=d instanceof a;Promise.resolve(h?d.wrapped:d).then(function(a){if(h){f(c==="return"?"return":"next",a);return}g(e.done?"return":"normal",a)},function(a){f("throw",a)})}catch(a){g("throw",a)}}function g(a,b){switch(a){case"return":c.resolve({value:b,done:!0});break;case"throw":c.reject(b);break;default:c.resolve({value:b,done:!1});break}c=c.next;c?f(c.key,c.arg):d=null}this._invoke=e;typeof b["return"]!=="function"&&(this["return"]=void 0)}b.prototype[typeof Symbol==="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this};b.prototype.next=function(a){return this._invoke("next",a)};b.prototype["throw"]=function(a){return this._invoke("throw",a)};b.prototype["return"]=function(a){return this._invoke("return",a)};X.exports=b;X.exports["default"]=X.exports,X.exports.__esModule=!0}var Vb=!1;function Wb(){Vb||(Vb=!0,Ub());return X.exports}d={};var Y={exports:d};function Xb(){var a=Wb();function b(b){return function(){return new a(b.apply(this,arguments))}}Y.exports=b;Y.exports["default"]=Y.exports,Y.exports.__esModule=!0}var Yb=!1;function Zb(){Yb||(Yb=!0,Xb());return Y.exports}f={};var Z={exports:f};function $b(){function a(a){return Function.toString.call(a).indexOf("[native code]")!==-1}Z.exports=a;Z.exports["default"]=Z.exports,Z.exports.__esModule=!0}var ac=!1;function bc(){ac||(ac=!0,$b());return Z.exports}a={};var $={exports:a};function cc(){var a=A(),b=t(),c=bc(),d=va();function e(f){var g=typeof Map==="function"?new Map():void 0;$.exports=e=function(e){if(e===null||!c(e))return e;if(typeof e!=="function")throw new TypeError("Super expression must either be null or a function");if(typeof g!=="undefined"){if(g.has(e))return g.get(e);g.set(e,f)}function f(){return d(e,arguments,a(this).constructor)}f.prototype=Object.create(e.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}});return b(f,e)};$.exports["default"]=$.exports,$.exports.__esModule=!0;return e(f)}$.exports=e;$.exports["default"]=$.exports,$.exports.__esModule=!0}var dc=!1;function ec(){dc||(dc=!0,cc());return $.exports}b={};var fc={exports:b};function gc(){fc.exports=h()}var hc=!1;function ic(){hc||(hc=!0,gc());return fc.exports}function c(a){switch(a){case void 0:throw new Error("Cannot require the default exported value from a package listed as excluded");case"/helpers/assertThisInitialized":return k();case"/helpers/asyncIterator":return ca();case"/helpers/asyncToGenerator":return ea();case"/helpers/awaitAsyncGenerator":return ka();case"/helpers/classCallCheck":return na();case"/helpers/construct":return va();case"/helpers/createClass":return ya();case"/helpers/defineProperty":return Ba();case"/helpers/extends":return Ea();case"/helpers/get":return Ma();case"/helpers/getPrototypeOf":return A();case"/helpers/inherits":return Pa();case"/helpers/inheritsLoose":return Sa();case"/helpers/interopRequireDefault":return Va();case"/helpers/interopRequireWildcard":return Ya();case"/helpers/objectSpread":return ab();case"/helpers/objectWithoutProperties":return gb();case"/helpers/objectWithoutPropertiesLoose":return db();case"/helpers/possibleConstructorReturn":return jb();case"/helpers/readOnlyError":return mb();case"/helpers/slicedToArray":return Eb();case"/helpers/toConsumableArray":return Qb();case"/helpers/typeof":return Tb();case"/helpers/wrapAsyncGenerator":return Zb();case"/helpers/wrapNativeSuper":return ec();case"/regenerator":return ic()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("use-composed-ref-1.1.0",["react-0.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("react-0.0.0")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});var a=g(),b=function(a,b){if(typeof a==="function"){a(b);return}a.current=b},c=function(c,d){var e=a.useRef();return a.useCallback(function(a){c.current=a;e.current&&b(e.current,null);e.current=d;if(!d)return;b(d,a)},[d])};h["default"]=c}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("use-isomorphic-layout-effect-1.1.2",["react-0.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("react-0.0.0")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});var a=g();a="undefined"!=typeof document?a.useLayoutEffect:a.useEffect;h["default"]=a}var k=!1;function l(){k||(k=!0,j());return i.exports}d={};var m={exports:d};function n(){m.exports=l()}var o=!1;function p(){o||(o=!0,n());return m.exports}function c(a){switch(a){case void 0:return p()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("use-latest-1.2.0",["react-0.0.0","use-isomorphic-layout-effect-1.1.2"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("react-0.0.0")),h=a(b("use-isomorphic-layout-effect-1.1.2")),i={},j={exports:i};function k(){function a(a){return a&&"object"==typeof a&&"default"in a?a["default"]:a}Object.defineProperty(i,"__esModule",{value:!0});var b=g(),c=a(h());a=function(a){var d=b.useRef(a);return c(function(){d.current=a}),d};i["default"]=a}var l=!1;function m(){l||(l=!0,k());return j.exports}d={};var n={exports:d};function o(){n.exports=m()}var p=!1;function q(){p||(p=!0,o());return n.exports}function c(a){switch(a){case void 0:return q()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("react-textarea-autosize-8.3.2",["babel-runtime-7.14.0","react-0.0.0","use-latest-1.2.0","use-composed-ref-1.1.0"],(function(a,b,c,d,e,f){"use strict";var g=b("babel-runtime-7.14.0"),h=b("react-0.0.0"),i=b("use-latest-1.2.0"),j=b("use-composed-ref-1.1.0"),k={},l={exports:k};function m(){Object.defineProperty(k,"__esModule",{value:!0});var a=g("/helpers/extends"),b=g("/helpers/objectWithoutPropertiesLoose"),c=h(),d=i(),e=j();function f(a){return a&&a.__esModule?a:{"default":a}}var l=f(d),m=f(e),n={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},o=function(a){Object.keys(n).forEach(function(b){a.style.setProperty(b,n[b],"important")})},p=null,q=function(a,b){a=a.scrollHeight;return b.sizingStyle.boxSizing==="border-box"?a+b.borderSize:a-b.paddingSize};function r(a,b,c,d){c===void 0&&(c=1);d===void 0&&(d=Infinity);p||(p=document.createElement("textarea"),p.setAttribute("tab-index","-1"),p.setAttribute("aria-hidden","true"),o(p));p.parentNode===null&&document.body.appendChild(p);var e=a.paddingSize,f=a.borderSize,g=a.sizingStyle,h=g.boxSizing;Object.keys(g).forEach(function(a){a=a;p.style[a]=g[a]});o(p);p.value=b;b=q(p,a);p.value="x";a=p.scrollHeight-e;c=a*c;h==="border-box"&&(c=c+e+f);b=Math.max(c,b);c=a*d;h==="border-box"&&(c=c+e+f);b=Math.min(c,b);return[b,a]}var s=function(){},t=function(a,b){return a.reduce(function(a,c){a[c]=b[c];return a},{})},u=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],v=typeof document!=="undefined"?!!document.documentElement.currentStyle:!1,w=function(a){a=window.getComputedStyle(a);if(a===null)return null;a=t(u,a);var b=a.boxSizing;if(b==="")return null;v&&b==="border-box"&&(a.width=parseFloat(a.width)+parseFloat(a.borderRightWidth)+parseFloat(a.borderLeftWidth)+parseFloat(a.paddingRight)+parseFloat(a.paddingLeft)+"px");b=parseFloat(a.paddingBottom)+parseFloat(a.paddingTop);var c=parseFloat(a.borderBottomWidth)+parseFloat(a.borderTopWidth);return{sizingStyle:a,paddingSize:b,borderSize:c}},x=function(a){var b=l["default"](a);c.useLayoutEffect(function(){var a=function(a){b.current(a)};window.addEventListener("resize",a);return function(){window.removeEventListener("resize",a)}},[])};d=function(d,e){var f=d.cacheMeasurements,g=d.maxRows,h=d.minRows,i=d.onChange,j=i===void 0?s:i;i=d.onHeightChange;var k=i===void 0?s:i;i=b(d,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var l=i.value!==void 0,n=c.useRef(null);d=m["default"](n,e);var o=c.useRef(0),p=c.useRef(),q=function(){var a=n.current,b=f&&p.current?p.current:w(a);if(!b)return;p.current=b;b=r(b,a.value||a.placeholder||"x",h,g);var c=b[0];b=b[1];o.current!==c&&(o.current=c,a.style.setProperty("height",c+"px","important"),k(c,{rowHeight:b}))};e=function(a){l||q(),j(a)};typeof document!=="undefined"&&(c.useLayoutEffect(q),x(q));return c.createElement("textarea",a({},i,{onChange:e,ref:d}))};f=c.forwardRef(d);k["default"]=f}var n=!1;function o(){n||(n=!0,m());return l.exports}c={};var p={exports:c};function q(){p.exports=o()}var r=!1;function s(){r||(r=!0,q());return p.exports}function a(a){switch(a){case void 0:return s()}}e.exports=a}),null);
__d("react-textarea-autosize",["react-textarea-autosize-8.3.2"],(function(a,b,c,d,e,f){e.exports=b("react-textarea-autosize-8.3.2")()}),null);